(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ld={exports:{}},al={},ud={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function EA(){if(c_)return Ye;c_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function d(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function _(j,B,K){this.props=j,this.context=B,this.refs=T,this.updater=K||g}_.prototype.isReactComponent={},_.prototype.setState=function(j,B){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,B,"setState")},_.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function w(){}w.prototype=_.prototype;function S(j,B,K){this.props=j,this.context=B,this.refs=T,this.updater=K||g}var R=S.prototype=new w;R.constructor=S,E(R,_.prototype),R.isPureReactComponent=!0;var b=Array.isArray,M=Object.prototype.hasOwnProperty,U={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function I(j,B,K){var ne,te={},$=null,J=null;if(B!=null)for(ne in B.ref!==void 0&&(J=B.ref),B.key!==void 0&&($=""+B.key),B)M.call(B,ne)&&!k.hasOwnProperty(ne)&&(te[ne]=B[ne]);var oe=arguments.length-2;if(oe===1)te.children=K;else if(1<oe){for(var se=Array(oe),pe=0;pe<oe;pe++)se[pe]=arguments[pe+2];te.children=se}if(j&&j.defaultProps)for(ne in oe=j.defaultProps,oe)te[ne]===void 0&&(te[ne]=oe[ne]);return{$$typeof:n,type:j,key:$,ref:J,props:te,_owner:U.current}}function L(j,B){return{$$typeof:n,type:j.type,key:B,ref:j.ref,props:j.props,_owner:j._owner}}function O(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function C(j){var B={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(K){return B[K]})}var D=/\/+/g;function N(j,B){return typeof j=="object"&&j!==null&&j.key!=null?C(""+j.key):B.toString(36)}function H(j,B,K,ne,te){var $=typeof j;($==="undefined"||$==="boolean")&&(j=null);var J=!1;if(j===null)J=!0;else switch($){case"string":case"number":J=!0;break;case"object":switch(j.$$typeof){case n:case e:J=!0}}if(J)return J=j,te=te(J),j=ne===""?"."+N(J,0):ne,b(te)?(K="",j!=null&&(K=j.replace(D,"$&/")+"/"),H(te,B,K,"",function(pe){return pe})):te!=null&&(O(te)&&(te=L(te,K+(!te.key||J&&J.key===te.key?"":(""+te.key).replace(D,"$&/")+"/")+j)),B.push(te)),1;if(J=0,ne=ne===""?".":ne+":",b(j))for(var oe=0;oe<j.length;oe++){$=j[oe];var se=ne+N($,oe);J+=H($,B,K,se,te)}else if(se=d(j),typeof se=="function")for(j=se.call(j),oe=0;!($=j.next()).done;)$=$.value,se=ne+N($,oe++),J+=H($,B,K,se,te);else if($==="object")throw B=String(j),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return J}function G(j,B,K){if(j==null)return j;var ne=[],te=0;return H(j,ne,"","",function($){return B.call(K,$,te++)}),ne}function Z(j){if(j._status===-1){var B=j._result;B=B(),B.then(function(K){(j._status===0||j._status===-1)&&(j._status=1,j._result=K)},function(K){(j._status===0||j._status===-1)&&(j._status=2,j._result=K)}),j._status===-1&&(j._status=0,j._result=B)}if(j._status===1)return j._result.default;throw j._result}var Q={current:null},re={transition:null},Y={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:re,ReactCurrentOwner:U};function W(){throw Error("act(...) is not supported in production builds of React.")}return Ye.Children={map:G,forEach:function(j,B,K){G(j,function(){B.apply(this,arguments)},K)},count:function(j){var B=0;return G(j,function(){B++}),B},toArray:function(j){return G(j,function(B){return B})||[]},only:function(j){if(!O(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ye.Component=_,Ye.Fragment=t,Ye.Profiler=o,Ye.PureComponent=S,Ye.StrictMode=r,Ye.Suspense=h,Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Ye.act=W,Ye.cloneElement=function(j,B,K){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ne=E({},j.props),te=j.key,$=j.ref,J=j._owner;if(B!=null){if(B.ref!==void 0&&($=B.ref,J=U.current),B.key!==void 0&&(te=""+B.key),j.type&&j.type.defaultProps)var oe=j.type.defaultProps;for(se in B)M.call(B,se)&&!k.hasOwnProperty(se)&&(ne[se]=B[se]===void 0&&oe!==void 0?oe[se]:B[se])}var se=arguments.length-2;if(se===1)ne.children=K;else if(1<se){oe=Array(se);for(var pe=0;pe<se;pe++)oe[pe]=arguments[pe+2];ne.children=oe}return{$$typeof:n,type:j.type,key:te,ref:$,props:ne,_owner:J}},Ye.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},Ye.createElement=I,Ye.createFactory=function(j){var B=I.bind(null,j);return B.type=j,B},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(j){return{$$typeof:f,render:j}},Ye.isValidElement=O,Ye.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:Z}},Ye.memo=function(j,B){return{$$typeof:m,type:j,compare:B===void 0?null:B}},Ye.startTransition=function(j){var B=re.transition;re.transition={};try{j()}finally{re.transition=B}},Ye.unstable_act=W,Ye.useCallback=function(j,B){return Q.current.useCallback(j,B)},Ye.useContext=function(j){return Q.current.useContext(j)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(j){return Q.current.useDeferredValue(j)},Ye.useEffect=function(j,B){return Q.current.useEffect(j,B)},Ye.useId=function(){return Q.current.useId()},Ye.useImperativeHandle=function(j,B,K){return Q.current.useImperativeHandle(j,B,K)},Ye.useInsertionEffect=function(j,B){return Q.current.useInsertionEffect(j,B)},Ye.useLayoutEffect=function(j,B){return Q.current.useLayoutEffect(j,B)},Ye.useMemo=function(j,B){return Q.current.useMemo(j,B)},Ye.useReducer=function(j,B,K){return Q.current.useReducer(j,B,K)},Ye.useRef=function(j){return Q.current.useRef(j)},Ye.useState=function(j){return Q.current.useState(j)},Ye.useSyncExternalStore=function(j,B,K){return Q.current.useSyncExternalStore(j,B,K)},Ye.useTransition=function(){return Q.current.useTransition()},Ye.version="18.3.1",Ye}var f_;function nf(){return f_||(f_=1,ud.exports=EA()),ud.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function wA(){if(h_)return al;h_=1;var n=nf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,m){var v,y={},d=null,g=null;m!==void 0&&(d=""+m),h.key!==void 0&&(d=""+h.key),h.ref!==void 0&&(g=h.ref);for(v in h)r.call(h,v)&&!a.hasOwnProperty(v)&&(y[v]=h[v]);if(f&&f.defaultProps)for(v in h=f.defaultProps,h)y[v]===void 0&&(y[v]=h[v]);return{$$typeof:e,type:f,key:d,ref:g,props:y,_owner:o.current}}return al.Fragment=t,al.jsx=u,al.jsxs=u,al}var d_;function TA(){return d_||(d_=1,ld.exports=wA()),ld.exports}var V=TA(),he=nf();const Le=Wm(he);var fc={},cd={exports:{}},In={},fd={exports:{}},hd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function bA(){return p_||(p_=1,function(n){function e(re,Y){var W=re.length;re.push(Y);e:for(;0<W;){var j=W-1>>>1,B=re[j];if(0<o(B,Y))re[j]=Y,re[W]=B,W=j;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var Y=re[0],W=re.pop();if(W!==Y){re[0]=W;e:for(var j=0,B=re.length,K=B>>>1;j<K;){var ne=2*(j+1)-1,te=re[ne],$=ne+1,J=re[$];if(0>o(te,W))$<B&&0>o(J,te)?(re[j]=J,re[$]=W,j=$):(re[j]=te,re[ne]=W,j=ne);else if($<B&&0>o(J,W))re[j]=J,re[$]=W,j=$;else break e}}return Y}function o(re,Y){var W=re.sortIndex-Y.sortIndex;return W!==0?W:re.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var h=[],m=[],v=1,y=null,d=3,g=!1,E=!1,T=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(re){for(var Y=t(m);Y!==null;){if(Y.callback===null)r(m);else if(Y.startTime<=re)r(m),Y.sortIndex=Y.expirationTime,e(h,Y);else break;Y=t(m)}}function b(re){if(T=!1,R(re),!E)if(t(h)!==null)E=!0,Z(M);else{var Y=t(m);Y!==null&&Q(b,Y.startTime-re)}}function M(re,Y){E=!1,T&&(T=!1,w(I),I=-1),g=!0;var W=d;try{for(R(Y),y=t(h);y!==null&&(!(y.expirationTime>Y)||re&&!C());){var j=y.callback;if(typeof j=="function"){y.callback=null,d=y.priorityLevel;var B=j(y.expirationTime<=Y);Y=n.unstable_now(),typeof B=="function"?y.callback=B:y===t(h)&&r(h),R(Y)}else r(h);y=t(h)}if(y!==null)var K=!0;else{var ne=t(m);ne!==null&&Q(b,ne.startTime-Y),K=!1}return K}finally{y=null,d=W,g=!1}}var U=!1,k=null,I=-1,L=5,O=-1;function C(){return!(n.unstable_now()-O<L)}function D(){if(k!==null){var re=n.unstable_now();O=re;var Y=!0;try{Y=k(!0,re)}finally{Y?N():(U=!1,k=null)}}else U=!1}var N;if(typeof S=="function")N=function(){S(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,G=H.port2;H.port1.onmessage=D,N=function(){G.postMessage(null)}}else N=function(){_(D,0)};function Z(re){k=re,U||(U=!0,N())}function Q(re,Y){I=_(function(){re(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){E||g||(E=!0,Z(M))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(re){switch(d){case 1:case 2:case 3:var Y=3;break;default:Y=d}var W=d;d=Y;try{return re()}finally{d=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,Y){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var W=d;d=re;try{return Y()}finally{d=W}},n.unstable_scheduleCallback=function(re,Y,W){var j=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?j+W:j):W=j,re){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=W+B,re={id:v++,callback:Y,priorityLevel:re,startTime:W,expirationTime:B,sortIndex:-1},W>j?(re.sortIndex=W,e(m,re),t(h)===null&&re===t(m)&&(T?(w(I),I=-1):T=!0,Q(b,W-j))):(re.sortIndex=B,e(h,re),E||g||(E=!0,Z(M))),re},n.unstable_shouldYield=C,n.unstable_wrapCallback=function(re){var Y=d;return function(){var W=d;d=Y;try{return re.apply(this,arguments)}finally{d=W}}}}(hd)),hd}var m_;function SA(){return m_||(m_=1,fd.exports=bA()),fd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function AA(){if(g_)return In;g_=1;var n=nf(),e=SA();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function d(i){return h.call(y,i)?!0:h.call(v,i)?!1:m.test(i)?y[i]=!0:(v[i]=!0,!1)}function g(i,s,l,p){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return p?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function E(i,s,l,p){if(s===null||typeof s>"u"||g(i,s,l,p))return!0;if(p)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function T(i,s,l,p,A,x,q){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=p,this.attributeNamespace=A,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=x,this.removeEmptyString=q}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){_[i]=new T(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];_[s]=new T(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){_[i]=new T(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){_[i]=new T(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){_[i]=new T(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){_[i]=new T(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){_[i]=new T(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){_[i]=new T(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){_[i]=new T(i,5,!1,i.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function S(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(w,S);_[s]=new T(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(w,S);_[s]=new T(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(w,S);_[s]=new T(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){_[i]=new T(i,1,!1,i.toLowerCase(),null,!1,!1)}),_.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){_[i]=new T(i,1,!1,i.toLowerCase(),null,!0,!0)});function R(i,s,l,p){var A=_.hasOwnProperty(s)?_[s]:null;(A!==null?A.type!==0:p||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(E(s,l,A,p)&&(l=null),p||A===null?d(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):A.mustUseProperty?i[A.propertyName]=l===null?A.type===3?!1:"":l:(s=A.attributeName,p=A.attributeNamespace,l===null?i.removeAttribute(s):(A=A.type,l=A===3||A===4&&l===!0?"":""+l,p?i.setAttributeNS(p,s,l):i.setAttribute(s,l))))}var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),U=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),C=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),re=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=re&&i[re]||i["@@iterator"],typeof i=="function"?i:null)}var W=Object.assign,j;function B(i){if(j===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);j=s&&s[1]||""}return`
`+j+i}var K=!1;function ne(i,s){if(!i||K)return"";K=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(ce){var p=ce}Reflect.construct(i,[],s)}else{try{s.call()}catch(ce){p=ce}i.call(s.prototype)}else{try{throw Error()}catch(ce){p=ce}i()}}catch(ce){if(ce&&p&&typeof ce.stack=="string"){for(var A=ce.stack.split(`
`),x=p.stack.split(`
`),q=A.length-1,X=x.length-1;1<=q&&0<=X&&A[q]!==x[X];)X--;for(;1<=q&&0<=X;q--,X--)if(A[q]!==x[X]){if(q!==1||X!==1)do if(q--,X--,0>X||A[q]!==x[X]){var ee=`
`+A[q].replace(" at new "," at ");return i.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",i.displayName)),ee}while(1<=q&&0<=X);break}}}finally{K=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?B(i):""}function te(i){switch(i.tag){case 5:return B(i.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return i=ne(i.type,!1),i;case 11:return i=ne(i.type.render,!1),i;case 1:return i=ne(i.type,!0),i;default:return""}}function $(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case U:return"Portal";case L:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case H:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case C:return(i.displayName||"Context")+".Consumer";case O:return(i._context.displayName||"Context")+".Provider";case D:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case G:return s=i.displayName||null,s!==null?s:$(i.type)||"Memo";case Z:s=i._payload,i=i._init;try{return $(i(s))}catch{}}return null}function J(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function oe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function se(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function pe(i){var s=se(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),p=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var A=l.get,x=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return A.call(this)},set:function(q){p=""+q,x.call(this,q)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return p},setValue:function(q){p=""+q},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ie(i){i._valueTracker||(i._valueTracker=pe(i))}function Me(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),p="";return i&&(p=se(i)?i.checked?"true":"false":i.value),i=p,i!==l?(s.setValue(i),!0):!1}function Ue(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ge(i,s){var l=s.checked;return W({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Je(i,s){var l=s.defaultValue==null?"":s.defaultValue,p=s.checked!=null?s.checked:s.defaultChecked;l=oe(s.value!=null?s.value:l),i._wrapperState={initialChecked:p,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ot(i,s){s=s.checked,s!=null&&R(i,"checked",s,!1)}function gt(i,s){Ot(i,s);var l=oe(s.value),p=s.type;if(l!=null)p==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?me(i,s.type,l):s.hasOwnProperty("defaultValue")&&me(i,s.type,oe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function de(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var p=s.type;if(!(p!=="submit"&&p!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function me(i,s,l){(s!=="number"||Ue(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var be=Array.isArray;function Ae(i,s,l,p){if(i=i.options,s){s={};for(var A=0;A<l.length;A++)s["$"+l[A]]=!0;for(l=0;l<i.length;l++)A=s.hasOwnProperty("$"+i[l].value),i[l].selected!==A&&(i[l].selected=A),A&&p&&(i[l].defaultSelected=!0)}else{for(l=""+oe(l),s=null,A=0;A<i.length;A++){if(i[A].value===l){i[A].selected=!0,p&&(i[A].defaultSelected=!0);return}s!==null||i[A].disabled||(s=i[A])}s!==null&&(s.selected=!0)}}function ye(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return W({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function $e(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(be(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:oe(l)}}function He(i,s){var l=oe(s.value),p=oe(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),p!=null&&(i.defaultValue=""+p)}function Qe(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function at(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ct(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?at(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var ot,ho=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,p,A){MSApp.execUnsafeLocalFunction(function(){return i(s,l,p,A)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(ot=ot||document.createElement("div"),ot.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ot.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ft(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var on={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},po=["Webkit","ms","Moz","O"];Object.keys(on).forEach(function(i){po.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),on[s]=on[i]})});function va(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||on.hasOwnProperty(i)&&on[i]?(""+s).trim():s+"px"}function _a(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var p=l.indexOf("--")===0,A=va(l,s[l],p);l==="float"&&(l="cssFloat"),p?i.setProperty(l,A):i[l]=A}}var Ea=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wa(i,s){if(s){if(Ea[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ta(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mo=null;function ts(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ns=null,Un=null,gr=null;function rs(i){if(i=Wa(i)){if(typeof ns!="function")throw Error(t(280));var s=i.stateNode;s&&(s=Au(s),ns(i.stateNode,i.type,s))}}function yr(i){Un?gr?gr.push(i):gr=[i]:Un=i}function ba(){if(Un){var i=Un,s=gr;if(gr=Un=null,rs(i),s)for(i=0;i<s.length;i++)rs(s[i])}}function go(i,s){return i(s)}function Sa(){}var $r=!1;function Aa(i,s,l){if($r)return i(s,l);$r=!0;try{return go(i,s,l)}finally{$r=!1,(Un!==null||gr!==null)&&(Sa(),ba())}}function kt(i,s){var l=i.stateNode;if(l===null)return null;var p=Au(l);if(p===null)return null;l=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var is=!1;if(f)try{var Yn={};Object.defineProperty(Yn,"passive",{get:function(){is=!0}}),window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch{is=!1}function yo(i,s,l,p,A,x,q,X,ee){var ce=Array.prototype.slice.call(arguments,3);try{s.apply(l,ce)}catch(_e){this.onError(_e)}}var vo=!1,os=null,Jn=!1,Ia=null,Mf={onError:function(i){vo=!0,os=i}};function ss(i,s,l,p,A,x,q,X,ee){vo=!1,os=null,yo.apply(Mf,arguments)}function Xl(i,s,l,p,A,x,q,X,ee){if(ss.apply(this,arguments),vo){if(vo){var ce=os;vo=!1,os=null}else throw Error(t(198));Jn||(Jn=!0,Ia=ce)}}function Zn(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function _o(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function er(i){if(Zn(i)!==i)throw Error(t(188))}function Yl(i){var s=i.alternate;if(!s){if(s=Zn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,p=s;;){var A=l.return;if(A===null)break;var x=A.alternate;if(x===null){if(p=A.return,p!==null){l=p;continue}break}if(A.child===x.child){for(x=A.child;x;){if(x===l)return er(A),i;if(x===p)return er(A),s;x=x.sibling}throw Error(t(188))}if(l.return!==p.return)l=A,p=x;else{for(var q=!1,X=A.child;X;){if(X===l){q=!0,l=A,p=x;break}if(X===p){q=!0,p=A,l=x;break}X=X.sibling}if(!q){for(X=x.child;X;){if(X===l){q=!0,l=x,p=A;break}if(X===p){q=!0,p=x,l=A;break}X=X.sibling}if(!q)throw Error(t(189))}}if(l.alternate!==p)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function Ca(i){return i=Yl(i),i!==null?as(i):null}function as(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=as(i);if(s!==null)return s;i=i.sibling}return null}var ls=e.unstable_scheduleCallback,Ra=e.unstable_cancelCallback,Jl=e.unstable_shouldYield,jf=e.unstable_requestPaint,pt=e.unstable_now,Zl=e.unstable_getCurrentPriorityLevel,Eo=e.unstable_ImmediatePriority,_i=e.unstable_UserBlockingPriority,qn=e.unstable_NormalPriority,ka=e.unstable_LowPriority,eu=e.unstable_IdlePriority,wo=null,Pn=null;function tu(i){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(wo,i,void 0,(i.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:ru,Pa=Math.log,nu=Math.LN2;function ru(i){return i>>>=0,i===0?32:31-(Pa(i)/nu|0)|0}var us=64,cs=4194304;function Ei(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function To(i,s){var l=i.pendingLanes;if(l===0)return 0;var p=0,A=i.suspendedLanes,x=i.pingedLanes,q=l&268435455;if(q!==0){var X=q&~A;X!==0?p=Ei(X):(x&=q,x!==0&&(p=Ei(x)))}else q=l&~A,q!==0?p=Ei(q):x!==0&&(p=Ei(x));if(p===0)return 0;if(s!==0&&s!==p&&!(s&A)&&(A=p&-p,x=s&-s,A>=x||A===16&&(x&4194240)!==0))return s;if(p&4&&(p|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=p;0<s;)l=31-pn(s),A=1<<l,p|=i[l],s&=~A;return p}function Vf(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hr(i,s){for(var l=i.suspendedLanes,p=i.pingedLanes,A=i.expirationTimes,x=i.pendingLanes;0<x;){var q=31-pn(x),X=1<<q,ee=A[q];ee===-1?(!(X&l)||X&p)&&(A[q]=Vf(X,s)):ee<=s&&(i.expiredLanes|=X),x&=~X}}function xn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function bo(){var i=us;return us<<=1,!(us&4194240)&&(us=64),i}function wi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Ti(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-pn(s),i[s]=l}function dt(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<l;){var A=31-pn(l),x=1<<A;s[A]=0,p[A]=-1,i[A]=-1,l&=~x}}function bi(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var p=31-pn(l),A=1<<p;A&s|i[p]&s&&(i[p]|=s),l&=~A}}var nt=0;function Si(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var iu,fs,ou,su,au,xa=!1,vr=[],Xt=null,tr=null,nr=null,Ai=new Map,Bn=new Map,_r=[],Ff="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lu(i,s){switch(i){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":Ai.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bn.delete(s.pointerId)}}function _n(i,s,l,p,A,x){return i===null||i.nativeEvent!==x?(i={blockedOn:s,domEventName:l,eventSystemFlags:p,nativeEvent:x,targetContainers:[A]},s!==null&&(s=Wa(s),s!==null&&fs(s)),i):(i.eventSystemFlags|=p,s=i.targetContainers,A!==null&&s.indexOf(A)===-1&&s.push(A),i)}function Uf(i,s,l,p,A){switch(s){case"focusin":return Xt=_n(Xt,i,s,l,p,A),!0;case"dragenter":return tr=_n(tr,i,s,l,p,A),!0;case"mouseover":return nr=_n(nr,i,s,l,p,A),!0;case"pointerover":var x=A.pointerId;return Ai.set(x,_n(Ai.get(x)||null,i,s,l,p,A)),!0;case"gotpointercapture":return x=A.pointerId,Bn.set(x,_n(Bn.get(x)||null,i,s,l,p,A)),!0}return!1}function uu(i){var s=Ro(i.target);if(s!==null){var l=Zn(s);if(l!==null){if(s=l.tag,s===13){if(s=_o(l),s!==null){i.blockedOn=s,au(i.priority,function(){ou(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Wr(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=hs(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var p=new l.constructor(l.type,l);mo=p,l.target.dispatchEvent(p),mo=null}else return s=Wa(l),s!==null&&fs(s),i.blockedOn=l,!1;s.shift()}return!0}function So(i,s,l){Wr(i)&&l.delete(s)}function cu(){xa=!1,Xt!==null&&Wr(Xt)&&(Xt=null),tr!==null&&Wr(tr)&&(tr=null),nr!==null&&Wr(nr)&&(nr=null),Ai.forEach(So),Bn.forEach(So)}function rr(i,s){i.blockedOn===s&&(i.blockedOn=null,xa||(xa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,cu)))}function ir(i){function s(A){return rr(A,i)}if(0<vr.length){rr(vr[0],i);for(var l=1;l<vr.length;l++){var p=vr[l];p.blockedOn===i&&(p.blockedOn=null)}}for(Xt!==null&&rr(Xt,i),tr!==null&&rr(tr,i),nr!==null&&rr(nr,i),Ai.forEach(s),Bn.forEach(s),l=0;l<_r.length;l++)p=_r[l],p.blockedOn===i&&(p.blockedOn=null);for(;0<_r.length&&(l=_r[0],l.blockedOn===null);)uu(l),l.blockedOn===null&&_r.shift()}var Kr=b.ReactCurrentBatchConfig,Ii=!0;function Et(i,s,l,p){var A=nt,x=Kr.transition;Kr.transition=null;try{nt=1,Oa(i,s,l,p)}finally{nt=A,Kr.transition=x}}function qf(i,s,l,p){var A=nt,x=Kr.transition;Kr.transition=null;try{nt=4,Oa(i,s,l,p)}finally{nt=A,Kr.transition=x}}function Oa(i,s,l,p){if(Ii){var A=hs(i,s,l,p);if(A===null)Jf(i,s,p,Ao,l),lu(i,p);else if(Uf(A,i,s,l,p))p.stopPropagation();else if(lu(i,p),s&4&&-1<Ff.indexOf(i)){for(;A!==null;){var x=Wa(A);if(x!==null&&iu(x),x=hs(i,s,l,p),x===null&&Jf(i,s,p,Ao,l),x===A)break;A=x}A!==null&&p.stopPropagation()}else Jf(i,s,p,null,l)}}var Ao=null;function hs(i,s,l,p){if(Ao=null,i=ts(p),i=Ro(i),i!==null)if(s=Zn(i),s===null)i=null;else if(l=s.tag,l===13){if(i=_o(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return Ao=i,null}function Na(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zl()){case Eo:return 1;case _i:return 4;case qn:case ka:return 16;case eu:return 536870912;default:return 16}default:return 16}}var On=null,ds=null,En=null;function Da(){if(En)return En;var i,s=ds,l=s.length,p,A="value"in On?On.value:On.textContent,x=A.length;for(i=0;i<l&&s[i]===A[i];i++);var q=l-i;for(p=1;p<=q&&s[l-p]===A[x-p];p++);return En=A.slice(i,1<p?1-p:void 0)}function ps(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Er(){return!0}function La(){return!1}function Yt(i){function s(l,p,A,x,q){this._reactName=l,this._targetInst=A,this.type=p,this.nativeEvent=x,this.target=q,this.currentTarget=null;for(var X in i)i.hasOwnProperty(X)&&(l=i[X],this[X]=l?l(x):x[X]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Er:La,this.isPropagationStopped=La,this}return W(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),s}var or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ms=Yt(or),wr=W({},or,{view:0,detail:0}),Bf=Yt(wr),gs,Gr,Ci,Io=W({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ci&&(Ci&&i.type==="mousemove"?(gs=i.screenX-Ci.screenX,Gr=i.screenY-Ci.screenY):Gr=gs=0,Ci=i),gs)},movementY:function(i){return"movementY"in i?i.movementY:Gr}}),ys=Yt(Io),Ma=W({},Io,{dataTransfer:0}),fu=Yt(Ma),vs=W({},wr,{relatedTarget:0}),_s=Yt(vs),hu=W({},or,{animationName:0,elapsedTime:0,pseudoElement:0}),Qr=Yt(hu),du=W({},or,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),pu=Yt(du),mu=W({},or,{data:0}),ja=Yt(mu),Es={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=gu[i])?!!s[i]:!1}function Tr(){return yu}var c=W({},wr,{key:function(i){if(i.key){var s=Es[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ps(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?mn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(i){return i.type==="keypress"?ps(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ps(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),P=Yt(c),F=W({},Io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z=Yt(F),ae=W({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr}),fe=Yt(ae),Se=W({},or,{propertyName:0,elapsedTime:0,pseudoElement:0}),ht=Yt(Se),jt=W({},Io,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),rt=Yt(jt),zt=[9,13,27,32],Nt=f&&"CompositionEvent"in window,zn=null;f&&"documentMode"in document&&(zn=document.documentMode);var Nn=f&&"TextEvent"in window&&!zn,Co=f&&(!Nt||zn&&8<zn&&11>=zn),ws=" ",iy=!1;function oy(i,s){switch(i){case"keyup":return zt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ts=!1;function vS(i,s){switch(i){case"compositionend":return sy(s);case"keypress":return s.which!==32?null:(iy=!0,ws);case"textInput":return i=s.data,i===ws&&iy?null:i;default:return null}}function _S(i,s){if(Ts)return i==="compositionend"||!Nt&&oy(i,s)?(i=Da(),En=ds=On=null,Ts=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Co&&s.locale!=="ko"?null:s.data;default:return null}}var ES={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ay(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!ES[i.type]:s==="textarea"}function ly(i,s,l,p){yr(p),s=Tu(s,"onChange"),0<s.length&&(l=new ms("onChange","change",null,l,p),i.push({event:l,listeners:s}))}var Va=null,Fa=null;function wS(i){Iy(i,0)}function vu(i){var s=Cs(i);if(Me(s))return i}function TS(i,s){if(i==="change")return s}var uy=!1;if(f){var zf;if(f){var $f="oninput"in document;if(!$f){var cy=document.createElement("div");cy.setAttribute("oninput","return;"),$f=typeof cy.oninput=="function"}zf=$f}else zf=!1;uy=zf&&(!document.documentMode||9<document.documentMode)}function fy(){Va&&(Va.detachEvent("onpropertychange",hy),Fa=Va=null)}function hy(i){if(i.propertyName==="value"&&vu(Fa)){var s=[];ly(s,Fa,i,ts(i)),Aa(wS,s)}}function bS(i,s,l){i==="focusin"?(fy(),Va=s,Fa=l,Va.attachEvent("onpropertychange",hy)):i==="focusout"&&fy()}function SS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return vu(Fa)}function AS(i,s){if(i==="click")return vu(s)}function IS(i,s){if(i==="input"||i==="change")return vu(s)}function CS(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var sr=typeof Object.is=="function"?Object.is:CS;function Ua(i,s){if(sr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),p=Object.keys(s);if(l.length!==p.length)return!1;for(p=0;p<l.length;p++){var A=l[p];if(!h.call(s,A)||!sr(i[A],s[A]))return!1}return!0}function dy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function py(i,s){var l=dy(i);i=0;for(var p;l;){if(l.nodeType===3){if(p=i+l.textContent.length,i<=s&&p>=s)return{node:l,offset:s-i};i=p}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=dy(l)}}function my(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?my(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function gy(){for(var i=window,s=Ue();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Ue(i.document)}return s}function Hf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function RS(i){var s=gy(),l=i.focusedElem,p=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&my(l.ownerDocument.documentElement,l)){if(p!==null&&Hf(l)){if(s=p.start,i=p.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var A=l.textContent.length,x=Math.min(p.start,A);p=p.end===void 0?x:Math.min(p.end,A),!i.extend&&x>p&&(A=p,p=x,x=A),A=py(l,x);var q=py(l,p);A&&q&&(i.rangeCount!==1||i.anchorNode!==A.node||i.anchorOffset!==A.offset||i.focusNode!==q.node||i.focusOffset!==q.offset)&&(s=s.createRange(),s.setStart(A.node,A.offset),i.removeAllRanges(),x>p?(i.addRange(s),i.extend(q.node,q.offset)):(s.setEnd(q.node,q.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var kS=f&&"documentMode"in document&&11>=document.documentMode,bs=null,Wf=null,qa=null,Kf=!1;function yy(i,s,l){var p=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Kf||bs==null||bs!==Ue(p)||(p=bs,"selectionStart"in p&&Hf(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),qa&&Ua(qa,p)||(qa=p,p=Tu(Wf,"onSelect"),0<p.length&&(s=new ms("onSelect","select",null,s,l),i.push({event:s,listeners:p}),s.target=bs)))}function _u(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Ss={animationend:_u("Animation","AnimationEnd"),animationiteration:_u("Animation","AnimationIteration"),animationstart:_u("Animation","AnimationStart"),transitionend:_u("Transition","TransitionEnd")},Gf={},vy={};f&&(vy=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function Eu(i){if(Gf[i])return Gf[i];if(!Ss[i])return i;var s=Ss[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in vy)return Gf[i]=s[l];return i}var _y=Eu("animationend"),Ey=Eu("animationiteration"),wy=Eu("animationstart"),Ty=Eu("transitionend"),by=new Map,Sy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(i,s){by.set(i,s),a(s,[i])}for(var Qf=0;Qf<Sy.length;Qf++){var Xf=Sy[Qf],PS=Xf.toLowerCase(),xS=Xf[0].toUpperCase()+Xf.slice(1);Ri(PS,"on"+xS)}Ri(_y,"onAnimationEnd"),Ri(Ey,"onAnimationIteration"),Ri(wy,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(Ty,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ba));function Ay(i,s,l){var p=i.type||"unknown-event";i.currentTarget=l,Xl(p,s,void 0,i),i.currentTarget=null}function Iy(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var p=i[l],A=p.event;p=p.listeners;e:{var x=void 0;if(s)for(var q=p.length-1;0<=q;q--){var X=p[q],ee=X.instance,ce=X.currentTarget;if(X=X.listener,ee!==x&&A.isPropagationStopped())break e;Ay(A,X,ce),x=ee}else for(q=0;q<p.length;q++){if(X=p[q],ee=X.instance,ce=X.currentTarget,X=X.listener,ee!==x&&A.isPropagationStopped())break e;Ay(A,X,ce),x=ee}}}if(Jn)throw i=Ia,Jn=!1,Ia=null,i}function yt(i,s){var l=s[ih];l===void 0&&(l=s[ih]=new Set);var p=i+"__bubble";l.has(p)||(Cy(s,i,2,!1),l.add(p))}function Yf(i,s,l){var p=0;s&&(p|=4),Cy(l,i,p,s)}var wu="_reactListening"+Math.random().toString(36).slice(2);function za(i){if(!i[wu]){i[wu]=!0,r.forEach(function(l){l!=="selectionchange"&&(OS.has(l)||Yf(l,!1,i),Yf(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[wu]||(s[wu]=!0,Yf("selectionchange",!1,s))}}function Cy(i,s,l,p){switch(Na(s)){case 1:var A=Et;break;case 4:A=qf;break;default:A=Oa}l=A.bind(null,s,l,i),A=void 0,!is||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(A=!0),p?A!==void 0?i.addEventListener(s,l,{capture:!0,passive:A}):i.addEventListener(s,l,!0):A!==void 0?i.addEventListener(s,l,{passive:A}):i.addEventListener(s,l,!1)}function Jf(i,s,l,p,A){var x=p;if(!(s&1)&&!(s&2)&&p!==null)e:for(;;){if(p===null)return;var q=p.tag;if(q===3||q===4){var X=p.stateNode.containerInfo;if(X===A||X.nodeType===8&&X.parentNode===A)break;if(q===4)for(q=p.return;q!==null;){var ee=q.tag;if((ee===3||ee===4)&&(ee=q.stateNode.containerInfo,ee===A||ee.nodeType===8&&ee.parentNode===A))return;q=q.return}for(;X!==null;){if(q=Ro(X),q===null)return;if(ee=q.tag,ee===5||ee===6){p=x=q;continue e}X=X.parentNode}}p=p.return}Aa(function(){var ce=x,_e=ts(l),we=[];e:{var ve=by.get(i);if(ve!==void 0){var Ce=ms,Pe=i;switch(i){case"keypress":if(ps(l)===0)break e;case"keydown":case"keyup":Ce=P;break;case"focusin":Pe="focus",Ce=_s;break;case"focusout":Pe="blur",Ce=_s;break;case"beforeblur":case"afterblur":Ce=_s;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=ys;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=fe;break;case _y:case Ey:case wy:Ce=Qr;break;case Ty:Ce=ht;break;case"scroll":Ce=Bf;break;case"wheel":Ce=rt;break;case"copy":case"cut":case"paste":Ce=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=z}var xe=(s&4)!==0,Pt=!xe&&i==="scroll",le=xe?ve!==null?ve+"Capture":null:ve;xe=[];for(var ie=ce,ue;ie!==null;){ue=ie;var Te=ue.stateNode;if(ue.tag===5&&Te!==null&&(ue=Te,le!==null&&(Te=kt(ie,le),Te!=null&&xe.push($a(ie,Te,ue)))),Pt)break;ie=ie.return}0<xe.length&&(ve=new Ce(ve,Pe,null,l,_e),we.push({event:ve,listeners:xe}))}}if(!(s&7)){e:{if(ve=i==="mouseover"||i==="pointerover",Ce=i==="mouseout"||i==="pointerout",ve&&l!==mo&&(Pe=l.relatedTarget||l.fromElement)&&(Ro(Pe)||Pe[Xr]))break e;if((Ce||ve)&&(ve=_e.window===_e?_e:(ve=_e.ownerDocument)?ve.defaultView||ve.parentWindow:window,Ce?(Pe=l.relatedTarget||l.toElement,Ce=ce,Pe=Pe?Ro(Pe):null,Pe!==null&&(Pt=Zn(Pe),Pe!==Pt||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(Ce=null,Pe=ce),Ce!==Pe)){if(xe=ys,Te="onMouseLeave",le="onMouseEnter",ie="mouse",(i==="pointerout"||i==="pointerover")&&(xe=z,Te="onPointerLeave",le="onPointerEnter",ie="pointer"),Pt=Ce==null?ve:Cs(Ce),ue=Pe==null?ve:Cs(Pe),ve=new xe(Te,ie+"leave",Ce,l,_e),ve.target=Pt,ve.relatedTarget=ue,Te=null,Ro(_e)===ce&&(xe=new xe(le,ie+"enter",Pe,l,_e),xe.target=ue,xe.relatedTarget=Pt,Te=xe),Pt=Te,Ce&&Pe)t:{for(xe=Ce,le=Pe,ie=0,ue=xe;ue;ue=As(ue))ie++;for(ue=0,Te=le;Te;Te=As(Te))ue++;for(;0<ie-ue;)xe=As(xe),ie--;for(;0<ue-ie;)le=As(le),ue--;for(;ie--;){if(xe===le||le!==null&&xe===le.alternate)break t;xe=As(xe),le=As(le)}xe=null}else xe=null;Ce!==null&&Ry(we,ve,Ce,xe,!1),Pe!==null&&Pt!==null&&Ry(we,Pt,Pe,xe,!0)}}e:{if(ve=ce?Cs(ce):window,Ce=ve.nodeName&&ve.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&ve.type==="file")var Oe=TS;else if(ay(ve))if(uy)Oe=IS;else{Oe=SS;var je=bS}else(Ce=ve.nodeName)&&Ce.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(Oe=AS);if(Oe&&(Oe=Oe(i,ce))){ly(we,Oe,l,_e);break e}je&&je(i,ve,ce),i==="focusout"&&(je=ve._wrapperState)&&je.controlled&&ve.type==="number"&&me(ve,"number",ve.value)}switch(je=ce?Cs(ce):window,i){case"focusin":(ay(je)||je.contentEditable==="true")&&(bs=je,Wf=ce,qa=null);break;case"focusout":qa=Wf=bs=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,yy(we,l,_e);break;case"selectionchange":if(kS)break;case"keydown":case"keyup":yy(we,l,_e)}var Ve;if(Nt)e:{switch(i){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ts?oy(i,l)&&(Be="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Be="onCompositionStart");Be&&(Co&&l.locale!=="ko"&&(Ts||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ts&&(Ve=Da()):(On=_e,ds="value"in On?On.value:On.textContent,Ts=!0)),je=Tu(ce,Be),0<je.length&&(Be=new ja(Be,i,null,l,_e),we.push({event:Be,listeners:je}),Ve?Be.data=Ve:(Ve=sy(l),Ve!==null&&(Be.data=Ve)))),(Ve=Nn?vS(i,l):_S(i,l))&&(ce=Tu(ce,"onBeforeInput"),0<ce.length&&(_e=new ja("onBeforeInput","beforeinput",null,l,_e),we.push({event:_e,listeners:ce}),_e.data=Ve))}Iy(we,s)})}function $a(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Tu(i,s){for(var l=s+"Capture",p=[];i!==null;){var A=i,x=A.stateNode;A.tag===5&&x!==null&&(A=x,x=kt(i,l),x!=null&&p.unshift($a(i,x,A)),x=kt(i,s),x!=null&&p.push($a(i,x,A))),i=i.return}return p}function As(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Ry(i,s,l,p,A){for(var x=s._reactName,q=[];l!==null&&l!==p;){var X=l,ee=X.alternate,ce=X.stateNode;if(ee!==null&&ee===p)break;X.tag===5&&ce!==null&&(X=ce,A?(ee=kt(l,x),ee!=null&&q.unshift($a(l,ee,X))):A||(ee=kt(l,x),ee!=null&&q.push($a(l,ee,X)))),l=l.return}q.length!==0&&i.push({event:s,listeners:q})}var NS=/\r\n?/g,DS=/\u0000|\uFFFD/g;function ky(i){return(typeof i=="string"?i:""+i).replace(NS,`
`).replace(DS,"")}function bu(i,s,l){if(s=ky(s),ky(i)!==s&&l)throw Error(t(425))}function Su(){}var Zf=null,eh=null;function th(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var nh=typeof setTimeout=="function"?setTimeout:void 0,LS=typeof clearTimeout=="function"?clearTimeout:void 0,Py=typeof Promise=="function"?Promise:void 0,MS=typeof queueMicrotask=="function"?queueMicrotask:typeof Py<"u"?function(i){return Py.resolve(null).then(i).catch(jS)}:nh;function jS(i){setTimeout(function(){throw i})}function rh(i,s){var l=s,p=0;do{var A=l.nextSibling;if(i.removeChild(l),A&&A.nodeType===8)if(l=A.data,l==="/$"){if(p===0){i.removeChild(A),ir(s);return}p--}else l!=="$"&&l!=="$?"&&l!=="$!"||p++;l=A}while(l);ir(s)}function ki(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function xy(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var Is=Math.random().toString(36).slice(2),br="__reactFiber$"+Is,Ha="__reactProps$"+Is,Xr="__reactContainer$"+Is,ih="__reactEvents$"+Is,VS="__reactListeners$"+Is,FS="__reactHandles$"+Is;function Ro(i){var s=i[br];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Xr]||l[br]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=xy(i);i!==null;){if(l=i[br])return l;i=xy(i)}return s}i=l,l=i.parentNode}return null}function Wa(i){return i=i[br]||i[Xr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Cs(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Au(i){return i[Ha]||null}var oh=[],Rs=-1;function Pi(i){return{current:i}}function vt(i){0>Rs||(i.current=oh[Rs],oh[Rs]=null,Rs--)}function mt(i,s){Rs++,oh[Rs]=i.current,i.current=s}var xi={},sn=Pi(xi),wn=Pi(!1),ko=xi;function ks(i,s){var l=i.type.contextTypes;if(!l)return xi;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===s)return p.__reactInternalMemoizedMaskedChildContext;var A={},x;for(x in l)A[x]=s[x];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=A),A}function Tn(i){return i=i.childContextTypes,i!=null}function Iu(){vt(wn),vt(sn)}function Oy(i,s,l){if(sn.current!==xi)throw Error(t(168));mt(sn,s),mt(wn,l)}function Ny(i,s,l){var p=i.stateNode;if(s=s.childContextTypes,typeof p.getChildContext!="function")return l;p=p.getChildContext();for(var A in p)if(!(A in s))throw Error(t(108,J(i)||"Unknown",A));return W({},l,p)}function Cu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||xi,ko=sn.current,mt(sn,i),mt(wn,wn.current),!0}function Dy(i,s,l){var p=i.stateNode;if(!p)throw Error(t(169));l?(i=Ny(i,s,ko),p.__reactInternalMemoizedMergedChildContext=i,vt(wn),vt(sn),mt(sn,i)):vt(wn),mt(wn,l)}var Yr=null,Ru=!1,sh=!1;function Ly(i){Yr===null?Yr=[i]:Yr.push(i)}function US(i){Ru=!0,Ly(i)}function Oi(){if(!sh&&Yr!==null){sh=!0;var i=0,s=nt;try{var l=Yr;for(nt=1;i<l.length;i++){var p=l[i];do p=p(!0);while(p!==null)}Yr=null,Ru=!1}catch(A){throw Yr!==null&&(Yr=Yr.slice(i+1)),ls(Eo,Oi),A}finally{nt=s,sh=!1}}return null}var Ps=[],xs=0,ku=null,Pu=0,$n=[],Hn=0,Po=null,Jr=1,Zr="";function xo(i,s){Ps[xs++]=Pu,Ps[xs++]=ku,ku=i,Pu=s}function My(i,s,l){$n[Hn++]=Jr,$n[Hn++]=Zr,$n[Hn++]=Po,Po=i;var p=Jr;i=Zr;var A=32-pn(p)-1;p&=~(1<<A),l+=1;var x=32-pn(s)+A;if(30<x){var q=A-A%5;x=(p&(1<<q)-1).toString(32),p>>=q,A-=q,Jr=1<<32-pn(s)+A|l<<A|p,Zr=x+i}else Jr=1<<x|l<<A|p,Zr=i}function ah(i){i.return!==null&&(xo(i,1),My(i,1,0))}function lh(i){for(;i===ku;)ku=Ps[--xs],Ps[xs]=null,Pu=Ps[--xs],Ps[xs]=null;for(;i===Po;)Po=$n[--Hn],$n[Hn]=null,Zr=$n[--Hn],$n[Hn]=null,Jr=$n[--Hn],$n[Hn]=null}var Dn=null,Ln=null,wt=!1,ar=null;function jy(i,s){var l=Qn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function Vy(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,Dn=i,Ln=ki(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,Dn=i,Ln=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Po!==null?{id:Jr,overflow:Zr}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Qn(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,Dn=i,Ln=null,!0):!1;default:return!1}}function uh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function ch(i){if(wt){var s=Ln;if(s){var l=s;if(!Vy(i,s)){if(uh(i))throw Error(t(418));s=ki(l.nextSibling);var p=Dn;s&&Vy(i,s)?jy(p,l):(i.flags=i.flags&-4097|2,wt=!1,Dn=i)}}else{if(uh(i))throw Error(t(418));i.flags=i.flags&-4097|2,wt=!1,Dn=i}}}function Fy(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Dn=i}function xu(i){if(i!==Dn)return!1;if(!wt)return Fy(i),wt=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!th(i.type,i.memoizedProps)),s&&(s=Ln)){if(uh(i))throw Uy(),Error(t(418));for(;s;)jy(i,s),s=ki(s.nextSibling)}if(Fy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){Ln=ki(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}Ln=null}}else Ln=Dn?ki(i.stateNode.nextSibling):null;return!0}function Uy(){for(var i=Ln;i;)i=ki(i.nextSibling)}function Os(){Ln=Dn=null,wt=!1}function fh(i){ar===null?ar=[i]:ar.push(i)}var qS=b.ReactCurrentBatchConfig;function Ka(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var p=l.stateNode}if(!p)throw Error(t(147,i));var A=p,x=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===x?s.ref:(s=function(q){var X=A.refs;q===null?delete X[x]:X[x]=q},s._stringRef=x,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Ou(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function qy(i){var s=i._init;return s(i._payload)}function By(i){function s(le,ie){if(i){var ue=le.deletions;ue===null?(le.deletions=[ie],le.flags|=16):ue.push(ie)}}function l(le,ie){if(!i)return null;for(;ie!==null;)s(le,ie),ie=ie.sibling;return null}function p(le,ie){for(le=new Map;ie!==null;)ie.key!==null?le.set(ie.key,ie):le.set(ie.index,ie),ie=ie.sibling;return le}function A(le,ie){return le=Ui(le,ie),le.index=0,le.sibling=null,le}function x(le,ie,ue){return le.index=ue,i?(ue=le.alternate,ue!==null?(ue=ue.index,ue<ie?(le.flags|=2,ie):ue):(le.flags|=2,ie)):(le.flags|=1048576,ie)}function q(le){return i&&le.alternate===null&&(le.flags|=2),le}function X(le,ie,ue,Te){return ie===null||ie.tag!==6?(ie=nd(ue,le.mode,Te),ie.return=le,ie):(ie=A(ie,ue),ie.return=le,ie)}function ee(le,ie,ue,Te){var Oe=ue.type;return Oe===k?_e(le,ie,ue.props.children,Te,ue.key):ie!==null&&(ie.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===Z&&qy(Oe)===ie.type)?(Te=A(ie,ue.props),Te.ref=Ka(le,ie,ue),Te.return=le,Te):(Te=nc(ue.type,ue.key,ue.props,null,le.mode,Te),Te.ref=Ka(le,ie,ue),Te.return=le,Te)}function ce(le,ie,ue,Te){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==ue.containerInfo||ie.stateNode.implementation!==ue.implementation?(ie=rd(ue,le.mode,Te),ie.return=le,ie):(ie=A(ie,ue.children||[]),ie.return=le,ie)}function _e(le,ie,ue,Te,Oe){return ie===null||ie.tag!==7?(ie=Fo(ue,le.mode,Te,Oe),ie.return=le,ie):(ie=A(ie,ue),ie.return=le,ie)}function we(le,ie,ue){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=nd(""+ie,le.mode,ue),ie.return=le,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case M:return ue=nc(ie.type,ie.key,ie.props,null,le.mode,ue),ue.ref=Ka(le,null,ie),ue.return=le,ue;case U:return ie=rd(ie,le.mode,ue),ie.return=le,ie;case Z:var Te=ie._init;return we(le,Te(ie._payload),ue)}if(be(ie)||Y(ie))return ie=Fo(ie,le.mode,ue,null),ie.return=le,ie;Ou(le,ie)}return null}function ve(le,ie,ue,Te){var Oe=ie!==null?ie.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Oe!==null?null:X(le,ie,""+ue,Te);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case M:return ue.key===Oe?ee(le,ie,ue,Te):null;case U:return ue.key===Oe?ce(le,ie,ue,Te):null;case Z:return Oe=ue._init,ve(le,ie,Oe(ue._payload),Te)}if(be(ue)||Y(ue))return Oe!==null?null:_e(le,ie,ue,Te,null);Ou(le,ue)}return null}function Ce(le,ie,ue,Te,Oe){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return le=le.get(ue)||null,X(ie,le,""+Te,Oe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case M:return le=le.get(Te.key===null?ue:Te.key)||null,ee(ie,le,Te,Oe);case U:return le=le.get(Te.key===null?ue:Te.key)||null,ce(ie,le,Te,Oe);case Z:var je=Te._init;return Ce(le,ie,ue,je(Te._payload),Oe)}if(be(Te)||Y(Te))return le=le.get(ue)||null,_e(ie,le,Te,Oe,null);Ou(ie,Te)}return null}function Pe(le,ie,ue,Te){for(var Oe=null,je=null,Ve=ie,Be=ie=0,Wt=null;Ve!==null&&Be<ue.length;Be++){Ve.index>Be?(Wt=Ve,Ve=null):Wt=Ve.sibling;var lt=ve(le,Ve,ue[Be],Te);if(lt===null){Ve===null&&(Ve=Wt);break}i&&Ve&&lt.alternate===null&&s(le,Ve),ie=x(lt,ie,Be),je===null?Oe=lt:je.sibling=lt,je=lt,Ve=Wt}if(Be===ue.length)return l(le,Ve),wt&&xo(le,Be),Oe;if(Ve===null){for(;Be<ue.length;Be++)Ve=we(le,ue[Be],Te),Ve!==null&&(ie=x(Ve,ie,Be),je===null?Oe=Ve:je.sibling=Ve,je=Ve);return wt&&xo(le,Be),Oe}for(Ve=p(le,Ve);Be<ue.length;Be++)Wt=Ce(Ve,le,Be,ue[Be],Te),Wt!==null&&(i&&Wt.alternate!==null&&Ve.delete(Wt.key===null?Be:Wt.key),ie=x(Wt,ie,Be),je===null?Oe=Wt:je.sibling=Wt,je=Wt);return i&&Ve.forEach(function(qi){return s(le,qi)}),wt&&xo(le,Be),Oe}function xe(le,ie,ue,Te){var Oe=Y(ue);if(typeof Oe!="function")throw Error(t(150));if(ue=Oe.call(ue),ue==null)throw Error(t(151));for(var je=Oe=null,Ve=ie,Be=ie=0,Wt=null,lt=ue.next();Ve!==null&&!lt.done;Be++,lt=ue.next()){Ve.index>Be?(Wt=Ve,Ve=null):Wt=Ve.sibling;var qi=ve(le,Ve,lt.value,Te);if(qi===null){Ve===null&&(Ve=Wt);break}i&&Ve&&qi.alternate===null&&s(le,Ve),ie=x(qi,ie,Be),je===null?Oe=qi:je.sibling=qi,je=qi,Ve=Wt}if(lt.done)return l(le,Ve),wt&&xo(le,Be),Oe;if(Ve===null){for(;!lt.done;Be++,lt=ue.next())lt=we(le,lt.value,Te),lt!==null&&(ie=x(lt,ie,Be),je===null?Oe=lt:je.sibling=lt,je=lt);return wt&&xo(le,Be),Oe}for(Ve=p(le,Ve);!lt.done;Be++,lt=ue.next())lt=Ce(Ve,le,Be,lt.value,Te),lt!==null&&(i&&lt.alternate!==null&&Ve.delete(lt.key===null?Be:lt.key),ie=x(lt,ie,Be),je===null?Oe=lt:je.sibling=lt,je=lt);return i&&Ve.forEach(function(_A){return s(le,_A)}),wt&&xo(le,Be),Oe}function Pt(le,ie,ue,Te){if(typeof ue=="object"&&ue!==null&&ue.type===k&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case M:e:{for(var Oe=ue.key,je=ie;je!==null;){if(je.key===Oe){if(Oe=ue.type,Oe===k){if(je.tag===7){l(le,je.sibling),ie=A(je,ue.props.children),ie.return=le,le=ie;break e}}else if(je.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===Z&&qy(Oe)===je.type){l(le,je.sibling),ie=A(je,ue.props),ie.ref=Ka(le,je,ue),ie.return=le,le=ie;break e}l(le,je);break}else s(le,je);je=je.sibling}ue.type===k?(ie=Fo(ue.props.children,le.mode,Te,ue.key),ie.return=le,le=ie):(Te=nc(ue.type,ue.key,ue.props,null,le.mode,Te),Te.ref=Ka(le,ie,ue),Te.return=le,le=Te)}return q(le);case U:e:{for(je=ue.key;ie!==null;){if(ie.key===je)if(ie.tag===4&&ie.stateNode.containerInfo===ue.containerInfo&&ie.stateNode.implementation===ue.implementation){l(le,ie.sibling),ie=A(ie,ue.children||[]),ie.return=le,le=ie;break e}else{l(le,ie);break}else s(le,ie);ie=ie.sibling}ie=rd(ue,le.mode,Te),ie.return=le,le=ie}return q(le);case Z:return je=ue._init,Pt(le,ie,je(ue._payload),Te)}if(be(ue))return Pe(le,ie,ue,Te);if(Y(ue))return xe(le,ie,ue,Te);Ou(le,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,ie!==null&&ie.tag===6?(l(le,ie.sibling),ie=A(ie,ue),ie.return=le,le=ie):(l(le,ie),ie=nd(ue,le.mode,Te),ie.return=le,le=ie),q(le)):l(le,ie)}return Pt}var Ns=By(!0),zy=By(!1),Nu=Pi(null),Du=null,Ds=null,hh=null;function dh(){hh=Ds=Du=null}function ph(i){var s=Nu.current;vt(Nu),i._currentValue=s}function mh(i,s,l){for(;i!==null;){var p=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),i===l)break;i=i.return}}function Ls(i,s){Du=i,hh=Ds=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(bn=!0),i.firstContext=null)}function Wn(i){var s=i._currentValue;if(hh!==i)if(i={context:i,memoizedValue:s,next:null},Ds===null){if(Du===null)throw Error(t(308));Ds=i,Du.dependencies={lanes:0,firstContext:i}}else Ds=Ds.next=i;return s}var Oo=null;function gh(i){Oo===null?Oo=[i]:Oo.push(i)}function $y(i,s,l,p){var A=s.interleaved;return A===null?(l.next=l,gh(s)):(l.next=A.next,A.next=l),s.interleaved=l,ei(i,p)}function ei(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ni=!1;function yh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hy(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ti(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Di(i,s,l){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,st&2){var A=p.pending;return A===null?s.next=s:(s.next=A.next,A.next=s),p.pending=s,ei(i,l)}return A=p.interleaved,A===null?(s.next=s,gh(p)):(s.next=A.next,A.next=s),p.interleaved=s,ei(i,l)}function Lu(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var p=s.lanes;p&=i.pendingLanes,l|=p,s.lanes=l,bi(i,l)}}function Wy(i,s){var l=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,l===p)){var A=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var q={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};x===null?A=x=q:x=x.next=q,l=l.next}while(l!==null);x===null?A=x=s:x=x.next=s}else A=x=s;l={baseState:p.baseState,firstBaseUpdate:A,lastBaseUpdate:x,shared:p.shared,effects:p.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function Mu(i,s,l,p){var A=i.updateQueue;Ni=!1;var x=A.firstBaseUpdate,q=A.lastBaseUpdate,X=A.shared.pending;if(X!==null){A.shared.pending=null;var ee=X,ce=ee.next;ee.next=null,q===null?x=ce:q.next=ce,q=ee;var _e=i.alternate;_e!==null&&(_e=_e.updateQueue,X=_e.lastBaseUpdate,X!==q&&(X===null?_e.firstBaseUpdate=ce:X.next=ce,_e.lastBaseUpdate=ee))}if(x!==null){var we=A.baseState;q=0,_e=ce=ee=null,X=x;do{var ve=X.lane,Ce=X.eventTime;if((p&ve)===ve){_e!==null&&(_e=_e.next={eventTime:Ce,lane:0,tag:X.tag,payload:X.payload,callback:X.callback,next:null});e:{var Pe=i,xe=X;switch(ve=s,Ce=l,xe.tag){case 1:if(Pe=xe.payload,typeof Pe=="function"){we=Pe.call(Ce,we,ve);break e}we=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=xe.payload,ve=typeof Pe=="function"?Pe.call(Ce,we,ve):Pe,ve==null)break e;we=W({},we,ve);break e;case 2:Ni=!0}}X.callback!==null&&X.lane!==0&&(i.flags|=64,ve=A.effects,ve===null?A.effects=[X]:ve.push(X))}else Ce={eventTime:Ce,lane:ve,tag:X.tag,payload:X.payload,callback:X.callback,next:null},_e===null?(ce=_e=Ce,ee=we):_e=_e.next=Ce,q|=ve;if(X=X.next,X===null){if(X=A.shared.pending,X===null)break;ve=X,X=ve.next,ve.next=null,A.lastBaseUpdate=ve,A.shared.pending=null}}while(!0);if(_e===null&&(ee=we),A.baseState=ee,A.firstBaseUpdate=ce,A.lastBaseUpdate=_e,s=A.shared.interleaved,s!==null){A=s;do q|=A.lane,A=A.next;while(A!==s)}else x===null&&(A.shared.lanes=0);Lo|=q,i.lanes=q,i.memoizedState=we}}function Ky(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var p=i[s],A=p.callback;if(A!==null){if(p.callback=null,p=l,typeof A!="function")throw Error(t(191,A));A.call(p)}}}var Ga={},Sr=Pi(Ga),Qa=Pi(Ga),Xa=Pi(Ga);function No(i){if(i===Ga)throw Error(t(174));return i}function vh(i,s){switch(mt(Xa,s),mt(Qa,i),mt(Sr,Ga),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ct(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=ct(s,i)}vt(Sr),mt(Sr,s)}function Ms(){vt(Sr),vt(Qa),vt(Xa)}function Gy(i){No(Xa.current);var s=No(Sr.current),l=ct(s,i.type);s!==l&&(mt(Qa,i),mt(Sr,l))}function _h(i){Qa.current===i&&(vt(Sr),vt(Qa))}var bt=Pi(0);function ju(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Eh=[];function wh(){for(var i=0;i<Eh.length;i++)Eh[i]._workInProgressVersionPrimary=null;Eh.length=0}var Vu=b.ReactCurrentDispatcher,Th=b.ReactCurrentBatchConfig,Do=0,St=null,Vt=null,$t=null,Fu=!1,Ya=!1,Ja=0,BS=0;function an(){throw Error(t(321))}function bh(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!sr(i[l],s[l]))return!1;return!0}function Sh(i,s,l,p,A,x){if(Do=x,St=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Vu.current=i===null||i.memoizedState===null?WS:KS,i=l(p,A),Ya){x=0;do{if(Ya=!1,Ja=0,25<=x)throw Error(t(301));x+=1,$t=Vt=null,s.updateQueue=null,Vu.current=GS,i=l(p,A)}while(Ya)}if(Vu.current=Bu,s=Vt!==null&&Vt.next!==null,Do=0,$t=Vt=St=null,Fu=!1,s)throw Error(t(300));return i}function Ah(){var i=Ja!==0;return Ja=0,i}function Ar(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?St.memoizedState=$t=i:$t=$t.next=i,$t}function Kn(){if(Vt===null){var i=St.alternate;i=i!==null?i.memoizedState:null}else i=Vt.next;var s=$t===null?St.memoizedState:$t.next;if(s!==null)$t=s,Vt=i;else{if(i===null)throw Error(t(310));Vt=i,i={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},$t===null?St.memoizedState=$t=i:$t=$t.next=i}return $t}function Za(i,s){return typeof s=="function"?s(i):s}function Ih(i){var s=Kn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var p=Vt,A=p.baseQueue,x=l.pending;if(x!==null){if(A!==null){var q=A.next;A.next=x.next,x.next=q}p.baseQueue=A=x,l.pending=null}if(A!==null){x=A.next,p=p.baseState;var X=q=null,ee=null,ce=x;do{var _e=ce.lane;if((Do&_e)===_e)ee!==null&&(ee=ee.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),p=ce.hasEagerState?ce.eagerState:i(p,ce.action);else{var we={lane:_e,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};ee===null?(X=ee=we,q=p):ee=ee.next=we,St.lanes|=_e,Lo|=_e}ce=ce.next}while(ce!==null&&ce!==x);ee===null?q=p:ee.next=X,sr(p,s.memoizedState)||(bn=!0),s.memoizedState=p,s.baseState=q,s.baseQueue=ee,l.lastRenderedState=p}if(i=l.interleaved,i!==null){A=i;do x=A.lane,St.lanes|=x,Lo|=x,A=A.next;while(A!==i)}else A===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Ch(i){var s=Kn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var p=l.dispatch,A=l.pending,x=s.memoizedState;if(A!==null){l.pending=null;var q=A=A.next;do x=i(x,q.action),q=q.next;while(q!==A);sr(x,s.memoizedState)||(bn=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),l.lastRenderedState=x}return[x,p]}function Qy(){}function Xy(i,s){var l=St,p=Kn(),A=s(),x=!sr(p.memoizedState,A);if(x&&(p.memoizedState=A,bn=!0),p=p.queue,Rh(Zy.bind(null,l,p,i),[i]),p.getSnapshot!==s||x||$t!==null&&$t.memoizedState.tag&1){if(l.flags|=2048,el(9,Jy.bind(null,l,p,A,s),void 0,null),Ht===null)throw Error(t(349));Do&30||Yy(l,s,A)}return A}function Yy(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=St.updateQueue,s===null?(s={lastEffect:null,stores:null},St.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Jy(i,s,l,p){s.value=l,s.getSnapshot=p,ev(s)&&tv(i)}function Zy(i,s,l){return l(function(){ev(s)&&tv(i)})}function ev(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!sr(i,l)}catch{return!0}}function tv(i){var s=ei(i,1);s!==null&&fr(s,i,1,-1)}function nv(i){var s=Ar();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:i},s.queue=i,i=i.dispatch=HS.bind(null,St,i),[s.memoizedState,i]}function el(i,s,l,p){return i={tag:i,create:s,destroy:l,deps:p,next:null},s=St.updateQueue,s===null?(s={lastEffect:null,stores:null},St.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(p=l.next,l.next=i,i.next=p,s.lastEffect=i)),i}function rv(){return Kn().memoizedState}function Uu(i,s,l,p){var A=Ar();St.flags|=i,A.memoizedState=el(1|s,l,void 0,p===void 0?null:p)}function qu(i,s,l,p){var A=Kn();p=p===void 0?null:p;var x=void 0;if(Vt!==null){var q=Vt.memoizedState;if(x=q.destroy,p!==null&&bh(p,q.deps)){A.memoizedState=el(s,l,x,p);return}}St.flags|=i,A.memoizedState=el(1|s,l,x,p)}function iv(i,s){return Uu(8390656,8,i,s)}function Rh(i,s){return qu(2048,8,i,s)}function ov(i,s){return qu(4,2,i,s)}function sv(i,s){return qu(4,4,i,s)}function av(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function lv(i,s,l){return l=l!=null?l.concat([i]):null,qu(4,4,av.bind(null,s,i),l)}function kh(){}function uv(i,s){var l=Kn();s=s===void 0?null:s;var p=l.memoizedState;return p!==null&&s!==null&&bh(s,p[1])?p[0]:(l.memoizedState=[i,s],i)}function cv(i,s){var l=Kn();s=s===void 0?null:s;var p=l.memoizedState;return p!==null&&s!==null&&bh(s,p[1])?p[0]:(i=i(),l.memoizedState=[i,s],i)}function fv(i,s,l){return Do&21?(sr(l,s)||(l=bo(),St.lanes|=l,Lo|=l,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,bn=!0),i.memoizedState=l)}function zS(i,s){var l=nt;nt=l!==0&&4>l?l:4,i(!0);var p=Th.transition;Th.transition={};try{i(!1),s()}finally{nt=l,Th.transition=p}}function hv(){return Kn().memoizedState}function $S(i,s,l){var p=Vi(i);if(l={lane:p,action:l,hasEagerState:!1,eagerState:null,next:null},dv(i))pv(s,l);else if(l=$y(i,s,l,p),l!==null){var A=yn();fr(l,i,p,A),mv(l,s,p)}}function HS(i,s,l){var p=Vi(i),A={lane:p,action:l,hasEagerState:!1,eagerState:null,next:null};if(dv(i))pv(s,A);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var q=s.lastRenderedState,X=x(q,l);if(A.hasEagerState=!0,A.eagerState=X,sr(X,q)){var ee=s.interleaved;ee===null?(A.next=A,gh(s)):(A.next=ee.next,ee.next=A),s.interleaved=A;return}}catch{}finally{}l=$y(i,s,A,p),l!==null&&(A=yn(),fr(l,i,p,A),mv(l,s,p))}}function dv(i){var s=i.alternate;return i===St||s!==null&&s===St}function pv(i,s){Ya=Fu=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function mv(i,s,l){if(l&4194240){var p=s.lanes;p&=i.pendingLanes,l|=p,s.lanes=l,bi(i,l)}}var Bu={readContext:Wn,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},WS={readContext:Wn,useCallback:function(i,s){return Ar().memoizedState=[i,s===void 0?null:s],i},useContext:Wn,useEffect:iv,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,Uu(4194308,4,av.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Uu(4194308,4,i,s)},useInsertionEffect:function(i,s){return Uu(4,2,i,s)},useMemo:function(i,s){var l=Ar();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var p=Ar();return s=l!==void 0?l(s):s,p.memoizedState=p.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},p.queue=i,i=i.dispatch=$S.bind(null,St,i),[p.memoizedState,i]},useRef:function(i){var s=Ar();return i={current:i},s.memoizedState=i},useState:nv,useDebugValue:kh,useDeferredValue:function(i){return Ar().memoizedState=i},useTransition:function(){var i=nv(!1),s=i[0];return i=zS.bind(null,i[1]),Ar().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var p=St,A=Ar();if(wt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Ht===null)throw Error(t(349));Do&30||Yy(p,s,l)}A.memoizedState=l;var x={value:l,getSnapshot:s};return A.queue=x,iv(Zy.bind(null,p,x,i),[i]),p.flags|=2048,el(9,Jy.bind(null,p,x,l,s),void 0,null),l},useId:function(){var i=Ar(),s=Ht.identifierPrefix;if(wt){var l=Zr,p=Jr;l=(p&~(1<<32-pn(p)-1)).toString(32)+l,s=":"+s+"R"+l,l=Ja++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=BS++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},KS={readContext:Wn,useCallback:uv,useContext:Wn,useEffect:Rh,useImperativeHandle:lv,useInsertionEffect:ov,useLayoutEffect:sv,useMemo:cv,useReducer:Ih,useRef:rv,useState:function(){return Ih(Za)},useDebugValue:kh,useDeferredValue:function(i){var s=Kn();return fv(s,Vt.memoizedState,i)},useTransition:function(){var i=Ih(Za)[0],s=Kn().memoizedState;return[i,s]},useMutableSource:Qy,useSyncExternalStore:Xy,useId:hv,unstable_isNewReconciler:!1},GS={readContext:Wn,useCallback:uv,useContext:Wn,useEffect:Rh,useImperativeHandle:lv,useInsertionEffect:ov,useLayoutEffect:sv,useMemo:cv,useReducer:Ch,useRef:rv,useState:function(){return Ch(Za)},useDebugValue:kh,useDeferredValue:function(i){var s=Kn();return Vt===null?s.memoizedState=i:fv(s,Vt.memoizedState,i)},useTransition:function(){var i=Ch(Za)[0],s=Kn().memoizedState;return[i,s]},useMutableSource:Qy,useSyncExternalStore:Xy,useId:hv,unstable_isNewReconciler:!1};function lr(i,s){if(i&&i.defaultProps){s=W({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function Ph(i,s,l,p){s=i.memoizedState,l=l(p,s),l=l==null?s:W({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var zu={isMounted:function(i){return(i=i._reactInternals)?Zn(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var p=yn(),A=Vi(i),x=ti(p,A);x.payload=s,l!=null&&(x.callback=l),s=Di(i,x,A),s!==null&&(fr(s,i,A,p),Lu(s,i,A))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var p=yn(),A=Vi(i),x=ti(p,A);x.tag=1,x.payload=s,l!=null&&(x.callback=l),s=Di(i,x,A),s!==null&&(fr(s,i,A,p),Lu(s,i,A))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=yn(),p=Vi(i),A=ti(l,p);A.tag=2,s!=null&&(A.callback=s),s=Di(i,A,p),s!==null&&(fr(s,i,p,l),Lu(s,i,p))}};function gv(i,s,l,p,A,x,q){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,x,q):s.prototype&&s.prototype.isPureReactComponent?!Ua(l,p)||!Ua(A,x):!0}function yv(i,s,l){var p=!1,A=xi,x=s.contextType;return typeof x=="object"&&x!==null?x=Wn(x):(A=Tn(s)?ko:sn.current,p=s.contextTypes,x=(p=p!=null)?ks(i,A):xi),s=new s(l,x),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=zu,i.stateNode=s,s._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=A,i.__reactInternalMemoizedMaskedChildContext=x),s}function vv(i,s,l,p){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,p),s.state!==i&&zu.enqueueReplaceState(s,s.state,null)}function xh(i,s,l,p){var A=i.stateNode;A.props=l,A.state=i.memoizedState,A.refs={},yh(i);var x=s.contextType;typeof x=="object"&&x!==null?A.context=Wn(x):(x=Tn(s)?ko:sn.current,A.context=ks(i,x)),A.state=i.memoizedState,x=s.getDerivedStateFromProps,typeof x=="function"&&(Ph(i,s,x,l),A.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(s=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),s!==A.state&&zu.enqueueReplaceState(A,A.state,null),Mu(i,l,A,p),A.state=i.memoizedState),typeof A.componentDidMount=="function"&&(i.flags|=4194308)}function js(i,s){try{var l="",p=s;do l+=te(p),p=p.return;while(p);var A=l}catch(x){A=`
Error generating stack: `+x.message+`
`+x.stack}return{value:i,source:s,stack:A,digest:null}}function Oh(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function Nh(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var QS=typeof WeakMap=="function"?WeakMap:Map;function _v(i,s,l){l=ti(-1,l),l.tag=3,l.payload={element:null};var p=s.value;return l.callback=function(){Xu||(Xu=!0,Gh=p),Nh(i,s)},l}function Ev(i,s,l){l=ti(-1,l),l.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var A=s.value;l.payload=function(){return p(A)},l.callback=function(){Nh(i,s)}}var x=i.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(l.callback=function(){Nh(i,s),typeof p!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var q=s.stack;this.componentDidCatch(s.value,{componentStack:q!==null?q:""})}),l}function wv(i,s,l){var p=i.pingCache;if(p===null){p=i.pingCache=new QS;var A=new Set;p.set(s,A)}else A=p.get(s),A===void 0&&(A=new Set,p.set(s,A));A.has(l)||(A.add(l),i=uA.bind(null,i,s,l),s.then(i,i))}function Tv(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function bv(i,s,l,p,A){return i.mode&1?(i.flags|=65536,i.lanes=A,i):(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=ti(-1,1),s.tag=2,Di(l,s,1))),l.lanes|=1),i)}var XS=b.ReactCurrentOwner,bn=!1;function gn(i,s,l,p){s.child=i===null?zy(s,null,l,p):Ns(s,i.child,l,p)}function Sv(i,s,l,p,A){l=l.render;var x=s.ref;return Ls(s,A),p=Sh(i,s,l,p,x,A),l=Ah(),i!==null&&!bn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~A,ni(i,s,A)):(wt&&l&&ah(s),s.flags|=1,gn(i,s,p,A),s.child)}function Av(i,s,l,p,A){if(i===null){var x=l.type;return typeof x=="function"&&!td(x)&&x.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=x,Iv(i,s,x,p,A)):(i=nc(l.type,null,p,s,s.mode,A),i.ref=s.ref,i.return=s,s.child=i)}if(x=i.child,!(i.lanes&A)){var q=x.memoizedProps;if(l=l.compare,l=l!==null?l:Ua,l(q,p)&&i.ref===s.ref)return ni(i,s,A)}return s.flags|=1,i=Ui(x,p),i.ref=s.ref,i.return=s,s.child=i}function Iv(i,s,l,p,A){if(i!==null){var x=i.memoizedProps;if(Ua(x,p)&&i.ref===s.ref)if(bn=!1,s.pendingProps=p=x,(i.lanes&A)!==0)i.flags&131072&&(bn=!0);else return s.lanes=i.lanes,ni(i,s,A)}return Dh(i,s,l,p,A)}function Cv(i,s,l){var p=s.pendingProps,A=p.children,x=i!==null?i.memoizedState:null;if(p.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Fs,Mn),Mn|=l;else{if(!(l&1073741824))return i=x!==null?x.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,mt(Fs,Mn),Mn|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=x!==null?x.baseLanes:l,mt(Fs,Mn),Mn|=p}else x!==null?(p=x.baseLanes|l,s.memoizedState=null):p=l,mt(Fs,Mn),Mn|=p;return gn(i,s,A,l),s.child}function Rv(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Dh(i,s,l,p,A){var x=Tn(l)?ko:sn.current;return x=ks(s,x),Ls(s,A),l=Sh(i,s,l,p,x,A),p=Ah(),i!==null&&!bn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~A,ni(i,s,A)):(wt&&p&&ah(s),s.flags|=1,gn(i,s,l,A),s.child)}function kv(i,s,l,p,A){if(Tn(l)){var x=!0;Cu(s)}else x=!1;if(Ls(s,A),s.stateNode===null)Hu(i,s),yv(s,l,p),xh(s,l,p,A),p=!0;else if(i===null){var q=s.stateNode,X=s.memoizedProps;q.props=X;var ee=q.context,ce=l.contextType;typeof ce=="object"&&ce!==null?ce=Wn(ce):(ce=Tn(l)?ko:sn.current,ce=ks(s,ce));var _e=l.getDerivedStateFromProps,we=typeof _e=="function"||typeof q.getSnapshotBeforeUpdate=="function";we||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(X!==p||ee!==ce)&&vv(s,q,p,ce),Ni=!1;var ve=s.memoizedState;q.state=ve,Mu(s,p,q,A),ee=s.memoizedState,X!==p||ve!==ee||wn.current||Ni?(typeof _e=="function"&&(Ph(s,l,_e,p),ee=s.memoizedState),(X=Ni||gv(s,l,X,p,ve,ee,ce))?(we||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(s.flags|=4194308)):(typeof q.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=ee),q.props=p,q.state=ee,q.context=ce,p=X):(typeof q.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{q=s.stateNode,Hy(i,s),X=s.memoizedProps,ce=s.type===s.elementType?X:lr(s.type,X),q.props=ce,we=s.pendingProps,ve=q.context,ee=l.contextType,typeof ee=="object"&&ee!==null?ee=Wn(ee):(ee=Tn(l)?ko:sn.current,ee=ks(s,ee));var Ce=l.getDerivedStateFromProps;(_e=typeof Ce=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(X!==we||ve!==ee)&&vv(s,q,p,ee),Ni=!1,ve=s.memoizedState,q.state=ve,Mu(s,p,q,A);var Pe=s.memoizedState;X!==we||ve!==Pe||wn.current||Ni?(typeof Ce=="function"&&(Ph(s,l,Ce,p),Pe=s.memoizedState),(ce=Ni||gv(s,l,ce,p,ve,Pe,ee)||!1)?(_e||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(p,Pe,ee),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(p,Pe,ee)),typeof q.componentDidUpdate=="function"&&(s.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof q.componentDidUpdate!="function"||X===i.memoizedProps&&ve===i.memoizedState||(s.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||X===i.memoizedProps&&ve===i.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=Pe),q.props=p,q.state=Pe,q.context=ee,p=ce):(typeof q.componentDidUpdate!="function"||X===i.memoizedProps&&ve===i.memoizedState||(s.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||X===i.memoizedProps&&ve===i.memoizedState||(s.flags|=1024),p=!1)}return Lh(i,s,l,p,x,A)}function Lh(i,s,l,p,A,x){Rv(i,s);var q=(s.flags&128)!==0;if(!p&&!q)return A&&Dy(s,l,!1),ni(i,s,x);p=s.stateNode,XS.current=s;var X=q&&typeof l.getDerivedStateFromError!="function"?null:p.render();return s.flags|=1,i!==null&&q?(s.child=Ns(s,i.child,null,x),s.child=Ns(s,null,X,x)):gn(i,s,X,x),s.memoizedState=p.state,A&&Dy(s,l,!0),s.child}function Pv(i){var s=i.stateNode;s.pendingContext?Oy(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Oy(i,s.context,!1),vh(i,s.containerInfo)}function xv(i,s,l,p,A){return Os(),fh(A),s.flags|=256,gn(i,s,l,p),s.child}var Mh={dehydrated:null,treeContext:null,retryLane:0};function jh(i){return{baseLanes:i,cachePool:null,transitions:null}}function Ov(i,s,l){var p=s.pendingProps,A=bt.current,x=!1,q=(s.flags&128)!==0,X;if((X=q)||(X=i!==null&&i.memoizedState===null?!1:(A&2)!==0),X?(x=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(A|=1),mt(bt,A&1),i===null)return ch(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(q=p.children,i=p.fallback,x?(p=s.mode,x=s.child,q={mode:"hidden",children:q},!(p&1)&&x!==null?(x.childLanes=0,x.pendingProps=q):x=rc(q,p,0,null),i=Fo(i,p,l,null),x.return=s,i.return=s,x.sibling=i,s.child=x,s.child.memoizedState=jh(l),s.memoizedState=Mh,i):Vh(s,q));if(A=i.memoizedState,A!==null&&(X=A.dehydrated,X!==null))return YS(i,s,q,p,X,A,l);if(x){x=p.fallback,q=s.mode,A=i.child,X=A.sibling;var ee={mode:"hidden",children:p.children};return!(q&1)&&s.child!==A?(p=s.child,p.childLanes=0,p.pendingProps=ee,s.deletions=null):(p=Ui(A,ee),p.subtreeFlags=A.subtreeFlags&14680064),X!==null?x=Ui(X,x):(x=Fo(x,q,l,null),x.flags|=2),x.return=s,p.return=s,p.sibling=x,s.child=p,p=x,x=s.child,q=i.child.memoizedState,q=q===null?jh(l):{baseLanes:q.baseLanes|l,cachePool:null,transitions:q.transitions},x.memoizedState=q,x.childLanes=i.childLanes&~l,s.memoizedState=Mh,p}return x=i.child,i=x.sibling,p=Ui(x,{mode:"visible",children:p.children}),!(s.mode&1)&&(p.lanes=l),p.return=s,p.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=p,s.memoizedState=null,p}function Vh(i,s){return s=rc({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function $u(i,s,l,p){return p!==null&&fh(p),Ns(s,i.child,null,l),i=Vh(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function YS(i,s,l,p,A,x,q){if(l)return s.flags&256?(s.flags&=-257,p=Oh(Error(t(422))),$u(i,s,q,p)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(x=p.fallback,A=s.mode,p=rc({mode:"visible",children:p.children},A,0,null),x=Fo(x,A,q,null),x.flags|=2,p.return=s,x.return=s,p.sibling=x,s.child=p,s.mode&1&&Ns(s,i.child,null,q),s.child.memoizedState=jh(q),s.memoizedState=Mh,x);if(!(s.mode&1))return $u(i,s,q,null);if(A.data==="$!"){if(p=A.nextSibling&&A.nextSibling.dataset,p)var X=p.dgst;return p=X,x=Error(t(419)),p=Oh(x,p,void 0),$u(i,s,q,p)}if(X=(q&i.childLanes)!==0,bn||X){if(p=Ht,p!==null){switch(q&-q){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=A&(p.suspendedLanes|q)?0:A,A!==0&&A!==x.retryLane&&(x.retryLane=A,ei(i,A),fr(p,i,A,-1))}return ed(),p=Oh(Error(t(421))),$u(i,s,q,p)}return A.data==="$?"?(s.flags|=128,s.child=i.child,s=cA.bind(null,i),A._reactRetry=s,null):(i=x.treeContext,Ln=ki(A.nextSibling),Dn=s,wt=!0,ar=null,i!==null&&($n[Hn++]=Jr,$n[Hn++]=Zr,$n[Hn++]=Po,Jr=i.id,Zr=i.overflow,Po=s),s=Vh(s,p.children),s.flags|=4096,s)}function Nv(i,s,l){i.lanes|=s;var p=i.alternate;p!==null&&(p.lanes|=s),mh(i.return,s,l)}function Fh(i,s,l,p,A){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:l,tailMode:A}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=l,x.tailMode=A)}function Dv(i,s,l){var p=s.pendingProps,A=p.revealOrder,x=p.tail;if(gn(i,s,p.children,l),p=bt.current,p&2)p=p&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Nv(i,l,s);else if(i.tag===19)Nv(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(mt(bt,p),!(s.mode&1))s.memoizedState=null;else switch(A){case"forwards":for(l=s.child,A=null;l!==null;)i=l.alternate,i!==null&&ju(i)===null&&(A=l),l=l.sibling;l=A,l===null?(A=s.child,s.child=null):(A=l.sibling,l.sibling=null),Fh(s,!1,A,l,x);break;case"backwards":for(l=null,A=s.child,s.child=null;A!==null;){if(i=A.alternate,i!==null&&ju(i)===null){s.child=A;break}i=A.sibling,A.sibling=l,l=A,A=i}Fh(s,!0,l,null,x);break;case"together":Fh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Hu(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function ni(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Lo|=s.lanes,!(l&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=Ui(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Ui(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function JS(i,s,l){switch(s.tag){case 3:Pv(s),Os();break;case 5:Gy(s);break;case 1:Tn(s.type)&&Cu(s);break;case 4:vh(s,s.stateNode.containerInfo);break;case 10:var p=s.type._context,A=s.memoizedProps.value;mt(Nu,p._currentValue),p._currentValue=A;break;case 13:if(p=s.memoizedState,p!==null)return p.dehydrated!==null?(mt(bt,bt.current&1),s.flags|=128,null):l&s.child.childLanes?Ov(i,s,l):(mt(bt,bt.current&1),i=ni(i,s,l),i!==null?i.sibling:null);mt(bt,bt.current&1);break;case 19:if(p=(l&s.childLanes)!==0,i.flags&128){if(p)return Dv(i,s,l);s.flags|=128}if(A=s.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),mt(bt,bt.current),p)break;return null;case 22:case 23:return s.lanes=0,Cv(i,s,l)}return ni(i,s,l)}var Lv,Uh,Mv,jv;Lv=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Uh=function(){},Mv=function(i,s,l,p){var A=i.memoizedProps;if(A!==p){i=s.stateNode,No(Sr.current);var x=null;switch(l){case"input":A=Ge(i,A),p=Ge(i,p),x=[];break;case"select":A=W({},A,{value:void 0}),p=W({},p,{value:void 0}),x=[];break;case"textarea":A=ye(i,A),p=ye(i,p),x=[];break;default:typeof A.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=Su)}wa(l,p);var q;l=null;for(ce in A)if(!p.hasOwnProperty(ce)&&A.hasOwnProperty(ce)&&A[ce]!=null)if(ce==="style"){var X=A[ce];for(q in X)X.hasOwnProperty(q)&&(l||(l={}),l[q]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(o.hasOwnProperty(ce)?x||(x=[]):(x=x||[]).push(ce,null));for(ce in p){var ee=p[ce];if(X=A!=null?A[ce]:void 0,p.hasOwnProperty(ce)&&ee!==X&&(ee!=null||X!=null))if(ce==="style")if(X){for(q in X)!X.hasOwnProperty(q)||ee&&ee.hasOwnProperty(q)||(l||(l={}),l[q]="");for(q in ee)ee.hasOwnProperty(q)&&X[q]!==ee[q]&&(l||(l={}),l[q]=ee[q])}else l||(x||(x=[]),x.push(ce,l)),l=ee;else ce==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,X=X?X.__html:void 0,ee!=null&&X!==ee&&(x=x||[]).push(ce,ee)):ce==="children"?typeof ee!="string"&&typeof ee!="number"||(x=x||[]).push(ce,""+ee):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(o.hasOwnProperty(ce)?(ee!=null&&ce==="onScroll"&&yt("scroll",i),x||X===ee||(x=[])):(x=x||[]).push(ce,ee))}l&&(x=x||[]).push("style",l);var ce=x;(s.updateQueue=ce)&&(s.flags|=4)}},jv=function(i,s,l,p){l!==p&&(s.flags|=4)};function tl(i,s){if(!wt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function ln(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,p=0;if(s)for(var A=i.child;A!==null;)l|=A.lanes|A.childLanes,p|=A.subtreeFlags&14680064,p|=A.flags&14680064,A.return=i,A=A.sibling;else for(A=i.child;A!==null;)l|=A.lanes|A.childLanes,p|=A.subtreeFlags,p|=A.flags,A.return=i,A=A.sibling;return i.subtreeFlags|=p,i.childLanes=l,s}function ZS(i,s,l){var p=s.pendingProps;switch(lh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(s),null;case 1:return Tn(s.type)&&Iu(),ln(s),null;case 3:return p=s.stateNode,Ms(),vt(wn),vt(sn),wh(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(xu(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,ar!==null&&(Yh(ar),ar=null))),Uh(i,s),ln(s),null;case 5:_h(s);var A=No(Xa.current);if(l=s.type,i!==null&&s.stateNode!=null)Mv(i,s,l,p,A),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!p){if(s.stateNode===null)throw Error(t(166));return ln(s),null}if(i=No(Sr.current),xu(s)){p=s.stateNode,l=s.type;var x=s.memoizedProps;switch(p[br]=s,p[Ha]=x,i=(s.mode&1)!==0,l){case"dialog":yt("cancel",p),yt("close",p);break;case"iframe":case"object":case"embed":yt("load",p);break;case"video":case"audio":for(A=0;A<Ba.length;A++)yt(Ba[A],p);break;case"source":yt("error",p);break;case"img":case"image":case"link":yt("error",p),yt("load",p);break;case"details":yt("toggle",p);break;case"input":Je(p,x),yt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!x.multiple},yt("invalid",p);break;case"textarea":$e(p,x),yt("invalid",p)}wa(l,x),A=null;for(var q in x)if(x.hasOwnProperty(q)){var X=x[q];q==="children"?typeof X=="string"?p.textContent!==X&&(x.suppressHydrationWarning!==!0&&bu(p.textContent,X,i),A=["children",X]):typeof X=="number"&&p.textContent!==""+X&&(x.suppressHydrationWarning!==!0&&bu(p.textContent,X,i),A=["children",""+X]):o.hasOwnProperty(q)&&X!=null&&q==="onScroll"&&yt("scroll",p)}switch(l){case"input":Ie(p),de(p,x,!0);break;case"textarea":Ie(p),Qe(p);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(p.onclick=Su)}p=A,s.updateQueue=p,p!==null&&(s.flags|=4)}else{q=A.nodeType===9?A:A.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=at(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=q.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=q.createElement(l,{is:p.is}):(i=q.createElement(l),l==="select"&&(q=i,p.multiple?q.multiple=!0:p.size&&(q.size=p.size))):i=q.createElementNS(i,l),i[br]=s,i[Ha]=p,Lv(i,s,!1,!1),s.stateNode=i;e:{switch(q=Ta(l,p),l){case"dialog":yt("cancel",i),yt("close",i),A=p;break;case"iframe":case"object":case"embed":yt("load",i),A=p;break;case"video":case"audio":for(A=0;A<Ba.length;A++)yt(Ba[A],i);A=p;break;case"source":yt("error",i),A=p;break;case"img":case"image":case"link":yt("error",i),yt("load",i),A=p;break;case"details":yt("toggle",i),A=p;break;case"input":Je(i,p),A=Ge(i,p),yt("invalid",i);break;case"option":A=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},A=W({},p,{value:void 0}),yt("invalid",i);break;case"textarea":$e(i,p),A=ye(i,p),yt("invalid",i);break;default:A=p}wa(l,A),X=A;for(x in X)if(X.hasOwnProperty(x)){var ee=X[x];x==="style"?_a(i,ee):x==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,ee!=null&&ho(i,ee)):x==="children"?typeof ee=="string"?(l!=="textarea"||ee!=="")&&ft(i,ee):typeof ee=="number"&&ft(i,""+ee):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?ee!=null&&x==="onScroll"&&yt("scroll",i):ee!=null&&R(i,x,ee,q))}switch(l){case"input":Ie(i),de(i,p,!1);break;case"textarea":Ie(i),Qe(i);break;case"option":p.value!=null&&i.setAttribute("value",""+oe(p.value));break;case"select":i.multiple=!!p.multiple,x=p.value,x!=null?Ae(i,!!p.multiple,x,!1):p.defaultValue!=null&&Ae(i,!!p.multiple,p.defaultValue,!0);break;default:typeof A.onClick=="function"&&(i.onclick=Su)}switch(l){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return ln(s),null;case 6:if(i&&s.stateNode!=null)jv(i,s,i.memoizedProps,p);else{if(typeof p!="string"&&s.stateNode===null)throw Error(t(166));if(l=No(Xa.current),No(Sr.current),xu(s)){if(p=s.stateNode,l=s.memoizedProps,p[br]=s,(x=p.nodeValue!==l)&&(i=Dn,i!==null))switch(i.tag){case 3:bu(p.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&bu(p.nodeValue,l,(i.mode&1)!==0)}x&&(s.flags|=4)}else p=(l.nodeType===9?l:l.ownerDocument).createTextNode(p),p[br]=s,s.stateNode=p}return ln(s),null;case 13:if(vt(bt),p=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(wt&&Ln!==null&&s.mode&1&&!(s.flags&128))Uy(),Os(),s.flags|=98560,x=!1;else if(x=xu(s),p!==null&&p.dehydrated!==null){if(i===null){if(!x)throw Error(t(318));if(x=s.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[br]=s}else Os(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;ln(s),x=!1}else ar!==null&&(Yh(ar),ar=null),x=!0;if(!x)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(s.child.flags|=8192,s.mode&1&&(i===null||bt.current&1?Ft===0&&(Ft=3):ed())),s.updateQueue!==null&&(s.flags|=4),ln(s),null);case 4:return Ms(),Uh(i,s),i===null&&za(s.stateNode.containerInfo),ln(s),null;case 10:return ph(s.type._context),ln(s),null;case 17:return Tn(s.type)&&Iu(),ln(s),null;case 19:if(vt(bt),x=s.memoizedState,x===null)return ln(s),null;if(p=(s.flags&128)!==0,q=x.rendering,q===null)if(p)tl(x,!1);else{if(Ft!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(q=ju(i),q!==null){for(s.flags|=128,tl(x,!1),p=q.updateQueue,p!==null&&(s.updateQueue=p,s.flags|=4),s.subtreeFlags=0,p=l,l=s.child;l!==null;)x=l,i=p,x.flags&=14680066,q=x.alternate,q===null?(x.childLanes=0,x.lanes=i,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=q.childLanes,x.lanes=q.lanes,x.child=q.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=q.memoizedProps,x.memoizedState=q.memoizedState,x.updateQueue=q.updateQueue,x.type=q.type,i=q.dependencies,x.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return mt(bt,bt.current&1|2),s.child}i=i.sibling}x.tail!==null&&pt()>Us&&(s.flags|=128,p=!0,tl(x,!1),s.lanes=4194304)}else{if(!p)if(i=ju(q),i!==null){if(s.flags|=128,p=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),tl(x,!0),x.tail===null&&x.tailMode==="hidden"&&!q.alternate&&!wt)return ln(s),null}else 2*pt()-x.renderingStartTime>Us&&l!==1073741824&&(s.flags|=128,p=!0,tl(x,!1),s.lanes=4194304);x.isBackwards?(q.sibling=s.child,s.child=q):(l=x.last,l!==null?l.sibling=q:s.child=q,x.last=q)}return x.tail!==null?(s=x.tail,x.rendering=s,x.tail=s.sibling,x.renderingStartTime=pt(),s.sibling=null,l=bt.current,mt(bt,p?l&1|2:l&1),s):(ln(s),null);case 22:case 23:return Zh(),p=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(s.flags|=8192),p&&s.mode&1?Mn&1073741824&&(ln(s),s.subtreeFlags&6&&(s.flags|=8192)):ln(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function eA(i,s){switch(lh(s),s.tag){case 1:return Tn(s.type)&&Iu(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ms(),vt(wn),vt(sn),wh(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return _h(s),null;case 13:if(vt(bt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Os()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return vt(bt),null;case 4:return Ms(),null;case 10:return ph(s.type._context),null;case 22:case 23:return Zh(),null;case 24:return null;default:return null}}var Wu=!1,un=!1,tA=typeof WeakSet=="function"?WeakSet:Set,ke=null;function Vs(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(p){Rt(i,s,p)}else l.current=null}function qh(i,s,l){try{l()}catch(p){Rt(i,s,p)}}var Vv=!1;function nA(i,s){if(Zf=Ii,i=gy(),Hf(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var p=l.getSelection&&l.getSelection();if(p&&p.rangeCount!==0){l=p.anchorNode;var A=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var q=0,X=-1,ee=-1,ce=0,_e=0,we=i,ve=null;t:for(;;){for(var Ce;we!==l||A!==0&&we.nodeType!==3||(X=q+A),we!==x||p!==0&&we.nodeType!==3||(ee=q+p),we.nodeType===3&&(q+=we.nodeValue.length),(Ce=we.firstChild)!==null;)ve=we,we=Ce;for(;;){if(we===i)break t;if(ve===l&&++ce===A&&(X=q),ve===x&&++_e===p&&(ee=q),(Ce=we.nextSibling)!==null)break;we=ve,ve=we.parentNode}we=Ce}l=X===-1||ee===-1?null:{start:X,end:ee}}else l=null}l=l||{start:0,end:0}}else l=null;for(eh={focusedElem:i,selectionRange:l},Ii=!1,ke=s;ke!==null;)if(s=ke,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,ke=i;else for(;ke!==null;){s=ke;try{var Pe=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var xe=Pe.memoizedProps,Pt=Pe.memoizedState,le=s.stateNode,ie=le.getSnapshotBeforeUpdate(s.elementType===s.type?xe:lr(s.type,xe),Pt);le.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:var ue=s.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Te){Rt(s,s.return,Te)}if(i=s.sibling,i!==null){i.return=s.return,ke=i;break}ke=s.return}return Pe=Vv,Vv=!1,Pe}function nl(i,s,l){var p=s.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var A=p=p.next;do{if((A.tag&i)===i){var x=A.destroy;A.destroy=void 0,x!==void 0&&qh(s,l,x)}A=A.next}while(A!==p)}}function Ku(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var p=l.create;l.destroy=p()}l=l.next}while(l!==s)}}function Bh(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function Fv(i){var s=i.alternate;s!==null&&(i.alternate=null,Fv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[br],delete s[Ha],delete s[ih],delete s[VS],delete s[FS])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Uv(i){return i.tag===5||i.tag===3||i.tag===4}function qv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Uv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function zh(i,s,l){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Su));else if(p!==4&&(i=i.child,i!==null))for(zh(i,s,l),i=i.sibling;i!==null;)zh(i,s,l),i=i.sibling}function $h(i,s,l){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for($h(i,s,l),i=i.sibling;i!==null;)$h(i,s,l),i=i.sibling}var Jt=null,ur=!1;function Li(i,s,l){for(l=l.child;l!==null;)Bv(i,s,l),l=l.sibling}function Bv(i,s,l){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(wo,l)}catch{}switch(l.tag){case 5:un||Vs(l,s);case 6:var p=Jt,A=ur;Jt=null,Li(i,s,l),Jt=p,ur=A,Jt!==null&&(ur?(i=Jt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Jt.removeChild(l.stateNode));break;case 18:Jt!==null&&(ur?(i=Jt,l=l.stateNode,i.nodeType===8?rh(i.parentNode,l):i.nodeType===1&&rh(i,l),ir(i)):rh(Jt,l.stateNode));break;case 4:p=Jt,A=ur,Jt=l.stateNode.containerInfo,ur=!0,Li(i,s,l),Jt=p,ur=A;break;case 0:case 11:case 14:case 15:if(!un&&(p=l.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){A=p=p.next;do{var x=A,q=x.destroy;x=x.tag,q!==void 0&&(x&2||x&4)&&qh(l,s,q),A=A.next}while(A!==p)}Li(i,s,l);break;case 1:if(!un&&(Vs(l,s),p=l.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=l.memoizedProps,p.state=l.memoizedState,p.componentWillUnmount()}catch(X){Rt(l,s,X)}Li(i,s,l);break;case 21:Li(i,s,l);break;case 22:l.mode&1?(un=(p=un)||l.memoizedState!==null,Li(i,s,l),un=p):Li(i,s,l);break;default:Li(i,s,l)}}function zv(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new tA),s.forEach(function(p){var A=fA.bind(null,i,p);l.has(p)||(l.add(p),p.then(A,A))})}}function cr(i,s){var l=s.deletions;if(l!==null)for(var p=0;p<l.length;p++){var A=l[p];try{var x=i,q=s,X=q;e:for(;X!==null;){switch(X.tag){case 5:Jt=X.stateNode,ur=!1;break e;case 3:Jt=X.stateNode.containerInfo,ur=!0;break e;case 4:Jt=X.stateNode.containerInfo,ur=!0;break e}X=X.return}if(Jt===null)throw Error(t(160));Bv(x,q,A),Jt=null,ur=!1;var ee=A.alternate;ee!==null&&(ee.return=null),A.return=null}catch(ce){Rt(A,s,ce)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)$v(s,i),s=s.sibling}function $v(i,s){var l=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(cr(s,i),Ir(i),p&4){try{nl(3,i,i.return),Ku(3,i)}catch(xe){Rt(i,i.return,xe)}try{nl(5,i,i.return)}catch(xe){Rt(i,i.return,xe)}}break;case 1:cr(s,i),Ir(i),p&512&&l!==null&&Vs(l,l.return);break;case 5:if(cr(s,i),Ir(i),p&512&&l!==null&&Vs(l,l.return),i.flags&32){var A=i.stateNode;try{ft(A,"")}catch(xe){Rt(i,i.return,xe)}}if(p&4&&(A=i.stateNode,A!=null)){var x=i.memoizedProps,q=l!==null?l.memoizedProps:x,X=i.type,ee=i.updateQueue;if(i.updateQueue=null,ee!==null)try{X==="input"&&x.type==="radio"&&x.name!=null&&Ot(A,x),Ta(X,q);var ce=Ta(X,x);for(q=0;q<ee.length;q+=2){var _e=ee[q],we=ee[q+1];_e==="style"?_a(A,we):_e==="dangerouslySetInnerHTML"?ho(A,we):_e==="children"?ft(A,we):R(A,_e,we,ce)}switch(X){case"input":gt(A,x);break;case"textarea":He(A,x);break;case"select":var ve=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!x.multiple;var Ce=x.value;Ce!=null?Ae(A,!!x.multiple,Ce,!1):ve!==!!x.multiple&&(x.defaultValue!=null?Ae(A,!!x.multiple,x.defaultValue,!0):Ae(A,!!x.multiple,x.multiple?[]:"",!1))}A[Ha]=x}catch(xe){Rt(i,i.return,xe)}}break;case 6:if(cr(s,i),Ir(i),p&4){if(i.stateNode===null)throw Error(t(162));A=i.stateNode,x=i.memoizedProps;try{A.nodeValue=x}catch(xe){Rt(i,i.return,xe)}}break;case 3:if(cr(s,i),Ir(i),p&4&&l!==null&&l.memoizedState.isDehydrated)try{ir(s.containerInfo)}catch(xe){Rt(i,i.return,xe)}break;case 4:cr(s,i),Ir(i);break;case 13:cr(s,i),Ir(i),A=i.child,A.flags&8192&&(x=A.memoizedState!==null,A.stateNode.isHidden=x,!x||A.alternate!==null&&A.alternate.memoizedState!==null||(Kh=pt())),p&4&&zv(i);break;case 22:if(_e=l!==null&&l.memoizedState!==null,i.mode&1?(un=(ce=un)||_e,cr(s,i),un=ce):cr(s,i),Ir(i),p&8192){if(ce=i.memoizedState!==null,(i.stateNode.isHidden=ce)&&!_e&&i.mode&1)for(ke=i,_e=i.child;_e!==null;){for(we=ke=_e;ke!==null;){switch(ve=ke,Ce=ve.child,ve.tag){case 0:case 11:case 14:case 15:nl(4,ve,ve.return);break;case 1:Vs(ve,ve.return);var Pe=ve.stateNode;if(typeof Pe.componentWillUnmount=="function"){p=ve,l=ve.return;try{s=p,Pe.props=s.memoizedProps,Pe.state=s.memoizedState,Pe.componentWillUnmount()}catch(xe){Rt(p,l,xe)}}break;case 5:Vs(ve,ve.return);break;case 22:if(ve.memoizedState!==null){Kv(we);continue}}Ce!==null?(Ce.return=ve,ke=Ce):Kv(we)}_e=_e.sibling}e:for(_e=null,we=i;;){if(we.tag===5){if(_e===null){_e=we;try{A=we.stateNode,ce?(x=A.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(X=we.stateNode,ee=we.memoizedProps.style,q=ee!=null&&ee.hasOwnProperty("display")?ee.display:null,X.style.display=va("display",q))}catch(xe){Rt(i,i.return,xe)}}}else if(we.tag===6){if(_e===null)try{we.stateNode.nodeValue=ce?"":we.memoizedProps}catch(xe){Rt(i,i.return,xe)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===i)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===i)break e;for(;we.sibling===null;){if(we.return===null||we.return===i)break e;_e===we&&(_e=null),we=we.return}_e===we&&(_e=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:cr(s,i),Ir(i),p&4&&zv(i);break;case 21:break;default:cr(s,i),Ir(i)}}function Ir(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(Uv(l)){var p=l;break e}l=l.return}throw Error(t(160))}switch(p.tag){case 5:var A=p.stateNode;p.flags&32&&(ft(A,""),p.flags&=-33);var x=qv(i);$h(i,x,A);break;case 3:case 4:var q=p.stateNode.containerInfo,X=qv(i);zh(i,X,q);break;default:throw Error(t(161))}}catch(ee){Rt(i,i.return,ee)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function rA(i,s,l){ke=i,Hv(i)}function Hv(i,s,l){for(var p=(i.mode&1)!==0;ke!==null;){var A=ke,x=A.child;if(A.tag===22&&p){var q=A.memoizedState!==null||Wu;if(!q){var X=A.alternate,ee=X!==null&&X.memoizedState!==null||un;X=Wu;var ce=un;if(Wu=q,(un=ee)&&!ce)for(ke=A;ke!==null;)q=ke,ee=q.child,q.tag===22&&q.memoizedState!==null?Gv(A):ee!==null?(ee.return=q,ke=ee):Gv(A);for(;x!==null;)ke=x,Hv(x),x=x.sibling;ke=A,Wu=X,un=ce}Wv(i)}else A.subtreeFlags&8772&&x!==null?(x.return=A,ke=x):Wv(i)}}function Wv(i){for(;ke!==null;){var s=ke;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:un||Ku(5,s);break;case 1:var p=s.stateNode;if(s.flags&4&&!un)if(l===null)p.componentDidMount();else{var A=s.elementType===s.type?l.memoizedProps:lr(s.type,l.memoizedProps);p.componentDidUpdate(A,l.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var x=s.updateQueue;x!==null&&Ky(s,x,p);break;case 3:var q=s.updateQueue;if(q!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Ky(s,q,l)}break;case 5:var X=s.stateNode;if(l===null&&s.flags&4){l=X;var ee=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":ee.autoFocus&&l.focus();break;case"img":ee.src&&(l.src=ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var ce=s.alternate;if(ce!==null){var _e=ce.memoizedState;if(_e!==null){var we=_e.dehydrated;we!==null&&ir(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}un||s.flags&512&&Bh(s)}catch(ve){Rt(s,s.return,ve)}}if(s===i){ke=null;break}if(l=s.sibling,l!==null){l.return=s.return,ke=l;break}ke=s.return}}function Kv(i){for(;ke!==null;){var s=ke;if(s===i){ke=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ke=l;break}ke=s.return}}function Gv(i){for(;ke!==null;){var s=ke;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Ku(4,s)}catch(ee){Rt(s,l,ee)}break;case 1:var p=s.stateNode;if(typeof p.componentDidMount=="function"){var A=s.return;try{p.componentDidMount()}catch(ee){Rt(s,A,ee)}}var x=s.return;try{Bh(s)}catch(ee){Rt(s,x,ee)}break;case 5:var q=s.return;try{Bh(s)}catch(ee){Rt(s,q,ee)}}}catch(ee){Rt(s,s.return,ee)}if(s===i){ke=null;break}var X=s.sibling;if(X!==null){X.return=s.return,ke=X;break}ke=s.return}}var iA=Math.ceil,Gu=b.ReactCurrentDispatcher,Hh=b.ReactCurrentOwner,Gn=b.ReactCurrentBatchConfig,st=0,Ht=null,Dt=null,Zt=0,Mn=0,Fs=Pi(0),Ft=0,rl=null,Lo=0,Qu=0,Wh=0,il=null,Sn=null,Kh=0,Us=1/0,ri=null,Xu=!1,Gh=null,Mi=null,Yu=!1,ji=null,Ju=0,ol=0,Qh=null,Zu=-1,ec=0;function yn(){return st&6?pt():Zu!==-1?Zu:Zu=pt()}function Vi(i){return i.mode&1?st&2&&Zt!==0?Zt&-Zt:qS.transition!==null?(ec===0&&(ec=bo()),ec):(i=nt,i!==0||(i=window.event,i=i===void 0?16:Na(i.type)),i):1}function fr(i,s,l,p){if(50<ol)throw ol=0,Qh=null,Error(t(185));Ti(i,l,p),(!(st&2)||i!==Ht)&&(i===Ht&&(!(st&2)&&(Qu|=l),Ft===4&&Fi(i,Zt)),An(i,p),l===1&&st===0&&!(s.mode&1)&&(Us=pt()+500,Ru&&Oi()))}function An(i,s){var l=i.callbackNode;Hr(i,s);var p=To(i,i===Ht?Zt:0);if(p===0)l!==null&&Ra(l),i.callbackNode=null,i.callbackPriority=0;else if(s=p&-p,i.callbackPriority!==s){if(l!=null&&Ra(l),s===1)i.tag===0?US(Xv.bind(null,i)):Ly(Xv.bind(null,i)),MS(function(){!(st&6)&&Oi()}),l=null;else{switch(Si(p)){case 1:l=Eo;break;case 4:l=_i;break;case 16:l=qn;break;case 536870912:l=eu;break;default:l=qn}l=i_(l,Qv.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function Qv(i,s){if(Zu=-1,ec=0,st&6)throw Error(t(327));var l=i.callbackNode;if(qs()&&i.callbackNode!==l)return null;var p=To(i,i===Ht?Zt:0);if(p===0)return null;if(p&30||p&i.expiredLanes||s)s=tc(i,p);else{s=p;var A=st;st|=2;var x=Jv();(Ht!==i||Zt!==s)&&(ri=null,Us=pt()+500,jo(i,s));do try{aA();break}catch(X){Yv(i,X)}while(!0);dh(),Gu.current=x,st=A,Dt!==null?s=0:(Ht=null,Zt=0,s=Ft)}if(s!==0){if(s===2&&(A=xn(i),A!==0&&(p=A,s=Xh(i,A))),s===1)throw l=rl,jo(i,0),Fi(i,p),An(i,pt()),l;if(s===6)Fi(i,p);else{if(A=i.current.alternate,!(p&30)&&!oA(A)&&(s=tc(i,p),s===2&&(x=xn(i),x!==0&&(p=x,s=Xh(i,x))),s===1))throw l=rl,jo(i,0),Fi(i,p),An(i,pt()),l;switch(i.finishedWork=A,i.finishedLanes=p,s){case 0:case 1:throw Error(t(345));case 2:Vo(i,Sn,ri);break;case 3:if(Fi(i,p),(p&130023424)===p&&(s=Kh+500-pt(),10<s)){if(To(i,0)!==0)break;if(A=i.suspendedLanes,(A&p)!==p){yn(),i.pingedLanes|=i.suspendedLanes&A;break}i.timeoutHandle=nh(Vo.bind(null,i,Sn,ri),s);break}Vo(i,Sn,ri);break;case 4:if(Fi(i,p),(p&4194240)===p)break;for(s=i.eventTimes,A=-1;0<p;){var q=31-pn(p);x=1<<q,q=s[q],q>A&&(A=q),p&=~x}if(p=A,p=pt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*iA(p/1960))-p,10<p){i.timeoutHandle=nh(Vo.bind(null,i,Sn,ri),p);break}Vo(i,Sn,ri);break;case 5:Vo(i,Sn,ri);break;default:throw Error(t(329))}}}return An(i,pt()),i.callbackNode===l?Qv.bind(null,i):null}function Xh(i,s){var l=il;return i.current.memoizedState.isDehydrated&&(jo(i,s).flags|=256),i=tc(i,s),i!==2&&(s=Sn,Sn=l,s!==null&&Yh(s)),i}function Yh(i){Sn===null?Sn=i:Sn.push.apply(Sn,i)}function oA(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var p=0;p<l.length;p++){var A=l[p],x=A.getSnapshot;A=A.value;try{if(!sr(x(),A))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Fi(i,s){for(s&=~Wh,s&=~Qu,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-pn(s),p=1<<l;i[l]=-1,s&=~p}}function Xv(i){if(st&6)throw Error(t(327));qs();var s=To(i,0);if(!(s&1))return An(i,pt()),null;var l=tc(i,s);if(i.tag!==0&&l===2){var p=xn(i);p!==0&&(s=p,l=Xh(i,p))}if(l===1)throw l=rl,jo(i,0),Fi(i,s),An(i,pt()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Vo(i,Sn,ri),An(i,pt()),null}function Jh(i,s){var l=st;st|=1;try{return i(s)}finally{st=l,st===0&&(Us=pt()+500,Ru&&Oi())}}function Mo(i){ji!==null&&ji.tag===0&&!(st&6)&&qs();var s=st;st|=1;var l=Gn.transition,p=nt;try{if(Gn.transition=null,nt=1,i)return i()}finally{nt=p,Gn.transition=l,st=s,!(st&6)&&Oi()}}function Zh(){Mn=Fs.current,vt(Fs)}function jo(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,LS(l)),Dt!==null)for(l=Dt.return;l!==null;){var p=l;switch(lh(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Iu();break;case 3:Ms(),vt(wn),vt(sn),wh();break;case 5:_h(p);break;case 4:Ms();break;case 13:vt(bt);break;case 19:vt(bt);break;case 10:ph(p.type._context);break;case 22:case 23:Zh()}l=l.return}if(Ht=i,Dt=i=Ui(i.current,null),Zt=Mn=s,Ft=0,rl=null,Wh=Qu=Lo=0,Sn=il=null,Oo!==null){for(s=0;s<Oo.length;s++)if(l=Oo[s],p=l.interleaved,p!==null){l.interleaved=null;var A=p.next,x=l.pending;if(x!==null){var q=x.next;x.next=A,p.next=q}l.pending=p}Oo=null}return i}function Yv(i,s){do{var l=Dt;try{if(dh(),Vu.current=Bu,Fu){for(var p=St.memoizedState;p!==null;){var A=p.queue;A!==null&&(A.pending=null),p=p.next}Fu=!1}if(Do=0,$t=Vt=St=null,Ya=!1,Ja=0,Hh.current=null,l===null||l.return===null){Ft=1,rl=s,Dt=null;break}e:{var x=i,q=l.return,X=l,ee=s;if(s=Zt,X.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var ce=ee,_e=X,we=_e.tag;if(!(_e.mode&1)&&(we===0||we===11||we===15)){var ve=_e.alternate;ve?(_e.updateQueue=ve.updateQueue,_e.memoizedState=ve.memoizedState,_e.lanes=ve.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var Ce=Tv(q);if(Ce!==null){Ce.flags&=-257,bv(Ce,q,X,x,s),Ce.mode&1&&wv(x,ce,s),s=Ce,ee=ce;var Pe=s.updateQueue;if(Pe===null){var xe=new Set;xe.add(ee),s.updateQueue=xe}else Pe.add(ee);break e}else{if(!(s&1)){wv(x,ce,s),ed();break e}ee=Error(t(426))}}else if(wt&&X.mode&1){var Pt=Tv(q);if(Pt!==null){!(Pt.flags&65536)&&(Pt.flags|=256),bv(Pt,q,X,x,s),fh(js(ee,X));break e}}x=ee=js(ee,X),Ft!==4&&(Ft=2),il===null?il=[x]:il.push(x),x=q;do{switch(x.tag){case 3:x.flags|=65536,s&=-s,x.lanes|=s;var le=_v(x,ee,s);Wy(x,le);break e;case 1:X=ee;var ie=x.type,ue=x.stateNode;if(!(x.flags&128)&&(typeof ie.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(Mi===null||!Mi.has(ue)))){x.flags|=65536,s&=-s,x.lanes|=s;var Te=Ev(x,X,s);Wy(x,Te);break e}}x=x.return}while(x!==null)}e_(l)}catch(Oe){s=Oe,Dt===l&&l!==null&&(Dt=l=l.return);continue}break}while(!0)}function Jv(){var i=Gu.current;return Gu.current=Bu,i===null?Bu:i}function ed(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Ht===null||!(Lo&268435455)&&!(Qu&268435455)||Fi(Ht,Zt)}function tc(i,s){var l=st;st|=2;var p=Jv();(Ht!==i||Zt!==s)&&(ri=null,jo(i,s));do try{sA();break}catch(A){Yv(i,A)}while(!0);if(dh(),st=l,Gu.current=p,Dt!==null)throw Error(t(261));return Ht=null,Zt=0,Ft}function sA(){for(;Dt!==null;)Zv(Dt)}function aA(){for(;Dt!==null&&!Jl();)Zv(Dt)}function Zv(i){var s=r_(i.alternate,i,Mn);i.memoizedProps=i.pendingProps,s===null?e_(i):Dt=s,Hh.current=null}function e_(i){var s=i;do{var l=s.alternate;if(i=s.return,s.flags&32768){if(l=eA(l,s),l!==null){l.flags&=32767,Dt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ft=6,Dt=null;return}}else if(l=ZS(l,s,Mn),l!==null){Dt=l;return}if(s=s.sibling,s!==null){Dt=s;return}Dt=s=i}while(s!==null);Ft===0&&(Ft=5)}function Vo(i,s,l){var p=nt,A=Gn.transition;try{Gn.transition=null,nt=1,lA(i,s,l,p)}finally{Gn.transition=A,nt=p}return null}function lA(i,s,l,p){do qs();while(ji!==null);if(st&6)throw Error(t(327));l=i.finishedWork;var A=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var x=l.lanes|l.childLanes;if(dt(i,x),i===Ht&&(Dt=Ht=null,Zt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Yu||(Yu=!0,i_(qn,function(){return qs(),null})),x=(l.flags&15990)!==0,l.subtreeFlags&15990||x){x=Gn.transition,Gn.transition=null;var q=nt;nt=1;var X=st;st|=4,Hh.current=null,nA(i,l),$v(l,i),RS(eh),Ii=!!Zf,eh=Zf=null,i.current=l,rA(l),jf(),st=X,nt=q,Gn.transition=x}else i.current=l;if(Yu&&(Yu=!1,ji=i,Ju=A),x=i.pendingLanes,x===0&&(Mi=null),tu(l.stateNode),An(i,pt()),s!==null)for(p=i.onRecoverableError,l=0;l<s.length;l++)A=s[l],p(A.value,{componentStack:A.stack,digest:A.digest});if(Xu)throw Xu=!1,i=Gh,Gh=null,i;return Ju&1&&i.tag!==0&&qs(),x=i.pendingLanes,x&1?i===Qh?ol++:(ol=0,Qh=i):ol=0,Oi(),null}function qs(){if(ji!==null){var i=Si(Ju),s=Gn.transition,l=nt;try{if(Gn.transition=null,nt=16>i?16:i,ji===null)var p=!1;else{if(i=ji,ji=null,Ju=0,st&6)throw Error(t(331));var A=st;for(st|=4,ke=i.current;ke!==null;){var x=ke,q=x.child;if(ke.flags&16){var X=x.deletions;if(X!==null){for(var ee=0;ee<X.length;ee++){var ce=X[ee];for(ke=ce;ke!==null;){var _e=ke;switch(_e.tag){case 0:case 11:case 15:nl(8,_e,x)}var we=_e.child;if(we!==null)we.return=_e,ke=we;else for(;ke!==null;){_e=ke;var ve=_e.sibling,Ce=_e.return;if(Fv(_e),_e===ce){ke=null;break}if(ve!==null){ve.return=Ce,ke=ve;break}ke=Ce}}}var Pe=x.alternate;if(Pe!==null){var xe=Pe.child;if(xe!==null){Pe.child=null;do{var Pt=xe.sibling;xe.sibling=null,xe=Pt}while(xe!==null)}}ke=x}}if(x.subtreeFlags&2064&&q!==null)q.return=x,ke=q;else e:for(;ke!==null;){if(x=ke,x.flags&2048)switch(x.tag){case 0:case 11:case 15:nl(9,x,x.return)}var le=x.sibling;if(le!==null){le.return=x.return,ke=le;break e}ke=x.return}}var ie=i.current;for(ke=ie;ke!==null;){q=ke;var ue=q.child;if(q.subtreeFlags&2064&&ue!==null)ue.return=q,ke=ue;else e:for(q=ie;ke!==null;){if(X=ke,X.flags&2048)try{switch(X.tag){case 0:case 11:case 15:Ku(9,X)}}catch(Oe){Rt(X,X.return,Oe)}if(X===q){ke=null;break e}var Te=X.sibling;if(Te!==null){Te.return=X.return,ke=Te;break e}ke=X.return}}if(st=A,Oi(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(wo,i)}catch{}p=!0}return p}finally{nt=l,Gn.transition=s}}return!1}function t_(i,s,l){s=js(l,s),s=_v(i,s,1),i=Di(i,s,1),s=yn(),i!==null&&(Ti(i,1,s),An(i,s))}function Rt(i,s,l){if(i.tag===3)t_(i,i,l);else for(;s!==null;){if(s.tag===3){t_(s,i,l);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Mi===null||!Mi.has(p))){i=js(l,i),i=Ev(s,i,1),s=Di(s,i,1),i=yn(),s!==null&&(Ti(s,1,i),An(s,i));break}}s=s.return}}function uA(i,s,l){var p=i.pingCache;p!==null&&p.delete(s),s=yn(),i.pingedLanes|=i.suspendedLanes&l,Ht===i&&(Zt&l)===l&&(Ft===4||Ft===3&&(Zt&130023424)===Zt&&500>pt()-Kh?jo(i,0):Wh|=l),An(i,s)}function n_(i,s){s===0&&(i.mode&1?(s=cs,cs<<=1,!(cs&130023424)&&(cs=4194304)):s=1);var l=yn();i=ei(i,s),i!==null&&(Ti(i,s,l),An(i,l))}function cA(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),n_(i,l)}function fA(i,s){var l=0;switch(i.tag){case 13:var p=i.stateNode,A=i.memoizedState;A!==null&&(l=A.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(s),n_(i,l)}var r_;r_=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||wn.current)bn=!0;else{if(!(i.lanes&l)&&!(s.flags&128))return bn=!1,JS(i,s,l);bn=!!(i.flags&131072)}else bn=!1,wt&&s.flags&1048576&&My(s,Pu,s.index);switch(s.lanes=0,s.tag){case 2:var p=s.type;Hu(i,s),i=s.pendingProps;var A=ks(s,sn.current);Ls(s,l),A=Sh(null,s,p,i,A,l);var x=Ah();return s.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Tn(p)?(x=!0,Cu(s)):x=!1,s.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,yh(s),A.updater=zu,s.stateNode=A,A._reactInternals=s,xh(s,p,i,l),s=Lh(null,s,p,!0,x,l)):(s.tag=0,wt&&x&&ah(s),gn(null,s,A,l),s=s.child),s;case 16:p=s.elementType;e:{switch(Hu(i,s),i=s.pendingProps,A=p._init,p=A(p._payload),s.type=p,A=s.tag=dA(p),i=lr(p,i),A){case 0:s=Dh(null,s,p,i,l);break e;case 1:s=kv(null,s,p,i,l);break e;case 11:s=Sv(null,s,p,i,l);break e;case 14:s=Av(null,s,p,lr(p.type,i),l);break e}throw Error(t(306,p,""))}return s;case 0:return p=s.type,A=s.pendingProps,A=s.elementType===p?A:lr(p,A),Dh(i,s,p,A,l);case 1:return p=s.type,A=s.pendingProps,A=s.elementType===p?A:lr(p,A),kv(i,s,p,A,l);case 3:e:{if(Pv(s),i===null)throw Error(t(387));p=s.pendingProps,x=s.memoizedState,A=x.element,Hy(i,s),Mu(s,p,null,l);var q=s.memoizedState;if(p=q.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:q.cache,pendingSuspenseBoundaries:q.pendingSuspenseBoundaries,transitions:q.transitions},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){A=js(Error(t(423)),s),s=xv(i,s,p,l,A);break e}else if(p!==A){A=js(Error(t(424)),s),s=xv(i,s,p,l,A);break e}else for(Ln=ki(s.stateNode.containerInfo.firstChild),Dn=s,wt=!0,ar=null,l=zy(s,null,p,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Os(),p===A){s=ni(i,s,l);break e}gn(i,s,p,l)}s=s.child}return s;case 5:return Gy(s),i===null&&ch(s),p=s.type,A=s.pendingProps,x=i!==null?i.memoizedProps:null,q=A.children,th(p,A)?q=null:x!==null&&th(p,x)&&(s.flags|=32),Rv(i,s),gn(i,s,q,l),s.child;case 6:return i===null&&ch(s),null;case 13:return Ov(i,s,l);case 4:return vh(s,s.stateNode.containerInfo),p=s.pendingProps,i===null?s.child=Ns(s,null,p,l):gn(i,s,p,l),s.child;case 11:return p=s.type,A=s.pendingProps,A=s.elementType===p?A:lr(p,A),Sv(i,s,p,A,l);case 7:return gn(i,s,s.pendingProps,l),s.child;case 8:return gn(i,s,s.pendingProps.children,l),s.child;case 12:return gn(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(p=s.type._context,A=s.pendingProps,x=s.memoizedProps,q=A.value,mt(Nu,p._currentValue),p._currentValue=q,x!==null)if(sr(x.value,q)){if(x.children===A.children&&!wn.current){s=ni(i,s,l);break e}}else for(x=s.child,x!==null&&(x.return=s);x!==null;){var X=x.dependencies;if(X!==null){q=x.child;for(var ee=X.firstContext;ee!==null;){if(ee.context===p){if(x.tag===1){ee=ti(-1,l&-l),ee.tag=2;var ce=x.updateQueue;if(ce!==null){ce=ce.shared;var _e=ce.pending;_e===null?ee.next=ee:(ee.next=_e.next,_e.next=ee),ce.pending=ee}}x.lanes|=l,ee=x.alternate,ee!==null&&(ee.lanes|=l),mh(x.return,l,s),X.lanes|=l;break}ee=ee.next}}else if(x.tag===10)q=x.type===s.type?null:x.child;else if(x.tag===18){if(q=x.return,q===null)throw Error(t(341));q.lanes|=l,X=q.alternate,X!==null&&(X.lanes|=l),mh(q,l,s),q=x.sibling}else q=x.child;if(q!==null)q.return=x;else for(q=x;q!==null;){if(q===s){q=null;break}if(x=q.sibling,x!==null){x.return=q.return,q=x;break}q=q.return}x=q}gn(i,s,A.children,l),s=s.child}return s;case 9:return A=s.type,p=s.pendingProps.children,Ls(s,l),A=Wn(A),p=p(A),s.flags|=1,gn(i,s,p,l),s.child;case 14:return p=s.type,A=lr(p,s.pendingProps),A=lr(p.type,A),Av(i,s,p,A,l);case 15:return Iv(i,s,s.type,s.pendingProps,l);case 17:return p=s.type,A=s.pendingProps,A=s.elementType===p?A:lr(p,A),Hu(i,s),s.tag=1,Tn(p)?(i=!0,Cu(s)):i=!1,Ls(s,l),yv(s,p,A),xh(s,p,A,l),Lh(null,s,p,!0,i,l);case 19:return Dv(i,s,l);case 22:return Cv(i,s,l)}throw Error(t(156,s.tag))};function i_(i,s){return ls(i,s)}function hA(i,s,l,p){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(i,s,l,p){return new hA(i,s,l,p)}function td(i){return i=i.prototype,!(!i||!i.isReactComponent)}function dA(i){if(typeof i=="function")return td(i)?1:0;if(i!=null){if(i=i.$$typeof,i===D)return 11;if(i===G)return 14}return 2}function Ui(i,s){var l=i.alternate;return l===null?(l=Qn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function nc(i,s,l,p,A,x){var q=2;if(p=i,typeof i=="function")td(i)&&(q=1);else if(typeof i=="string")q=5;else e:switch(i){case k:return Fo(l.children,A,x,s);case I:q=8,A|=8;break;case L:return i=Qn(12,l,s,A|2),i.elementType=L,i.lanes=x,i;case N:return i=Qn(13,l,s,A),i.elementType=N,i.lanes=x,i;case H:return i=Qn(19,l,s,A),i.elementType=H,i.lanes=x,i;case Q:return rc(l,A,x,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:q=10;break e;case C:q=9;break e;case D:q=11;break e;case G:q=14;break e;case Z:q=16,p=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=Qn(q,l,s,A),s.elementType=i,s.type=p,s.lanes=x,s}function Fo(i,s,l,p){return i=Qn(7,i,p,s),i.lanes=l,i}function rc(i,s,l,p){return i=Qn(22,i,p,s),i.elementType=Q,i.lanes=l,i.stateNode={isHidden:!1},i}function nd(i,s,l){return i=Qn(6,i,null,s),i.lanes=l,i}function rd(i,s,l){return s=Qn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function pA(i,s,l,p,A){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wi(0),this.expirationTimes=wi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.identifierPrefix=p,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function id(i,s,l,p,A,x,q,X,ee){return i=new pA(i,s,l,X,ee),s===1?(s=1,x===!0&&(s|=8)):s=0,x=Qn(3,null,null,s),i.current=x,x.stateNode=i,x.memoizedState={element:p,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},yh(x),i}function mA(i,s,l){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:p==null?null:""+p,children:i,containerInfo:s,implementation:l}}function o_(i){if(!i)return xi;i=i._reactInternals;e:{if(Zn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Tn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(Tn(l))return Ny(i,l,s)}return s}function s_(i,s,l,p,A,x,q,X,ee){return i=id(l,p,!0,i,A,x,q,X,ee),i.context=o_(null),l=i.current,p=yn(),A=Vi(l),x=ti(p,A),x.callback=s??null,Di(l,x,A),i.current.lanes=A,Ti(i,A,p),An(i,p),i}function ic(i,s,l,p){var A=s.current,x=yn(),q=Vi(A);return l=o_(l),s.context===null?s.context=l:s.pendingContext=l,s=ti(x,q),s.payload={element:i},p=p===void 0?null:p,p!==null&&(s.callback=p),i=Di(A,s,q),i!==null&&(fr(i,A,q,x),Lu(i,A,q)),q}function oc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function a_(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function od(i,s){a_(i,s),(i=i.alternate)&&a_(i,s)}var l_=typeof reportError=="function"?reportError:function(i){console.error(i)};function sd(i){this._internalRoot=i}sc.prototype.render=sd.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));ic(i,s,null,null)},sc.prototype.unmount=sd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Mo(function(){ic(null,i,null,null)}),s[Xr]=null}};function sc(i){this._internalRoot=i}sc.prototype.unstable_scheduleHydration=function(i){if(i){var s=su();i={blockedOn:null,target:i,priority:s};for(var l=0;l<_r.length&&s!==0&&s<_r[l].priority;l++);_r.splice(l,0,i),l===0&&uu(i)}};function ad(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ac(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function u_(){}function gA(i,s,l,p,A){if(A){if(typeof p=="function"){var x=p;p=function(){var ce=oc(q);x.call(ce)}}var q=s_(s,p,i,0,null,!1,!1,"",u_);return i._reactRootContainer=q,i[Xr]=q.current,za(i.nodeType===8?i.parentNode:i),Mo(),q}for(;A=i.lastChild;)i.removeChild(A);if(typeof p=="function"){var X=p;p=function(){var ce=oc(ee);X.call(ce)}}var ee=id(i,0,!1,null,null,!1,!1,"",u_);return i._reactRootContainer=ee,i[Xr]=ee.current,za(i.nodeType===8?i.parentNode:i),Mo(function(){ic(s,ee,l,p)}),ee}function lc(i,s,l,p,A){var x=l._reactRootContainer;if(x){var q=x;if(typeof A=="function"){var X=A;A=function(){var ee=oc(q);X.call(ee)}}ic(s,q,i,A)}else q=gA(l,s,i,A,p);return oc(q)}iu=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=Ei(s.pendingLanes);l!==0&&(bi(s,l|1),An(s,pt()),!(st&6)&&(Us=pt()+500,Oi()))}break;case 13:Mo(function(){var p=ei(i,1);if(p!==null){var A=yn();fr(p,i,1,A)}}),od(i,1)}},fs=function(i){if(i.tag===13){var s=ei(i,134217728);if(s!==null){var l=yn();fr(s,i,134217728,l)}od(i,134217728)}},ou=function(i){if(i.tag===13){var s=Vi(i),l=ei(i,s);if(l!==null){var p=yn();fr(l,i,s,p)}od(i,s)}},su=function(){return nt},au=function(i,s){var l=nt;try{return nt=i,s()}finally{nt=l}},ns=function(i,s,l){switch(s){case"input":if(gt(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var p=l[s];if(p!==i&&p.form===i.form){var A=Au(p);if(!A)throw Error(t(90));Me(p),gt(p,A)}}}break;case"textarea":He(i,l);break;case"select":s=l.value,s!=null&&Ae(i,!!l.multiple,s,!1)}},go=Jh,Sa=Mo;var yA={usingClientEntryPoint:!1,Events:[Wa,Cs,Au,yr,ba,Jh]},sl={findFiberByHostInstance:Ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vA={bundleType:sl.bundleType,version:sl.version,rendererPackageName:sl.rendererPackageName,rendererConfig:sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ca(i),i===null?null:i.stateNode},findFiberByHostInstance:sl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{wo=uc.inject(vA),Pn=uc}catch{}}return In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yA,In.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ad(s))throw Error(t(200));return mA(i,s,null,l)},In.createRoot=function(i,s){if(!ad(i))throw Error(t(299));var l=!1,p="",A=l_;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=id(i,1,!1,null,null,l,!1,p,A),i[Xr]=s.current,za(i.nodeType===8?i.parentNode:i),new sd(s)},In.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ca(s),i=i===null?null:i.stateNode,i},In.flushSync=function(i){return Mo(i)},In.hydrate=function(i,s,l){if(!ac(s))throw Error(t(200));return lc(null,i,s,!0,l)},In.hydrateRoot=function(i,s,l){if(!ad(i))throw Error(t(405));var p=l!=null&&l.hydratedSources||null,A=!1,x="",q=l_;if(l!=null&&(l.unstable_strictMode===!0&&(A=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(q=l.onRecoverableError)),s=s_(s,null,i,1,l??null,A,!1,x,q),i[Xr]=s.current,za(i),p)for(i=0;i<p.length;i++)l=p[i],A=l._getVersion,A=A(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,A]:s.mutableSourceEagerHydrationData.push(l,A);return new sc(s)},In.render=function(i,s,l){if(!ac(s))throw Error(t(200));return lc(null,i,s,!1,l)},In.unmountComponentAtNode=function(i){if(!ac(i))throw Error(t(40));return i._reactRootContainer?(Mo(function(){lc(null,null,i,!1,function(){i._reactRootContainer=null,i[Xr]=null})}),!0):!1},In.unstable_batchedUpdates=Jh,In.unstable_renderSubtreeIntoContainer=function(i,s,l,p){if(!ac(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return lc(i,s,l,!1,p)},In.version="18.3.1-next-f1338f8080-20240426",In}var y_;function Hw(){if(y_)return cd.exports;y_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),cd.exports=AA(),cd.exports}var v_;function IA(){if(v_)return fc;v_=1;var n=Hw();return fc.createRoot=n.createRoot,fc.hydrateRoot=n.hydrateRoot,fc}var CA=IA(),ll={},__;function RA(){if(__)return ll;__=1,Object.defineProperty(ll,"__esModule",{value:!0}),ll.parse=u,ll.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const d=function(){};return d.prototype=Object.create(null),d})();function u(d,g){const E=new a,T=d.length;if(T<2)return E;const _=(g==null?void 0:g.decode)||v;let w=0;do{const S=d.indexOf("=",w);if(S===-1)break;const R=d.indexOf(";",w),b=R===-1?T:R;if(S>b){w=d.lastIndexOf(";",S-1)+1;continue}const M=f(d,w,S),U=h(d,S,M),k=d.slice(M,U);if(E[k]===void 0){let I=f(d,S+1,b),L=h(d,b,I);const O=_(d.slice(I,L));E[k]=O}w=b+1}while(w<T);return E}function f(d,g,E){do{const T=d.charCodeAt(g);if(T!==32&&T!==9)return g}while(++g<E);return E}function h(d,g,E){for(;g>E;){const T=d.charCodeAt(--g);if(T!==32&&T!==9)return g+1}return E}function m(d,g,E){const T=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(d))throw new TypeError(`argument name is invalid: ${d}`);const _=T(g);if(!e.test(_))throw new TypeError(`argument val is invalid: ${g}`);let w=d+"="+_;if(!E)return w;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);w+="; Max-Age="+E.maxAge}if(E.domain){if(!t.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);w+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);w+="; Path="+E.path}if(E.expires){if(!y(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);w+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(w+="; HttpOnly"),E.secure&&(w+="; Secure"),E.partitioned&&(w+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return w}function v(d){if(d.indexOf("%")===-1)return d;try{return decodeURIComponent(d)}catch{return d}}function y(d){return o.call(d)==="[object Date]"}return ll}RA();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var E_="popstate";function kA(n={}){function e(r,o){let{pathname:a,search:u,hash:f}=r.location;return dm("",{pathname:a,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:Sl(o)}return xA(e,t,null,n)}function At(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function jr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PA(){return Math.random().toString(36).substring(2,10)}function w_(n,e){return{usr:n.state,key:n.key,idx:e}}function dm(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?la(e):e,state:t,key:e&&e.key||r||PA()}}function Sl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function la(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function xA(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,f="POP",h=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function y(){f="POP";let _=v(),w=_==null?null:_-m;m=_,h&&h({action:f,location:T.location,delta:w})}function d(_,w){f="PUSH";let S=dm(T.location,_,w);m=v()+1;let R=w_(S,m),b=T.createHref(S);try{u.pushState(R,"",b)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;o.location.assign(b)}a&&h&&h({action:f,location:T.location,delta:1})}function g(_,w){f="REPLACE";let S=dm(T.location,_,w);m=v();let R=w_(S,m),b=T.createHref(S);u.replaceState(R,"",b),a&&h&&h({action:f,location:T.location,delta:0})}function E(_){let w=o.location.origin!=="null"?o.location.origin:o.location.href,S=typeof _=="string"?_:Sl(_);return S=S.replace(/ $/,"%20"),At(w,`No window.location.(origin|href) available to create URL for href: ${S}`),new URL(S,w)}let T={get action(){return f},get location(){return n(o,u)},listen(_){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(E_,y),h=_,()=>{o.removeEventListener(E_,y),h=null}},createHref(_){return e(o,_)},createURL:E,encodeLocation(_){let w=E(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:d,replace:g,go(_){return u.go(_)}};return T}function Ww(n,e,t="/"){return OA(n,e,t,!1)}function OA(n,e,t,r){let o=typeof e=="string"?la(e):e,a=to(o.pathname||"/",t);if(a==null)return null;let u=Kw(n);NA(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let m=$A(a);f=BA(u[h],m,r)}return f}function Kw(n,e=[],t=[],r=""){let o=(a,u,f)=>{let h={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(At(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let m=li([r,h.relativePath]),v=t.concat(h);a.children&&a.children.length>0&&(At(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Kw(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:UA(m,a.index),routesMeta:v})};return n.forEach((a,u)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))o(a,u);else for(let h of Gw(a.path))o(a,u,h)}),e}function Gw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=Gw(r.join("/")),f=[];return f.push(...u.map(h=>h===""?a:[a,h].join("/"))),o&&f.push(...u),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function NA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:qA(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var DA=/^:[\w-]+$/,LA=3,MA=2,jA=1,VA=10,FA=-2,T_=n=>n==="*";function UA(n,e){let t=n.split("/"),r=t.length;return t.some(T_)&&(r+=FA),e&&(r+=MA),t.filter(o=>!T_(o)).reduce((o,a)=>o+(DA.test(a)?LA:a===""?jA:VA),r)}function qA(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function BA(n,e,t=!1){let{routesMeta:r}=n,o={},a="/",u=[];for(let f=0;f<r.length;++f){let h=r[f],m=f===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",y=Lc({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},v),d=h.route;if(!y&&m&&t&&!r[r.length-1].route.index&&(y=Lc({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!y)return null;Object.assign(o,y.params),u.push({params:o,pathname:li([a,y.pathname]),pathnameBase:GA(li([a,y.pathnameBase])),route:d}),y.pathnameBase!=="/"&&(a=li([a,y.pathnameBase]))}return u}function Lc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=zA(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:r.reduce((m,{paramName:v,isOptional:y},d)=>{if(v==="*"){let E=f[d]||"";u=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const g=f[d];return y&&!g?m[v]=void 0:m[v]=(g||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function zA(n,e=!1,t=!0){jr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(r.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function $A(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function to(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function HA(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?la(n):n;return{pathname:t?t.startsWith("/")?t:WA(t,e):e,search:QA(r),hash:XA(o)}}function WA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function dd(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Qw(n){let e=KA(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Xw(n,e,t,r=!1){let o;typeof n=="string"?o=la(n):(o={...n},At(!o.pathname||!o.pathname.includes("?"),dd("?","pathname","search",o)),At(!o.pathname||!o.pathname.includes("#"),dd("#","pathname","hash",o)),At(!o.search||!o.search.includes("#"),dd("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,f;if(u==null)f=t;else{let y=e.length-1;if(!r&&u.startsWith("..")){let d=u.split("/");for(;d[0]==="..";)d.shift(),y-=1;o.pathname=d.join("/")}f=y>=0?e[y]:"/"}let h=HA(o,f),m=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(m||v)&&(h.pathname+="/"),h}var li=n=>n.join("/").replace(/\/\/+/g,"/"),GA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),QA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,XA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function YA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Yw=["POST","PUT","PATCH","DELETE"];new Set(Yw);var JA=["GET",...Yw];new Set(JA);var ua=he.createContext(null);ua.displayName="DataRouter";var rf=he.createContext(null);rf.displayName="DataRouterState";var Jw=he.createContext({isTransitioning:!1});Jw.displayName="ViewTransition";var ZA=he.createContext(new Map);ZA.displayName="Fetchers";var eI=he.createContext(null);eI.displayName="Await";var Ur=he.createContext(null);Ur.displayName="Navigation";var Dl=he.createContext(null);Dl.displayName="Location";var qr=he.createContext({outlet:null,matches:[],isDataRoute:!1});qr.displayName="Route";var Km=he.createContext(null);Km.displayName="RouteError";function tI(n,{relative:e}={}){At(Ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=he.useContext(Ur),{hash:o,pathname:a,search:u}=Ml(n,{relative:e}),f=a;return t!=="/"&&(f=a==="/"?t:li([t,a])),r.createHref({pathname:f,search:u,hash:o})}function Ll(){return he.useContext(Dl)!=null}function uo(){return At(Ll(),"useLocation() may be used only in the context of a <Router> component."),he.useContext(Dl).location}var Zw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function e0(n){he.useContext(Ur).static||he.useLayoutEffect(n)}function Yo(){let{isDataRoute:n}=he.useContext(qr);return n?pI():nI()}function nI(){At(Ll(),"useNavigate() may be used only in the context of a <Router> component.");let n=he.useContext(ua),{basename:e,navigator:t}=he.useContext(Ur),{matches:r}=he.useContext(qr),{pathname:o}=uo(),a=JSON.stringify(Qw(r)),u=he.useRef(!1);return e0(()=>{u.current=!0}),he.useCallback((h,m={})=>{if(jr(u.current,Zw),!u.current)return;if(typeof h=="number"){t.go(h);return}let v=Xw(h,JSON.parse(a),o,m.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:li([e,v.pathname])),(m.replace?t.replace:t.push)(v,m.state,m)},[e,t,a,o,n])}he.createContext(null);function t0(){let{matches:n}=he.useContext(qr),e=n[n.length-1];return e?e.params:{}}function Ml(n,{relative:e}={}){let{matches:t}=he.useContext(qr),{pathname:r}=uo(),o=JSON.stringify(Qw(t));return he.useMemo(()=>Xw(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function rI(n,e){return n0(n,e)}function n0(n,e,t,r){var w;At(Ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=he.useContext(Ur),{matches:a}=he.useContext(qr),u=a[a.length-1],f=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",v=u&&u.route;{let S=v&&v.path||"";r0(h,!v||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let y=uo(),d;if(e){let S=typeof e=="string"?la(e):e;At(m==="/"||((w=S.pathname)==null?void 0:w.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${S.pathname}" was given in the \`location\` prop.`),d=S}else d=y;let g=d.pathname||"/",E=g;if(m!=="/"){let S=m.replace(/^\//,"").split("/");E="/"+g.replace(/^\//,"").split("/").slice(S.length).join("/")}let T=Ww(n,{pathname:E});jr(v||T!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),jr(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=lI(T&&T.map(S=>Object.assign({},S,{params:Object.assign({},f,S.params),pathname:li([m,o.encodeLocation?o.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?m:li([m,o.encodeLocation?o.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,t,r);return e&&_?he.createElement(Dl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},_):_}function iI(){let n=dI(),e=YA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=he.createElement(he.Fragment,null,he.createElement("p",null,"💿 Hey developer 👋"),he.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",he.createElement("code",{style:a},"ErrorBoundary")," or"," ",he.createElement("code",{style:a},"errorElement")," prop on your route.")),he.createElement(he.Fragment,null,he.createElement("h2",null,"Unexpected Application Error!"),he.createElement("h3",{style:{fontStyle:"italic"}},e),t?he.createElement("pre",{style:o},t):null,u)}var oI=he.createElement(iI,null),sI=class extends he.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?he.createElement(qr.Provider,{value:this.props.routeContext},he.createElement(Km.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aI({routeContext:n,match:e,children:t}){let r=he.useContext(ua);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),he.createElement(qr.Provider,{value:n},t)}function lI(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let h=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);At(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,f=-1;if(t)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:v,errors:y}=t,d=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||d){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((h,m,v)=>{let y,d=!1,g=null,E=null;t&&(y=a&&m.route.id?a[m.route.id]:void 0,g=m.route.errorElement||oI,u&&(f<0&&v===0?(r0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,E=null):f===v&&(d=!0,E=m.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,v+1)),_=()=>{let w;return y?w=g:d?w=E:m.route.Component?w=he.createElement(m.route.Component,null):m.route.element?w=m.route.element:w=h,he.createElement(aI,{match:m,routeContext:{outlet:h,matches:T,isDataRoute:t!=null},children:w})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?he.createElement(sI,{location:t.location,revalidation:t.revalidation,component:g,error:y,children:_(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):_()},null)}function Gm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uI(n){let e=he.useContext(ua);return At(e,Gm(n)),e}function cI(n){let e=he.useContext(rf);return At(e,Gm(n)),e}function fI(n){let e=he.useContext(qr);return At(e,Gm(n)),e}function Qm(n){let e=fI(n),t=e.matches[e.matches.length-1];return At(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function hI(){return Qm("useRouteId")}function dI(){var r;let n=he.useContext(Km),e=cI("useRouteError"),t=Qm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function pI(){let{router:n}=uI("useNavigate"),e=Qm("useNavigate"),t=he.useRef(!1);return e0(()=>{t.current=!0}),he.useCallback(async(o,a={})=>{jr(t.current,Zw),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var b_={};function r0(n,e,t){!e&&!b_[n]&&(b_[n]=!0,jr(!1,t))}he.memo(mI);function mI({routes:n,future:e,state:t}){return n0(n,void 0,t,e)}function ii(n){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gI({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:a=!1}){At(!Ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=he.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=la(t));let{pathname:h="/",search:m="",hash:v="",state:y=null,key:d="default"}=t,g=he.useMemo(()=>{let E=to(h,u);return E==null?null:{location:{pathname:E,search:m,hash:v,state:y,key:d},navigationType:r}},[u,h,m,v,y,d,r]);return jr(g!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:he.createElement(Ur.Provider,{value:f},he.createElement(Dl.Provider,{children:e,value:g}))}function yI({children:n,location:e}){return rI(pm(n),e)}function pm(n,e=[]){let t=[];return he.Children.forEach(n,(r,o)=>{if(!he.isValidElement(r))return;let a=[...e,o];if(r.type===he.Fragment){t.push.apply(t,pm(r.props.children,a));return}At(r.type===ii,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=pm(r.props.children,a)),t.push(u)}),t}var Tc="get",bc="application/x-www-form-urlencoded";function of(n){return n!=null&&typeof n.tagName=="string"}function vI(n){return of(n)&&n.tagName.toLowerCase()==="button"}function _I(n){return of(n)&&n.tagName.toLowerCase()==="form"}function EI(n){return of(n)&&n.tagName.toLowerCase()==="input"}function wI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function TI(n,e){return n.button===0&&(!e||e==="_self")&&!wI(n)}var hc=null;function bI(){if(hc===null)try{new FormData(document.createElement("form"),0),hc=!1}catch{hc=!0}return hc}var SI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pd(n){return n!=null&&!SI.has(n)?(jr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bc}"`),null):n}function AI(n,e){let t,r,o,a,u;if(_I(n)){let f=n.getAttribute("action");r=f?to(f,e):null,t=n.getAttribute("method")||Tc,o=pd(n.getAttribute("enctype"))||bc,a=new FormData(n)}else if(vI(n)||EI(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||f.getAttribute("action");if(r=h?to(h,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Tc,o=pd(n.getAttribute("formenctype"))||pd(f.getAttribute("enctype"))||bc,a=new FormData(f,n),!bI()){let{name:m,type:v,value:y}=n;if(v==="image"){let d=m?`${m}.`:"";a.append(`${d}x`,"0"),a.append(`${d}y`,"0")}else m&&a.append(m,y)}}else{if(of(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Tc,r=null,o=bc,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:u}}function Xm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function II(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function RI(n,e,t){let r=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await II(a,t);return u.links?u.links():[]}return[]}));return OI(r.flat(1).filter(CI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function S_(n,e,t,r,o,a){let u=(h,m)=>t[m]?h.route.id!==t[m].route.id:!0,f=(h,m)=>{var v;return t[m].pathname!==h.pathname||((v=t[m].route.path)==null?void 0:v.endsWith("*"))&&t[m].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,m)=>u(h,m)||f(h,m)):a==="data"?e.filter((h,m)=>{var y;let v=r.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(u(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let d=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function kI(n,e){return PI(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let o=[r.module];return r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function PI(n){return[...new Set(n)]}function xI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function OI(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let a=JSON.stringify(xI(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}function NI(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function DI(){let n=he.useContext(ua);return Xm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function LI(){let n=he.useContext(rf);return Xm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ym=he.createContext(void 0);Ym.displayName="FrameworkContext";function i0(){let n=he.useContext(Ym);return Xm(n,"You must render this element inside a <HydratedRouter> element"),n}function MI(n,e){let t=he.useContext(Ym),[r,o]=he.useState(!1),[a,u]=he.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:v,onTouchStart:y}=e,d=he.useRef(null);he.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let T=w=>{w.forEach(S=>{u(S.isIntersecting)})},_=new IntersectionObserver(T,{threshold:.5});return d.current&&_.observe(d.current),()=>{_.disconnect()}}},[n]),he.useEffect(()=>{if(r){let T=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(T)}}},[r]);let g=()=>{o(!0)},E=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,d,{}]:[a,d,{onFocus:ul(f,g),onBlur:ul(h,E),onMouseEnter:ul(m,g),onMouseLeave:ul(v,E),onTouchStart:ul(y,g)}]:[!1,d,{}]}function ul(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function jI({page:n,...e}){let{router:t}=DI(),r=he.useMemo(()=>Ww(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?he.createElement(FI,{page:n,matches:r,...e}):null}function VI(n){let{manifest:e,routeModules:t}=i0(),[r,o]=he.useState([]);return he.useEffect(()=>{let a=!1;return RI(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),r}function FI({page:n,matches:e,...t}){let r=uo(),{manifest:o,routeModules:a}=i0(),{loaderData:u,matches:f}=LI(),h=he.useMemo(()=>S_(n,e,f,o,r,"data"),[n,e,f,o,r]),m=he.useMemo(()=>S_(n,e,f,o,r,"assets"),[n,e,f,o,r]),v=he.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let g=new Set,E=!1;if(e.forEach(_=>{var S;let w=o.routes[_.route.id];!w||!w.hasLoader||(!h.some(R=>R.route.id===_.route.id)&&_.route.id in u&&((S=a[_.route.id])!=null&&S.shouldRevalidate)||w.hasClientLoader?E=!0:g.add(_.route.id))}),g.size===0)return[];let T=NI(n);return E&&g.size>0&&T.searchParams.set("_routes",e.filter(_=>g.has(_.route.id)).map(_=>_.route.id).join(",")),[T.pathname+T.search]},[u,r,o,h,e,n,a]),y=he.useMemo(()=>kI(m,o),[m,o]),d=VI(m);return he.createElement(he.Fragment,null,v.map(g=>he.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...t})),y.map(g=>he.createElement("link",{key:g,rel:"modulepreload",href:g,...t})),d.map(({key:g,link:E})=>he.createElement("link",{key:g,...E})))}function UI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var o0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{o0&&(window.__reactRouterVersion="7.1.3")}catch{}function qI({basename:n,children:e,window:t}){let r=he.useRef();r.current==null&&(r.current=kA({window:t,v5Compat:!0}));let o=r.current,[a,u]=he.useState({action:o.action,location:o.location}),f=he.useCallback(h=>{he.startTransition(()=>u(h))},[u]);return he.useLayoutEffect(()=>o.listen(f),[o,f]),he.createElement(gI,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var s0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sf=he.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:f,target:h,to:m,preventScrollReset:v,viewTransition:y,...d},g){let{basename:E}=he.useContext(Ur),T=typeof m=="string"&&s0.test(m),_,w=!1;if(typeof m=="string"&&T&&(_=m,o0))try{let L=new URL(window.location.href),O=m.startsWith("//")?new URL(L.protocol+m):new URL(m),C=to(O.pathname,E);O.origin===L.origin&&C!=null?m=C+O.search+O.hash:w=!0}catch{jr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=tI(m,{relative:o}),[R,b,M]=MI(r,d),U=$I(m,{replace:u,state:f,target:h,preventScrollReset:v,relative:o,viewTransition:y});function k(L){e&&e(L),L.defaultPrevented||U(L)}let I=he.createElement("a",{...d,...M,href:_||S,onClick:w||a?e:k,ref:UI(g,b),target:h,"data-discover":!T&&t==="render"?"true":void 0});return R&&!T?he.createElement(he.Fragment,null,I,he.createElement(jI,{page:S})):I});sf.displayName="Link";var Uo=he.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:f,children:h,...m},v){let y=Ml(u,{relative:m.relative}),d=uo(),g=he.useContext(rf),{navigator:E,basename:T}=he.useContext(Ur),_=g!=null&&QI(y)&&f===!0,w=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,S=d.pathname,R=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;t||(S=S.toLowerCase(),R=R?R.toLowerCase():null,w=w.toLowerCase()),R&&T&&(R=to(R,T)||R);const b=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let M=S===w||!o&&S.startsWith(w)&&S.charAt(b)==="/",U=R!=null&&(R===w||!o&&R.startsWith(w)&&R.charAt(w.length)==="/"),k={isActive:M,isPending:U,isTransitioning:_},I=M?e:void 0,L;typeof r=="function"?L=r(k):L=[r,M?"active":null,U?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(k):a;return he.createElement(sf,{...m,"aria-current":I,className:L,ref:v,style:O,to:u,viewTransition:f},typeof h=="function"?h(k):h)});Uo.displayName="NavLink";var BI=he.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:a,method:u=Tc,action:f,onSubmit:h,relative:m,preventScrollReset:v,viewTransition:y,...d},g)=>{let E=KI(),T=GI(f,{relative:m}),_=u.toLowerCase()==="get"?"get":"post",w=typeof f=="string"&&s0.test(f),S=R=>{if(h&&h(R),R.defaultPrevented)return;R.preventDefault();let b=R.nativeEvent.submitter,M=(b==null?void 0:b.getAttribute("formmethod"))||u;E(b||R.currentTarget,{fetcherKey:e,method:M,navigate:t,replace:o,state:a,relative:m,preventScrollReset:v,viewTransition:y})};return he.createElement("form",{ref:g,method:_,action:T,onSubmit:r?h:S,...d,"data-discover":!w&&n==="render"?"true":void 0})});BI.displayName="Form";function zI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function a0(n){let e=he.useContext(ua);return At(e,zI(n)),e}function $I(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:u}={}){let f=Yo(),h=uo(),m=Ml(n,{relative:a});return he.useCallback(v=>{if(TI(v,e)){v.preventDefault();let y=t!==void 0?t:Sl(h)===Sl(m);f(n,{replace:y,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[h,f,m,t,r,e,n,o,a,u])}var HI=0,WI=()=>`__${String(++HI)}__`;function KI(){let{router:n}=a0("useSubmit"),{basename:e}=he.useContext(Ur),t=hI();return he.useCallback(async(r,o={})=>{let{action:a,method:u,encType:f,formData:h,body:m}=AI(r,e);if(o.navigate===!1){let v=o.fetcherKey||WI();await n.fetch(v,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function GI(n,{relative:e}={}){let{basename:t}=he.useContext(Ur),r=he.useContext(qr);At(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...Ml(n||".",{relative:e})},u=uo();if(n==null){a.search=u.search;let f=new URLSearchParams(a.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(y=>y).forEach(y=>f.append("index",y));let v=f.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:li([t,a.pathname])),Sl(a)}function QI(n,e={}){let t=he.useContext(Jw);At(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=a0("useViewTransitionState"),o=Ml(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=to(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=to(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Lc(o.pathname,u)!=null||Lc(o.pathname,a)!=null}new TextEncoder;const XI="_showcaseContainer_2tz55_7",YI="_productsGrid_2tz55_18",JI="_imageContainer_2tz55_23",ZI="_productCard_2tz55_41",eC="_title_2tz55_56",tC="_price_2tz55_62",nC="_containerImages_2tz55_85",rC="_hoverEffect_2tz55_97",iC="_cardNotAvaiable_2tz55_102",oC="_scrollContainer_2tz55_115",Cr={showcaseContainer:XI,productsGrid:YI,imageContainer:JI,productCard:ZI,title:eC,price:tC,containerImages:nC,hoverEffect:rC,cardNotAvaiable:iC,scrollContainer:oC,"product-image":"_product-image_2tz55_146"},Br=Le.createContext(),sC=()=>{};var A_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},aC=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],f=n[t++],h=((o&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},u0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,f=u?n[o+1]:0,h=o+2<n.length,m=h?n[o+2]:0,v=a>>2,y=(a&3)<<4|f>>4;let d=(f&15)<<2|m>>6,g=m&63;h||(g=64,u||(d=64)),r.push(t[v],t[y],t[d],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(l0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):aC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const y=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||f==null||m==null||y==null)throw new lC;const d=a<<2|f>>4;if(r.push(d),m!==64){const g=f<<4&240|m>>2;if(r.push(g),y!==64){const E=m<<6&192|y;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class lC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uC=function(n){const e=l0(n);return u0.encodeByteArray(e,!0)},Mc=function(n){return uC(n).replace(/\./g,"")},c0=function(n){try{return u0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=()=>cC().__FIREBASE_DEFAULTS__,hC=()=>{if(typeof process>"u"||typeof A_>"u")return;const n=A_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},dC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&c0(n[1]);return e&&JSON.parse(e)},af=()=>{try{return sC()||fC()||hC()||dC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},f0=n=>{var e,t;return(t=(e=af())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},h0=n=>{const e=f0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},d0=()=>{var n;return(n=af())===null||n===void 0?void 0:n.config},p0=n=>{var e;return(e=af())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Mc(JSON.stringify(t)),Mc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function gC(){var n;const e=(n=af())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _C(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EC(){const n=dn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function wC(){return!gC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TC(){try{return typeof indexedDB=="object"}catch{return!1}}function bC(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="FirebaseError";class zr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=SC,Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?AC(a,r):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new zr(o,f,r)}}function AC(n,e){return n.replace(IC,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const IC=/\{\$([^}]+)}/g;function CC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ho(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(I_(a)&&I_(u)){if(!Ho(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function I_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function RC(n,e){const t=new kC(n,e);return t.subscribe.bind(t)}class kC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");PC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=md),o.error===void 0&&(o.error=md),o.complete===void 0&&(o.complete=md);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function md(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(n){return n&&n._delegate?n._delegate:n}class no{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new pC;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NC(e))try{this.getOrInitializeService({instanceIdentifier:qo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qo){return this.instances.has(e)}getOptions(e=qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);r===f&&u.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OC(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qo){return this.component?this.component.multipleInstances?e:qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OC(n){return n===qo?void 0:n}function NC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(et||(et={}));const LC={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},MC=et.INFO,jC={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},VC=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=jC[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jm{constructor(e){this.name=e,this._logLevel=MC,this._logHandler=VC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const FC=(n,e)=>e.some(t=>n instanceof t);let C_,R_;function UC(){return C_||(C_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qC(){return R_||(R_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const g0=new WeakMap,mm=new WeakMap,y0=new WeakMap,gd=new WeakMap,Zm=new WeakMap;function BC(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Yi(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&g0.set(t,n)}).catch(()=>{}),Zm.set(e,n),e}function zC(n){if(mm.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});mm.set(n,e)}let gm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return mm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||y0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function $C(n){gm=n(gm)}function HC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(yd(this),e,...t);return y0.set(r,e.sort?e.sort():[e]),Yi(r)}:qC().includes(n)?function(...e){return n.apply(yd(this),e),Yi(g0.get(this))}:function(...e){return Yi(n.apply(yd(this),e))}}function WC(n){return typeof n=="function"?HC(n):(n instanceof IDBTransaction&&zC(n),FC(n,UC())?new Proxy(n,gm):n)}function Yi(n){if(n instanceof IDBRequest)return BC(n);if(gd.has(n))return gd.get(n);const e=WC(n);return e!==n&&(gd.set(n,e),Zm.set(e,n)),e}const yd=n=>Zm.get(n);function KC(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),f=Yi(u);return r&&u.addEventListener("upgradeneeded",h=>{r(Yi(u.result),h.oldVersion,h.newVersion,Yi(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{a&&h.addEventListener("close",()=>a()),o&&h.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const GC=["get","getKey","getAll","getAllKeys","count"],QC=["put","add","delete","clear"],vd=new Map;function k_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(vd.get(e))return vd.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=QC.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||GC.includes(t)))return;const a=async function(u,...f){const h=this.transaction(u,o?"readwrite":"readonly");let m=h.store;return r&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),o&&h.done]))[0]};return vd.set(e,a),a}$C(n=>({...n,get:(e,t,r)=>k_(e,t)||n.get(e,t,r),has:(e,t)=>!!k_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(YC(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function YC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ym="@firebase/app",P_="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new Jm("@firebase/app"),JC="@firebase/app-compat",ZC="@firebase/analytics-compat",eR="@firebase/analytics",tR="@firebase/app-check-compat",nR="@firebase/app-check",rR="@firebase/auth",iR="@firebase/auth-compat",oR="@firebase/database",sR="@firebase/data-connect",aR="@firebase/database-compat",lR="@firebase/functions",uR="@firebase/functions-compat",cR="@firebase/installations",fR="@firebase/installations-compat",hR="@firebase/messaging",dR="@firebase/messaging-compat",pR="@firebase/performance",mR="@firebase/performance-compat",gR="@firebase/remote-config",yR="@firebase/remote-config-compat",vR="@firebase/storage",_R="@firebase/storage-compat",ER="@firebase/firestore",wR="@firebase/vertexai",TR="@firebase/firestore-compat",bR="firebase",SR="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="[DEFAULT]",AR={[ym]:"fire-core",[JC]:"fire-core-compat",[eR]:"fire-analytics",[ZC]:"fire-analytics-compat",[nR]:"fire-app-check",[tR]:"fire-app-check-compat",[rR]:"fire-auth",[iR]:"fire-auth-compat",[oR]:"fire-rtdb",[sR]:"fire-data-connect",[aR]:"fire-rtdb-compat",[lR]:"fire-fn",[uR]:"fire-fn-compat",[cR]:"fire-iid",[fR]:"fire-iid-compat",[hR]:"fire-fcm",[dR]:"fire-fcm-compat",[pR]:"fire-perf",[mR]:"fire-perf-compat",[gR]:"fire-rc",[yR]:"fire-rc-compat",[vR]:"fire-gcs",[_R]:"fire-gcs-compat",[ER]:"fire-fst",[TR]:"fire-fst-compat",[wR]:"fire-vertex","fire-js":"fire-js",[bR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new Map,IR=new Map,_m=new Map;function x_(n,e){try{n.container.addComponent(e)}catch(t){fi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Wo(n){const e=n.name;if(_m.has(e))return fi.debug(`There were multiple attempts to register component ${e}.`),!1;_m.set(e,n);for(const t of jc.values())x_(t,n);for(const t of IR.values())x_(t,n);return!0}function lf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function pr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ji=new jl("app","Firebase",CR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new no("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=SR;function v0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:vm,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Ji.create("bad-app-name",{appName:String(o)});if(t||(t=d0()),!t)throw Ji.create("no-options");const a=jc.get(o);if(a){if(Ho(t,a.options)&&Ho(r,a.config))return a;throw Ji.create("duplicate-app",{appName:o})}const u=new DC(o);for(const h of _m.values())u.addComponent(h);const f=new RR(t,r,u);return jc.set(o,f),f}function eg(n=vm){const e=jc.get(n);if(!e&&n===vm&&d0())return v0();if(!e)throw Ji.create("no-app",{appName:n});return e}function Or(n,e,t){var r;let o=(r=AR[n])!==null&&r!==void 0?r:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${o}" with version "${e}":`];a&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fi.warn(f.join(" "));return}Wo(new no(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="firebase-heartbeat-database",PR=1,Al="firebase-heartbeat-store";let _d=null;function _0(){return _d||(_d=KC(kR,PR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Al)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ji.create("idb-open",{originalErrorMessage:n.message})})),_d}async function xR(n){try{const t=(await _0()).transaction(Al),r=await t.objectStore(Al).get(E0(n));return await t.done,r}catch(e){if(e instanceof zr)fi.warn(e.message);else{const t=Ji.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fi.warn(t.message)}}}async function O_(n,e){try{const r=(await _0()).transaction(Al,"readwrite");await r.objectStore(Al).put(e,E0(n)),await r.done}catch(t){if(t instanceof zr)fi.warn(t.message);else{const r=Ji.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});fi.warn(r.message)}}}function E0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=1024,NR=30;class DR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new MR(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=N_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>NR){const u=jR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=N_(),{heartbeatsToSend:r,unsentEntries:o}=LR(this._heartbeatsCache.heartbeats),a=Mc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return fi.warn(t),""}}}function N_(){return new Date().toISOString().substring(0,10)}function LR(n,e=OR){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),D_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),D_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class MR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TC()?bC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await xR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return O_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return O_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function D_(n){return Mc(JSON.stringify({version:2,heartbeats:n})).length}function jR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(n){Wo(new no("platform-logger",e=>new XC(e),"PRIVATE")),Wo(new no("heartbeat",e=>new DR(e),"PRIVATE")),Or(ym,P_,n),Or(ym,P_,"esm2017"),Or("fire-js","")}VR("");var FR="firebase",UR="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(FR,UR,"app");function tg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function w0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qR=w0,T0=new jl("auth","Firebase",w0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=new Jm("@firebase/auth");function BR(n,...e){Vc.logLevel<=et.WARN&&Vc.warn(`Auth (${Jo}): ${n}`,...e)}function Sc(n,...e){Vc.logLevel<=et.ERROR&&Vc.error(`Auth (${Jo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(n,...e){throw ng(n,...e)}function Nr(n,...e){return ng(n,...e)}function b0(n,e,t){const r=Object.assign(Object.assign({},qR()),{[e]:t});return new jl("auth","Firebase",r).create(e,{appName:n.name})}function zo(n){return b0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ng(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return T0.create(n,...e)}function ze(n,e,...t){if(!n)throw ng(e,...t)}function oi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Sc(e),new Error(e)}function di(n,e){n||oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function zR(){return L_()==="http:"||L_()==="https:"}function L_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zR()||vC()||"connection"in navigator)?navigator.onLine:!0}function HR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,t){this.shortDelay=e,this.longDelay=t,di(t>e,"Short delay should be less than long delay!"),this.isMobile=mC()||_C()}get(){return $R()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(n,e){di(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=new Fl(3e4,6e4);function ig(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ca(n,e,t,r,o={}){return A0(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const f=Vl(Object.assign({key:n.config.apiKey},u)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:h},a);return yC()||(m.referrerPolicy="no-referrer"),S0.fetch()(I0(n,n.config.apiHost,t,f),m)})}async function A0(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},WR),e);try{const o=new QR(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw dc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[h,m]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw dc(n,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw dc(n,"email-already-in-use",u);if(h==="USER_DISABLED")throw dc(n,"user-disabled",u);const v=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw b0(n,v,m);hi(n,v)}}catch(o){if(o instanceof zr)throw o;hi(n,"network-request-failed",{message:String(o)})}}async function GR(n,e,t,r,o={}){const a=await ca(n,e,t,r,o);return"mfaPendingCredential"in a&&hi(n,"multi-factor-auth-required",{_serverResponse:a}),a}function I0(n,e,t,r){const o=`${e}${t}?${r}`;return n.config.emulator?rg(n.config,o):`${n.config.apiScheme}://${o}`}class QR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Nr(this.auth,"network-request-failed")),KR.get())})}}function dc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Nr(n,e,r);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(n,e){return ca(n,"POST","/v1/accounts:delete",e)}async function C0(n,e){return ca(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YR(n,e=!1){const t=Qt(n),r=await t.getIdToken(e),o=og(r);ze(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:r,authTime:vl(Ed(o.auth_time)),issuedAtTime:vl(Ed(o.iat)),expirationTime:vl(Ed(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ed(n){return Number(n)*1e3}function og(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Sc("JWT malformed, contained fewer than 3 sections"),null;try{const o=c0(t);return o?JSON.parse(o):(Sc("Failed to decode base64 JWT payload"),null)}catch(o){return Sc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function M_(n){const e=og(n);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof zr&&JR(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function JR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(n){var e;const t=n.auth,r=await n.getIdToken(),o=await Il(n,C0(t,{idToken:r}));ze(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?R0(a.providerUserInfo):[],f=tk(n.providerData,u),h=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(f!=null&&f.length),v=h?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new wm(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,y)}async function ek(n){const e=Qt(n);await Fc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tk(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function R0(n){return n.map(e=>{var{providerId:t}=e,r=tg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nk(n,e){const t=await A0(n,{},async()=>{const r=Vl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=I0(n,o,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",S0.fetch()(u,{method:"POST",headers:f,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function rk(n,e){return ca(n,"POST","/v2/accounts:revokeToken",ig(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):M_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const t=M_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await nk(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new Qs;return r&&(ze(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(ze(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(ze(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qs,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(n,e){ze(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class si{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,a=tg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new wm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Il(this,this.stsTokenManager.getToken(this.auth,e));return ze(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return YR(this,e)}reload(){return ek(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new si(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Fc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(zo(this.auth));const e=await this.getIdToken();return await Il(this,XR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,a,u,f,h,m,v;const y=(r=t.displayName)!==null&&r!==void 0?r:void 0,d=(o=t.email)!==null&&o!==void 0?o:void 0,g=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,E=(u=t.photoURL)!==null&&u!==void 0?u:void 0,T=(f=t.tenantId)!==null&&f!==void 0?f:void 0,_=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,w=(m=t.createdAt)!==null&&m!==void 0?m:void 0,S=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:R,emailVerified:b,isAnonymous:M,providerData:U,stsTokenManager:k}=t;ze(R&&k,e,"internal-error");const I=Qs.fromJSON(this.name,k);ze(typeof R=="string",e,"internal-error"),Bi(y,e.name),Bi(d,e.name),ze(typeof b=="boolean",e,"internal-error"),ze(typeof M=="boolean",e,"internal-error"),Bi(g,e.name),Bi(E,e.name),Bi(T,e.name),Bi(_,e.name),Bi(w,e.name),Bi(S,e.name);const L=new si({uid:R,auth:e,email:d,emailVerified:b,displayName:y,isAnonymous:M,photoURL:E,phoneNumber:g,tenantId:T,stsTokenManager:I,createdAt:w,lastLoginAt:S});return U&&Array.isArray(U)&&(L.providerData=U.map(O=>Object.assign({},O))),_&&(L._redirectEventId=_),L}static async _fromIdTokenResponse(e,t,r=!1){const o=new Qs;o.updateFromServerResponse(t);const a=new si({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Fc(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];ze(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?R0(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),f=new Qs;f.updateFromIdToken(r);const h=new si({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=new Map;function ai(n){di(n instanceof Function,"Expected a class definition");let e=j_.get(n);return e?(di(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,j_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}k0.type="NONE";const V_=k0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(n,e,t){return`firebase:${n}:${e}:${t}`}class Xs{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=Ac(this.userKey,o.apiKey,a),this.fullPersistenceKey=Ac("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?si._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Xs(ai(V_),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||ai(V_);const u=Ac(r,e.config.apiKey,e.name);let f=null;for(const m of t)try{const v=await m._get(u);if(v){const y=si._fromJSON(e,v);m!==a&&(f=y),a=m;break}}catch{}const h=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Xs(a,e,r):(a=h[0],f&&await a._set(u,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new Xs(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(L0(e))return"Blackberry";if(M0(e))return"Webos";if(x0(e))return"Safari";if((e.includes("chrome/")||O0(e))&&!e.includes("edge/"))return"Chrome";if(D0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function P0(n=dn()){return/firefox\//i.test(n)}function x0(n=dn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function O0(n=dn()){return/crios\//i.test(n)}function N0(n=dn()){return/iemobile/i.test(n)}function D0(n=dn()){return/android/i.test(n)}function L0(n=dn()){return/blackberry/i.test(n)}function M0(n=dn()){return/webos/i.test(n)}function sg(n=dn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ik(n=dn()){var e;return sg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ok(){return EC()&&document.documentMode===10}function j0(n=dn()){return sg(n)||D0(n)||M0(n)||L0(n)||/windows phone/i.test(n)||N0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(n,e=[]){let t;switch(n){case"Browser":t=F_(dn());break;case"Worker":t=`${F_(dn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Jo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,f)=>{try{const h=e(a);u(h)}catch(h){f(h)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(n,e={}){return ca(n,"GET","/v2/passwordPolicy",ig(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=6;class uk{constructor(e){var t,r,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:lk,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,a,u,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(o=h.containsLowercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U_(this),this.idTokenSubscription=new U_(this),this.beforeStateQueue=new sk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ai(t)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await Xs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await C0(this,{idToken:e}),r=await si._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(pr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===f)&&(h!=null&&h.user)&&(o=h.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Fc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject(zo(this));const t=e?Qt(e):null;return t&&ze(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject(zo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject(zo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ak(this),t=new uk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await rk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ai(e)||this._popupRedirectResolver;ze(t,this,"argument-error"),this.redirectPersistenceManager=await Xs.create(this,[ai(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,o);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&BR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ag(n){return Qt(n)}class U_{constructor(e){this.auth=e,this.observer=null,this.addObserver=RC(t=>this.observer=t)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fk(n){lg=n}function hk(n){return lg.loadJS(n)}function dk(){return lg.gapiScript}function pk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(n,e){const t=lf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Ho(a,e??{}))return o;hi(o,"already-initialized")}return t.initialize({options:e})}function gk(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ai);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function yk(n,e,t){const r=ag(n);ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=F0(e),{host:u,port:f}=vk(e),h=f===null?"":`:${f}`,m={url:`${a}//${u}${h}/`},v=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){ze(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ze(Ho(m,r.config.emulator)&&Ho(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,_k()}function F0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function vk(n){const e=F0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:q_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:q_(u)}}}function q_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function _k(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,t){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ys(n,e){return GR(n,"POST","/v1/accounts:signInWithIdp",ig(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek="http://localhost";class Ko extends U0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ko(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):hi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,a=tg(t,["providerId","signInMethod"]);if(!r||!o)return null;const u=new Ko(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ys(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ys(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ys(e,t)}buildRequest(){const e={requestUri:Ek,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends q0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Ul{constructor(){super("facebook.com")}static credential(e){return Ko._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ko._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Wi.credential(t,r)}catch{return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Ul{constructor(){super("github.com")}static credential(e){return Ko._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.GITHUB_SIGN_IN_METHOD="github.com";Ki.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Ul{constructor(){super("twitter.com")}static credential(e,t){return Ko._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Gi.credential(t,r)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await si._fromIdTokenResponse(e,r,o),u=B_(r);return new Zs({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=B_(r);return new Zs({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function B_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends zr{constructor(e,t,r,o){var a;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Uc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Uc(e,t,r,o)}}function B0(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Uc._fromErrorAndOperation(n,a,e,r):a})}async function wk(n,e,t=!1){const r=await Il(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Zs._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tk(n,e,t=!1){const{auth:r}=n;if(pr(r.app))return Promise.reject(zo(r));const o="reauthenticate";try{const a=await Il(n,B0(r,o,e,n),t);ze(a.idToken,r,"internal-error");const u=og(a.idToken);ze(u,r,"internal-error");const{sub:f}=u;return ze(n.uid===f,r,"user-mismatch"),Zs._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&hi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(n,e,t=!1){if(pr(n.app))return Promise.reject(zo(n));const r="signIn",o=await B0(n,r,e),a=await Zs._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}function Sk(n,e,t,r){return Qt(n).onIdTokenChanged(e,t,r)}function Ak(n,e,t){return Qt(n).beforeAuthStateChanged(e,t)}const qc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qc,"1"),this.storage.removeItem(qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=1e3,Ck=10;class $0 extends z0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,h)=>{this.notifyListeners(u,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);ok()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Ck):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Ik)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$0.type="LOCAL";const Rk=$0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0 extends z0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}H0.type="SESSION";const W0=H0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new uf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const f=Array.from(u).map(async m=>m(t.origin,a)),h=await kk(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((f,h)=>{const m=ug("",20);o.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(y){const d=y;if(d.data.eventId===m)switch(d.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(d.data.response);break;default:clearTimeout(v),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function xk(n){Dr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function Ok(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Nk(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Dk(){return K0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="firebaseLocalStorageDb",Lk=1,Bc="firebaseLocalStorage",Q0="fbase_key";class ql{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function cf(n,e){return n.transaction([Bc],e?"readwrite":"readonly").objectStore(Bc)}function Mk(){const n=indexedDB.deleteDatabase(G0);return new ql(n).toPromise()}function Tm(){const n=indexedDB.open(G0,Lk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Bc,{keyPath:Q0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Bc)?e(r):(r.close(),await Mk(),e(await Tm()))})})}async function z_(n,e,t){const r=cf(n,!0).put({[Q0]:e,value:t});return new ql(r).toPromise()}async function jk(n,e){const t=cf(n,!1).get(e),r=await new ql(t).toPromise();return r===void 0?null:r.value}function $_(n,e){const t=cf(n,!0).delete(e);return new ql(t).toPromise()}const Vk=800,Fk=3;class X0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Fk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uf._getInstance(Dk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Ok(),!this.activeServiceWorker)return;this.sender=new Pk(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Nk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tm();return await z_(e,qc,"1"),await $_(e,qc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>z_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>jk(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>$_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=cf(o,!1).getAll();return new ql(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Vk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}X0.type="LOCAL";const Uk=X0;new Fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(n,e){return e?ai(e):(ze(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg extends U0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ys(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ys(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ys(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Bk(n){return bk(n.auth,new cg(n),n.bypassAuthState)}function zk(n){const{auth:e,user:t}=n;return ze(t,e,"internal-error"),Tk(t,new cg(n),n.bypassAuthState)}async function $k(n){const{auth:e,user:t}=n;return ze(t,e,"internal-error"),wk(t,new cg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:f}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bk;case"linkViaPopup":case"linkViaRedirect":return $k;case"reauthViaPopup":case"reauthViaRedirect":return zk;default:hi(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=new Fl(2e3,1e4);class Gs extends Y0{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Gs.currentPopupAction&&Gs.currentPopupAction.cancel(),Gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Hk.get())};e()}}Gs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk="pendingRedirect",Ic=new Map;class Kk extends Y0{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ic.get(this.auth._key());if(!e){try{const r=await Gk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ic.set(this.auth._key(),e)}return this.bypassAuthState||Ic.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Gk(n,e){const t=Yk(e),r=Xk(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function Qk(n,e){Ic.set(n._key(),e)}function Xk(n){return ai(n._redirectPersistence)}function Yk(n){return Ac(Wk,n.config.apiKey,n.name)}async function Jk(n,e,t=!1){if(pr(n.app))return Promise.reject(zo(n));const r=ag(n),o=qk(r,e),u=await new Kk(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=10*60*1e3;class eP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!J0(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Nr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Zk&&this.cachedEventUids.clear(),this.cachedEventUids.has(H_(e))}saveEventToCache(e){this.cachedEventUids.add(H_(e)),this.lastProcessedEventTime=Date.now()}}function H_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function J0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return J0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nP(n,e={}){return ca(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iP=/^https?/;async function oP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await nP(n);for(const t of e)try{if(sP(t))return}catch{}hi(n,"unauthorized-domain")}function sP(n){const e=Em(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!iP.test(t))return!1;if(rP.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=new Fl(3e4,6e4);function W_(){const n=Dr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function lP(n){return new Promise((e,t)=>{var r,o,a;function u(){W_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W_(),t(Nr(n,"network-request-failed"))},timeout:aP.get()})}if(!((o=(r=Dr().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Dr().gapi)===null||a===void 0)&&a.load)u();else{const f=pk("iframefcb");return Dr()[f]=()=>{gapi.load?u():t(Nr(n,"network-request-failed"))},hk(`${dk()}?onload=${f}`).catch(h=>t(h))}}).catch(e=>{throw Cc=null,e})}let Cc=null;function uP(n){return Cc=Cc||lP(n),Cc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=new Fl(5e3,15e3),fP="__/auth/iframe",hP="emulator/auth/iframe",dP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mP(n){const e=n.config;ze(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?rg(e,hP):`https://${n.config.authDomain}/${fP}`,r={apiKey:e.apiKey,appName:n.name,v:Jo},o=pP.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Vl(r).slice(1)}`}async function gP(n){const e=await uP(n),t=Dr().gapi;return ze(t,n,"internal-error"),e.open({where:document.body,url:mP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dP,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=Nr(n,"network-request-failed"),f=Dr().setTimeout(()=>{a(u)},cP.get());function h(){Dr().clearTimeout(f),o(r)}r.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vP=500,_P=600,EP="_blank",wP="http://localhost";class K_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TP(n,e,t,r=vP,o=_P){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const h=Object.assign(Object.assign({},yP),{width:r.toString(),height:o.toString(),top:a,left:u}),m=dn().toLowerCase();t&&(f=O0(m)?EP:t),P0(m)&&(e=e||wP,h.scrollbars="yes");const v=Object.entries(h).reduce((d,[g,E])=>`${d}${g}=${E},`,"");if(ik(m)&&f!=="_self")return bP(e||"",f),new K_(null);const y=window.open(e||"",f,v);ze(y,n,"popup-blocked");try{y.focus()}catch{}return new K_(y)}function bP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="__/auth/handler",AP="emulator/auth/handler",IP=encodeURIComponent("fac");async function G_(n,e,t,r,o,a){ze(n.config.authDomain,n,"auth-domain-config-required"),ze(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Jo,eventId:o};if(e instanceof q0){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",CC(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,y]of Object.entries({}))u[v]=y}if(e instanceof Ul){const v=e.getScopes().filter(y=>y!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const h=await n._getAppCheckToken(),m=h?`#${IP}=${encodeURIComponent(h)}`:"";return`${CP(n)}?${Vl(f).slice(1)}${m}`}function CP({config:n}){return n.emulator?rg(n,AP):`https://${n.authDomain}/${SP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="webStorageSupport";class RP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=W0,this._completeRedirectFn=Jk,this._overrideRedirectResult=Qk}async _openPopup(e,t,r,o){var a;di((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await G_(e,t,r,Em(),o);return TP(e,u,ug())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await G_(e,t,r,Em(),o);return xk(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(di(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await gP(e),r=new eP(e);return t.register("authEvent",o=>(ze(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wd,{type:wd},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[wd];u!==void 0&&t(!!u),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=oP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return j0()||x0()||sg()}}const kP=RP;var Q_="@firebase/auth",X_="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OP(n){Wo(new no("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;ze(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V0(n)},m=new ck(r,o,a,h);return gk(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Wo(new no("auth-internal",e=>{const t=ag(e.getProvider("auth").getImmediate());return(r=>new PP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(Q_,X_,xP(n)),Or(Q_,X_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=5*60,DP=p0("authIdTokenMaxAge")||NP;let Y_=null;const LP=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>DP)return;const o=t==null?void 0:t.token;Y_!==o&&(Y_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function MP(n=eg()){const e=lf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=mk(n,{popupRedirectResolver:kP,persistence:[Uk,Rk,W0]}),r=p0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=LP(a.toString());Ak(t,u,()=>u(t.currentUser)),Sk(t,f=>u(f))}}const o=f0("auth");return o&&yk(t,`http://${o}`),t}function jP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}fk({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=Nr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",jP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OP("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="firebasestorage.googleapis.com",eT="storageBucket",VP=2*60*1e3,FP=10*60*1e3,UP=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct extends zr{constructor(e,t,r=0){super(Td(e),`Firebase Storage: ${t} (${Td(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Td(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _t;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_t||(_t={}));function Td(n){return"storage/"+n}function fg(){const n="An unknown error occurred, please check the error payload for server response.";return new Ct(_t.UNKNOWN,n)}function qP(n){return new Ct(_t.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function BP(n){return new Ct(_t.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function zP(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ct(_t.UNAUTHENTICATED,n)}function $P(){return new Ct(_t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function HP(n){return new Ct(_t.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function tT(){return new Ct(_t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nT(){return new Ct(_t.CANCELED,"User canceled the upload/download.")}function WP(n){return new Ct(_t.INVALID_URL,"Invalid URL '"+n+"'.")}function KP(n){return new Ct(_t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function GP(){return new Ct(_t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+eT+"' property when initializing the app?")}function rT(){return new Ct(_t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function QP(){return new Ct(_t.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function XP(){return new Ct(_t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function YP(n){return new Ct(_t.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function bm(n){return new Ct(_t.INVALID_ARGUMENT,n)}function iT(){return new Ct(_t.APP_DELETED,"The Firebase app was deleted.")}function JP(n){return new Ct(_t.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _l(n,e){return new Ct(_t.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function cl(n){throw new Ct(_t.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=jn.makeFromUrl(e,t)}catch{return new jn(e,"")}if(r.path==="")return r;throw KP(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+o+u,"i"),h={bucket:1,path:3};function m(b){b.path_=decodeURIComponent(b.path)}const v="v[A-Za-z0-9_]+",y=t.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",g=new RegExp(`^https?://${y}/${v}/b/${o}/o${d}`,"i"),E={bucket:1,path:3},T=t===Z0?"(?:storage.googleapis.com|storage.cloud.google.com)":t,_="([^?#]*)",w=new RegExp(`^https?://${T}/${o}/${_}`,"i"),R=[{regex:f,indices:h,postModify:a},{regex:g,indices:E,postModify:m},{regex:w,indices:{bucket:1,path:2},postModify:m}];for(let b=0;b<R.length;b++){const M=R[b],U=M.regex.exec(e);if(U){const k=U[M.indices.bucket];let I=U[M.indices.path];I||(I=""),r=new jn(k,I),M.postModify(r);break}}if(r==null)throw WP(e);return r}}class ZP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(n,e,t){let r=1,o=null,a=null,u=!1,f=0;function h(){return f===2}let m=!1;function v(..._){m||(m=!0,e.apply(null,_))}function y(_){o=setTimeout(()=>{o=null,n(g,h())},_)}function d(){a&&clearTimeout(a)}function g(_,...w){if(m){d();return}if(_){d(),v.call(null,_,...w);return}if(h()||u){d(),v.call(null,_,...w);return}r<64&&(r*=2);let R;f===1?(f=2,R=0):R=(r+Math.random())*1e3,y(R)}let E=!1;function T(_){E||(E=!0,d(),!m&&(o!==null?(_||(f=2),clearTimeout(o),y(0)):_||(f=1)))}return y(0),a=setTimeout(()=>{u=!0,T(!0)},t),T}function tx(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(n){return n!==void 0}function rx(n){return typeof n=="function"}function ix(n){return typeof n=="object"&&!Array.isArray(n)}function ff(n){return typeof n=="string"||n instanceof String}function J_(n){return hg()&&n instanceof Blob}function hg(){return typeof Blob<"u"}function Z_(n,e,t,r){if(r<e)throw bm(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw bm(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function oT(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const o=e(r)+"="+e(n[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var $o;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})($o||($o={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,t,r,o,a,u,f,h,m,v,y,d=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=h,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=y,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,E)=>{this.resolve_=g,this.reject_=E,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new pc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=f=>{const h=f.loaded,m=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const f=a.getErrorCode()===$o.NO_ERROR,h=a.getStatus();if(!f||sT(h,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===$o.ABORT;r(!1,new pc(!1,null,v));return}const m=this.successCodes_.indexOf(h)!==-1;r(!0,new pc(m,a))})},t=(r,o)=>{const a=this.resolve_,u=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const h=this.callback_(f,f.getResponse());nx(h)?a(h):a()}catch(h){u(h)}else if(f!==null){const h=fg();h.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,h)):u(h)}else if(o.canceled){const h=this.appDelete_?iT():nT();u(h)}else{const h=tT();u(h)}};this.canceled_?t(!1,new pc(!1,null,!0)):this.backoffId_=ex(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&tx(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class pc{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function sx(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function ax(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function lx(n,e){e&&(n["X-Firebase-GMPID"]=e)}function ux(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function cx(n,e,t,r,o,a,u=!0){const f=oT(n.urlParams),h=n.url+f,m=Object.assign({},n.headers);return lx(m,e),sx(m,t),ax(m,a),ux(m,r),new ox(h,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function hx(...n){const e=fx();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(hg())return new Blob(n);throw new Ct(_t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function dx(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(n){if(typeof atob>"u")throw YP("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bd{constructor(e,t){this.data=e,this.contentType=t||null}}function mx(n,e){switch(n){case xr.RAW:return new bd(aT(e));case xr.BASE64:case xr.BASE64URL:return new bd(lT(n,e));case xr.DATA_URL:return new bd(yx(e),vx(e))}throw fg()}function aT(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,u=n.charCodeAt(++t);r=65536|(a&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function gx(n){let e;try{e=decodeURIComponent(n)}catch{throw _l(xr.DATA_URL,"Malformed data URL.")}return aT(e)}function lT(n,e){switch(n){case xr.BASE64:{const o=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(o||a)throw _l(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case xr.BASE64URL:{const o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a)throw _l(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=px(e)}catch(o){throw o.message.includes("polyfill")?o:_l(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class uT{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw _l(xr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=_x(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function yx(n){const e=new uT(n);return e.base64?lT(xr.BASE64,e.rest):gx(e.rest)}function vx(n){return new uT(n).contentType}function _x(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,t){let r=0,o="";J_(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(J_(this.data_)){const r=this.data_,o=dx(r,e,t);return o===null?null:new Qi(o)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Qi(r,!0)}}static getBlob(...e){if(hg()){const t=e.map(r=>r instanceof Qi?r.data_:r);return new Qi(hx.apply(null,t))}else{const t=e.map(u=>ff(u)?mx(xr.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const o=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let f=0;f<u.length;f++)o[a++]=u[f]}),new Qi(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(n){let e;try{e=JSON.parse(n)}catch{return null}return ix(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function wx(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function fT(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(n,e){return e}class vn{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||Tx}}let mc=null;function bx(n){return!ff(n)||n.length<2?n:fT(n)}function hT(){if(mc)return mc;const n=[];n.push(new vn("bucket")),n.push(new vn("generation")),n.push(new vn("metageneration")),n.push(new vn("name","fullPath",!0));function e(a,u){return bx(u)}const t=new vn("name");t.xform=e,n.push(t);function r(a,u){return u!==void 0?Number(u):u}const o=new vn("size");return o.xform=r,n.push(o),n.push(new vn("timeCreated")),n.push(new vn("updated")),n.push(new vn("md5Hash",null,!0)),n.push(new vn("cacheControl",null,!0)),n.push(new vn("contentDisposition",null,!0)),n.push(new vn("contentEncoding",null,!0)),n.push(new vn("contentLanguage",null,!0)),n.push(new vn("contentType",null,!0)),n.push(new vn("metadata","customMetadata",!0)),mc=n,mc}function Sx(n,e){function t(){const r=n.bucket,o=n.fullPath,a=new jn(r,o);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function Ax(n,e,t){const r={};r.type="file";const o=t.length;for(let a=0;a<o;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return Sx(r,n),r}function dT(n,e,t){const r=cT(e);return r===null?null:Ax(n,r,t)}function Ix(n,e,t,r){const o=cT(e);if(o===null||!ff(o.downloadTokens))return null;const a=o.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(m=>{const v=n.bucket,y=n.fullPath,d="/b/"+u(v)+"/o/"+u(y),g=Bl(d,t,r),E=oT({alt:"media",token:m});return g+E})[0]}function pT(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const a=e[o];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class fa{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(n){if(!n)throw fg()}function dg(n,e){function t(r,o){const a=dT(n,o,e);return ui(a!==null),a}return t}function Cx(n,e){function t(r,o){const a=dT(n,o,e);return ui(a!==null),Ix(a,o,n.host,n._protocol)}return t}function zl(n){function e(t,r){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=$P():o=zP():t.getStatus()===402?o=BP(n.bucket):t.getStatus()===403?o=HP(n.path):o=r,o.status=t.getStatus(),o.serverResponse=r.serverResponse,o}return e}function mT(n){const e=zl(n);function t(r,o){let a=e(r,o);return r.getStatus()===404&&(a=qP(n.path)),a.serverResponse=o.serverResponse,a}return t}function Rx(n,e,t){const r=e.fullServerUrl(),o=Bl(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,f=new fa(o,a,dg(n,t),u);return f.errorHandler=mT(e),f}function kx(n,e,t){const r=e.fullServerUrl(),o=Bl(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,f=new fa(o,a,Cx(n,t),u);return f.errorHandler=mT(e),f}function Px(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function gT(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=Px(null,e)),r}function xx(n,e,t,r,o){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let R="";for(let b=0;b<2;b++)R=R+Math.random().toString().slice(2);return R}const h=f();u["Content-Type"]="multipart/related; boundary="+h;const m=gT(e,r,o),v=pT(m,t),y="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+h+`\r
Content-Type: `+m.contentType+`\r
\r
`,d=`\r
--`+h+"--",g=Qi.getBlob(y,r,d);if(g===null)throw rT();const E={name:m.fullPath},T=Bl(a,n.host,n._protocol),_="POST",w=n.maxUploadRetryTime,S=new fa(T,_,dg(n,t),w);return S.urlParams=E,S.headers=u,S.body=g.uploadData(),S.errorHandler=zl(e),S}class zc{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function pg(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{ui(!1)}return ui(!!t&&(e||["active"]).indexOf(t)!==-1),t}function Ox(n,e,t,r,o){const a=e.bucketOnlyServerUrl(),u=gT(e,r,o),f={name:u.fullPath},h=Bl(a,n.host,n._protocol),m="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},y=pT(u,t),d=n.maxUploadRetryTime;function g(T){pg(T);let _;try{_=T.getResponseHeader("X-Goog-Upload-URL")}catch{ui(!1)}return ui(ff(_)),_}const E=new fa(h,m,g,d);return E.urlParams=f,E.headers=v,E.body=y,E.errorHandler=zl(e),E}function Nx(n,e,t,r){const o={"X-Goog-Upload-Command":"query"};function a(m){const v=pg(m,["active","final"]);let y=null;try{y=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ui(!1)}y||ui(!1);const d=Number(y);return ui(!isNaN(d)),new zc(d,r.size(),v==="final")}const u="POST",f=n.maxUploadRetryTime,h=new fa(t,u,a,f);return h.headers=o,h.errorHandler=zl(e),h}const eE=256*1024;function Dx(n,e,t,r,o,a,u,f){const h=new zc(0,0);if(u?(h.current=u.current,h.total=u.total):(h.current=0,h.total=r.size()),r.size()!==h.total)throw QP();const m=h.total-h.current;let v=m;o>0&&(v=Math.min(v,o));const y=h.current,d=y+v;let g="";v===0?g="finalize":m===v?g="upload, finalize":g="upload";const E={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${h.current}`},T=r.slice(y,d);if(T===null)throw rT();function _(b,M){const U=pg(b,["active","final"]),k=h.current+v,I=r.size();let L;return U==="final"?L=dg(e,a)(b,M):L=null,new zc(k,I,U==="final",L)}const w="POST",S=e.maxUploadRetryTime,R=new fa(t,w,_,S);return R.headers=E,R.body=T.uploadData(),R.progressCallback=f||null,R.errorHandler=zl(n),R}const Cn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Sd(n){switch(n){case"running":case"pausing":case"canceling":return Cn.RUNNING;case"paused":return Cn.PAUSED;case"success":return Cn.SUCCESS;case"canceled":return Cn.CANCELED;case"error":return Cn.ERROR;default:return Cn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,t,r){if(rx(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class Mx{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$o.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$o.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$o.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o){if(this.sent_)throw cl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const a in o)o.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,o[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw cl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw cl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw cl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw cl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class jx extends Mx{initXhr(){this.xhr_.responseType="text"}}function zs(){return new jx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=hT(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(_t.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(sT(o.status,[]))if(a)o=tT();else{this.sleepTime=Math.max(this.sleepTime*2,UP),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(_t.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,a)=>{this._resolve=o,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const r=Ox(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,zs,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=Nx(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(o,zs,t,r);this._request=a,a.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=eE*this._chunkMultiplier,t=new zc(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,a)=>{let u;try{u=Dx(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(h){this._error=h,this._transition("error");return}const f=this._ref.storage._makeRequest(u,zs,o,a,!1);this._request=f,f.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){eE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=Rx(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,zs,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=xx(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,zs,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=nT(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Sd(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const a=new Lx(t||void 0,r||void 0,o||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Sd(this._state)){case Cn.SUCCESS:Bs(this._resolve.bind(null,this.snapshot))();break;case Cn.CANCELED:case Cn.ERROR:const t=this._reject;Bs(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Sd(this._state)){case Cn.RUNNING:case Cn.PAUSED:e.next&&Bs(e.next.bind(e,this.snapshot))();break;case Cn.SUCCESS:e.complete&&Bs(e.complete.bind(e))();break;case Cn.CANCELED:case Cn.ERROR:e.error&&Bs(e.error.bind(e,this._error))();break;default:e.error&&Bs(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,t){this._service=e,t instanceof jn?this._location=t:this._location=jn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Go(e,t)}get root(){const e=new jn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fT(this._location.path)}get storage(){return this._service}get parent(){const e=Ex(this._location.path);if(e===null)return null;const t=new jn(this._location.bucket,e);return new Go(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw JP(e)}}function Fx(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Vx(n,new Qi(e),t)}function Ux(n){n._throwIfRoot("getDownloadURL");const e=kx(n.storage,n._location,hT());return n.storage.makeRequestWithTokens(e,zs).then(t=>{if(t===null)throw XP();return t})}function qx(n,e){const t=wx(n._location.path,e),r=new jn(n._location.bucket,t);return new Go(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(n){return/^[A-Za-z]+:\/\//.test(n)}function zx(n,e){return new Go(n,e)}function yT(n,e){if(n instanceof mg){const t=n;if(t._bucket==null)throw GP();const r=new Go(t,t._bucket);return e!=null?yT(r,e):r}else return e!==void 0?qx(n,e):n}function $x(n,e){if(e&&Bx(e)){if(n instanceof mg)return zx(n,e);throw bm("To use ref(service, url), the first argument must be a Storage instance.")}else return yT(n,e)}function tE(n,e){const t=e==null?void 0:e[eT];return t==null?null:jn.makeFromBucketSpec(t,n)}function Hx(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:m0(o,n.app.options.projectId))}class mg{constructor(e,t,r,o,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=Z0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=VP,this._maxUploadRetryTime=FP,this._requests=new Set,o!=null?this._bucket=jn.makeFromBucketSpec(o,this._host):this._bucket=tE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=jn.makeFromBucketSpec(this._url,e):this._bucket=tE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Z_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Z_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Go(this,e)}_makeRequest(e,t,r,o,a=!0){if(this._deleted)return new ZP(iT());{const u=cx(e,this._appId,r,o,t,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const nE="@firebase/storage",rE="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="storage";function Wx(n,e,t){return n=Qt(n),Fx(n,e,t)}function Kx(n){return n=Qt(n),Ux(n)}function Gx(n,e){return n=Qt(n),$x(n,e)}function Qx(n=eg(),e){n=Qt(n);const r=lf(n,vT).getImmediate({identifier:e}),o=h0("storage");return o&&Xx(r,...o),r}function Xx(n,e,t,r={}){Hx(n,e,t,r)}function Yx(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new mg(t,r,o,e,Jo)}function Jx(){Wo(new no(vT,Yx,"PUBLIC").setMultipleInstances(!0)),Or(nE,rE,""),Or(nE,rE,"esm2017")}Jx();const Zx={apiKey:"AIzaSyAkiymbxr2eTiM0DGSUmIkI2bqT3jBt1zs",authDomain:"dragon-computers.firebaseapp.com",projectId:"dragon-computers",storageBucket:"dragon-computers.firebasestorage.app",messagingSenderId:"439889480116",appId:"1:439889480116:web:4e288f14e42526cf390ae1"},gg=v0(Zx);MP(gg);const eO=Qx(gg);var iE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zi,_T;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,I){function L(){}L.prototype=I.prototype,k.D=I.prototype,k.prototype=new L,k.prototype.constructor=k,k.C=function(O,C,D){for(var N=Array(arguments.length-2),H=2;H<arguments.length;H++)N[H-2]=arguments[H];return I.prototype[C].apply(O,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,I,L){L||(L=0);var O=Array(16);if(typeof I=="string")for(var C=0;16>C;++C)O[C]=I.charCodeAt(L++)|I.charCodeAt(L++)<<8|I.charCodeAt(L++)<<16|I.charCodeAt(L++)<<24;else for(C=0;16>C;++C)O[C]=I[L++]|I[L++]<<8|I[L++]<<16|I[L++]<<24;I=k.g[0],L=k.g[1],C=k.g[2];var D=k.g[3],N=I+(D^L&(C^D))+O[0]+3614090360&4294967295;I=L+(N<<7&4294967295|N>>>25),N=D+(C^I&(L^C))+O[1]+3905402710&4294967295,D=I+(N<<12&4294967295|N>>>20),N=C+(L^D&(I^L))+O[2]+606105819&4294967295,C=D+(N<<17&4294967295|N>>>15),N=L+(I^C&(D^I))+O[3]+3250441966&4294967295,L=C+(N<<22&4294967295|N>>>10),N=I+(D^L&(C^D))+O[4]+4118548399&4294967295,I=L+(N<<7&4294967295|N>>>25),N=D+(C^I&(L^C))+O[5]+1200080426&4294967295,D=I+(N<<12&4294967295|N>>>20),N=C+(L^D&(I^L))+O[6]+2821735955&4294967295,C=D+(N<<17&4294967295|N>>>15),N=L+(I^C&(D^I))+O[7]+4249261313&4294967295,L=C+(N<<22&4294967295|N>>>10),N=I+(D^L&(C^D))+O[8]+1770035416&4294967295,I=L+(N<<7&4294967295|N>>>25),N=D+(C^I&(L^C))+O[9]+2336552879&4294967295,D=I+(N<<12&4294967295|N>>>20),N=C+(L^D&(I^L))+O[10]+4294925233&4294967295,C=D+(N<<17&4294967295|N>>>15),N=L+(I^C&(D^I))+O[11]+2304563134&4294967295,L=C+(N<<22&4294967295|N>>>10),N=I+(D^L&(C^D))+O[12]+1804603682&4294967295,I=L+(N<<7&4294967295|N>>>25),N=D+(C^I&(L^C))+O[13]+4254626195&4294967295,D=I+(N<<12&4294967295|N>>>20),N=C+(L^D&(I^L))+O[14]+2792965006&4294967295,C=D+(N<<17&4294967295|N>>>15),N=L+(I^C&(D^I))+O[15]+1236535329&4294967295,L=C+(N<<22&4294967295|N>>>10),N=I+(C^D&(L^C))+O[1]+4129170786&4294967295,I=L+(N<<5&4294967295|N>>>27),N=D+(L^C&(I^L))+O[6]+3225465664&4294967295,D=I+(N<<9&4294967295|N>>>23),N=C+(I^L&(D^I))+O[11]+643717713&4294967295,C=D+(N<<14&4294967295|N>>>18),N=L+(D^I&(C^D))+O[0]+3921069994&4294967295,L=C+(N<<20&4294967295|N>>>12),N=I+(C^D&(L^C))+O[5]+3593408605&4294967295,I=L+(N<<5&4294967295|N>>>27),N=D+(L^C&(I^L))+O[10]+38016083&4294967295,D=I+(N<<9&4294967295|N>>>23),N=C+(I^L&(D^I))+O[15]+3634488961&4294967295,C=D+(N<<14&4294967295|N>>>18),N=L+(D^I&(C^D))+O[4]+3889429448&4294967295,L=C+(N<<20&4294967295|N>>>12),N=I+(C^D&(L^C))+O[9]+568446438&4294967295,I=L+(N<<5&4294967295|N>>>27),N=D+(L^C&(I^L))+O[14]+3275163606&4294967295,D=I+(N<<9&4294967295|N>>>23),N=C+(I^L&(D^I))+O[3]+4107603335&4294967295,C=D+(N<<14&4294967295|N>>>18),N=L+(D^I&(C^D))+O[8]+1163531501&4294967295,L=C+(N<<20&4294967295|N>>>12),N=I+(C^D&(L^C))+O[13]+2850285829&4294967295,I=L+(N<<5&4294967295|N>>>27),N=D+(L^C&(I^L))+O[2]+4243563512&4294967295,D=I+(N<<9&4294967295|N>>>23),N=C+(I^L&(D^I))+O[7]+1735328473&4294967295,C=D+(N<<14&4294967295|N>>>18),N=L+(D^I&(C^D))+O[12]+2368359562&4294967295,L=C+(N<<20&4294967295|N>>>12),N=I+(L^C^D)+O[5]+4294588738&4294967295,I=L+(N<<4&4294967295|N>>>28),N=D+(I^L^C)+O[8]+2272392833&4294967295,D=I+(N<<11&4294967295|N>>>21),N=C+(D^I^L)+O[11]+1839030562&4294967295,C=D+(N<<16&4294967295|N>>>16),N=L+(C^D^I)+O[14]+4259657740&4294967295,L=C+(N<<23&4294967295|N>>>9),N=I+(L^C^D)+O[1]+2763975236&4294967295,I=L+(N<<4&4294967295|N>>>28),N=D+(I^L^C)+O[4]+1272893353&4294967295,D=I+(N<<11&4294967295|N>>>21),N=C+(D^I^L)+O[7]+4139469664&4294967295,C=D+(N<<16&4294967295|N>>>16),N=L+(C^D^I)+O[10]+3200236656&4294967295,L=C+(N<<23&4294967295|N>>>9),N=I+(L^C^D)+O[13]+681279174&4294967295,I=L+(N<<4&4294967295|N>>>28),N=D+(I^L^C)+O[0]+3936430074&4294967295,D=I+(N<<11&4294967295|N>>>21),N=C+(D^I^L)+O[3]+3572445317&4294967295,C=D+(N<<16&4294967295|N>>>16),N=L+(C^D^I)+O[6]+76029189&4294967295,L=C+(N<<23&4294967295|N>>>9),N=I+(L^C^D)+O[9]+3654602809&4294967295,I=L+(N<<4&4294967295|N>>>28),N=D+(I^L^C)+O[12]+3873151461&4294967295,D=I+(N<<11&4294967295|N>>>21),N=C+(D^I^L)+O[15]+530742520&4294967295,C=D+(N<<16&4294967295|N>>>16),N=L+(C^D^I)+O[2]+3299628645&4294967295,L=C+(N<<23&4294967295|N>>>9),N=I+(C^(L|~D))+O[0]+4096336452&4294967295,I=L+(N<<6&4294967295|N>>>26),N=D+(L^(I|~C))+O[7]+1126891415&4294967295,D=I+(N<<10&4294967295|N>>>22),N=C+(I^(D|~L))+O[14]+2878612391&4294967295,C=D+(N<<15&4294967295|N>>>17),N=L+(D^(C|~I))+O[5]+4237533241&4294967295,L=C+(N<<21&4294967295|N>>>11),N=I+(C^(L|~D))+O[12]+1700485571&4294967295,I=L+(N<<6&4294967295|N>>>26),N=D+(L^(I|~C))+O[3]+2399980690&4294967295,D=I+(N<<10&4294967295|N>>>22),N=C+(I^(D|~L))+O[10]+4293915773&4294967295,C=D+(N<<15&4294967295|N>>>17),N=L+(D^(C|~I))+O[1]+2240044497&4294967295,L=C+(N<<21&4294967295|N>>>11),N=I+(C^(L|~D))+O[8]+1873313359&4294967295,I=L+(N<<6&4294967295|N>>>26),N=D+(L^(I|~C))+O[15]+4264355552&4294967295,D=I+(N<<10&4294967295|N>>>22),N=C+(I^(D|~L))+O[6]+2734768916&4294967295,C=D+(N<<15&4294967295|N>>>17),N=L+(D^(C|~I))+O[13]+1309151649&4294967295,L=C+(N<<21&4294967295|N>>>11),N=I+(C^(L|~D))+O[4]+4149444226&4294967295,I=L+(N<<6&4294967295|N>>>26),N=D+(L^(I|~C))+O[11]+3174756917&4294967295,D=I+(N<<10&4294967295|N>>>22),N=C+(I^(D|~L))+O[2]+718787259&4294967295,C=D+(N<<15&4294967295|N>>>17),N=L+(D^(C|~I))+O[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(C+(N<<21&4294967295|N>>>11))&4294967295,k.g[2]=k.g[2]+C&4294967295,k.g[3]=k.g[3]+D&4294967295}r.prototype.u=function(k,I){I===void 0&&(I=k.length);for(var L=I-this.blockSize,O=this.B,C=this.h,D=0;D<I;){if(C==0)for(;D<=L;)o(this,k,D),D+=this.blockSize;if(typeof k=="string"){for(;D<I;)if(O[C++]=k.charCodeAt(D++),C==this.blockSize){o(this,O),C=0;break}}else for(;D<I;)if(O[C++]=k[D++],C==this.blockSize){o(this,O),C=0;break}}this.h=C,this.o+=I},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;var L=8*this.o;for(I=k.length-8;I<k.length;++I)k[I]=L&255,L/=256;for(this.u(k),k=Array(16),I=L=0;4>I;++I)for(var O=0;32>O;O+=8)k[L++]=this.g[I]>>>O&255;return k};function a(k,I){var L=f;return Object.prototype.hasOwnProperty.call(L,k)?L[k]:L[k]=I(k)}function u(k,I){this.h=I;for(var L=[],O=!0,C=k.length-1;0<=C;C--){var D=k[C]|0;O&&D==I||(L[C]=D,O=!1)}this.g=L}var f={};function h(k){return-128<=k&&128>k?a(k,function(I){return new u([I|0],0>I?-1:0)}):new u([k|0],0>k?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return y;if(0>k)return _(m(-k));for(var I=[],L=1,O=0;k>=L;O++)I[O]=k/L|0,L*=4294967296;return new u(I,0)}function v(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return _(v(k.substring(1),I));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=m(Math.pow(I,8)),O=y,C=0;C<k.length;C+=8){var D=Math.min(8,k.length-C),N=parseInt(k.substring(C,C+D),I);8>D?(D=m(Math.pow(I,D)),O=O.j(D).add(m(N))):(O=O.j(L),O=O.add(m(N)))}return O}var y=h(0),d=h(1),g=h(16777216);n=u.prototype,n.m=function(){if(T(this))return-_(this).m();for(var k=0,I=1,L=0;L<this.g.length;L++){var O=this.i(L);k+=(0<=O?O:4294967296+O)*I,I*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(E(this))return"0";if(T(this))return"-"+_(this).toString(k);for(var I=m(Math.pow(k,6)),L=this,O="";;){var C=b(L,I).g;L=w(L,C.j(I));var D=((0<L.g.length?L.g[0]:L.h)>>>0).toString(k);if(L=C,E(L))return D+O;for(;6>D.length;)D="0"+D;O=D+O}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function E(k){if(k.h!=0)return!1;for(var I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function T(k){return k.h==-1}n.l=function(k){return k=w(this,k),T(k)?-1:E(k)?0:1};function _(k){for(var I=k.g.length,L=[],O=0;O<I;O++)L[O]=~k.g[O];return new u(L,~k.h).add(d)}n.abs=function(){return T(this)?_(this):this},n.add=function(k){for(var I=Math.max(this.g.length,k.g.length),L=[],O=0,C=0;C<=I;C++){var D=O+(this.i(C)&65535)+(k.i(C)&65535),N=(D>>>16)+(this.i(C)>>>16)+(k.i(C)>>>16);O=N>>>16,D&=65535,N&=65535,L[C]=N<<16|D}return new u(L,L[L.length-1]&-2147483648?-1:0)};function w(k,I){return k.add(_(I))}n.j=function(k){if(E(this)||E(k))return y;if(T(this))return T(k)?_(this).j(_(k)):_(_(this).j(k));if(T(k))return _(this.j(_(k)));if(0>this.l(g)&&0>k.l(g))return m(this.m()*k.m());for(var I=this.g.length+k.g.length,L=[],O=0;O<2*I;O++)L[O]=0;for(O=0;O<this.g.length;O++)for(var C=0;C<k.g.length;C++){var D=this.i(O)>>>16,N=this.i(O)&65535,H=k.i(C)>>>16,G=k.i(C)&65535;L[2*O+2*C]+=N*G,S(L,2*O+2*C),L[2*O+2*C+1]+=D*G,S(L,2*O+2*C+1),L[2*O+2*C+1]+=N*H,S(L,2*O+2*C+1),L[2*O+2*C+2]+=D*H,S(L,2*O+2*C+2)}for(O=0;O<I;O++)L[O]=L[2*O+1]<<16|L[2*O];for(O=I;O<2*I;O++)L[O]=0;return new u(L,0)};function S(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function R(k,I){this.g=k,this.h=I}function b(k,I){if(E(I))throw Error("division by zero");if(E(k))return new R(y,y);if(T(k))return I=b(_(k),I),new R(_(I.g),_(I.h));if(T(I))return I=b(k,_(I)),new R(_(I.g),I.h);if(30<k.g.length){if(T(k)||T(I))throw Error("slowDivide_ only works with positive integers.");for(var L=d,O=I;0>=O.l(k);)L=M(L),O=M(O);var C=U(L,1),D=U(O,1);for(O=U(O,2),L=U(L,2);!E(O);){var N=D.add(O);0>=N.l(k)&&(C=C.add(L),D=N),O=U(O,1),L=U(L,1)}return I=w(k,C.j(I)),new R(C,I)}for(C=y;0<=k.l(I);){for(L=Math.max(1,Math.floor(k.m()/I.m())),O=Math.ceil(Math.log(L)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),D=m(L),N=D.j(I);T(N)||0<N.l(k);)L-=O,D=m(L),N=D.j(I);E(D)&&(D=d),C=C.add(D),k=w(k,N)}return new R(C,k)}n.A=function(k){return b(this,k).h},n.and=function(k){for(var I=Math.max(this.g.length,k.g.length),L=[],O=0;O<I;O++)L[O]=this.i(O)&k.i(O);return new u(L,this.h&k.h)},n.or=function(k){for(var I=Math.max(this.g.length,k.g.length),L=[],O=0;O<I;O++)L[O]=this.i(O)|k.i(O);return new u(L,this.h|k.h)},n.xor=function(k){for(var I=Math.max(this.g.length,k.g.length),L=[],O=0;O<I;O++)L[O]=this.i(O)^k.i(O);return new u(L,this.h^k.h)};function M(k){for(var I=k.g.length+1,L=[],O=0;O<I;O++)L[O]=k.i(O)<<1|k.i(O-1)>>>31;return new u(L,k.h)}function U(k,I){var L=I>>5;I%=32;for(var O=k.g.length-L,C=[],D=0;D<O;D++)C[D]=0<I?k.i(D+L)>>>I|k.i(D+L+1)<<32-I:k.i(D+L);return new u(C,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_T=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Zi=u}).apply(typeof iE<"u"?iE:typeof self<"u"?self:typeof window<"u"?window:{});var gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ET,hl,wT,Rc,Sm,TT,bT,ST;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,P,F){return c==Array.prototype||c==Object.prototype||(c[P]=F.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof gc=="object"&&gc];for(var P=0;P<c.length;++P){var F=c[P];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var r=t(this);function o(c,P){if(P)e:{var F=r;c=c.split(".");for(var z=0;z<c.length-1;z++){var ae=c[z];if(!(ae in F))break e;F=F[ae]}c=c[c.length-1],z=F[c],P=P(z),P!=z&&P!=null&&e(F,c,{configurable:!0,writable:!0,value:P})}}function a(c,P){c instanceof String&&(c+="");var F=0,z=!1,ae={next:function(){if(!z&&F<c.length){var fe=F++;return{value:P(fe,c[fe]),done:!1}}return z=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}o("Array.prototype.values",function(c){return c||function(){return a(this,function(P,F){return F})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function h(c){var P=typeof c;return P=P!="object"?P:c?Array.isArray(c)?"array":P:"null",P=="array"||P=="object"&&typeof c.length=="number"}function m(c){var P=typeof c;return P=="object"&&c!=null||P=="function"}function v(c,P,F){return c.call.apply(c.bind,arguments)}function y(c,P,F){if(!c)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,z),c.apply(P,ae)}}return function(){return c.apply(P,arguments)}}function d(c,P,F){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:y,d.apply(null,arguments)}function g(c,P){var F=Array.prototype.slice.call(arguments,1);return function(){var z=F.slice();return z.push.apply(z,arguments),c.apply(this,z)}}function E(c,P){function F(){}F.prototype=P.prototype,c.aa=P.prototype,c.prototype=new F,c.prototype.constructor=c,c.Qb=function(z,ae,fe){for(var Se=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)Se[ht-2]=arguments[ht];return P.prototype[ae].apply(z,Se)}}function T(c){const P=c.length;if(0<P){const F=Array(P);for(let z=0;z<P;z++)F[z]=c[z];return F}return[]}function _(c,P){for(let F=1;F<arguments.length;F++){const z=arguments[F];if(h(z)){const ae=c.length||0,fe=z.length||0;c.length=ae+fe;for(let Se=0;Se<fe;Se++)c[ae+Se]=z[Se]}else c.push(z)}}class w{constructor(P,F){this.i=P,this.j=F,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function S(c){return/^[\s\xa0]*$/.test(c)}function R(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function b(c){return b[" "](c),c}b[" "]=function(){};var M=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function U(c,P,F){for(const z in c)P.call(F,c[z],z,c)}function k(c,P){for(const F in c)P.call(void 0,c[F],F,c)}function I(c){const P={};for(const F in c)P[F]=c[F];return P}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,P){let F,z;for(let ae=1;ae<arguments.length;ae++){z=arguments[ae];for(F in z)c[F]=z[F];for(let fe=0;fe<L.length;fe++)F=L[fe],Object.prototype.hasOwnProperty.call(z,F)&&(c[F]=z[F])}}function C(c){var P=1;c=c.split(":");const F=[];for(;0<P&&c.length;)F.push(c.shift()),P--;return c.length&&F.push(c.join(":")),F}function D(c){f.setTimeout(()=>{throw c},0)}function N(){var c=Y;let P=null;return c.g&&(P=c.g,c.g=c.g.next,c.g||(c.h=null),P.next=null),P}class H{constructor(){this.h=this.g=null}add(P,F){const z=G.get();z.set(P,F),this.h?this.h.next=z:this.g=z,this.h=z}}var G=new w(()=>new Z,c=>c.reset());class Z{constructor(){this.next=this.g=this.h=null}set(P,F){this.h=P,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,re=!1,Y=new H,W=()=>{const c=f.Promise.resolve(void 0);Q=()=>{c.then(j)}};var j=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(F){D(F)}var P=G;P.j(c),100>P.h&&(P.h++,c.next=P.g,P.g=c)}re=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(c,P){this.type=c,this.g=this.target=P,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var ne=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,P=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const F=()=>{};f.addEventListener("test",F,P),f.removeEventListener("test",F,P)}catch{}return c}();function te(c,P){if(K.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var F=this.type=c.type,z=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=P,P=c.relatedTarget){if(M){e:{try{b(P.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(P=null)}}else F=="mouseover"?P=c.fromElement:F=="mouseout"&&(P=c.toElement);this.relatedTarget=P,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:$[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&te.aa.h.call(this)}}E(te,K);var $={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),oe=0;function se(c,P,F,z,ae){this.listener=c,this.proxy=null,this.src=P,this.type=F,this.capture=!!z,this.ha=ae,this.key=++oe,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ie(c){this.src=c,this.g={},this.h=0}Ie.prototype.add=function(c,P,F,z,ae){var fe=c.toString();c=this.g[fe],c||(c=this.g[fe]=[],this.h++);var Se=Ue(c,P,z,ae);return-1<Se?(P=c[Se],F||(P.fa=!1)):(P=new se(P,this.src,fe,!!z,ae),P.fa=F,c.push(P)),P};function Me(c,P){var F=P.type;if(F in c.g){var z=c.g[F],ae=Array.prototype.indexOf.call(z,P,void 0),fe;(fe=0<=ae)&&Array.prototype.splice.call(z,ae,1),fe&&(pe(P),c.g[F].length==0&&(delete c.g[F],c.h--))}}function Ue(c,P,F,z){for(var ae=0;ae<c.length;++ae){var fe=c[ae];if(!fe.da&&fe.listener==P&&fe.capture==!!F&&fe.ha==z)return ae}return-1}var Ge="closure_lm_"+(1e6*Math.random()|0),Je={};function Ot(c,P,F,z,ae){if(Array.isArray(P)){for(var fe=0;fe<P.length;fe++)Ot(c,P[fe],F,z,ae);return null}return F=Qe(F),c&&c[J]?c.K(P,F,m(z)?!!z.capture:!1,ae):gt(c,P,F,!1,z,ae)}function gt(c,P,F,z,ae,fe){if(!P)throw Error("Invalid event type");var Se=m(ae)?!!ae.capture:!!ae,ht=$e(c);if(ht||(c[Ge]=ht=new Ie(c)),F=ht.add(P,F,z,Se,fe),F.proxy)return F;if(z=de(),F.proxy=z,z.src=c,z.listener=F,c.addEventListener)ne||(ae=Se),ae===void 0&&(ae=!1),c.addEventListener(P.toString(),z,ae);else if(c.attachEvent)c.attachEvent(Ae(P.toString()),z);else if(c.addListener&&c.removeListener)c.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return F}function de(){function c(F){return P.call(c.src,c.listener,F)}const P=ye;return c}function me(c,P,F,z,ae){if(Array.isArray(P))for(var fe=0;fe<P.length;fe++)me(c,P[fe],F,z,ae);else z=m(z)?!!z.capture:!!z,F=Qe(F),c&&c[J]?(c=c.i,P=String(P).toString(),P in c.g&&(fe=c.g[P],F=Ue(fe,F,z,ae),-1<F&&(pe(fe[F]),Array.prototype.splice.call(fe,F,1),fe.length==0&&(delete c.g[P],c.h--)))):c&&(c=$e(c))&&(P=c.g[P.toString()],c=-1,P&&(c=Ue(P,F,z,ae)),(F=-1<c?P[c]:null)&&be(F))}function be(c){if(typeof c!="number"&&c&&!c.da){var P=c.src;if(P&&P[J])Me(P.i,c);else{var F=c.type,z=c.proxy;P.removeEventListener?P.removeEventListener(F,z,c.capture):P.detachEvent?P.detachEvent(Ae(F),z):P.addListener&&P.removeListener&&P.removeListener(z),(F=$e(P))?(Me(F,c),F.h==0&&(F.src=null,P[Ge]=null)):pe(c)}}}function Ae(c){return c in Je?Je[c]:Je[c]="on"+c}function ye(c,P){if(c.da)c=!0;else{P=new te(P,this);var F=c.listener,z=c.ha||c.src;c.fa&&be(c),c=F.call(z,P)}return c}function $e(c){return c=c[Ge],c instanceof Ie?c:null}var He="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qe(c){return typeof c=="function"?c:(c[He]||(c[He]=function(P){return c.handleEvent(P)}),c[He])}function at(){B.call(this),this.i=new Ie(this),this.M=this,this.F=null}E(at,B),at.prototype[J]=!0,at.prototype.removeEventListener=function(c,P,F,z){me(this,c,P,F,z)};function ct(c,P){var F,z=c.F;if(z)for(F=[];z;z=z.F)F.push(z);if(c=c.M,z=P.type||P,typeof P=="string")P=new K(P,c);else if(P instanceof K)P.target=P.target||c;else{var ae=P;P=new K(z,c),O(P,ae)}if(ae=!0,F)for(var fe=F.length-1;0<=fe;fe--){var Se=P.g=F[fe];ae=ot(Se,z,!0,P)&&ae}if(Se=P.g=c,ae=ot(Se,z,!0,P)&&ae,ae=ot(Se,z,!1,P)&&ae,F)for(fe=0;fe<F.length;fe++)Se=P.g=F[fe],ae=ot(Se,z,!1,P)&&ae}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var c=this.i,P;for(P in c.g){for(var F=c.g[P],z=0;z<F.length;z++)pe(F[z]);delete c.g[P],c.h--}}this.F=null},at.prototype.K=function(c,P,F,z){return this.i.add(String(c),P,!1,F,z)},at.prototype.L=function(c,P,F,z){return this.i.add(String(c),P,!0,F,z)};function ot(c,P,F,z){if(P=c.i.g[String(P)],!P)return!0;P=P.concat();for(var ae=!0,fe=0;fe<P.length;++fe){var Se=P[fe];if(Se&&!Se.da&&Se.capture==F){var ht=Se.listener,jt=Se.ha||Se.src;Se.fa&&Me(c.i,Se),ae=ht.call(jt,z)!==!1&&ae}}return ae&&!z.defaultPrevented}function ho(c,P,F){if(typeof c=="function")F&&(c=d(c,F));else if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(P)?-1:f.setTimeout(c,P||0)}function ft(c){c.g=ho(()=>{c.g=null,c.i&&(c.i=!1,ft(c))},c.l);const P=c.h;c.h=null,c.m.apply(null,P)}class on extends B{constructor(P,F){super(),this.m=P,this.l=F,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:ft(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function po(c){B.call(this),this.h=c,this.g={}}E(po,B);var va=[];function _a(c){U(c.g,function(P,F){this.g.hasOwnProperty(F)&&be(P)},c),c.g={}}po.prototype.N=function(){po.aa.N.call(this),_a(this)},po.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ea=f.JSON.stringify,wa=f.JSON.parse,Ta=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function mo(){}mo.prototype.h=null;function ts(c){return c.h||(c.h=c.i())}function ns(){}var Un={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gr(){K.call(this,"d")}E(gr,K);function rs(){K.call(this,"c")}E(rs,K);var yr={},ba=null;function go(){return ba=ba||new at}yr.La="serverreachability";function Sa(c){K.call(this,yr.La,c)}E(Sa,K);function $r(c){const P=go();ct(P,new Sa(P))}yr.STAT_EVENT="statevent";function Aa(c,P){K.call(this,yr.STAT_EVENT,c),this.stat=P}E(Aa,K);function kt(c){const P=go();ct(P,new Aa(P,c))}yr.Ma="timingevent";function is(c,P){K.call(this,yr.Ma,c),this.size=P}E(is,K);function Yn(c,P){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},P)}function yo(){this.g=!0}yo.prototype.xa=function(){this.g=!1};function vo(c,P,F,z,ae,fe){c.info(function(){if(c.g)if(fe)for(var Se="",ht=fe.split("&"),jt=0;jt<ht.length;jt++){var rt=ht[jt].split("=");if(1<rt.length){var zt=rt[0];rt=rt[1];var Nt=zt.split("_");Se=2<=Nt.length&&Nt[1]=="type"?Se+(zt+"="+rt+"&"):Se+(zt+"=redacted&")}}else Se=null;else Se=fe;return"XMLHTTP REQ ("+z+") [attempt "+ae+"]: "+P+`
`+F+`
`+Se})}function os(c,P,F,z,ae,fe,Se){c.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+ae+"]: "+P+`
`+F+`
`+fe+" "+Se})}function Jn(c,P,F,z){c.info(function(){return"XMLHTTP TEXT ("+P+"): "+Mf(c,F)+(z?" "+z:"")})}function Ia(c,P){c.info(function(){return"TIMEOUT: "+P})}yo.prototype.info=function(){};function Mf(c,P){if(!c.g)return P;if(!P)return null;try{var F=JSON.parse(P);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var z=F[c];if(!(2>z.length)){var ae=z[1];if(Array.isArray(ae)&&!(1>ae.length)){var fe=ae[0];if(fe!="noop"&&fe!="stop"&&fe!="close")for(var Se=1;Se<ae.length;Se++)ae[Se]=""}}}}return Ea(F)}catch{return P}}var ss={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function _o(){}E(_o,mo),_o.prototype.g=function(){return new XMLHttpRequest},_o.prototype.i=function(){return{}},Zn=new _o;function er(c,P,F,z){this.j=c,this.i=P,this.l=F,this.R=z||1,this.U=new po(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yl}function Yl(){this.i=null,this.g="",this.h=!1}var Ca={},as={};function ls(c,P,F){c.L=1,c.v=bi(xn(P)),c.m=F,c.P=!0,Ra(c,null)}function Ra(c,P){c.F=Date.now(),pt(c),c.A=xn(c.v);var F=c.A,z=c.R;Array.isArray(z)||(z=[String(z)]),Ai(F.i,"t",z),c.C=0,F=c.j.J,c.h=new Yl,c.g=mu(c.j,F?P:null,!c.m),0<c.O&&(c.M=new on(d(c.Y,c,c.g),c.O)),P=c.U,F=c.g,z=c.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(va[0]=ae.toString()),ae=va);for(var fe=0;fe<ae.length;fe++){var Se=Ot(F,ae[fe],z||P.handleEvent,!1,P.h||P);if(!Se)break;P.g[Se.key]=Se}P=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,P)):(c.u="GET",c.g.ea(c.A,c.u,null,P)),$r(),vo(c.i,c.u,c.A,c.l,c.R,c.m)}er.prototype.ca=function(c){c=c.target;const P=this.M;P&&En(c)==3?P.j():this.Y(c)},er.prototype.Y=function(c){try{if(c==this.g)e:{const Nt=En(this.g);var P=this.g.Ba();const zn=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Da(this.g)))){this.J||Nt!=4||P==7||(P==8||0>=zn?$r(3):$r(2)),Eo(this);var F=this.g.Z();this.X=F;t:if(Jl(this)){var z=Da(this.g);c="";var ae=z.length,fe=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qn(this),_i(this);var Se="";break t}this.h.i=new f.TextDecoder}for(P=0;P<ae;P++)this.h.h=!0,c+=this.h.i.decode(z[P],{stream:!(fe&&P==ae-1)});z.length=0,this.h.g+=c,this.C=0,Se=this.h.g}else Se=this.g.oa();if(this.o=F==200,os(this.i,this.u,this.A,this.l,this.R,Nt,F),this.o){if(this.T&&!this.K){t:{if(this.g){var ht,jt=this.g;if((ht=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(ht)){var rt=ht;break t}}rt=null}if(F=rt)Jn(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ka(this,F);else{this.o=!1,this.s=3,kt(12),qn(this),_i(this);break e}}if(this.P){F=!0;let Nn;for(;!this.J&&this.C<Se.length;)if(Nn=jf(this,Se),Nn==as){Nt==4&&(this.s=4,kt(14),F=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==Ca){this.s=4,kt(15),Jn(this.i,this.l,Se,"[Invalid Chunk]"),F=!1;break}else Jn(this.i,this.l,Nn,null),ka(this,Nn);if(Jl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||Se.length!=0||this.h.h||(this.s=1,kt(16),F=!1),this.o=this.o&&F,!F)Jn(this.i,this.l,Se,"[Invalid Chunked Response]"),qn(this),_i(this);else if(0<Se.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+Se.length),Ma(zt),zt.M=!0,kt(11))}}else Jn(this.i,this.l,Se,null),ka(this,Se);Nt==4&&qn(this),this.o&&!this.J&&(Nt==4?_s(this.j,this):(this.o=!1,pt(this)))}else ps(this.g),F==400&&0<Se.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),qn(this),_i(this)}}}catch{}finally{}};function Jl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function jf(c,P){var F=c.C,z=P.indexOf(`
`,F);return z==-1?as:(F=Number(P.substring(F,z)),isNaN(F)?Ca:(z+=1,z+F>P.length?as:(P=P.slice(z,z+F),c.C=z+F,P)))}er.prototype.cancel=function(){this.J=!0,qn(this)};function pt(c){c.S=Date.now()+c.I,Zl(c,c.I)}function Zl(c,P){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Yn(d(c.ba,c),P)}function Eo(c){c.B&&(f.clearTimeout(c.B),c.B=null)}er.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ia(this.i,this.A),this.L!=2&&($r(),kt(17)),qn(this),this.s=2,_i(this)):Zl(this,this.S-c)};function _i(c){c.j.G==0||c.J||_s(c.j,c)}function qn(c){Eo(c);var P=c.M;P&&typeof P.ma=="function"&&P.ma(),c.M=null,_a(c.U),c.g&&(P=c.g,c.g=null,P.abort(),P.ma())}function ka(c,P){try{var F=c.j;if(F.G!=0&&(F.g==c||pn(F.h,c))){if(!c.K&&pn(F.h,c)&&F.G==3){try{var z=F.Da.g.parse(P)}catch{z=null}if(Array.isArray(z)&&z.length==3){var ae=z;if(ae[0]==0){e:if(!F.u){if(F.g)if(F.g.F+3e3<c.F)vs(F),or(F);else break e;ys(F),kt(18)}}else F.za=ae[1],0<F.za-F.T&&37500>ae[2]&&F.F&&F.v==0&&!F.C&&(F.C=Yn(d(F.Za,F),6e3));if(1>=tu(F.h)&&F.ca){try{F.ca()}catch{}F.ca=void 0}}else Qr(F,11)}else if((c.K||F.g==c)&&vs(F),!S(P))for(ae=F.Da.g.parse(P),P=0;P<ae.length;P++){let rt=ae[P];if(F.T=rt[0],rt=rt[1],F.G==2)if(rt[0]=="c"){F.K=rt[1],F.ia=rt[2];const zt=rt[3];zt!=null&&(F.la=zt,F.j.info("VER="+F.la));const Nt=rt[4];Nt!=null&&(F.Aa=Nt,F.j.info("SVER="+F.Aa));const zn=rt[5];zn!=null&&typeof zn=="number"&&0<zn&&(z=1.5*zn,F.L=z,F.j.info("backChannelRequestTimeoutMs_="+z)),z=F;const Nn=c.g;if(Nn){const Co=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Co){var fe=z.h;fe.g||Co.indexOf("spdy")==-1&&Co.indexOf("quic")==-1&&Co.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(Pa(fe,fe.h),fe.h=null))}if(z.D){const ws=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;ws&&(z.ya=ws,dt(z.I,z.D,ws))}}F.G=3,F.l&&F.l.ua(),F.ba&&(F.R=Date.now()-c.F,F.j.info("Handshake RTT: "+F.R+"ms")),z=F;var Se=c;if(z.qa=pu(z,z.J?z.ia:null,z.W),Se.K){nu(z.h,Se);var ht=Se,jt=z.L;jt&&(ht.I=jt),ht.B&&(Eo(ht),pt(ht)),z.g=Se}else Io(z);0<F.i.length&&wr(F)}else rt[0]!="stop"&&rt[0]!="close"||Qr(F,7);else F.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Qr(F,7):Yt(F):rt[0]!="noop"&&F.l&&F.l.ta(rt),F.v=0)}}$r(4)}catch{}}var eu=class{constructor(c,P){this.g=c,this.map=P}};function wo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function tu(c){return c.h?1:c.g?c.g.size:0}function pn(c,P){return c.h?c.h==P:c.g?c.g.has(P):!1}function Pa(c,P){c.g?c.g.add(P):c.h=P}function nu(c,P){c.h&&c.h==P?c.h=null:c.g&&c.g.has(P)&&c.g.delete(P)}wo.prototype.cancel=function(){if(this.i=ru(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ru(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let P=c.i;for(const F of c.g.values())P=P.concat(F.D);return P}return T(c.i)}function us(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(h(c)){for(var P=[],F=c.length,z=0;z<F;z++)P.push(c[z]);return P}P=[],F=0;for(z in c)P[F++]=c[z];return P}function cs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(h(c)||typeof c=="string"){var P=[];c=c.length;for(var F=0;F<c;F++)P.push(F);return P}P=[],F=0;for(const z in c)P[F++]=z;return P}}}function Ei(c,P){if(c.forEach&&typeof c.forEach=="function")c.forEach(P,void 0);else if(h(c)||typeof c=="string")Array.prototype.forEach.call(c,P,void 0);else for(var F=cs(c),z=us(c),ae=z.length,fe=0;fe<ae;fe++)P.call(void 0,z[fe],F&&F[fe],c)}var To=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vf(c,P){if(c){c=c.split("&");for(var F=0;F<c.length;F++){var z=c[F].indexOf("="),ae=null;if(0<=z){var fe=c[F].substring(0,z);ae=c[F].substring(z+1)}else fe=c[F];P(fe,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Hr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Hr){this.h=c.h,bo(this,c.j),this.o=c.o,this.g=c.g,wi(this,c.s),this.l=c.l;var P=c.i,F=new vr;F.i=P.i,P.g&&(F.g=new Map(P.g),F.h=P.h),Ti(this,F),this.m=c.m}else c&&(P=String(c).match(To))?(this.h=!1,bo(this,P[1]||"",!0),this.o=nt(P[2]||""),this.g=nt(P[3]||"",!0),wi(this,P[4]),this.l=nt(P[5]||"",!0),Ti(this,P[6]||"",!0),this.m=nt(P[7]||"")):(this.h=!1,this.i=new vr(null,this.h))}Hr.prototype.toString=function(){var c=[],P=this.j;P&&c.push(Si(P,fs,!0),":");var F=this.g;return(F||P=="file")&&(c.push("//"),(P=this.o)&&c.push(Si(P,fs,!0),"@"),c.push(encodeURIComponent(String(F)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.s,F!=null&&c.push(":",String(F))),(F=this.l)&&(this.g&&F.charAt(0)!="/"&&c.push("/"),c.push(Si(F,F.charAt(0)=="/"?su:ou,!0))),(F=this.i.toString())&&c.push("?",F),(F=this.m)&&c.push("#",Si(F,xa)),c.join("")};function xn(c){return new Hr(c)}function bo(c,P,F){c.j=F?nt(P,!0):P,c.j&&(c.j=c.j.replace(/:$/,""))}function wi(c,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);c.s=P}else c.s=null}function Ti(c,P,F){P instanceof vr?(c.i=P,_r(c.i,c.h)):(F||(P=Si(P,au)),c.i=new vr(P,c.h))}function dt(c,P,F){c.i.set(P,F)}function bi(c){return dt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function nt(c,P){return c?P?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Si(c,P,F){return typeof c=="string"?(c=encodeURI(c).replace(P,iu),F&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function iu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fs=/[#\/\?@]/g,ou=/[#\?:]/g,su=/[#\?]/g,au=/[#\?@]/g,xa=/#/g;function vr(c,P){this.h=this.g=null,this.i=c||null,this.j=!!P}function Xt(c){c.g||(c.g=new Map,c.h=0,c.i&&Vf(c.i,function(P,F){c.add(decodeURIComponent(P.replace(/\+/g," ")),F)}))}n=vr.prototype,n.add=function(c,P){Xt(this),this.i=null,c=Bn(this,c);var F=this.g.get(c);return F||this.g.set(c,F=[]),F.push(P),this.h+=1,this};function tr(c,P){Xt(c),P=Bn(c,P),c.g.has(P)&&(c.i=null,c.h-=c.g.get(P).length,c.g.delete(P))}function nr(c,P){return Xt(c),P=Bn(c,P),c.g.has(P)}n.forEach=function(c,P){Xt(this),this.g.forEach(function(F,z){F.forEach(function(ae){c.call(P,ae,z,this)},this)},this)},n.na=function(){Xt(this);const c=Array.from(this.g.values()),P=Array.from(this.g.keys()),F=[];for(let z=0;z<P.length;z++){const ae=c[z];for(let fe=0;fe<ae.length;fe++)F.push(P[z])}return F},n.V=function(c){Xt(this);let P=[];if(typeof c=="string")nr(this,c)&&(P=P.concat(this.g.get(Bn(this,c))));else{c=Array.from(this.g.values());for(let F=0;F<c.length;F++)P=P.concat(c[F])}return P},n.set=function(c,P){return Xt(this),this.i=null,c=Bn(this,c),nr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[P]),this.h+=1,this},n.get=function(c,P){return c?(c=this.V(c),0<c.length?String(c[0]):P):P};function Ai(c,P,F){tr(c,P),0<F.length&&(c.i=null,c.g.set(Bn(c,P),T(F)),c.h+=F.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],P=Array.from(this.g.keys());for(var F=0;F<P.length;F++){var z=P[F];const fe=encodeURIComponent(String(z)),Se=this.V(z);for(z=0;z<Se.length;z++){var ae=fe;Se[z]!==""&&(ae+="="+encodeURIComponent(String(Se[z]))),c.push(ae)}}return this.i=c.join("&")};function Bn(c,P){return P=String(P),c.j&&(P=P.toLowerCase()),P}function _r(c,P){P&&!c.j&&(Xt(c),c.i=null,c.g.forEach(function(F,z){var ae=z.toLowerCase();z!=ae&&(tr(this,z),Ai(this,ae,F))},c)),c.j=P}function Ff(c,P){const F=new yo;if(f.Image){const z=new Image;z.onload=g(_n,F,"TestLoadImage: loaded",!0,P,z),z.onerror=g(_n,F,"TestLoadImage: error",!1,P,z),z.onabort=g(_n,F,"TestLoadImage: abort",!1,P,z),z.ontimeout=g(_n,F,"TestLoadImage: timeout",!1,P,z),f.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=c}else P(!1)}function lu(c,P){const F=new yo,z=new AbortController,ae=setTimeout(()=>{z.abort(),_n(F,"TestPingServer: timeout",!1,P)},1e4);fetch(c,{signal:z.signal}).then(fe=>{clearTimeout(ae),fe.ok?_n(F,"TestPingServer: ok",!0,P):_n(F,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(ae),_n(F,"TestPingServer: error",!1,P)})}function _n(c,P,F,z,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),z(F)}catch{}}function Uf(){this.g=new Ta}function uu(c,P,F){const z=F||"";try{Ei(c,function(ae,fe){let Se=ae;m(ae)&&(Se=Ea(ae)),P.push(z+fe+"="+encodeURIComponent(Se))})}catch(ae){throw P.push(z+"type="+encodeURIComponent("_badmap")),ae}}function Wr(c){this.l=c.Ub||null,this.j=c.eb||!1}E(Wr,mo),Wr.prototype.g=function(){return new So(this.l,this.j)},Wr.prototype.i=function(c){return function(){return c}}({});function So(c,P){at.call(this),this.D=c,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(So,at),n=So.prototype,n.open=function(c,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=P,this.readyState=1,ir(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(P.body=c),(this.D||f).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ir(this)),this.g&&(this.readyState=3,ir(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function cu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var P=c.value?c.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!c.done}))&&(this.response=this.responseText+=P)}c.done?rr(this):ir(this),this.readyState==3&&cu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,rr(this))},n.Qa=function(c){this.g&&(this.response=c,rr(this))},n.ga=function(){this.g&&rr(this)};function rr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ir(c)}n.setRequestHeader=function(c,P){this.u.append(c,P)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],P=this.h.entries();for(var F=P.next();!F.done;)F=F.value,c.push(F[0]+": "+F[1]),F=P.next();return c.join(`\r
`)};function ir(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(So.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Kr(c){let P="";return U(c,function(F,z){P+=z,P+=":",P+=F,P+=`\r
`}),P}function Ii(c,P,F){e:{for(z in F){var z=!1;break e}z=!0}z||(F=Kr(F),typeof c=="string"?F!=null&&encodeURIComponent(String(F)):dt(c,P,F))}function Et(c){at.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Et,at);var qf=/^https?$/i,Oa=["POST","PUT"];n=Et.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,P,F,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);P=P?P.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?ts(this.o):ts(Zn),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(P,String(c),!0),this.B=!1}catch(fe){Ao(this,fe);return}if(c=F||"",F=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var ae in z)F.set(ae,z[ae]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const fe of z.keys())F.set(fe,z.get(fe));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(F.keys()).find(fe=>fe.toLowerCase()=="content-type"),ae=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Oa,P,void 0))||z||ae||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Se]of F)this.g.setRequestHeader(fe,Se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ds(this),this.u=!0,this.g.send(c),this.u=!1}catch(fe){Ao(this,fe)}};function Ao(c,P){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=P,c.m=5,hs(c),On(c)}function hs(c){c.A||(c.A=!0,ct(c,"complete"),ct(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ct(this,"complete"),ct(this,"abort"),On(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),On(this,!0)),Et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Na(this):this.bb())},n.bb=function(){Na(this)};function Na(c){if(c.h&&typeof u<"u"&&(!c.v[1]||En(c)!=4||c.Z()!=2)){if(c.u&&En(c)==4)ho(c.Ea,0,c);else if(ct(c,"readystatechange"),En(c)==4){c.h=!1;try{const Se=c.Z();e:switch(Se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var F;if(!(F=P)){var z;if(z=Se===0){var ae=String(c.D).match(To)[1]||null;!ae&&f.self&&f.self.location&&(ae=f.self.location.protocol.slice(0,-1)),z=!qf.test(ae?ae.toLowerCase():"")}F=z}if(F)ct(c,"complete"),ct(c,"success");else{c.m=6;try{var fe=2<En(c)?c.g.statusText:""}catch{fe=""}c.l=fe+" ["+c.Z()+"]",hs(c)}}finally{On(c)}}}}function On(c,P){if(c.g){ds(c);const F=c.g,z=c.v[0]?()=>{}:null;c.g=null,c.v=null,P||ct(c,"ready");try{F.onreadystatechange=z}catch{}}}function ds(c){c.I&&(f.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function En(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var P=this.g.responseText;return c&&P.indexOf(c)==0&&(P=P.substring(c.length)),wa(P)}};function Da(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ps(c){const P={};c=(c.g&&2<=En(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<c.length;z++){if(S(c[z]))continue;var F=C(c[z]);const ae=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const fe=P[ae]||[];P[ae]=fe,fe.push(F)}k(P,function(z){return z.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Er(c,P,F){return F&&F.internalChannelParams&&F.internalChannelParams[c]||P}function La(c){this.Aa=0,this.i=[],this.j=new yo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Er("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Er("baseRetryDelayMs",5e3,c),this.cb=Er("retryDelaySeedMs",1e4,c),this.Wa=Er("forwardChannelMaxRetries",2,c),this.wa=Er("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new wo(c&&c.concurrentRequestLimit),this.Da=new Uf,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=La.prototype,n.la=8,n.G=1,n.connect=function(c,P,F,z){kt(0),this.W=c,this.H=P||{},F&&z!==void 0&&(this.H.OSID=F,this.H.OAID=z),this.F=this.X,this.I=pu(this,null,this.W),wr(this)};function Yt(c){if(ms(c),c.G==3){var P=c.U++,F=xn(c.I);if(dt(F,"SID",c.K),dt(F,"RID",P),dt(F,"TYPE","terminate"),Gr(c,F),P=new er(c,c.j,P),P.L=2,P.v=bi(xn(F)),F=!1,f.navigator&&f.navigator.sendBeacon)try{F=f.navigator.sendBeacon(P.v.toString(),"")}catch{}!F&&f.Image&&(new Image().src=P.v,F=!0),F||(P.g=mu(P.j,null),P.g.ea(P.v)),P.F=Date.now(),pt(P)}du(c)}function or(c){c.g&&(Ma(c),c.g.cancel(),c.g=null)}function ms(c){or(c),c.u&&(f.clearTimeout(c.u),c.u=null),vs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function wr(c){if(!Pn(c.h)&&!c.s){c.s=!0;var P=c.Ga;Q||W(),re||(Q(),re=!0),Y.add(P,c),c.B=0}}function Bf(c,P){return tu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=P.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Yn(d(c.Ga,c,P),hu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const ae=new er(this,this.j,c);let fe=this.o;if(this.S&&(fe?(fe=I(fe),O(fe,this.S)):fe=this.S),this.m!==null||this.O||(ae.H=fe,fe=null),this.P)e:{for(var P=0,F=0;F<this.i.length;F++){t:{var z=this.i[F];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(P+=z,4096<P){P=F;break e}if(P===4096||F===this.i.length-1){P=F+1;break e}}P=1e3}else P=1e3;P=Ci(this,ae,P),F=xn(this.I),dt(F,"RID",c),dt(F,"CVER",22),this.D&&dt(F,"X-HTTP-Session-Id",this.D),Gr(this,F),fe&&(this.O?P="headers="+encodeURIComponent(String(Kr(fe)))+"&"+P:this.m&&Ii(F,this.m,fe)),Pa(this.h,ae),this.Ua&&dt(F,"TYPE","init"),this.P?(dt(F,"$req",P),dt(F,"SID","null"),ae.T=!0,ls(ae,F,null)):ls(ae,F,P),this.G=2}}else this.G==3&&(c?gs(this,c):this.i.length==0||Pn(this.h)||gs(this))};function gs(c,P){var F;P?F=P.l:F=c.U++;const z=xn(c.I);dt(z,"SID",c.K),dt(z,"RID",F),dt(z,"AID",c.T),Gr(c,z),c.m&&c.o&&Ii(z,c.m,c.o),F=new er(c,c.j,F,c.B+1),c.m===null&&(F.H=c.o),P&&(c.i=P.D.concat(c.i)),P=Ci(c,F,1e3),F.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Pa(c.h,F),ls(F,z,P)}function Gr(c,P){c.H&&U(c.H,function(F,z){dt(P,z,F)}),c.l&&Ei({},function(F,z){dt(P,z,F)})}function Ci(c,P,F){F=Math.min(c.i.length,F);var z=c.l?d(c.l.Na,c.l,c):null;e:{var ae=c.i;let fe=-1;for(;;){const Se=["count="+F];fe==-1?0<F?(fe=ae[0].g,Se.push("ofs="+fe)):fe=0:Se.push("ofs="+fe);let ht=!0;for(let jt=0;jt<F;jt++){let rt=ae[jt].g;const zt=ae[jt].map;if(rt-=fe,0>rt)fe=Math.max(0,ae[jt].g-100),ht=!1;else try{uu(zt,Se,"req"+rt+"_")}catch{z&&z(zt)}}if(ht){z=Se.join("&");break e}}}return c=c.i.splice(0,F),P.D=c,z}function Io(c){if(!c.g&&!c.u){c.Y=1;var P=c.Fa;Q||W(),re||(Q(),re=!0),Y.add(P,c),c.v=0}}function ys(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Yn(d(c.Fa,c),hu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Yn(d(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),or(this),fu(this))};function Ma(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function fu(c){c.g=new er(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var P=xn(c.qa);dt(P,"RID","rpc"),dt(P,"SID",c.K),dt(P,"AID",c.T),dt(P,"CI",c.F?"0":"1"),!c.F&&c.ja&&dt(P,"TO",c.ja),dt(P,"TYPE","xmlhttp"),Gr(c,P),c.m&&c.o&&Ii(P,c.m,c.o),c.L&&(c.g.I=c.L);var F=c.g;c=c.ia,F.L=1,F.v=bi(xn(P)),F.m=null,F.P=!0,Ra(F,c)}n.Za=function(){this.C!=null&&(this.C=null,or(this),ys(this),kt(19))};function vs(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function _s(c,P){var F=null;if(c.g==P){vs(c),Ma(c),c.g=null;var z=2}else if(pn(c.h,P))F=P.D,nu(c.h,P),z=1;else return;if(c.G!=0){if(P.o)if(z==1){F=P.m?P.m.length:0,P=Date.now()-P.F;var ae=c.B;z=go(),ct(z,new is(z,F)),wr(c)}else Io(c);else if(ae=P.s,ae==3||ae==0&&0<P.X||!(z==1&&Bf(c,P)||z==2&&ys(c)))switch(F&&0<F.length&&(P=c.h,P.i=P.i.concat(F)),ae){case 1:Qr(c,5);break;case 4:Qr(c,10);break;case 3:Qr(c,6);break;default:Qr(c,2)}}}function hu(c,P){let F=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(F*=2),F*P}function Qr(c,P){if(c.j.info("Error code "+P),P==2){var F=d(c.fb,c),z=c.Xa;const ae=!z;z=new Hr(z||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||bo(z,"https"),bi(z),ae?Ff(z.toString(),F):lu(z.toString(),F)}else kt(2);c.G=0,c.l&&c.l.sa(P),du(c),ms(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function du(c){if(c.G=0,c.ka=[],c.l){const P=ru(c.h);(P.length!=0||c.i.length!=0)&&(_(c.ka,P),_(c.ka,c.i),c.h.i.length=0,T(c.i),c.i.length=0),c.l.ra()}}function pu(c,P,F){var z=F instanceof Hr?xn(F):new Hr(F);if(z.g!="")P&&(z.g=P+"."+z.g),wi(z,z.s);else{var ae=f.location;z=ae.protocol,P=P?P+"."+ae.hostname:ae.hostname,ae=+ae.port;var fe=new Hr(null);z&&bo(fe,z),P&&(fe.g=P),ae&&wi(fe,ae),F&&(fe.l=F),z=fe}return F=c.D,P=c.ya,F&&P&&dt(z,F,P),dt(z,"VER",c.la),Gr(c,z),z}function mu(c,P,F){if(P&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return P=c.Ca&&!c.pa?new Et(new Wr({eb:F})):new Et(c.pa),P.Ha(c.J),P}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ja(){}n=ja.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Es(){}Es.prototype.g=function(c,P){return new mn(c,P)};function mn(c,P){at.call(this),this.g=new La(P),this.l=c,this.h=P&&P.messageUrlParams||null,c=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(c?c["X-WebChannel-Content-Type"]=P.messageContentType:c={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(c?c["X-WebChannel-Client-Profile"]=P.va:c={"X-WebChannel-Client-Profile":P.va}),this.g.S=c,(c=P&&P.Sb)&&!S(c)&&(this.g.m=c),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!S(P)&&(this.g.D=P,c=this.h,c!==null&&P in c&&(c=this.h,P in c&&delete c[P])),this.j=new Tr(this)}E(mn,at),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Yt(this.g)},mn.prototype.o=function(c){var P=this.g;if(typeof c=="string"){var F={};F.__data__=c,c=F}else this.u&&(F={},F.__data__=Ea(c),c=F);P.i.push(new eu(P.Ya++,c)),P.G==3&&wr(P)},mn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,mn.aa.N.call(this)};function gu(c){gr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var P=c.__sm__;if(P){e:{for(const F in P){c=F;break e}c=void 0}(this.i=c)&&(c=this.i,P=P!==null&&c in P?P[c]:void 0),this.data=P}else this.data=c}E(gu,gr);function yu(){rs.call(this),this.status=1}E(yu,rs);function Tr(c){this.g=c}E(Tr,ja),Tr.prototype.ua=function(){ct(this.g,"a")},Tr.prototype.ta=function(c){ct(this.g,new gu(c))},Tr.prototype.sa=function(c){ct(this.g,new yu)},Tr.prototype.ra=function(){ct(this.g,"b")},Es.prototype.createWebChannel=Es.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,ST=function(){return new Es},bT=function(){return go()},TT=yr,Sm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ss.NO_ERROR=0,ss.TIMEOUT=8,ss.HTTP_ERROR=6,Rc=ss,Xl.COMPLETE="complete",wT=Xl,ns.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",at.prototype.listen=at.prototype.K,hl=ns,Et.prototype.listenOnce=Et.prototype.L,Et.prototype.getLastError=Et.prototype.Ka,Et.prototype.getLastErrorCode=Et.prototype.Ba,Et.prototype.getStatus=Et.prototype.Z,Et.prototype.getResponseJson=Et.prototype.Oa,Et.prototype.getResponseText=Et.prototype.oa,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Ha,ET=Et}).apply(typeof gc<"u"?gc:typeof self<"u"?self:typeof window<"u"?window:{});const oE="@firebase/firestore",sE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ha="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new Jm("@firebase/firestore");function $s(){return Qo.logLevel}function Re(n,...e){if(Qo.logLevel<=et.DEBUG){const t=e.map(yg);Qo.debug(`Firestore (${ha}): ${n}`,...t)}}function pi(n,...e){if(Qo.logLevel<=et.ERROR){const t=e.map(yg);Qo.error(`Firestore (${ha}): ${n}`,...t)}}function ea(n,...e){if(Qo.logLevel<=et.WARN){const t=e.map(yg);Qo.warn(`Firestore (${ha}): ${n}`,...t)}}function yg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(n="Unexpected state"){const e=`FIRESTORE (${ha}) INTERNAL ASSERTION FAILED: `+n;throw pi(e),new Error(e)}function ut(n,e){n||qe()}function Ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends zr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fn.UNAUTHENTICATED))}shutdown(){}}class nO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rO{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ut(this.o===void 0);let r=this.i;const o=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ci,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await o(this.currentUser)})},f=h=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>f(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ci)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string"),new AT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string"),new fn(e)}}class iO{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class oO{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new iO(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sO{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,pr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){ut(this.o===void 0);const r=a=>{a.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,Re("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new aE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ut(typeof t.token=="string"),this.R=t.token,new aE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=aO(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Xe(n,e){return n<e?-1:n>e?1:0}function Am(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),o=e.codePointAt(t);if(r!==o){if(r<128&&o<128)return Xe(r,o);{const a=IT(),u=lO(a.encode(lE(n,t)),a.encode(lE(e,t)));return u!==0?u:Xe(r,o)}}t+=r>65535?2:1}return Xe(n.length,e.length)}function lE(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function lO(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Xe(n[t],e[t]);return Xe(n.length,e.length)}function ta(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=-62135596800,cE=1e6;class qt{static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*cE);return new qt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new De(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new De(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<uE)throw new De(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cE}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-uE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{static fromTimestamp(e){return new We(e)}static min(){return new We(new qt(0,0))}static max(){return new We(new qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="__name__";class kr{constructor(e,t,r){t===void 0?t=0:t>e.length&&qe(),r===void 0?r=e.length-t:r>e.length-t&&qe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return kr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof kr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=kr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Xe(e.length,t.length)}static compareSegments(e,t){const r=kr.isNumericId(e),o=kr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?kr.extractNumericId(e).compare(kr.extractNumericId(t)):Am(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zi.fromString(e.substring(4,e.length-2))}}class Tt extends kr{construct(e,t,r){return new Tt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(Ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Tt(t)}static emptyPath(){return new Tt([])}}const uO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends kr{construct(e,t,r){return new nn(e,t,r)}static isValidIdentifier(e){return uO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fE}static keyField(){return new nn([fE])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new De(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new De(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new De(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(r+=f,o++):(a(),o++)}if(a(),u)throw new De(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(t)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(Tt.fromString(e))}static fromName(e){return new Fe(Tt.fromString(e).popFirst(5))}static empty(){return new Fe(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new Tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=-1;function cO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=We.fromTimestamp(r===1e9?new qt(t+1,0):new qt(t,r));return new ro(o,Fe.empty(),e)}function fO(n){return new ro(n.readTime,n.key,Cl)}class ro{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ro(We.min(),Fe.empty(),Cl)}static max(){return new ro(We.max(),Fe.empty(),Cl)}}function hO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Fe.comparator(n.documentKey,e.documentKey),t!==0?t:Xe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function da(n){if(n.code!==Ee.FAILED_PRECONDITION||n.message!==dO)throw n;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ge((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ge?t:ge.resolve(t)}catch(t){return ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.reject(t)}static resolve(e){return new ge((t,r)=>{t(e)})}static reject(e){return new ge((t,r)=>{r(e)})}static waitFor(e){return new ge((t,r)=>{let o=0,a=0,u=!1;e.forEach(f=>{++o,f.next(()=>{++a,u&&a===o&&t()},h=>r(h))}),u=!0,a===o&&t()})}static or(e){let t=ge.resolve(!1);for(const r of e)t=t.next(o=>o?ge.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new ge((r,o)=>{const a=e.length,u=new Array(a);let f=0;for(let h=0;h<a;h++){const m=h;t(e[m]).next(v=>{u[m]=v,++f,f===a&&r(u)},v=>o(v))}})}static doWhile(e,t){return new ge((r,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):r()};a()})}}function mO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function pa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}hf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=-1;function df(n){return n==null}function $c(n){return n===0&&1/n==-1/0}function gO(n){return typeof n=="number"&&Number.isInteger(n)&&!$c(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="";function yO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=hE(e)),e=vO(n.get(t),e);return hE(e)}function vO(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case RT:t+="";break;default:t+=a}}return t}function hE(n){return n+RT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function co(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function kT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,t){this.comparator=e,this.root=t||tn.EMPTY}insert(e,t){return new It(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yc(this.root,e,this.comparator,!0)}}class yc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??tn.RED,this.left=o??tn.EMPTY,this.right=a??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new tn(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qe();const e=this.left.check();if(e!==this.right.check())throw qe();return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw qe()}get value(){throw qe()}get color(){throw qe()}get left(){throw qe()}get right(){throw qe()}copy(e,t,r,o,a){return this}insert(e,t,r){return new tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pE(this.data.getIterator())}getIteratorFrom(e){return new pE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class pE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Vn([])}unionWith(e){let t=new Bt(nn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Vn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ta(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new PT("Invalid base64 string: "+a):a}}(e);return new rn(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const _O=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(n){if(ut(!!n),typeof n=="string"){let e=0;const t=_O.exec(n);if(ut(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(n.seconds),nanos:xt(n.nanos)}}function xt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function oo(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="server_timestamp",OT="__type__",NT="__previous_value__",DT="__local_write_time__";function _g(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[OT])===null||t===void 0?void 0:t.stringValue)===xT}function pf(n){const e=n.mapValue.fields[NT];return _g(e)?pf(e):e}function Rl(n){const e=io(n.mapValue.fields[DT].timestampValue);return new qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,t,r,o,a,u,f,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=m}}const Hc="(default)";class kl{constructor(e,t){this.projectId=e,this.database=t||Hc}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===Hc}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="__type__",MT="__max__",vc={mapValue:{fields:{__type__:{stringValue:MT}}}},jT="__vector__",Wc="value";function so(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_g(n)?4:TO(n)?9007199254740991:wO(n)?10:11:qe()}function Vr(n,e){if(n===e)return!0;const t=so(n);if(t!==so(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rl(n).isEqual(Rl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=io(o.timestampValue),f=io(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return oo(o.bytesValue).isEqual(oo(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return xt(o.geoPointValue.latitude)===xt(a.geoPointValue.latitude)&&xt(o.geoPointValue.longitude)===xt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return xt(o.integerValue)===xt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=xt(o.doubleValue),f=xt(a.doubleValue);return u===f?$c(u)===$c(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return ta(n.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},f=a.mapValue.fields||{};if(dE(u)!==dE(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!Vr(u[h],f[h])))return!1;return!0}(n,e);default:return qe()}}function Pl(n,e){return(n.values||[]).find(t=>Vr(t,e))!==void 0}function na(n,e){if(n===e)return 0;const t=so(n),r=so(e);if(t!==r)return Xe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xe(n.booleanValue,e.booleanValue);case 2:return function(a,u){const f=xt(a.integerValue||a.doubleValue),h=xt(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1}(n,e);case 3:return mE(n.timestampValue,e.timestampValue);case 4:return mE(Rl(n),Rl(e));case 5:return Am(n.stringValue,e.stringValue);case 6:return function(a,u){const f=oo(a),h=oo(u);return f.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),h=u.split("/");for(let m=0;m<f.length&&m<h.length;m++){const v=Xe(f[m],h[m]);if(v!==0)return v}return Xe(f.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const f=Xe(xt(a.latitude),xt(u.latitude));return f!==0?f:Xe(xt(a.longitude),xt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return gE(n.arrayValue,e.arrayValue);case 10:return function(a,u){var f,h,m,v;const y=a.fields||{},d=u.fields||{},g=(f=y[Wc])===null||f===void 0?void 0:f.arrayValue,E=(h=d[Wc])===null||h===void 0?void 0:h.arrayValue,T=Xe(((m=g==null?void 0:g.values)===null||m===void 0?void 0:m.length)||0,((v=E==null?void 0:E.values)===null||v===void 0?void 0:v.length)||0);return T!==0?T:gE(g,E)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===vc.mapValue&&u===vc.mapValue)return 0;if(a===vc.mapValue)return 1;if(u===vc.mapValue)return-1;const f=a.fields||{},h=Object.keys(f),m=u.fields||{},v=Object.keys(m);h.sort(),v.sort();for(let y=0;y<h.length&&y<v.length;++y){const d=Am(h[y],v[y]);if(d!==0)return d;const g=na(f[h[y]],m[v[y]]);if(g!==0)return g}return Xe(h.length,v.length)}(n.mapValue,e.mapValue);default:throw qe()}}function mE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Xe(n,e);const t=io(n),r=io(e),o=Xe(t.seconds,r.seconds);return o!==0?o:Xe(t.nanos,r.nanos)}function gE(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=na(t[o],r[o]);if(a)return a}return Xe(t.length,r.length)}function ra(n){return Im(n)}function Im(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=io(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return oo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Fe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=Im(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${Im(t.fields[u])}`;return o+"}"}(n.mapValue):qe()}function kc(n){switch(so(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pf(n);return e?16+kc(e):16;case 5:return 2*n.stringValue.length;case 6:return oo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+kc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return co(r.fields,(a,u)=>{o+=a.length+kc(u)}),o}(n.mapValue);default:throw qe()}}function Cm(n){return!!n&&"integerValue"in n}function Eg(n){return!!n&&"arrayValue"in n}function yE(n){return!!n&&"nullValue"in n}function vE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Pc(n){return!!n&&"mapValue"in n}function wO(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[LT])===null||t===void 0?void 0:t.stringValue)===jT}function El(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return co(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=El(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=El(n.arrayValue.values[t]);return e}return Object.assign({},n)}function TO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===MT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Pc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=El(t)}setAll(e){let t=nn.emptyPath(),r={},o=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,r,o),r={},o=[],t=f.popLast()}u?r[f.lastSegment()]=El(u):o.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Pc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Pc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){co(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new kn(El(this.value))}}function VT(n){const e=[];return co(n.fields,(t,r)=>{const o=new nn([t]);if(Pc(r)){const a=VT(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,t,r,o,a,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new hn(e,0,We.min(),We.min(),We.min(),kn.empty(),0)}static newFoundDocument(e,t,r,o){return new hn(e,1,t,We.min(),r,o,0)}static newNoDocument(e,t){return new hn(e,2,t,We.min(),We.min(),kn.empty(),0)}static newUnknownDocument(e,t){return new hn(e,3,t,We.min(),We.min(),kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,t){this.position=e,this.inclusive=t}}function _E(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=Fe.comparator(Fe.fromName(u.referenceValue),t.key):r=na(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function EE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,t="asc"){this.field=e,this.dir=t}}function bO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{}class Ut extends FT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new AO(e,t,r):t==="array-contains"?new RO(e,r):t==="in"?new kO(e,r):t==="not-in"?new PO(e,r):t==="array-contains-any"?new xO(e,r):new Ut(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new IO(e,r):new CO(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(na(t,this.value)):t!==null&&so(this.value)===so(t)&&this.matchesComparison(na(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends FT{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Fr(e,t)}matches(e){return UT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function UT(n){return n.op==="and"}function qT(n){return SO(n)&&UT(n)}function SO(n){for(const e of n.filters)if(e instanceof Fr)return!1;return!0}function Rm(n){if(n instanceof Ut)return n.field.canonicalString()+n.op.toString()+ra(n.value);if(qT(n))return n.filters.map(e=>Rm(e)).join(",");{const e=n.filters.map(t=>Rm(t)).join(",");return`${n.op}(${e})`}}function BT(n,e){return n instanceof Ut?function(r,o){return o instanceof Ut&&r.op===o.op&&r.field.isEqual(o.field)&&Vr(r.value,o.value)}(n,e):n instanceof Fr?function(r,o){return o instanceof Fr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,f)=>a&&BT(u,o.filters[f]),!0):!1}(n,e):void qe()}function zT(n){return n instanceof Ut?function(t){return`${t.field.canonicalString()} ${t.op} ${ra(t.value)}`}(n):n instanceof Fr?function(t){return t.op.toString()+" {"+t.getFilters().map(zT).join(" ,")+"}"}(n):"Filter"}class AO extends Ut{constructor(e,t,r){super(e,t,r),this.key=Fe.fromName(r.referenceValue)}matches(e){const t=Fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class IO extends Ut{constructor(e,t){super(e,"in",t),this.keys=$T("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class CO extends Ut{constructor(e,t){super(e,"not-in",t),this.keys=$T("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $T(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Fe.fromName(r.referenceValue))}class RO extends Ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Eg(t)&&Pl(t.arrayValue,this.value)}}class kO extends Ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Pl(this.value.arrayValue,t)}}class PO extends Ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Pl(this.value.arrayValue,t)}}class xO extends Ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Eg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Pl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,t=null,r=[],o=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=f,this.le=null}}function wE(n,e=null,t=[],r=[],o=null,a=null,u=null){return new OO(n,e,t,r,o,a,u)}function wg(n){const e=Ke(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Rm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),df(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ra(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ra(r)).join(",")),e.le=t}return e.le}function Tg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!bO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!BT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!EE(n.startAt,e.startAt)&&EE(n.endAt,e.endAt)}function km(n){return Fe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t=null,r=[],o=[],a=null,u="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function NO(n,e,t,r,o,a,u,f){return new mf(n,e,t,r,o,a,u,f)}function bg(n){return new mf(n)}function TE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function DO(n){return n.collectionGroup!==null}function wl(n){const e=Ke(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Bt(nn.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new Gc(a,r))}),t.has(nn.keyField().canonicalString())||e.he.push(new Gc(nn.keyField(),r))}return e.he}function Lr(n){const e=Ke(n);return e.Pe||(e.Pe=LO(e,wl(n))),e.Pe}function LO(n,e){if(n.limitType==="F")return wE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Gc(o.field,a)});const t=n.endAt?new Kc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Kc(n.startAt.position,n.startAt.inclusive):null;return wE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Pm(n,e,t){return new mf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function gf(n,e){return Tg(Lr(n),Lr(e))&&n.limitType===e.limitType}function HT(n){return`${wg(Lr(n))}|lt:${n.limitType}`}function Hs(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>zT(o)).join(", ")}]`),df(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>ra(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>ra(o)).join(",")),`Target(${r})`}(Lr(n))}; limitType=${n.limitType})`}function yf(n,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Fe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,o){for(const a of wl(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(u,f,h){const m=_E(u,f,h);return u.inclusive?m<=0:m<0}(r.startAt,wl(r),o)||r.endAt&&!function(u,f,h){const m=_E(u,f,h);return u.inclusive?m>=0:m>0}(r.endAt,wl(r),o))}(n,e)}function MO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function WT(n){return(e,t)=>{let r=!1;for(const o of wl(n)){const a=jO(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function jO(n,e,t){const r=n.field.isKeyField()?Fe.comparator(e.key,t.key):function(a,u,f){const h=u.data.field(a),m=f.data.field(a);return h!==null&&m!==null?na(h,m):qe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return qe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){co(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return kT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=new It(Fe.comparator);function mi(){return VO}const KT=new It(Fe.comparator);function dl(...n){let e=KT;for(const t of n)e=e.insert(t.key,t);return e}function GT(n){let e=KT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Bo(){return Tl()}function QT(){return Tl()}function Tl(){return new Zo(n=>n.toString(),(n,e)=>n.isEqual(e))}const FO=new It(Fe.comparator),UO=new Bt(Fe.comparator);function tt(...n){let e=UO;for(const t of n)e=e.add(t);return e}const qO=new Bt(Xe);function BO(){return qO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function XT(n){return{integerValue:""+n}}function zO(n,e){return gO(e)?XT(e):Sg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(){this._=void 0}}function $O(n,e,t){return n instanceof Qc?function(o,a){const u={fields:{[OT]:{stringValue:xT},[DT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&_g(a)&&(a=pf(a)),a&&(u.fields[NT]=a),{mapValue:u}}(t,e):n instanceof xl?JT(n,e):n instanceof Ol?ZT(n,e):function(o,a){const u=YT(o,a),f=bE(u)+bE(o.Ie);return Cm(u)&&Cm(o.Ie)?XT(f):Sg(o.serializer,f)}(n,e)}function HO(n,e,t){return n instanceof xl?JT(n,e):n instanceof Ol?ZT(n,e):t}function YT(n,e){return n instanceof Xc?function(r){return Cm(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Qc extends vf{}class xl extends vf{constructor(e){super(),this.elements=e}}function JT(n,e){const t=eb(e);for(const r of n.elements)t.some(o=>Vr(o,r))||t.push(r);return{arrayValue:{values:t}}}class Ol extends vf{constructor(e){super(),this.elements=e}}function ZT(n,e){let t=eb(e);for(const r of n.elements)t=t.filter(o=>!Vr(o,r));return{arrayValue:{values:t}}}class Xc extends vf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function bE(n){return xt(n.integerValue||n.doubleValue)}function eb(n){return Eg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function WO(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof xl&&o instanceof xl||r instanceof Ol&&o instanceof Ol?ta(r.elements,o.elements,Vr):r instanceof Xc&&o instanceof Xc?Vr(r.Ie,o.Ie):r instanceof Qc&&o instanceof Qc}(n.transform,e.transform)}class KO{constructor(e,t){this.version=e,this.transformResults=t}}class mr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class _f{}function tb(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ag(n.key,mr.none()):new $l(n.key,n.data,mr.none());{const t=n.data,r=kn.empty();let o=new Bt(nn.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new fo(n.key,r,new Vn(o.toArray()),mr.none())}}function GO(n,e,t){n instanceof $l?function(o,a,u){const f=o.value.clone(),h=AE(o.fieldTransforms,a,u.transformResults);f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof fo?function(o,a,u){if(!xc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const f=AE(o.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(nb(o)),h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function bl(n,e,t,r){return n instanceof $l?function(a,u,f,h){if(!xc(a.precondition,u))return f;const m=a.value.clone(),v=IE(a.fieldTransforms,h,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof fo?function(a,u,f,h){if(!xc(a.precondition,u))return f;const m=IE(a.fieldTransforms,h,u),v=u.data;return v.setAll(nb(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(n,e,t,r):function(a,u,f){return xc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function QO(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=YT(r.transform,o||null);a!=null&&(t===null&&(t=kn.empty()),t.set(r.field,a))}return t||null}function SE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ta(r,o,(a,u)=>WO(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class $l extends _f{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class fo extends _f{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function nb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function AE(n,e,t){const r=new Map;ut(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,f=e.data.field(a.field);r.set(a.field,HO(u,f,t[o]))}return r}function IE(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,$O(a,u,e))}return r}class Ag extends _f{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XO extends _f{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&GO(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=bl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=bl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=QT();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(o.key)?null:f;const h=tb(u,f);h!==null&&r.set(o.key,h),u.isValidDocument()||u.convertToNoDocument(We.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tt())}isEqual(e){return this.batchId===e.batchId&&ta(this.mutations,e.mutations,(t,r)=>SE(t,r))&&ta(this.baseMutations,e.baseMutations,(t,r)=>SE(t,r))}}class Ig{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){ut(e.mutations.length===r.length);let o=function(){return FO}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new Ig(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,it;function eN(n){switch(n){case Ee.OK:return qe();case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0;default:return qe()}}function rb(n){if(n===void 0)return pi("GRPC error has no .code"),Ee.UNKNOWN;switch(n){case Mt.OK:return Ee.OK;case Mt.CANCELLED:return Ee.CANCELLED;case Mt.UNKNOWN:return Ee.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return Ee.INTERNAL;case Mt.UNAVAILABLE:return Ee.UNAVAILABLE;case Mt.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case Mt.NOT_FOUND:return Ee.NOT_FOUND;case Mt.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case Mt.ABORTED:return Ee.ABORTED;case Mt.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case Mt.DATA_LOSS:return Ee.DATA_LOSS;default:return qe()}}(it=Mt||(Mt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=new Zi([4294967295,4294967295],0);function CE(n){const e=IT().encode(n),t=new _T;return t.update(e),new Uint8Array(t.digest())}function RE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Zi([t,r],0),new Zi([o,a],0)]}class Cg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new pl(`Invalid padding: ${t}`);if(r<0)throw new pl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new pl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new pl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Zi.fromNumber(this.Ee)}Ae(e,t,r){let o=e.add(t.multiply(Zi.fromNumber(r)));return o.compare(tN)===1&&(o=new Zi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=CE(e),[r,o]=RE(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(r,o,a);if(!this.Re(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Cg(a,o,t);return r.forEach(f=>u.insert(f)),u}insert(e){if(this.Ee===0)return;const t=CE(e),[r,o]=RE(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(r,o,a);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Hl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ef(We.min(),o,new It(Xe),mi(),tt())}}class Hl{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Hl(r,t,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t,r,o){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=o}}class ib{constructor(e,t){this.targetId=e,this.ge=t}}class ob{constructor(e,t,r=rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class kE{constructor(){this.pe=0,this.ye=PE(),this.we=rn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=tt(),t=tt(),r=tt();return this.ye.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:qe()}}),new Hl(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=PE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ut(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class nN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=mi(),this.$e=_c(),this.Ue=_c(),this.Ke=new It(Xe)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:qe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,r=e.ge.count,o=this.Xe(t);if(o){const a=o.target;if(km(a))if(r===0){const u=new Fe(a.path);this.ze(t,u,hn.newNoDocument(u,We.min()))}else ut(r===1);else{const u=this.et(t);if(u!==r){const f=this.tt(e),h=f?this.nt(f,e,u):1;if(h!==0){this.Ye(t);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,f;try{u=oo(r).toUint8Array()}catch(h){if(h instanceof PT)return ea("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new Cg(u,o,a)}catch(h){return ea(h instanceof pl?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.Ee===0?null:f}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let o=0;return r.forEach(a=>{const u=this.ke.it(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,a,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((a,u)=>{const f=this.Xe(u);if(f){if(a.current&&km(f.target)){const h=new Fe(f.target.path);this._t(h).has(u)||this.ut(u,h)||this.ze(u,h,hn.newNoDocument(h,e))}a.ve&&(t.set(u,a.Fe()),a.Me())}});let r=tt();this.Ue.forEach((a,u)=>{let f=!0;u.forEachWhile(h=>{const m=this.Xe(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(a))}),this.Qe.forEach((a,u)=>u.setReadTime(e));const o=new Ef(e,t,this.Ke,this.Qe,r);return this.Qe=mi(),this.$e=_c(),this.Ue=_c(),this.Ke=new It(Xe),o}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new kE,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Bt(Xe),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Bt(Xe),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Re("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new kE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function _c(){return new It(Fe.comparator)}function PE(){return new It(Fe.comparator)}const rN={asc:"ASCENDING",desc:"DESCENDING"},iN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oN={and:"AND",or:"OR"};class sN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xm(n,e){return n.useProto3Json||df(e)?e:{value:e}}function Yc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sb(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function aN(n,e){return Yc(n,e.toTimestamp())}function Mr(n){return ut(!!n),We.fromTimestamp(function(t){const r=io(t);return new qt(r.seconds,r.nanos)}(n))}function Rg(n,e){return Om(n,e).canonicalString()}function Om(n,e){const t=function(o){return new Tt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function ab(n){const e=Tt.fromString(n);return ut(hb(e)),e}function Nm(n,e){return Rg(n.databaseId,e.path)}function Ad(n,e){const t=ab(e);if(t.get(1)!==n.databaseId.projectId)throw new De(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new De(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Fe(ub(t))}function lb(n,e){return Rg(n.databaseId,e)}function lN(n){const e=ab(n);return e.length===4?Tt.emptyPath():ub(e)}function Dm(n){return new Tt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ub(n){return ut(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function xE(n,e,t){return{name:Nm(n,e),fields:t.value.mapValue.fields}}function uN(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:qe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(ut(v===void 0||typeof v=="string"),rn.fromBase64String(v||"")):(ut(v===void 0||v instanceof Buffer||v instanceof Uint8Array),rn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(m){const v=m.code===void 0?Ee.UNKNOWN:rb(m.code);return new De(v,m.message||"")}(u);t=new ob(r,o,a,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Ad(n,r.document.name),a=Mr(r.document.updateTime),u=r.document.createTime?Mr(r.document.createTime):We.min(),f=new kn({mapValue:{fields:r.document.fields}}),h=hn.newFoundDocument(o,a,u,f),m=r.targetIds||[],v=r.removedTargetIds||[];t=new Oc(m,v,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Ad(n,r.document),a=r.readTime?Mr(r.readTime):We.min(),u=hn.newNoDocument(o,a),f=r.removedTargetIds||[];t=new Oc([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Ad(n,r.document),a=r.removedTargetIds||[];t=new Oc([],a,o,null)}else{if(!("filter"in e))return qe();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new ZO(o,a),f=r.targetId;t=new ib(f,u)}}return t}function cN(n,e){let t;if(e instanceof $l)t={update:xE(n,e.key,e.value)};else if(e instanceof Ag)t={delete:Nm(n,e.key)};else if(e instanceof fo)t={update:xE(n,e.key,e.data),updateMask:_N(e.fieldMask)};else{if(!(e instanceof XO))return qe();t={verify:Nm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const f=u.transform;if(f instanceof Qc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof xl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ol)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Xc)return{fieldPath:u.field.canonicalString(),increment:f.Ie};throw qe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:aN(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:qe()}(n,e.precondition)),t}function fN(n,e){return n&&n.length>0?(ut(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?Mr(o.updateTime):Mr(a);return u.isEqual(We.min())&&(u=Mr(a)),new KO(u,o.transformResults||[])}(t,e))):[]}function hN(n,e){return{documents:[lb(n,e.path)]}}function dN(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=lb(n,o);const a=function(m){if(m.length!==0)return fb(Fr.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(v=>function(d){return{field:Ws(d.field),direction:gN(d.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=xm(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:o}}function pN(n){let e=lN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){ut(r===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(y){const d=cb(y);return d instanceof Fr&&qT(d)?d.getFilters():[d]}(t.where));let u=[];t.orderBy&&(u=function(y){return y.map(d=>function(E){return new Gc(Ks(E.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(d))}(t.orderBy));let f=null;t.limit&&(f=function(y){let d;return d=typeof y=="object"?y.value:y,df(d)?null:d}(t.limit));let h=null;t.startAt&&(h=function(y){const d=!!y.before,g=y.values||[];return new Kc(g,d)}(t.startAt));let m=null;return t.endAt&&(m=function(y){const d=!y.before,g=y.values||[];return new Kc(g,d)}(t.endAt)),NO(e,o,u,a,f,"F",h,m)}function mN(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function cb(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ks(t.unaryFilter.field);return Ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ks(t.unaryFilter.field);return Ut.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ks(t.unaryFilter.field);return Ut.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ks(t.unaryFilter.field);return Ut.create(u,"!=",{nullValue:"NULL_VALUE"});default:return qe()}}(n):n.fieldFilter!==void 0?function(t){return Ut.create(Ks(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Fr.create(t.compositeFilter.filters.map(r=>cb(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return qe()}}(t.compositeFilter.op))}(n):qe()}function gN(n){return rN[n]}function yN(n){return iN[n]}function vN(n){return oN[n]}function Ws(n){return{fieldPath:n.canonicalString()}}function Ks(n){return nn.fromServerFormat(n.fieldPath)}function fb(n){return n instanceof Ut?function(t){if(t.op==="=="){if(vE(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NAN"}};if(yE(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(vE(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NOT_NAN"}};if(yE(t.value))return{unaryFilter:{field:Ws(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ws(t.field),op:yN(t.op),value:t.value}}}(n):n instanceof Fr?function(t){const r=t.getFilters().map(o=>fb(o));return r.length===1?r[0]:{compositeFilter:{op:vN(t.op),filters:r}}}(n):qe()}function _N(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,t,r,o,a=We.min(),u=We.min(),f=rn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.Tt=e}}function wN(n){const e=pN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Pm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.Tn=new bN}addToCollectionParentIndex(e,t){return this.Tn.add(t),ge.resolve()}getCollectionParents(e,t){return ge.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ge.resolve()}deleteFieldIndex(e,t){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,t){return ge.resolve()}getDocumentsMatchingTarget(e,t){return ge.resolve(null)}getIndexType(e,t){return ge.resolve(0)}getFieldIndexes(e,t){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,t){return ge.resolve(ro.min())}getMinOffsetFromCollectionGroup(e,t){return ge.resolve(ro.min())}updateCollectionGroup(e,t,r){return ge.resolve()}updateIndexEntries(e,t){return ge.resolve()}}class bN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Bt(Tt.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Bt(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},db=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(db,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ia(0)}static Kn(){return new ia(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="LruGarbageCollector",SN=1048576;function DE([n,e],[t,r]){const o=Xe(n,t);return o===0?Xe(e,r):o}class AN{constructor(e){this.Hn=e,this.buffer=new Bt(DE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();DE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class IN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Re(NE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){pa(t)?Re(NE,"Ignoring IndexedDB error during garbage collection: ",t):await da(t)}await this.er(3e5)})}}class CN{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ge.resolve(hf.ae);const r=new AN(t);return this.tr.forEachTarget(e,o=>r.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>r.Zn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(OE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,o,a,u,f,h,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),o=this.params.maximumSequenceNumbersToCollect):o=y,u=Date.now(),this.nthSequenceNumber(e,o))).next(y=>(r=y,f=Date.now(),this.removeTargets(e,r,t))).next(y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(m=Date.now(),$s()<=et.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${a} targets in `+(h-f)+`ms
	Removed ${y} documents in `+(m-h)+`ms
Total Duration: ${m-v}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:y})))}}function RN(n,e){return new CN(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.changes=new Zo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ge.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&bl(r.mutation,o,Vn.empty(),qt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=tt()){const o=Bo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let u=dl();return a.forEach((f,h)=>{u=u.insert(f,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Bo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,tt()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,o){let a=mi();const u=Tl(),f=function(){return Tl()}();return t.forEach((h,m)=>{const v=r.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof fo)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),bl(v.mutation,m,v.mutation.getFieldMask(),qt.now())):u.set(m.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>{var y;return f.set(m,new PN(v,(y=u.get(m))!==null&&y!==void 0?y:null))}),f))}recalculateAndSaveOverlays(e,t){const r=Tl();let o=new It((u,f)=>u-f),a=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(h=>{const m=t.get(h);if(m===null)return;let v=r.get(h)||Vn.empty();v=f.applyToLocalView(m,v),r.set(h,v);const y=(o.get(f.batchId)||tt()).add(h);o=o.insert(f.batchId,y)})}).next(()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),m=h.key,v=h.value,y=QT();v.forEach(d=>{if(!a.has(d)){const g=tb(t.get(d),r.get(d));g!==null&&y.set(d,g),a=a.add(d)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,y))}return ge.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(u){return Fe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):DO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):ge.resolve(Bo());let f=Cl,h=a;return u.next(m=>ge.forEach(m,(v,y)=>(f<y.largestBatchId&&(f=y.largestBatchId),a.get(v)?ge.resolve():this.remoteDocumentCache.getEntry(e,v).next(d=>{h=h.insert(v,d)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,h,m,tt())).next(v=>({batchId:f,changes:GT(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Fe(t)).next(r=>{let o=dl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=dl();return this.indexManager.getCollectionParents(e,a).next(f=>ge.forEach(f,h=>{const m=function(y,d){return new mf(d,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(v=>{v.forEach((y,d)=>{u=u.insert(y,d)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o))).next(u=>{a.forEach((h,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,hn.newInvalidDocument(v)))});let f=dl();return u.forEach((h,m)=>{const v=a.get(h);v!==void 0&&bl(v.mutation,m,Vn.empty(),qt.now()),yf(t,m)&&(f=f.insert(h,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ge.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Mr(o.createTime)}}(t)),ge.resolve()}getNamedQuery(e,t){return ge.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:wN(o.bundledQuery),readTime:Mr(o.readTime)}}(t)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.overlays=new It(Fe.comparator),this.Rr=new Map}getOverlay(e,t){return ge.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Bo();return ge.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.Et(e,t,a)}),ge.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Rr.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),ge.resolve()}getOverlaysForCollection(e,t,r){const o=Bo(),a=t.length+1,u=new Fe(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,m=h.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&h.largestBatchId>r&&o.set(h.getKey(),h)}return ge.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new It((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let v=a.get(m.largestBatchId);v===null&&(v=Bo(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const f=Bo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((m,v)=>f.set(m,v)),!(f.size()>=o)););return ge.resolve(f)}Et(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.Rr.get(o.largestBatchId).delete(r.key);this.Rr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new JO(t,r));let a=this.Rr.get(t);a===void 0&&(a=tt(),this.Rr.set(t,a)),this.Rr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(){this.Vr=new Bt(Gt.mr),this.gr=new Bt(Gt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Gt(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Gt(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new Fe(new Tt([])),r=new Gt(t,e),o=new Gt(t,e+1),a=[];return this.gr.forEachInRange([r,o],u=>{this.wr(u),a.push(u.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Fe(new Tt([])),r=new Gt(t,e),o=new Gt(t,e+1);let a=tt();return this.gr.forEachInRange([r,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Gt(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Fe.comparator(e.key,t.key)||Xe(e.Cr,t.Cr)}static pr(e,t){return Xe(e.Cr,t.Cr)||Fe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Bt(Gt.mr)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new YO(a,t,r,o);this.mutationQueue.push(u);for(const f of o)this.Mr=this.Mr.add(new Gt(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ge.resolve(u)}lookupMutationBatch(e,t){return ge.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Nr(r),a=o<0?0:o;return ge.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?vg:this.Fr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Gt(t,0),o=new Gt(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,o],u=>{const f=this.Or(u.Cr);a.push(f)}),ge.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Bt(Xe);return t.forEach(o=>{const a=new Gt(o,0),u=new Gt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,u],f=>{r=r.add(f.Cr)})}),ge.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;Fe.isDocumentKey(a)||(a=a.child(""));const u=new Gt(new Fe(a),0);let f=new Bt(Xe);return this.Mr.forEachWhile(h=>{const m=h.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(f=f.add(h.Cr)),!0)},u),ge.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(r=>{const o=this.Or(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){ut(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ge.forEach(t.mutations,o=>{const a=new Gt(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Gt(t,0),o=this.Mr.firstAfterOrEqual(r);return ge.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.kr=e,this.docs=function(){return new It(Fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ge.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(t))}getEntries(e,t){let r=mi();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():hn.newInvalidDocument(o))}),ge.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=mi();const u=t.path,f=new Fe(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:m,value:{document:v}}=h.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||hO(fO(v),r)<=0||(o.has(v.key)||yf(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ge.resolve(a)}getAllFromCollectionGroup(e,t,r,o){qe()}qr(e,t){return ge.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new jN(this)}getSize(e){return ge.resolve(this.size)}}class jN extends kN{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(r)}),ge.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.persistence=e,this.Qr=new Zo(t=>wg(t),Tg),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.$r=0,this.Ur=new kg,this.targetCount=0,this.Kr=ia.Un()}forEachTarget(e,t){return this.Qr.forEach((r,o)=>t(o)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ge.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new ia(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ge.resolve()}updateTargetData(e,t){return this.zn(t),ge.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.Qr.forEach((u,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.Qr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),ge.waitFor(a).next(()=>o)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ge.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),ge.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),ge.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),ge.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return ge.resolve(r)}containsKey(e,t){return ge.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new hf(0),this.zr=!1,this.zr=!0,this.jr=new DN,this.referenceDelegate=e(this),this.Hr=new VN(this),this.indexManager=new TN,this.remoteDocumentCache=function(o){return new MN(o)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new EN(t),this.Yr=new ON(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new NN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new LN(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){Re("MemoryPersistence","Starting transaction:",e);const o=new FN(this.Gr.next());return this.referenceDelegate.Zr(),r(o).next(a=>this.referenceDelegate.Xr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}ei(e,t){return ge.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class FN extends pO{constructor(e){super(),this.currentSequenceNumber=e}}class Pg{constructor(e){this.persistence=e,this.ti=new kg,this.ni=null}static ri(e){return new Pg(e)}get ii(){if(this.ni)return this.ni;throw qe()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ge.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ge.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.ii,r=>{const o=Fe.fromPath(r);return this.si(e,o).next(a=>{a||t.removeEntry(o,We.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ge.or([()=>ge.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Jc{constructor(e,t){this.persistence=e,this.oi=new Zo(r=>yO(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=RN(this,t)}static ri(e,t){return new Jc(e,t)}Zr(){}Xr(e){return ge.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ge.forEach(this.oi,(r,o)=>this.ar(e,r,o).next(a=>a?ge.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.qr(e,u=>this.ar(e,u,t).next(f=>{f||(r++,a.removeEntry(u,We.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ge.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ge.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ge.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=kc(e.data.value)),t}ar(e,t,r){return ge.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return ge.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=o}static Yi(e,t){let r=tt(),o=tt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new xg(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return wC()?8:mO(dn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.rs(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ss(e,t,o,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new UN;return this._s(e,t,u).next(f=>{if(a.result=f,this.Xi)return this.us(e,t,u,f.size)})}).next(()=>a.result)}us(e,t,r,o){return r.documentReadCount<this.es?($s()<=et.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",Hs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ge.resolve()):($s()<=et.DEBUG&&Re("QueryEngine","Query:",Hs(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ts*o?($s()<=et.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",Hs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lr(t))):ge.resolve())}rs(e,t){if(TE(t))return ge.resolve(null);let r=Lr(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Pm(t,null,"F"),r=Lr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=tt(...a);return this.ns.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(h=>{const m=this.cs(t,f);return this.ls(t,m,u,h.readTime)?this.rs(e,Pm(t,null,"F")):this.hs(e,m,t,h)}))})))}ss(e,t,r,o){return TE(t)||o.isEqual(We.min())?ge.resolve(null):this.ns.getDocuments(e,r).next(a=>{const u=this.cs(t,a);return this.ls(t,u,r,o)?ge.resolve(null):($s()<=et.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Hs(t)),this.hs(e,u,t,cO(o,Cl)).next(f=>f))})}cs(e,t){let r=new Bt(WT(e));return t.forEach((o,a)=>{yf(e,a)&&(r=r.add(a))}),r}ls(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}_s(e,t,r){return $s()<=et.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",Hs(t)),this.ns.getDocumentsMatchingQuery(e,t,ro.min(),r)}hs(e,t,r,o){return this.ns.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="LocalStore",BN=3e8;class zN{constructor(e,t,r,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new It(Xe),this.Is=new Zo(a=>wg(a),Tg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function $N(n,e,t,r){return new zN(n,e,t,r)}async function mb(n,e){const t=Ke(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],f=[];let h=tt();for(const m of o){u.push(m.batchId);for(const v of m.mutations)h=h.add(v.key)}for(const m of a){f.push(m.batchId);for(const v of m.mutations)h=h.add(v.key)}return t.localDocuments.getDocuments(r,h).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:f}))})})}function HN(n,e){const t=Ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,h,m,v){const y=m.batch,d=y.keys();let g=ge.resolve();return d.forEach(E=>{g=g.next(()=>v.getEntry(h,E)).next(T=>{const _=m.docVersions.get(E);ut(_!==null),T.version.compareTo(_)<0&&(y.applyToRemoteDocument(T,m),T.isValidDocument()&&(T.setReadTime(m.commitVersion),v.addEntry(T)))})}),g.next(()=>f.mutationQueue.removeMutationBatch(h,y))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let h=tt();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(h=h.add(f.batch.mutations[m].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function gb(n){const e=Ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function WN(n,e){const t=Ke(n),r=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const f=[];e.targetChanges.forEach((v,y)=>{const d=o.get(y);if(!d)return;f.push(t.Hr.removeMatchingKeys(a,v.removedDocuments,y).next(()=>t.Hr.addMatchingKeys(a,v.addedDocuments,y)));let g=d.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?g=g.withResumeToken(rn.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):v.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(v.resumeToken,r)),o=o.insert(y,g),function(T,_,w){return T.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=BN?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(d,g,v)&&f.push(t.Hr.updateTargetData(a,g))});let h=mi(),m=tt();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),f.push(KN(a,u,e.documentUpdates).next(v=>{h=v.Vs,m=v.fs})),!r.isEqual(We.min())){const v=t.Hr.getLastRemoteSnapshotVersion(a).next(y=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(v)}return ge.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,m)).next(()=>h)}).then(a=>(t.Ts=o,a))}function KN(n,e,t){let r=tt(),o=tt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=mi();return t.forEach((f,h)=>{const m=a.get(f);h.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(f)),h.isNoDocument()&&h.version.isEqual(We.min())?(e.removeEntry(f,h.readTime),u=u.insert(f,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),u=u.insert(f,h)):Re(Og,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",h.version)}),{Vs:u,fs:o}})}function GN(n,e){const t=Ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=vg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function QN(n,e){const t=Ke(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Hr.getTargetData(r,e).next(a=>a?(o=a,ge.resolve(o)):t.Hr.allocateTargetId(r).next(u=>(o=new Xi(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ts.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Lm(n,e,t){const r=Ke(n),o=r.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!pa(u))throw u;Re(Og,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(o.target)}function LE(n,e,t){const r=Ke(n);let o=We.min(),a=tt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(h,m,v){const y=Ke(h),d=y.Is.get(v);return d!==void 0?ge.resolve(y.Ts.get(d)):y.Hr.getTargetData(m,v)}(r,u,Lr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,f.targetId).next(h=>{a=h})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?o:We.min(),t?a:tt())).next(f=>(XN(r,MO(e),f),{documents:f,gs:a})))}function XN(n,e,t){let r=n.Es.get(e)||We.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Es.set(e,r)}class ME{constructor(){this.activeTargetIds=BO()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YN{constructor(){this.ho=new ME,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new ME,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="ConnectivityMonitor";class VE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Re(jE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Re(jE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec=null;function Mm(){return Ec===null?Ec=function(){return 268435456+Math.round(2147483648*Math.random())}():Ec++,"0x"+Ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="RestConnection",ZN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class e2{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${o}`,this.wo=this.databaseId.database===Hc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}So(e,t,r,o,a){const u=Mm(),f=this.bo(e,t.toUriEncodedString());Re(Id,`Sending RPC '${e}' ${u}:`,f,r);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,o,a),this.vo(e,f,h,r).then(m=>(Re(Id,`Received RPC '${e}' ${u}: `,m),m),m=>{throw ea(Id,`RPC '${e}' ${u} failed with error: `,m,"url: ",f,"request:",r),m})}Co(e,t,r,o,a,u){return this.So(e,t,r,o,a)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ha}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),r&&r.headers.forEach((o,a)=>e[a]=o)}bo(e,t){const r=ZN[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class n2 extends e2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,o){const a=Mm();return new Promise((u,f)=>{const h=new ET;h.setWithCredentials(!0),h.listenOnce(wT.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Rc.NO_ERROR:const v=h.getResponseJson();Re(cn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case Rc.TIMEOUT:Re(cn,`RPC '${e}' ${a} timed out`),f(new De(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:const y=h.getStatus();if(Re(cn,`RPC '${e}' ${a} failed with status:`,y,"response text:",h.getResponseText()),y>0){let d=h.getResponseJson();Array.isArray(d)&&(d=d[0]);const g=d==null?void 0:d.error;if(g&&g.status&&g.message){const E=function(_){const w=_.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(w)>=0?w:Ee.UNKNOWN}(g.status);f(new De(E,g.message))}else f(new De(Ee.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new De(Ee.UNAVAILABLE,"Connection failed."));break;default:qe()}}finally{Re(cn,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(o);Re(cn,`RPC '${e}' ${a} sending request:`,o),h.send(t,"POST",m,r,15)})}Wo(e,t,r){const o=Mm(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=ST(),f=bT(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const v=a.join("");Re(cn,`Creating RPC '${e}' stream ${o}: ${v}`,h);const y=u.createWebChannel(v,h);let d=!1,g=!1;const E=new t2({Fo:_=>{g?Re(cn,`Not sending because RPC '${e}' stream ${o} is closed:`,_):(d||(Re(cn,`Opening RPC '${e}' stream ${o} transport.`),y.open(),d=!0),Re(cn,`RPC '${e}' stream ${o} sending:`,_),y.send(_))},Mo:()=>y.close()}),T=(_,w,S)=>{_.listen(w,R=>{try{S(R)}catch(b){setTimeout(()=>{throw b},0)}})};return T(y,hl.EventType.OPEN,()=>{g||(Re(cn,`RPC '${e}' stream ${o} transport opened.`),E.Qo())}),T(y,hl.EventType.CLOSE,()=>{g||(g=!0,Re(cn,`RPC '${e}' stream ${o} transport closed`),E.Uo())}),T(y,hl.EventType.ERROR,_=>{g||(g=!0,ea(cn,`RPC '${e}' stream ${o} transport errored:`,_),E.Uo(new De(Ee.UNAVAILABLE,"The operation could not be completed")))}),T(y,hl.EventType.MESSAGE,_=>{var w;if(!g){const S=_.data[0];ut(!!S);const R=S,b=(R==null?void 0:R.error)||((w=R[0])===null||w===void 0?void 0:w.error);if(b){Re(cn,`RPC '${e}' stream ${o} received error:`,b);const M=b.status;let U=function(L){const O=Mt[L];if(O!==void 0)return rb(O)}(M),k=b.message;U===void 0&&(U=Ee.INTERNAL,k="Unknown error status: "+M+" with message "+b.message),g=!0,E.Uo(new De(U,k)),y.close()}else Re(cn,`RPC '${e}' stream ${o} received:`,S),E.Ko(S)}}),T(f,TT.STAT_EVENT,_=>{_.stat===Sm.PROXY?Re(cn,`RPC '${e}' stream ${o} detected buffering proxy`):_.stat===Sm.NOPROXY&&Re(cn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{E.$o()},0),E}}function Cd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(n){return new sN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=o,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-r);o>0&&Re("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="PersistentStream";class vb{constructor(e,t,r,o,a,u,f,h){this.Ti=e,this.n_=r,this.r_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new yb(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Ee.RESOURCE_EXHAUSTED?(pi(t.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.i_===t&&this.V_(r,o)},r=>{e(()=>{const o=new De(Ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(o)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{r(()=>this.m_(o))}),this.stream.onMessage(o=>{r(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Re(FE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Re(FE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class r2 extends vb{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=uN(this.serializer,e),r=function(a){if(!("targetChange"in a))return We.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?We.min():u.readTime?Mr(u.readTime):We.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Dm(this.serializer),t.addTarget=function(a,u){let f;const h=u.target;if(f=km(h)?{documents:hN(a,h)}:{query:dN(a,h).ht},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=sb(a,u.resumeToken);const m=xm(a,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo(We.min())>0){f.readTime=Yc(a,u.snapshotVersion.toTimestamp());const m=xm(a,u.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const r=mN(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Dm(this.serializer),t.removeTarget=e,this.I_(t)}}class i2 extends vb{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return ut(!!e.streamToken),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=fN(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Dm(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>cN(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{}class s2 extends o2{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new De(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.So(e,Om(t,r),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new De(Ee.UNKNOWN,a.toString())})}Co(e,t,r,o,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Co(e,Om(t,r),o,u,f,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new De(Ee.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class a2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(pi(t),this.N_=!1):Re("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo="RemoteStore";class l2{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(u=>{r.enqueueAndForget(async()=>{es(this)&&(Re(Xo,"Restarting streams for network reachability change."),await async function(h){const m=Ke(h);m.W_.add(4),await Wl(m),m.j_.set("Unknown"),m.W_.delete(4),await Tf(m)}(this))})}),this.j_=new a2(r,o)}}async function Tf(n){if(es(n))for(const e of n.G_)await e(!0)}async function Wl(n){for(const e of n.G_)await e(!1)}function _b(n,e){const t=Ke(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Mg(t)?Lg(t):ma(t).c_()&&Dg(t,e))}function Ng(n,e){const t=Ke(n),r=ma(t);t.K_.delete(e),r.c_()&&Eb(t,e),t.K_.size===0&&(r.c_()?r.P_():es(t)&&t.j_.set("Unknown"))}function Dg(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ma(n).y_(e)}function Eb(n,e){n.H_.Ne(e),ma(n).w_(e)}function Lg(n){n.H_=new nN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),ma(n).start(),n.j_.B_()}function Mg(n){return es(n)&&!ma(n).u_()&&n.K_.size>0}function es(n){return Ke(n).W_.size===0}function wb(n){n.H_=void 0}async function u2(n){n.j_.set("Online")}async function c2(n){n.K_.forEach((e,t)=>{Dg(n,e)})}async function f2(n,e){wb(n),Mg(n)?(n.j_.q_(e),Lg(n)):n.j_.set("Unknown")}async function h2(n,e,t){if(n.j_.set("Online"),e instanceof ob&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const f of a.targetIds)o.K_.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.K_.delete(f),o.H_.removeTarget(f))}(n,e)}catch(r){Re(Xo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zc(n,r)}else if(e instanceof Oc?n.H_.We(e):e instanceof ib?n.H_.Ze(e):n.H_.je(e),!t.isEqual(We.min()))try{const r=await gb(n.localStore);t.compareTo(r)>=0&&await function(a,u){const f=a.H_.ot(u);return f.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const v=a.K_.get(m);v&&a.K_.set(m,v.withResumeToken(h.resumeToken,u))}}),f.targetMismatches.forEach((h,m)=>{const v=a.K_.get(h);if(!v)return;a.K_.set(h,v.withResumeToken(rn.EMPTY_BYTE_STRING,v.snapshotVersion)),Eb(a,h);const y=new Xi(v.target,h,m,v.sequenceNumber);Dg(a,y)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(r){Re(Xo,"Failed to raise snapshot:",r),await Zc(n,r)}}async function Zc(n,e,t){if(!pa(e))throw e;n.W_.add(1),await Wl(n),n.j_.set("Offline"),t||(t=()=>gb(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Re(Xo,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Tf(n)})}function Tb(n,e){return e().catch(t=>Zc(n,t,e))}async function bf(n){const e=Ke(n),t=ao(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:vg;for(;d2(e);)try{const o=await GN(e.localStore,r);if(o===null){e.U_.length===0&&t.P_();break}r=o.batchId,p2(e,o)}catch(o){await Zc(e,o)}bb(e)&&Sb(e)}function d2(n){return es(n)&&n.U_.length<10}function p2(n,e){n.U_.push(e);const t=ao(n);t.c_()&&t.S_&&t.b_(e.mutations)}function bb(n){return es(n)&&!ao(n).u_()&&n.U_.length>0}function Sb(n){ao(n).start()}async function m2(n){ao(n).C_()}async function g2(n){const e=ao(n);for(const t of n.U_)e.b_(t.mutations)}async function y2(n,e,t){const r=n.U_.shift(),o=Ig.from(r,e,t);await Tb(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await bf(n)}async function v2(n,e){e&&ao(n).S_&&await async function(r,o){if(function(u){return eN(u)&&u!==Ee.ABORTED}(o.code)){const a=r.U_.shift();ao(r).h_(),await Tb(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await bf(r)}}(n,e),bb(n)&&Sb(n)}async function UE(n,e){const t=Ke(n);t.asyncQueue.verifyOperationInProgress(),Re(Xo,"RemoteStore received new credentials");const r=es(t);t.W_.add(3),await Wl(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Tf(t)}async function _2(n,e){const t=Ke(n);e?(t.W_.delete(2),await Tf(t)):e||(t.W_.add(2),await Wl(t),t.j_.set("Unknown"))}function ma(n){return n.J_||(n.J_=function(t,r,o){const a=Ke(t);return a.M_(),new r2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:u2.bind(null,n),No:c2.bind(null,n),Lo:f2.bind(null,n),p_:h2.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Mg(n)?Lg(n):n.j_.set("Unknown")):(await n.J_.stop(),wb(n))})),n.J_}function ao(n){return n.Y_||(n.Y_=function(t,r,o){const a=Ke(t);return a.M_(),new i2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:m2.bind(null,n),Lo:v2.bind(null,n),D_:g2.bind(null,n),v_:y2.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await bf(n)):(await n.Y_.stop(),n.U_.length>0&&(Re(Xo,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,f=new jg(e,t,u,o,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vg(n,e){if(pi("AsyncQueue",`${e}: ${n}`),pa(n))return new De(Ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{static emptySet(e){return new Js(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Fe.comparator(t.key,r.key):(t,r)=>Fe.comparator(t.key,r.key),this.keyedMap=dl(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Js)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Js;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this.Z_=new It(Fe.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):qe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class oa{constructor(e,t,r,o,a,u,f,h,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new oa(e,t,Js.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class w2{constructor(){this.queries=BE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const o=Ke(t),a=o.queries;o.queries=BE(),a.forEach((u,f)=>{for(const h of f.ta)h.onError(r)})})(this,new De(Ee.ABORTED,"Firestore shutting down"))}}function BE(){return new Zo(n=>HT(n),gf)}async function Ab(n,e){const t=Ke(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.na()&&e.ra()&&(r=2):(a=new E2,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await t.onListen(o,!0);break;case 1:a.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const f=Vg(u,`Initialization of query '${Hs(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&Fg(t)}async function Ib(n,e){const t=Ke(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.ta.indexOf(e);u>=0&&(a.ta.splice(u,1),a.ta.length===0?o=e.ra()?0:1:!a.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function T2(n,e){const t=Ke(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const f of u.ta)f.oa(o)&&(r=!0);u.ea=o}}r&&Fg(t)}function b2(n,e,t){const r=Ke(n),o=r.queries.get(e);if(o)for(const a of o.ta)a.onError(t);r.queries.delete(e)}function Fg(n){n.ia.forEach(e=>{e.next()})}var jm,zE;(zE=jm||(jm={}))._a="default",zE.Cache="cache";class Cb{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new oa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=oa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==jm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.key=e}}class kb{constructor(e){this.key=e}}class S2{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=tt(),this.mutatedKeys=tt(),this.ya=WT(e),this.wa=new Js(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new qE,o=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,f=!1;const h=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,y)=>{const d=o.get(v),g=yf(this.query,y)?y:null,E=!!d&&this.mutatedKeys.has(d.key),T=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;d&&g?d.data.isEqual(g.data)?E!==T&&(r.track({type:3,doc:g}),_=!0):this.va(d,g)||(r.track({type:2,doc:g}),_=!0,(h&&this.ya(g,h)>0||m&&this.ya(g,m)<0)&&(f=!0)):!d&&g?(r.track({type:0,doc:g}),_=!0):d&&!g&&(r.track({type:1,doc:d}),_=!0,(h||m)&&(f=!0)),_&&(g?(u=u.add(g),a=T?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{wa:u,Da:r,ls:f,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((v,y)=>function(g,E){const T=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe()}};return T(g)-T(E)}(v.type,y.type)||this.ya(v.doc,y.doc)),this.Ca(r),o=o!=null&&o;const f=t&&!o?this.Fa():[],h=this.pa.size===0&&this.current&&!o?1:0,m=h!==this.ga;return this.ga=h,u.length!==0||m?{snapshot:new oa(this.query,e.wa,a,u,e.mutatedKeys,h===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new qE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=tt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new kb(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new Rb(r))}),t}Oa(e){this.fa=e.gs,this.pa=tt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return oa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ug="SyncEngine";class A2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class I2{constructor(e){this.key=e,this.Ba=!1}}class C2{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Zo(f=>HT(f),gf),this.qa=new Map,this.Qa=new Set,this.$a=new It(Fe.comparator),this.Ua=new Map,this.Ka=new kg,this.Wa={},this.Ga=new Map,this.za=ia.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function R2(n,e,t=!0){const r=Lb(n);let o;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Na()):o=await Pb(r,e,t,!0),o}async function k2(n,e){const t=Lb(n);await Pb(t,e,!0,!1)}async function Pb(n,e,t,r){const o=await QN(n.localStore,Lr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let f;return r&&(f=await P2(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&_b(n.remoteStore,o),f}async function P2(n,e,t,r,o){n.Ha=(y,d,g)=>async function(T,_,w,S){let R=_.view.ba(w);R.ls&&(R=await LE(T.localStore,_.query,!1).then(({documents:k})=>_.view.ba(k,R)));const b=S&&S.targetChanges.get(_.targetId),M=S&&S.targetMismatches.get(_.targetId)!=null,U=_.view.applyChanges(R,T.isPrimaryClient,b,M);return HE(T,_.targetId,U.Ma),U.snapshot}(n,y,d,g);const a=await LE(n.localStore,e,!0),u=new S2(e,a.gs),f=u.ba(a.documents),h=Hl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=u.applyChanges(f,n.isPrimaryClient,h);HE(n,t,m.Ma);const v=new A2(e,t,u);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),m.snapshot}async function x2(n,e,t){const r=Ke(n),o=r.ka.get(e),a=r.qa.get(o.targetId);if(a.length>1)return r.qa.set(o.targetId,a.filter(u=>!gf(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Lm(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Ng(r.remoteStore,o.targetId),Vm(r,o.targetId)}).catch(da)):(Vm(r,o.targetId),await Lm(r.localStore,o.targetId,!0))}async function O2(n,e){const t=Ke(n),r=t.ka.get(e),o=t.qa.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ng(t.remoteStore,r.targetId))}async function N2(n,e,t){const r=U2(n);try{const o=await function(u,f){const h=Ke(u),m=qt.now(),v=f.reduce((g,E)=>g.add(E.key),tt());let y,d;return h.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=mi(),T=tt();return h.ds.getEntries(g,v).next(_=>{E=_,E.forEach((w,S)=>{S.isValidDocument()||(T=T.add(w))})}).next(()=>h.localDocuments.getOverlayedDocuments(g,E)).next(_=>{y=_;const w=[];for(const S of f){const R=QO(S,y.get(S.key).overlayedDocument);R!=null&&w.push(new fo(S.key,R,VT(R.value.mapValue),mr.exists(!0)))}return h.mutationQueue.addMutationBatch(g,m,w,f)}).next(_=>{d=_;const w=_.applyToLocalDocumentSet(y,T);return h.documentOverlayCache.saveOverlays(g,_.batchId,w)})}).then(()=>({batchId:d.batchId,changes:GT(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,f,h){let m=u.Wa[u.currentUser.toKey()];m||(m=new It(Xe)),m=m.insert(f,h),u.Wa[u.currentUser.toKey()]=m}(r,o.batchId,t),await Kl(r,o.changes),await bf(r.remoteStore)}catch(o){const a=Vg(o,"Failed to persist write");t.reject(a)}}async function xb(n,e){const t=Ke(n);try{const r=await WN(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Ua.get(a);u&&(ut(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Ba=!0:o.modifiedDocuments.size>0?ut(u.Ba):o.removedDocuments.size>0&&(ut(u.Ba),u.Ba=!1))}),await Kl(t,r,e)}catch(r){await da(r)}}function $E(n,e,t){const r=Ke(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.ka.forEach((a,u)=>{const f=u.view.sa(e);f.snapshot&&o.push(f.snapshot)}),function(u,f){const h=Ke(u);h.onlineState=f;let m=!1;h.queries.forEach((v,y)=>{for(const d of y.ta)d.sa(f)&&(m=!0)}),m&&Fg(h)}(r.eventManager,e),o.length&&r.La.p_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function D2(n,e,t){const r=Ke(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Ua.get(e),a=o&&o.key;if(a){let u=new It(Fe.comparator);u=u.insert(a,hn.newNoDocument(a,We.min()));const f=tt().add(a),h=new Ef(We.min(),new Map,new It(Xe),u,f);await xb(r,h),r.$a=r.$a.remove(a),r.Ua.delete(e),qg(r)}else await Lm(r.localStore,e,!1).then(()=>Vm(r,e,t)).catch(da)}async function L2(n,e){const t=Ke(n),r=e.batch.batchId;try{const o=await HN(t.localStore,e);Nb(t,r,null),Ob(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Kl(t,o)}catch(o){await da(o)}}async function M2(n,e,t){const r=Ke(n);try{const o=await function(u,f){const h=Ke(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return h.mutationQueue.lookupMutationBatch(m,f).next(y=>(ut(y!==null),v=y.keys(),h.mutationQueue.removeMutationBatch(m,y))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,v,f)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>h.localDocuments.getDocuments(m,v))})}(r.localStore,e);Nb(r,e,t),Ob(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Kl(r,o)}catch(o){await da(o)}}function Ob(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function Nb(n,e,t){const r=Ke(n);let o=r.Wa[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Wa[r.currentUser.toKey()]=o}}function Vm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||Db(n,r)})}function Db(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Ng(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),qg(n))}function HE(n,e,t){for(const r of t)r instanceof Rb?(n.Ka.addReference(r.key,e),j2(n,r)):r instanceof kb?(Re(Ug,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||Db(n,r.key)):qe()}function j2(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(Re(Ug,"New document in limbo: "+t),n.Qa.add(r),qg(n))}function qg(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Fe(Tt.fromString(e)),r=n.za.next();n.Ua.set(r,new I2(t)),n.$a=n.$a.insert(t,r),_b(n.remoteStore,new Xi(Lr(bg(t.path)),r,"TargetPurposeLimboResolution",hf.ae))}}async function Kl(n,e,t){const r=Ke(n),o=[],a=[],u=[];r.ka.isEmpty()||(r.ka.forEach((f,h)=>{u.push(r.Ha(h,e,t).then(m=>{var v;if((m||t)&&r.isPrimaryClient){const y=m?!m.fromCache:(v=t==null?void 0:t.targetChanges.get(h.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(m){o.push(m);const y=xg.Yi(h.targetId,m);a.push(y)}}))}),await Promise.all(u),r.La.p_(o),await async function(h,m){const v=Ke(h);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>ge.forEach(m,d=>ge.forEach(d.Hi,g=>v.persistence.referenceDelegate.addReference(y,d.targetId,g)).next(()=>ge.forEach(d.Ji,g=>v.persistence.referenceDelegate.removeReference(y,d.targetId,g)))))}catch(y){if(!pa(y))throw y;Re(Og,"Failed to update sequence numbers: "+y)}for(const y of m){const d=y.targetId;if(!y.fromCache){const g=v.Ts.get(d),E=g.snapshotVersion,T=g.withLastLimboFreeSnapshotVersion(E);v.Ts=v.Ts.insert(d,T)}}}(r.localStore,a))}async function V2(n,e){const t=Ke(n);if(!t.currentUser.isEqual(e)){Re(Ug,"User change. New user:",e.toKey());const r=await mb(t.localStore,e);t.currentUser=e,function(a,u){a.Ga.forEach(f=>{f.forEach(h=>{h.reject(new De(Ee.CANCELLED,u))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Kl(t,r.Rs)}}function F2(n,e){const t=Ke(n),r=t.Ua.get(e);if(r&&r.Ba)return tt().add(r.key);{let o=tt();const a=t.qa.get(e);if(!a)return o;for(const u of a){const f=t.ka.get(u);o=o.unionWith(f.view.Sa)}return o}}function Lb(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=F2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D2.bind(null,e),e.La.p_=T2.bind(null,e.eventManager),e.La.Ja=b2.bind(null,e.eventManager),e}function U2(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M2.bind(null,e),e}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return $N(this.persistence,new qN,e.initialUser,this.serializer)}Xa(e){return new pb(Pg.ri,this.serializer)}Za(e){return new YN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class q2 extends ef{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){ut(this.persistence.referenceDelegate instanceof Jc);const r=this.persistence.referenceDelegate.garbageCollector;return new IN(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new pb(r=>Jc.ri(r,t),this.serializer)}}class Fm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$E(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=V2.bind(null,this.syncEngine),await _2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new w2}()}createDatastore(e){const t=wf(e.databaseInfo.databaseId),r=function(a){return new n2(a)}(e.databaseInfo);return function(a,u,f,h){return new s2(a,u,f,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,a,u,f){return new l2(r,o,a,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>$E(this.syncEngine,t,0),function(){return VE.D()?new VE:new JN}())}createSyncEngine(e,t){return function(o,a,u,f,h,m,v){const y=new C2(o,a,u,f,h,m);return v&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Ke(o);Re(Xo,"RemoteStore shutting down."),a.W_.add(5),await Wl(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Fm.provider={build:()=>new Fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="FirestoreClient";class B2{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=fn.UNAUTHENTICATED,this.clientId=CT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{Re(lo,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Re(lo,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Vg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Rd(n,e){n.asyncQueue.verifyOperationInProgress(),Re(lo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await mb(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function WE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await z2(n);Re(lo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>UE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>UE(e.remoteStore,o)),n._onlineComponents=e}async function z2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Re(lo,"Using user provided OfflineComponentProvider");try{await Rd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Ee.FAILED_PRECONDITION||o.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ea("Error using user provided cache. Falling back to memory cache: "+t),await Rd(n,new ef)}}else Re(lo,"Using default OfflineComponentProvider"),await Rd(n,new q2(void 0));return n._offlineComponents}async function jb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Re(lo,"Using user provided OnlineComponentProvider"),await WE(n,n._uninitializedComponentsProvider._online)):(Re(lo,"Using default OnlineComponentProvider"),await WE(n,new Fm))),n._onlineComponents}function $2(n){return jb(n).then(e=>e.syncEngine)}async function Vb(n){const e=await jb(n),t=e.eventManager;return t.onListen=R2.bind(null,e.syncEngine),t.onUnlisten=x2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=k2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=O2.bind(null,e.syncEngine),t}function H2(n,e,t={}){const r=new ci;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,h,m){const v=new Mb({next:d=>{v.su(),u.enqueueAndForget(()=>Ib(a,y));const g=d.docs.has(f);!g&&d.fromCache?m.reject(new De(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&d.fromCache&&h&&h.source==="server"?m.reject(new De(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(d)},error:d=>m.reject(d)}),y=new Cb(bg(f.path),v,{includeMetadataChanges:!0,Ta:!0});return Ab(a,y)}(await Vb(n),n.asyncQueue,e,t,r)),r.promise}function W2(n,e,t={}){const r=new ci;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,h,m){const v=new Mb({next:d=>{v.su(),u.enqueueAndForget(()=>Ib(a,y)),d.fromCache&&h.source==="server"?m.reject(new De(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(d)},error:d=>m.reject(d)}),y=new Cb(f,v,{includeMetadataChanges:!0,Ta:!0});return Ab(a,y)}(await Vb(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(n,e,t){if(!t)throw new De(Ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function K2(n,e,t,r){if(e===!0&&r===!0)throw new De(Ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function GE(n){if(!Fe.isDocumentKey(n))throw new De(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function QE(n){if(Fe.isDocumentKey(n))throw new De(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Bg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":qe()}function gi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new De(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Bg(n);throw new De(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="firestore.googleapis.com",XE=!0;class YE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new De(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qb,this.ssl=XE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:XE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=db;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SN)throw new De(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new De(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new De(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new De(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sf{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tO;switch(r.type){case"firstParty":return new oO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new De(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=KE.get(t);r&&(Re("ComponentProvider","Removing Datastore"),KE.delete(t),r.terminate())}(this),Promise.resolve()}}function G2(n,e,t,r={}){var o;const a=(n=gi(n,Sf))._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;a.host!==qb&&a.host!==f&&ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:f,ssl:!1,emulatorOptions:r});if(!Ho(h,u)&&(n._setSettings(h),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=fn.MOCK_USER;else{m=m0(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new De(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new fn(y)}n._authCredentials=new nO(new AT(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Af(this.firestore,e,this._query)}}class Fn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fn(this.firestore,e,this._key)}}class eo extends Af{constructor(e,t,r){super(e,t,bg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fn(this.firestore,null,new Fe(e))}withConverter(e){return new eo(this.firestore,e,this._path)}}function Gl(n,e,...t){if(n=Qt(n),Ub("collection","path",e),n instanceof Sf){const r=Tt.fromString(e,...t);return QE(r),new eo(n,null,r)}{if(!(n instanceof Fn||n instanceof eo))throw new De(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tt.fromString(e,...t));return QE(r),new eo(n.firestore,null,r)}}function Ql(n,e,...t){if(n=Qt(n),arguments.length===1&&(e=CT.newId()),Ub("doc","path",e),n instanceof Sf){const r=Tt.fromString(e,...t);return GE(r),new Fn(n,null,new Fe(r))}{if(!(n instanceof Fn||n instanceof eo))throw new De(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tt.fromString(e,...t));return GE(r),new Fn(n.firestore,n instanceof eo?n.converter:null,new Fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="AsyncQueue";class ZE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new yb(this,"async_queue_retry"),this.Su=()=>{const r=Cd();r&&Re(JE,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=Cd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Cd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ci;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!pa(e))throw e;Re(JE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const o=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(r);throw pi("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=jg.createAndSchedule(this,e,t,r,a=>this.Fu(a));return this.fu.push(o),o}Du(){this.gu&&qe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class ga extends Sf{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new ZE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ZE(e),this._firestoreClient=void 0,await e}}}function Q2(n,e){const t=typeof n=="object"?n:eg(),r=typeof n=="string"?n:Hc,o=lf(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=h0("firestore");a&&G2(o,...a)}return o}function zg(n){if(n._terminated)throw new De(Ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||X2(n),n._firestoreClient}function X2(n){var e,t,r;const o=n._freezeSettings(),a=function(f,h,m,v){return new EO(f,h,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Fb(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new B2(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(f){const h=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sa(rn.fromBase64String(e))}catch(t){throw new De(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new sa(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new De(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new De(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new De(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=/^__.*__$/;class J2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new fo(e,this.data,this.fieldMask,t,this.fieldTransforms):new $l(e,this.data,t,this.fieldTransforms)}}class Bb{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new fo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe()}}class Kg{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Kg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:r,Qu:!1});return o.$u(e),o}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:r,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return tf(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(zb(this.Lu)&&Y2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Z2{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||wf(e)}ju(e,t,r,o=!1){return new Kg({Lu:e,methodName:t,zu:r,path:nn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $b(n){const e=n._freezeSettings(),t=wf(n._databaseId);return new Z2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function eD(n,e,t,r,o,a={}){const u=n.ju(a.merge||a.mergeFields?2:0,e,t,o);Gg("Data must be an object, but it was:",u,r);const f=Hb(r,u);let h,m;if(a.merge)h=new Vn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const y of a.mergeFields){const d=Um(e,y,t);if(!u.contains(d))throw new De(Ee.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Kb(v,d)||v.push(d)}h=new Vn(v),m=u.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,m=u.fieldTransforms;return new J2(new kn(f),h,m)}class Cf extends $g{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cf}}function tD(n,e,t,r){const o=n.ju(1,e,t);Gg("Data must be an object, but it was:",o,r);const a=[],u=kn.empty();co(r,(h,m)=>{const v=Qg(e,h,t);m=Qt(m);const y=o.Uu(v);if(m instanceof Cf)a.push(v);else{const d=Rf(m,y);d!=null&&(a.push(v),u.set(v,d))}});const f=new Vn(a);return new Bb(u,f,o.fieldTransforms)}function nD(n,e,t,r,o,a){const u=n.ju(1,e,t),f=[Um(e,r,t)],h=[o];if(a.length%2!=0)throw new De(Ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<a.length;d+=2)f.push(Um(e,a[d])),h.push(a[d+1]);const m=[],v=kn.empty();for(let d=f.length-1;d>=0;--d)if(!Kb(m,f[d])){const g=f[d];let E=h[d];E=Qt(E);const T=u.Uu(g);if(E instanceof Cf)m.push(g);else{const _=Rf(E,T);_!=null&&(m.push(g),v.set(g,_))}}const y=new Vn(m);return new Bb(v,y,u.fieldTransforms)}function Rf(n,e){if(Wb(n=Qt(n)))return Gg("Unsupported field value:",e,n),Hb(n,e);if(n instanceof $g)return function(r,o){if(!zb(o.Lu))throw o.Wu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,o){const a=[];let u=0;for(const f of r){let h=Rf(f,o.Ku(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,o){if((r=Qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zO(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=qt.fromDate(r);return{timestampValue:Yc(o.serializer,a)}}if(r instanceof qt){const a=new qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yc(o.serializer,a)}}if(r instanceof Hg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof sa)return{bytesValue:sb(o.serializer,r._byteString)};if(r instanceof Fn){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Rg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Wg)return function(u,f){return{mapValue:{fields:{[LT]:{stringValue:jT},[Wc]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw f.Wu("VectorValues must only contain numeric values.");return Sg(f.serializer,m)})}}}}}}(r,o);throw o.Wu(`Unsupported field value: ${Bg(r)}`)}(n,e)}function Hb(n,e){const t={};return kT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):co(n,(r,o)=>{const a=Rf(o,e.qu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function Wb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof qt||n instanceof Hg||n instanceof sa||n instanceof Fn||n instanceof $g||n instanceof Wg)}function Gg(n,e,t){if(!Wb(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const r=Bg(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function Um(n,e,t){if((e=Qt(e))instanceof If)return e._internalPath;if(typeof e=="string")return Qg(n,e);throw tf("Field path arguments must be of type string or ",n,!1,void 0,t)}const rD=new RegExp("[~\\*/\\[\\]]");function Qg(n,e,t){if(e.search(rD)>=0)throw tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new If(...e.split("."))._internalPath}catch{throw tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tf(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${r}`),u&&(h+=` in document ${o}`),h+=")"),new De(Ee.INVALID_ARGUMENT,f+n+h)}function Kb(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class iD extends Gb{data(){return super.data()}}function Qb(n,e){return typeof e=="string"?Qg(n,e):e instanceof If?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new De(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sD{convertValue(e,t="none"){switch(so(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw qe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return co(e,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,o;const a=(o=(r=(t=e.fields)===null||t===void 0?void 0:t[Wc].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(u=>xt(u.doubleValue));return new Wg(a)}convertGeoPoint(e){return new Hg(xt(e.latitude),xt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=pf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Rl(e));default:return null}}convertTimestamp(e){const t=io(e);return new qt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Tt.fromString(e);ut(hb(r));const o=new kl(r.get(1),r.get(3)),a=new Fe(r.popFirst(5));return o.isEqual(t)||pi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xb extends Gb{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Qb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Nc extends Xb{data(e={}){return super.data(e)}}class lD{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ml(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Nc(this._firestore,this._userDataWriter,r.key,r,new ml(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new De(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(f=>{const h=new Nc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ml(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const h=new Nc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ml(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return f.type!==0&&(m=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:uD(f.type),doc:h,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function uD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(n){n=gi(n,Fn);const e=gi(n.firestore,ga);return H2(zg(e),n._key).then(t=>hD(e,n,t))}class Yb extends sD{constructor(e){super(),this.firestore=e}convertBytes(e){return new sa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fn(this.firestore,null,t)}}function Xg(n){n=gi(n,Af);const e=gi(n.firestore,ga),t=zg(e),r=new Yb(e);return oD(n._query),W2(t,n._query).then(o=>new lD(e,r,n,o))}function Jb(n,e,t,...r){n=gi(n,Fn);const o=gi(n.firestore,ga),a=$b(o);let u;return u=typeof(e=Qt(e))=="string"||e instanceof If?nD(a,"updateDoc",n._key,e,t,r):tD(a,"updateDoc",n._key,e),Yg(o,[u.toMutation(n._key,mr.exists(!0))])}function fD(n){return Yg(gi(n.firestore,ga),[new Ag(n._key,mr.none())])}function Zb(n,e){const t=gi(n.firestore,ga),r=Ql(n),o=aD(n.converter,e);return Yg(t,[eD($b(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,mr.exists(!1))]).then(()=>r)}function Yg(n,e){return function(r,o){const a=new ci;return r.asyncQueue.enqueueAndForget(async()=>N2(await $2(r),o,a)),a.promise}(zg(n),e)}function hD(n,e,t){const r=t.docs.get(e._key),o=new Yb(n);return new Xb(n,o,e._key,r,new ml(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){ha=o})(Jo),Wo(new no("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),f=new ga(new rO(r.getProvider("auth-internal")),new sO(u,r.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new De(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(m.options.projectId,v)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),Or(oE,sE,e),Or(oE,sE,"esm2017")})();const yi=Q2(gg);async function Nl(n){const e=Gl(yi,n),t=await Xg(e);let r=[];return t.forEach(o=>{r.push({...o.data(),id:o.id})}),r}async function eS(n,e){const t=Gl(yi,n);return(await Zb(t,e)).id}async function tS(n,e,t){const r=Ql(yi,n,e);return await Jb(r,t),`Document with ID ${e} updated successfully.`}async function nS(n,e){const t=Ql(yi,n,e),r=await cD(t);if(r.exists())return{...r.data(),id:r.id};throw new Error(`No document found with ID ${e} in collection ${n}`)}async function Jg(n,e,t){const r=Gl(yi,n),o=await Xg(r);let a=null;if(o.forEach(u=>{u.data()[e]===t&&(a={...u.data(),id:u.id})}),a)return a;throw new Error(`No document found in collection ${n} with ${e} equal to ${t}`)}async function dD(n,e){const t=Ql(yi,n,e);return await fD(t),`Document with ID ${e} deleted successfully from collection ${n}.`}async function pD(n,e,t,r){const o=Gl(yi,n),a=await Xg(o);let u=null;if(a.forEach(f=>{f.data()[e]===t&&(u=f.id)}),u){const f=Ql(yi,n,u);return await Jb(f,r),`Document with ${e} equal to ${t} updated successfully.`}else throw new Error(`No document found in collection ${n} with ${e} equal to ${t}`)}async function mD(n){const e="customer",t=await Nl(e);for(const r of t)JSON.stringify(r.productIds)!==JSON.stringify(n)&&await tS(e,r.id,{productIds:n});return"Customer productIds synchronized successfully."}const gD=(n,e,t,r)=>new Promise((o,a)=>{if(!n)return a("Nenhum arquivo selecionado.");const u=`dishes/${n.name}`,f=Gx(eO,u),h=Wx(f,n);h.on("state_changed",m=>{const v=m.bytesTransferred/m.totalBytes*100;e(v)},m=>{console.error(m),a(m)},async()=>{try{const m=await Kx(h.snapshot.ref);t(m),r(v=>({...v,images:[...v.images||[],m]})),o(m)}catch(m){a(m)}})}),yD=async(n,e)=>{try{await Zb(Gl(yi,"mail"),{to:n,message:{subject:"Confirmação do produto no site Dragon Computadores",text:`O seu produto foi confirmado e está disponível no site Dragon Computadores. O ID do produto é ${e}.`}}),console.log("Email adicionado à fila com sucesso!")}catch(t){console.error("Erro ao adicionar email na fila:",t)}};var kd={exports:{}},Pd,e1;function vD(){if(e1)return Pd;e1=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Pd=n,Pd}var xd,t1;function _D(){if(t1)return xd;t1=1;var n=vD();function e(){}function t(){}return t.resetWarningCache=e,xd=function(){function r(u,f,h,m,v,y){if(y!==n){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}r.isRequired=r;function o(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},xd}var n1;function ED(){return n1||(n1=1,kd.exports=_D()()),kd.exports}var wD=ED();const Ne=Wm(wD),TD="_containerGlobal_1uyop_1",bD="_searchField_1uyop_6",SD="_containerFilteredProducts_1uyop_22",AD="_formGroup_1uyop_30",ID="_sortByPrice_1uyop_37",zi={containerGlobal:TD,searchField:bD,containerFilteredProducts:SD,formGroup:AD,sortByPrice:ID},rS=({filteredProducts:n,sortByPrice:e,filterByIdProduct:t})=>{const[r,o]=Le.useState({title:"",price:"",processorBrand:"",graphicsCardBrand:""}),a=u=>{const{id:f,value:h}=u.target;o({title:"",price:"",processorBrand:"",graphicsCardBrand:"",[f]:h}),n(f,h)};return V.jsxs("div",{className:zi.containerGlobal,children:[V.jsx("div",{className:zi.searchField,children:V.jsx("input",{type:"text",placeholder:"Busque o produto pelo id",onChange:u=>t(u.target.value)})}),V.jsxs("div",{className:zi.containerFilteredProducts,children:[V.jsxs("div",{className:zi.formGroup,children:[V.jsx("label",{htmlFor:"graphicsCardBrand",children:"Marca da Placa de vídeo:"}),V.jsxs("select",{id:"graphicsCardBrand",value:r.graphicsCardBrand,onChange:a,children:[V.jsx("option",{value:"",children:"Selecione sua opção"}),V.jsx("option",{value:"AMD",children:"AMD"}),V.jsx("option",{value:"Arc",children:"Arc"}),V.jsx("option",{value:"NVIDEA",children:"Nvidea"})]})]}),V.jsxs("div",{className:zi.formGroup,children:[V.jsx("label",{htmlFor:"title",children:"Título/Aplicação:"}),V.jsxs("select",{id:"title",value:r.title,onChange:a,children:[V.jsx("option",{value:"",children:"Selecione sua opção"}),V.jsx("option",{value:"Gamer",children:"Gamer"}),V.jsx("option",{value:"Escritório",children:"Escritório"}),V.jsx("option",{value:"Render",children:"Render"}),V.jsx("option",{value:"Doméstico",children:"Doméstico"}),V.jsx("option",{value:"Edição de Video",children:"Edição de Video"})]})]}),V.jsxs("div",{className:zi.formGroup,children:[V.jsx("label",{htmlFor:"processorBrand",children:"Marca do Processador:"}),V.jsxs("select",{id:"processorBrand",value:r.processorBrand,onChange:a,children:[V.jsx("option",{value:"",children:"Selecione sua opção"}),V.jsx("option",{value:"AMD",children:"AMD"}),V.jsx("option",{value:"Intel",children:"Intel"})]})]}),V.jsx("div",{className:zi.formGroup,children:V.jsx("button",{className:zi.sortByPrice,onClick:e,children:"Selecione do menor para o maior preço"})})]})]})};rS.propTypes={filteredProducts:Ne.func.isRequired,sortByPrice:Ne.func.isRequired,filterByIdProduct:Ne.func.isRequired};const r1=()=>{const[n,e]=he.useState([]),[t,r]=he.useState([]),o=Yo(),{login:a}=he.useContext(Br),[u,f]=he.useState(!1);he.useEffect(()=>{h()},[]),he.useEffect(()=>{h()},[a]);const h=async()=>{const g=await Nl("products");if(g&&g.length>0)if(a)r(g),e(g);else{const E=g.filter(T=>T.adApproved===!0);e(E),r(E);return}},m=async(g,E)=>{if(E===""){r(n);return}const T=n.filter(_=>_[g]===E);r(T)},v=g=>{console.log("Qual é oproduto   ",g),o(`/singleProduct/${g}`)},y=g=>{const E=[...t].sort((T,_)=>g==="asc"?_.price-T.price:T.price-_.price);console.log("Produtos ordenados",E),r(E)},d=g=>{g!==""?n.filter(E=>{E.id===g&&r([E])}):r(n)};return V.jsxs("div",{className:Cr.showcaseContainer,children:[V.jsx("h1",{children:"Vitrine "}),V.jsx("div",{children:V.jsx("p",{onClick:()=>f(g=>!g),children:"Busca"})}),u&&V.jsx(rS,{filteredProducts:m,sortByPrice:y,filterByIdProduct:d}),V.jsx("div",{className:Cr.scrollContainer,children:t.length>0?V.jsx("div",{className:Cr.productsGrid,children:t.map((g,E)=>V.jsxs("div",{className:`${Cr.productCard} ${g.adApproved===!1?Cr.cardNotAvaiable:""} ${Cr.hoverEffect}`,onClick:()=>v(g.id),children:[V.jsx("div",{className:Cr.imageContainer,children:V.jsx("img",{src:g.images[0],alt:`Produto ${E+1}`,className:Cr.productImage})}),V.jsx("h3",{className:Cr.title,children:g.title}),V.jsxs("h3",{className:Cr.price,children:["R$ ",g.price,",00"]})]},E))}):V.jsx("p",{children:"Nenhum produto encontrado no localStorage."})})]})},CD="_productFormContainer_1dzbh_3",RD="_formContainer_1dzbh_3",kD="_formRow_1dzbh_8",PD="_formGroup_1dzbh_11",xD="_formTextareaColumn_1dzbh_15",OD="_textareaColumn_1dzbh_18",ND="_linkAddImgContainer_1dzbh_22",DD="_linkField_1dzbh_26",LD="_btn_1dzbh_26",MD="_containerImages_1dzbh_30",jD="_btnContainer_1dzbh_33",VD="_imagePreview_1dzbh_62",FD="_textField_1dzbh_97",UD="_imageItem_1dzbh_156",Ze={productFormContainer:CD,formContainer:RD,formRow:kD,formGroup:PD,formTextareaColumn:xD,textareaColumn:OD,linkAddImgContainer:ND,linkField:DD,btn:LD,containerImages:MD,btnContainer:jD,imagePreview:VD,textField:FD,imageItem:UD},qD="_container_if0ca_1",BD="_geralContainerConfirmMessage_if0ca_18",zD="_containerBtn_if0ca_24",$D="_containerCpf_if0ca_31",HD="_submitCpfBtn_if0ca_40",WD="_register_if0ca_67",Pr={container:qD,geralContainerConfirmMessage:BD,containerBtn:zD,containerCpf:$D,submitCpfBtn:HD,register:WD},qm=({setCloseMessage:n,defaultMessage:e,goOn:t})=>V.jsx("div",{className:Pr.container,children:V.jsxs("div",{className:Pr.geralContainerConfirmMessage,children:[V.jsxs("div",{children:[" ",V.jsx("h1",{children:e})]}),V.jsxs("div",{className:Pr.containerBtn,children:[V.jsx("button",{onClick:t,children:"Sim"}),V.jsx("button",{onClick:()=>n(!1),children:"Não"})]})]})});qm.propTypes={setCloseMessage:Ne.func.isRequired,defaultMessage:Ne.string.isRequired,goOn:Ne.func.isRequired};const KD="_container_l88h6_1",GD="_messageBox_l88h6_13",i1={container:KD,messageBox:GD},aa=({message:n,setClose:e,setCloseMessage:t,adress:r})=>{const o=Yo();return Le.useEffect(()=>{const a=setTimeout(()=>{e&&e(!1),t&&t(!1),r&&o(r)},4e3);return()=>clearTimeout(a)},[o]),V.jsx("div",{className:i1.container,children:V.jsx("div",{className:i1.messageBox,children:n})})};aa.propTypes={message:Ne.string.isRequired,adress:Ne.string,setCloseMessage:Ne.func,setClose:Ne.func.isRequired};var Od,o1;function QD(){if(o1)return Od;o1=1;function n(){this.__data__=[],this.size=0}return Od=n,Od}var Nd,s1;function iS(){if(s1)return Nd;s1=1;function n(e,t){return e===t||e!==e&&t!==t}return Nd=n,Nd}var Dd,a1;function kf(){if(a1)return Dd;a1=1;var n=iS();function e(t,r){for(var o=t.length;o--;)if(n(t[o][0],r))return o;return-1}return Dd=e,Dd}var Ld,l1;function XD(){if(l1)return Ld;l1=1;var n=kf(),e=Array.prototype,t=e.splice;function r(o){var a=this.__data__,u=n(a,o);if(u<0)return!1;var f=a.length-1;return u==f?a.pop():t.call(a,u,1),--this.size,!0}return Ld=r,Ld}var Md,u1;function YD(){if(u1)return Md;u1=1;var n=kf();function e(t){var r=this.__data__,o=n(r,t);return o<0?void 0:r[o][1]}return Md=e,Md}var jd,c1;function JD(){if(c1)return jd;c1=1;var n=kf();function e(t){return n(this.__data__,t)>-1}return jd=e,jd}var Vd,f1;function ZD(){if(f1)return Vd;f1=1;var n=kf();function e(t,r){var o=this.__data__,a=n(o,t);return a<0?(++this.size,o.push([t,r])):o[a][1]=r,this}return Vd=e,Vd}var Fd,h1;function Pf(){if(h1)return Fd;h1=1;var n=QD(),e=XD(),t=YD(),r=JD(),o=ZD();function a(u){var f=-1,h=u==null?0:u.length;for(this.clear();++f<h;){var m=u[f];this.set(m[0],m[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,Fd=a,Fd}var Ud,d1;function eL(){if(d1)return Ud;d1=1;var n=Pf();function e(){this.__data__=new n,this.size=0}return Ud=e,Ud}var qd,p1;function tL(){if(p1)return qd;p1=1;function n(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}return qd=n,qd}var Bd,m1;function nL(){if(m1)return Bd;m1=1;function n(e){return this.__data__.get(e)}return Bd=n,Bd}var zd,g1;function rL(){if(g1)return zd;g1=1;function n(e){return this.__data__.has(e)}return zd=n,zd}var $d,y1;function oS(){if(y1)return $d;y1=1;var n=typeof cc=="object"&&cc&&cc.Object===Object&&cc;return $d=n,$d}var Hd,v1;function vi(){if(v1)return Hd;v1=1;var n=oS(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return Hd=t,Hd}var Wd,_1;function Zg(){if(_1)return Wd;_1=1;var n=vi(),e=n.Symbol;return Wd=e,Wd}var Kd,E1;function iL(){if(E1)return Kd;E1=1;var n=Zg(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,o=n?n.toStringTag:void 0;function a(u){var f=t.call(u,o),h=u[o];try{u[o]=void 0;var m=!0}catch{}var v=r.call(u);return m&&(f?u[o]=h:delete u[o]),v}return Kd=a,Kd}var Gd,w1;function oL(){if(w1)return Gd;w1=1;var n=Object.prototype,e=n.toString;function t(r){return e.call(r)}return Gd=t,Gd}var Qd,T1;function xf(){if(T1)return Qd;T1=1;var n=Zg(),e=iL(),t=oL(),r="[object Null]",o="[object Undefined]",a=n?n.toStringTag:void 0;function u(f){return f==null?f===void 0?o:r:a&&a in Object(f)?e(f):t(f)}return Qd=u,Qd}var Xd,b1;function sS(){if(b1)return Xd;b1=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return Xd=n,Xd}var Yd,S1;function aS(){if(S1)return Yd;S1=1;var n=xf(),e=sS(),t="[object AsyncFunction]",r="[object Function]",o="[object GeneratorFunction]",a="[object Proxy]";function u(f){if(!e(f))return!1;var h=n(f);return h==r||h==o||h==t||h==a}return Yd=u,Yd}var Jd,A1;function sL(){if(A1)return Jd;A1=1;var n=vi(),e=n["__core-js_shared__"];return Jd=e,Jd}var Zd,I1;function aL(){if(I1)return Zd;I1=1;var n=sL(),e=function(){var r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function t(r){return!!e&&e in r}return Zd=t,Zd}var ep,C1;function lS(){if(C1)return ep;C1=1;var n=Function.prototype,e=n.toString;function t(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return ep=t,ep}var tp,R1;function lL(){if(R1)return tp;R1=1;var n=aS(),e=aL(),t=sS(),r=lS(),o=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,u=Function.prototype,f=Object.prototype,h=u.toString,m=f.hasOwnProperty,v=RegExp("^"+h.call(m).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function y(d){if(!t(d)||e(d))return!1;var g=n(d)?v:a;return g.test(r(d))}return tp=y,tp}var np,k1;function uL(){if(k1)return np;k1=1;function n(e,t){return e==null?void 0:e[t]}return np=n,np}var rp,P1;function ya(){if(P1)return rp;P1=1;var n=lL(),e=uL();function t(r,o){var a=e(r,o);return n(a)?a:void 0}return rp=t,rp}var ip,x1;function ey(){if(x1)return ip;x1=1;var n=ya(),e=vi(),t=n(e,"Map");return ip=t,ip}var op,O1;function Of(){if(O1)return op;O1=1;var n=ya(),e=n(Object,"create");return op=e,op}var sp,N1;function cL(){if(N1)return sp;N1=1;var n=Of();function e(){this.__data__=n?n(null):{},this.size=0}return sp=e,sp}var ap,D1;function fL(){if(D1)return ap;D1=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return ap=n,ap}var lp,L1;function hL(){if(L1)return lp;L1=1;var n=Of(),e="__lodash_hash_undefined__",t=Object.prototype,r=t.hasOwnProperty;function o(a){var u=this.__data__;if(n){var f=u[a];return f===e?void 0:f}return r.call(u,a)?u[a]:void 0}return lp=o,lp}var up,M1;function dL(){if(M1)return up;M1=1;var n=Of(),e=Object.prototype,t=e.hasOwnProperty;function r(o){var a=this.__data__;return n?a[o]!==void 0:t.call(a,o)}return up=r,up}var cp,j1;function pL(){if(j1)return cp;j1=1;var n=Of(),e="__lodash_hash_undefined__";function t(r,o){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=n&&o===void 0?e:o,this}return cp=t,cp}var fp,V1;function mL(){if(V1)return fp;V1=1;var n=cL(),e=fL(),t=hL(),r=dL(),o=pL();function a(u){var f=-1,h=u==null?0:u.length;for(this.clear();++f<h;){var m=u[f];this.set(m[0],m[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,fp=a,fp}var hp,F1;function gL(){if(F1)return hp;F1=1;var n=mL(),e=Pf(),t=ey();function r(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return hp=r,hp}var dp,U1;function yL(){if(U1)return dp;U1=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return dp=n,dp}var pp,q1;function Nf(){if(q1)return pp;q1=1;var n=yL();function e(t,r){var o=t.__data__;return n(r)?o[typeof r=="string"?"string":"hash"]:o.map}return pp=e,pp}var mp,B1;function vL(){if(B1)return mp;B1=1;var n=Nf();function e(t){var r=n(this,t).delete(t);return this.size-=r?1:0,r}return mp=e,mp}var gp,z1;function _L(){if(z1)return gp;z1=1;var n=Nf();function e(t){return n(this,t).get(t)}return gp=e,gp}var yp,$1;function EL(){if($1)return yp;$1=1;var n=Nf();function e(t){return n(this,t).has(t)}return yp=e,yp}var vp,H1;function wL(){if(H1)return vp;H1=1;var n=Nf();function e(t,r){var o=n(this,t),a=o.size;return o.set(t,r),this.size+=o.size==a?0:1,this}return vp=e,vp}var _p,W1;function uS(){if(W1)return _p;W1=1;var n=gL(),e=vL(),t=_L(),r=EL(),o=wL();function a(u){var f=-1,h=u==null?0:u.length;for(this.clear();++f<h;){var m=u[f];this.set(m[0],m[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,_p=a,_p}var Ep,K1;function TL(){if(K1)return Ep;K1=1;var n=Pf(),e=ey(),t=uS(),r=200;function o(a,u){var f=this.__data__;if(f instanceof n){var h=f.__data__;if(!e||h.length<r-1)return h.push([a,u]),this.size=++f.size,this;f=this.__data__=new t(h)}return f.set(a,u),this.size=f.size,this}return Ep=o,Ep}var wp,G1;function bL(){if(G1)return wp;G1=1;var n=Pf(),e=eL(),t=tL(),r=nL(),o=rL(),a=TL();function u(f){var h=this.__data__=new n(f);this.size=h.size}return u.prototype.clear=e,u.prototype.delete=t,u.prototype.get=r,u.prototype.has=o,u.prototype.set=a,wp=u,wp}var Tp,Q1;function SL(){if(Q1)return Tp;Q1=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return Tp=e,Tp}var bp,X1;function AL(){if(X1)return bp;X1=1;function n(e){return this.__data__.has(e)}return bp=n,bp}var Sp,Y1;function IL(){if(Y1)return Sp;Y1=1;var n=uS(),e=SL(),t=AL();function r(o){var a=-1,u=o==null?0:o.length;for(this.__data__=new n;++a<u;)this.add(o[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=t,Sp=r,Sp}var Ap,J1;function CL(){if(J1)return Ap;J1=1;function n(e,t){for(var r=-1,o=e==null?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}return Ap=n,Ap}var Ip,Z1;function RL(){if(Z1)return Ip;Z1=1;function n(e,t){return e.has(t)}return Ip=n,Ip}var Cp,ew;function cS(){if(ew)return Cp;ew=1;var n=IL(),e=CL(),t=RL(),r=1,o=2;function a(u,f,h,m,v,y){var d=h&r,g=u.length,E=f.length;if(g!=E&&!(d&&E>g))return!1;var T=y.get(u),_=y.get(f);if(T&&_)return T==f&&_==u;var w=-1,S=!0,R=h&o?new n:void 0;for(y.set(u,f),y.set(f,u);++w<g;){var b=u[w],M=f[w];if(m)var U=d?m(M,b,w,f,u,y):m(b,M,w,u,f,y);if(U!==void 0){if(U)continue;S=!1;break}if(R){if(!e(f,function(k,I){if(!t(R,I)&&(b===k||v(b,k,h,m,y)))return R.push(I)})){S=!1;break}}else if(!(b===M||v(b,M,h,m,y))){S=!1;break}}return y.delete(u),y.delete(f),S}return Cp=a,Cp}var Rp,tw;function kL(){if(tw)return Rp;tw=1;var n=vi(),e=n.Uint8Array;return Rp=e,Rp}var kp,nw;function PL(){if(nw)return kp;nw=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(o,a){r[++t]=[a,o]}),r}return kp=n,kp}var Pp,rw;function xL(){if(rw)return Pp;rw=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r}return Pp=n,Pp}var xp,iw;function OL(){if(iw)return xp;iw=1;var n=Zg(),e=kL(),t=iS(),r=cS(),o=PL(),a=xL(),u=1,f=2,h="[object Boolean]",m="[object Date]",v="[object Error]",y="[object Map]",d="[object Number]",g="[object RegExp]",E="[object Set]",T="[object String]",_="[object Symbol]",w="[object ArrayBuffer]",S="[object DataView]",R=n?n.prototype:void 0,b=R?R.valueOf:void 0;function M(U,k,I,L,O,C,D){switch(I){case S:if(U.byteLength!=k.byteLength||U.byteOffset!=k.byteOffset)return!1;U=U.buffer,k=k.buffer;case w:return!(U.byteLength!=k.byteLength||!C(new e(U),new e(k)));case h:case m:case d:return t(+U,+k);case v:return U.name==k.name&&U.message==k.message;case g:case T:return U==k+"";case y:var N=o;case E:var H=L&u;if(N||(N=a),U.size!=k.size&&!H)return!1;var G=D.get(U);if(G)return G==k;L|=f,D.set(U,k);var Z=r(N(U),N(k),L,O,C,D);return D.delete(U),Z;case _:if(b)return b.call(U)==b.call(k)}return!1}return xp=M,xp}var Op,ow;function NL(){if(ow)return Op;ow=1;function n(e,t){for(var r=-1,o=t.length,a=e.length;++r<o;)e[a+r]=t[r];return e}return Op=n,Op}var Np,sw;function ty(){if(sw)return Np;sw=1;var n=Array.isArray;return Np=n,Np}var Dp,aw;function DL(){if(aw)return Dp;aw=1;var n=NL(),e=ty();function t(r,o,a){var u=o(r);return e(r)?u:n(u,a(r))}return Dp=t,Dp}var Lp,lw;function LL(){if(lw)return Lp;lw=1;function n(e,t){for(var r=-1,o=e==null?0:e.length,a=0,u=[];++r<o;){var f=e[r];t(f,r,e)&&(u[a++]=f)}return u}return Lp=n,Lp}var Mp,uw;function ML(){if(uw)return Mp;uw=1;function n(){return[]}return Mp=n,Mp}var jp,cw;function jL(){if(cw)return jp;cw=1;var n=LL(),e=ML(),t=Object.prototype,r=t.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(u){return u==null?[]:(u=Object(u),n(o(u),function(f){return r.call(u,f)}))}:e;return jp=a,jp}var Vp,fw;function VL(){if(fw)return Vp;fw=1;function n(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}return Vp=n,Vp}var Fp,hw;function Df(){if(hw)return Fp;hw=1;function n(e){return e!=null&&typeof e=="object"}return Fp=n,Fp}var Up,dw;function FL(){if(dw)return Up;dw=1;var n=xf(),e=Df(),t="[object Arguments]";function r(o){return e(o)&&n(o)==t}return Up=r,Up}var qp,pw;function UL(){if(pw)return qp;pw=1;var n=FL(),e=Df(),t=Object.prototype,r=t.hasOwnProperty,o=t.propertyIsEnumerable,a=n(function(){return arguments}())?n:function(u){return e(u)&&r.call(u,"callee")&&!o.call(u,"callee")};return qp=a,qp}var gl={exports:{}},Bp,mw;function qL(){if(mw)return Bp;mw=1;function n(){return!1}return Bp=n,Bp}gl.exports;var gw;function fS(){return gw||(gw=1,function(n,e){var t=vi(),r=qL(),o=e&&!e.nodeType&&e,a=o&&!0&&n&&!n.nodeType&&n,u=a&&a.exports===o,f=u?t.Buffer:void 0,h=f?f.isBuffer:void 0,m=h||r;n.exports=m}(gl,gl.exports)),gl.exports}var zp,yw;function BL(){if(yw)return zp;yw=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(r,o){var a=typeof r;return o=o??n,!!o&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<o}return zp=t,zp}var $p,vw;function hS(){if(vw)return $p;vw=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return $p=e,$p}var Hp,_w;function zL(){if(_w)return Hp;_w=1;var n=xf(),e=hS(),t=Df(),r="[object Arguments]",o="[object Array]",a="[object Boolean]",u="[object Date]",f="[object Error]",h="[object Function]",m="[object Map]",v="[object Number]",y="[object Object]",d="[object RegExp]",g="[object Set]",E="[object String]",T="[object WeakMap]",_="[object ArrayBuffer]",w="[object DataView]",S="[object Float32Array]",R="[object Float64Array]",b="[object Int8Array]",M="[object Int16Array]",U="[object Int32Array]",k="[object Uint8Array]",I="[object Uint8ClampedArray]",L="[object Uint16Array]",O="[object Uint32Array]",C={};C[S]=C[R]=C[b]=C[M]=C[U]=C[k]=C[I]=C[L]=C[O]=!0,C[r]=C[o]=C[_]=C[a]=C[w]=C[u]=C[f]=C[h]=C[m]=C[v]=C[y]=C[d]=C[g]=C[E]=C[T]=!1;function D(N){return t(N)&&e(N.length)&&!!C[n(N)]}return Hp=D,Hp}var Wp,Ew;function $L(){if(Ew)return Wp;Ew=1;function n(e){return function(t){return e(t)}}return Wp=n,Wp}var yl={exports:{}};yl.exports;var ww;function HL(){return ww||(ww=1,function(n,e){var t=oS(),r=e&&!e.nodeType&&e,o=r&&!0&&n&&!n.nodeType&&n,a=o&&o.exports===r,u=a&&t.process,f=function(){try{var h=o&&o.require&&o.require("util").types;return h||u&&u.binding&&u.binding("util")}catch{}}();n.exports=f}(yl,yl.exports)),yl.exports}var Kp,Tw;function dS(){if(Tw)return Kp;Tw=1;var n=zL(),e=$L(),t=HL(),r=t&&t.isTypedArray,o=r?e(r):n;return Kp=o,Kp}var Gp,bw;function WL(){if(bw)return Gp;bw=1;var n=VL(),e=UL(),t=ty(),r=fS(),o=BL(),a=dS(),u=Object.prototype,f=u.hasOwnProperty;function h(m,v){var y=t(m),d=!y&&e(m),g=!y&&!d&&r(m),E=!y&&!d&&!g&&a(m),T=y||d||g||E,_=T?n(m.length,String):[],w=_.length;for(var S in m)(v||f.call(m,S))&&!(T&&(S=="length"||g&&(S=="offset"||S=="parent")||E&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||o(S,w)))&&_.push(S);return _}return Gp=h,Gp}var Qp,Sw;function KL(){if(Sw)return Qp;Sw=1;var n=Object.prototype;function e(t){var r=t&&t.constructor,o=typeof r=="function"&&r.prototype||n;return t===o}return Qp=e,Qp}var Xp,Aw;function GL(){if(Aw)return Xp;Aw=1;function n(e,t){return function(r){return e(t(r))}}return Xp=n,Xp}var Yp,Iw;function QL(){if(Iw)return Yp;Iw=1;var n=GL(),e=n(Object.keys,Object);return Yp=e,Yp}var Jp,Cw;function XL(){if(Cw)return Jp;Cw=1;var n=KL(),e=QL(),t=Object.prototype,r=t.hasOwnProperty;function o(a){if(!n(a))return e(a);var u=[];for(var f in Object(a))r.call(a,f)&&f!="constructor"&&u.push(f);return u}return Jp=o,Jp}var Zp,Rw;function YL(){if(Rw)return Zp;Rw=1;var n=aS(),e=hS();function t(r){return r!=null&&e(r.length)&&!n(r)}return Zp=t,Zp}var em,kw;function JL(){if(kw)return em;kw=1;var n=WL(),e=XL(),t=YL();function r(o){return t(o)?n(o):e(o)}return em=r,em}var tm,Pw;function ZL(){if(Pw)return tm;Pw=1;var n=DL(),e=jL(),t=JL();function r(o){return n(o,t,e)}return tm=r,tm}var nm,xw;function eM(){if(xw)return nm;xw=1;var n=ZL(),e=1,t=Object.prototype,r=t.hasOwnProperty;function o(a,u,f,h,m,v){var y=f&e,d=n(a),g=d.length,E=n(u),T=E.length;if(g!=T&&!y)return!1;for(var _=g;_--;){var w=d[_];if(!(y?w in u:r.call(u,w)))return!1}var S=v.get(a),R=v.get(u);if(S&&R)return S==u&&R==a;var b=!0;v.set(a,u),v.set(u,a);for(var M=y;++_<g;){w=d[_];var U=a[w],k=u[w];if(h)var I=y?h(k,U,w,u,a,v):h(U,k,w,a,u,v);if(!(I===void 0?U===k||m(U,k,f,h,v):I)){b=!1;break}M||(M=w=="constructor")}if(b&&!M){var L=a.constructor,O=u.constructor;L!=O&&"constructor"in a&&"constructor"in u&&!(typeof L=="function"&&L instanceof L&&typeof O=="function"&&O instanceof O)&&(b=!1)}return v.delete(a),v.delete(u),b}return nm=o,nm}var rm,Ow;function tM(){if(Ow)return rm;Ow=1;var n=ya(),e=vi(),t=n(e,"DataView");return rm=t,rm}var im,Nw;function nM(){if(Nw)return im;Nw=1;var n=ya(),e=vi(),t=n(e,"Promise");return im=t,im}var om,Dw;function rM(){if(Dw)return om;Dw=1;var n=ya(),e=vi(),t=n(e,"Set");return om=t,om}var sm,Lw;function iM(){if(Lw)return sm;Lw=1;var n=ya(),e=vi(),t=n(e,"WeakMap");return sm=t,sm}var am,Mw;function oM(){if(Mw)return am;Mw=1;var n=tM(),e=ey(),t=nM(),r=rM(),o=iM(),a=xf(),u=lS(),f="[object Map]",h="[object Object]",m="[object Promise]",v="[object Set]",y="[object WeakMap]",d="[object DataView]",g=u(n),E=u(e),T=u(t),_=u(r),w=u(o),S=a;return(n&&S(new n(new ArrayBuffer(1)))!=d||e&&S(new e)!=f||t&&S(t.resolve())!=m||r&&S(new r)!=v||o&&S(new o)!=y)&&(S=function(R){var b=a(R),M=b==h?R.constructor:void 0,U=M?u(M):"";if(U)switch(U){case g:return d;case E:return f;case T:return m;case _:return v;case w:return y}return b}),am=S,am}var lm,jw;function sM(){if(jw)return lm;jw=1;var n=bL(),e=cS(),t=OL(),r=eM(),o=oM(),a=ty(),u=fS(),f=dS(),h=1,m="[object Arguments]",v="[object Array]",y="[object Object]",d=Object.prototype,g=d.hasOwnProperty;function E(T,_,w,S,R,b){var M=a(T),U=a(_),k=M?v:o(T),I=U?v:o(_);k=k==m?y:k,I=I==m?y:I;var L=k==y,O=I==y,C=k==I;if(C&&u(T)){if(!u(_))return!1;M=!0,L=!1}if(C&&!L)return b||(b=new n),M||f(T)?e(T,_,w,S,R,b):t(T,_,k,w,S,R,b);if(!(w&h)){var D=L&&g.call(T,"__wrapped__"),N=O&&g.call(_,"__wrapped__");if(D||N){var H=D?T.value():T,G=N?_.value():_;return b||(b=new n),R(H,G,w,S,b)}}return C?(b||(b=new n),r(T,_,w,S,R,b)):!1}return lm=E,lm}var um,Vw;function aM(){if(Vw)return um;Vw=1;var n=sM(),e=Df();function t(r,o,a,u,f){return r===o?!0:r==null||o==null||!e(r)&&!e(o)?r!==r&&o!==o:n(r,o,a,u,t,f)}return um=t,um}var cm,Fw;function lM(){if(Fw)return cm;Fw=1;var n=aM();function e(t,r){return n(t,r)}return cm=e,cm}var Dc={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var uM=Dc.exports,Uw;function cM(){return Uw||(Uw=1,function(n,e){(function(r,o){n.exports=o()})(typeof self<"u"?self:uM,function(){return function(t){var r={};function o(a){if(r[a])return r[a].exports;var u=r[a]={i:a,l:!1,exports:{}};return t[a].call(u.exports,u,u.exports,o),u.l=!0,u.exports}return o.m=t,o.c=r,o.d=function(a,u,f){o.o(a,u)||Object.defineProperty(a,u,{configurable:!1,enumerable:!0,get:f})},o.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(u,"a",u),u},o.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},o.p="",o(o.s=109)}([function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(17),u=o(18),f=o(19),h=o(45),m=o(46),v=o(47),y=o(48),d=o(49),g=o(12),E=o(32),T=o(33),_=o(31),w=o(1),S={Scope:w.Scope,create:w.create,find:w.find,query:w.query,register:w.register,Container:a.default,Format:u.default,Leaf:f.default,Embed:y.default,Scroll:h.default,Block:v.default,Inline:m.default,Text:d.default,Attributor:{Attribute:g.default,Class:E.default,Style:T.default,Store:_.default}};r.default=S},function(t,r,o){var a=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var R in S)S.hasOwnProperty(R)&&(w[R]=S[R])};return function(w,S){_(w,S);function R(){this.constructor=w}w.prototype=S===null?Object.create(S):(R.prototype=S.prototype,new R)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=function(_){a(w,_);function w(S){var R=this;return S="[Parchment] "+S,R=_.call(this,S)||this,R.message=S,R.name=R.constructor.name,R}return w}(Error);r.ParchmentError=u;var f={},h={},m={},v={};r.DATA_KEY="__blot";var y;(function(_){_[_.TYPE=3]="TYPE",_[_.LEVEL=12]="LEVEL",_[_.ATTRIBUTE=13]="ATTRIBUTE",_[_.BLOT=14]="BLOT",_[_.INLINE=7]="INLINE",_[_.BLOCK=11]="BLOCK",_[_.BLOCK_BLOT=10]="BLOCK_BLOT",_[_.INLINE_BLOT=6]="INLINE_BLOT",_[_.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",_[_.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",_[_.ANY=15]="ANY"})(y=r.Scope||(r.Scope={}));function d(_,w){var S=E(_);if(S==null)throw new u("Unable to create "+_+" blot");var R=S,b=_ instanceof Node||_.nodeType===Node.TEXT_NODE?_:R.create(w);return new R(b,w)}r.create=d;function g(_,w){return w===void 0&&(w=!1),_==null?null:_[r.DATA_KEY]!=null?_[r.DATA_KEY].blot:w?g(_.parentNode,w):null}r.find=g;function E(_,w){w===void 0&&(w=y.ANY);var S;if(typeof _=="string")S=v[_]||f[_];else if(_ instanceof Text||_.nodeType===Node.TEXT_NODE)S=v.text;else if(typeof _=="number")_&y.LEVEL&y.BLOCK?S=v.block:_&y.LEVEL&y.INLINE&&(S=v.inline);else if(_ instanceof HTMLElement){var R=(_.getAttribute("class")||"").split(/\s+/);for(var b in R)if(S=h[R[b]],S)break;S=S||m[_.tagName]}return S==null?null:w&y.LEVEL&S.scope&&w&y.TYPE&S.scope?S:null}r.query=E;function T(){for(var _=[],w=0;w<arguments.length;w++)_[w]=arguments[w];if(_.length>1)return _.map(function(b){return T(b)});var S=_[0];if(typeof S.blotName!="string"&&typeof S.attrName!="string")throw new u("Invalid definition");if(S.blotName==="abstract")throw new u("Cannot register abstract class");if(v[S.blotName||S.attrName]=S,typeof S.keyName=="string")f[S.keyName]=S;else if(S.className!=null&&(h[S.className]=S),S.tagName!=null){Array.isArray(S.tagName)?S.tagName=S.tagName.map(function(b){return b.toUpperCase()}):S.tagName=S.tagName.toUpperCase();var R=Array.isArray(S.tagName)?S.tagName:[S.tagName];R.forEach(function(b){(m[b]==null||S.className==null)&&(m[b]=S)})}return S}r.register=T},function(t,r,o){var a=o(51),u=o(11),f=o(3),h=o(20),m="\0",v=function(y){Array.isArray(y)?this.ops=y:y!=null&&Array.isArray(y.ops)?this.ops=y.ops:this.ops=[]};v.prototype.insert=function(y,d){var g={};return y.length===0?this:(g.insert=y,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(g.attributes=d),this.push(g))},v.prototype.delete=function(y){return y<=0?this:this.push({delete:y})},v.prototype.retain=function(y,d){if(y<=0)return this;var g={retain:y};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(g.attributes=d),this.push(g)},v.prototype.push=function(y){var d=this.ops.length,g=this.ops[d-1];if(y=f(!0,{},y),typeof g=="object"){if(typeof y.delete=="number"&&typeof g.delete=="number")return this.ops[d-1]={delete:g.delete+y.delete},this;if(typeof g.delete=="number"&&y.insert!=null&&(d-=1,g=this.ops[d-1],typeof g!="object"))return this.ops.unshift(y),this;if(u(y.attributes,g.attributes)){if(typeof y.insert=="string"&&typeof g.insert=="string")return this.ops[d-1]={insert:g.insert+y.insert},typeof y.attributes=="object"&&(this.ops[d-1].attributes=y.attributes),this;if(typeof y.retain=="number"&&typeof g.retain=="number")return this.ops[d-1]={retain:g.retain+y.retain},typeof y.attributes=="object"&&(this.ops[d-1].attributes=y.attributes),this}}return d===this.ops.length?this.ops.push(y):this.ops.splice(d,0,y),this},v.prototype.chop=function(){var y=this.ops[this.ops.length-1];return y&&y.retain&&!y.attributes&&this.ops.pop(),this},v.prototype.filter=function(y){return this.ops.filter(y)},v.prototype.forEach=function(y){this.ops.forEach(y)},v.prototype.map=function(y){return this.ops.map(y)},v.prototype.partition=function(y){var d=[],g=[];return this.forEach(function(E){var T=y(E)?d:g;T.push(E)}),[d,g]},v.prototype.reduce=function(y,d){return this.ops.reduce(y,d)},v.prototype.changeLength=function(){return this.reduce(function(y,d){return d.insert?y+h.length(d):d.delete?y-d.delete:y},0)},v.prototype.length=function(){return this.reduce(function(y,d){return y+h.length(d)},0)},v.prototype.slice=function(y,d){y=y||0,typeof d!="number"&&(d=1/0);for(var g=[],E=h.iterator(this.ops),T=0;T<d&&E.hasNext();){var _;T<y?_=E.next(y-T):(_=E.next(d-T),g.push(_)),T+=h.length(_)}return new v(g)},v.prototype.compose=function(y){var d=h.iterator(this.ops),g=h.iterator(y.ops),E=[],T=g.peek();if(T!=null&&typeof T.retain=="number"&&T.attributes==null){for(var _=T.retain;d.peekType()==="insert"&&d.peekLength()<=_;)_-=d.peekLength(),E.push(d.next());T.retain-_>0&&g.next(T.retain-_)}for(var w=new v(E);d.hasNext()||g.hasNext();)if(g.peekType()==="insert")w.push(g.next());else if(d.peekType()==="delete")w.push(d.next());else{var S=Math.min(d.peekLength(),g.peekLength()),R=d.next(S),b=g.next(S);if(typeof b.retain=="number"){var M={};typeof R.retain=="number"?M.retain=S:M.insert=R.insert;var U=h.attributes.compose(R.attributes,b.attributes,typeof R.retain=="number");if(U&&(M.attributes=U),w.push(M),!g.hasNext()&&u(w.ops[w.ops.length-1],M)){var k=new v(d.rest());return w.concat(k).chop()}}else typeof b.delete=="number"&&typeof R.retain=="number"&&w.push(b)}return w.chop()},v.prototype.concat=function(y){var d=new v(this.ops.slice());return y.ops.length>0&&(d.push(y.ops[0]),d.ops=d.ops.concat(y.ops.slice(1))),d},v.prototype.diff=function(y,d){if(this.ops===y.ops)return new v;var g=[this,y].map(function(S){return S.map(function(R){if(R.insert!=null)return typeof R.insert=="string"?R.insert:m;var b=S===y?"on":"with";throw new Error("diff() called "+b+" non-document")}).join("")}),E=new v,T=a(g[0],g[1],d),_=h.iterator(this.ops),w=h.iterator(y.ops);return T.forEach(function(S){for(var R=S[1].length;R>0;){var b=0;switch(S[0]){case a.INSERT:b=Math.min(w.peekLength(),R),E.push(w.next(b));break;case a.DELETE:b=Math.min(R,_.peekLength()),_.next(b),E.delete(b);break;case a.EQUAL:b=Math.min(_.peekLength(),w.peekLength(),R);var M=_.next(b),U=w.next(b);u(M.insert,U.insert)?E.retain(b,h.attributes.diff(M.attributes,U.attributes)):E.push(U).delete(b);break}R-=b}}),E.chop()},v.prototype.eachLine=function(y,d){d=d||`
`;for(var g=h.iterator(this.ops),E=new v,T=0;g.hasNext();){if(g.peekType()!=="insert")return;var _=g.peek(),w=h.length(_)-g.peekLength(),S=typeof _.insert=="string"?_.insert.indexOf(d,w)-w:-1;if(S<0)E.push(g.next());else if(S>0)E.push(g.next(S));else{if(y(E,g.next(1).attributes||{},T)===!1)return;T+=1,E=new v}}E.length()>0&&y(E,{},T)},v.prototype.transform=function(y,d){if(d=!!d,typeof y=="number")return this.transformPosition(y,d);for(var g=h.iterator(this.ops),E=h.iterator(y.ops),T=new v;g.hasNext()||E.hasNext();)if(g.peekType()==="insert"&&(d||E.peekType()!=="insert"))T.retain(h.length(g.next()));else if(E.peekType()==="insert")T.push(E.next());else{var _=Math.min(g.peekLength(),E.peekLength()),w=g.next(_),S=E.next(_);if(w.delete)continue;S.delete?T.push(S):T.retain(_,h.attributes.transform(w.attributes,S.attributes,d))}return T.chop()},v.prototype.transformPosition=function(y,d){d=!!d;for(var g=h.iterator(this.ops),E=0;g.hasNext()&&E<=y;){var T=g.peekLength(),_=g.peekType();if(g.next(),_==="delete"){y-=Math.min(T,y-E);continue}else _==="insert"&&(E<y||!d)&&(y+=T);E+=T}return y},t.exports=v},function(t,r){var o=Object.prototype.hasOwnProperty,a=Object.prototype.toString,u=Object.defineProperty,f=Object.getOwnPropertyDescriptor,h=function(g){return typeof Array.isArray=="function"?Array.isArray(g):a.call(g)==="[object Array]"},m=function(g){if(!g||a.call(g)!=="[object Object]")return!1;var E=o.call(g,"constructor"),T=g.constructor&&g.constructor.prototype&&o.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!E&&!T)return!1;var _;for(_ in g);return typeof _>"u"||o.call(g,_)},v=function(g,E){u&&E.name==="__proto__"?u(g,E.name,{enumerable:!0,configurable:!0,value:E.newValue,writable:!0}):g[E.name]=E.newValue},y=function(g,E){if(E==="__proto__")if(o.call(g,E)){if(f)return f(g,E).value}else return;return g[E]};t.exports=function d(){var g,E,T,_,w,S,R=arguments[0],b=1,M=arguments.length,U=!1;for(typeof R=="boolean"&&(U=R,R=arguments[1]||{},b=2),(R==null||typeof R!="object"&&typeof R!="function")&&(R={});b<M;++b)if(g=arguments[b],g!=null)for(E in g)T=y(R,E),_=y(g,E),R!==_&&(U&&_&&(m(_)||(w=h(_)))?(w?(w=!1,S=T&&h(T)?T:[]):S=T&&m(T)?T:{},v(R,{name:E,newValue:d(U,S,_)})):typeof _<"u"&&v(R,{name:E,newValue:_}));return R}},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var a=function(){function C(D,N){for(var H=0;H<N.length;H++){var G=N[H];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(D,G.key,G)}}return function(D,N,H){return N&&C(D.prototype,N),H&&C(D,H),D}}(),u=function C(D,N,H){D===null&&(D=Function.prototype);var G=Object.getOwnPropertyDescriptor(D,N);if(G===void 0){var Z=Object.getPrototypeOf(D);return Z===null?void 0:C(Z,N,H)}else{if("value"in G)return G.value;var Q=G.get;return Q===void 0?void 0:Q.call(H)}},f=o(3),h=R(f),m=o(2),v=R(m),y=o(0),d=R(y),g=o(16),E=R(g),T=o(6),_=R(T),w=o(7),S=R(w);function R(C){return C&&C.__esModule?C:{default:C}}function b(C,D){if(!(C instanceof D))throw new TypeError("Cannot call a class as a function")}function M(C,D){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:C}function U(C,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);C.prototype=Object.create(D&&D.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(C,D):C.__proto__=D)}var k=1,I=function(C){U(D,C);function D(){return b(this,D),M(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return a(D,[{key:"attach",value:function(){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new v.default().insert(this.value(),(0,h.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(H,G){var Z=d.default.query(H,d.default.Scope.BLOCK_ATTRIBUTE);Z!=null&&this.attributes.attribute(Z,G)}},{key:"formatAt",value:function(H,G,Z,Q){this.format(Z,Q)}},{key:"insertAt",value:function(H,G,Z){if(typeof G=="string"&&G.endsWith(`
`)){var Q=d.default.create(L.blotName);this.parent.insertBefore(Q,H===0?this:this.next),Q.insertAt(0,G.slice(0,-1))}else u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,H,G,Z)}}]),D}(d.default.Embed);I.scope=d.default.Scope.BLOCK_BLOT;var L=function(C){U(D,C);function D(N){b(this,D);var H=M(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,N));return H.cache={},H}return a(D,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(H,G){return G.length()===0?H:H.insert(G.value(),O(G))},new v.default).insert(`
`,O(this))),this.cache.delta}},{key:"deleteAt",value:function(H,G){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"deleteAt",this).call(this,H,G),this.cache={}}},{key:"formatAt",value:function(H,G,Z,Q){G<=0||(d.default.query(Z,d.default.Scope.BLOCK)?H+G===this.length()&&this.format(Z,Q):u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"formatAt",this).call(this,H,Math.min(G,this.length()-H-1),Z,Q),this.cache={})}},{key:"insertAt",value:function(H,G,Z){if(Z!=null)return u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,H,G,Z);if(G.length!==0){var Q=G.split(`
`),re=Q.shift();re.length>0&&(H<this.length()-1||this.children.tail==null?u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,Math.min(H,this.length()-1),re):this.children.tail.insertAt(this.children.tail.length(),re),this.cache={});var Y=this;Q.reduce(function(W,j){return Y=Y.split(W,!0),Y.insertAt(0,j),j.length},H+re.length)}}},{key:"insertBefore",value:function(H,G){var Z=this.children.head;u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertBefore",this).call(this,H,G),Z instanceof E.default&&Z.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"length",this).call(this)+k),this.cache.length}},{key:"moveChildren",value:function(H,G){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"moveChildren",this).call(this,H,G),this.cache={}}},{key:"optimize",value:function(H){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,H),this.cache={}}},{key:"path",value:function(H){return u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"path",this).call(this,H,!0)}},{key:"removeChild",value:function(H){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"removeChild",this).call(this,H),this.cache={}}},{key:"split",value:function(H){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(G&&(H===0||H>=this.length()-k)){var Z=this.clone();return H===0?(this.parent.insertBefore(Z,this),this):(this.parent.insertBefore(Z,this.next),Z)}else{var Q=u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"split",this).call(this,H,G);return this.cache={},Q}}}]),D}(d.default.Block);L.blotName="block",L.tagName="P",L.defaultChild="break",L.allowedChildren=[_.default,d.default.Embed,S.default];function O(C){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return C==null||(typeof C.formats=="function"&&(D=(0,h.default)(D,C.formats())),C.parent==null||C.parent.blotName=="scroll"||C.parent.statics.scope!==C.statics.scope)?D:O(C.parent,D)}r.bubbleFormats=O,r.BlockEmbed=I,r.default=L},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},u=function(){function Y(W,j){var B=[],K=!0,ne=!1,te=void 0;try{for(var $=W[Symbol.iterator](),J;!(K=(J=$.next()).done)&&(B.push(J.value),!(j&&B.length===j));K=!0);}catch(oe){ne=!0,te=oe}finally{try{!K&&$.return&&$.return()}finally{if(ne)throw te}}return B}return function(W,j){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return Y(W,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function Y(W,j){for(var B=0;B<j.length;B++){var K=j[B];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(W,K.key,K)}}return function(W,j,B){return j&&Y(W.prototype,j),B&&Y(W,B),W}}();o(50);var h=o(2),m=O(h),v=o(14),y=O(v),d=o(8),g=O(d),E=o(9),T=O(E),_=o(0),w=O(_),S=o(15),R=O(S),b=o(3),M=O(b),U=o(10),k=O(U),I=o(34),L=O(I);function O(Y){return Y&&Y.__esModule?Y:{default:Y}}function C(Y,W,j){return W in Y?Object.defineProperty(Y,W,{value:j,enumerable:!0,configurable:!0,writable:!0}):Y[W]=j,Y}function D(Y,W){if(!(Y instanceof W))throw new TypeError("Cannot call a class as a function")}var N=(0,k.default)("quill"),H=function(){f(Y,null,[{key:"debug",value:function(j){j===!0&&(j="log"),k.default.level(j)}},{key:"find",value:function(j){return j.__quill||w.default.find(j)}},{key:"import",value:function(j){return this.imports[j]==null&&N.error("Cannot import "+j+". Are you sure it was registered?"),this.imports[j]}},{key:"register",value:function(j,B){var K=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof j!="string"){var te=j.attrName||j.blotName;typeof te=="string"?this.register("formats/"+te,j,B):Object.keys(j).forEach(function($){K.register($,j[$],B)})}else this.imports[j]!=null&&!ne&&N.warn("Overwriting "+j+" with",B),this.imports[j]=B,(j.startsWith("blots/")||j.startsWith("formats/"))&&B.blotName!=="abstract"?w.default.register(B):j.startsWith("modules")&&typeof B.register=="function"&&B.register()}}]);function Y(W){var j=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(D(this,Y),this.options=G(W,B),this.container=this.options.container,this.container==null)return N.error("Invalid Quill container",W);this.options.debug&&Y.debug(this.options.debug);var K=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new g.default,this.scroll=w.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new y.default(this.scroll),this.selection=new R.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(g.default.events.EDITOR_CHANGE,function(te){te===g.default.events.TEXT_CHANGE&&j.root.classList.toggle("ql-blank",j.editor.isBlank())}),this.emitter.on(g.default.events.SCROLL_UPDATE,function(te,$){var J=j.selection.lastRange,oe=J&&J.length===0?J.index:void 0;Z.call(j,function(){return j.editor.update(null,$,oe)},te)});var ne=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+K+"<p><br></p></div>");this.setContents(ne),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return f(Y,[{key:"addContainer",value:function(j){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof j=="string"){var K=j;j=document.createElement("div"),j.classList.add(K)}return this.container.insertBefore(j,B),j}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(j,B,K){var ne=this,te=Q(j,B,K),$=u(te,4);return j=$[0],B=$[1],K=$[3],Z.call(this,function(){return ne.editor.deleteText(j,B)},K,j,-1*B)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(j),this.container.classList.toggle("ql-disabled",!j)}},{key:"focus",value:function(){var j=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=j,this.scrollIntoView()}},{key:"format",value:function(j,B){var K=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;return Z.call(this,function(){var te=K.getSelection(!0),$=new m.default;if(te==null)return $;if(w.default.query(j,w.default.Scope.BLOCK))$=K.editor.formatLine(te.index,te.length,C({},j,B));else{if(te.length===0)return K.selection.format(j,B),$;$=K.editor.formatText(te.index,te.length,C({},j,B))}return K.setSelection(te,g.default.sources.SILENT),$},ne)}},{key:"formatLine",value:function(j,B,K,ne,te){var $=this,J=void 0,oe=Q(j,B,K,ne,te),se=u(oe,4);return j=se[0],B=se[1],J=se[2],te=se[3],Z.call(this,function(){return $.editor.formatLine(j,B,J)},te,j,0)}},{key:"formatText",value:function(j,B,K,ne,te){var $=this,J=void 0,oe=Q(j,B,K,ne,te),se=u(oe,4);return j=se[0],B=se[1],J=se[2],te=se[3],Z.call(this,function(){return $.editor.formatText(j,B,J)},te,j,0)}},{key:"getBounds",value:function(j){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=void 0;typeof j=="number"?K=this.selection.getBounds(j,B):K=this.selection.getBounds(j.index,j.length);var ne=this.container.getBoundingClientRect();return{bottom:K.bottom-ne.top,height:K.height,left:K.left-ne.left,right:K.right-ne.left,top:K.top-ne.top,width:K.width}}},{key:"getContents",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-j,K=Q(j,B),ne=u(K,2);return j=ne[0],B=ne[1],this.editor.getContents(j,B)}},{key:"getFormat",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof j=="number"?this.editor.getFormat(j,B):this.editor.getFormat(j.index,j.length)}},{key:"getIndex",value:function(j){return j.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(j){return this.scroll.leaf(j)}},{key:"getLine",value:function(j){return this.scroll.line(j)}},{key:"getLines",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof j!="number"?this.scroll.lines(j.index,j.length):this.scroll.lines(j,B)}},{key:"getModule",value:function(j){return this.theme.modules[j]}},{key:"getSelection",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return j&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-j,K=Q(j,B),ne=u(K,2);return j=ne[0],B=ne[1],this.editor.getText(j,B)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(j,B,K){var ne=this,te=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Y.sources.API;return Z.call(this,function(){return ne.editor.insertEmbed(j,B,K)},te,j)}},{key:"insertText",value:function(j,B,K,ne,te){var $=this,J=void 0,oe=Q(j,0,K,ne,te),se=u(oe,4);return j=se[0],J=se[2],te=se[3],Z.call(this,function(){return $.editor.insertText(j,B,J)},te,j,B.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(j,B,K){this.clipboard.dangerouslyPasteHTML(j,B,K)}},{key:"removeFormat",value:function(j,B,K){var ne=this,te=Q(j,B,K),$=u(te,4);return j=$[0],B=$[1],K=$[3],Z.call(this,function(){return ne.editor.removeFormat(j,B)},K,j)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(j){var B=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API;return Z.call(this,function(){j=new m.default(j);var ne=B.getLength(),te=B.editor.deleteText(0,ne),$=B.editor.applyDelta(j),J=$.ops[$.ops.length-1];J!=null&&typeof J.insert=="string"&&J.insert[J.insert.length-1]===`
`&&(B.editor.deleteText(B.getLength()-1,1),$.delete(1));var oe=te.compose($);return oe},K)}},{key:"setSelection",value:function(j,B,K){if(j==null)this.selection.setRange(null,B||Y.sources.API);else{var ne=Q(j,B,K),te=u(ne,4);j=te[0],B=te[1],K=te[3],this.selection.setRange(new S.Range(j,B),K),K!==g.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(j){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API,K=new m.default().insert(j);return this.setContents(K,B)}},{key:"update",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,B=this.scroll.update(j);return this.selection.update(j),B}},{key:"updateContents",value:function(j){var B=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API;return Z.call(this,function(){return j=new m.default(j),B.editor.applyDelta(j,K)},K,!0)}}]),Y}();H.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},H.events=g.default.events,H.sources=g.default.sources,H.version="1.3.7",H.imports={delta:m.default,parchment:w.default,"core/module":T.default,"core/theme":L.default};function G(Y,W){if(W=(0,M.default)(!0,{container:Y,modules:{clipboard:!0,keyboard:!0,history:!0}},W),!W.theme||W.theme===H.DEFAULTS.theme)W.theme=L.default;else if(W.theme=H.import("themes/"+W.theme),W.theme==null)throw new Error("Invalid theme "+W.theme+". Did you register it?");var j=(0,M.default)(!0,{},W.theme.DEFAULTS);[j,W].forEach(function(ne){ne.modules=ne.modules||{},Object.keys(ne.modules).forEach(function(te){ne.modules[te]===!0&&(ne.modules[te]={})})});var B=Object.keys(j.modules).concat(Object.keys(W.modules)),K=B.reduce(function(ne,te){var $=H.import("modules/"+te);return $==null?N.error("Cannot load "+te+" module. Are you sure you registered it?"):ne[te]=$.DEFAULTS||{},ne},{});return W.modules!=null&&W.modules.toolbar&&W.modules.toolbar.constructor!==Object&&(W.modules.toolbar={container:W.modules.toolbar}),W=(0,M.default)(!0,{},H.DEFAULTS,{modules:K},j,W),["bounds","container","scrollingContainer"].forEach(function(ne){typeof W[ne]=="string"&&(W[ne]=document.querySelector(W[ne]))}),W.modules=Object.keys(W.modules).reduce(function(ne,te){return W.modules[te]&&(ne[te]=W.modules[te]),ne},{}),W}function Z(Y,W,j,B){if(this.options.strict&&!this.isEnabled()&&W===g.default.sources.USER)return new m.default;var K=j==null?null:this.getSelection(),ne=this.editor.delta,te=Y();if(K!=null&&(j===!0&&(j=K.index),B==null?K=re(K,te,W):B!==0&&(K=re(K,j,B,W)),this.setSelection(K,g.default.sources.SILENT)),te.length()>0){var $,J=[g.default.events.TEXT_CHANGE,te,ne,W];if(($=this.emitter).emit.apply($,[g.default.events.EDITOR_CHANGE].concat(J)),W!==g.default.sources.SILENT){var oe;(oe=this.emitter).emit.apply(oe,J)}}return te}function Q(Y,W,j,B,K){var ne={};return typeof Y.index=="number"&&typeof Y.length=="number"?typeof W!="number"?(K=B,B=j,j=W,W=Y.length,Y=Y.index):(W=Y.length,Y=Y.index):typeof W!="number"&&(K=B,B=j,j=W,W=0),(typeof j>"u"?"undefined":a(j))==="object"?(ne=j,K=B):typeof j=="string"&&(B!=null?ne[j]=B:K=j),K=K||g.default.sources.API,[Y,W,ne,K]}function re(Y,W,j,B){if(Y==null)return null;var K=void 0,ne=void 0;if(W instanceof m.default){var te=[Y.index,Y.index+Y.length].map(function(se){return W.transformPosition(se,B!==g.default.sources.USER)}),$=u(te,2);K=$[0],ne=$[1]}else{var J=[Y.index,Y.index+Y.length].map(function(se){return se<W||se===W&&B===g.default.sources.USER?se:j>=0?se+j:Math.max(W,se+j)}),oe=u(J,2);K=oe[0],ne=oe[1]}return new S.Range(K,ne-K)}r.expandConfig=G,r.overload=Q,r.default=H},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function _(w,S){for(var R=0;R<S.length;R++){var b=S[R];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(w,b.key,b)}}return function(w,S,R){return S&&_(w.prototype,S),R&&_(w,R),w}}(),u=function _(w,S,R){w===null&&(w=Function.prototype);var b=Object.getOwnPropertyDescriptor(w,S);if(b===void 0){var M=Object.getPrototypeOf(w);return M===null?void 0:_(M,S,R)}else{if("value"in b)return b.value;var U=b.get;return U===void 0?void 0:U.call(R)}},f=o(7),h=y(f),m=o(0),v=y(m);function y(_){return _&&_.__esModule?_:{default:_}}function d(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function g(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function E(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var T=function(_){E(w,_);function w(){return d(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"formatAt",value:function(R,b,M,U){if(w.compare(this.statics.blotName,M)<0&&v.default.query(M,v.default.Scope.BLOT)){var k=this.isolate(R,b);U&&k.wrap(M,U)}else u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"formatAt",this).call(this,R,b,M,U)}},{key:"optimize",value:function(R){if(u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,R),this.parent instanceof w&&w.compare(this.statics.blotName,this.parent.statics.blotName)>0){var b=this.parent.isolate(this.offset(),this.length());this.moveChildren(b),b.wrap(this)}}}],[{key:"compare",value:function(R,b){var M=w.order.indexOf(R),U=w.order.indexOf(b);return M>=0||U>=0?M-U:R===b?0:R<b?-1:1}}]),w}(v.default.Inline);T.allowedChildren=[T,v.default.Embed,h.default],T.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=T},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function m(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function v(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var y=function(d){v(g,d);function g(){return h(this,g),m(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(u.default.Text);r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function S(R,b){for(var M=0;M<b.length;M++){var U=b[M];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,U.key,U)}}return function(R,b,M){return b&&S(R.prototype,b),M&&S(R,M),R}}(),u=function S(R,b,M){R===null&&(R=Function.prototype);var U=Object.getOwnPropertyDescriptor(R,b);if(U===void 0){var k=Object.getPrototypeOf(R);return k===null?void 0:S(k,b,M)}else{if("value"in U)return U.value;var I=U.get;return I===void 0?void 0:I.call(M)}},f=o(54),h=y(f),m=o(10),v=y(m);function y(S){return S&&S.__esModule?S:{default:S}}function d(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}function g(S,R){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:S}function E(S,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(S,R):S.__proto__=R)}var T=(0,v.default)("quill:events"),_=["selectionchange","mousedown","mouseup","click"];_.forEach(function(S){document.addEventListener(S,function(){for(var R=arguments.length,b=Array(R),M=0;M<R;M++)b[M]=arguments[M];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(U){if(U.__quill&&U.__quill.emitter){var k;(k=U.__quill.emitter).handleDOM.apply(k,b)}})})});var w=function(S){E(R,S);function R(){d(this,R);var b=g(this,(R.__proto__||Object.getPrototypeOf(R)).call(this));return b.listeners={},b.on("error",T.error),b}return a(R,[{key:"emit",value:function(){T.log.apply(T,arguments),u(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(M){for(var U=arguments.length,k=Array(U>1?U-1:0),I=1;I<U;I++)k[I-1]=arguments[I];(this.listeners[M.type]||[]).forEach(function(L){var O=L.node,C=L.handler;(M.target===O||O.contains(M.target))&&C.apply(void 0,[M].concat(k))})}},{key:"listenDOM",value:function(M,U,k){this.listeners[M]||(this.listeners[M]=[]),this.listeners[M].push({node:U,handler:k})}}]),R}(h.default);w.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},w.sources={API:"api",SILENT:"silent",USER:"user"},r.default=w},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});function a(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}var u=function f(h){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,f),this.quill=h,this.options=m};u.DEFAULTS={},r.default=u},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=["error","warn","log","info"],u="warn";function f(m){if(a.indexOf(m)<=a.indexOf(u)){for(var v,y=arguments.length,d=Array(y>1?y-1:0),g=1;g<y;g++)d[g-1]=arguments[g];(v=console)[m].apply(v,d)}}function h(m){return a.reduce(function(v,y){return v[y]=f.bind(console,y,m),v},{})}f.level=h.level=function(m){u=m},r.default=h},function(t,r,o){var a=Array.prototype.slice,u=o(52),f=o(53),h=t.exports=function(d,g,E){return E||(E={}),d===g?!0:d instanceof Date&&g instanceof Date?d.getTime()===g.getTime():!d||!g||typeof d!="object"&&typeof g!="object"?E.strict?d===g:d==g:y(d,g,E)};function m(d){return d==null}function v(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function y(d,g,E){var T,_;if(m(d)||m(g)||d.prototype!==g.prototype)return!1;if(f(d))return f(g)?(d=a.call(d),g=a.call(g),h(d,g,E)):!1;if(v(d)){if(!v(g)||d.length!==g.length)return!1;for(T=0;T<d.length;T++)if(d[T]!==g[T])return!1;return!0}try{var w=u(d),S=u(g)}catch{return!1}if(w.length!=S.length)return!1;for(w.sort(),S.sort(),T=w.length-1;T>=0;T--)if(w[T]!=S[T])return!1;for(T=w.length-1;T>=0;T--)if(_=w[T],!h(d[_],g[_],E))return!1;return typeof d==typeof g}},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(1),u=function(){function f(h,m,v){v===void 0&&(v={}),this.attrName=h,this.keyName=m;var y=a.Scope.TYPE&a.Scope.ATTRIBUTE;v.scope!=null?this.scope=v.scope&a.Scope.LEVEL|y:this.scope=a.Scope.ATTRIBUTE,v.whitelist!=null&&(this.whitelist=v.whitelist)}return f.keys=function(h){return[].map.call(h.attributes,function(m){return m.name})},f.prototype.add=function(h,m){return this.canAdd(h,m)?(h.setAttribute(this.keyName,m),!0):!1},f.prototype.canAdd=function(h,m){var v=a.query(h,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return v==null?!1:this.whitelist==null?!0:typeof m=="string"?this.whitelist.indexOf(m.replace(/["']/g,""))>-1:this.whitelist.indexOf(m)>-1},f.prototype.remove=function(h){h.removeAttribute(this.keyName)},f.prototype.value=function(h){var m=h.getAttribute(this.keyName);return this.canAdd(h,m)&&m?m:""},f}();r.default=u},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var a=function(){function I(L,O){var C=[],D=!0,N=!1,H=void 0;try{for(var G=L[Symbol.iterator](),Z;!(D=(Z=G.next()).done)&&(C.push(Z.value),!(O&&C.length===O));D=!0);}catch(Q){N=!0,H=Q}finally{try{!D&&G.return&&G.return()}finally{if(N)throw H}}return C}return function(L,O){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return I(L,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function I(L,O){for(var C=0;C<O.length;C++){var D=O[C];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(L,D.key,D)}}return function(L,O,C){return O&&I(L.prototype,O),C&&I(L,C),L}}(),f=function I(L,O,C){L===null&&(L=Function.prototype);var D=Object.getOwnPropertyDescriptor(L,O);if(D===void 0){var N=Object.getPrototypeOf(L);return N===null?void 0:I(N,O,C)}else{if("value"in D)return D.value;var H=D.get;return H===void 0?void 0:H.call(C)}},h=o(2),m=S(h),v=o(0),y=S(v),d=o(4),g=S(d),E=o(6),T=S(E),_=o(7),w=S(_);function S(I){return I&&I.__esModule?I:{default:I}}function R(I,L){if(!(I instanceof L))throw new TypeError("Cannot call a class as a function")}function b(I,L){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:I}function M(I,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);I.prototype=Object.create(L&&L.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(I,L):I.__proto__=L)}var U=function(I){M(L,I);function L(){return R(this,L),b(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return L}(T.default);U.blotName="code",U.tagName="CODE";var k=function(I){M(L,I);function L(){return R(this,L),b(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return u(L,[{key:"delta",value:function(){var C=this,D=this.domNode.textContent;return D.endsWith(`
`)&&(D=D.slice(0,-1)),D.split(`
`).reduce(function(N,H){return N.insert(H).insert(`
`,C.formats())},new m.default)}},{key:"format",value:function(C,D){if(!(C===this.statics.blotName&&D)){var N=this.descendant(w.default,this.length()-1),H=a(N,1),G=H[0];G!=null&&G.deleteAt(G.length()-1,1),f(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"format",this).call(this,C,D)}}},{key:"formatAt",value:function(C,D,N,H){if(D!==0&&!(y.default.query(N,y.default.Scope.BLOCK)==null||N===this.statics.blotName&&H===this.statics.formats(this.domNode))){var G=this.newlineIndex(C);if(!(G<0||G>=C+D)){var Z=this.newlineIndex(C,!0)+1,Q=G-Z+1,re=this.isolate(Z,Q),Y=re.next;re.format(N,H),Y instanceof L&&Y.formatAt(0,C-Z+D-Q,N,H)}}}},{key:"insertAt",value:function(C,D,N){if(N==null){var H=this.descendant(w.default,C),G=a(H,2),Z=G[0],Q=G[1];Z.insertAt(Q,D)}}},{key:"length",value:function(){var C=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?C:C+1}},{key:"newlineIndex",value:function(C){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(D)return this.domNode.textContent.slice(0,C).lastIndexOf(`
`);var N=this.domNode.textContent.slice(C).indexOf(`
`);return N>-1?C+N:-1}},{key:"optimize",value:function(C){this.domNode.textContent.endsWith(`
`)||this.appendChild(y.default.create("text",`
`)),f(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"optimize",this).call(this,C);var D=this.next;D!=null&&D.prev===this&&D.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===D.statics.formats(D.domNode)&&(D.optimize(C),D.moveChildren(this),D.remove())}},{key:"replace",value:function(C){f(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"replace",this).call(this,C),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(D){var N=y.default.find(D);N==null?D.parentNode.removeChild(D):N instanceof y.default.Embed?N.remove():N.unwrap()})}}],[{key:"create",value:function(C){var D=f(L.__proto__||Object.getPrototypeOf(L),"create",this).call(this,C);return D.setAttribute("spellcheck",!1),D}},{key:"formats",value:function(){return!0}}]),L}(g.default);k.blotName="code-block",k.tagName="PRE",k.TAB="  ",r.Code=U,r.default=k},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},u=function(){function Y(W,j){var B=[],K=!0,ne=!1,te=void 0;try{for(var $=W[Symbol.iterator](),J;!(K=(J=$.next()).done)&&(B.push(J.value),!(j&&B.length===j));K=!0);}catch(oe){ne=!0,te=oe}finally{try{!K&&$.return&&$.return()}finally{if(ne)throw te}}return B}return function(W,j){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return Y(W,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function Y(W,j){for(var B=0;B<j.length;B++){var K=j[B];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(W,K.key,K)}}return function(W,j,B){return j&&Y(W.prototype,j),B&&Y(W,B),W}}(),h=o(2),m=D(h),v=o(20),y=D(v),d=o(0),g=D(d),E=o(13),T=D(E),_=o(24),w=D(_),S=o(4),R=D(S),b=o(16),M=D(b),U=o(21),k=D(U),I=o(11),L=D(I),O=o(3),C=D(O);function D(Y){return Y&&Y.__esModule?Y:{default:Y}}function N(Y,W,j){return W in Y?Object.defineProperty(Y,W,{value:j,enumerable:!0,configurable:!0,writable:!0}):Y[W]=j,Y}function H(Y,W){if(!(Y instanceof W))throw new TypeError("Cannot call a class as a function")}var G=/^[ -~]*$/,Z=function(){function Y(W){H(this,Y),this.scroll=W,this.delta=this.getDelta()}return f(Y,[{key:"applyDelta",value:function(j){var B=this,K=!1;this.scroll.update();var ne=this.scroll.length();return this.scroll.batchStart(),j=re(j),j.reduce(function(te,$){var J=$.retain||$.delete||$.insert.length||1,oe=$.attributes||{};if($.insert!=null){if(typeof $.insert=="string"){var se=$.insert;se.endsWith(`
`)&&K&&(K=!1,se=se.slice(0,-1)),te>=ne&&!se.endsWith(`
`)&&(K=!0),B.scroll.insertAt(te,se);var pe=B.scroll.line(te),Ie=u(pe,2),Me=Ie[0],Ue=Ie[1],Ge=(0,C.default)({},(0,S.bubbleFormats)(Me));if(Me instanceof R.default){var Je=Me.descendant(g.default.Leaf,Ue),Ot=u(Je,1),gt=Ot[0];Ge=(0,C.default)(Ge,(0,S.bubbleFormats)(gt))}oe=y.default.attributes.diff(Ge,oe)||{}}else if(a($.insert)==="object"){var de=Object.keys($.insert)[0];if(de==null)return te;B.scroll.insertAt(te,de,$.insert[de])}ne+=J}return Object.keys(oe).forEach(function(me){B.scroll.formatAt(te,J,me,oe[me])}),te+J},0),j.reduce(function(te,$){return typeof $.delete=="number"?(B.scroll.deleteAt(te,$.delete),te):te+($.retain||$.insert.length||1)},0),this.scroll.batchEnd(),this.update(j)}},{key:"deleteText",value:function(j,B){return this.scroll.deleteAt(j,B),this.update(new m.default().retain(j).delete(B))}},{key:"formatLine",value:function(j,B){var K=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(ne).forEach(function(te){if(!(K.scroll.whitelist!=null&&!K.scroll.whitelist[te])){var $=K.scroll.lines(j,Math.max(B,1)),J=B;$.forEach(function(oe){var se=oe.length();if(!(oe instanceof T.default))oe.format(te,ne[te]);else{var pe=j-oe.offset(K.scroll),Ie=oe.newlineIndex(pe+J)-pe+1;oe.formatAt(pe,Ie,te,ne[te])}J-=se})}}),this.scroll.optimize(),this.update(new m.default().retain(j).retain(B,(0,k.default)(ne)))}},{key:"formatText",value:function(j,B){var K=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(ne).forEach(function(te){K.scroll.formatAt(j,B,te,ne[te])}),this.update(new m.default().retain(j).retain(B,(0,k.default)(ne)))}},{key:"getContents",value:function(j,B){return this.delta.slice(j,j+B)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(j,B){return j.concat(B.delta())},new m.default)}},{key:"getFormat",value:function(j){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=[],ne=[];B===0?this.scroll.path(j).forEach(function($){var J=u($,1),oe=J[0];oe instanceof R.default?K.push(oe):oe instanceof g.default.Leaf&&ne.push(oe)}):(K=this.scroll.lines(j,B),ne=this.scroll.descendants(g.default.Leaf,j,B));var te=[K,ne].map(function($){if($.length===0)return{};for(var J=(0,S.bubbleFormats)($.shift());Object.keys(J).length>0;){var oe=$.shift();if(oe==null)return J;J=Q((0,S.bubbleFormats)(oe),J)}return J});return C.default.apply(C.default,te)}},{key:"getText",value:function(j,B){return this.getContents(j,B).filter(function(K){return typeof K.insert=="string"}).map(function(K){return K.insert}).join("")}},{key:"insertEmbed",value:function(j,B,K){return this.scroll.insertAt(j,B,K),this.update(new m.default().retain(j).insert(N({},B,K)))}},{key:"insertText",value:function(j,B){var K=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return B=B.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(j,B),Object.keys(ne).forEach(function(te){K.scroll.formatAt(j,B.length,te,ne[te])}),this.update(new m.default().retain(j).insert(B,(0,k.default)(ne)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var j=this.scroll.children.head;return j.statics.blotName!==R.default.blotName||j.children.length>1?!1:j.children.head instanceof M.default}},{key:"removeFormat",value:function(j,B){var K=this.getText(j,B),ne=this.scroll.line(j+B),te=u(ne,2),$=te[0],J=te[1],oe=0,se=new m.default;$!=null&&($ instanceof T.default?oe=$.newlineIndex(J)-J+1:oe=$.length()-J,se=$.delta().slice(J,J+oe-1).insert(`
`));var pe=this.getContents(j,B+oe),Ie=pe.diff(new m.default().insert(K).concat(se)),Me=new m.default().retain(j).concat(Ie);return this.applyDelta(Me)}},{key:"update",value:function(j){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ne=this.delta;if(B.length===1&&B[0].type==="characterData"&&B[0].target.data.match(G)&&g.default.find(B[0].target)){var te=g.default.find(B[0].target),$=(0,S.bubbleFormats)(te),J=te.offset(this.scroll),oe=B[0].oldValue.replace(w.default.CONTENTS,""),se=new m.default().insert(oe),pe=new m.default().insert(te.value()),Ie=new m.default().retain(J).concat(se.diff(pe,K));j=Ie.reduce(function(Me,Ue){return Ue.insert?Me.insert(Ue.insert,$):Me.push(Ue)},new m.default),this.delta=ne.compose(j)}else this.delta=this.getDelta(),(!j||!(0,L.default)(ne.compose(j),this.delta))&&(j=ne.diff(this.delta,K));return j}}]),Y}();function Q(Y,W){return Object.keys(W).reduce(function(j,B){return Y[B]==null||(W[B]===Y[B]?j[B]=W[B]:Array.isArray(W[B])?W[B].indexOf(Y[B])<0&&(j[B]=W[B].concat([Y[B]])):j[B]=[W[B],Y[B]]),j},{})}function re(Y){return Y.reduce(function(W,j){if(j.insert===1){var B=(0,k.default)(j.attributes);return delete B.image,W.insert({image:j.attributes.image},B)}if(j.attributes!=null&&(j.attributes.list===!0||j.attributes.bullet===!0)&&(j=(0,k.default)(j),j.attributes.list?j.attributes.list="ordered":(j.attributes.list="bullet",delete j.attributes.bullet)),typeof j.insert=="string"){var K=j.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return W.insert(K,j.attributes)}return W.push(j)},new m.default)}r.default=Z},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var a=function(){function I(L,O){var C=[],D=!0,N=!1,H=void 0;try{for(var G=L[Symbol.iterator](),Z;!(D=(Z=G.next()).done)&&(C.push(Z.value),!(O&&C.length===O));D=!0);}catch(Q){N=!0,H=Q}finally{try{!D&&G.return&&G.return()}finally{if(N)throw H}}return C}return function(L,O){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return I(L,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function I(L,O){for(var C=0;C<O.length;C++){var D=O[C];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(L,D.key,D)}}return function(L,O,C){return O&&I(L.prototype,O),C&&I(L,C),L}}(),f=o(0),h=w(f),m=o(21),v=w(m),y=o(11),d=w(y),g=o(8),E=w(g),T=o(10),_=w(T);function w(I){return I&&I.__esModule?I:{default:I}}function S(I){if(Array.isArray(I)){for(var L=0,O=Array(I.length);L<I.length;L++)O[L]=I[L];return O}else return Array.from(I)}function R(I,L){if(!(I instanceof L))throw new TypeError("Cannot call a class as a function")}var b=(0,_.default)("quill:selection"),M=function I(L){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;R(this,I),this.index=L,this.length=O},U=function(){function I(L,O){var C=this;R(this,I),this.emitter=O,this.scroll=L,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=h.default.create("cursor",this),this.lastRange=this.savedRange=new M(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){C.mouseDown||setTimeout(C.update.bind(C,E.default.sources.USER),1)}),this.emitter.on(E.default.events.EDITOR_CHANGE,function(D,N){D===E.default.events.TEXT_CHANGE&&N.length()>0&&C.update(E.default.sources.SILENT)}),this.emitter.on(E.default.events.SCROLL_BEFORE_UPDATE,function(){if(C.hasFocus()){var D=C.getNativeRange();D!=null&&D.start.node!==C.cursor.textNode&&C.emitter.once(E.default.events.SCROLL_UPDATE,function(){try{C.setNativeRange(D.start.node,D.start.offset,D.end.node,D.end.offset)}catch{}})}}),this.emitter.on(E.default.events.SCROLL_OPTIMIZE,function(D,N){if(N.range){var H=N.range,G=H.startNode,Z=H.startOffset,Q=H.endNode,re=H.endOffset;C.setNativeRange(G,Z,Q,re)}}),this.update(E.default.sources.SILENT)}return u(I,[{key:"handleComposition",value:function(){var O=this;this.root.addEventListener("compositionstart",function(){O.composing=!0}),this.root.addEventListener("compositionend",function(){if(O.composing=!1,O.cursor.parent){var C=O.cursor.restore();if(!C)return;setTimeout(function(){O.setNativeRange(C.startNode,C.startOffset,C.endNode,C.endOffset)},1)}})}},{key:"handleDragging",value:function(){var O=this;this.emitter.listenDOM("mousedown",document.body,function(){O.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){O.mouseDown=!1,O.update(E.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(O,C){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[O])){this.scroll.update();var D=this.getNativeRange();if(!(D==null||!D.native.collapsed||h.default.query(O,h.default.Scope.BLOCK))){if(D.start.node!==this.cursor.textNode){var N=h.default.find(D.start.node,!1);if(N==null)return;if(N instanceof h.default.Leaf){var H=N.split(D.start.offset);N.parent.insertBefore(this.cursor,H)}else N.insertBefore(this.cursor,D.start.node);this.cursor.attach()}this.cursor.format(O,C),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(O){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=this.scroll.length();O=Math.min(O,D-1),C=Math.min(O+C,D-1)-O;var N=void 0,H=this.scroll.leaf(O),G=a(H,2),Z=G[0],Q=G[1];if(Z==null)return null;var re=Z.position(Q,!0),Y=a(re,2);N=Y[0],Q=Y[1];var W=document.createRange();if(C>0){W.setStart(N,Q);var j=this.scroll.leaf(O+C),B=a(j,2);if(Z=B[0],Q=B[1],Z==null)return null;var K=Z.position(Q,!0),ne=a(K,2);return N=ne[0],Q=ne[1],W.setEnd(N,Q),W.getBoundingClientRect()}else{var te="left",$=void 0;return N instanceof Text?(Q<N.data.length?(W.setStart(N,Q),W.setEnd(N,Q+1)):(W.setStart(N,Q-1),W.setEnd(N,Q),te="right"),$=W.getBoundingClientRect()):($=Z.domNode.getBoundingClientRect(),Q>0&&(te="right")),{bottom:$.top+$.height,height:$.height,left:$[te],right:$[te],top:$.top,width:0}}}},{key:"getNativeRange",value:function(){var O=document.getSelection();if(O==null||O.rangeCount<=0)return null;var C=O.getRangeAt(0);if(C==null)return null;var D=this.normalizeNative(C);return b.info("getNativeRange",D),D}},{key:"getRange",value:function(){var O=this.getNativeRange();if(O==null)return[null,null];var C=this.normalizedToRange(O);return[C,O]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(O){var C=this,D=[[O.start.node,O.start.offset]];O.native.collapsed||D.push([O.end.node,O.end.offset]);var N=D.map(function(Z){var Q=a(Z,2),re=Q[0],Y=Q[1],W=h.default.find(re,!0),j=W.offset(C.scroll);return Y===0?j:W instanceof h.default.Container?j+W.length():j+W.index(re,Y)}),H=Math.min(Math.max.apply(Math,S(N)),this.scroll.length()-1),G=Math.min.apply(Math,[H].concat(S(N)));return new M(G,H-G)}},{key:"normalizeNative",value:function(O){if(!k(this.root,O.startContainer)||!O.collapsed&&!k(this.root,O.endContainer))return null;var C={start:{node:O.startContainer,offset:O.startOffset},end:{node:O.endContainer,offset:O.endOffset},native:O};return[C.start,C.end].forEach(function(D){for(var N=D.node,H=D.offset;!(N instanceof Text)&&N.childNodes.length>0;)if(N.childNodes.length>H)N=N.childNodes[H],H=0;else if(N.childNodes.length===H)N=N.lastChild,H=N instanceof Text?N.data.length:N.childNodes.length+1;else break;D.node=N,D.offset=H}),C}},{key:"rangeToNative",value:function(O){var C=this,D=O.collapsed?[O.index]:[O.index,O.index+O.length],N=[],H=this.scroll.length();return D.forEach(function(G,Z){G=Math.min(H-1,G);var Q=void 0,re=C.scroll.leaf(G),Y=a(re,2),W=Y[0],j=Y[1],B=W.position(j,Z!==0),K=a(B,2);Q=K[0],j=K[1],N.push(Q,j)}),N.length<2&&(N=N.concat(N)),N}},{key:"scrollIntoView",value:function(O){var C=this.lastRange;if(C!=null){var D=this.getBounds(C.index,C.length);if(D!=null){var N=this.scroll.length()-1,H=this.scroll.line(Math.min(C.index,N)),G=a(H,1),Z=G[0],Q=Z;if(C.length>0){var re=this.scroll.line(Math.min(C.index+C.length,N)),Y=a(re,1);Q=Y[0]}if(!(Z==null||Q==null)){var W=O.getBoundingClientRect();D.top<W.top?O.scrollTop-=W.top-D.top:D.bottom>W.bottom&&(O.scrollTop+=D.bottom-W.bottom)}}}}},{key:"setNativeRange",value:function(O,C){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:C,H=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(b.info("setNativeRange",O,C,D,N),!(O!=null&&(this.root.parentNode==null||O.parentNode==null||D.parentNode==null))){var G=document.getSelection();if(G!=null)if(O!=null){this.hasFocus()||this.root.focus();var Z=(this.getNativeRange()||{}).native;if(Z==null||H||O!==Z.startContainer||C!==Z.startOffset||D!==Z.endContainer||N!==Z.endOffset){O.tagName=="BR"&&(C=[].indexOf.call(O.parentNode.childNodes,O),O=O.parentNode),D.tagName=="BR"&&(N=[].indexOf.call(D.parentNode.childNodes,D),D=D.parentNode);var Q=document.createRange();Q.setStart(O,C),Q.setEnd(D,N),G.removeAllRanges(),G.addRange(Q)}}else G.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(O){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E.default.sources.API;if(typeof C=="string"&&(D=C,C=!1),b.info("setRange",O),O!=null){var N=this.rangeToNative(O);this.setNativeRange.apply(this,S(N).concat([C]))}else this.setNativeRange(null);this.update(D)}},{key:"update",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E.default.sources.USER,C=this.lastRange,D=this.getRange(),N=a(D,2),H=N[0],G=N[1];if(this.lastRange=H,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(C,this.lastRange)){var Z;!this.composing&&G!=null&&G.native.collapsed&&G.start.node!==this.cursor.textNode&&this.cursor.restore();var Q=[E.default.events.SELECTION_CHANGE,(0,v.default)(this.lastRange),(0,v.default)(C),O];if((Z=this.emitter).emit.apply(Z,[E.default.events.EDITOR_CHANGE].concat(Q)),O!==E.default.sources.SILENT){var re;(re=this.emitter).emit.apply(re,Q)}}}}]),I}();function k(I,L){try{L.parentNode}catch{return!1}return L instanceof Text&&(L=L.parentNode),I.contains(L)}r.Range=M,r.default=U},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function E(T,_){for(var w=0;w<_.length;w++){var S=_[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,_,w){return _&&E(T.prototype,_),w&&E(T,w),T}}(),u=function E(T,_,w){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,_);if(S===void 0){var R=Object.getPrototypeOf(T);return R===null?void 0:E(R,_,w)}else{if("value"in S)return S.value;var b=S.get;return b===void 0?void 0:b.call(w)}},f=o(0),h=m(f);function m(E){return E&&E.__esModule?E:{default:E}}function v(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function y(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function d(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var g=function(E){d(T,E);function T(){return v(this,T),y(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,[{key:"insertInto",value:function(w,S){w.children.length===0?u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertInto",this).call(this,w,S):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),T}(h.default.Embed);g.blotName="break",g.tagName="BR",r.default=g},function(t,r,o){var a=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var E in g)g.hasOwnProperty(E)&&(d[E]=g[E])};return function(d,g){y(d,g);function E(){this.constructor=d}d.prototype=g===null?Object.create(g):(E.prototype=g.prototype,new E)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(44),f=o(30),h=o(1),m=function(y){a(d,y);function d(g){var E=y.call(this,g)||this;return E.build(),E}return d.prototype.appendChild=function(g){this.insertBefore(g)},d.prototype.attach=function(){y.prototype.attach.call(this),this.children.forEach(function(g){g.attach()})},d.prototype.build=function(){var g=this;this.children=new u.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(E){try{var T=v(E);g.insertBefore(T,g.children.head||void 0)}catch(_){if(_ instanceof h.ParchmentError)return;throw _}})},d.prototype.deleteAt=function(g,E){if(g===0&&E===this.length())return this.remove();this.children.forEachAt(g,E,function(T,_,w){T.deleteAt(_,w)})},d.prototype.descendant=function(g,E){var T=this.children.find(E),_=T[0],w=T[1];return g.blotName==null&&g(_)||g.blotName!=null&&_ instanceof g?[_,w]:_ instanceof d?_.descendant(g,w):[null,-1]},d.prototype.descendants=function(g,E,T){E===void 0&&(E=0),T===void 0&&(T=Number.MAX_VALUE);var _=[],w=T;return this.children.forEachAt(E,T,function(S,R,b){(g.blotName==null&&g(S)||g.blotName!=null&&S instanceof g)&&_.push(S),S instanceof d&&(_=_.concat(S.descendants(g,R,w))),w-=b}),_},d.prototype.detach=function(){this.children.forEach(function(g){g.detach()}),y.prototype.detach.call(this)},d.prototype.formatAt=function(g,E,T,_){this.children.forEachAt(g,E,function(w,S,R){w.formatAt(S,R,T,_)})},d.prototype.insertAt=function(g,E,T){var _=this.children.find(g),w=_[0],S=_[1];if(w)w.insertAt(S,E,T);else{var R=T==null?h.create("text",E):h.create(E,T);this.appendChild(R)}},d.prototype.insertBefore=function(g,E){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(T){return g instanceof T}))throw new h.ParchmentError("Cannot insert "+g.statics.blotName+" into "+this.statics.blotName);g.insertInto(this,E)},d.prototype.length=function(){return this.children.reduce(function(g,E){return g+E.length()},0)},d.prototype.moveChildren=function(g,E){this.children.forEach(function(T){g.insertBefore(T,E)})},d.prototype.optimize=function(g){if(y.prototype.optimize.call(this,g),this.children.length===0)if(this.statics.defaultChild!=null){var E=h.create(this.statics.defaultChild);this.appendChild(E),E.optimize(g)}else this.remove()},d.prototype.path=function(g,E){E===void 0&&(E=!1);var T=this.children.find(g,E),_=T[0],w=T[1],S=[[this,g]];return _ instanceof d?S.concat(_.path(w,E)):(_!=null&&S.push([_,w]),S)},d.prototype.removeChild=function(g){this.children.remove(g)},d.prototype.replace=function(g){g instanceof d&&g.moveChildren(this),y.prototype.replace.call(this,g)},d.prototype.split=function(g,E){if(E===void 0&&(E=!1),!E){if(g===0)return this;if(g===this.length())return this.next}var T=this.clone();return this.parent.insertBefore(T,this.next),this.children.forEachAt(g,this.length(),function(_,w,S){_=_.split(w,E),T.appendChild(_)}),T},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(g,E){var T=this,_=[],w=[];g.forEach(function(S){S.target===T.domNode&&S.type==="childList"&&(_.push.apply(_,S.addedNodes),w.push.apply(w,S.removedNodes))}),w.forEach(function(S){if(!(S.parentNode!=null&&S.tagName!=="IFRAME"&&document.body.compareDocumentPosition(S)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var R=h.find(S);R!=null&&(R.domNode.parentNode==null||R.domNode.parentNode===T.domNode)&&R.detach()}}),_.filter(function(S){return S.parentNode==T.domNode}).sort(function(S,R){return S===R?0:S.compareDocumentPosition(R)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(S){var R=null;S.nextSibling!=null&&(R=h.find(S.nextSibling));var b=v(S);(b.next!=R||b.next==null)&&(b.parent!=null&&b.parent.removeChild(T),T.insertBefore(b,R||void 0))})},d}(f.default);function v(y){var d=h.find(y);if(d==null)try{d=h.create(y)}catch{d=h.create(h.Scope.INLINE),[].slice.call(y.childNodes).forEach(function(E){d.domNode.appendChild(E)}),y.parentNode&&y.parentNode.replaceChild(d.domNode,y),d.attach()}return d}r.default=m},function(t,r,o){var a=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var E in g)g.hasOwnProperty(E)&&(d[E]=g[E])};return function(d,g){y(d,g);function E(){this.constructor=d}d.prototype=g===null?Object.create(g):(E.prototype=g.prototype,new E)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(12),f=o(31),h=o(17),m=o(1),v=function(y){a(d,y);function d(g){var E=y.call(this,g)||this;return E.attributes=new f.default(E.domNode),E}return d.formats=function(g){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return g.tagName.toLowerCase()},d.prototype.format=function(g,E){var T=m.query(g);T instanceof u.default?this.attributes.attribute(T,E):E&&T!=null&&(g!==this.statics.blotName||this.formats()[g]!==E)&&this.replaceWith(g,E)},d.prototype.formats=function(){var g=this.attributes.values(),E=this.statics.formats(this.domNode);return E!=null&&(g[this.statics.blotName]=E),g},d.prototype.replaceWith=function(g,E){var T=y.prototype.replaceWith.call(this,g,E);return this.attributes.copy(T),T},d.prototype.update=function(g,E){var T=this;y.prototype.update.call(this,g,E),g.some(function(_){return _.target===T.domNode&&_.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(g,E){var T=y.prototype.wrap.call(this,g,E);return T instanceof d&&T.statics.scope===this.statics.scope&&this.attributes.move(T),T},d}(h.default);r.default=v},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var d in y)y.hasOwnProperty(d)&&(v[d]=y[d])};return function(v,y){m(v,y);function d(){this.constructor=v}v.prototype=y===null?Object.create(y):(d.prototype=y.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(30),f=o(1),h=function(m){a(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.value=function(y){return!0},v.prototype.index=function(y,d){return this.domNode===y||this.domNode.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},v.prototype.position=function(y,d){var g=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return y>0&&(g+=1),[this.parent.domNode,g]},v.prototype.value=function(){var y;return y={},y[this.statics.blotName]=this.statics.value(this.domNode)||!0,y},v.scope=f.Scope.INLINE_BLOT,v}(u.default);r.default=h},function(t,r,o){var a=o(11),u=o(3),f={attributes:{compose:function(m,v,y){typeof m!="object"&&(m={}),typeof v!="object"&&(v={});var d=u(!0,{},v);y||(d=Object.keys(d).reduce(function(E,T){return d[T]!=null&&(E[T]=d[T]),E},{}));for(var g in m)m[g]!==void 0&&v[g]===void 0&&(d[g]=m[g]);return Object.keys(d).length>0?d:void 0},diff:function(m,v){typeof m!="object"&&(m={}),typeof v!="object"&&(v={});var y=Object.keys(m).concat(Object.keys(v)).reduce(function(d,g){return a(m[g],v[g])||(d[g]=v[g]===void 0?null:v[g]),d},{});return Object.keys(y).length>0?y:void 0},transform:function(m,v,y){if(typeof m!="object")return v;if(typeof v=="object"){if(!y)return v;var d=Object.keys(v).reduce(function(g,E){return m[E]===void 0&&(g[E]=v[E]),g},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(m){return new h(m)},length:function(m){return typeof m.delete=="number"?m.delete:typeof m.retain=="number"?m.retain:typeof m.insert=="string"?m.insert.length:1}};function h(m){this.ops=m,this.index=0,this.offset=0}h.prototype.hasNext=function(){return this.peekLength()<1/0},h.prototype.next=function(m){m||(m=1/0);var v=this.ops[this.index];if(v){var y=this.offset,d=f.length(v);if(m>=d-y?(m=d-y,this.index+=1,this.offset=0):this.offset+=m,typeof v.delete=="number")return{delete:m};var g={};return v.attributes&&(g.attributes=v.attributes),typeof v.retain=="number"?g.retain=m:typeof v.insert=="string"?g.insert=v.insert.substr(y,m):g.insert=v.insert,g}else return{retain:1/0}},h.prototype.peek=function(){return this.ops[this.index]},h.prototype.peekLength=function(){return this.ops[this.index]?f.length(this.ops[this.index])-this.offset:1/0},h.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},h.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var m=this.offset,v=this.index,y=this.next(),d=this.ops.slice(this.index);return this.offset=m,this.index=v,[y].concat(d)}else return[]},t.exports=f},function(t,r){var o=function(){function a(T,_){return _!=null&&T instanceof _}var u;try{u=Map}catch{u=function(){}}var f;try{f=Set}catch{f=function(){}}var h;try{h=Promise}catch{h=function(){}}function m(T,_,w,S,R){typeof _=="object"&&(w=_.depth,S=_.prototype,R=_.includeNonEnumerable,_=_.circular);var b=[],M=[],U=typeof Buffer<"u";typeof _>"u"&&(_=!0),typeof w>"u"&&(w=1/0);function k(I,L){if(I===null)return null;if(L===0)return I;var O,C;if(typeof I!="object")return I;if(a(I,u))O=new u;else if(a(I,f))O=new f;else if(a(I,h))O=new h(function(W,j){I.then(function(B){W(k(B,L-1))},function(B){j(k(B,L-1))})});else if(m.__isArray(I))O=[];else if(m.__isRegExp(I))O=new RegExp(I.source,E(I)),I.lastIndex&&(O.lastIndex=I.lastIndex);else if(m.__isDate(I))O=new Date(I.getTime());else{if(U&&Buffer.isBuffer(I))return Buffer.allocUnsafe?O=Buffer.allocUnsafe(I.length):O=new Buffer(I.length),I.copy(O),O;a(I,Error)?O=Object.create(I):typeof S>"u"?(C=Object.getPrototypeOf(I),O=Object.create(C)):(O=Object.create(S),C=S)}if(_){var D=b.indexOf(I);if(D!=-1)return M[D];b.push(I),M.push(O)}a(I,u)&&I.forEach(function(W,j){var B=k(j,L-1),K=k(W,L-1);O.set(B,K)}),a(I,f)&&I.forEach(function(W){var j=k(W,L-1);O.add(j)});for(var N in I){var H;C&&(H=Object.getOwnPropertyDescriptor(C,N)),!(H&&H.set==null)&&(O[N]=k(I[N],L-1))}if(Object.getOwnPropertySymbols)for(var G=Object.getOwnPropertySymbols(I),N=0;N<G.length;N++){var Z=G[N],Q=Object.getOwnPropertyDescriptor(I,Z);Q&&!Q.enumerable&&!R||(O[Z]=k(I[Z],L-1),Q.enumerable||Object.defineProperty(O,Z,{enumerable:!1}))}if(R)for(var re=Object.getOwnPropertyNames(I),N=0;N<re.length;N++){var Y=re[N],Q=Object.getOwnPropertyDescriptor(I,Y);Q&&Q.enumerable||(O[Y]=k(I[Y],L-1),Object.defineProperty(O,Y,{enumerable:!1}))}return O}return k(T,w)}m.clonePrototype=function(_){if(_===null)return null;var w=function(){};return w.prototype=_,new w};function v(T){return Object.prototype.toString.call(T)}m.__objToStr=v;function y(T){return typeof T=="object"&&v(T)==="[object Date]"}m.__isDate=y;function d(T){return typeof T=="object"&&v(T)==="[object Array]"}m.__isArray=d;function g(T){return typeof T=="object"&&v(T)==="[object RegExp]"}m.__isRegExp=g;function E(T){var _="";return T.global&&(_+="g"),T.ignoreCase&&(_+="i"),T.multiline&&(_+="m"),_}return m.__getRegExpFlags=E,m}();typeof t=="object"&&t.exports&&(t.exports=o)},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function O(C,D){var N=[],H=!0,G=!1,Z=void 0;try{for(var Q=C[Symbol.iterator](),re;!(H=(re=Q.next()).done)&&(N.push(re.value),!(D&&N.length===D));H=!0);}catch(Y){G=!0,Z=Y}finally{try{!H&&Q.return&&Q.return()}finally{if(G)throw Z}}return N}return function(C,D){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return O(C,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function O(C,D){for(var N=0;N<D.length;N++){var H=D[N];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(C,H.key,H)}}return function(C,D,N){return D&&O(C.prototype,D),N&&O(C,N),C}}(),f=function O(C,D,N){C===null&&(C=Function.prototype);var H=Object.getOwnPropertyDescriptor(C,D);if(H===void 0){var G=Object.getPrototypeOf(C);return G===null?void 0:O(G,D,N)}else{if("value"in H)return H.value;var Z=H.get;return Z===void 0?void 0:Z.call(N)}},h=o(0),m=b(h),v=o(8),y=b(v),d=o(4),g=b(d),E=o(16),T=b(E),_=o(13),w=b(_),S=o(25),R=b(S);function b(O){return O&&O.__esModule?O:{default:O}}function M(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function U(O,C){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:O}function k(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(O,C):O.__proto__=C)}function I(O){return O instanceof g.default||O instanceof d.BlockEmbed}var L=function(O){k(C,O);function C(D,N){M(this,C);var H=U(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,D));return H.emitter=N.emitter,Array.isArray(N.whitelist)&&(H.whitelist=N.whitelist.reduce(function(G,Z){return G[Z]=!0,G},{})),H.domNode.addEventListener("DOMNodeInserted",function(){}),H.optimize(),H.enable(),H}return u(C,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(N,H){var G=this.line(N),Z=a(G,2),Q=Z[0],re=Z[1],Y=this.line(N+H),W=a(Y,1),j=W[0];if(f(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"deleteAt",this).call(this,N,H),j!=null&&Q!==j&&re>0){if(Q instanceof d.BlockEmbed||j instanceof d.BlockEmbed){this.optimize();return}if(Q instanceof w.default){var B=Q.newlineIndex(Q.length(),!0);if(B>-1&&(Q=Q.split(B+1),Q===j)){this.optimize();return}}else if(j instanceof w.default){var K=j.newlineIndex(0);K>-1&&j.split(K+1)}var ne=j.children.head instanceof T.default?null:j.children.head;Q.moveChildren(j,ne),Q.remove()}this.optimize()}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",N)}},{key:"formatAt",value:function(N,H,G,Z){this.whitelist!=null&&!this.whitelist[G]||(f(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"formatAt",this).call(this,N,H,G,Z),this.optimize())}},{key:"insertAt",value:function(N,H,G){if(!(G!=null&&this.whitelist!=null&&!this.whitelist[H])){if(N>=this.length())if(G==null||m.default.query(H,m.default.Scope.BLOCK)==null){var Z=m.default.create(this.statics.defaultChild);this.appendChild(Z),G==null&&H.endsWith(`
`)&&(H=H.slice(0,-1)),Z.insertAt(0,H,G)}else{var Q=m.default.create(H,G);this.appendChild(Q)}else f(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertAt",this).call(this,N,H,G);this.optimize()}}},{key:"insertBefore",value:function(N,H){if(N.statics.scope===m.default.Scope.INLINE_BLOT){var G=m.default.create(this.statics.defaultChild);G.appendChild(N),N=G}f(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertBefore",this).call(this,N,H)}},{key:"leaf",value:function(N){return this.path(N).pop()||[null,-1]}},{key:"line",value:function(N){return N===this.length()?this.line(N-1):this.descendant(I,N)}},{key:"lines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,G=function Z(Q,re,Y){var W=[],j=Y;return Q.children.forEachAt(re,Y,function(B,K,ne){I(B)?W.push(B):B instanceof m.default.Container&&(W=W.concat(Z(B,K,j))),j-=ne}),W};return G(this,N,H)}},{key:"optimize",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(f(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,N,H),N.length>0&&this.emitter.emit(y.default.events.SCROLL_OPTIMIZE,N,H))}},{key:"path",value:function(N){return f(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"path",this).call(this,N).slice(1)}},{key:"update",value:function(N){if(this.batch!==!0){var H=y.default.sources.USER;typeof N=="string"&&(H=N),Array.isArray(N)||(N=this.observer.takeRecords()),N.length>0&&this.emitter.emit(y.default.events.SCROLL_BEFORE_UPDATE,H,N),f(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"update",this).call(this,N.concat([])),N.length>0&&this.emitter.emit(y.default.events.SCROLL_UPDATE,H,N)}}}]),C}(m.default.Scroll);L.blotName="scroll",L.className="ql-editor",L.tagName="DIV",L.defaultChild="block",L.allowedChildren=[g.default,d.BlockEmbed,R.default],r.default=L},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},u=function(){function $(J,oe){var se=[],pe=!0,Ie=!1,Me=void 0;try{for(var Ue=J[Symbol.iterator](),Ge;!(pe=(Ge=Ue.next()).done)&&(se.push(Ge.value),!(oe&&se.length===oe));pe=!0);}catch(Je){Ie=!0,Me=Je}finally{try{!pe&&Ue.return&&Ue.return()}finally{if(Ie)throw Me}}return se}return function(J,oe){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return $(J,oe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function $(J,oe){for(var se=0;se<oe.length;se++){var pe=oe[se];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(J,pe.key,pe)}}return function(J,oe,se){return oe&&$(J.prototype,oe),se&&$(J,se),J}}(),h=o(21),m=O(h),v=o(11),y=O(v),d=o(3),g=O(d),E=o(2),T=O(E),_=o(20),w=O(_),S=o(0),R=O(S),b=o(5),M=O(b),U=o(10),k=O(U),I=o(9),L=O(I);function O($){return $&&$.__esModule?$:{default:$}}function C($,J,oe){return J in $?Object.defineProperty($,J,{value:oe,enumerable:!0,configurable:!0,writable:!0}):$[J]=oe,$}function D($,J){if(!($ instanceof J))throw new TypeError("Cannot call a class as a function")}function N($,J){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J&&(typeof J=="object"||typeof J=="function")?J:$}function H($,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);$.prototype=Object.create(J&&J.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf($,J):$.__proto__=J)}var G=(0,k.default)("quill:keyboard"),Z=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Q=function($){H(J,$),f(J,null,[{key:"match",value:function(se,pe){return pe=te(pe),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Ie){return!!pe[Ie]!==se[Ie]&&pe[Ie]!==null})?!1:pe.key===(se.which||se.keyCode)}}]);function J(oe,se){D(this,J);var pe=N(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,oe,se));return pe.bindings={},Object.keys(pe.options.bindings).forEach(function(Ie){Ie==="list autofill"&&oe.scroll.whitelist!=null&&!oe.scroll.whitelist.list||pe.options.bindings[Ie]&&pe.addBinding(pe.options.bindings[Ie])}),pe.addBinding({key:J.keys.ENTER,shiftKey:null},B),pe.addBinding({key:J.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(pe.addBinding({key:J.keys.BACKSPACE},{collapsed:!0},Y),pe.addBinding({key:J.keys.DELETE},{collapsed:!0},W)):(pe.addBinding({key:J.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},Y),pe.addBinding({key:J.keys.DELETE},{collapsed:!0,suffix:/^.?$/},W)),pe.addBinding({key:J.keys.BACKSPACE},{collapsed:!1},j),pe.addBinding({key:J.keys.DELETE},{collapsed:!1},j),pe.addBinding({key:J.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},Y),pe.listen(),pe}return f(J,[{key:"addBinding",value:function(se){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Me=te(se);if(Me==null||Me.key==null)return G.warn("Attempted to add invalid keyboard binding",Me);typeof pe=="function"&&(pe={handler:pe}),typeof Ie=="function"&&(Ie={handler:Ie}),Me=(0,g.default)(Me,pe,Ie),this.bindings[Me.key]=this.bindings[Me.key]||[],this.bindings[Me.key].push(Me)}},{key:"listen",value:function(){var se=this;this.quill.root.addEventListener("keydown",function(pe){if(!pe.defaultPrevented){var Ie=pe.which||pe.keyCode,Me=(se.bindings[Ie]||[]).filter(function(ft){return J.match(pe,ft)});if(Me.length!==0){var Ue=se.quill.getSelection();if(!(Ue==null||!se.quill.hasFocus())){var Ge=se.quill.getLine(Ue.index),Je=u(Ge,2),Ot=Je[0],gt=Je[1],de=se.quill.getLeaf(Ue.index),me=u(de,2),be=me[0],Ae=me[1],ye=Ue.length===0?[be,Ae]:se.quill.getLeaf(Ue.index+Ue.length),$e=u(ye,2),He=$e[0],Qe=$e[1],at=be instanceof R.default.Text?be.value().slice(0,Ae):"",ct=He instanceof R.default.Text?He.value().slice(Qe):"",ot={collapsed:Ue.length===0,empty:Ue.length===0&&Ot.length()<=1,format:se.quill.getFormat(Ue),offset:gt,prefix:at,suffix:ct},ho=Me.some(function(ft){if(ft.collapsed!=null&&ft.collapsed!==ot.collapsed||ft.empty!=null&&ft.empty!==ot.empty||ft.offset!=null&&ft.offset!==ot.offset)return!1;if(Array.isArray(ft.format)){if(ft.format.every(function(on){return ot.format[on]==null}))return!1}else if(a(ft.format)==="object"&&!Object.keys(ft.format).every(function(on){return ft.format[on]===!0?ot.format[on]!=null:ft.format[on]===!1?ot.format[on]==null:(0,y.default)(ft.format[on],ot.format[on])}))return!1;return ft.prefix!=null&&!ft.prefix.test(ot.prefix)||ft.suffix!=null&&!ft.suffix.test(ot.suffix)?!1:ft.handler.call(se,Ue,ot)!==!0});ho&&pe.preventDefault()}}}})}}]),J}(L.default);Q.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Q.DEFAULTS={bindings:{bold:ne("bold"),italic:ne("italic"),underline:ne("underline"),indent:{key:Q.keys.TAB,format:["blockquote","indent","list"],handler:function(J,oe){if(oe.collapsed&&oe.offset!==0)return!0;this.quill.format("indent","+1",M.default.sources.USER)}},outdent:{key:Q.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(J,oe){if(oe.collapsed&&oe.offset!==0)return!0;this.quill.format("indent","-1",M.default.sources.USER)}},"outdent backspace":{key:Q.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(J,oe){oe.format.indent!=null?this.quill.format("indent","-1",M.default.sources.USER):oe.format.list!=null&&this.quill.format("list",!1,M.default.sources.USER)}},"indent code-block":K(!0),"outdent code-block":K(!1),"remove tab":{key:Q.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(J){this.quill.deleteText(J.index-1,1,M.default.sources.USER)}},tab:{key:Q.keys.TAB,handler:function(J){this.quill.history.cutoff();var oe=new T.default().retain(J.index).delete(J.length).insert("	");this.quill.updateContents(oe,M.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index+1,M.default.sources.SILENT)}},"list empty enter":{key:Q.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(J,oe){this.quill.format("list",!1,M.default.sources.USER),oe.format.indent&&this.quill.format("indent",!1,M.default.sources.USER)}},"checklist enter":{key:Q.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(J){var oe=this.quill.getLine(J.index),se=u(oe,2),pe=se[0],Ie=se[1],Me=(0,g.default)({},pe.formats(),{list:"checked"}),Ue=new T.default().retain(J.index).insert(`
`,Me).retain(pe.length()-Ie-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ue,M.default.sources.USER),this.quill.setSelection(J.index+1,M.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Q.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(J,oe){var se=this.quill.getLine(J.index),pe=u(se,2),Ie=pe[0],Me=pe[1],Ue=new T.default().retain(J.index).insert(`
`,oe.format).retain(Ie.length()-Me-1).retain(1,{header:null});this.quill.updateContents(Ue,M.default.sources.USER),this.quill.setSelection(J.index+1,M.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(J,oe){var se=oe.prefix.length,pe=this.quill.getLine(J.index),Ie=u(pe,2),Me=Ie[0],Ue=Ie[1];if(Ue>se)return!0;var Ge=void 0;switch(oe.prefix.trim()){case"[]":case"[ ]":Ge="unchecked";break;case"[x]":Ge="checked";break;case"-":case"*":Ge="bullet";break;default:Ge="ordered"}this.quill.insertText(J.index," ",M.default.sources.USER),this.quill.history.cutoff();var Je=new T.default().retain(J.index-Ue).delete(se+1).retain(Me.length()-2-Ue).retain(1,{list:Ge});this.quill.updateContents(Je,M.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index-se,M.default.sources.SILENT)}},"code exit":{key:Q.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(J){var oe=this.quill.getLine(J.index),se=u(oe,2),pe=se[0],Ie=se[1],Me=new T.default().retain(J.index+pe.length()-Ie-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Me,M.default.sources.USER)}},"embed left":re(Q.keys.LEFT,!1),"embed left shift":re(Q.keys.LEFT,!0),"embed right":re(Q.keys.RIGHT,!1),"embed right shift":re(Q.keys.RIGHT,!0)}};function re($,J){var oe,se=$===Q.keys.LEFT?"prefix":"suffix";return oe={key:$,shiftKey:J,altKey:null},C(oe,se,/^$/),C(oe,"handler",function(Ie){var Me=Ie.index;$===Q.keys.RIGHT&&(Me+=Ie.length+1);var Ue=this.quill.getLeaf(Me),Ge=u(Ue,1),Je=Ge[0];return Je instanceof R.default.Embed?($===Q.keys.LEFT?J?this.quill.setSelection(Ie.index-1,Ie.length+1,M.default.sources.USER):this.quill.setSelection(Ie.index-1,M.default.sources.USER):J?this.quill.setSelection(Ie.index,Ie.length+1,M.default.sources.USER):this.quill.setSelection(Ie.index+Ie.length+1,M.default.sources.USER),!1):!0}),oe}function Y($,J){if(!($.index===0||this.quill.getLength()<=1)){var oe=this.quill.getLine($.index),se=u(oe,1),pe=se[0],Ie={};if(J.offset===0){var Me=this.quill.getLine($.index-1),Ue=u(Me,1),Ge=Ue[0];if(Ge!=null&&Ge.length()>1){var Je=pe.formats(),Ot=this.quill.getFormat($.index-1,1);Ie=w.default.attributes.diff(Je,Ot)||{}}}var gt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(J.prefix)?2:1;this.quill.deleteText($.index-gt,gt,M.default.sources.USER),Object.keys(Ie).length>0&&this.quill.formatLine($.index-gt,gt,Ie,M.default.sources.USER),this.quill.focus()}}function W($,J){var oe=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(J.suffix)?2:1;if(!($.index>=this.quill.getLength()-oe)){var se={},pe=0,Ie=this.quill.getLine($.index),Me=u(Ie,1),Ue=Me[0];if(J.offset>=Ue.length()-1){var Ge=this.quill.getLine($.index+1),Je=u(Ge,1),Ot=Je[0];if(Ot){var gt=Ue.formats(),de=this.quill.getFormat($.index,1);se=w.default.attributes.diff(gt,de)||{},pe=Ot.length()}}this.quill.deleteText($.index,oe,M.default.sources.USER),Object.keys(se).length>0&&this.quill.formatLine($.index+pe-1,oe,se,M.default.sources.USER)}}function j($){var J=this.quill.getLines($),oe={};if(J.length>1){var se=J[0].formats(),pe=J[J.length-1].formats();oe=w.default.attributes.diff(pe,se)||{}}this.quill.deleteText($,M.default.sources.USER),Object.keys(oe).length>0&&this.quill.formatLine($.index,1,oe,M.default.sources.USER),this.quill.setSelection($.index,M.default.sources.SILENT),this.quill.focus()}function B($,J){var oe=this;$.length>0&&this.quill.scroll.deleteAt($.index,$.length);var se=Object.keys(J.format).reduce(function(pe,Ie){return R.default.query(Ie,R.default.Scope.BLOCK)&&!Array.isArray(J.format[Ie])&&(pe[Ie]=J.format[Ie]),pe},{});this.quill.insertText($.index,`
`,se,M.default.sources.USER),this.quill.setSelection($.index+1,M.default.sources.SILENT),this.quill.focus(),Object.keys(J.format).forEach(function(pe){se[pe]==null&&(Array.isArray(J.format[pe])||pe!=="link"&&oe.quill.format(pe,J.format[pe],M.default.sources.USER))})}function K($){return{key:Q.keys.TAB,shiftKey:!$,format:{"code-block":!0},handler:function(oe){var se=R.default.query("code-block"),pe=oe.index,Ie=oe.length,Me=this.quill.scroll.descendant(se,pe),Ue=u(Me,2),Ge=Ue[0],Je=Ue[1];if(Ge!=null){var Ot=this.quill.getIndex(Ge),gt=Ge.newlineIndex(Je,!0)+1,de=Ge.newlineIndex(Ot+Je+Ie),me=Ge.domNode.textContent.slice(gt,de).split(`
`);Je=0,me.forEach(function(be,Ae){$?(Ge.insertAt(gt+Je,se.TAB),Je+=se.TAB.length,Ae===0?pe+=se.TAB.length:Ie+=se.TAB.length):be.startsWith(se.TAB)&&(Ge.deleteAt(gt+Je,se.TAB.length),Je-=se.TAB.length,Ae===0?pe-=se.TAB.length:Ie-=se.TAB.length),Je+=be.length+1}),this.quill.update(M.default.sources.USER),this.quill.setSelection(pe,Ie,M.default.sources.SILENT)}}}}function ne($){return{key:$[0].toUpperCase(),shortKey:!0,handler:function(oe,se){this.quill.format($,!se.format[$],M.default.sources.USER)}}}function te($){if(typeof $=="string"||typeof $=="number")return te({key:$});if((typeof $>"u"?"undefined":a($))==="object"&&($=(0,m.default)($,!1)),typeof $.key=="string")if(Q.keys[$.key.toUpperCase()]!=null)$.key=Q.keys[$.key.toUpperCase()];else if($.key.length===1)$.key=$.key.toUpperCase().charCodeAt(0);else return null;return $.shortKey&&($[Z]=$.shortKey,delete $.shortKey),$}r.default=Q,r.SHORTKEY=Z},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function w(S,R){var b=[],M=!0,U=!1,k=void 0;try{for(var I=S[Symbol.iterator](),L;!(M=(L=I.next()).done)&&(b.push(L.value),!(R&&b.length===R));M=!0);}catch(O){U=!0,k=O}finally{try{!M&&I.return&&I.return()}finally{if(U)throw k}}return b}return function(S,R){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return w(S,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function w(S,R,b){S===null&&(S=Function.prototype);var M=Object.getOwnPropertyDescriptor(S,R);if(M===void 0){var U=Object.getPrototypeOf(S);return U===null?void 0:w(U,R,b)}else{if("value"in M)return M.value;var k=M.get;return k===void 0?void 0:k.call(b)}},f=function(){function w(S,R){for(var b=0;b<R.length;b++){var M=R[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(S,M.key,M)}}return function(S,R,b){return R&&w(S.prototype,R),b&&w(S,b),S}}(),h=o(0),m=d(h),v=o(7),y=d(v);function d(w){return w&&w.__esModule?w:{default:w}}function g(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function E(w,S){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:w}function T(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);w.prototype=Object.create(S&&S.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(w,S):w.__proto__=S)}var _=function(w){T(S,w),f(S,null,[{key:"value",value:function(){}}]);function S(R,b){g(this,S);var M=E(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R));return M.selection=b,M.textNode=document.createTextNode(S.CONTENTS),M.domNode.appendChild(M.textNode),M._length=0,M}return f(S,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(b,M){if(this._length!==0)return u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,b,M);for(var U=this,k=0;U!=null&&U.statics.scope!==m.default.Scope.BLOCK_BLOT;)k+=U.offset(U.parent),U=U.parent;U!=null&&(this._length=S.CONTENTS.length,U.optimize(),U.formatAt(k,S.CONTENTS.length,b,M),this._length=0)}},{key:"index",value:function(b,M){return b===this.textNode?0:u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"index",this).call(this,b,M)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var b=this.textNode,M=this.selection.getNativeRange(),U=void 0,k=void 0,I=void 0;if(M!=null&&M.start.node===b&&M.end.node===b){var L=[b,M.start.offset,M.end.offset];U=L[0],k=L[1],I=L[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==S.CONTENTS){var O=this.textNode.data.split(S.CONTENTS).join("");this.next instanceof y.default?(U=this.next.domNode,this.next.insertAt(0,O),this.textNode.data=S.CONTENTS):(this.textNode.data=O,this.parent.insertBefore(m.default.create(this.textNode),this),this.textNode=document.createTextNode(S.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),k!=null){var C=[k,I].map(function(N){return Math.max(0,Math.min(U.data.length,N-1))}),D=a(C,2);return k=D[0],I=D[1],{startNode:U,startOffset:k,endNode:U,endOffset:I}}}}},{key:"update",value:function(b,M){var U=this;if(b.some(function(I){return I.type==="characterData"&&I.target===U.textNode})){var k=this.restore();k&&(M.range=k)}}},{key:"value",value:function(){return""}}]),S}(m.default.Embed);_.blotName="cursor",_.className="ql-cursor",_.tagName="span",_.CONTENTS="\uFEFF",r.default=_},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),u=m(a),f=o(4),h=m(f);function m(E){return E&&E.__esModule?E:{default:E}}function v(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function y(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function d(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var g=function(E){d(T,E);function T(){return v(this,T),y(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return T}(u.default.Container);g.allowedChildren=[h.default,f.BlockEmbed,g],r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var a=function(){function _(w,S){for(var R=0;R<S.length;R++){var b=S[R];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(w,b.key,b)}}return function(w,S,R){return S&&_(w.prototype,S),R&&_(w,R),w}}(),u=function _(w,S,R){w===null&&(w=Function.prototype);var b=Object.getOwnPropertyDescriptor(w,S);if(b===void 0){var M=Object.getPrototypeOf(w);return M===null?void 0:_(M,S,R)}else{if("value"in b)return b.value;var U=b.get;return U===void 0?void 0:U.call(R)}},f=o(0),h=m(f);function m(_){return _&&_.__esModule?_:{default:_}}function v(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function y(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function d(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var g=function(_){d(w,_);function w(){return v(this,w),y(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"value",value:function(R){var b=u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,R);return b.startsWith("rgb(")?(b=b.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+b.split(",").map(function(M){return("00"+parseInt(M).toString(16)).slice(-2)}).join("")):b}}]),w}(h.default.Attributor.Style),E=new h.default.Attributor.Class("color","ql-color",{scope:h.default.Scope.INLINE}),T=new g("color","color",{scope:h.default.Scope.INLINE});r.ColorAttributor=g,r.ColorClass=E,r.ColorStyle=T},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var a=function(){function T(_,w){for(var S=0;S<w.length;S++){var R=w[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(_,R.key,R)}}return function(_,w,S){return w&&T(_.prototype,w),S&&T(_,S),_}}(),u=function T(_,w,S){_===null&&(_=Function.prototype);var R=Object.getOwnPropertyDescriptor(_,w);if(R===void 0){var b=Object.getPrototypeOf(_);return b===null?void 0:T(b,w,S)}else{if("value"in R)return R.value;var M=R.get;return M===void 0?void 0:M.call(S)}},f=o(6),h=m(f);function m(T){return T&&T.__esModule?T:{default:T}}function v(T,_){if(!(T instanceof _))throw new TypeError("Cannot call a class as a function")}function y(T,_){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:T}function d(T,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);T.prototype=Object.create(_&&_.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(T,_):T.__proto__=_)}var g=function(T){d(_,T);function _(){return v(this,_),y(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"format",value:function(S,R){if(S!==this.statics.blotName||!R)return u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,S,R);R=this.constructor.sanitize(R),this.domNode.setAttribute("href",R)}}],[{key:"create",value:function(S){var R=u(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,S);return S=this.sanitize(S),R.setAttribute("href",S),R.setAttribute("rel","noopener noreferrer"),R.setAttribute("target","_blank"),R}},{key:"formats",value:function(S){return S.getAttribute("href")}},{key:"sanitize",value:function(S){return E(S,this.PROTOCOL_WHITELIST)?S:this.SANITIZED_URL}}]),_}(h.default);g.blotName="link",g.tagName="A",g.SANITIZED_URL="about:blank",g.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function E(T,_){var w=document.createElement("a");w.href=T;var S=w.href.slice(0,w.href.indexOf(":"));return _.indexOf(S)>-1}r.default=g,r.sanitize=E},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},u=function(){function _(w,S){for(var R=0;R<S.length;R++){var b=S[R];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(w,b.key,b)}}return function(w,S,R){return S&&_(w.prototype,S),R&&_(w,R),w}}(),f=o(23),h=y(f),m=o(107),v=y(m);function y(_){return _&&_.__esModule?_:{default:_}}function d(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}var g=0;function E(_,w){_.setAttribute(w,_.getAttribute(w)!=="true")}var T=function(){function _(w){var S=this;d(this,_),this.select=w,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){S.togglePicker()}),this.label.addEventListener("keydown",function(R){switch(R.keyCode){case h.default.keys.ENTER:S.togglePicker();break;case h.default.keys.ESCAPE:S.escape(),R.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return u(_,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),E(this.label,"aria-expanded"),E(this.options,"aria-hidden")}},{key:"buildItem",value:function(S){var R=this,b=document.createElement("span");return b.tabIndex="0",b.setAttribute("role","button"),b.classList.add("ql-picker-item"),S.hasAttribute("value")&&b.setAttribute("data-value",S.getAttribute("value")),S.textContent&&b.setAttribute("data-label",S.textContent),b.addEventListener("click",function(){R.selectItem(b,!0)}),b.addEventListener("keydown",function(M){switch(M.keyCode){case h.default.keys.ENTER:R.selectItem(b,!0),M.preventDefault();break;case h.default.keys.ESCAPE:R.escape(),M.preventDefault();break}}),b}},{key:"buildLabel",value:function(){var S=document.createElement("span");return S.classList.add("ql-picker-label"),S.innerHTML=v.default,S.tabIndex="0",S.setAttribute("role","button"),S.setAttribute("aria-expanded","false"),this.container.appendChild(S),S}},{key:"buildOptions",value:function(){var S=this,R=document.createElement("span");R.classList.add("ql-picker-options"),R.setAttribute("aria-hidden","true"),R.tabIndex="-1",R.id="ql-picker-options-"+g,g+=1,this.label.setAttribute("aria-controls",R.id),this.options=R,[].slice.call(this.select.options).forEach(function(b){var M=S.buildItem(b);R.appendChild(M),b.selected===!0&&S.selectItem(M)}),this.container.appendChild(R)}},{key:"buildPicker",value:function(){var S=this;[].slice.call(this.select.attributes).forEach(function(R){S.container.setAttribute(R.name,R.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var S=this;this.close(),setTimeout(function(){return S.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(S){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=this.container.querySelector(".ql-selected");if(S!==b&&(b!=null&&b.classList.remove("ql-selected"),S!=null&&(S.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(S.parentNode.children,S),S.hasAttribute("data-value")?this.label.setAttribute("data-value",S.getAttribute("data-value")):this.label.removeAttribute("data-value"),S.hasAttribute("data-label")?this.label.setAttribute("data-label",S.getAttribute("data-label")):this.label.removeAttribute("data-label"),R))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var M=document.createEvent("Event");M.initEvent("change",!0,!0),this.select.dispatchEvent(M)}this.close()}}},{key:"update",value:function(){var S=void 0;if(this.select.selectedIndex>-1){var R=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];S=this.select.options[this.select.selectedIndex],this.selectItem(R)}else this.selectItem(null);var b=S!=null&&S!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",b)}}]),_}();r.default=T},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),u=G(a),f=o(5),h=G(f),m=o(4),v=G(m),y=o(16),d=G(y),g=o(25),E=G(g),T=o(24),_=G(T),w=o(35),S=G(w),R=o(6),b=G(R),M=o(22),U=G(M),k=o(7),I=G(k),L=o(55),O=G(L),C=o(42),D=G(C),N=o(23),H=G(N);function G(Z){return Z&&Z.__esModule?Z:{default:Z}}h.default.register({"blots/block":v.default,"blots/block/embed":m.BlockEmbed,"blots/break":d.default,"blots/container":E.default,"blots/cursor":_.default,"blots/embed":S.default,"blots/inline":b.default,"blots/scroll":U.default,"blots/text":I.default,"modules/clipboard":O.default,"modules/history":D.default,"modules/keyboard":H.default}),u.default.register(v.default,d.default,_.default,b.default,U.default,I.default),r.default=h.default},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(1),u=function(){function f(h){this.domNode=h,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(f.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),f.create=function(h){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var m;return Array.isArray(this.tagName)?(typeof h=="string"&&(h=h.toUpperCase(),parseInt(h).toString()===h&&(h=parseInt(h))),typeof h=="number"?m=document.createElement(this.tagName[h-1]):this.tagName.indexOf(h)>-1?m=document.createElement(h):m=document.createElement(this.tagName[0])):m=document.createElement(this.tagName),this.className&&m.classList.add(this.className),m},f.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},f.prototype.clone=function(){var h=this.domNode.cloneNode(!1);return a.create(h)},f.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},f.prototype.deleteAt=function(h,m){var v=this.isolate(h,m);v.remove()},f.prototype.formatAt=function(h,m,v,y){var d=this.isolate(h,m);if(a.query(v,a.Scope.BLOT)!=null&&y)d.wrap(v,y);else if(a.query(v,a.Scope.ATTRIBUTE)!=null){var g=a.create(this.statics.scope);d.wrap(g),g.format(v,y)}},f.prototype.insertAt=function(h,m,v){var y=v==null?a.create("text",m):a.create(m,v),d=this.split(h);this.parent.insertBefore(y,d)},f.prototype.insertInto=function(h,m){m===void 0&&(m=null),this.parent!=null&&this.parent.children.remove(this);var v=null;h.children.insertBefore(this,m),m!=null&&(v=m.domNode),(this.domNode.parentNode!=h.domNode||this.domNode.nextSibling!=v)&&h.domNode.insertBefore(this.domNode,v),this.parent=h,this.attach()},f.prototype.isolate=function(h,m){var v=this.split(h);return v.split(m),v},f.prototype.length=function(){return 1},f.prototype.offset=function(h){return h===void 0&&(h=this.parent),this.parent==null||this==h?0:this.parent.children.offset(this)+this.parent.offset(h)},f.prototype.optimize=function(h){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},f.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},f.prototype.replace=function(h){h.parent!=null&&(h.parent.insertBefore(this,h.next),h.remove())},f.prototype.replaceWith=function(h,m){var v=typeof h=="string"?a.create(h,m):h;return v.replace(this),v},f.prototype.split=function(h,m){return h===0?this:this.next},f.prototype.update=function(h,m){},f.prototype.wrap=function(h,m){var v=typeof h=="string"?a.create(h,m):h;return this.parent!=null&&this.parent.insertBefore(v,this.next),v.appendChild(this),v},f.blotName="abstract",f}();r.default=u},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(12),u=o(32),f=o(33),h=o(1),m=function(){function v(y){this.attributes={},this.domNode=y,this.build()}return v.prototype.attribute=function(y,d){d?y.add(this.domNode,d)&&(y.value(this.domNode)!=null?this.attributes[y.attrName]=y:delete this.attributes[y.attrName]):(y.remove(this.domNode),delete this.attributes[y.attrName])},v.prototype.build=function(){var y=this;this.attributes={};var d=a.default.keys(this.domNode),g=u.default.keys(this.domNode),E=f.default.keys(this.domNode);d.concat(g).concat(E).forEach(function(T){var _=h.query(T,h.Scope.ATTRIBUTE);_ instanceof a.default&&(y.attributes[_.attrName]=_)})},v.prototype.copy=function(y){var d=this;Object.keys(this.attributes).forEach(function(g){var E=d.attributes[g].value(d.domNode);y.format(g,E)})},v.prototype.move=function(y){var d=this;this.copy(y),Object.keys(this.attributes).forEach(function(g){d.attributes[g].remove(d.domNode)}),this.attributes={}},v.prototype.values=function(){var y=this;return Object.keys(this.attributes).reduce(function(d,g){return d[g]=y.attributes[g].value(y.domNode),d},{})},v}();r.default=m},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var d in y)y.hasOwnProperty(d)&&(v[d]=y[d])};return function(v,y){m(v,y);function d(){this.constructor=v}v.prototype=y===null?Object.create(y):(d.prototype=y.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(12);function f(m,v){var y=m.getAttribute("class")||"";return y.split(/\s+/).filter(function(d){return d.indexOf(v+"-")===0})}var h=function(m){a(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.keys=function(y){return(y.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},v.prototype.add=function(y,d){return this.canAdd(y,d)?(this.remove(y),y.classList.add(this.keyName+"-"+d),!0):!1},v.prototype.remove=function(y){var d=f(y,this.keyName);d.forEach(function(g){y.classList.remove(g)}),y.classList.length===0&&y.removeAttribute("class")},v.prototype.value=function(y){var d=f(y,this.keyName)[0]||"",g=d.slice(this.keyName.length+1);return this.canAdd(y,g)?g:""},v}(u.default);r.default=h},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var d in y)y.hasOwnProperty(d)&&(v[d]=y[d])};return function(v,y){m(v,y);function d(){this.constructor=v}v.prototype=y===null?Object.create(y):(d.prototype=y.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(12);function f(m){var v=m.split("-"),y=v.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return v[0]+y}var h=function(m){a(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.keys=function(y){return(y.getAttribute("style")||"").split(";").map(function(d){var g=d.split(":");return g[0].trim()})},v.prototype.add=function(y,d){return this.canAdd(y,d)?(y.style[f(this.keyName)]=d,!0):!1},v.prototype.remove=function(y){y.style[f(this.keyName)]="",y.getAttribute("style")||y.removeAttribute("style")},v.prototype.value=function(y){var d=y.style[f(this.keyName)];return this.canAdd(y,d)?d:""},v}(u.default);r.default=h},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function h(m,v){for(var y=0;y<v.length;y++){var d=v[y];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(m,d.key,d)}}return function(m,v,y){return v&&h(m.prototype,v),y&&h(m,y),m}}();function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}var f=function(){function h(m,v){u(this,h),this.quill=m,this.options=v,this.modules={}}return a(h,[{key:"init",value:function(){var v=this;Object.keys(this.options.modules).forEach(function(y){v.modules[y]==null&&v.addModule(y)})}},{key:"addModule",value:function(v){var y=this.quill.constructor.import("modules/"+v);return this.modules[v]=new y(this.quill,this.options.modules[v]||{}),this.modules[v]}}]),h}();f.DEFAULTS={modules:{}},f.themes={default:f},r.default=f},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function w(S,R){for(var b=0;b<R.length;b++){var M=R[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(S,M.key,M)}}return function(S,R,b){return R&&w(S.prototype,R),b&&w(S,b),S}}(),u=function w(S,R,b){S===null&&(S=Function.prototype);var M=Object.getOwnPropertyDescriptor(S,R);if(M===void 0){var U=Object.getPrototypeOf(S);return U===null?void 0:w(U,R,b)}else{if("value"in M)return M.value;var k=M.get;return k===void 0?void 0:k.call(b)}},f=o(0),h=y(f),m=o(7),v=y(m);function y(w){return w&&w.__esModule?w:{default:w}}function d(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function g(w,S){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:w}function E(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);w.prototype=Object.create(S&&S.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(w,S):w.__proto__=S)}var T="\uFEFF",_=function(w){E(S,w);function S(R){d(this,S);var b=g(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R));return b.contentNode=document.createElement("span"),b.contentNode.setAttribute("contenteditable",!1),[].slice.call(b.domNode.childNodes).forEach(function(M){b.contentNode.appendChild(M)}),b.leftGuard=document.createTextNode(T),b.rightGuard=document.createTextNode(T),b.domNode.appendChild(b.leftGuard),b.domNode.appendChild(b.contentNode),b.domNode.appendChild(b.rightGuard),b}return a(S,[{key:"index",value:function(b,M){return b===this.leftGuard?0:b===this.rightGuard?1:u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"index",this).call(this,b,M)}},{key:"restore",value:function(b){var M=void 0,U=void 0,k=b.data.split(T).join("");if(b===this.leftGuard)if(this.prev instanceof v.default){var I=this.prev.length();this.prev.insertAt(I,k),M={startNode:this.prev.domNode,startOffset:I+k.length}}else U=document.createTextNode(k),this.parent.insertBefore(h.default.create(U),this),M={startNode:U,startOffset:k.length};else b===this.rightGuard&&(this.next instanceof v.default?(this.next.insertAt(0,k),M={startNode:this.next.domNode,startOffset:k.length}):(U=document.createTextNode(k),this.parent.insertBefore(h.default.create(U),this.next),M={startNode:U,startOffset:k.length}));return b.data=T,M}},{key:"update",value:function(b,M){var U=this;b.forEach(function(k){if(k.type==="characterData"&&(k.target===U.leftGuard||k.target===U.rightGuard)){var I=U.restore(k.target);I&&(M.range=I)}})}}]),S}(h.default.Embed);r.default=_},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var a=o(0),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}var h={scope:u.default.Scope.BLOCK,whitelist:["right","center","justify"]},m=new u.default.Attributor.Attribute("align","align",h),v=new u.default.Attributor.Class("align","ql-align",h),y=new u.default.Attributor.Style("align","text-align",h);r.AlignAttribute=m,r.AlignClass=v,r.AlignStyle=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var a=o(0),u=h(a),f=o(26);function h(y){return y&&y.__esModule?y:{default:y}}var m=new u.default.Attributor.Class("background","ql-bg",{scope:u.default.Scope.INLINE}),v=new f.ColorAttributor("background","background-color",{scope:u.default.Scope.INLINE});r.BackgroundClass=m,r.BackgroundStyle=v},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var a=o(0),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}var h={scope:u.default.Scope.BLOCK,whitelist:["rtl"]},m=new u.default.Attributor.Attribute("direction","dir",h),v=new u.default.Attributor.Class("direction","ql-direction",h),y=new u.default.Attributor.Style("direction","direction",h);r.DirectionAttribute=m,r.DirectionClass=v,r.DirectionStyle=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var a=function(){function w(S,R){for(var b=0;b<R.length;b++){var M=R[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(S,M.key,M)}}return function(S,R,b){return R&&w(S.prototype,R),b&&w(S,b),S}}(),u=function w(S,R,b){S===null&&(S=Function.prototype);var M=Object.getOwnPropertyDescriptor(S,R);if(M===void 0){var U=Object.getPrototypeOf(S);return U===null?void 0:w(U,R,b)}else{if("value"in M)return M.value;var k=M.get;return k===void 0?void 0:k.call(b)}},f=o(0),h=m(f);function m(w){return w&&w.__esModule?w:{default:w}}function v(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function y(w,S){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:w}function d(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);w.prototype=Object.create(S&&S.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(w,S):w.__proto__=S)}var g={scope:h.default.Scope.INLINE,whitelist:["serif","monospace"]},E=new h.default.Attributor.Class("font","ql-font",g),T=function(w){d(S,w);function S(){return v(this,S),y(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return a(S,[{key:"value",value:function(b){return u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"value",this).call(this,b).replace(/["']/g,"")}}]),S}(h.default.Attributor.Style),_=new T("font","font-family",g);r.FontStyle=_,r.FontClass=E},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var a=o(0),u=f(a);function f(v){return v&&v.__esModule?v:{default:v}}var h=new u.default.Attributor.Class("size","ql-size",{scope:u.default.Scope.INLINE,whitelist:["small","large","huge"]}),m=new u.default.Attributor.Style("size","font-size",{scope:u.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=h,r.SizeStyle=m},function(t,r,o){t.exports={align:{"":o(76),center:o(77),right:o(78),justify:o(79)},background:o(80),blockquote:o(81),bold:o(82),clean:o(83),code:o(58),"code-block":o(58),color:o(84),direction:{"":o(85),rtl:o(86)},float:{center:o(87),full:o(88),left:o(89),right:o(90)},formula:o(91),header:{1:o(92),2:o(93)},italic:o(94),image:o(95),indent:{"+1":o(96),"-1":o(97)},link:o(98),list:{ordered:o(99),bullet:o(100),check:o(101)},script:{sub:o(102),super:o(103)},strike:o(104),underline:o(105),video:o(106)}},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var a=function(){function R(b,M){for(var U=0;U<M.length;U++){var k=M[U];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}return function(b,M,U){return M&&R(b.prototype,M),U&&R(b,U),b}}(),u=o(0),f=d(u),h=o(5),m=d(h),v=o(9),y=d(v);function d(R){return R&&R.__esModule?R:{default:R}}function g(R,b){if(!(R instanceof b))throw new TypeError("Cannot call a class as a function")}function E(R,b){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:R}function T(R,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);R.prototype=Object.create(b&&b.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(R,b):R.__proto__=b)}var _=function(R){T(b,R);function b(M,U){g(this,b);var k=E(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,M,U));return k.lastRecorded=0,k.ignoreChange=!1,k.clear(),k.quill.on(m.default.events.EDITOR_CHANGE,function(I,L,O,C){I!==m.default.events.TEXT_CHANGE||k.ignoreChange||(!k.options.userOnly||C===m.default.sources.USER?k.record(L,O):k.transform(L))}),k.quill.keyboard.addBinding({key:"Z",shortKey:!0},k.undo.bind(k)),k.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},k.redo.bind(k)),/Win/i.test(navigator.platform)&&k.quill.keyboard.addBinding({key:"Y",shortKey:!0},k.redo.bind(k)),k}return a(b,[{key:"change",value:function(U,k){if(this.stack[U].length!==0){var I=this.stack[U].pop();this.stack[k].push(I),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(I[U],m.default.sources.USER),this.ignoreChange=!1;var L=S(I[U]);this.quill.setSelection(L)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(U,k){if(U.ops.length!==0){this.stack.redo=[];var I=this.quill.getContents().diff(k),L=Date.now();if(this.lastRecorded+this.options.delay>L&&this.stack.undo.length>0){var O=this.stack.undo.pop();I=I.compose(O.undo),U=O.redo.compose(U)}else this.lastRecorded=L;this.stack.undo.push({redo:U,undo:I}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(U){this.stack.undo.forEach(function(k){k.undo=U.transform(k.undo,!0),k.redo=U.transform(k.redo,!0)}),this.stack.redo.forEach(function(k){k.undo=U.transform(k.undo,!0),k.redo=U.transform(k.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),b}(y.default);_.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function w(R){var b=R.ops[R.ops.length-1];return b==null?!1:b.insert!=null?typeof b.insert=="string"&&b.insert.endsWith(`
`):b.attributes!=null?Object.keys(b.attributes).some(function(M){return f.default.query(M,f.default.Scope.BLOCK)!=null}):!1}function S(R){var b=R.reduce(function(U,k){return U+=k.delete||0,U},0),M=R.length()-b;return w(R)&&(M-=1),M}r.default=_,r.getLastChangeIndex=S},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var a=function(){function B(K,ne){for(var te=0;te<ne.length;te++){var $=ne[te];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(K,$.key,$)}}return function(K,ne,te){return ne&&B(K.prototype,ne),te&&B(K,te),K}}(),u=function B(K,ne,te){K===null&&(K=Function.prototype);var $=Object.getOwnPropertyDescriptor(K,ne);if($===void 0){var J=Object.getPrototypeOf(K);return J===null?void 0:B(J,ne,te)}else{if("value"in $)return $.value;var oe=$.get;return oe===void 0?void 0:oe.call(te)}},f=o(3),h=L(f),m=o(2),v=L(m),y=o(8),d=L(y),g=o(23),E=L(g),T=o(34),_=L(T),w=o(59),S=L(w),R=o(60),b=L(R),M=o(28),U=L(M),k=o(61),I=L(k);function L(B){return B&&B.__esModule?B:{default:B}}function O(B,K){if(!(B instanceof K))throw new TypeError("Cannot call a class as a function")}function C(B,K){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:B}function D(B,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);B.prototype=Object.create(K&&K.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(B,K):B.__proto__=K)}var N=[!1,"center","right","justify"],H=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],G=[!1,"serif","monospace"],Z=["1","2","3",!1],Q=["small",!1,"large","huge"],re=function(B){D(K,B);function K(ne,te){O(this,K);var $=C(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,ne,te)),J=function oe(se){if(!document.body.contains(ne.root))return document.body.removeEventListener("click",oe);$.tooltip!=null&&!$.tooltip.root.contains(se.target)&&document.activeElement!==$.tooltip.textbox&&!$.quill.hasFocus()&&$.tooltip.hide(),$.pickers!=null&&$.pickers.forEach(function(pe){pe.container.contains(se.target)||pe.close()})};return ne.emitter.listenDOM("click",document.body,J),$}return a(K,[{key:"addModule",value:function(te){var $=u(K.prototype.__proto__||Object.getPrototypeOf(K.prototype),"addModule",this).call(this,te);return te==="toolbar"&&this.extendToolbar($),$}},{key:"buildButtons",value:function(te,$){te.forEach(function(J){var oe=J.getAttribute("class")||"";oe.split(/\s+/).forEach(function(se){if(se.startsWith("ql-")&&(se=se.slice(3),$[se]!=null))if(se==="direction")J.innerHTML=$[se][""]+$[se].rtl;else if(typeof $[se]=="string")J.innerHTML=$[se];else{var pe=J.value||"";pe!=null&&$[se][pe]&&(J.innerHTML=$[se][pe])}})})}},{key:"buildPickers",value:function(te,$){var J=this;this.pickers=te.map(function(se){if(se.classList.contains("ql-align"))return se.querySelector("option")==null&&j(se,N),new b.default(se,$.align);if(se.classList.contains("ql-background")||se.classList.contains("ql-color")){var pe=se.classList.contains("ql-background")?"background":"color";return se.querySelector("option")==null&&j(se,H,pe==="background"?"#ffffff":"#000000"),new S.default(se,$[pe])}else return se.querySelector("option")==null&&(se.classList.contains("ql-font")?j(se,G):se.classList.contains("ql-header")?j(se,Z):se.classList.contains("ql-size")&&j(se,Q)),new U.default(se)});var oe=function(){J.pickers.forEach(function(pe){pe.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,oe)}}]),K}(_.default);re.DEFAULTS=(0,h.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var K=this,ne=this.container.querySelector("input.ql-image[type=file]");ne==null&&(ne=document.createElement("input"),ne.setAttribute("type","file"),ne.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ne.classList.add("ql-image"),ne.addEventListener("change",function(){if(ne.files!=null&&ne.files[0]!=null){var te=new FileReader;te.onload=function($){var J=K.quill.getSelection(!0);K.quill.updateContents(new v.default().retain(J.index).delete(J.length).insert({image:$.target.result}),d.default.sources.USER),K.quill.setSelection(J.index+1,d.default.sources.SILENT),ne.value=""},te.readAsDataURL(ne.files[0])}}),this.container.appendChild(ne)),ne.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Y=function(B){D(K,B);function K(ne,te){O(this,K);var $=C(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,ne,te));return $.textbox=$.root.querySelector('input[type="text"]'),$.listen(),$}return a(K,[{key:"listen",value:function(){var te=this;this.textbox.addEventListener("keydown",function($){E.default.match($,"enter")?(te.save(),$.preventDefault()):E.default.match($,"escape")&&(te.cancel(),$.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),$!=null?this.textbox.value=$:te!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+te)||""),this.root.setAttribute("data-mode",te)}},{key:"restoreFocus",value:function(){var te=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=te}},{key:"save",value:function(){var te=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var $=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",te,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",te,d.default.sources.USER)),this.quill.root.scrollTop=$;break}case"video":te=W(te);case"formula":{if(!te)break;var J=this.quill.getSelection(!0);if(J!=null){var oe=J.index+J.length;this.quill.insertEmbed(oe,this.root.getAttribute("data-mode"),te,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(oe+1," ",d.default.sources.USER),this.quill.setSelection(oe+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),K}(I.default);function W(B){var K=B.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||B.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return K?(K[1]||"https")+"://www.youtube.com/embed/"+K[2]+"?showinfo=0":(K=B.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(K[1]||"https")+"://player.vimeo.com/video/"+K[2]+"/":B}function j(B,K){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;K.forEach(function(te){var $=document.createElement("option");te===ne?$.setAttribute("selected","selected"):$.setAttribute("value",te),B.appendChild($)})}r.BaseTooltip=Y,r.default=re},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function u(){this.head=this.tail=null,this.length=0}return u.prototype.append=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];this.insertBefore(f[0],null),f.length>1&&this.append.apply(this,f.slice(1))},u.prototype.contains=function(f){for(var h,m=this.iterator();h=m();)if(h===f)return!0;return!1},u.prototype.insertBefore=function(f,h){f&&(f.next=h,h!=null?(f.prev=h.prev,h.prev!=null&&(h.prev.next=f),h.prev=f,h===this.head&&(this.head=f)):this.tail!=null?(this.tail.next=f,f.prev=this.tail,this.tail=f):(f.prev=null,this.head=this.tail=f),this.length+=1)},u.prototype.offset=function(f){for(var h=0,m=this.head;m!=null;){if(m===f)return h;h+=m.length(),m=m.next}return-1},u.prototype.remove=function(f){this.contains(f)&&(f.prev!=null&&(f.prev.next=f.next),f.next!=null&&(f.next.prev=f.prev),f===this.head&&(this.head=f.next),f===this.tail&&(this.tail=f.prev),this.length-=1)},u.prototype.iterator=function(f){return f===void 0&&(f=this.head),function(){var h=f;return f!=null&&(f=f.next),h}},u.prototype.find=function(f,h){h===void 0&&(h=!1);for(var m,v=this.iterator();m=v();){var y=m.length();if(f<y||h&&f===y&&(m.next==null||m.next.length()!==0))return[m,f];f-=y}return[null,0]},u.prototype.forEach=function(f){for(var h,m=this.iterator();h=m();)f(h)},u.prototype.forEachAt=function(f,h,m){if(!(h<=0))for(var v=this.find(f),y=v[0],d=v[1],g,E=f-d,T=this.iterator(y);(g=T())&&E<f+h;){var _=g.length();f>E?m(g,f-E,Math.min(h,E+_-f)):m(g,0,Math.min(_,f+h-E)),E+=_}},u.prototype.map=function(f){return this.reduce(function(h,m){return h.push(f(m)),h},[])},u.prototype.reduce=function(f,h){for(var m,v=this.iterator();m=v();)h=f(h,m);return h},u}();r.default=a},function(t,r,o){var a=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var E in g)g.hasOwnProperty(E)&&(d[E]=g[E])};return function(d,g){y(d,g);function E(){this.constructor=d}d.prototype=g===null?Object.create(g):(E.prototype=g.prototype,new E)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(17),f=o(1),h={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},m=100,v=function(y){a(d,y);function d(g){var E=y.call(this,g)||this;return E.scroll=E,E.observer=new MutationObserver(function(T){E.update(T)}),E.observer.observe(E.domNode,h),E.attach(),E}return d.prototype.detach=function(){y.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(g,E){this.update(),g===0&&E===this.length()?this.children.forEach(function(T){T.remove()}):y.prototype.deleteAt.call(this,g,E)},d.prototype.formatAt=function(g,E,T,_){this.update(),y.prototype.formatAt.call(this,g,E,T,_)},d.prototype.insertAt=function(g,E,T){this.update(),y.prototype.insertAt.call(this,g,E,T)},d.prototype.optimize=function(g,E){var T=this;g===void 0&&(g=[]),E===void 0&&(E={}),y.prototype.optimize.call(this,E);for(var _=[].slice.call(this.observer.takeRecords());_.length>0;)g.push(_.pop());for(var w=function(M,U){U===void 0&&(U=!0),!(M==null||M===T)&&M.domNode.parentNode!=null&&(M.domNode[f.DATA_KEY].mutations==null&&(M.domNode[f.DATA_KEY].mutations=[]),U&&w(M.parent))},S=function(M){M.domNode[f.DATA_KEY]==null||M.domNode[f.DATA_KEY].mutations==null||(M instanceof u.default&&M.children.forEach(S),M.optimize(E))},R=g,b=0;R.length>0;b+=1){if(b>=m)throw new Error("[Parchment] Maximum optimize iterations reached");for(R.forEach(function(M){var U=f.find(M.target,!0);U!=null&&(U.domNode===M.target&&(M.type==="childList"?(w(f.find(M.previousSibling,!1)),[].forEach.call(M.addedNodes,function(k){var I=f.find(k,!1);w(I,!1),I instanceof u.default&&I.children.forEach(function(L){w(L,!1)})})):M.type==="attributes"&&w(U.prev)),w(U))}),this.children.forEach(S),R=[].slice.call(this.observer.takeRecords()),_=R.slice();_.length>0;)g.push(_.pop())}},d.prototype.update=function(g,E){var T=this;E===void 0&&(E={}),g=g||this.observer.takeRecords(),g.map(function(_){var w=f.find(_.target,!0);return w==null?null:w.domNode[f.DATA_KEY].mutations==null?(w.domNode[f.DATA_KEY].mutations=[_],w):(w.domNode[f.DATA_KEY].mutations.push(_),null)}).forEach(function(_){_==null||_===T||_.domNode[f.DATA_KEY]==null||_.update(_.domNode[f.DATA_KEY].mutations||[],E)}),this.domNode[f.DATA_KEY].mutations!=null&&y.prototype.update.call(this,this.domNode[f.DATA_KEY].mutations,E),this.optimize(g,E)},d.blotName="scroll",d.defaultChild="block",d.scope=f.Scope.BLOCK_BLOT,d.tagName="DIV",d}(u.default);r.default=v},function(t,r,o){var a=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,d){y.__proto__=d}||function(y,d){for(var g in d)d.hasOwnProperty(g)&&(y[g]=d[g])};return function(y,d){v(y,d);function g(){this.constructor=y}y.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(18),f=o(1);function h(v,y){if(Object.keys(v).length!==Object.keys(y).length)return!1;for(var d in v)if(v[d]!==y[d])return!1;return!0}var m=function(v){a(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.formats=function(d){if(d.tagName!==y.tagName)return v.formats.call(this,d)},y.prototype.format=function(d,g){var E=this;d===this.statics.blotName&&!g?(this.children.forEach(function(T){T instanceof u.default||(T=T.wrap(y.blotName,!0)),E.attributes.copy(T)}),this.unwrap()):v.prototype.format.call(this,d,g)},y.prototype.formatAt=function(d,g,E,T){if(this.formats()[E]!=null||f.query(E,f.Scope.ATTRIBUTE)){var _=this.isolate(d,g);_.format(E,T)}else v.prototype.formatAt.call(this,d,g,E,T)},y.prototype.optimize=function(d){v.prototype.optimize.call(this,d);var g=this.formats();if(Object.keys(g).length===0)return this.unwrap();var E=this.next;E instanceof y&&E.prev===this&&h(g,E.formats())&&(E.moveChildren(this),E.remove())},y.blotName="inline",y.scope=f.Scope.INLINE_BLOT,y.tagName="SPAN",y}(u.default);r.default=m},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var d in y)y.hasOwnProperty(d)&&(v[d]=y[d])};return function(v,y){m(v,y);function d(){this.constructor=v}v.prototype=y===null?Object.create(y):(d.prototype=y.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(18),f=o(1),h=function(m){a(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.formats=function(y){var d=f.query(v.blotName).tagName;if(y.tagName!==d)return m.formats.call(this,y)},v.prototype.format=function(y,d){f.query(y,f.Scope.BLOCK)!=null&&(y===this.statics.blotName&&!d?this.replaceWith(v.blotName):m.prototype.format.call(this,y,d))},v.prototype.formatAt=function(y,d,g,E){f.query(g,f.Scope.BLOCK)!=null?this.format(g,E):m.prototype.formatAt.call(this,y,d,g,E)},v.prototype.insertAt=function(y,d,g){if(g==null||f.query(d,f.Scope.INLINE)!=null)m.prototype.insertAt.call(this,y,d,g);else{var E=this.split(y),T=f.create(d,g);E.parent.insertBefore(T,E)}},v.prototype.update=function(y,d){navigator.userAgent.match(/Trident/)?this.build():m.prototype.update.call(this,y,d)},v.blotName="block",v.scope=f.Scope.BLOCK_BLOT,v.tagName="P",v}(u.default);r.default=h},function(t,r,o){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var y in v)v.hasOwnProperty(y)&&(m[y]=v[y])};return function(m,v){h(m,v);function y(){this.constructor=m}m.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(19),f=function(h){a(m,h);function m(){return h!==null&&h.apply(this,arguments)||this}return m.formats=function(v){},m.prototype.format=function(v,y){h.prototype.formatAt.call(this,0,this.length(),v,y)},m.prototype.formatAt=function(v,y,d,g){v===0&&y===this.length()?this.format(d,g):h.prototype.formatAt.call(this,v,y,d,g)},m.prototype.formats=function(){return this.statics.formats(this.domNode)},m}(u.default);r.default=f},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var d in y)y.hasOwnProperty(d)&&(v[d]=y[d])};return function(v,y){m(v,y);function d(){this.constructor=v}v.prototype=y===null?Object.create(y):(d.prototype=y.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(19),f=o(1),h=function(m){a(v,m);function v(y){var d=m.call(this,y)||this;return d.text=d.statics.value(d.domNode),d}return v.create=function(y){return document.createTextNode(y)},v.value=function(y){var d=y.data;return d.normalize&&(d=d.normalize()),d},v.prototype.deleteAt=function(y,d){this.domNode.data=this.text=this.text.slice(0,y)+this.text.slice(y+d)},v.prototype.index=function(y,d){return this.domNode===y?d:-1},v.prototype.insertAt=function(y,d,g){g==null?(this.text=this.text.slice(0,y)+d+this.text.slice(y),this.domNode.data=this.text):m.prototype.insertAt.call(this,y,d,g)},v.prototype.length=function(){return this.text.length},v.prototype.optimize=function(y){m.prototype.optimize.call(this,y),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof v&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},v.prototype.position=function(y,d){return[this.domNode,y]},v.prototype.split=function(y,d){if(d===void 0&&(d=!1),!d){if(y===0)return this;if(y===this.length())return this.next}var g=f.create(this.domNode.splitText(y));return this.parent.insertBefore(g,this.next),this.text=this.statics.value(this.domNode),g},v.prototype.update=function(y,d){var g=this;y.some(function(E){return E.type==="characterData"&&E.target===g.domNode})&&(this.text=this.statics.value(this.domNode))},v.prototype.value=function(){return this.text},v.blotName="text",v.scope=f.Scope.INLINE_BLOT,v}(u.default);r.default=h},function(t,r,o){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var u=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(f,h){return arguments.length>1&&!this.contains(f)==!h?h:u.call(this,f)}}String.prototype.startsWith||(String.prototype.startsWith=function(f,h){return h=h||0,this.substr(h,f.length)===f}),String.prototype.endsWith||(String.prototype.endsWith=function(f,h){var m=this.toString();(typeof h!="number"||!isFinite(h)||Math.floor(h)!==h||h>m.length)&&(h=m.length),h-=f.length;var v=m.indexOf(f,h);return v!==-1&&v===h}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(h){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof h!="function")throw new TypeError("predicate must be a function");for(var m=Object(this),v=m.length>>>0,y=arguments[1],d,g=0;g<v;g++)if(d=m[g],h.call(y,d,g,m))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,r){var o=-1,a=1,u=0;function f(b,M,U){if(b==M)return b?[[u,b]]:[];(U<0||b.length<U)&&(U=null);var k=y(b,M),I=b.substring(0,k);b=b.substring(k),M=M.substring(k),k=d(b,M);var L=b.substring(b.length-k);b=b.substring(0,b.length-k),M=M.substring(0,M.length-k);var O=h(b,M);return I&&O.unshift([u,I]),L&&O.push([u,L]),E(O),U!=null&&(O=w(O,U)),O=S(O),O}function h(b,M){var U;if(!b)return[[a,M]];if(!M)return[[o,b]];var k=b.length>M.length?b:M,I=b.length>M.length?M:b,L=k.indexOf(I);if(L!=-1)return U=[[a,k.substring(0,L)],[u,I],[a,k.substring(L+I.length)]],b.length>M.length&&(U[0][0]=U[2][0]=o),U;if(I.length==1)return[[o,b],[a,M]];var O=g(b,M);if(O){var C=O[0],D=O[1],N=O[2],H=O[3],G=O[4],Z=f(C,N),Q=f(D,H);return Z.concat([[u,G]],Q)}return m(b,M)}function m(b,M){for(var U=b.length,k=M.length,I=Math.ceil((U+k)/2),L=I,O=2*I,C=new Array(O),D=new Array(O),N=0;N<O;N++)C[N]=-1,D[N]=-1;C[L+1]=0,D[L+1]=0;for(var H=U-k,G=H%2!=0,Z=0,Q=0,re=0,Y=0,W=0;W<I;W++){for(var j=-W+Z;j<=W-Q;j+=2){var B=L+j,K;j==-W||j!=W&&C[B-1]<C[B+1]?K=C[B+1]:K=C[B-1]+1;for(var ne=K-j;K<U&&ne<k&&b.charAt(K)==M.charAt(ne);)K++,ne++;if(C[B]=K,K>U)Q+=2;else if(ne>k)Z+=2;else if(G){var te=L+H-j;if(te>=0&&te<O&&D[te]!=-1){var $=U-D[te];if(K>=$)return v(b,M,K,ne)}}}for(var J=-W+re;J<=W-Y;J+=2){var te=L+J,$;J==-W||J!=W&&D[te-1]<D[te+1]?$=D[te+1]:$=D[te-1]+1;for(var oe=$-J;$<U&&oe<k&&b.charAt(U-$-1)==M.charAt(k-oe-1);)$++,oe++;if(D[te]=$,$>U)Y+=2;else if(oe>k)re+=2;else if(!G){var B=L+H-J;if(B>=0&&B<O&&C[B]!=-1){var K=C[B],ne=L+K-B;if($=U-$,K>=$)return v(b,M,K,ne)}}}}return[[o,b],[a,M]]}function v(b,M,U,k){var I=b.substring(0,U),L=M.substring(0,k),O=b.substring(U),C=M.substring(k),D=f(I,L),N=f(O,C);return D.concat(N)}function y(b,M){if(!b||!M||b.charAt(0)!=M.charAt(0))return 0;for(var U=0,k=Math.min(b.length,M.length),I=k,L=0;U<I;)b.substring(L,I)==M.substring(L,I)?(U=I,L=U):k=I,I=Math.floor((k-U)/2+U);return I}function d(b,M){if(!b||!M||b.charAt(b.length-1)!=M.charAt(M.length-1))return 0;for(var U=0,k=Math.min(b.length,M.length),I=k,L=0;U<I;)b.substring(b.length-I,b.length-L)==M.substring(M.length-I,M.length-L)?(U=I,L=U):k=I,I=Math.floor((k-U)/2+U);return I}function g(b,M){var U=b.length>M.length?b:M,k=b.length>M.length?M:b;if(U.length<4||k.length*2<U.length)return null;function I(Q,re,Y){for(var W=Q.substring(Y,Y+Math.floor(Q.length/4)),j=-1,B="",K,ne,te,$;(j=re.indexOf(W,j+1))!=-1;){var J=y(Q.substring(Y),re.substring(j)),oe=d(Q.substring(0,Y),re.substring(0,j));B.length<oe+J&&(B=re.substring(j-oe,j)+re.substring(j,j+J),K=Q.substring(0,Y-oe),ne=Q.substring(Y+J),te=re.substring(0,j-oe),$=re.substring(j+J))}return B.length*2>=Q.length?[K,ne,te,$,B]:null}var L=I(U,k,Math.ceil(U.length/4)),O=I(U,k,Math.ceil(U.length/2)),C;if(!L&&!O)return null;O?L?C=L[4].length>O[4].length?L:O:C=O:C=L;var D,N,H,G;b.length>M.length?(D=C[0],N=C[1],H=C[2],G=C[3]):(H=C[0],G=C[1],D=C[2],N=C[3]);var Z=C[4];return[D,N,H,G,Z]}function E(b){b.push([u,""]);for(var M=0,U=0,k=0,I="",L="",O;M<b.length;)switch(b[M][0]){case a:k++,L+=b[M][1],M++;break;case o:U++,I+=b[M][1],M++;break;case u:U+k>1?(U!==0&&k!==0&&(O=y(L,I),O!==0&&(M-U-k>0&&b[M-U-k-1][0]==u?b[M-U-k-1][1]+=L.substring(0,O):(b.splice(0,0,[u,L.substring(0,O)]),M++),L=L.substring(O),I=I.substring(O)),O=d(L,I),O!==0&&(b[M][1]=L.substring(L.length-O)+b[M][1],L=L.substring(0,L.length-O),I=I.substring(0,I.length-O))),U===0?b.splice(M-k,U+k,[a,L]):k===0?b.splice(M-U,U+k,[o,I]):b.splice(M-U-k,U+k,[o,I],[a,L]),M=M-U-k+(U?1:0)+(k?1:0)+1):M!==0&&b[M-1][0]==u?(b[M-1][1]+=b[M][1],b.splice(M,1)):M++,k=0,U=0,I="",L="";break}b[b.length-1][1]===""&&b.pop();var C=!1;for(M=1;M<b.length-1;)b[M-1][0]==u&&b[M+1][0]==u&&(b[M][1].substring(b[M][1].length-b[M-1][1].length)==b[M-1][1]?(b[M][1]=b[M-1][1]+b[M][1].substring(0,b[M][1].length-b[M-1][1].length),b[M+1][1]=b[M-1][1]+b[M+1][1],b.splice(M-1,1),C=!0):b[M][1].substring(0,b[M+1][1].length)==b[M+1][1]&&(b[M-1][1]+=b[M+1][1],b[M][1]=b[M][1].substring(b[M+1][1].length)+b[M+1][1],b.splice(M+1,1),C=!0)),M++;C&&E(b)}var T=f;T.INSERT=a,T.DELETE=o,T.EQUAL=u,t.exports=T;function _(b,M){if(M===0)return[u,b];for(var U=0,k=0;k<b.length;k++){var I=b[k];if(I[0]===o||I[0]===u){var L=U+I[1].length;if(M===L)return[k+1,b];if(M<L){b=b.slice();var O=M-U,C=[I[0],I[1].slice(0,O)],D=[I[0],I[1].slice(O)];return b.splice(k,1,C,D),[k+1,b]}else U=L}}throw new Error("cursor_pos is out of bounds!")}function w(b,M){var U=_(b,M),k=U[1],I=U[0],L=k[I],O=k[I+1];if(L==null)return b;if(L[0]!==u)return b;if(O!=null&&L[1]+O[1]===O[1]+L[1])return k.splice(I,2,O,L),R(k,I,2);if(O!=null&&O[1].indexOf(L[1])===0){k.splice(I,2,[O[0],L[1]],[0,L[1]]);var C=O[1].slice(L[1].length);return C.length>0&&k.splice(I+2,0,[O[0],C]),R(k,I,3)}else return b}function S(b){for(var M=!1,U=function(O){return O.charCodeAt(0)>=56320&&O.charCodeAt(0)<=57343},k=function(O){return O.charCodeAt(O.length-1)>=55296&&O.charCodeAt(O.length-1)<=56319},I=2;I<b.length;I+=1)b[I-2][0]===u&&k(b[I-2][1])&&b[I-1][0]===o&&U(b[I-1][1])&&b[I][0]===a&&U(b[I][1])&&(M=!0,b[I-1][1]=b[I-2][1].slice(-1)+b[I-1][1],b[I][1]=b[I-2][1].slice(-1)+b[I][1],b[I-2][1]=b[I-2][1].slice(0,-1));if(!M)return b;for(var L=[],I=0;I<b.length;I+=1)b[I][1].length>0&&L.push(b[I]);return L}function R(b,M,U){for(var k=M+U-1;k>=0&&k>=M-1;k--)if(k+1<b.length){var I=b[k],L=b[k+1];I[0]===L[1]&&b.splice(k,2,[I[0],I[1]+L[1]])}return b}},function(t,r){r=t.exports=typeof Object.keys=="function"?Object.keys:o,r.shim=o;function o(a){var u=[];for(var f in a)u.push(f);return u}},function(t,r){var o=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=t.exports=o?a:u,r.supported=a;function a(f){return Object.prototype.toString.call(f)=="[object Arguments]"}r.unsupported=u;function u(f){return f&&typeof f=="object"&&typeof f.length=="number"&&Object.prototype.hasOwnProperty.call(f,"callee")&&!Object.prototype.propertyIsEnumerable.call(f,"callee")||!1}},function(t,r){var o=Object.prototype.hasOwnProperty,a="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(a=!1));function f(m,v,y){this.fn=m,this.context=v,this.once=y||!1}function h(){this._events=new u,this._eventsCount=0}h.prototype.eventNames=function(){var v=[],y,d;if(this._eventsCount===0)return v;for(d in y=this._events)o.call(y,d)&&v.push(a?d.slice(1):d);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(y)):v},h.prototype.listeners=function(v,y){var d=a?a+v:v,g=this._events[d];if(y)return!!g;if(!g)return[];if(g.fn)return[g.fn];for(var E=0,T=g.length,_=new Array(T);E<T;E++)_[E]=g[E].fn;return _},h.prototype.emit=function(v,y,d,g,E,T){var _=a?a+v:v;if(!this._events[_])return!1;var w=this._events[_],S=arguments.length,R,b;if(w.fn){switch(w.once&&this.removeListener(v,w.fn,void 0,!0),S){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,y),!0;case 3:return w.fn.call(w.context,y,d),!0;case 4:return w.fn.call(w.context,y,d,g),!0;case 5:return w.fn.call(w.context,y,d,g,E),!0;case 6:return w.fn.call(w.context,y,d,g,E,T),!0}for(b=1,R=new Array(S-1);b<S;b++)R[b-1]=arguments[b];w.fn.apply(w.context,R)}else{var M=w.length,U;for(b=0;b<M;b++)switch(w[b].once&&this.removeListener(v,w[b].fn,void 0,!0),S){case 1:w[b].fn.call(w[b].context);break;case 2:w[b].fn.call(w[b].context,y);break;case 3:w[b].fn.call(w[b].context,y,d);break;case 4:w[b].fn.call(w[b].context,y,d,g);break;default:if(!R)for(U=1,R=new Array(S-1);U<S;U++)R[U-1]=arguments[U];w[b].fn.apply(w[b].context,R)}}return!0},h.prototype.on=function(v,y,d){var g=new f(y,d||this),E=a?a+v:v;return this._events[E]?this._events[E].fn?this._events[E]=[this._events[E],g]:this._events[E].push(g):(this._events[E]=g,this._eventsCount++),this},h.prototype.once=function(v,y,d){var g=new f(y,d||this,!0),E=a?a+v:v;return this._events[E]?this._events[E].fn?this._events[E]=[this._events[E],g]:this._events[E].push(g):(this._events[E]=g,this._eventsCount++),this},h.prototype.removeListener=function(v,y,d,g){var E=a?a+v:v;if(!this._events[E])return this;if(!y)return--this._eventsCount===0?this._events=new u:delete this._events[E],this;var T=this._events[E];if(T.fn)T.fn===y&&(!g||T.once)&&(!d||T.context===d)&&(--this._eventsCount===0?this._events=new u:delete this._events[E]);else{for(var _=0,w=[],S=T.length;_<S;_++)(T[_].fn!==y||g&&!T[_].once||d&&T[_].context!==d)&&w.push(T[_]);w.length?this._events[E]=w.length===1?w[0]:w:--this._eventsCount===0?this._events=new u:delete this._events[E]}return this},h.prototype.removeAllListeners=function(v){var y;return v?(y=a?a+v:v,this._events[y]&&(--this._eventsCount===0?this._events=new u:delete this._events[y])):(this._events=new u,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prototype.setMaxListeners=function(){return this},h.prefixed=a,h.EventEmitter=h,typeof t<"u"&&(t.exports=h)},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(de){return typeof de}:function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},u=function(){function de(me,be){var Ae=[],ye=!0,$e=!1,He=void 0;try{for(var Qe=me[Symbol.iterator](),at;!(ye=(at=Qe.next()).done)&&(Ae.push(at.value),!(be&&Ae.length===be));ye=!0);}catch(ct){$e=!0,He=ct}finally{try{!ye&&Qe.return&&Qe.return()}finally{if($e)throw He}}return Ae}return function(me,be){if(Array.isArray(me))return me;if(Symbol.iterator in Object(me))return de(me,be);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function de(me,be){for(var Ae=0;Ae<be.length;Ae++){var ye=be[Ae];ye.enumerable=ye.enumerable||!1,ye.configurable=!0,"value"in ye&&(ye.writable=!0),Object.defineProperty(me,ye.key,ye)}}return function(me,be,Ae){return be&&de(me.prototype,be),Ae&&de(me,Ae),me}}(),h=o(3),m=D(h),v=o(2),y=D(v),d=o(0),g=D(d),E=o(5),T=D(E),_=o(10),w=D(_),S=o(9),R=D(S),b=o(36),M=o(37),U=o(13),k=D(U),I=o(26),L=o(38),O=o(39),C=o(40);function D(de){return de&&de.__esModule?de:{default:de}}function N(de,me,be){return me in de?Object.defineProperty(de,me,{value:be,enumerable:!0,configurable:!0,writable:!0}):de[me]=be,de}function H(de,me){if(!(de instanceof me))throw new TypeError("Cannot call a class as a function")}function G(de,me){if(!de)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me&&(typeof me=="object"||typeof me=="function")?me:de}function Z(de,me){if(typeof me!="function"&&me!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof me);de.prototype=Object.create(me&&me.prototype,{constructor:{value:de,enumerable:!1,writable:!0,configurable:!0}}),me&&(Object.setPrototypeOf?Object.setPrototypeOf(de,me):de.__proto__=me)}var Q=(0,w.default)("quill:clipboard"),re="__ql-matcher",Y=[[Node.TEXT_NODE,gt],[Node.TEXT_NODE,Ge],["br",Ie],[Node.ELEMENT_NODE,Ge],[Node.ELEMENT_NODE,pe],[Node.ELEMENT_NODE,Je],[Node.ELEMENT_NODE,se],[Node.ELEMENT_NODE,Ot],["li",Ue],["b",oe.bind(oe,"bold")],["i",oe.bind(oe,"italic")],["style",Me]],W=[b.AlignAttribute,L.DirectionAttribute].reduce(function(de,me){return de[me.keyName]=me,de},{}),j=[b.AlignStyle,M.BackgroundStyle,I.ColorStyle,L.DirectionStyle,O.FontStyle,C.SizeStyle].reduce(function(de,me){return de[me.keyName]=me,de},{}),B=function(de){Z(me,de);function me(be,Ae){H(this,me);var ye=G(this,(me.__proto__||Object.getPrototypeOf(me)).call(this,be,Ae));return ye.quill.root.addEventListener("paste",ye.onPaste.bind(ye)),ye.container=ye.quill.addContainer("ql-clipboard"),ye.container.setAttribute("contenteditable",!0),ye.container.setAttribute("tabindex",-1),ye.matchers=[],Y.concat(ye.options.matchers).forEach(function($e){var He=u($e,2),Qe=He[0],at=He[1];!Ae.matchVisual&&at===Je||ye.addMatcher(Qe,at)}),ye}return f(me,[{key:"addMatcher",value:function(Ae,ye){this.matchers.push([Ae,ye])}},{key:"convert",value:function(Ae){if(typeof Ae=="string")return this.container.innerHTML=Ae.replace(/\>\r?\n +\</g,"><"),this.convert();var ye=this.quill.getFormat(this.quill.selection.savedRange.index);if(ye[k.default.blotName]){var $e=this.container.innerText;return this.container.innerHTML="",new y.default().insert($e,N({},k.default.blotName,ye[k.default.blotName]))}var He=this.prepareMatching(),Qe=u(He,2),at=Qe[0],ct=Qe[1],ot=J(this.container,at,ct);return te(ot,`
`)&&ot.ops[ot.ops.length-1].attributes==null&&(ot=ot.compose(new y.default().retain(ot.length()-1).delete(1))),Q.log("convert",this.container.innerHTML,ot),this.container.innerHTML="",ot}},{key:"dangerouslyPasteHTML",value:function(Ae,ye){var $e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T.default.sources.API;if(typeof Ae=="string")this.quill.setContents(this.convert(Ae),ye),this.quill.setSelection(0,T.default.sources.SILENT);else{var He=this.convert(ye);this.quill.updateContents(new y.default().retain(Ae).concat(He),$e),this.quill.setSelection(Ae+He.length(),T.default.sources.SILENT)}}},{key:"onPaste",value:function(Ae){var ye=this;if(!(Ae.defaultPrevented||!this.quill.isEnabled())){var $e=this.quill.getSelection(),He=new y.default().retain($e.index),Qe=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(T.default.sources.SILENT),setTimeout(function(){He=He.concat(ye.convert()).delete($e.length),ye.quill.updateContents(He,T.default.sources.USER),ye.quill.setSelection(He.length()-$e.length,T.default.sources.SILENT),ye.quill.scrollingContainer.scrollTop=Qe,ye.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Ae=this,ye=[],$e=[];return this.matchers.forEach(function(He){var Qe=u(He,2),at=Qe[0],ct=Qe[1];switch(at){case Node.TEXT_NODE:$e.push(ct);break;case Node.ELEMENT_NODE:ye.push(ct);break;default:[].forEach.call(Ae.container.querySelectorAll(at),function(ot){ot[re]=ot[re]||[],ot[re].push(ct)});break}}),[ye,$e]}}]),me}(R.default);B.DEFAULTS={matchers:[],matchVisual:!0};function K(de,me,be){return(typeof me>"u"?"undefined":a(me))==="object"?Object.keys(me).reduce(function(Ae,ye){return K(Ae,ye,me[ye])},de):de.reduce(function(Ae,ye){return ye.attributes&&ye.attributes[me]?Ae.push(ye):Ae.insert(ye.insert,(0,m.default)({},N({},me,be),ye.attributes))},new y.default)}function ne(de){if(de.nodeType!==Node.ELEMENT_NODE)return{};var me="__ql-computed-style";return de[me]||(de[me]=window.getComputedStyle(de))}function te(de,me){for(var be="",Ae=de.ops.length-1;Ae>=0&&be.length<me.length;--Ae){var ye=de.ops[Ae];if(typeof ye.insert!="string")break;be=ye.insert+be}return be.slice(-1*me.length)===me}function $(de){if(de.childNodes.length===0)return!1;var me=ne(de);return["block","list-item"].indexOf(me.display)>-1}function J(de,me,be){return de.nodeType===de.TEXT_NODE?be.reduce(function(Ae,ye){return ye(de,Ae)},new y.default):de.nodeType===de.ELEMENT_NODE?[].reduce.call(de.childNodes||[],function(Ae,ye){var $e=J(ye,me,be);return ye.nodeType===de.ELEMENT_NODE&&($e=me.reduce(function(He,Qe){return Qe(ye,He)},$e),$e=(ye[re]||[]).reduce(function(He,Qe){return Qe(ye,He)},$e)),Ae.concat($e)},new y.default):new y.default}function oe(de,me,be){return K(be,de,!0)}function se(de,me){var be=g.default.Attributor.Attribute.keys(de),Ae=g.default.Attributor.Class.keys(de),ye=g.default.Attributor.Style.keys(de),$e={};return be.concat(Ae).concat(ye).forEach(function(He){var Qe=g.default.query(He,g.default.Scope.ATTRIBUTE);Qe!=null&&($e[Qe.attrName]=Qe.value(de),$e[Qe.attrName])||(Qe=W[He],Qe!=null&&(Qe.attrName===He||Qe.keyName===He)&&($e[Qe.attrName]=Qe.value(de)||void 0),Qe=j[He],Qe!=null&&(Qe.attrName===He||Qe.keyName===He)&&(Qe=j[He],$e[Qe.attrName]=Qe.value(de)||void 0))}),Object.keys($e).length>0&&(me=K(me,$e)),me}function pe(de,me){var be=g.default.query(de);if(be==null)return me;if(be.prototype instanceof g.default.Embed){var Ae={},ye=be.value(de);ye!=null&&(Ae[be.blotName]=ye,me=new y.default().insert(Ae,be.formats(de)))}else typeof be.formats=="function"&&(me=K(me,be.blotName,be.formats(de)));return me}function Ie(de,me){return te(me,`
`)||me.insert(`
`),me}function Me(){return new y.default}function Ue(de,me){var be=g.default.query(de);if(be==null||be.blotName!=="list-item"||!te(me,`
`))return me;for(var Ae=-1,ye=de.parentNode;!ye.classList.contains("ql-clipboard");)(g.default.query(ye)||{}).blotName==="list"&&(Ae+=1),ye=ye.parentNode;return Ae<=0?me:me.compose(new y.default().retain(me.length()-1).retain(1,{indent:Ae}))}function Ge(de,me){return te(me,`
`)||($(de)||me.length()>0&&de.nextSibling&&$(de.nextSibling))&&me.insert(`
`),me}function Je(de,me){if($(de)&&de.nextElementSibling!=null&&!te(me,`

`)){var be=de.offsetHeight+parseFloat(ne(de).marginTop)+parseFloat(ne(de).marginBottom);de.nextElementSibling.offsetTop>de.offsetTop+be*1.5&&me.insert(`
`)}return me}function Ot(de,me){var be={},Ae=de.style||{};return Ae.fontStyle&&ne(de).fontStyle==="italic"&&(be.italic=!0),Ae.fontWeight&&(ne(de).fontWeight.startsWith("bold")||parseInt(ne(de).fontWeight)>=700)&&(be.bold=!0),Object.keys(be).length>0&&(me=K(me,be)),parseFloat(Ae.textIndent||0)>0&&(me=new y.default().insert("	").concat(me)),me}function gt(de,me){var be=de.data;if(de.parentNode.tagName==="O:P")return me.insert(be.trim());if(be.trim().length===0&&de.parentNode.classList.contains("ql-clipboard"))return me;if(!ne(de.parentNode).whiteSpace.startsWith("pre")){var Ae=function($e,He){return He=He.replace(/[^\u00a0]/g,""),He.length<1&&$e?" ":He};be=be.replace(/\r\n/g," ").replace(/\n/g," "),be=be.replace(/\s\s+/g,Ae.bind(Ae,!0)),(de.previousSibling==null&&$(de.parentNode)||de.previousSibling!=null&&$(de.previousSibling))&&(be=be.replace(/^\s+/,Ae.bind(Ae,!1))),(de.nextSibling==null&&$(de.parentNode)||de.nextSibling!=null&&$(de.nextSibling))&&(be=be.replace(/\s+$/,Ae.bind(Ae,!1)))}return me.insert(be)}r.default=B,r.matchAttributor=se,r.matchBlot=pe,r.matchNewline=Ge,r.matchSpacing=Je,r.matchText=gt},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function E(T,_){for(var w=0;w<_.length;w++){var S=_[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,_,w){return _&&E(T.prototype,_),w&&E(T,w),T}}(),u=function E(T,_,w){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,_);if(S===void 0){var R=Object.getPrototypeOf(T);return R===null?void 0:E(R,_,w)}else{if("value"in S)return S.value;var b=S.get;return b===void 0?void 0:b.call(w)}},f=o(6),h=m(f);function m(E){return E&&E.__esModule?E:{default:E}}function v(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function y(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function d(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var g=function(E){d(T,E);function T(){return v(this,T),y(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,[{key:"optimize",value:function(w){u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,w),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return u(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),T}(h.default);g.blotName="bold",g.tagName=["STRONG","B"],r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var a=function(){function C(D,N){var H=[],G=!0,Z=!1,Q=void 0;try{for(var re=D[Symbol.iterator](),Y;!(G=(Y=re.next()).done)&&(H.push(Y.value),!(N&&H.length===N));G=!0);}catch(W){Z=!0,Q=W}finally{try{!G&&re.return&&re.return()}finally{if(Z)throw Q}}return H}return function(D,N){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return C(D,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function C(D,N){for(var H=0;H<N.length;H++){var G=N[H];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(D,G.key,G)}}return function(D,N,H){return N&&C(D.prototype,N),H&&C(D,H),D}}(),f=o(2),h=w(f),m=o(0),v=w(m),y=o(5),d=w(y),g=o(10),E=w(g),T=o(9),_=w(T);function w(C){return C&&C.__esModule?C:{default:C}}function S(C,D,N){return D in C?Object.defineProperty(C,D,{value:N,enumerable:!0,configurable:!0,writable:!0}):C[D]=N,C}function R(C,D){if(!(C instanceof D))throw new TypeError("Cannot call a class as a function")}function b(C,D){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:C}function M(C,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);C.prototype=Object.create(D&&D.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(C,D):C.__proto__=D)}var U=(0,E.default)("quill:toolbar"),k=function(C){M(D,C);function D(N,H){R(this,D);var G=b(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,N,H));if(Array.isArray(G.options.container)){var Z=document.createElement("div");L(Z,G.options.container),N.container.parentNode.insertBefore(Z,N.container),G.container=Z}else typeof G.options.container=="string"?G.container=document.querySelector(G.options.container):G.container=G.options.container;if(!(G.container instanceof HTMLElement)){var Q;return Q=U.error("Container required for toolbar",G.options),b(G,Q)}return G.container.classList.add("ql-toolbar"),G.controls=[],G.handlers={},Object.keys(G.options.handlers).forEach(function(re){G.addHandler(re,G.options.handlers[re])}),[].forEach.call(G.container.querySelectorAll("button, select"),function(re){G.attach(re)}),G.quill.on(d.default.events.EDITOR_CHANGE,function(re,Y){re===d.default.events.SELECTION_CHANGE&&G.update(Y)}),G.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var re=G.quill.selection.getRange(),Y=a(re,1),W=Y[0];G.update(W)}),G}return u(D,[{key:"addHandler",value:function(H,G){this.handlers[H]=G}},{key:"attach",value:function(H){var G=this,Z=[].find.call(H.classList,function(re){return re.indexOf("ql-")===0});if(Z){if(Z=Z.slice(3),H.tagName==="BUTTON"&&H.setAttribute("type","button"),this.handlers[Z]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[Z]==null){U.warn("ignoring attaching to disabled format",Z,H);return}if(v.default.query(Z)==null){U.warn("ignoring attaching to nonexistent format",Z,H);return}}var Q=H.tagName==="SELECT"?"change":"click";H.addEventListener(Q,function(re){var Y=void 0;if(H.tagName==="SELECT"){if(H.selectedIndex<0)return;var W=H.options[H.selectedIndex];W.hasAttribute("selected")?Y=!1:Y=W.value||!1}else H.classList.contains("ql-active")?Y=!1:Y=H.value||!H.hasAttribute("value"),re.preventDefault();G.quill.focus();var j=G.quill.selection.getRange(),B=a(j,1),K=B[0];if(G.handlers[Z]!=null)G.handlers[Z].call(G,Y);else if(v.default.query(Z).prototype instanceof v.default.Embed){if(Y=prompt("Enter "+Z),!Y)return;G.quill.updateContents(new h.default().retain(K.index).delete(K.length).insert(S({},Z,Y)),d.default.sources.USER)}else G.quill.format(Z,Y,d.default.sources.USER);G.update(K)}),this.controls.push([Z,H])}}},{key:"update",value:function(H){var G=H==null?{}:this.quill.getFormat(H);this.controls.forEach(function(Z){var Q=a(Z,2),re=Q[0],Y=Q[1];if(Y.tagName==="SELECT"){var W=void 0;if(H==null)W=null;else if(G[re]==null)W=Y.querySelector("option[selected]");else if(!Array.isArray(G[re])){var j=G[re];typeof j=="string"&&(j=j.replace(/\"/g,'\\"')),W=Y.querySelector('option[value="'+j+'"]')}W==null?(Y.value="",Y.selectedIndex=-1):W.selected=!0}else if(H==null)Y.classList.remove("ql-active");else if(Y.hasAttribute("value")){var B=G[re]===Y.getAttribute("value")||G[re]!=null&&G[re].toString()===Y.getAttribute("value")||G[re]==null&&!Y.getAttribute("value");Y.classList.toggle("ql-active",B)}else Y.classList.toggle("ql-active",G[re]!=null)})}}]),D}(_.default);k.DEFAULTS={};function I(C,D,N){var H=document.createElement("button");H.setAttribute("type","button"),H.classList.add("ql-"+D),N!=null&&(H.value=N),C.appendChild(H)}function L(C,D){Array.isArray(D[0])||(D=[D]),D.forEach(function(N){var H=document.createElement("span");H.classList.add("ql-formats"),N.forEach(function(G){if(typeof G=="string")I(H,G);else{var Z=Object.keys(G)[0],Q=G[Z];Array.isArray(Q)?O(H,Z,Q):I(H,Z,Q)}}),C.appendChild(H)})}function O(C,D,N){var H=document.createElement("select");H.classList.add("ql-"+D),N.forEach(function(G){var Z=document.createElement("option");G!==!1?Z.setAttribute("value",G):Z.setAttribute("selected","selected"),H.appendChild(Z)}),C.appendChild(H)}k.DEFAULTS={container:null,handlers:{clean:function(){var D=this,N=this.quill.getSelection();if(N!=null)if(N.length==0){var H=this.quill.getFormat();Object.keys(H).forEach(function(G){v.default.query(G,v.default.Scope.INLINE)!=null&&D.quill.format(G,!1)})}else this.quill.removeFormat(N,d.default.sources.USER)},direction:function(D){var N=this.quill.getFormat().align;D==="rtl"&&N==null?this.quill.format("align","right",d.default.sources.USER):!D&&N==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",D,d.default.sources.USER)},indent:function(D){var N=this.quill.getSelection(),H=this.quill.getFormat(N),G=parseInt(H.indent||0);if(D==="+1"||D==="-1"){var Z=D==="+1"?1:-1;H.direction==="rtl"&&(Z*=-1),this.quill.format("indent",G+Z,d.default.sources.USER)}},link:function(D){D===!0&&(D=prompt("Enter link URL:")),this.quill.format("link",D,d.default.sources.USER)},list:function(D){var N=this.quill.getSelection(),H=this.quill.getFormat(N);D==="check"?H.list==="checked"||H.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",D,d.default.sources.USER)}}},r.default=k,r.addControls=L},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function E(T,_){for(var w=0;w<_.length;w++){var S=_[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,_,w){return _&&E(T.prototype,_),w&&E(T,w),T}}(),u=function E(T,_,w){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,_);if(S===void 0){var R=Object.getPrototypeOf(T);return R===null?void 0:E(R,_,w)}else{if("value"in S)return S.value;var b=S.get;return b===void 0?void 0:b.call(w)}},f=o(28),h=m(f);function m(E){return E&&E.__esModule?E:{default:E}}function v(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function y(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function d(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var g=function(E){d(T,E);function T(_,w){v(this,T);var S=y(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,_));return S.label.innerHTML=w,S.container.classList.add("ql-color-picker"),[].slice.call(S.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(R){R.classList.add("ql-primary")}),S}return a(T,[{key:"buildItem",value:function(w){var S=u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"buildItem",this).call(this,w);return S.style.backgroundColor=w.getAttribute("value")||"",S}},{key:"selectItem",value:function(w,S){u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"selectItem",this).call(this,w,S);var R=this.label.querySelector(".ql-color-label"),b=w&&w.getAttribute("data-value")||"";R&&(R.tagName==="line"?R.style.stroke=b:R.style.fill=b)}}]),T}(h.default);r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function E(T,_){for(var w=0;w<_.length;w++){var S=_[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,_,w){return _&&E(T.prototype,_),w&&E(T,w),T}}(),u=function E(T,_,w){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,_);if(S===void 0){var R=Object.getPrototypeOf(T);return R===null?void 0:E(R,_,w)}else{if("value"in S)return S.value;var b=S.get;return b===void 0?void 0:b.call(w)}},f=o(28),h=m(f);function m(E){return E&&E.__esModule?E:{default:E}}function v(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function y(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function d(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var g=function(E){d(T,E);function T(_,w){v(this,T);var S=y(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,_));return S.container.classList.add("ql-icon-picker"),[].forEach.call(S.container.querySelectorAll(".ql-picker-item"),function(R){R.innerHTML=w[R.getAttribute("data-value")||""]}),S.defaultItem=S.container.querySelector(".ql-selected"),S.selectItem(S.defaultItem),S}return a(T,[{key:"selectItem",value:function(w,S){u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"selectItem",this).call(this,w,S),w=w||this.defaultItem,this.label.innerHTML=w.innerHTML}}]),T}(h.default);r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function h(m,v){for(var y=0;y<v.length;y++){var d=v[y];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(m,d.key,d)}}return function(m,v,y){return v&&h(m.prototype,v),y&&h(m,y),m}}();function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}var f=function(){function h(m,v){var y=this;u(this,h),this.quill=m,this.boundsContainer=v||document.body,this.root=m.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){y.root.style.marginTop=-1*y.quill.root.scrollTop+"px"}),this.hide()}return a(h,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(v){var y=v.left+v.width/2-this.root.offsetWidth/2,d=v.bottom+this.quill.root.scrollTop;this.root.style.left=y+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var g=this.boundsContainer.getBoundingClientRect(),E=this.root.getBoundingClientRect(),T=0;if(E.right>g.right&&(T=g.right-E.right,this.root.style.left=y+T+"px"),E.left<g.left&&(T=g.left-E.left,this.root.style.left=y+T+"px"),E.bottom>g.bottom){var _=E.bottom-E.top,w=v.bottom-v.top+_;this.root.style.top=d-w+"px",this.root.classList.add("ql-flip")}return T}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),h}();r.default=f},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function O(C,D){var N=[],H=!0,G=!1,Z=void 0;try{for(var Q=C[Symbol.iterator](),re;!(H=(re=Q.next()).done)&&(N.push(re.value),!(D&&N.length===D));H=!0);}catch(Y){G=!0,Z=Y}finally{try{!H&&Q.return&&Q.return()}finally{if(G)throw Z}}return N}return function(C,D){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return O(C,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function O(C,D,N){C===null&&(C=Function.prototype);var H=Object.getOwnPropertyDescriptor(C,D);if(H===void 0){var G=Object.getPrototypeOf(C);return G===null?void 0:O(G,D,N)}else{if("value"in H)return H.value;var Z=H.get;return Z===void 0?void 0:Z.call(N)}},f=function(){function O(C,D){for(var N=0;N<D.length;N++){var H=D[N];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(C,H.key,H)}}return function(C,D,N){return D&&O(C.prototype,D),N&&O(C,N),C}}(),h=o(3),m=R(h),v=o(8),y=R(v),d=o(43),g=R(d),E=o(27),T=R(E),_=o(15),w=o(41),S=R(w);function R(O){return O&&O.__esModule?O:{default:O}}function b(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function M(O,C){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:O}function U(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(O,C):O.__proto__=C)}var k=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],I=function(O){U(C,O);function C(D,N){b(this,C),N.modules.toolbar!=null&&N.modules.toolbar.container==null&&(N.modules.toolbar.container=k);var H=M(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,D,N));return H.quill.container.classList.add("ql-snow"),H}return f(C,[{key:"extendToolbar",value:function(N){N.container.classList.add("ql-snow"),this.buildButtons([].slice.call(N.container.querySelectorAll("button")),S.default),this.buildPickers([].slice.call(N.container.querySelectorAll("select")),S.default),this.tooltip=new L(this.quill,this.options.bounds),N.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(H,G){N.handlers.link.call(N,!G.format.link)})}}]),C}(g.default);I.DEFAULTS=(0,m.default)(!0,{},g.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(C){if(C){var D=this.quill.getSelection();if(D==null||D.length==0)return;var N=this.quill.getText(D);/^\S+@\S+\.\S+$/.test(N)&&N.indexOf("mailto:")!==0&&(N="mailto:"+N);var H=this.quill.theme.tooltip;H.edit("link",N)}else this.quill.format("link",!1)}}}}});var L=function(O){U(C,O);function C(D,N){b(this,C);var H=M(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,D,N));return H.preview=H.root.querySelector("a.ql-preview"),H}return f(C,[{key:"listen",value:function(){var N=this;u(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(H){N.root.classList.contains("ql-editing")?N.save():N.edit("link",N.preview.textContent),H.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(H){if(N.linkRange!=null){var G=N.linkRange;N.restoreFocus(),N.quill.formatText(G,"link",!1,y.default.sources.USER),delete N.linkRange}H.preventDefault(),N.hide()}),this.quill.on(y.default.events.SELECTION_CHANGE,function(H,G,Z){if(H!=null){if(H.length===0&&Z===y.default.sources.USER){var Q=N.quill.scroll.descendant(T.default,H.index),re=a(Q,2),Y=re[0],W=re[1];if(Y!=null){N.linkRange=new _.Range(H.index-W,Y.length());var j=T.default.formats(Y.domNode);N.preview.textContent=j,N.preview.setAttribute("href",j),N.show(),N.position(N.quill.getBounds(N.linkRange));return}}else delete N.linkRange;N.hide()}})}},{key:"show",value:function(){u(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),C}(d.BaseTooltip);L.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=I},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(29),u=ye(a),f=o(36),h=o(38),m=o(64),v=o(65),y=ye(v),d=o(66),g=ye(d),E=o(67),T=ye(E),_=o(37),w=o(26),S=o(39),R=o(40),b=o(56),M=ye(b),U=o(68),k=ye(U),I=o(27),L=ye(I),O=o(69),C=ye(O),D=o(70),N=ye(D),H=o(71),G=ye(H),Z=o(72),Q=ye(Z),re=o(73),Y=ye(re),W=o(13),j=ye(W),B=o(74),K=ye(B),ne=o(75),te=ye(ne),$=o(57),J=ye($),oe=o(41),se=ye(oe),pe=o(28),Ie=ye(pe),Me=o(59),Ue=ye(Me),Ge=o(60),Je=ye(Ge),Ot=o(61),gt=ye(Ot),de=o(108),me=ye(de),be=o(62),Ae=ye(be);function ye($e){return $e&&$e.__esModule?$e:{default:$e}}u.default.register({"attributors/attribute/direction":h.DirectionAttribute,"attributors/class/align":f.AlignClass,"attributors/class/background":_.BackgroundClass,"attributors/class/color":w.ColorClass,"attributors/class/direction":h.DirectionClass,"attributors/class/font":S.FontClass,"attributors/class/size":R.SizeClass,"attributors/style/align":f.AlignStyle,"attributors/style/background":_.BackgroundStyle,"attributors/style/color":w.ColorStyle,"attributors/style/direction":h.DirectionStyle,"attributors/style/font":S.FontStyle,"attributors/style/size":R.SizeStyle},!0),u.default.register({"formats/align":f.AlignClass,"formats/direction":h.DirectionClass,"formats/indent":m.IndentClass,"formats/background":_.BackgroundStyle,"formats/color":w.ColorStyle,"formats/font":S.FontClass,"formats/size":R.SizeClass,"formats/blockquote":y.default,"formats/code-block":j.default,"formats/header":g.default,"formats/list":T.default,"formats/bold":M.default,"formats/code":W.Code,"formats/italic":k.default,"formats/link":L.default,"formats/script":C.default,"formats/strike":N.default,"formats/underline":G.default,"formats/image":Q.default,"formats/video":Y.default,"formats/list/item":E.ListItem,"modules/formula":K.default,"modules/syntax":te.default,"modules/toolbar":J.default,"themes/bubble":me.default,"themes/snow":Ae.default,"ui/icons":se.default,"ui/picker":Ie.default,"ui/icon-picker":Je.default,"ui/color-picker":Ue.default,"ui/tooltip":gt.default},!0),r.default=u.default},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var a=function(){function T(_,w){for(var S=0;S<w.length;S++){var R=w[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(_,R.key,R)}}return function(_,w,S){return w&&T(_.prototype,w),S&&T(_,S),_}}(),u=function T(_,w,S){_===null&&(_=Function.prototype);var R=Object.getOwnPropertyDescriptor(_,w);if(R===void 0){var b=Object.getPrototypeOf(_);return b===null?void 0:T(b,w,S)}else{if("value"in R)return R.value;var M=R.get;return M===void 0?void 0:M.call(S)}},f=o(0),h=m(f);function m(T){return T&&T.__esModule?T:{default:T}}function v(T,_){if(!(T instanceof _))throw new TypeError("Cannot call a class as a function")}function y(T,_){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:T}function d(T,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);T.prototype=Object.create(_&&_.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(T,_):T.__proto__=_)}var g=function(T){d(_,T);function _(){return v(this,_),y(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"add",value:function(S,R){if(R==="+1"||R==="-1"){var b=this.value(S)||0;R=R==="+1"?b+1:b-1}return R===0?(this.remove(S),!0):u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"add",this).call(this,S,R)}},{key:"canAdd",value:function(S,R){return u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,S,R)||u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,S,parseInt(R))}},{key:"value",value:function(S){return parseInt(u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,S))||void 0}}]),_}(h.default.Attributor.Class),E=new g("indent","ql-indent",{scope:h.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=E},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(4),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function m(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function v(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var y=function(d){v(g,d);function g(){return h(this,g),m(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(u.default);y.blotName="blockquote",y.tagName="blockquote",r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function g(E,T){for(var _=0;_<T.length;_++){var w=T[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(E,w.key,w)}}return function(E,T,_){return T&&g(E.prototype,T),_&&g(E,_),E}}(),u=o(4),f=h(u);function h(g){return g&&g.__esModule?g:{default:g}}function m(g,E){if(!(g instanceof E))throw new TypeError("Cannot call a class as a function")}function v(g,E){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:g}function y(g,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);g.prototype=Object.create(E&&E.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(g,E):g.__proto__=E)}var d=function(g){y(E,g);function E(){return m(this,E),v(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,null,[{key:"formats",value:function(_){return this.tagName.indexOf(_.tagName)+1}}]),E}(f.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],r.default=d},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var a=function(){function b(M,U){for(var k=0;k<U.length;k++){var I=U[k];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,I.key,I)}}return function(M,U,k){return U&&b(M.prototype,U),k&&b(M,k),M}}(),u=function b(M,U,k){M===null&&(M=Function.prototype);var I=Object.getOwnPropertyDescriptor(M,U);if(I===void 0){var L=Object.getPrototypeOf(M);return L===null?void 0:b(L,U,k)}else{if("value"in I)return I.value;var O=I.get;return O===void 0?void 0:O.call(k)}},f=o(0),h=g(f),m=o(4),v=g(m),y=o(25),d=g(y);function g(b){return b&&b.__esModule?b:{default:b}}function E(b,M,U){return M in b?Object.defineProperty(b,M,{value:U,enumerable:!0,configurable:!0,writable:!0}):b[M]=U,b}function T(b,M){if(!(b instanceof M))throw new TypeError("Cannot call a class as a function")}function _(b,M){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:b}function w(b,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);b.prototype=Object.create(M&&M.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(b,M):b.__proto__=M)}var S=function(b){w(M,b);function M(){return T(this,M),_(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return a(M,[{key:"format",value:function(k,I){k===R.blotName&&!I?this.replaceWith(h.default.create(this.statics.scope)):u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"format",this).call(this,k,I)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(k,I){return this.parent.isolate(this.offset(this.parent),this.length()),k===this.parent.statics.blotName?(this.parent.replaceWith(k,I),this):(this.parent.unwrap(),u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"replaceWith",this).call(this,k,I))}}],[{key:"formats",value:function(k){return k.tagName===this.tagName?void 0:u(M.__proto__||Object.getPrototypeOf(M),"formats",this).call(this,k)}}]),M}(v.default);S.blotName="list-item",S.tagName="LI";var R=function(b){w(M,b),a(M,null,[{key:"create",value:function(k){var I=k==="ordered"?"OL":"UL",L=u(M.__proto__||Object.getPrototypeOf(M),"create",this).call(this,I);return(k==="checked"||k==="unchecked")&&L.setAttribute("data-checked",k==="checked"),L}},{key:"formats",value:function(k){if(k.tagName==="OL")return"ordered";if(k.tagName==="UL")return k.hasAttribute("data-checked")?k.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function M(U){T(this,M);var k=_(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,U)),I=function(O){if(O.target.parentNode===U){var C=k.statics.formats(U),D=h.default.find(O.target);C==="checked"?D.format("list","unchecked"):C==="unchecked"&&D.format("list","checked")}};return U.addEventListener("touchstart",I),U.addEventListener("mousedown",I),k}return a(M,[{key:"format",value:function(k,I){this.children.length>0&&this.children.tail.format(k,I)}},{key:"formats",value:function(){return E({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(k,I){if(k instanceof S)u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertBefore",this).call(this,k,I);else{var L=I==null?this.length():I.offset(this),O=this.split(L);O.parent.insertBefore(k,O)}}},{key:"optimize",value:function(k){u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,k);var I=this.next;I!=null&&I.prev===this&&I.statics.blotName===this.statics.blotName&&I.domNode.tagName===this.domNode.tagName&&I.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(I.moveChildren(this),I.remove())}},{key:"replace",value:function(k){if(k.statics.blotName!==this.statics.blotName){var I=h.default.create(this.statics.defaultChild);k.moveChildren(I),this.appendChild(I)}u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"replace",this).call(this,k)}}]),M}(d.default);R.blotName="list",R.scope=h.default.Scope.BLOCK_BLOT,R.tagName=["OL","UL"],R.defaultChild="list-item",R.allowedChildren=[S],r.ListItem=S,r.default=R},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(56),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function m(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function v(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var y=function(d){v(g,d);function g(){return h(this,g),m(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(u.default);y.blotName="italic",y.tagName=["EM","I"],r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function E(T,_){for(var w=0;w<_.length;w++){var S=_[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,_,w){return _&&E(T.prototype,_),w&&E(T,w),T}}(),u=function E(T,_,w){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,_);if(S===void 0){var R=Object.getPrototypeOf(T);return R===null?void 0:E(R,_,w)}else{if("value"in S)return S.value;var b=S.get;return b===void 0?void 0:b.call(w)}},f=o(6),h=m(f);function m(E){return E&&E.__esModule?E:{default:E}}function v(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function y(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function d(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var g=function(E){d(T,E);function T(){return v(this,T),y(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,null,[{key:"create",value:function(w){return w==="super"?document.createElement("sup"):w==="sub"?document.createElement("sub"):u(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this,w)}},{key:"formats",value:function(w){if(w.tagName==="SUB")return"sub";if(w.tagName==="SUP")return"super"}}]),T}(h.default);g.blotName="script",g.tagName=["SUB","SUP"],r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(6),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function m(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function v(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var y=function(d){v(g,d);function g(){return h(this,g),m(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(u.default);y.blotName="strike",y.tagName="S",r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(6),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function m(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function v(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var y=function(d){v(g,d);function g(){return h(this,g),m(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(u.default);y.blotName="underline",y.tagName="U",r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function _(w,S){for(var R=0;R<S.length;R++){var b=S[R];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(w,b.key,b)}}return function(w,S,R){return S&&_(w.prototype,S),R&&_(w,R),w}}(),u=function _(w,S,R){w===null&&(w=Function.prototype);var b=Object.getOwnPropertyDescriptor(w,S);if(b===void 0){var M=Object.getPrototypeOf(w);return M===null?void 0:_(M,S,R)}else{if("value"in b)return b.value;var U=b.get;return U===void 0?void 0:U.call(R)}},f=o(0),h=v(f),m=o(27);function v(_){return _&&_.__esModule?_:{default:_}}function y(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function d(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function g(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var E=["alt","height","width"],T=function(_){g(w,_);function w(){return y(this,w),d(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"format",value:function(R,b){E.indexOf(R)>-1?b?this.domNode.setAttribute(R,b):this.domNode.removeAttribute(R):u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,R,b)}}],[{key:"create",value:function(R){var b=u(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,R);return typeof R=="string"&&b.setAttribute("src",this.sanitize(R)),b}},{key:"formats",value:function(R){return E.reduce(function(b,M){return R.hasAttribute(M)&&(b[M]=R.getAttribute(M)),b},{})}},{key:"match",value:function(R){return/\.(jpe?g|gif|png)$/.test(R)||/^data:image\/.+;base64/.test(R)}},{key:"sanitize",value:function(R){return(0,m.sanitize)(R,["http","https","data"])?R:"//:0"}},{key:"value",value:function(R){return R.getAttribute("src")}}]),w}(h.default.Embed);T.blotName="image",T.tagName="IMG",r.default=T},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function _(w,S){for(var R=0;R<S.length;R++){var b=S[R];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(w,b.key,b)}}return function(w,S,R){return S&&_(w.prototype,S),R&&_(w,R),w}}(),u=function _(w,S,R){w===null&&(w=Function.prototype);var b=Object.getOwnPropertyDescriptor(w,S);if(b===void 0){var M=Object.getPrototypeOf(w);return M===null?void 0:_(M,S,R)}else{if("value"in b)return b.value;var U=b.get;return U===void 0?void 0:U.call(R)}},f=o(4),h=o(27),m=v(h);function v(_){return _&&_.__esModule?_:{default:_}}function y(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function d(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function g(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var E=["height","width"],T=function(_){g(w,_);function w(){return y(this,w),d(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"format",value:function(R,b){E.indexOf(R)>-1?b?this.domNode.setAttribute(R,b):this.domNode.removeAttribute(R):u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,R,b)}}],[{key:"create",value:function(R){var b=u(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,R);return b.setAttribute("frameborder","0"),b.setAttribute("allowfullscreen",!0),b.setAttribute("src",this.sanitize(R)),b}},{key:"formats",value:function(R){return E.reduce(function(b,M){return R.hasAttribute(M)&&(b[M]=R.getAttribute(M)),b},{})}},{key:"sanitize",value:function(R){return m.default.sanitize(R)}},{key:"value",value:function(R){return R.getAttribute("src")}}]),w}(f.BlockEmbed);T.blotName="video",T.className="ql-video",T.tagName="IFRAME",r.default=T},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var a=function(){function R(b,M){for(var U=0;U<M.length;U++){var k=M[U];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}return function(b,M,U){return M&&R(b.prototype,M),U&&R(b,U),b}}(),u=function R(b,M,U){b===null&&(b=Function.prototype);var k=Object.getOwnPropertyDescriptor(b,M);if(k===void 0){var I=Object.getPrototypeOf(b);return I===null?void 0:R(I,M,U)}else{if("value"in k)return k.value;var L=k.get;return L===void 0?void 0:L.call(U)}},f=o(35),h=g(f),m=o(5),v=g(m),y=o(9),d=g(y);function g(R){return R&&R.__esModule?R:{default:R}}function E(R,b){if(!(R instanceof b))throw new TypeError("Cannot call a class as a function")}function T(R,b){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:R}function _(R,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);R.prototype=Object.create(b&&b.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(R,b):R.__proto__=b)}var w=function(R){_(b,R);function b(){return E(this,b),T(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,null,[{key:"create",value:function(U){var k=u(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,U);return typeof U=="string"&&(window.katex.render(U,k,{throwOnError:!1,errorColor:"#f00"}),k.setAttribute("data-value",U)),k}},{key:"value",value:function(U){return U.getAttribute("data-value")}}]),b}(h.default);w.blotName="formula",w.className="ql-formula",w.tagName="SPAN";var S=function(R){_(b,R),a(b,null,[{key:"register",value:function(){v.default.register(w,!0)}}]);function b(){E(this,b);var M=T(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return M}return b}(d.default);r.FormulaBlot=w,r.default=S},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var a=function(){function U(k,I){for(var L=0;L<I.length;L++){var O=I[L];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(k,O.key,O)}}return function(k,I,L){return I&&U(k.prototype,I),L&&U(k,L),k}}(),u=function U(k,I,L){k===null&&(k=Function.prototype);var O=Object.getOwnPropertyDescriptor(k,I);if(O===void 0){var C=Object.getPrototypeOf(k);return C===null?void 0:U(C,I,L)}else{if("value"in O)return O.value;var D=O.get;return D===void 0?void 0:D.call(L)}},f=o(0),h=T(f),m=o(5),v=T(m),y=o(9),d=T(y),g=o(13),E=T(g);function T(U){return U&&U.__esModule?U:{default:U}}function _(U,k){if(!(U instanceof k))throw new TypeError("Cannot call a class as a function")}function w(U,k){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:U}function S(U,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);U.prototype=Object.create(k&&k.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(U,k):U.__proto__=k)}var R=function(U){S(k,U);function k(){return _(this,k),w(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return a(k,[{key:"replaceWith",value:function(L){this.domNode.textContent=this.domNode.textContent,this.attach(),u(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,L)}},{key:"highlight",value:function(L){var O=this.domNode.textContent;this.cachedText!==O&&((O.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=L(O),this.domNode.normalize(),this.attach()),this.cachedText=O)}}]),k}(E.default);R.className="ql-syntax";var b=new h.default.Attributor.Class("token","hljs",{scope:h.default.Scope.INLINE}),M=function(U){S(k,U),a(k,null,[{key:"register",value:function(){v.default.register(b,!0),v.default.register(R,!0)}}]);function k(I,L){_(this,k);var O=w(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,I,L));if(typeof O.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var C=null;return O.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(C),C=setTimeout(function(){O.highlight(),C=null},O.options.interval)}),O.highlight(),O}return a(k,[{key:"highlight",value:function(){var L=this;if(!this.quill.selection.composing){this.quill.update(v.default.sources.USER);var O=this.quill.getSelection();this.quill.scroll.descendants(R).forEach(function(C){C.highlight(L.options.highlight)}),this.quill.update(v.default.sources.SILENT),O!=null&&this.quill.setSelection(O,v.default.sources.SILENT)}}}]),k}(d.default);M.DEFAULTS={highlight:function(){return window.hljs==null?null:function(U){var k=window.hljs.highlightAuto(U);return k.value}}(),interval:1e3},r.CodeBlock=R,r.CodeToken=b,r.default=M},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,r){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,r){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,r){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,r){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var a=function k(I,L,O){I===null&&(I=Function.prototype);var C=Object.getOwnPropertyDescriptor(I,L);if(C===void 0){var D=Object.getPrototypeOf(I);return D===null?void 0:k(D,L,O)}else{if("value"in C)return C.value;var N=C.get;return N===void 0?void 0:N.call(O)}},u=function(){function k(I,L){for(var O=0;O<L.length;O++){var C=L[O];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(I,C.key,C)}}return function(I,L,O){return L&&k(I.prototype,L),O&&k(I,O),I}}(),f=o(3),h=_(f),m=o(8),v=_(m),y=o(43),d=_(y),g=o(15),E=o(41),T=_(E);function _(k){return k&&k.__esModule?k:{default:k}}function w(k,I){if(!(k instanceof I))throw new TypeError("Cannot call a class as a function")}function S(k,I){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:k}function R(k,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);k.prototype=Object.create(I&&I.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(k,I):k.__proto__=I)}var b=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],M=function(k){R(I,k);function I(L,O){w(this,I),O.modules.toolbar!=null&&O.modules.toolbar.container==null&&(O.modules.toolbar.container=b);var C=S(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,L,O));return C.quill.container.classList.add("ql-bubble"),C}return u(I,[{key:"extendToolbar",value:function(O){this.tooltip=new U(this.quill,this.options.bounds),this.tooltip.root.appendChild(O.container),this.buildButtons([].slice.call(O.container.querySelectorAll("button")),T.default),this.buildPickers([].slice.call(O.container.querySelectorAll("select")),T.default)}}]),I}(d.default);M.DEFAULTS=(0,h.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){I?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var U=function(k){R(I,k);function I(L,O){w(this,I);var C=S(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,L,O));return C.quill.on(v.default.events.EDITOR_CHANGE,function(D,N,H,G){if(D===v.default.events.SELECTION_CHANGE)if(N!=null&&N.length>0&&G===v.default.sources.USER){C.show(),C.root.style.left="0px",C.root.style.width="",C.root.style.width=C.root.offsetWidth+"px";var Z=C.quill.getLines(N.index,N.length);if(Z.length===1)C.position(C.quill.getBounds(N));else{var Q=Z[Z.length-1],re=C.quill.getIndex(Q),Y=Math.min(Q.length()-1,N.index+N.length-re),W=C.quill.getBounds(new g.Range(re,Y));C.position(W)}}else document.activeElement!==C.textbox&&C.quill.hasFocus()&&C.hide()}),C}return u(I,[{key:"listen",value:function(){var O=this;a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){O.root.classList.remove("ql-editing")}),this.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!O.root.classList.contains("ql-hidden")){var C=O.quill.getSelection();C!=null&&O.position(O.quill.getBounds(C))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(O){var C=a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"position",this).call(this,O),D=this.root.querySelector(".ql-tooltip-arrow");if(D.style.marginLeft="",C===0)return C;D.style.marginLeft=-1*C-D.offsetWidth/2+"px"}}]),I}(y.BaseTooltip);U.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=U,r.default=M},function(t,r,o){t.exports=o(63)}]).default})}(Dc)),Dc.exports}var hr,qw;function fM(){if(qw)return hr;qw=1;var n=hr&&hr.__extends||function(){var v=function(y,d){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,E){g.__proto__=E}||function(g,E){for(var T in E)E.hasOwnProperty(T)&&(g[T]=E[T])},v(y,d)};return function(y,d){v(y,d);function g(){this.constructor=y}y.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}(),e=hr&&hr.__assign||function(){return e=Object.assign||function(v){for(var y,d=1,g=arguments.length;d<g;d++){y=arguments[d];for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&(v[E]=y[E])}return v},e.apply(this,arguments)},t=hr&&hr.__spreadArrays||function(){for(var v=0,y=0,d=arguments.length;y<d;y++)v+=arguments[y].length;for(var g=Array(v),E=0,y=0;y<d;y++)for(var T=arguments[y],_=0,w=T.length;_<w;_++,E++)g[E]=T[_];return g},r=hr&&hr.__importDefault||function(v){return v&&v.__esModule?v:{default:v}},o=r(nf()),a=r(Hw()),u=r(lM()),f=r(cM()),h=function(v){n(y,v);function y(d){var g=v.call(this,d)||this;g.dirtyProps=["modules","formats","bounds","theme","children"],g.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],g.state={generation:0},g.selection=null,g.onEditorChange=function(T,_,w,S){var R,b,M,U;T==="text-change"?(b=(R=g).onEditorChangeText)===null||b===void 0||b.call(R,g.editor.root.innerHTML,_,S,g.unprivilegedEditor):T==="selection-change"&&((U=(M=g).onEditorChangeSelection)===null||U===void 0||U.call(M,_,S,g.unprivilegedEditor))};var E=g.isControlled()?d.value:d.defaultValue;return g.value=E??"",g}return y.prototype.validateProps=function(d){var g;if(o.default.Children.count(d.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(o.default.Children.count(d.children)){var E=o.default.Children.only(d.children);if(((g=E)===null||g===void 0?void 0:g.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&d.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},y.prototype.shouldComponentUpdate=function(d,g){var E=this,T;if(this.validateProps(d),!this.editor||this.state.generation!==g.generation)return!0;if("value"in d){var _=this.getEditorContents(),w=(T=d.value,T??"");this.isEqualValue(w,_)||this.setEditorContents(this.editor,w)}return d.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,d.readOnly),t(this.cleanProps,this.dirtyProps).some(function(S){return!u.default(d[S],E.props[S])})},y.prototype.shouldComponentRegenerate=function(d){var g=this;return this.dirtyProps.some(function(E){return!u.default(d[E],g.props[E])})},y.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},y.prototype.componentWillUnmount=function(){this.destroyEditor()},y.prototype.componentDidUpdate=function(d,g){var E=this;if(this.editor&&this.shouldComponentRegenerate(d)){var T=this.editor.getContents(),_=this.editor.getSelection();this.regenerationSnapshot={delta:T,selection:_},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==g.generation){var w=this.regenerationSnapshot,T=w.delta,S=w.selection;delete this.regenerationSnapshot,this.instantiateEditor();var R=this.editor;R.setContents(T),m(function(){return E.setEditorSelection(R,S)})}},y.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},y.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},y.prototype.isControlled=function(){return"value"in this.props},y.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},y.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},y.prototype.createEditor=function(d,g){var E=new f.default(d,g);return g.tabIndex!=null&&this.setEditorTabIndex(E,g.tabIndex),this.hookEditor(E),E},y.prototype.hookEditor=function(d){this.unprivilegedEditor=this.makeUnprivilegedEditor(d),d.on("editor-change",this.onEditorChange)},y.prototype.unhookEditor=function(d){d.off("editor-change",this.onEditorChange)},y.prototype.getEditorContents=function(){return this.value},y.prototype.getEditorSelection=function(){return this.selection},y.prototype.isDelta=function(d){return d&&d.ops},y.prototype.isEqualValue=function(d,g){return this.isDelta(d)&&this.isDelta(g)?u.default(d.ops,g.ops):u.default(d,g)},y.prototype.setEditorContents=function(d,g){var E=this;this.value=g;var T=this.getEditorSelection();typeof g=="string"?d.setContents(d.clipboard.convert(g)):d.setContents(g),m(function(){return E.setEditorSelection(d,T)})},y.prototype.setEditorSelection=function(d,g){if(this.selection=g,g){var E=d.getLength();g.index=Math.max(0,Math.min(g.index,E-1)),g.length=Math.max(0,Math.min(g.length,E-1-g.index)),d.setSelection(g)}},y.prototype.setEditorTabIndex=function(d,g){var E,T;!((T=(E=d)===null||E===void 0?void 0:E.scroll)===null||T===void 0)&&T.domNode&&(d.scroll.domNode.tabIndex=g)},y.prototype.setEditorReadOnly=function(d,g){g?d.disable():d.enable()},y.prototype.makeUnprivilegedEditor=function(d){var g=d;return{getHTML:function(){return g.root.innerHTML},getLength:g.getLength.bind(g),getText:g.getText.bind(g),getContents:g.getContents.bind(g),getSelection:g.getSelection.bind(g),getBounds:g.getBounds.bind(g)}},y.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var d=a.default.findDOMNode(this.editingArea);if(!d)throw new Error("Cannot find element for editing area");if(d.nodeType===3)throw new Error("Editing area cannot be a text node");return d},y.prototype.renderEditingArea=function(){var d=this,g=this.props,E=g.children,T=g.preserveWhitespace,_=this.state.generation,w={key:_,ref:function(S){d.editingArea=S}};return o.default.Children.count(E)?o.default.cloneElement(o.default.Children.only(E),w):T?o.default.createElement("pre",e({},w)):o.default.createElement("div",e({},w))},y.prototype.render=function(){var d;return o.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(d=this.props.className,d??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},y.prototype.onEditorChangeText=function(d,g,E,T){var _,w;if(this.editor){var S=this.isDelta(this.value)?T.getContents():T.getHTML();S!==this.getEditorContents()&&(this.lastDeltaChangeSet=g,this.value=S,(w=(_=this.props).onChange)===null||w===void 0||w.call(_,d,g,E,T))}},y.prototype.onEditorChangeSelection=function(d,g,E){var T,_,w,S,R,b;if(this.editor){var M=this.getEditorSelection(),U=!M&&d,k=M&&!d;u.default(d,M)||(this.selection=d,(_=(T=this.props).onChangeSelection)===null||_===void 0||_.call(T,d,g,E),U?(S=(w=this.props).onFocus)===null||S===void 0||S.call(w,d,g,E):k&&((b=(R=this.props).onBlur)===null||b===void 0||b.call(R,M,g,E)))}},y.prototype.focus=function(){this.editor&&this.editor.focus()},y.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},y.displayName="React Quill",y.Quill=f.default,y.defaultProps={theme:"snow",modules:{},readOnly:!1},y}(o.default.Component);function m(v){Promise.resolve().then(v)}return hr=h,hr}var hM=fM();const Bw=Wm(hM),wc=350,zw=()=>{const[n,e]=he.useState(!1),[t,r]=Le.useState(!1),[o,a]=Le.useState(0),[u,f]=Le.useState(0),{cpf:h,login:m}=he.useContext(Br),[v,y]=Le.useState(""),[d,g]=Le.useState(!1),[E,T]=Le.useState(0),[_,w]=Le.useState(""),S=Yo(),{id:R}=t0(),[b,M]=he.useState({title:"",price:"",cpu:"",processorBrand:"",graphicsCardBrand:"",motherBoard:"",cpuText:"",tower:"",adApproved:!1,font:"",memory:"",graphicsCard:"",cooling:"",amoutCables:"",ages:"",link:"",motherBoardText:"",customerCpf:"",images:[]});he.useEffect(()=>{(async()=>{if(R){const Q=await nS("products",R);Q&&typeof Q=="object"&&Object.keys(Q).length>0&&M({title:Q.title,price:Q.price,cpu:Q.cpu,motherBoard:Q.motherBoard,adApproved:Q.adApproved,customerCpf:Q.customerCpf,processorBrand:Q.processorBrand,graphicsCardBrand:Q.graphicsCardBrand,cpuText:Q.cpuText,tower:Q.tower,font:Q.font,memory:Q.memory,graphicsCard:Q.graphicsCard,cooling:Q.cooling,amoutCables:Q.amoutCables,ages:Q.ages,link:Q.link,motherBoardText:Q.motherBoardText,images:Q.images})}})()},[]);const U=Z=>{let{id:Q,value:re}=Z.target;Q==="price"&&(re=re.replace(/\D/g,""),re=(parseFloat(re)/100).toFixed(2),re=`R$ ${re.replace(".",",")}`),b.customerCpf===""&&(b.customerCpf=h.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")),Q!=="title"&&Q!=="ages"&&Q!=="motherBoardText"&&Q!=="cpuText"&&Q!=="link"&&Q!=="processorBrand"&&Q!=="graphicsCardBrand"&&(re=re.toUpperCase()),M(Y=>({...Y,[Q]:re}))},k=async Z=>{const Q=Z.target.files[0];if(Q)try{await gD(Q,T,w,M)}catch(re){console.error("Erro no upload:",re)}},I=(Z,Q)=>{Z.replace(/<[^>]*>/g,"").length<=wc&&y(Z),M(Y=>({...Y,[Q]:Z}))},L=Z=>{const Q=v.replace(/<[^>]*>/g,"");Z==="cpuText"?a(Q.length):Z==="motherBoardText"&&f(Q.length),Q.length,Q.length>=wc&&event.key!=="Backspace"&&event.preventDefault()},O=()=>{if(n===!1){console.log("formData",b);const Z=Object.keys(b).filter(Q=>Q!=="link"&&(b[Q]===""||b[Q]===void 0));if(Z.length>0){alert(`Os seguintes campos precisam ser preenchidos: ${Z.join(", ")}`);return}e(!0);return}e(!1),C()},C=async Z=>{if((!Z||typeof Z.preventDefault!="function")&&(Z={preventDefault:()=>{}}),Z.preventDefault(),b.price=b.price.replace("R$ ","").replace(",00",""),R){b.customerCpf=D(b.customerCpf),tS("products",R,b),S("/");return}b.customerCpf=D(h);const Q=await eS("products",b);await N(Q),M({id:"",title:"",price:"",cpu:"",motherBoard:"",tower:"",cpuText:"",processorBrand:"",graphicsCardBrand:"",motherBoardText:"",font:"",graphicsCard:"",customerCpf:"",memory:"",cooling:"",amoutCables:"",ages:"",link:"",images:[]}),r(!0)},D=Z=>Z.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),N=async Z=>{const Q=D(h),re=await Jg("customer","cpf",Q);console.log("EMAIL   ",re.email),console.log("ID DO PRODUTO   ",Z);debugger;try{await yD(re.email,Z),console.log("Email enviado com sucesso!")}catch(Y){console.error("Erro ao enviar o email:",Y)}},H=Z=>{M(Q=>({...Q,images:Q.images.filter((re,Y)=>Y!==Z)}))},G=Z=>{if(R){if(Z){dD("products",R),g(!1),S("/");return}g(!0)}};return V.jsxs("div",{className:Ze.productFormContainer,children:[t&&V.jsx(aa,{message:"Seu produto foi criado com sucesso. Ele será avaliado e em breve estará disponível para venda.",setClose:r,adress:"/"}),d&&V.jsx(qm,{defaultMessage:"Você está prestes a excluir esse card. Tem certeza que quer continuar",setCloseMessage:g,goOn:()=>G(!0)}),n&&V.jsx(qm,{defaultMessage:"Tem certeza que quer enviar os dados?",setCloseMessage:e,goOn:()=>O()}),V.jsx("h2",{children:"Formulário para máquinas Dragon"}),V.jsxs("form",{className:Ze.formContainer,children:[V.jsxs("div",{className:Ze.formRow,children:[V.jsxs("div",{className:Ze.formGroup,children:[V.jsx("label",{htmlFor:"title",children:"Título/Aplicação:"}),V.jsxs("select",{id:"title",value:b.title,onChange:U,required:!0,children:[V.jsx("option",{value:"",children:"Selecione sua opção"}),V.jsx("option",{value:"Gamer",children:"Gamer"}),V.jsx("option",{value:"Escritório",children:"Escritório"}),V.jsx("option",{value:"Render",children:"Render"}),V.jsx("option",{value:"Doméstico",children:"Doméstico"}),V.jsx("option",{value:"Edição de Video",children:"Edição de Video"})]})]}),V.jsxs("div",{className:Ze.formGroup,children:[V.jsx("label",{htmlFor:"price",children:"Preço:"}),V.jsx("input",{type:"text",required:!0,id:"price",value:b.price,onChange:U})]})]}),V.jsxs("div",{className:Ze.formRow,children:[V.jsxs("div",{className:Ze.formGroup,children:[V.jsx("label",{htmlFor:"processador",title:"modelo",children:"Processador:"}),V.jsx("input",{title:"modelo",type:"text",required:!0,id:"cpu",value:b.cpu,onChange:U})]}),V.jsxs("div",{className:Ze.formGroup,children:[V.jsx("label",{htmlFor:"processorBrand",children:"Marca do Processador:"}),V.jsxs("select",{id:"processorBrand",required:!0,value:b.processorBrand,onChange:U,children:[V.jsx("option",{value:"",children:"Selecione sua opção"}),V.jsx("option",{value:"AMD",children:"AMD"}),V.jsx("option",{value:"Intel",children:"Intel"})]})]})]}),V.jsxs("div",{className:Ze.formRow,children:[V.jsxs("div",{className:Ze.formGroup,children:[V.jsx("label",{htmlFor:"graphicsCard",title:"modelo e memoria",children:"Placa de Video:"}),V.jsx("input",{title:"modelo e memoria",type:"text",id:"graphicsCard",value:b.graphicsCard,onChange:U})]}),V.jsxs("div",{className:Ze.formGroup,children:[V.jsx("label",{htmlFor:"graphicsCardBrand",children:"Marca da Placa de vídeo:"}),V.jsxs("select",{id:"graphicsCardBrand",value:b.graphicsCardBrand,required:!0,onChange:U,children:[V.jsx("option",{value:"",children:"Selecione sua opção"}),V.jsx("option",{value:"AMD",children:"AMD"}),V.jsx("option",{value:"Arc",children:"Arc"}),V.jsx("option",{value:"NVIDEA",children:"Nvidea"})]})]})]}),V.jsxs("div",{className:Ze.formRow,children:[V.jsxs("div",{className:Ze.formGroup,children:[V.jsx("label",{htmlFor:"processador",title:"quantidade, frequencia e marca",children:"Memória:"}),V.jsx("input",{title:"quantidade, frequencia e marca",type:"text",required:!0,id:"memory",value:b.memory,onChange:U})]}),V.jsxs("div",{className:Ze.formGroup,children:[V.jsx("label",{htmlFor:"motherBoard",title:"modelo e marca",children:"Refrigeração:"}),V.jsx("input",{title:"modelo e marca",type:"text",required:!0,id:"cooling",value:b.cooling,onChange:U})]})]}),V.jsxs("div",{className:Ze.formRow,children:[V.jsxs("div",{className:Ze.formGroup,children:[V.jsx("label",{htmlFor:"motherBoard",title:"Marca e modelo",children:"Placa de mãe:"}),V.jsx("input",{title:"Marca e modelo",type:"text",required:!0,id:"motherBoard",value:b.motherBoard,onChange:U})]}),V.jsxs("div",{className:Ze.formGroup,children:[V.jsx("label",{htmlFor:"font",title:"Watt´s, marca e certificação",children:"Fonte:"}),V.jsx("input",{title:"Watt´s, marca e certificação",type:"text",id:"font",value:b.font,onChange:U})]})]}),V.jsxs("div",{className:Ze.formRow,children:[V.jsxs("div",{className:Ze.formGroup,children:[V.jsxs("label",{htmlFor:"quantidadeDeCabos",title:"modelos",children:[" ","Cabos:"]}),V.jsx("input",{title:"modelos",type:"text",id:"amoutCables",value:b.amoutCables,onChange:U})]}),V.jsxs("div",{className:Ze.formGroup,children:[V.jsx("label",{htmlFor:"font",title:"modelo e marca.",children:"Gabinete:"}),V.jsx("input",{title:"modelo e marca.",type:"text",id:"tower",value:b.tower,onChange:U})]})]}),V.jsxs("div",{className:Ze.formRow,children:[V.jsxs("div",{className:Ze.formGroup,children:[V.jsx("label",{htmlFor:"quantidadeDeCabos",children:"Data da Compra"}),V.jsx("input",{type:"date",id:"ages",value:b.ages,onChange:U})]}),V.jsxs("div",{className:Ze.formGroup,children:[V.jsx("label",{htmlFor:"images",children:"Imagens:( png, jpg, jpeg )"}),V.jsx("input",{type:"file",onChange:k,accept:"image/png, image/jpeg, image/jpg"}),V.jsx("progress",{value:E,max:"100"}),_&&V.jsx("img",{className:Ze.imagePreview,src:_,alt:"Uploaded file"})]})]}),V.jsx("div",{className:Ze.containerImages,children:b&&b.images&&b.images.length>0&&b.images.map((Z,Q)=>V.jsx("div",{className:Ze.imageItem,children:V.jsx("button",{style:{backgroundImage:`url(${Z})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"50px",height:"40px",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},type:"button",onClick:()=>H(Q),children:V.jsx("span",{style:{position:"absolute",top:"5px",right:"5px",backgroundColor:"rgba(0,0,0,0.5)",color:"white",borderRadius:"50%",padding:"2px 5px",fontSize:"12px"},children:"X"})})},Q))}),V.jsxs("div",{className:Ze.formTextareaColumn,children:[V.jsxs("div",{className:Ze.textareaColumn,children:[V.jsx("label",{htmlFor:"motherBoardText",children:"ESPECIFICAÇÕES PLACA MÃE:"}),V.jsx(Bw,{id:"motherBoardText",className:Ze.textField,value:b.motherBoardText,onChange:Z=>I(Z,"motherBoardText"),onKeyDown:()=>L("motherBoardText")}),V.jsxs("div",{className:Ze.characterCounter,children:[u,"/",wc," caracteres"]})]}),V.jsxs("div",{className:Ze.textareaColumn,children:[V.jsx("label",{htmlFor:"cpuText",title:"modelo, htz, cache e marca",children:"ESPECIFICAÇÕES DO PROCESSADOR:"}),V.jsx(Bw,{id:"cpuText",title:"modelo, htz, cache e marca",className:Ze.textField,value:b.cpuText,onChange:Z=>I(Z,"cpuText"),onKeyDown:()=>L("cpuText")}),V.jsxs("div",{className:Ze.characterCounter,children:[o,"/",wc," caracteres"]})]})]}),V.jsxs("div",{className:Ze.btnContainer,children:[V.jsx("button",{type:"button",onClick:O,children:"Salvar"}),V.jsx("button",{type:"button",onClick:()=>G(!1),children:"Excluir"})]}),V.jsx("div",{className:Ze.formRow,children:m&&V.jsxs("div",{className:Ze.formGroup,children:[V.jsx("label",{htmlFor:"adApproved",children:"Aprovar Anúncio:"}),V.jsx("input",{type:"checkbox",id:"adApproved",checked:b.adApproved,onChange:Z=>M(Q=>({...Q,adApproved:Z.target.checked}))}),V.jsx("span",{children:"Somente os inputs checados aparecerão na área de cliente."})]})})]})]})},dM="_headerBtnMobileContainer_ta6oa_1",pM="_btnMobileContainer_ta6oa_1",mM="_nav_ta6oa_8",gM="_navList_ta6oa_8",yM="_active_ta6oa_17",vM="_login_ta6oa_36",_M="_header_ta6oa_1",EM="_containerMessage_ta6oa_47",wM="_logout_ta6oa_91",en={headerBtnMobileContainer:dM,btnMobileContainer:pM,nav:mM,navList:gM,active:yM,login:vM,header:_M,containerMessage:EM,logout:wM},TM=({setCloseMessage:n,message:e})=>{const t=Yo(),[r,o]=Le.useState(!0),[a,u]=Le.useState(!1),[f,h]=Le.useState(!1),{setCpf:m,setCurrentCustomer:v}=he.useContext(Br),[y,d]=Le.useState(""),g=S=>{const R=S.target.value;d(R)},E=()=>{t("/register"),n(!1)},T=async()=>{if(!y||y.length!==11){alert("Por favor, insira um número de CPF válido ou registre-se.");return}if(y){const R=(await Nl("customer")).filter(b=>b.cpf.replace(/[.-]/g,"")===y);R.length>0?(m(y),v(R),n(!1),t("/user-rules")):(h(!0),t("/register"))}},_=()=>{u(!0)},w=()=>{o(!1),n(!0)};return V.jsx("div",{className:Pr.container,children:V.jsxs("div",{className:Pr.geralContainerConfirmMessage,children:[r&&V.jsxs("div",{children:[V.jsx("div",{children:e&&V.jsx("h1",{children:e})}),V.jsxs("div",{className:Pr.containerBtn,children:[V.jsx("button",{onClick:w,children:"Sim"}),V.jsx("button",{onClick:_,children:"Não"})]})]}),V.jsxs("div",{className:Pr.geralContainerConfirmMessage,children:[a&&V.jsx(aa,{message:"Somente computadores comprados na Dragon podem ser comercializados nesse site",setClose:u,setCloseMessage:n}),f&&V.jsx(aa,{message:"O seu Número de CPF não foi encontrado, por favor cadastre-se",setClose:u,setCloseMessage:n})]}),!r&&V.jsxs("div",{className:Pr.containerCpf,children:[V.jsx("h1",{children:"Já vendeu pela Dragon Computadores? Se sim entre com seu cpf caso contrário, cadastre-se!"}),V.jsx("input",{type:"text",value:y,onChange:g,onBlur:T,maxLength:"11",placeholder:"Digite seu CPF"}),V.jsx("button",{className:Pr.submitCpfBtn,onClick:T,children:"Buscar CPF"}),V.jsx("p",{className:Pr.register,onClick:E,children:"Registre-se"})]}),";"]})})},bM="_container_1i2hc_1",SM="_label_1i2hc_11",AM="_input_1i2hc_16",fl={container:bM,label:SM,input:AM},IM="_containerCloseBtn_nnruz_1",CM="_closeButton_nnruz_6",$w={containerCloseBtn:IM,closeButton:CM},ny=({setOpenClose:n,right:e,top:t})=>V.jsx("div",{className:$w.containerCloseBtn,children:V.jsx("button",{style:{position:"aboslute",right:e,top:t},className:$w.closeButton,onClick:()=>n(!1),children:"x"})});ny.propTypes={left:Ne.string,top:Ne.string,right:Ne.string,setOpenClose:Ne.func.isRequired};const Bm=({setOpenClose:n})=>{const[e,t]=Le.useState(""),{setLogin:r}=he.useContext(Br),[o,a]=Le.useState(!1);Le.useEffect(()=>{localStorage.getItem("login")==="true"?localStorage.removeItem("login"):localStorage.setItem("login","true")},[n]);const u=m=>{t(m.target.value)},f=()=>{a(m=>!m)},h=m=>{m.preventDefault(),e==="jadeucerto"?(localStorage.setItem("login","true"),r(!0),n(!1)):alert("Incorrect password")};return Le.useEffect(()=>{const m=document.querySelector(`.${fl.input}`);m&&m.focus()},[]),V.jsxs("div",{className:fl.container,children:[V.jsx(ny,{setOpenClose:n}),V.jsx("h2",{children:"Please enter your password"}),V.jsxs("form",{onSubmit:h,children:[V.jsxs("label",{className:fl.label,children:["Password:",V.jsx("input",{type:o?"text":"password",value:e,onChange:u,className:fl.input})]}),V.jsxs("label",{className:fl.showPassword,children:["Confira a senha",V.jsx("input",{type:"checkbox",checked:o,onChange:f})]}),V.jsx("button",{type:"submit",children:"Submit"})]})]})};Bm.propTypes={setOpenClose:Ne.func.isRequired};const zm="/dragon.io/assets/Logo-BliIRvnu.png",pS=(n=650)=>{const[e,t]=he.useState(window.innerWidth<=n);return he.useEffect(()=>{const r=()=>{t(window.innerWidth<=n)};return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[n]),e},RM="_mobile_9myqw_1",kM={mobile:RM},mS=({setLinksMenuMobile:n})=>V.jsxs("button",{className:kM.mobile,onClick:()=>n(e=>!e),children:[" ",V.jsx("span",{})]});mS.propTypes={setLinksMenuMobile:Ne.func.isRequired};const PM=()=>{const[n,e]=Le.useState(!1),[t,r]=Le.useState(!1),[o,a]=Le.useState(""),[u,f]=Le.useState(!1),{login:h,setLogin:m}=he.useContext(Br),v=Yo(),y=uo(),d=pS(650),g=y.pathname==="/user-rules"||y.pathname==="/form"||y.pathname==="/register",E=w=>{w.preventDefault(),e(!0),a("O seu computador foi comprado na Dragon Computadores")},T=()=>{r(!0)},_=()=>{localStorage.removeItem("login"),m(!1),v("/")};return d?V.jsxs("div",{className:en.headerBtnMobileContainer,children:[t&&V.jsx(Bm,{setOpenClose:r}),!u&&V.jsxs("div",{className:en.btnMobileContainer,children:[V.jsx("div",{children:V.jsx(Uo,{to:"https://dragoncomputadores.com.br/",target:"_blank",rel:"noopener noreferrer",children:V.jsx("img",{src:zm,alt:"Logo dragon"})})}),V.jsx(mS,{setLinksMenuMobile:f})]}),u&&V.jsx("nav",{className:en.nav,children:V.jsxs("ul",{className:en.navList,onClick:()=>f(!1),children:[V.jsx("li",{children:V.jsx(Uo,{className:({isActive:w})=>w?en.active:"",to:"/",children:"Vitrine"})}),V.jsx("li",{children:V.jsx("button",{className:g?en.active:"",onClick:E,children:"Quero Vender"})}),h&&V.jsx("li",{children:V.jsx(Uo,{className:({isActive:w})=>w?en.active:"",to:"/customers",children:"Clientes"})}),h?V.jsx("h3",{className:en.logout,onClick:_,children:"Logado"}):V.jsx("button",{className:en.login,onClick:T})]})})]}):V.jsxs("header",{className:en.header,children:[t&&V.jsx(Bm,{setOpenClose:r}),V.jsx("div",{className:en.containerMessage,children:n&&V.jsx(TM,{setCloseMessage:e,message:o})}),V.jsxs("nav",{className:en.nav,children:[V.jsx("div",{children:V.jsx(Uo,{to:"https://dragoncomputadores.com.br/",target:"_blank",rel:"noopener noreferrer",children:V.jsx("img",{src:zm,alt:"Logo dragon"})})}),V.jsxs("ul",{className:en.navList,children:[V.jsx("li",{children:V.jsx(Uo,{className:({isActive:w})=>w?en.active:"",to:"/",children:"Vitrine"})}),V.jsx("li",{children:V.jsx("button",{className:g?en.active:"",onClick:E,children:"Quero Vender"})}),h&&V.jsx("li",{children:V.jsx(Uo,{className:({isActive:w})=>w?en.active:"",to:"/customers",children:"Clientes"})})]}),h?V.jsx("h3",{className:en.logout,onClick:_,children:"Logado"}):V.jsx("button",{onClick:T})]})]})},xM="_container_op4ao_1",OM="_SingleProductBox_op4ao_1",NM="_containerSideMenu_op4ao_17",DM="_imageThumbnails_op4ao_23",LM="_thumbnail_op4ao_38",MM="_mainImage_op4ao_54",jM="_zoomContainer_op4ao_63",VM="_productDetails_op4ao_88",FM="_mainItems_op4ao_96",UM="_titleContainer_op4ao_106",qM="_specialSpecifications_op4ao_107",BM="_highlightPrice_op4ao_108",zM="_btnMoreDetailsPopup_op4ao_140",$M="_btnContact_op4ao_189",HM="_price_op4ao_241",WM="_hugeText_op4ao_253",KM="_productCode_op4ao_272",GM="_tooltip_op4ao_281",QM="_adminContainer_op4ao_295",XM="_title_op4ao_106",Kt={container:xM,SingleProductBox:OM,containerSideMenu:NM,imageThumbnails:DM,thumbnail:LM,mainImage:MM,zoomContainer:jM,productDetails:VM,mainItems:FM,titleContainer:UM,specialSpecifications:qM,highlightPrice:BM,btnMoreDetailsPopup:zM,btnContact:$M,price:HM,hugeText:WM,productCode:KM,tooltip:GM,adminContainer:QM,title:XM},YM="_container_1ec55_1",JM="_card_1ec55_13",ZM="_containerBtn_1ec55_20",ej="_closeButton_1ec55_24",tj="_detail_1ec55_33",dr={container:YM,card:JM,containerBtn:ZM,closeButton:ej,detail:tj},Lf=({customer:n,setClose:e})=>{Array.isArray(n)&&(n=n[0]),Le.useEffect(()=>{console.log("Customer objeto",n)},[n]);const t=r=>{navigator.clipboard.writeText(r),alert("Copied to clipboard: "+r)};return V.jsx("div",{className:dr.container,children:V.jsxs("div",{className:dr.card,children:[V.jsx("div",{className:dr.containerBtn,children:V.jsx("button",{className:dr.closeButton,onClick:()=>e(!1),children:"X"})}),n?V.jsxs("div",{children:[V.jsx("h2",{children:"Detalhes do Cliente"}),n.cnpj&&V.jsxs("div",{className:dr.detail,onClick:()=>t(n.cnpj),children:[V.jsx("strong",{children:"CNPJ:"}),n.cnpj?n.cnpj:""]}),n.cpf&&V.jsxs("div",{className:dr.detail,onClick:()=>t(n.cpf),children:[V.jsx("strong",{children:"CPF:"})," ",n.cpf]}),V.jsxs("div",{className:dr.detail,onClick:()=>t(n.email),children:[V.jsx("strong",{children:"Email:"})," ",n.email]}),V.jsxs("div",{className:dr.detail,onClick:()=>t(n.name),children:[V.jsx("strong",{children:"Nome:"})," ",n.name]}),V.jsxs("div",{className:dr.detail,onClick:()=>t(n.phone),children:[V.jsx("strong",{children:"Telefone / Whatsapp:"})," ",n.phone]}),V.jsxs("div",{className:dr.detail,onClick:()=>t(n.purchaseDate),children:[V.jsx("strong",{children:"Data da compra:"})," ",n.purchaseDate]}),n.productIds&&n.productIds.length>0&&V.jsxs("div",{className:dr.detail,children:[V.jsx("strong",{children:"Produtos:"}),V.jsx("ul",{children:n.productIds.map(r=>V.jsx("li",{children:r},r))})]})]}):V.jsx("div",{children:"Loading..."})]})})};Lf.propTypes={customer:Ne.shape({cnpj:Ne.string,cpf:Ne.string,email:Ne.string,name:Ne.string,phone:Ne.string,purchaseDate:Ne.string,productIds:Ne.array}).isRequired,setClose:Ne.func.isRequired};function $m(n){return n.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")}function nj(n){const e={day:"2-digit",month:"2-digit",year:"numeric"};return new Date(n).toLocaleDateString("pt-BR",e)}const rj=(n,e)=>{const t="551132229446",r=`Olá, gostaria de saber mais sobre o produto ${n}, com id: ${e}.`,o=`https://api.whatsapp.com/send?phone=${t}&text=${encodeURIComponent(r)}`;window.open(o,"_blank")},ij="_popupOverlay_1h0iq_1",oj="_closeBtnFixed_1h0iq_13",sj="_singleDetailsProductContainer_1h0iq_22",aj="_productDetails_1h0iq_34",lj="_titleContainer_1h0iq_38",uj="_specificationsTitle_1h0iq_60",cj="_hugeText_1h0iq_70",fj="_title_1h0iq_38",hj="_price_1h0iq_100",Rr={popupOverlay:ij,closeBtnFixed:oj,singleDetailsProductContainer:sj,productDetails:aj,titleContainer:lj,specificationsTitle:uj,hugeText:cj,title:fj,price:hj},ry=({productSelected:n,setSingleDetailsProduct:e})=>(Le.useEffect(()=>{console.log("Produto selecionado:",n)},[]),V.jsxs("div",{className:Rr.popupOverlay,children:[V.jsx("div",{className:Rr.closeBtnFixed,children:V.jsx(ny,{setOpenClose:e,right:"14%",top:"15PX"})}),V.jsx("div",{className:Rr.singleDetailsProductContainer,children:n&&V.jsxs("div",{className:Rr.productDetails,children:[V.jsx("div",{className:Rr.titleContainer,children:V.jsxs("h3",{children:["PC ",n.title]})}),V.jsxs("h2",{children:["Processador:",""," ",V.jsx("span",{children:n.cpu})]}),V.jsxs("h2",{children:["Marca do processdor:",""," ",V.jsx("span",{children:n.processorBrand})]}),V.jsxs("h2",{children:["Placa Mãe: ","",V.jsx("span",{children:n.motherBoard})]}),V.jsxs("h2",{children:["Memória:",V.jsxs("span",{children:[" ",n.memory]})]}),V.jsxs("h2",{children:["Código do produto:","",V.jsx("span",{children:n.id})]}),V.jsxs("h2",{children:["Placa de Video:",V.jsx("span",{children:n.graphicsCard})]}),V.jsxs("h2",{children:["Marca Placa de Video:",V.jsx("span",{children:n.graphicsCardBrand})]}),V.jsxs("h2",{children:["fonte: ",V.jsx("span",{children:n.font})]}),V.jsxs("h2",{children:["gabinete:",V.jsx("span",{children:n.tower})]}),V.jsxs("h2",{children:["Refrigeração:",V.jsx("span",{children:n.cooling})]}),V.jsxs("h2",{children:["Cabos :",V.jsx("span",{children:n.amoutCables})]}),V.jsxs("h2",{children:["Data de compra :",V.jsx("span",{children:nj(n.ages)})]}),V.jsx("h3",{className:Rr.specificationsTitle,children:"Descrição da Placa mãe"}),V.jsx("div",{className:Rr.hugeText,children:V.jsx("span",{dangerouslySetInnerHTML:{__html:n.motherBoardText}})}),V.jsx("h3",{className:Rr.specificationsTitle,children:"Descrição do processador :"}),V.jsx("div",{className:Rr.hugeText,children:V.jsx("span",{className:Rr.hugeText,dangerouslySetInnerHTML:{__html:n.cpuText}})})]})})]}));ry.propTypes={productSelected:Ne.shape({title:Ne.string,cpu:Ne.string,motherBoard:Ne.string,memory:Ne.string,price:Ne.number,id:Ne.oneOfType([Ne.string,Ne.number]),graphicsCard:Ne.string,font:Ne.string,tower:Ne.string,cooling:Ne.string,amoutCables:Ne.string,ages:Ne.string,motherBoardText:Ne.string,graphicsCardBrand:Ne.string,processorBrand:Ne.string,cpuText:Ne.string}),setSingleDetailsProduct:Ne.func.isRequired};const dj="_containerMobile_1km9c_1",pj="_SingleProductBox_1km9c_1",mj="_containerMobileImages_1km9c_9",gj="_mainImage_1km9c_15",yj="_imageThumbnails_1km9c_39",vj="_thumbnail_1km9c_58",_j="_titleContainer_1km9c_80",Ej="_productCode_1km9c_88",wj="_productDetails_1km9c_100",Tj="_mainItems_1km9c_108",bj="_specialSpecifications_1km9c_118",Sj="_highlightPrice_1km9c_119",Aj="_btnContainer_1km9c_134",Ij="_btnMoreDetailsPopup_1km9c_140",Cj="_whatsappLogo_1km9c_153",Rj="_btnContact_1km9c_168",kj="_price_1km9c_199",Pj="_hugeText_1km9c_211",xj="_adminContainer_1km9c_232",Lt={containerMobile:dj,SingleProductBox:pj,containerMobileImages:mj,mainImage:gj,imageThumbnails:yj,thumbnail:vj,titleContainer:_j,productCode:Ej,productDetails:wj,mainItems:Tj,specialSpecifications:bj,highlightPrice:Sj,btnContainer:Aj,btnMoreDetailsPopup:Ij,whatsappLogo:Cj,btnContact:Rj,price:kj,hugeText:Pj,adminContainer:xj},gS=({selectedCustomer:n,productSelected:e,images:t})=>{const[r,o]=Le.useState(!1),[a,u]=Le.useState(!1),{login:f}=he.useContext(Br),[h,m]=Le.useState(""),[v,y]=Le.useState(window.innerWidth<650);Le.useEffect(()=>(window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d)}),[]),Le.useEffect(()=>{console.log("Produto selecionado:",t),console.log("Cliente selecionado:",n)},[n,e]);const d=()=>{y(window.innerWidth<650)};Le.useEffect(()=>{console.log("Produto selecionado:",t),m(t[0])},[]);const g=()=>{o(!0)};return V.jsxs("div",{className:Lt.containerMobile,children:[r&&V.jsx(Lf,{customer:n,setClose:o}),a&&V.jsx(ry,{productSelected:e,setSingleDetailsProduct:u}),V.jsxs("div",{className:Lt.SingleProductBox,children:[V.jsxs("div",{className:Lt.containerMobileImages,children:[V.jsx("div",{className:Lt.mainImage,children:t&&t.length>0&&V.jsx("img",{src:h||t[0],alt:"Selected"})}),V.jsx("div",{className:Lt.imageThumbnails,children:t&&t.length>0&&t.map((E,T)=>V.jsx("div",{className:Lt.thumbnail,onClick:()=>m(E),children:V.jsx("img",{src:E,alt:`Thumbnail ${T+1}`})},T))})]}),V.jsx("div",{className:Lt.titleContainer,children:V.jsxs("h3",{className:Lt.title,children:["PC"," ",e.title==="Edição de Video"?"Video":e.title]})}),V.jsxs("h2",{className:Lt.productCode,children:["Cód:"," ",V.jsx("span",{onClick:()=>{navigator.clipboard.writeText(e.id),alert("Código copiado para a área de transferência!")},children:e.id})]}),e&&V.jsx("div",{className:Lt.productDetails,children:V.jsxs("div",{className:Lt.mainItems,children:[V.jsx("div",{className:Lt.specialSpecifications,children:V.jsxs("h2",{children:[V.jsx("span",{children:e.cpu}),"/",V.jsx("span",{children:e.motherBoard}),"/",V.jsx("span",{children:e.memory}),"/",V.jsx("span",{children:e.motherBoard}),"/",V.jsx("span",{children:e.memory}),"/"]})}),V.jsx("div",{className:Lt.highlightPrice,children:V.jsxs("h3",{className:Lt.price,children:["R$ ",e.price,",00"]})}),V.jsxs("div",{className:Lt.btnContainer,children:[V.jsxs("button",{className:Lt.btnMoreDetailsPopup,onClick:()=>u(!0),children:[V.jsx("div",{className:Lt.whatsappLogo}),V.jsx("span",{children:"Mais detalhes"})]}),V.jsxs("button",{className:Lt.btnContact,onClick:rj,children:[V.jsx("div",{className:Lt.whatsappLogo}),V.jsx("span",{children:"Fale conosco"})]})]})]})})]}),v&&f&&V.jsxs("div",{className:Lt.adminContainer,children:[" ",V.jsx("button",{children:V.jsx(sf,{to:`/form/${e.id}`,children:"Edição administrador"})})," ",V.jsx("button",{onClick:g,children:"Detalhes do Cliente"})," "]})]})};gS.propTypes={selectedCustomer:Ne.object.isRequired,productSelected:Ne.shape({title:Ne.string,cpu:Ne.string,motherBoard:Ne.string,memory:Ne.string,price:Ne.number,id:Ne.string}).isRequired,images:Ne.arrayOf(Ne.string).isRequired,bringCustomer:Ne.func.isRequired};const Oj=()=>{const[n,e]=Le.useState(""),{login:t}=he.useContext(Br),[r,o]=Le.useState({}),[a,u]=Le.useState([]),[f,h]=Le.useState({}),[m,v]=Le.useState(!1),[y,d]=Le.useState({backgroundPosition:"0% 0%"}),[g,E]=Le.useState(!1),[T,_]=Le.useState(window.innerWidth<650),{id:w}=t0(),S=Yo();Le.useEffect(()=>{(async()=>{const I=await nS("products",w);if(I&&typeof I=="object"&&Object.keys(I).length>0){const{images:L}=I;e(L[0]),u(L),o(I)}})()},[w]),Le.useEffect(()=>{r&&(r.customerCpf&&/^[0-9]{11}$/.test(r.customerCpf)&&(r.customerCpf=$m(r.customerCpf)),Jg("customer","cpf",r.customerCpf).then(k=>{h(k)}).catch(k=>{console.error("Erro ao buscar cliente:",k)}))},[r]),Le.useEffect(()=>(window.addEventListener("resize",M),()=>{window.removeEventListener("resize",M)}),[]);const R=()=>{const k="551132229446",I=`Olá, gostaria de saber mais sobre o produto ${r.title}, com id: ${r.id}.`,L=`https://api.whatsapp.com/send?phone=${k}&text=${encodeURIComponent(I)}`;window.open(L,"_blank")},b=k=>{const{left:I,top:L,width:O,height:C}=k.target.getBoundingClientRect(),D=(k.pageX-I)/O*100,N=(k.pageY-L)/C*100;d({backgroundPosition:`${D}% ${N}%`})},M=()=>{_(window.innerWidth<650)},U=()=>{console.log("cliente selecionado:",f),console.log("produto selecionado:",r),v(!0)};return T?V.jsx(gS,{selectedCustomer:f,productSelected:r,images:a}):V.jsxs("div",{className:Kt.container,children:[m&&V.jsx(Lf,{customer:f,setClose:v}),g&&V.jsx(ry,{productSelected:r,setSingleDetailsProduct:E}),V.jsxs("div",{className:Kt.SingleProductBox,children:[V.jsx("div",{className:Kt.containerSideMenu,children:V.jsx("div",{className:Kt.imageThumbnails,children:a&&a.length>0&&a.map((k,I)=>V.jsx("div",{className:Kt.thumbnail,onClick:()=>e(k),children:V.jsx("img",{src:k,alt:`Thumbnail ${I+1}`})},I))})}),V.jsx("div",{className:Kt.mainImage,children:V.jsx("div",{className:Kt.zoomContainer,onMouseMove:b,style:{backgroundRepeat:"no-repeat",backgroundImage:`url(${n})`,backgroundPosition:y.backgroundPosition},children:V.jsx("img",{src:n,alt:"Selected"})})}),r&&V.jsx("div",{className:Kt.productDetails,children:V.jsxs("div",{className:Kt.mainItems,children:[V.jsx("div",{className:Kt.titleContainer,children:V.jsxs("h3",{className:Kt.title,children:["PC"," ",r.title==="Edição de Video"?"Video":r.title]})}),V.jsxs("h2",{className:Kt.productCode,title:"Clique para copiar",children:["Código do produto:"," ",V.jsx("span",{onClick:()=>{navigator.clipboard.writeText(r.id),alert("Código copiado para a área de transferência!")},children:r.id})]}),V.jsx("div",{className:Kt.specialSpecifications,children:V.jsxs("h2",{children:[V.jsxs("span",{children:[r.cpu,", "]}),V.jsxs("span",{children:[r.motherBoard,", "]}),V.jsxs("span",{children:[r.memory,", "]}),V.jsxs("span",{children:[r.motherBoard,", "]}),V.jsxs("span",{children:[r.memory," "]})]})}),V.jsx("div",{className:Kt.highlightPrice,children:V.jsxs("h3",{className:Kt.price,children:["R$ ",r.price,",00"]})}),V.jsx("button",{className:Kt.btnMoreDetailsPopup,onClick:()=>E(!0),children:"MAIS DETALHES"}),V.jsx("button",{className:Kt.btnContact,onClick:R,children:"FALE CONOSCO"})]})})]}),!T&&t&&V.jsxs("div",{className:Kt.adminContainer,children:[" ",V.jsx("button",{onClick:()=>S(`/form/${r.id}`),children:"Edição administrador"})," ",V.jsx("button",{onClick:U,children:"Detalhes do Cliente"})," "]})]})},Nj="_container_3u5tg_2",Dj="_form_3u5tg_6",Lj="_inputContainer_3u5tg_10",$i={container:Nj,form:Dj,inputContainer:Lj},Mj=()=>{const[n,e]=Le.useState({name:"",email:"",phone:"",cpf:"",cnpj:"",purchaseDate:""}),[t,r]=Le.useState(!1),{setCpf:o,setCurrentCustomer:a}=he.useContext(Br),u=m=>{const{name:v,value:y}=m.target,d=f(v,y);if(v==="cpf"||v==="cnpj"||v==="phone"){e({...n,[v]:d});return}if(v==="purchaseDate"){const[E,T,_]=y.split("-"),w=`${_}-${T}-${E}`;e({...n,[v]:w})}const g=y.toUpperCase();e({...n,[v]:g})},f=(m,v)=>m==="cpf"?v.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2"):m==="cnpj"?v.replace(/\D/g,"").replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d{1,2})$/,"$1-$2"):m==="phone"?v.replace(/\D/g,"").replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{4,5})(\d{4})$/,"$1-$2"):v,h=async m=>{if(m.preventDefault(),n.cpf===""&&n.cnpj===""){alert("Por favor, preencha o campo CPF ou CNPJ.");return}o(n.cpf),a(n);try{const v=await eS("customer",n);console.log("Document created with ID: ",v.id),r(!0),e({name:"",email:"",phone:"",cpf:"",cnpj:"",purchaseDate:""})}catch(v){console.error("Error adding document: ",v),alert("Ocorreu um erro ao criar o cadastro. Por favor, tente novamente.")}};return V.jsxs("div",{className:$i.container,children:[t&&V.jsx(aa,{message:"Seu cadastro foi criado com sucesso, agora vc pode cadastrar o seu produto",setClose:r,adress:"/user-rules"}),V.jsxs("form",{className:$i.form,onSubmit:h,children:[V.jsxs("div",{className:$i.inputContainer,children:[V.jsx("label",{children:"Name:"}),V.jsx("input",{required:!0,type:"text",name:"name",value:n.name,onChange:u})]}),V.jsxs("div",{className:$i.inputContainer,children:[V.jsx("label",{children:"Email:"}),V.jsx("input",{required:!0,type:"email",name:"email",value:n.email,onChange:u})]}),V.jsxs("div",{className:$i.inputContainer,children:[V.jsx("label",{children:"Phone:"}),V.jsx("input",{required:!0,type:"text",name:"phone",maxLength:"15",value:n.phone,onChange:u})]}),V.jsxs("div",{className:$i.inputContainer,children:[V.jsx("label",{children:"CPF:"}),V.jsx("input",{type:"text",name:"cpf",maxLength:"14",value:n.cpf,onChange:u})]}),V.jsxs("div",{className:$i.inputContainer,children:[V.jsx("label",{children:"CNPJ:"}),V.jsx("input",{type:"text",name:"cnpj",maxLength:"18",value:n.cnpj,onChange:u})]}),V.jsxs("div",{className:$i.inputContainer,children:[V.jsx("label",{children:"Data de Compra:"}),V.jsx("input",{required:!0,type:"date",name:"purchaseDate",value:n.purchaseDate,onChange:u})]}),V.jsx("button",{type:"submit",children:"Submit"})]})]})},jj="_containerRules_fs0fj_1",Vj="_acceptTerms_fs0fj_23",fm={containerRules:jj,acceptTerms:Vj},Fj=()=>{const[n,e]=Le.useState(!1),[t,r]=Le.useState(!1),{cpf:o}=he.useContext(Br);Le.useEffect(()=>{const u=f=>{const h=f.target;if(h.tagName==="A"&&h.getAttribute("href").startsWith("#")){f.preventDefault();const m=h.getAttribute("href").substring(1),v=document.getElementById(m);v&&v.scrollIntoView({behavior:"smooth"})}};return document.addEventListener("click",u),()=>{document.removeEventListener("click",u)}},[]);const a=async u=>{const f=u.target.checked;e(f),console.log("CPF GLOBAL",o);let h;h=$m(o);let m=await Jg("customer","cpf",h);m.acceptTerms=f,console.log("Cliente com checked",m),await pD("customer","cpf",h,m)&&r(!0)};return V.jsxs("div",{className:fm.containerRules,children:[t&&V.jsx(aa,{setClose:r,message:`O portador do número de CPF ${$m(o)} aceitou os termos de uso da Dragon Computadores`,adress:"/form"}),V.jsx("h2",{children:"Regras de Uso para Anunciantes na Plataforma Dragon Computadores"}),V.jsx("div",{className:fm.navigationLinks,children:V.jsxs("ul",{children:[V.jsx("li",{children:V.jsx("a",{href:"#objetivo",children:"Objetivos"})}),V.jsx("li",{children:V.jsx("a",{href:"#responsabilidades-anunciante",children:"Responsabilidades do Anunciante"})}),V.jsx("li",{children:V.jsx("a",{href:"#uso-plataforma",children:"Uso da Plataforma"})}),V.jsx("li",{children:V.jsx("a",{href:"#servicos-avaliacao",children:"Serviços de Avaliação"})}),V.jsx("li",{children:V.jsx("a",{href:"#responsabilidades-dragon",children:"Responsabilidades da Dragon"})}),V.jsx("li",{children:V.jsx("a",{href:"#penalidades",children:"Penalidades"})}),V.jsx("li",{children:V.jsx("a",{href:"#vigencia-alteracoes",children:"Vigência e Alterações"})}),V.jsx("li",{children:V.jsx("a",{href:"#como-funciona",children:"Como funciona"})})]})}),V.jsxs("ul",{id:"objetivo",children:["1. Objetivo:",V.jsx("li",{children:"Estabelecer as diretrizes e resposabilidades dos anunciantes que utilizam a plataforma da Dragon Computadores para divulgar e vender computadores usados."})]}),V.jsxs("ul",{id:"responsabilidades-anunciante",children:["2. 2. Responsabilidades do Anunciante:",V.jsx("li",{children:"Veracidade das Informações: Todas as informações e imagens publicadas nos anúncios são de responsabilidade exclusiva do anunciante. A Dragon Computadores não se responsabiliza por dados incorretos ou enganosos."}),V.jsx("li",{children:"Atualização do Anúncio: O anunciante deve informar imediatamente a Dragon Computadores caso o item anunciado já tenha sido vendido por outros meios ou se não deseja mais disponibilizá-lo para venda. Anúncios desatualizados serão removidos após notificação."}),V.jsx("li",{children:"Avaliação Pós-Venda: Caso o item seja vendido através da plataforma, o anunciante deve trazer o computador para avaliação pela Dragon Computadores, conforme acordado previamente."})]}),V.jsxs("ul",{id:"uso-plataforma",children:["3. Uso da Plataforma:",V.jsx("li",{children:"A Dragon Computadores disponibiliza a plataforma como um serviço de intermediação e será a única responsável por intermediar a comunicação e negociação entre anunciantes e compradores. Não haverá contato direto entre as partes."}),V.jsx("li",{children:"Restrição de Produtos: Apenas computadores que foram originalmente vendidos pela Dragon Computadores podem ser anunciados e comercializados na plataforma. É proibido anunciar produtos de outras marcas ou origens, ou qualquer item que não seja relacionado a computadores."})]}),V.jsxs("ul",{id:"servicos-avaliacao",children:["4. Serviços de Avaliação:",V.jsx("li",{children:"A Dragon Computadores oferece o serviço de avaliação das condições dos equipamentos como parte do processo de venda."}),V.jsx("li",{children:"Itens de Armazenamento (HDs, SSDs, etc.): Por se tratarem de itens com vida útil limitada, não garantimos o funcionamento ou a durabilidade de itens de armazenamento. A avaliação desses itens será feita com base em testes técnicos, mas sem qualquer garantia futura."})]}),V.jsxs("ul",{id:"responsabilidades-dragon",children:["5. Responsabilidade da Dragon Computadores:",V.jsx("li",{children:"A Dragon Computadores atua como facilitadora, oferecendo a plataforma para divulgação dos anúncios e intermediando todo o processo de negociação, mas não se responsabiliza por: Qualquer problema relacionado à condição do produto anunciado (danos, defeitos, etc.), exceto conforme avaliado e informado durante o processo de avaliação. Conteúdo publicado pelos anunciantes (informações, imagens, etc.)."})]}),V.jsxs("ul",{id:"penalidades",children:["6. Penalidades por Descumprimento:",V.jsx("li",{children:"Anúncios que violarem estas regras, incluindo a divulgação de produtos não vendidos originalmente pela Dragon Computadores, serão removidos sem aviso prévio."}),V.jsx("li",{children:"Anunciantes que descumprirem as regras de forma reiterada poderão ter o acesso à plataforma suspenso ou bloqueado permanentemente."})]}),V.jsx("h2",{children:"7. Aceitação das Regras:"}),V.jsx("p",{children:"Ao utilizar a plataforma, o anunciante declara estar ciente e de acordo com todas as regras aqui estabelecidas, assumindo total responsabilidade pelo conteúdo de seus anúncios e pelas obrigações descritas."}),V.jsx("h2",{id:"vigencia-alteracoes",children:"8. Vigência e Alterações:"}),V.jsx("p",{children:"Estas regras entram em vigor a partir da data de publicação e podem ser alteradas a qualquer momento pela Dragon Computadores, com aviso prévio aos usuários."}),V.jsx("h2",{children:"Revenda Oficial – Venda seu Computador Usado!"}),V.jsx("p",{children:"Se você comprou um computador na Dragon Computadores e deseja revendê-lo, agora ficou mais fácil! Criamos um espaço exclusivo para nossos clientes anunciarem seus equipamentos usados diretamente em nosso site."}),V.jsx("h2",{id:"como-funciona",children:"Como funciona?"}),V.jsx("p",{children:"1 Você cadastra seu computador para revenda."}),V.jsx("p",{children:"2 Nós anunciamos para milhares de compradores em potencial."}),V.jsxs("p",{children:["3 Quando a venda for concluída,"," ",V.jsx("span",{style:{fontWeight:"bold"},children:"cobramos uma taxa de 20% sobre o valor final do anúncio, o total da venda menos os 20% da taxa de serviço se torna crédito para a compra de outros produtos na Dragon Computadores."})]}),V.jsx("h2",{children:"Termo de Reconhecimento"}),V.jsxs("p",{children:["Ao cadastrar seu computador para revenda, você reconhece e concorda que",V.jsx("span",{style:{fontWeight:"bold"},children:"20% do valor total da venda serão descontados automaticamente"})," ","como taxa de serviço. Esse valor cobre os custos de divulgação, intermediação e suporte durante a negociação."]}),V.jsx("h2",{children:"Quer revender seu computador Dragon? Anuncie agora!"}),V.jsxs("div",{className:fm.acceptTerms,children:[V.jsx("input",{type:"checkbox",id:"acceptTerms",name:"acceptTerms",checked:n,onChange:a}),V.jsx("label",{htmlFor:"acceptTerms",style:{fontWeight:"bold"},children:"Eu aceito os termos de uso para publicar o meu computador na vitrine da Dragon Computadores"})]})]})},yS=({children:n})=>{const[e,t]=Le.useState({}),[r,o]=Le.useState(""),[a,u]=Le.useState(""),[f,h]=Le.useState(!1);return V.jsx(Br.Provider,{value:{currentCustomer:e,setCurrentCustomer:t,cpf:r,setCpf:o,setLogin:u,login:a,isMobile:f,setIsMobile:h},children:n})};yS.propTypes={children:Ne.node.isRequired};const Uj="_customerList_156ys_1",qj="_table_156ys_8",Bj="_viewProductsButton_156ys_38",hm={customerList:Uj,table:qj,viewProductsButton:Bj},zj=()=>{const[n,e]=Le.useState([]),[t,r]=Le.useState(!1),[o,a]=Le.useState({});Le.useEffect(()=>{(async()=>{try{const h=await Nl("customer");e(h);const m=await Nl("products"),v=h.map(y=>{const d=m.filter(g=>g.customerCpf===y.cpf).map(g=>g.id);return{...y,productIds:d}});e(v)}catch(h){console.error("Error fetching customer data:",h)}})()},[]);const u=f=>{mD(f.productIds),a(f),r(!0)};return V.jsxs("div",{className:hm.customerList,children:[t&&V.jsx(Lf,{customer:o,setClose:r}),V.jsxs("table",{className:hm.table,children:[V.jsx("thead",{children:V.jsxs("tr",{children:[V.jsx("th",{children:"Nome"}),V.jsx("th",{children:"Celular"}),V.jsx("th",{children:"CPF"}),V.jsx("th",{children:"CNPJ"}),V.jsx("th",{children:"Email"}),V.jsx("th",{children:"Ações"})]})}),V.jsx("tbody",{children:n.map(f=>V.jsxs("tr",{children:[V.jsx("td",{children:f.name}),V.jsx("td",{children:f.phone}),V.jsx("td",{children:f.cpf}),V.jsx("td",{children:f.cnpj}),V.jsx("td",{children:f.email}),V.jsx("td",{children:V.jsx("button",{className:hm.viewProductsButton,onClick:()=>u(f),children:"Ver Produtos"})})]},f.id))})]})]})},$j="_footerContainer_yje9u_1",Hj="_footerLogo_yje9u_11",Wj="_emailFooter_yje9u_14",Kj="_email_yje9u_14",Gj="_zapFooter_yje9u_34",Qj="_btnContactFooter_yje9u_34",Xj="_footerContainerMobile_yje9u_92",Yj="_zapFooterMobile_yje9u_100",Jj="_footerLogoMobile_yje9u_101",Zj="_emailFooterMobile_yje9u_102",e4="_btnContactFooterMobile_yje9u_131",t4="_whatsappLogo_yje9u_146",Xn={footerContainer:$j,footerLogo:Hj,emailFooter:Wj,email:Kj,zapFooter:Gj,btnContactFooter:Qj,footerContainerMobile:Xj,zapFooterMobile:Yj,footerLogoMobile:Jj,emailFooterMobile:Zj,btnContactFooterMobile:e4,whatsappLogo:t4},n4=()=>{const n=pS(650),e=()=>{const r=`https://api.whatsapp.com/send?phone=551132229446&text=${encodeURIComponent()}`;window.open(r,"_blank")};return V.jsxs("footer",{className:n?Xn.footerContainerMobile:Xn.footerContainer,children:[V.jsxs("div",{className:n?Xn.footerLogoMobile:Xn.footerLogo,children:[V.jsx(sf,{to:"https://dragoncomputadores.com.br/",children:V.jsx("img",{src:zm,alt:"Logo dragon"})}),V.jsxs("p",{children:["© ",new Date().getFullYear()," R. Álvares Penteado, 177 – Centro Histórico de São Paulo, São Paulo – SP, 01012-001"]})]}),V.jsxs("div",{className:n?Xn.emailFooterMobile:Xn.emailFooter,children:[V.jsx("h2",{children:"Contato"}),V.jsx("p",{children:"Atendimento: Seg~Sex 10:00h as 18:00h Sábado: 10:00h as 14:00h"}),V.jsxs("p",{className:Xn.email,children:["Email:"," ",V.jsx("a",{href:"mailto:contato@dragoncomputadores.com.br",children:"contato@dragoncomputadores.com.br"})]})]}),V.jsxs("div",{className:n?Xn.zapFooterMobile:Xn.zapFooter,children:[V.jsx("p",{children:"Ou se preferir fale agora mesmo conosco pelo WhatsApp "}),n?V.jsxs("button",{className:Xn.btnContactFooterMobile,onClick:e,children:[V.jsx("div",{className:Xn.whatsappLogo}),V.jsx("span",{children:"Fale Conosco"})]}):V.jsx("button",{className:Xn.btnContactFooter,onClick:e,children:V.jsx("span",{children:"Fale conosco"})})]})]})},r4=()=>V.jsx(yS,{children:V.jsxs(qI,{basename:"/",children:[V.jsx(PM,{}),V.jsxs(yI,{children:[V.jsx(ii,{path:"/",element:V.jsx(r1,{})}),V.jsx(ii,{path:"/form",element:V.jsx(zw,{})}),V.jsx(ii,{path:"/form/:id",element:V.jsx(zw,{})}),V.jsx(ii,{path:"/singleProduct/:id",element:V.jsx(Oj,{})}),V.jsx(ii,{path:"/register",element:V.jsx(Mj,{})}),V.jsx(ii,{path:"/user-rules",element:V.jsx(Fj,{})}),V.jsx(ii,{path:"/customers",element:V.jsx(zj,{})}),V.jsx(ii,{path:"*",element:V.jsx(r1,{})})]}),V.jsx(n4,{})]})}),Hm=document.getElementById("root");console.log("ROOT ELEMENT:",Hm);Hm?CA.createRoot(Hm).render(V.jsx(he.StrictMode,{children:V.jsx(r4,{})})):alert("Elemento #root NÃO encontrado!");
