(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ed={exports:{}},el={},td={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function iA(){if(Gv)return Qe;Gv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function d(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function E(j,q,W){this.props=j,this.context=q,this.refs=T,this.updater=W||g}E.prototype.isReactComponent={},E.prototype.setState=function(j,q){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,q,"setState")},E.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function w(){}w.prototype=E.prototype;function b(j,q,W){this.props=j,this.context=q,this.refs=T,this.updater=W||g}var k=b.prototype=new w;k.constructor=b,S(k,E.prototype),k.isPureReactComponent=!0;var _=Array.isArray,L=Object.prototype.hasOwnProperty,U={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function R(j,q,W){var ne,te={},z=null,J=null;if(q!=null)for(ne in q.ref!==void 0&&(J=q.ref),q.key!==void 0&&(z=""+q.key),q)L.call(q,ne)&&!P.hasOwnProperty(ne)&&(te[ne]=q[ne]);var oe=arguments.length-2;if(oe===1)te.children=W;else if(1<oe){for(var se=Array(oe),pe=0;pe<oe;pe++)se[pe]=arguments[pe+2];te.children=se}if(j&&j.defaultProps)for(ne in oe=j.defaultProps,oe)te[ne]===void 0&&(te[ne]=oe[ne]);return{$$typeof:n,type:j,key:z,ref:J,props:te,_owner:U.current}}function M(j,q){return{$$typeof:n,type:j.type,key:q,ref:j.ref,props:j.props,_owner:j._owner}}function x(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function I(j){var q={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(W){return q[W]})}var D=/\/+/g;function N(j,q){return typeof j=="object"&&j!==null&&j.key!=null?I(""+j.key):q.toString(36)}function $(j,q,W,ne,te){var z=typeof j;(z==="undefined"||z==="boolean")&&(j=null);var J=!1;if(j===null)J=!0;else switch(z){case"string":case"number":J=!0;break;case"object":switch(j.$$typeof){case n:case e:J=!0}}if(J)return J=j,te=te(J),j=ne===""?"."+N(J,0):ne,_(te)?(W="",j!=null&&(W=j.replace(D,"$&/")+"/"),$(te,q,W,"",function(pe){return pe})):te!=null&&(x(te)&&(te=M(te,W+(!te.key||J&&J.key===te.key?"":(""+te.key).replace(D,"$&/")+"/")+j)),q.push(te)),1;if(J=0,ne=ne===""?".":ne+":",_(j))for(var oe=0;oe<j.length;oe++){z=j[oe];var se=ne+N(z,oe);J+=$(z,q,W,se,te)}else if(se=d(j),typeof se=="function")for(j=se.call(j),oe=0;!(z=j.next()).done;)z=z.value,se=ne+N(z,oe++),J+=$(z,q,W,se,te);else if(z==="object")throw q=String(j),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return J}function G(j,q,W){if(j==null)return j;var ne=[],te=0;return $(j,ne,"","",function(z){return q.call(W,z,te++)}),ne}function Z(j){if(j._status===-1){var q=j._result;q=q(),q.then(function(W){(j._status===0||j._status===-1)&&(j._status=1,j._result=W)},function(W){(j._status===0||j._status===-1)&&(j._status=2,j._result=W)}),j._status===-1&&(j._status=0,j._result=q)}if(j._status===1)return j._result.default;throw j._result}var X={current:null},ie={transition:null},Y={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:ie,ReactCurrentOwner:U};function H(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:G,forEach:function(j,q,W){G(j,function(){q.apply(this,arguments)},W)},count:function(j){var q=0;return G(j,function(){q++}),q},toArray:function(j){return G(j,function(q){return q})||[]},only:function(j){if(!x(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Qe.Component=E,Qe.Fragment=t,Qe.Profiler=o,Qe.PureComponent=b,Qe.StrictMode=r,Qe.Suspense=h,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Qe.act=H,Qe.cloneElement=function(j,q,W){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ne=S({},j.props),te=j.key,z=j.ref,J=j._owner;if(q!=null){if(q.ref!==void 0&&(z=q.ref,J=U.current),q.key!==void 0&&(te=""+q.key),j.type&&j.type.defaultProps)var oe=j.type.defaultProps;for(se in q)L.call(q,se)&&!P.hasOwnProperty(se)&&(ne[se]=q[se]===void 0&&oe!==void 0?oe[se]:q[se])}var se=arguments.length-2;if(se===1)ne.children=W;else if(1<se){oe=Array(se);for(var pe=0;pe<se;pe++)oe[pe]=arguments[pe+2];ne.children=oe}return{$$typeof:n,type:j.type,key:te,ref:z,props:ne,_owner:J}},Qe.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},Qe.createElement=R,Qe.createFactory=function(j){var q=R.bind(null,j);return q.type=j,q},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(j){return{$$typeof:f,render:j}},Qe.isValidElement=x,Qe.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:Z}},Qe.memo=function(j,q){return{$$typeof:m,type:j,compare:q===void 0?null:q}},Qe.startTransition=function(j){var q=ie.transition;ie.transition={};try{j()}finally{ie.transition=q}},Qe.unstable_act=H,Qe.useCallback=function(j,q){return X.current.useCallback(j,q)},Qe.useContext=function(j){return X.current.useContext(j)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(j){return X.current.useDeferredValue(j)},Qe.useEffect=function(j,q){return X.current.useEffect(j,q)},Qe.useId=function(){return X.current.useId()},Qe.useImperativeHandle=function(j,q,W){return X.current.useImperativeHandle(j,q,W)},Qe.useInsertionEffect=function(j,q){return X.current.useInsertionEffect(j,q)},Qe.useLayoutEffect=function(j,q){return X.current.useLayoutEffect(j,q)},Qe.useMemo=function(j,q){return X.current.useMemo(j,q)},Qe.useReducer=function(j,q,W){return X.current.useReducer(j,q,W)},Qe.useRef=function(j){return X.current.useRef(j)},Qe.useState=function(j){return X.current.useState(j)},Qe.useSyncExternalStore=function(j,q,W){return X.current.useSyncExternalStore(j,q,W)},Qe.useTransition=function(){return X.current.useTransition()},Qe.version="18.3.1",Qe}var Qv;function Gc(){return Qv||(Qv=1,td.exports=iA()),td.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function oA(){if(Xv)return el;Xv=1;var n=Gc(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,m){var v,y={},d=null,g=null;m!==void 0&&(d=""+m),h.key!==void 0&&(d=""+h.key),h.ref!==void 0&&(g=h.ref);for(v in h)r.call(h,v)&&!a.hasOwnProperty(v)&&(y[v]=h[v]);if(f&&f.defaultProps)for(v in h=f.defaultProps,h)y[v]===void 0&&(y[v]=h[v]);return{$$typeof:e,type:f,key:d,ref:g,props:y,_owner:o.current}}return el.Fragment=t,el.jsx=u,el.jsxs=u,el}var Yv;function sA(){return Yv||(Yv=1,ed.exports=oA()),ed.exports}var K=sA(),de=Gc();const Je=Nm(de);var rc={},nd={exports:{}},bn={},rd={exports:{}},id={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function aA(){return Jv||(Jv=1,function(n){function e(ie,Y){var H=ie.length;ie.push(Y);e:for(;0<H;){var j=H-1>>>1,q=ie[j];if(0<o(q,Y))ie[j]=Y,ie[H]=q,H=j;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var Y=ie[0],H=ie.pop();if(H!==Y){ie[0]=H;e:for(var j=0,q=ie.length,W=q>>>1;j<W;){var ne=2*(j+1)-1,te=ie[ne],z=ne+1,J=ie[z];if(0>o(te,H))z<q&&0>o(J,te)?(ie[j]=J,ie[z]=H,j=z):(ie[j]=te,ie[ne]=H,j=ne);else if(z<q&&0>o(J,H))ie[j]=J,ie[z]=H,j=z;else break e}}return Y}function o(ie,Y){var H=ie.sortIndex-Y.sortIndex;return H!==0?H:ie.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var h=[],m=[],v=1,y=null,d=3,g=!1,S=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(ie){for(var Y=t(m);Y!==null;){if(Y.callback===null)r(m);else if(Y.startTime<=ie)r(m),Y.sortIndex=Y.expirationTime,e(h,Y);else break;Y=t(m)}}function _(ie){if(T=!1,k(ie),!S)if(t(h)!==null)S=!0,Z(L);else{var Y=t(m);Y!==null&&X(_,Y.startTime-ie)}}function L(ie,Y){S=!1,T&&(T=!1,w(R),R=-1),g=!0;var H=d;try{for(k(Y),y=t(h);y!==null&&(!(y.expirationTime>Y)||ie&&!I());){var j=y.callback;if(typeof j=="function"){y.callback=null,d=y.priorityLevel;var q=j(y.expirationTime<=Y);Y=n.unstable_now(),typeof q=="function"?y.callback=q:y===t(h)&&r(h),k(Y)}else r(h);y=t(h)}if(y!==null)var W=!0;else{var ne=t(m);ne!==null&&X(_,ne.startTime-Y),W=!1}return W}finally{y=null,d=H,g=!1}}var U=!1,P=null,R=-1,M=5,x=-1;function I(){return!(n.unstable_now()-x<M)}function D(){if(P!==null){var ie=n.unstable_now();x=ie;var Y=!0;try{Y=P(!0,ie)}finally{Y?N():(U=!1,P=null)}}else U=!1}var N;if(typeof b=="function")N=function(){b(D)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,G=$.port2;$.port1.onmessage=D,N=function(){G.postMessage(null)}}else N=function(){E(D,0)};function Z(ie){P=ie,U||(U=!0,N())}function X(ie,Y){R=E(function(){ie(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){S||g||(S=!0,Z(L))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ie){switch(d){case 1:case 2:case 3:var Y=3;break;default:Y=d}var H=d;d=Y;try{return ie()}finally{d=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,Y){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var H=d;d=ie;try{return Y()}finally{d=H}},n.unstable_scheduleCallback=function(ie,Y,H){var j=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?j+H:j):H=j,ie){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=H+q,ie={id:v++,callback:Y,priorityLevel:ie,startTime:H,expirationTime:q,sortIndex:-1},H>j?(ie.sortIndex=H,e(m,ie),t(h)===null&&ie===t(m)&&(T?(w(R),R=-1):T=!0,X(_,H-j))):(ie.sortIndex=q,e(h,ie),S||g||(S=!0,Z(L))),ie},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(ie){var Y=d;return function(){var H=d;d=Y;try{return ie.apply(this,arguments)}finally{d=H}}}}(id)),id}var Zv;function lA(){return Zv||(Zv=1,rd.exports=aA()),rd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function uA(){if(e_)return bn;e_=1;var n=Gc(),e=lA();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function d(i){return h.call(y,i)?!0:h.call(v,i)?!1:m.test(i)?y[i]=!0:(v[i]=!0,!1)}function g(i,s,l,p){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return p?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,s,l,p){if(s===null||typeof s>"u"||g(i,s,l,p))return!0;if(p)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function T(i,s,l,p,A,O,F){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=p,this.attributeNamespace=A,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=O,this.removeEmptyString=F}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){E[i]=new T(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];E[s]=new T(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){E[i]=new T(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){E[i]=new T(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){E[i]=new T(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){E[i]=new T(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){E[i]=new T(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){E[i]=new T(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){E[i]=new T(i,5,!1,i.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function b(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(w,b);E[s]=new T(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(w,b);E[s]=new T(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(w,b);E[s]=new T(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){E[i]=new T(i,1,!1,i.toLowerCase(),null,!1,!1)}),E.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){E[i]=new T(i,1,!1,i.toLowerCase(),null,!0,!0)});function k(i,s,l,p){var A=E.hasOwnProperty(s)?E[s]:null;(A!==null?A.type!==0:p||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(S(s,l,A,p)&&(l=null),p||A===null?d(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):A.mustUseProperty?i[A.propertyName]=l===null?A.type===3?!1:"":l:(s=A.attributeName,p=A.attributeNamespace,l===null?i.removeAttribute(s):(A=A.type,l=A===3||A===4&&l===!0?"":""+l,p?i.setAttributeNS(p,s,l):i.setAttribute(s,l))))}var _=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),U=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),I=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),ie=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=ie&&i[ie]||i["@@iterator"],typeof i=="function"?i:null)}var H=Object.assign,j;function q(i){if(j===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);j=s&&s[1]||""}return`
`+j+i}var W=!1;function ne(i,s){if(!i||W)return"";W=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(ce){var p=ce}Reflect.construct(i,[],s)}else{try{s.call()}catch(ce){p=ce}i.call(s.prototype)}else{try{throw Error()}catch(ce){p=ce}i()}}catch(ce){if(ce&&p&&typeof ce.stack=="string"){for(var A=ce.stack.split(`
`),O=p.stack.split(`
`),F=A.length-1,Q=O.length-1;1<=F&&0<=Q&&A[F]!==O[Q];)Q--;for(;1<=F&&0<=Q;F--,Q--)if(A[F]!==O[Q]){if(F!==1||Q!==1)do if(F--,Q--,0>Q||A[F]!==O[Q]){var ee=`
`+A[F].replace(" at new "," at ");return i.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",i.displayName)),ee}while(1<=F&&0<=Q);break}}}finally{W=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?q(i):""}function te(i){switch(i.tag){case 5:return q(i.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return i=ne(i.type,!1),i;case 11:return i=ne(i.type.render,!1),i;case 1:return i=ne(i.type,!0),i;default:return""}}function z(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case U:return"Portal";case M:return"Profiler";case R:return"StrictMode";case N:return"Suspense";case $:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case I:return(i.displayName||"Context")+".Consumer";case x:return(i._context.displayName||"Context")+".Provider";case D:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case G:return s=i.displayName||null,s!==null?s:z(i.type)||"Memo";case Z:s=i._payload,i=i._init;try{return z(i(s))}catch{}}return null}function J(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function oe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function se(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function pe(i){var s=se(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),p=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var A=l.get,O=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return A.call(this)},set:function(F){p=""+F,O.call(this,F)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return p},setValue:function(F){p=""+F},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ie(i){i._valueTracker||(i._valueTracker=pe(i))}function De(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),p="";return i&&(p=se(i)?i.checked?"true":"false":i.value),i=p,i!==l?(s.setValue(i),!0):!1}function Ve(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function We(i,s){var l=s.checked;return H({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Xe(i,s){var l=s.defaultValue==null?"":s.defaultValue,p=s.checked!=null?s.checked:s.defaultChecked;l=oe(s.value!=null?s.value:l),i._wrapperState={initialChecked:p,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ot(i,s){s=s.checked,s!=null&&k(i,"checked",s,!1)}function mt(i,s){Ot(i,s);var l=oe(s.value),p=s.type;if(l!=null)p==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?me(i,s.type,l):s.hasOwnProperty("defaultValue")&&me(i,s.type,oe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function he(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var p=s.type;if(!(p!=="submit"&&p!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function me(i,s,l){(s!=="number"||Ve(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Se=Array.isArray;function Ae(i,s,l,p){if(i=i.options,s){s={};for(var A=0;A<l.length;A++)s["$"+l[A]]=!0;for(l=0;l<i.length;l++)A=s.hasOwnProperty("$"+i[l].value),i[l].selected!==A&&(i[l].selected=A),A&&p&&(i[l].defaultSelected=!0)}else{for(l=""+oe(l),s=null,A=0;A<i.length;A++){if(i[A].value===l){i[A].selected=!0,p&&(i[A].defaultSelected=!0);return}s!==null||i[A].disabled||(s=i[A])}s!==null&&(s.selected=!0)}}function ye(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return H({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Be(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Se(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:oe(l)}}function ze(i,s){var l=oe(s.value),p=oe(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),p!=null&&(i.defaultValue=""+p)}function Ke(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function st(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?st(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var rt,oo=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,p,A){MSApp.execUnsafeLocalFunction(function(){return i(s,l,p,A)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(rt=rt||document.createElement("div"),rt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=rt.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ct(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var nn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},so=["Webkit","ms","Moz","O"];Object.keys(nn).forEach(function(i){so.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),nn[s]=nn[i]})});function fa(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||nn.hasOwnProperty(i)&&nn[i]?(""+s).trim():s+"px"}function ha(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var p=l.indexOf("--")===0,A=fa(l,s[l],p);l==="float"&&(l="cssFloat"),p?i.setProperty(l,A):i[l]=A}}var da=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pa(i,s){if(s){if(da[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ma(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ao=null;function Go(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Qo=null,Vn=null,hr=null;function Xo(i){if(i=Ua(i)){if(typeof Qo!="function")throw Error(t(280));var s=i.stateNode;s&&(s=yu(s),Qo(i.stateNode,i.type,s))}}function dr(i){Vn?hr?hr.push(i):hr=[i]:Vn=i}function ga(){if(Vn){var i=Vn,s=hr;if(hr=Vn=null,Xo(i),s)for(i=0;i<s.length;i++)Xo(s[i])}}function lo(i,s){return i(s)}function ya(){}var Vr=!1;function va(i,s,l){if(Vr)return i(s,l);Vr=!0;try{return lo(i,s,l)}finally{Vr=!1,(Vn!==null||hr!==null)&&(ya(),ga())}}function kt(i,s){var l=i.stateNode;if(l===null)return null;var p=yu(l);if(p===null)return null;l=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Yo=!1;if(f)try{var Gn={};Object.defineProperty(Gn,"passive",{get:function(){Yo=!0}}),window.addEventListener("test",Gn,Gn),window.removeEventListener("test",Gn,Gn)}catch{Yo=!1}function uo(i,s,l,p,A,O,F,Q,ee){var ce=Array.prototype.slice.call(arguments,3);try{s.apply(l,ce)}catch(_e){this.onError(_e)}}var co=!1,Jo=null,Qn=!1,_a=null,kf={onError:function(i){co=!0,Jo=i}};function Zo(i,s,l,p,A,O,F,Q,ee){co=!1,Jo=null,uo.apply(kf,arguments)}function Bl(i,s,l,p,A,O,F,Q,ee){if(Zo.apply(this,arguments),co){if(co){var ce=Jo;co=!1,Jo=null}else throw Error(t(198));Qn||(Qn=!0,_a=ce)}}function Xn(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function fo(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Yn(i){if(Xn(i)!==i)throw Error(t(188))}function zl(i){var s=i.alternate;if(!s){if(s=Xn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,p=s;;){var A=l.return;if(A===null)break;var O=A.alternate;if(O===null){if(p=A.return,p!==null){l=p;continue}break}if(A.child===O.child){for(O=A.child;O;){if(O===l)return Yn(A),i;if(O===p)return Yn(A),s;O=O.sibling}throw Error(t(188))}if(l.return!==p.return)l=A,p=O;else{for(var F=!1,Q=A.child;Q;){if(Q===l){F=!0,l=A,p=O;break}if(Q===p){F=!0,p=A,l=O;break}Q=Q.sibling}if(!F){for(Q=O.child;Q;){if(Q===l){F=!0,l=O,p=A;break}if(Q===p){F=!0,p=O,l=A;break}Q=Q.sibling}if(!F)throw Error(t(189))}}if(l.alternate!==p)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function Ea(i){return i=zl(i),i!==null?es(i):null}function es(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=es(i);if(s!==null)return s;i=i.sibling}return null}var ts=e.unstable_scheduleCallback,wa=e.unstable_cancelCallback,$l=e.unstable_shouldYield,Cf=e.unstable_requestPaint,dt=e.unstable_now,Hl=e.unstable_getCurrentPriorityLevel,ho=e.unstable_ImmediatePriority,hi=e.unstable_UserBlockingPriority,Un=e.unstable_NormalPriority,Ta=e.unstable_LowPriority,Wl=e.unstable_IdlePriority,po=null,kn=null;function Kl(i){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(po,i,void 0,(i.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:Ql,Sa=Math.log,Gl=Math.LN2;function Ql(i){return i>>>=0,i===0?32:31-(Sa(i)/Gl|0)|0}var ns=64,rs=4194304;function di(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function mo(i,s){var l=i.pendingLanes;if(l===0)return 0;var p=0,A=i.suspendedLanes,O=i.pingedLanes,F=l&268435455;if(F!==0){var Q=F&~A;Q!==0?p=di(Q):(O&=F,O!==0&&(p=di(O)))}else F=l&~A,F!==0?p=di(F):O!==0&&(p=di(O));if(p===0)return 0;if(s!==0&&s!==p&&!(s&A)&&(A=p&-p,O=s&-s,A>=O||A===16&&(O&4194240)!==0))return s;if(p&4&&(p|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=p;0<s;)l=31-hn(s),A=1<<l,p|=i[l],s&=~A;return p}function Pf(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ur(i,s){for(var l=i.suspendedLanes,p=i.pingedLanes,A=i.expirationTimes,O=i.pendingLanes;0<O;){var F=31-hn(O),Q=1<<F,ee=A[F];ee===-1?(!(Q&l)||Q&p)&&(A[F]=Pf(Q,s)):ee<=s&&(i.expiredLanes|=Q),O&=~Q}}function Cn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function go(){var i=ns;return ns<<=1,!(ns&4194240)&&(ns=64),i}function pi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function mi(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-hn(s),i[s]=l}function ht(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<l;){var A=31-hn(l),O=1<<A;s[A]=0,p[A]=-1,i[A]=-1,l&=~O}}function gi(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var p=31-hn(l),A=1<<p;A&s|i[p]&s&&(i[p]|=s),l&=~A}}var et=0;function yi(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Xl,is,Yl,Jl,Zl,ba=!1,pr=[],Gt=null,Jn=null,Zn=null,vi=new Map,Fn=new Map,mr=[],Of="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eu(i,s){switch(i){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":vi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fn.delete(s.pointerId)}}function yn(i,s,l,p,A,O){return i===null||i.nativeEvent!==O?(i={blockedOn:s,domEventName:l,eventSystemFlags:p,nativeEvent:O,targetContainers:[A]},s!==null&&(s=Ua(s),s!==null&&is(s)),i):(i.eventSystemFlags|=p,s=i.targetContainers,A!==null&&s.indexOf(A)===-1&&s.push(A),i)}function xf(i,s,l,p,A){switch(s){case"focusin":return Gt=yn(Gt,i,s,l,p,A),!0;case"dragenter":return Jn=yn(Jn,i,s,l,p,A),!0;case"mouseover":return Zn=yn(Zn,i,s,l,p,A),!0;case"pointerover":var O=A.pointerId;return vi.set(O,yn(vi.get(O)||null,i,s,l,p,A)),!0;case"gotpointercapture":return O=A.pointerId,Fn.set(O,yn(Fn.get(O)||null,i,s,l,p,A)),!0}return!1}function tu(i){var s=wo(i.target);if(s!==null){var l=Xn(s);if(l!==null){if(s=l.tag,s===13){if(s=fo(l),s!==null){i.blockedOn=s,Zl(i.priority,function(){Yl(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Fr(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=os(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var p=new l.constructor(l.type,l);ao=p,l.target.dispatchEvent(p),ao=null}else return s=Ua(l),s!==null&&is(s),i.blockedOn=l,!1;s.shift()}return!0}function yo(i,s,l){Fr(i)&&l.delete(s)}function nu(){ba=!1,Gt!==null&&Fr(Gt)&&(Gt=null),Jn!==null&&Fr(Jn)&&(Jn=null),Zn!==null&&Fr(Zn)&&(Zn=null),vi.forEach(yo),Fn.forEach(yo)}function er(i,s){i.blockedOn===s&&(i.blockedOn=null,ba||(ba=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nu)))}function tr(i){function s(A){return er(A,i)}if(0<pr.length){er(pr[0],i);for(var l=1;l<pr.length;l++){var p=pr[l];p.blockedOn===i&&(p.blockedOn=null)}}for(Gt!==null&&er(Gt,i),Jn!==null&&er(Jn,i),Zn!==null&&er(Zn,i),vi.forEach(s),Fn.forEach(s),l=0;l<mr.length;l++)p=mr[l],p.blockedOn===i&&(p.blockedOn=null);for(;0<mr.length&&(l=mr[0],l.blockedOn===null);)tu(l),l.blockedOn===null&&mr.shift()}var qr=_.ReactCurrentBatchConfig,_i=!0;function _t(i,s,l,p){var A=et,O=qr.transition;qr.transition=null;try{et=1,Aa(i,s,l,p)}finally{et=A,qr.transition=O}}function Nf(i,s,l,p){var A=et,O=qr.transition;qr.transition=null;try{et=4,Aa(i,s,l,p)}finally{et=A,qr.transition=O}}function Aa(i,s,l,p){if(_i){var A=os(i,s,l,p);if(A===null)$f(i,s,p,vo,l),eu(i,p);else if(xf(A,i,s,l,p))p.stopPropagation();else if(eu(i,p),s&4&&-1<Of.indexOf(i)){for(;A!==null;){var O=Ua(A);if(O!==null&&Xl(O),O=os(i,s,l,p),O===null&&$f(i,s,p,vo,l),O===A)break;A=O}A!==null&&p.stopPropagation()}else $f(i,s,p,null,l)}}var vo=null;function os(i,s,l,p){if(vo=null,i=Go(p),i=wo(i),i!==null)if(s=Xn(i),s===null)i=null;else if(l=s.tag,l===13){if(i=fo(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return vo=i,null}function Ia(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hl()){case ho:return 1;case hi:return 4;case Un:case Ta:return 16;case Wl:return 536870912;default:return 16}default:return 16}}var Pn=null,ss=null,vn=null;function Ra(){if(vn)return vn;var i,s=ss,l=s.length,p,A="value"in Pn?Pn.value:Pn.textContent,O=A.length;for(i=0;i<l&&s[i]===A[i];i++);var F=l-i;for(p=1;p<=F&&s[l-p]===A[O-p];p++);return vn=A.slice(i,1<p?1-p:void 0)}function as(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function gr(){return!0}function ka(){return!1}function Qt(i){function s(l,p,A,O,F){this._reactName=l,this._targetInst=A,this.type=p,this.nativeEvent=O,this.target=F,this.currentTarget=null;for(var Q in i)i.hasOwnProperty(Q)&&(l=i[Q],this[Q]=l?l(O):O[Q]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?gr:ka,this.isPropagationStopped=ka,this}return H(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),s}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=Qt(nr),yr=H({},nr,{view:0,detail:0}),Df=Qt(yr),us,Br,Ei,_o=H({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ei&&(Ei&&i.type==="mousemove"?(us=i.screenX-Ei.screenX,Br=i.screenY-Ei.screenY):Br=us=0,Ei=i),us)},movementY:function(i){return"movementY"in i?i.movementY:Br}}),cs=Qt(_o),Ca=H({},_o,{dataTransfer:0}),ru=Qt(Ca),fs=H({},yr,{relatedTarget:0}),hs=Qt(fs),iu=H({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),zr=Qt(iu),ou=H({},nr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),su=Qt(ou),au=H({},nr,{data:0}),Pa=Qt(au),ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=lu[i])?!!s[i]:!1}function vr(){return uu}var c=H({},yr,{key:function(i){if(i.key){var s=ds[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=as(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?dn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(i){return i.type==="keypress"?as(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?as(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),C=Qt(c),V=H({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B=Qt(V),ae=H({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),fe=Qt(ae),be=H({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ft=Qt(be),Lt=H({},_o,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),tt=Qt(Lt),qt=[9,13,27,32],xt=f&&"CompositionEvent"in window,qn=null;f&&"documentMode"in document&&(qn=document.documentMode);var On=f&&"TextEvent"in window&&!qn,Eo=f&&(!xt||qn&&8<qn&&11>=qn),ps=" ",Bg=!1;function zg(i,s){switch(i){case"keyup":return qt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $g(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ms=!1;function nb(i,s){switch(i){case"compositionend":return $g(s);case"keypress":return s.which!==32?null:(Bg=!0,ps);case"textInput":return i=s.data,i===ps&&Bg?null:i;default:return null}}function rb(i,s){if(ms)return i==="compositionend"||!xt&&zg(i,s)?(i=Ra(),vn=ss=Pn=null,ms=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Eo&&s.locale!=="ko"?null:s.data;default:return null}}var ib={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hg(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!ib[i.type]:s==="textarea"}function Wg(i,s,l,p){dr(p),s=pu(s,"onChange"),0<s.length&&(l=new ls("onChange","change",null,l,p),i.push({event:l,listeners:s}))}var Oa=null,xa=null;function ob(i){cy(i,0)}function cu(i){var s=Es(i);if(De(s))return i}function sb(i,s){if(i==="change")return s}var Kg=!1;if(f){var Lf;if(f){var Mf="oninput"in document;if(!Mf){var Gg=document.createElement("div");Gg.setAttribute("oninput","return;"),Mf=typeof Gg.oninput=="function"}Lf=Mf}else Lf=!1;Kg=Lf&&(!document.documentMode||9<document.documentMode)}function Qg(){Oa&&(Oa.detachEvent("onpropertychange",Xg),xa=Oa=null)}function Xg(i){if(i.propertyName==="value"&&cu(xa)){var s=[];Wg(s,xa,i,Go(i)),va(ob,s)}}function ab(i,s,l){i==="focusin"?(Qg(),Oa=s,xa=l,Oa.attachEvent("onpropertychange",Xg)):i==="focusout"&&Qg()}function lb(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return cu(xa)}function ub(i,s){if(i==="click")return cu(s)}function cb(i,s){if(i==="input"||i==="change")return cu(s)}function fb(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var rr=typeof Object.is=="function"?Object.is:fb;function Na(i,s){if(rr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),p=Object.keys(s);if(l.length!==p.length)return!1;for(p=0;p<l.length;p++){var A=l[p];if(!h.call(s,A)||!rr(i[A],s[A]))return!1}return!0}function Yg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Jg(i,s){var l=Yg(i);i=0;for(var p;l;){if(l.nodeType===3){if(p=i+l.textContent.length,i<=s&&p>=s)return{node:l,offset:s-i};i=p}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Yg(l)}}function Zg(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Zg(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function ey(){for(var i=window,s=Ve();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Ve(i.document)}return s}function jf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function hb(i){var s=ey(),l=i.focusedElem,p=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&Zg(l.ownerDocument.documentElement,l)){if(p!==null&&jf(l)){if(s=p.start,i=p.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var A=l.textContent.length,O=Math.min(p.start,A);p=p.end===void 0?O:Math.min(p.end,A),!i.extend&&O>p&&(A=p,p=O,O=A),A=Jg(l,O);var F=Jg(l,p);A&&F&&(i.rangeCount!==1||i.anchorNode!==A.node||i.anchorOffset!==A.offset||i.focusNode!==F.node||i.focusOffset!==F.offset)&&(s=s.createRange(),s.setStart(A.node,A.offset),i.removeAllRanges(),O>p?(i.addRange(s),i.extend(F.node,F.offset)):(s.setEnd(F.node,F.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var db=f&&"documentMode"in document&&11>=document.documentMode,gs=null,Vf=null,Da=null,Uf=!1;function ty(i,s,l){var p=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Uf||gs==null||gs!==Ve(p)||(p=gs,"selectionStart"in p&&jf(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Da&&Na(Da,p)||(Da=p,p=pu(Vf,"onSelect"),0<p.length&&(s=new ls("onSelect","select",null,s,l),i.push({event:s,listeners:p}),s.target=gs)))}function fu(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var ys={animationend:fu("Animation","AnimationEnd"),animationiteration:fu("Animation","AnimationIteration"),animationstart:fu("Animation","AnimationStart"),transitionend:fu("Transition","TransitionEnd")},Ff={},ny={};f&&(ny=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function hu(i){if(Ff[i])return Ff[i];if(!ys[i])return i;var s=ys[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in ny)return Ff[i]=s[l];return i}var ry=hu("animationend"),iy=hu("animationiteration"),oy=hu("animationstart"),sy=hu("transitionend"),ay=new Map,ly="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(i,s){ay.set(i,s),a(s,[i])}for(var qf=0;qf<ly.length;qf++){var Bf=ly[qf],pb=Bf.toLowerCase(),mb=Bf[0].toUpperCase()+Bf.slice(1);wi(pb,"on"+mb)}wi(ry,"onAnimationEnd"),wi(iy,"onAnimationIteration"),wi(oy,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(sy,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gb=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function uy(i,s,l){var p=i.type||"unknown-event";i.currentTarget=l,Bl(p,s,void 0,i),i.currentTarget=null}function cy(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var p=i[l],A=p.event;p=p.listeners;e:{var O=void 0;if(s)for(var F=p.length-1;0<=F;F--){var Q=p[F],ee=Q.instance,ce=Q.currentTarget;if(Q=Q.listener,ee!==O&&A.isPropagationStopped())break e;uy(A,Q,ce),O=ee}else for(F=0;F<p.length;F++){if(Q=p[F],ee=Q.instance,ce=Q.currentTarget,Q=Q.listener,ee!==O&&A.isPropagationStopped())break e;uy(A,Q,ce),O=ee}}}if(Qn)throw i=_a,Qn=!1,_a=null,i}function gt(i,s){var l=s[Xf];l===void 0&&(l=s[Xf]=new Set);var p=i+"__bubble";l.has(p)||(fy(s,i,2,!1),l.add(p))}function zf(i,s,l){var p=0;s&&(p|=4),fy(l,i,p,s)}var du="_reactListening"+Math.random().toString(36).slice(2);function Ma(i){if(!i[du]){i[du]=!0,r.forEach(function(l){l!=="selectionchange"&&(gb.has(l)||zf(l,!1,i),zf(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[du]||(s[du]=!0,zf("selectionchange",!1,s))}}function fy(i,s,l,p){switch(Ia(s)){case 1:var A=_t;break;case 4:A=Nf;break;default:A=Aa}l=A.bind(null,s,l,i),A=void 0,!Yo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(A=!0),p?A!==void 0?i.addEventListener(s,l,{capture:!0,passive:A}):i.addEventListener(s,l,!0):A!==void 0?i.addEventListener(s,l,{passive:A}):i.addEventListener(s,l,!1)}function $f(i,s,l,p,A){var O=p;if(!(s&1)&&!(s&2)&&p!==null)e:for(;;){if(p===null)return;var F=p.tag;if(F===3||F===4){var Q=p.stateNode.containerInfo;if(Q===A||Q.nodeType===8&&Q.parentNode===A)break;if(F===4)for(F=p.return;F!==null;){var ee=F.tag;if((ee===3||ee===4)&&(ee=F.stateNode.containerInfo,ee===A||ee.nodeType===8&&ee.parentNode===A))return;F=F.return}for(;Q!==null;){if(F=wo(Q),F===null)return;if(ee=F.tag,ee===5||ee===6){p=O=F;continue e}Q=Q.parentNode}}p=p.return}va(function(){var ce=O,_e=Go(l),we=[];e:{var ve=ay.get(i);if(ve!==void 0){var Re=ls,Pe=i;switch(i){case"keypress":if(as(l)===0)break e;case"keydown":case"keyup":Re=C;break;case"focusin":Pe="focus",Re=hs;break;case"focusout":Pe="blur",Re=hs;break;case"beforeblur":case"afterblur":Re=hs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=cs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=fe;break;case ry:case iy:case oy:Re=zr;break;case sy:Re=ft;break;case"scroll":Re=Df;break;case"wheel":Re=tt;break;case"copy":case"cut":case"paste":Re=su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=B}var Oe=(s&4)!==0,Ct=!Oe&&i==="scroll",le=Oe?ve!==null?ve+"Capture":null:ve;Oe=[];for(var re=ce,ue;re!==null;){ue=re;var Te=ue.stateNode;if(ue.tag===5&&Te!==null&&(ue=Te,le!==null&&(Te=kt(re,le),Te!=null&&Oe.push(ja(re,Te,ue)))),Ct)break;re=re.return}0<Oe.length&&(ve=new Re(ve,Pe,null,l,_e),we.push({event:ve,listeners:Oe}))}}if(!(s&7)){e:{if(ve=i==="mouseover"||i==="pointerover",Re=i==="mouseout"||i==="pointerout",ve&&l!==ao&&(Pe=l.relatedTarget||l.fromElement)&&(wo(Pe)||Pe[$r]))break e;if((Re||ve)&&(ve=_e.window===_e?_e:(ve=_e.ownerDocument)?ve.defaultView||ve.parentWindow:window,Re?(Pe=l.relatedTarget||l.toElement,Re=ce,Pe=Pe?wo(Pe):null,Pe!==null&&(Ct=Xn(Pe),Pe!==Ct||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(Re=null,Pe=ce),Re!==Pe)){if(Oe=cs,Te="onMouseLeave",le="onMouseEnter",re="mouse",(i==="pointerout"||i==="pointerover")&&(Oe=B,Te="onPointerLeave",le="onPointerEnter",re="pointer"),Ct=Re==null?ve:Es(Re),ue=Pe==null?ve:Es(Pe),ve=new Oe(Te,re+"leave",Re,l,_e),ve.target=Ct,ve.relatedTarget=ue,Te=null,wo(_e)===ce&&(Oe=new Oe(le,re+"enter",Pe,l,_e),Oe.target=ue,Oe.relatedTarget=Ct,Te=Oe),Ct=Te,Re&&Pe)t:{for(Oe=Re,le=Pe,re=0,ue=Oe;ue;ue=vs(ue))re++;for(ue=0,Te=le;Te;Te=vs(Te))ue++;for(;0<re-ue;)Oe=vs(Oe),re--;for(;0<ue-re;)le=vs(le),ue--;for(;re--;){if(Oe===le||le!==null&&Oe===le.alternate)break t;Oe=vs(Oe),le=vs(le)}Oe=null}else Oe=null;Re!==null&&hy(we,ve,Re,Oe,!1),Pe!==null&&Ct!==null&&hy(we,Ct,Pe,Oe,!0)}}e:{if(ve=ce?Es(ce):window,Re=ve.nodeName&&ve.nodeName.toLowerCase(),Re==="select"||Re==="input"&&ve.type==="file")var xe=sb;else if(Hg(ve))if(Kg)xe=cb;else{xe=lb;var Le=ab}else(Re=ve.nodeName)&&Re.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(xe=ub);if(xe&&(xe=xe(i,ce))){Wg(we,xe,l,_e);break e}Le&&Le(i,ve,ce),i==="focusout"&&(Le=ve._wrapperState)&&Le.controlled&&ve.type==="number"&&me(ve,"number",ve.value)}switch(Le=ce?Es(ce):window,i){case"focusin":(Hg(Le)||Le.contentEditable==="true")&&(gs=Le,Vf=ce,Da=null);break;case"focusout":Da=Vf=gs=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,ty(we,l,_e);break;case"selectionchange":if(db)break;case"keydown":case"keyup":ty(we,l,_e)}var Me;if(xt)e:{switch(i){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else ms?zg(i,l)&&(Fe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Fe="onCompositionStart");Fe&&(Eo&&l.locale!=="ko"&&(ms||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&ms&&(Me=Ra()):(Pn=_e,ss="value"in Pn?Pn.value:Pn.textContent,ms=!0)),Le=pu(ce,Fe),0<Le.length&&(Fe=new Pa(Fe,i,null,l,_e),we.push({event:Fe,listeners:Le}),Me?Fe.data=Me:(Me=$g(l),Me!==null&&(Fe.data=Me)))),(Me=On?nb(i,l):rb(i,l))&&(ce=pu(ce,"onBeforeInput"),0<ce.length&&(_e=new Pa("onBeforeInput","beforeinput",null,l,_e),we.push({event:_e,listeners:ce}),_e.data=Me))}cy(we,s)})}function ja(i,s,l){return{instance:i,listener:s,currentTarget:l}}function pu(i,s){for(var l=s+"Capture",p=[];i!==null;){var A=i,O=A.stateNode;A.tag===5&&O!==null&&(A=O,O=kt(i,l),O!=null&&p.unshift(ja(i,O,A)),O=kt(i,s),O!=null&&p.push(ja(i,O,A))),i=i.return}return p}function vs(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function hy(i,s,l,p,A){for(var O=s._reactName,F=[];l!==null&&l!==p;){var Q=l,ee=Q.alternate,ce=Q.stateNode;if(ee!==null&&ee===p)break;Q.tag===5&&ce!==null&&(Q=ce,A?(ee=kt(l,O),ee!=null&&F.unshift(ja(l,ee,Q))):A||(ee=kt(l,O),ee!=null&&F.push(ja(l,ee,Q)))),l=l.return}F.length!==0&&i.push({event:s,listeners:F})}var yb=/\r\n?/g,vb=/\u0000|\uFFFD/g;function dy(i){return(typeof i=="string"?i:""+i).replace(yb,`
`).replace(vb,"")}function mu(i,s,l){if(s=dy(s),dy(i)!==s&&l)throw Error(t(425))}function gu(){}var Hf=null,Wf=null;function Kf(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Gf=typeof setTimeout=="function"?setTimeout:void 0,_b=typeof clearTimeout=="function"?clearTimeout:void 0,py=typeof Promise=="function"?Promise:void 0,Eb=typeof queueMicrotask=="function"?queueMicrotask:typeof py<"u"?function(i){return py.resolve(null).then(i).catch(wb)}:Gf;function wb(i){setTimeout(function(){throw i})}function Qf(i,s){var l=s,p=0;do{var A=l.nextSibling;if(i.removeChild(l),A&&A.nodeType===8)if(l=A.data,l==="/$"){if(p===0){i.removeChild(A),tr(s);return}p--}else l!=="$"&&l!=="$?"&&l!=="$!"||p++;l=A}while(l);tr(s)}function Ti(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function my(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var _s=Math.random().toString(36).slice(2),_r="__reactFiber$"+_s,Va="__reactProps$"+_s,$r="__reactContainer$"+_s,Xf="__reactEvents$"+_s,Tb="__reactListeners$"+_s,Sb="__reactHandles$"+_s;function wo(i){var s=i[_r];if(s)return s;for(var l=i.parentNode;l;){if(s=l[$r]||l[_r]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=my(i);i!==null;){if(l=i[_r])return l;i=my(i)}return s}i=l,l=i.parentNode}return null}function Ua(i){return i=i[_r]||i[$r],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Es(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function yu(i){return i[Va]||null}var Yf=[],ws=-1;function Si(i){return{current:i}}function yt(i){0>ws||(i.current=Yf[ws],Yf[ws]=null,ws--)}function pt(i,s){ws++,Yf[ws]=i.current,i.current=s}var bi={},rn=Si(bi),_n=Si(!1),To=bi;function Ts(i,s){var l=i.type.contextTypes;if(!l)return bi;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===s)return p.__reactInternalMemoizedMaskedChildContext;var A={},O;for(O in l)A[O]=s[O];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=A),A}function En(i){return i=i.childContextTypes,i!=null}function vu(){yt(_n),yt(rn)}function gy(i,s,l){if(rn.current!==bi)throw Error(t(168));pt(rn,s),pt(_n,l)}function yy(i,s,l){var p=i.stateNode;if(s=s.childContextTypes,typeof p.getChildContext!="function")return l;p=p.getChildContext();for(var A in p)if(!(A in s))throw Error(t(108,J(i)||"Unknown",A));return H({},l,p)}function _u(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||bi,To=rn.current,pt(rn,i),pt(_n,_n.current),!0}function vy(i,s,l){var p=i.stateNode;if(!p)throw Error(t(169));l?(i=yy(i,s,To),p.__reactInternalMemoizedMergedChildContext=i,yt(_n),yt(rn),pt(rn,i)):yt(_n),pt(_n,l)}var Hr=null,Eu=!1,Jf=!1;function _y(i){Hr===null?Hr=[i]:Hr.push(i)}function bb(i){Eu=!0,_y(i)}function Ai(){if(!Jf&&Hr!==null){Jf=!0;var i=0,s=et;try{var l=Hr;for(et=1;i<l.length;i++){var p=l[i];do p=p(!0);while(p!==null)}Hr=null,Eu=!1}catch(A){throw Hr!==null&&(Hr=Hr.slice(i+1)),ts(ho,Ai),A}finally{et=s,Jf=!1}}return null}var Ss=[],bs=0,wu=null,Tu=0,Bn=[],zn=0,So=null,Wr=1,Kr="";function bo(i,s){Ss[bs++]=Tu,Ss[bs++]=wu,wu=i,Tu=s}function Ey(i,s,l){Bn[zn++]=Wr,Bn[zn++]=Kr,Bn[zn++]=So,So=i;var p=Wr;i=Kr;var A=32-hn(p)-1;p&=~(1<<A),l+=1;var O=32-hn(s)+A;if(30<O){var F=A-A%5;O=(p&(1<<F)-1).toString(32),p>>=F,A-=F,Wr=1<<32-hn(s)+A|l<<A|p,Kr=O+i}else Wr=1<<O|l<<A|p,Kr=i}function Zf(i){i.return!==null&&(bo(i,1),Ey(i,1,0))}function eh(i){for(;i===wu;)wu=Ss[--bs],Ss[bs]=null,Tu=Ss[--bs],Ss[bs]=null;for(;i===So;)So=Bn[--zn],Bn[zn]=null,Kr=Bn[--zn],Bn[zn]=null,Wr=Bn[--zn],Bn[zn]=null}var xn=null,Nn=null,Et=!1,ir=null;function wy(i,s){var l=Kn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function Ty(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,xn=i,Nn=Ti(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,xn=i,Nn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=So!==null?{id:Wr,overflow:Kr}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Kn(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,xn=i,Nn=null,!0):!1;default:return!1}}function th(i){return(i.mode&1)!==0&&(i.flags&128)===0}function nh(i){if(Et){var s=Nn;if(s){var l=s;if(!Ty(i,s)){if(th(i))throw Error(t(418));s=Ti(l.nextSibling);var p=xn;s&&Ty(i,s)?wy(p,l):(i.flags=i.flags&-4097|2,Et=!1,xn=i)}}else{if(th(i))throw Error(t(418));i.flags=i.flags&-4097|2,Et=!1,xn=i}}}function Sy(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xn=i}function Su(i){if(i!==xn)return!1;if(!Et)return Sy(i),Et=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Kf(i.type,i.memoizedProps)),s&&(s=Nn)){if(th(i))throw by(),Error(t(418));for(;s;)wy(i,s),s=Ti(s.nextSibling)}if(Sy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){Nn=Ti(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}Nn=null}}else Nn=xn?Ti(i.stateNode.nextSibling):null;return!0}function by(){for(var i=Nn;i;)i=Ti(i.nextSibling)}function As(){Nn=xn=null,Et=!1}function rh(i){ir===null?ir=[i]:ir.push(i)}var Ab=_.ReactCurrentBatchConfig;function Fa(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var p=l.stateNode}if(!p)throw Error(t(147,i));var A=p,O=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===O?s.ref:(s=function(F){var Q=A.refs;F===null?delete Q[O]:Q[O]=F},s._stringRef=O,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function bu(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Ay(i){var s=i._init;return s(i._payload)}function Iy(i){function s(le,re){if(i){var ue=le.deletions;ue===null?(le.deletions=[re],le.flags|=16):ue.push(re)}}function l(le,re){if(!i)return null;for(;re!==null;)s(le,re),re=re.sibling;return null}function p(le,re){for(le=new Map;re!==null;)re.key!==null?le.set(re.key,re):le.set(re.index,re),re=re.sibling;return le}function A(le,re){return le=Ni(le,re),le.index=0,le.sibling=null,le}function O(le,re,ue){return le.index=ue,i?(ue=le.alternate,ue!==null?(ue=ue.index,ue<re?(le.flags|=2,re):ue):(le.flags|=2,re)):(le.flags|=1048576,re)}function F(le){return i&&le.alternate===null&&(le.flags|=2),le}function Q(le,re,ue,Te){return re===null||re.tag!==6?(re=Gh(ue,le.mode,Te),re.return=le,re):(re=A(re,ue),re.return=le,re)}function ee(le,re,ue,Te){var xe=ue.type;return xe===P?_e(le,re,ue.props.children,Te,ue.key):re!==null&&(re.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Z&&Ay(xe)===re.type)?(Te=A(re,ue.props),Te.ref=Fa(le,re,ue),Te.return=le,Te):(Te=Gu(ue.type,ue.key,ue.props,null,le.mode,Te),Te.ref=Fa(le,re,ue),Te.return=le,Te)}function ce(le,re,ue,Te){return re===null||re.tag!==4||re.stateNode.containerInfo!==ue.containerInfo||re.stateNode.implementation!==ue.implementation?(re=Qh(ue,le.mode,Te),re.return=le,re):(re=A(re,ue.children||[]),re.return=le,re)}function _e(le,re,ue,Te,xe){return re===null||re.tag!==7?(re=xo(ue,le.mode,Te,xe),re.return=le,re):(re=A(re,ue),re.return=le,re)}function we(le,re,ue){if(typeof re=="string"&&re!==""||typeof re=="number")return re=Gh(""+re,le.mode,ue),re.return=le,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case L:return ue=Gu(re.type,re.key,re.props,null,le.mode,ue),ue.ref=Fa(le,null,re),ue.return=le,ue;case U:return re=Qh(re,le.mode,ue),re.return=le,re;case Z:var Te=re._init;return we(le,Te(re._payload),ue)}if(Se(re)||Y(re))return re=xo(re,le.mode,ue,null),re.return=le,re;bu(le,re)}return null}function ve(le,re,ue,Te){var xe=re!==null?re.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return xe!==null?null:Q(le,re,""+ue,Te);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case L:return ue.key===xe?ee(le,re,ue,Te):null;case U:return ue.key===xe?ce(le,re,ue,Te):null;case Z:return xe=ue._init,ve(le,re,xe(ue._payload),Te)}if(Se(ue)||Y(ue))return xe!==null?null:_e(le,re,ue,Te,null);bu(le,ue)}return null}function Re(le,re,ue,Te,xe){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return le=le.get(ue)||null,Q(re,le,""+Te,xe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case L:return le=le.get(Te.key===null?ue:Te.key)||null,ee(re,le,Te,xe);case U:return le=le.get(Te.key===null?ue:Te.key)||null,ce(re,le,Te,xe);case Z:var Le=Te._init;return Re(le,re,ue,Le(Te._payload),xe)}if(Se(Te)||Y(Te))return le=le.get(ue)||null,_e(re,le,Te,xe,null);bu(re,Te)}return null}function Pe(le,re,ue,Te){for(var xe=null,Le=null,Me=re,Fe=re=0,$t=null;Me!==null&&Fe<ue.length;Fe++){Me.index>Fe?($t=Me,Me=null):$t=Me.sibling;var at=ve(le,Me,ue[Fe],Te);if(at===null){Me===null&&(Me=$t);break}i&&Me&&at.alternate===null&&s(le,Me),re=O(at,re,Fe),Le===null?xe=at:Le.sibling=at,Le=at,Me=$t}if(Fe===ue.length)return l(le,Me),Et&&bo(le,Fe),xe;if(Me===null){for(;Fe<ue.length;Fe++)Me=we(le,ue[Fe],Te),Me!==null&&(re=O(Me,re,Fe),Le===null?xe=Me:Le.sibling=Me,Le=Me);return Et&&bo(le,Fe),xe}for(Me=p(le,Me);Fe<ue.length;Fe++)$t=Re(Me,le,Fe,ue[Fe],Te),$t!==null&&(i&&$t.alternate!==null&&Me.delete($t.key===null?Fe:$t.key),re=O($t,re,Fe),Le===null?xe=$t:Le.sibling=$t,Le=$t);return i&&Me.forEach(function(Di){return s(le,Di)}),Et&&bo(le,Fe),xe}function Oe(le,re,ue,Te){var xe=Y(ue);if(typeof xe!="function")throw Error(t(150));if(ue=xe.call(ue),ue==null)throw Error(t(151));for(var Le=xe=null,Me=re,Fe=re=0,$t=null,at=ue.next();Me!==null&&!at.done;Fe++,at=ue.next()){Me.index>Fe?($t=Me,Me=null):$t=Me.sibling;var Di=ve(le,Me,at.value,Te);if(Di===null){Me===null&&(Me=$t);break}i&&Me&&Di.alternate===null&&s(le,Me),re=O(Di,re,Fe),Le===null?xe=Di:Le.sibling=Di,Le=Di,Me=$t}if(at.done)return l(le,Me),Et&&bo(le,Fe),xe;if(Me===null){for(;!at.done;Fe++,at=ue.next())at=we(le,at.value,Te),at!==null&&(re=O(at,re,Fe),Le===null?xe=at:Le.sibling=at,Le=at);return Et&&bo(le,Fe),xe}for(Me=p(le,Me);!at.done;Fe++,at=ue.next())at=Re(Me,le,Fe,at.value,Te),at!==null&&(i&&at.alternate!==null&&Me.delete(at.key===null?Fe:at.key),re=O(at,re,Fe),Le===null?xe=at:Le.sibling=at,Le=at);return i&&Me.forEach(function(rA){return s(le,rA)}),Et&&bo(le,Fe),xe}function Ct(le,re,ue,Te){if(typeof ue=="object"&&ue!==null&&ue.type===P&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case L:e:{for(var xe=ue.key,Le=re;Le!==null;){if(Le.key===xe){if(xe=ue.type,xe===P){if(Le.tag===7){l(le,Le.sibling),re=A(Le,ue.props.children),re.return=le,le=re;break e}}else if(Le.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Z&&Ay(xe)===Le.type){l(le,Le.sibling),re=A(Le,ue.props),re.ref=Fa(le,Le,ue),re.return=le,le=re;break e}l(le,Le);break}else s(le,Le);Le=Le.sibling}ue.type===P?(re=xo(ue.props.children,le.mode,Te,ue.key),re.return=le,le=re):(Te=Gu(ue.type,ue.key,ue.props,null,le.mode,Te),Te.ref=Fa(le,re,ue),Te.return=le,le=Te)}return F(le);case U:e:{for(Le=ue.key;re!==null;){if(re.key===Le)if(re.tag===4&&re.stateNode.containerInfo===ue.containerInfo&&re.stateNode.implementation===ue.implementation){l(le,re.sibling),re=A(re,ue.children||[]),re.return=le,le=re;break e}else{l(le,re);break}else s(le,re);re=re.sibling}re=Qh(ue,le.mode,Te),re.return=le,le=re}return F(le);case Z:return Le=ue._init,Ct(le,re,Le(ue._payload),Te)}if(Se(ue))return Pe(le,re,ue,Te);if(Y(ue))return Oe(le,re,ue,Te);bu(le,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,re!==null&&re.tag===6?(l(le,re.sibling),re=A(re,ue),re.return=le,le=re):(l(le,re),re=Gh(ue,le.mode,Te),re.return=le,le=re),F(le)):l(le,re)}return Ct}var Is=Iy(!0),Ry=Iy(!1),Au=Si(null),Iu=null,Rs=null,ih=null;function oh(){ih=Rs=Iu=null}function sh(i){var s=Au.current;yt(Au),i._currentValue=s}function ah(i,s,l){for(;i!==null;){var p=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),i===l)break;i=i.return}}function ks(i,s){Iu=i,ih=Rs=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(wn=!0),i.firstContext=null)}function $n(i){var s=i._currentValue;if(ih!==i)if(i={context:i,memoizedValue:s,next:null},Rs===null){if(Iu===null)throw Error(t(308));Rs=i,Iu.dependencies={lanes:0,firstContext:i}}else Rs=Rs.next=i;return s}var Ao=null;function lh(i){Ao===null?Ao=[i]:Ao.push(i)}function ky(i,s,l,p){var A=s.interleaved;return A===null?(l.next=l,lh(s)):(l.next=A.next,A.next=l),s.interleaved=l,Gr(i,p)}function Gr(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ii=!1;function uh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cy(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Qr(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Ri(i,s,l){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,it&2){var A=p.pending;return A===null?s.next=s:(s.next=A.next,A.next=s),p.pending=s,Gr(i,l)}return A=p.interleaved,A===null?(s.next=s,lh(p)):(s.next=A.next,A.next=s),p.interleaved=s,Gr(i,l)}function Ru(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var p=s.lanes;p&=i.pendingLanes,l|=p,s.lanes=l,gi(i,l)}}function Py(i,s){var l=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,l===p)){var A=null,O=null;if(l=l.firstBaseUpdate,l!==null){do{var F={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};O===null?A=O=F:O=O.next=F,l=l.next}while(l!==null);O===null?A=O=s:O=O.next=s}else A=O=s;l={baseState:p.baseState,firstBaseUpdate:A,lastBaseUpdate:O,shared:p.shared,effects:p.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function ku(i,s,l,p){var A=i.updateQueue;Ii=!1;var O=A.firstBaseUpdate,F=A.lastBaseUpdate,Q=A.shared.pending;if(Q!==null){A.shared.pending=null;var ee=Q,ce=ee.next;ee.next=null,F===null?O=ce:F.next=ce,F=ee;var _e=i.alternate;_e!==null&&(_e=_e.updateQueue,Q=_e.lastBaseUpdate,Q!==F&&(Q===null?_e.firstBaseUpdate=ce:Q.next=ce,_e.lastBaseUpdate=ee))}if(O!==null){var we=A.baseState;F=0,_e=ce=ee=null,Q=O;do{var ve=Q.lane,Re=Q.eventTime;if((p&ve)===ve){_e!==null&&(_e=_e.next={eventTime:Re,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var Pe=i,Oe=Q;switch(ve=s,Re=l,Oe.tag){case 1:if(Pe=Oe.payload,typeof Pe=="function"){we=Pe.call(Re,we,ve);break e}we=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Oe.payload,ve=typeof Pe=="function"?Pe.call(Re,we,ve):Pe,ve==null)break e;we=H({},we,ve);break e;case 2:Ii=!0}}Q.callback!==null&&Q.lane!==0&&(i.flags|=64,ve=A.effects,ve===null?A.effects=[Q]:ve.push(Q))}else Re={eventTime:Re,lane:ve,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},_e===null?(ce=_e=Re,ee=we):_e=_e.next=Re,F|=ve;if(Q=Q.next,Q===null){if(Q=A.shared.pending,Q===null)break;ve=Q,Q=ve.next,ve.next=null,A.lastBaseUpdate=ve,A.shared.pending=null}}while(!0);if(_e===null&&(ee=we),A.baseState=ee,A.firstBaseUpdate=ce,A.lastBaseUpdate=_e,s=A.shared.interleaved,s!==null){A=s;do F|=A.lane,A=A.next;while(A!==s)}else O===null&&(A.shared.lanes=0);ko|=F,i.lanes=F,i.memoizedState=we}}function Oy(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var p=i[s],A=p.callback;if(A!==null){if(p.callback=null,p=l,typeof A!="function")throw Error(t(191,A));A.call(p)}}}var qa={},Er=Si(qa),Ba=Si(qa),za=Si(qa);function Io(i){if(i===qa)throw Error(t(174));return i}function ch(i,s){switch(pt(za,s),pt(Ba,i),pt(Er,qa),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ut(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=ut(s,i)}yt(Er),pt(Er,s)}function Cs(){yt(Er),yt(Ba),yt(za)}function xy(i){Io(za.current);var s=Io(Er.current),l=ut(s,i.type);s!==l&&(pt(Ba,i),pt(Er,l))}function fh(i){Ba.current===i&&(yt(Er),yt(Ba))}var Tt=Si(0);function Cu(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var hh=[];function dh(){for(var i=0;i<hh.length;i++)hh[i]._workInProgressVersionPrimary=null;hh.length=0}var Pu=_.ReactCurrentDispatcher,ph=_.ReactCurrentBatchConfig,Ro=0,St=null,Mt=null,Bt=null,Ou=!1,$a=!1,Ha=0,Ib=0;function on(){throw Error(t(321))}function mh(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!rr(i[l],s[l]))return!1;return!0}function gh(i,s,l,p,A,O){if(Ro=O,St=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Pu.current=i===null||i.memoizedState===null?Pb:Ob,i=l(p,A),$a){O=0;do{if($a=!1,Ha=0,25<=O)throw Error(t(301));O+=1,Bt=Mt=null,s.updateQueue=null,Pu.current=xb,i=l(p,A)}while($a)}if(Pu.current=Du,s=Mt!==null&&Mt.next!==null,Ro=0,Bt=Mt=St=null,Ou=!1,s)throw Error(t(300));return i}function yh(){var i=Ha!==0;return Ha=0,i}function wr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?St.memoizedState=Bt=i:Bt=Bt.next=i,Bt}function Hn(){if(Mt===null){var i=St.alternate;i=i!==null?i.memoizedState:null}else i=Mt.next;var s=Bt===null?St.memoizedState:Bt.next;if(s!==null)Bt=s,Mt=i;else{if(i===null)throw Error(t(310));Mt=i,i={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Bt===null?St.memoizedState=Bt=i:Bt=Bt.next=i}return Bt}function Wa(i,s){return typeof s=="function"?s(i):s}function vh(i){var s=Hn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var p=Mt,A=p.baseQueue,O=l.pending;if(O!==null){if(A!==null){var F=A.next;A.next=O.next,O.next=F}p.baseQueue=A=O,l.pending=null}if(A!==null){O=A.next,p=p.baseState;var Q=F=null,ee=null,ce=O;do{var _e=ce.lane;if((Ro&_e)===_e)ee!==null&&(ee=ee.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),p=ce.hasEagerState?ce.eagerState:i(p,ce.action);else{var we={lane:_e,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};ee===null?(Q=ee=we,F=p):ee=ee.next=we,St.lanes|=_e,ko|=_e}ce=ce.next}while(ce!==null&&ce!==O);ee===null?F=p:ee.next=Q,rr(p,s.memoizedState)||(wn=!0),s.memoizedState=p,s.baseState=F,s.baseQueue=ee,l.lastRenderedState=p}if(i=l.interleaved,i!==null){A=i;do O=A.lane,St.lanes|=O,ko|=O,A=A.next;while(A!==i)}else A===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function _h(i){var s=Hn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var p=l.dispatch,A=l.pending,O=s.memoizedState;if(A!==null){l.pending=null;var F=A=A.next;do O=i(O,F.action),F=F.next;while(F!==A);rr(O,s.memoizedState)||(wn=!0),s.memoizedState=O,s.baseQueue===null&&(s.baseState=O),l.lastRenderedState=O}return[O,p]}function Ny(){}function Dy(i,s){var l=St,p=Hn(),A=s(),O=!rr(p.memoizedState,A);if(O&&(p.memoizedState=A,wn=!0),p=p.queue,Eh(jy.bind(null,l,p,i),[i]),p.getSnapshot!==s||O||Bt!==null&&Bt.memoizedState.tag&1){if(l.flags|=2048,Ka(9,My.bind(null,l,p,A,s),void 0,null),zt===null)throw Error(t(349));Ro&30||Ly(l,s,A)}return A}function Ly(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=St.updateQueue,s===null?(s={lastEffect:null,stores:null},St.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function My(i,s,l,p){s.value=l,s.getSnapshot=p,Vy(s)&&Uy(i)}function jy(i,s,l){return l(function(){Vy(s)&&Uy(i)})}function Vy(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!rr(i,l)}catch{return!0}}function Uy(i){var s=Gr(i,1);s!==null&&lr(s,i,1,-1)}function Fy(i){var s=wr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:i},s.queue=i,i=i.dispatch=Cb.bind(null,St,i),[s.memoizedState,i]}function Ka(i,s,l,p){return i={tag:i,create:s,destroy:l,deps:p,next:null},s=St.updateQueue,s===null?(s={lastEffect:null,stores:null},St.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(p=l.next,l.next=i,i.next=p,s.lastEffect=i)),i}function qy(){return Hn().memoizedState}function xu(i,s,l,p){var A=wr();St.flags|=i,A.memoizedState=Ka(1|s,l,void 0,p===void 0?null:p)}function Nu(i,s,l,p){var A=Hn();p=p===void 0?null:p;var O=void 0;if(Mt!==null){var F=Mt.memoizedState;if(O=F.destroy,p!==null&&mh(p,F.deps)){A.memoizedState=Ka(s,l,O,p);return}}St.flags|=i,A.memoizedState=Ka(1|s,l,O,p)}function By(i,s){return xu(8390656,8,i,s)}function Eh(i,s){return Nu(2048,8,i,s)}function zy(i,s){return Nu(4,2,i,s)}function $y(i,s){return Nu(4,4,i,s)}function Hy(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Wy(i,s,l){return l=l!=null?l.concat([i]):null,Nu(4,4,Hy.bind(null,s,i),l)}function wh(){}function Ky(i,s){var l=Hn();s=s===void 0?null:s;var p=l.memoizedState;return p!==null&&s!==null&&mh(s,p[1])?p[0]:(l.memoizedState=[i,s],i)}function Gy(i,s){var l=Hn();s=s===void 0?null:s;var p=l.memoizedState;return p!==null&&s!==null&&mh(s,p[1])?p[0]:(i=i(),l.memoizedState=[i,s],i)}function Qy(i,s,l){return Ro&21?(rr(l,s)||(l=go(),St.lanes|=l,ko|=l,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,wn=!0),i.memoizedState=l)}function Rb(i,s){var l=et;et=l!==0&&4>l?l:4,i(!0);var p=ph.transition;ph.transition={};try{i(!1),s()}finally{et=l,ph.transition=p}}function Xy(){return Hn().memoizedState}function kb(i,s,l){var p=Oi(i);if(l={lane:p,action:l,hasEagerState:!1,eagerState:null,next:null},Yy(i))Jy(s,l);else if(l=ky(i,s,l,p),l!==null){var A=mn();lr(l,i,p,A),Zy(l,s,p)}}function Cb(i,s,l){var p=Oi(i),A={lane:p,action:l,hasEagerState:!1,eagerState:null,next:null};if(Yy(i))Jy(s,A);else{var O=i.alternate;if(i.lanes===0&&(O===null||O.lanes===0)&&(O=s.lastRenderedReducer,O!==null))try{var F=s.lastRenderedState,Q=O(F,l);if(A.hasEagerState=!0,A.eagerState=Q,rr(Q,F)){var ee=s.interleaved;ee===null?(A.next=A,lh(s)):(A.next=ee.next,ee.next=A),s.interleaved=A;return}}catch{}finally{}l=ky(i,s,A,p),l!==null&&(A=mn(),lr(l,i,p,A),Zy(l,s,p))}}function Yy(i){var s=i.alternate;return i===St||s!==null&&s===St}function Jy(i,s){$a=Ou=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function Zy(i,s,l){if(l&4194240){var p=s.lanes;p&=i.pendingLanes,l|=p,s.lanes=l,gi(i,l)}}var Du={readContext:$n,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},Pb={readContext:$n,useCallback:function(i,s){return wr().memoizedState=[i,s===void 0?null:s],i},useContext:$n,useEffect:By,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,xu(4194308,4,Hy.bind(null,s,i),l)},useLayoutEffect:function(i,s){return xu(4194308,4,i,s)},useInsertionEffect:function(i,s){return xu(4,2,i,s)},useMemo:function(i,s){var l=wr();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var p=wr();return s=l!==void 0?l(s):s,p.memoizedState=p.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},p.queue=i,i=i.dispatch=kb.bind(null,St,i),[p.memoizedState,i]},useRef:function(i){var s=wr();return i={current:i},s.memoizedState=i},useState:Fy,useDebugValue:wh,useDeferredValue:function(i){return wr().memoizedState=i},useTransition:function(){var i=Fy(!1),s=i[0];return i=Rb.bind(null,i[1]),wr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var p=St,A=wr();if(Et){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),zt===null)throw Error(t(349));Ro&30||Ly(p,s,l)}A.memoizedState=l;var O={value:l,getSnapshot:s};return A.queue=O,By(jy.bind(null,p,O,i),[i]),p.flags|=2048,Ka(9,My.bind(null,p,O,l,s),void 0,null),l},useId:function(){var i=wr(),s=zt.identifierPrefix;if(Et){var l=Kr,p=Wr;l=(p&~(1<<32-hn(p)-1)).toString(32)+l,s=":"+s+"R"+l,l=Ha++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=Ib++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},Ob={readContext:$n,useCallback:Ky,useContext:$n,useEffect:Eh,useImperativeHandle:Wy,useInsertionEffect:zy,useLayoutEffect:$y,useMemo:Gy,useReducer:vh,useRef:qy,useState:function(){return vh(Wa)},useDebugValue:wh,useDeferredValue:function(i){var s=Hn();return Qy(s,Mt.memoizedState,i)},useTransition:function(){var i=vh(Wa)[0],s=Hn().memoizedState;return[i,s]},useMutableSource:Ny,useSyncExternalStore:Dy,useId:Xy,unstable_isNewReconciler:!1},xb={readContext:$n,useCallback:Ky,useContext:$n,useEffect:Eh,useImperativeHandle:Wy,useInsertionEffect:zy,useLayoutEffect:$y,useMemo:Gy,useReducer:_h,useRef:qy,useState:function(){return _h(Wa)},useDebugValue:wh,useDeferredValue:function(i){var s=Hn();return Mt===null?s.memoizedState=i:Qy(s,Mt.memoizedState,i)},useTransition:function(){var i=_h(Wa)[0],s=Hn().memoizedState;return[i,s]},useMutableSource:Ny,useSyncExternalStore:Dy,useId:Xy,unstable_isNewReconciler:!1};function or(i,s){if(i&&i.defaultProps){s=H({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function Th(i,s,l,p){s=i.memoizedState,l=l(p,s),l=l==null?s:H({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Lu={isMounted:function(i){return(i=i._reactInternals)?Xn(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var p=mn(),A=Oi(i),O=Qr(p,A);O.payload=s,l!=null&&(O.callback=l),s=Ri(i,O,A),s!==null&&(lr(s,i,A,p),Ru(s,i,A))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var p=mn(),A=Oi(i),O=Qr(p,A);O.tag=1,O.payload=s,l!=null&&(O.callback=l),s=Ri(i,O,A),s!==null&&(lr(s,i,A,p),Ru(s,i,A))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=mn(),p=Oi(i),A=Qr(l,p);A.tag=2,s!=null&&(A.callback=s),s=Ri(i,A,p),s!==null&&(lr(s,i,p,l),Ru(s,i,p))}};function ev(i,s,l,p,A,O,F){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,O,F):s.prototype&&s.prototype.isPureReactComponent?!Na(l,p)||!Na(A,O):!0}function tv(i,s,l){var p=!1,A=bi,O=s.contextType;return typeof O=="object"&&O!==null?O=$n(O):(A=En(s)?To:rn.current,p=s.contextTypes,O=(p=p!=null)?Ts(i,A):bi),s=new s(l,O),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Lu,i.stateNode=s,s._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=A,i.__reactInternalMemoizedMaskedChildContext=O),s}function nv(i,s,l,p){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,p),s.state!==i&&Lu.enqueueReplaceState(s,s.state,null)}function Sh(i,s,l,p){var A=i.stateNode;A.props=l,A.state=i.memoizedState,A.refs={},uh(i);var O=s.contextType;typeof O=="object"&&O!==null?A.context=$n(O):(O=En(s)?To:rn.current,A.context=Ts(i,O)),A.state=i.memoizedState,O=s.getDerivedStateFromProps,typeof O=="function"&&(Th(i,s,O,l),A.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(s=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),s!==A.state&&Lu.enqueueReplaceState(A,A.state,null),ku(i,l,A,p),A.state=i.memoizedState),typeof A.componentDidMount=="function"&&(i.flags|=4194308)}function Ps(i,s){try{var l="",p=s;do l+=te(p),p=p.return;while(p);var A=l}catch(O){A=`
Error generating stack: `+O.message+`
`+O.stack}return{value:i,source:s,stack:A,digest:null}}function bh(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function Ah(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var Nb=typeof WeakMap=="function"?WeakMap:Map;function rv(i,s,l){l=Qr(-1,l),l.tag=3,l.payload={element:null};var p=s.value;return l.callback=function(){Bu||(Bu=!0,Fh=p),Ah(i,s)},l}function iv(i,s,l){l=Qr(-1,l),l.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var A=s.value;l.payload=function(){return p(A)},l.callback=function(){Ah(i,s)}}var O=i.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(l.callback=function(){Ah(i,s),typeof p!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var F=s.stack;this.componentDidCatch(s.value,{componentStack:F!==null?F:""})}),l}function ov(i,s,l){var p=i.pingCache;if(p===null){p=i.pingCache=new Nb;var A=new Set;p.set(s,A)}else A=p.get(s),A===void 0&&(A=new Set,p.set(s,A));A.has(l)||(A.add(l),i=Kb.bind(null,i,s,l),s.then(i,i))}function sv(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function av(i,s,l,p,A){return i.mode&1?(i.flags|=65536,i.lanes=A,i):(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Qr(-1,1),s.tag=2,Ri(l,s,1))),l.lanes|=1),i)}var Db=_.ReactCurrentOwner,wn=!1;function pn(i,s,l,p){s.child=i===null?Ry(s,null,l,p):Is(s,i.child,l,p)}function lv(i,s,l,p,A){l=l.render;var O=s.ref;return ks(s,A),p=gh(i,s,l,p,O,A),l=yh(),i!==null&&!wn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~A,Xr(i,s,A)):(Et&&l&&Zf(s),s.flags|=1,pn(i,s,p,A),s.child)}function uv(i,s,l,p,A){if(i===null){var O=l.type;return typeof O=="function"&&!Kh(O)&&O.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=O,cv(i,s,O,p,A)):(i=Gu(l.type,null,p,s,s.mode,A),i.ref=s.ref,i.return=s,s.child=i)}if(O=i.child,!(i.lanes&A)){var F=O.memoizedProps;if(l=l.compare,l=l!==null?l:Na,l(F,p)&&i.ref===s.ref)return Xr(i,s,A)}return s.flags|=1,i=Ni(O,p),i.ref=s.ref,i.return=s,s.child=i}function cv(i,s,l,p,A){if(i!==null){var O=i.memoizedProps;if(Na(O,p)&&i.ref===s.ref)if(wn=!1,s.pendingProps=p=O,(i.lanes&A)!==0)i.flags&131072&&(wn=!0);else return s.lanes=i.lanes,Xr(i,s,A)}return Ih(i,s,l,p,A)}function fv(i,s,l){var p=s.pendingProps,A=p.children,O=i!==null?i.memoizedState:null;if(p.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(xs,Dn),Dn|=l;else{if(!(l&1073741824))return i=O!==null?O.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,pt(xs,Dn),Dn|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=O!==null?O.baseLanes:l,pt(xs,Dn),Dn|=p}else O!==null?(p=O.baseLanes|l,s.memoizedState=null):p=l,pt(xs,Dn),Dn|=p;return pn(i,s,A,l),s.child}function hv(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Ih(i,s,l,p,A){var O=En(l)?To:rn.current;return O=Ts(s,O),ks(s,A),l=gh(i,s,l,p,O,A),p=yh(),i!==null&&!wn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~A,Xr(i,s,A)):(Et&&p&&Zf(s),s.flags|=1,pn(i,s,l,A),s.child)}function dv(i,s,l,p,A){if(En(l)){var O=!0;_u(s)}else O=!1;if(ks(s,A),s.stateNode===null)ju(i,s),tv(s,l,p),Sh(s,l,p,A),p=!0;else if(i===null){var F=s.stateNode,Q=s.memoizedProps;F.props=Q;var ee=F.context,ce=l.contextType;typeof ce=="object"&&ce!==null?ce=$n(ce):(ce=En(l)?To:rn.current,ce=Ts(s,ce));var _e=l.getDerivedStateFromProps,we=typeof _e=="function"||typeof F.getSnapshotBeforeUpdate=="function";we||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Q!==p||ee!==ce)&&nv(s,F,p,ce),Ii=!1;var ve=s.memoizedState;F.state=ve,ku(s,p,F,A),ee=s.memoizedState,Q!==p||ve!==ee||_n.current||Ii?(typeof _e=="function"&&(Th(s,l,_e,p),ee=s.memoizedState),(Q=Ii||ev(s,l,Q,p,ve,ee,ce))?(we||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(s.flags|=4194308)):(typeof F.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=ee),F.props=p,F.state=ee,F.context=ce,p=Q):(typeof F.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{F=s.stateNode,Cy(i,s),Q=s.memoizedProps,ce=s.type===s.elementType?Q:or(s.type,Q),F.props=ce,we=s.pendingProps,ve=F.context,ee=l.contextType,typeof ee=="object"&&ee!==null?ee=$n(ee):(ee=En(l)?To:rn.current,ee=Ts(s,ee));var Re=l.getDerivedStateFromProps;(_e=typeof Re=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Q!==we||ve!==ee)&&nv(s,F,p,ee),Ii=!1,ve=s.memoizedState,F.state=ve,ku(s,p,F,A);var Pe=s.memoizedState;Q!==we||ve!==Pe||_n.current||Ii?(typeof Re=="function"&&(Th(s,l,Re,p),Pe=s.memoizedState),(ce=Ii||ev(s,l,ce,p,ve,Pe,ee)||!1)?(_e||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(p,Pe,ee),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(p,Pe,ee)),typeof F.componentDidUpdate=="function"&&(s.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof F.componentDidUpdate!="function"||Q===i.memoizedProps&&ve===i.memoizedState||(s.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Q===i.memoizedProps&&ve===i.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=Pe),F.props=p,F.state=Pe,F.context=ee,p=ce):(typeof F.componentDidUpdate!="function"||Q===i.memoizedProps&&ve===i.memoizedState||(s.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Q===i.memoizedProps&&ve===i.memoizedState||(s.flags|=1024),p=!1)}return Rh(i,s,l,p,O,A)}function Rh(i,s,l,p,A,O){hv(i,s);var F=(s.flags&128)!==0;if(!p&&!F)return A&&vy(s,l,!1),Xr(i,s,O);p=s.stateNode,Db.current=s;var Q=F&&typeof l.getDerivedStateFromError!="function"?null:p.render();return s.flags|=1,i!==null&&F?(s.child=Is(s,i.child,null,O),s.child=Is(s,null,Q,O)):pn(i,s,Q,O),s.memoizedState=p.state,A&&vy(s,l,!0),s.child}function pv(i){var s=i.stateNode;s.pendingContext?gy(i,s.pendingContext,s.pendingContext!==s.context):s.context&&gy(i,s.context,!1),ch(i,s.containerInfo)}function mv(i,s,l,p,A){return As(),rh(A),s.flags|=256,pn(i,s,l,p),s.child}var kh={dehydrated:null,treeContext:null,retryLane:0};function Ch(i){return{baseLanes:i,cachePool:null,transitions:null}}function gv(i,s,l){var p=s.pendingProps,A=Tt.current,O=!1,F=(s.flags&128)!==0,Q;if((Q=F)||(Q=i!==null&&i.memoizedState===null?!1:(A&2)!==0),Q?(O=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(A|=1),pt(Tt,A&1),i===null)return nh(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(F=p.children,i=p.fallback,O?(p=s.mode,O=s.child,F={mode:"hidden",children:F},!(p&1)&&O!==null?(O.childLanes=0,O.pendingProps=F):O=Qu(F,p,0,null),i=xo(i,p,l,null),O.return=s,i.return=s,O.sibling=i,s.child=O,s.child.memoizedState=Ch(l),s.memoizedState=kh,i):Ph(s,F));if(A=i.memoizedState,A!==null&&(Q=A.dehydrated,Q!==null))return Lb(i,s,F,p,Q,A,l);if(O){O=p.fallback,F=s.mode,A=i.child,Q=A.sibling;var ee={mode:"hidden",children:p.children};return!(F&1)&&s.child!==A?(p=s.child,p.childLanes=0,p.pendingProps=ee,s.deletions=null):(p=Ni(A,ee),p.subtreeFlags=A.subtreeFlags&14680064),Q!==null?O=Ni(Q,O):(O=xo(O,F,l,null),O.flags|=2),O.return=s,p.return=s,p.sibling=O,s.child=p,p=O,O=s.child,F=i.child.memoizedState,F=F===null?Ch(l):{baseLanes:F.baseLanes|l,cachePool:null,transitions:F.transitions},O.memoizedState=F,O.childLanes=i.childLanes&~l,s.memoizedState=kh,p}return O=i.child,i=O.sibling,p=Ni(O,{mode:"visible",children:p.children}),!(s.mode&1)&&(p.lanes=l),p.return=s,p.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=p,s.memoizedState=null,p}function Ph(i,s){return s=Qu({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Mu(i,s,l,p){return p!==null&&rh(p),Is(s,i.child,null,l),i=Ph(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Lb(i,s,l,p,A,O,F){if(l)return s.flags&256?(s.flags&=-257,p=bh(Error(t(422))),Mu(i,s,F,p)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(O=p.fallback,A=s.mode,p=Qu({mode:"visible",children:p.children},A,0,null),O=xo(O,A,F,null),O.flags|=2,p.return=s,O.return=s,p.sibling=O,s.child=p,s.mode&1&&Is(s,i.child,null,F),s.child.memoizedState=Ch(F),s.memoizedState=kh,O);if(!(s.mode&1))return Mu(i,s,F,null);if(A.data==="$!"){if(p=A.nextSibling&&A.nextSibling.dataset,p)var Q=p.dgst;return p=Q,O=Error(t(419)),p=bh(O,p,void 0),Mu(i,s,F,p)}if(Q=(F&i.childLanes)!==0,wn||Q){if(p=zt,p!==null){switch(F&-F){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=A&(p.suspendedLanes|F)?0:A,A!==0&&A!==O.retryLane&&(O.retryLane=A,Gr(i,A),lr(p,i,A,-1))}return Wh(),p=bh(Error(t(421))),Mu(i,s,F,p)}return A.data==="$?"?(s.flags|=128,s.child=i.child,s=Gb.bind(null,i),A._reactRetry=s,null):(i=O.treeContext,Nn=Ti(A.nextSibling),xn=s,Et=!0,ir=null,i!==null&&(Bn[zn++]=Wr,Bn[zn++]=Kr,Bn[zn++]=So,Wr=i.id,Kr=i.overflow,So=s),s=Ph(s,p.children),s.flags|=4096,s)}function yv(i,s,l){i.lanes|=s;var p=i.alternate;p!==null&&(p.lanes|=s),ah(i.return,s,l)}function Oh(i,s,l,p,A){var O=i.memoizedState;O===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:l,tailMode:A}:(O.isBackwards=s,O.rendering=null,O.renderingStartTime=0,O.last=p,O.tail=l,O.tailMode=A)}function vv(i,s,l){var p=s.pendingProps,A=p.revealOrder,O=p.tail;if(pn(i,s,p.children,l),p=Tt.current,p&2)p=p&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&yv(i,l,s);else if(i.tag===19)yv(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(pt(Tt,p),!(s.mode&1))s.memoizedState=null;else switch(A){case"forwards":for(l=s.child,A=null;l!==null;)i=l.alternate,i!==null&&Cu(i)===null&&(A=l),l=l.sibling;l=A,l===null?(A=s.child,s.child=null):(A=l.sibling,l.sibling=null),Oh(s,!1,A,l,O);break;case"backwards":for(l=null,A=s.child,s.child=null;A!==null;){if(i=A.alternate,i!==null&&Cu(i)===null){s.child=A;break}i=A.sibling,A.sibling=l,l=A,A=i}Oh(s,!0,l,null,O);break;case"together":Oh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ju(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Xr(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),ko|=s.lanes,!(l&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=Ni(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Ni(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Mb(i,s,l){switch(s.tag){case 3:pv(s),As();break;case 5:xy(s);break;case 1:En(s.type)&&_u(s);break;case 4:ch(s,s.stateNode.containerInfo);break;case 10:var p=s.type._context,A=s.memoizedProps.value;pt(Au,p._currentValue),p._currentValue=A;break;case 13:if(p=s.memoizedState,p!==null)return p.dehydrated!==null?(pt(Tt,Tt.current&1),s.flags|=128,null):l&s.child.childLanes?gv(i,s,l):(pt(Tt,Tt.current&1),i=Xr(i,s,l),i!==null?i.sibling:null);pt(Tt,Tt.current&1);break;case 19:if(p=(l&s.childLanes)!==0,i.flags&128){if(p)return vv(i,s,l);s.flags|=128}if(A=s.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),pt(Tt,Tt.current),p)break;return null;case 22:case 23:return s.lanes=0,fv(i,s,l)}return Xr(i,s,l)}var _v,xh,Ev,wv;_v=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},xh=function(){},Ev=function(i,s,l,p){var A=i.memoizedProps;if(A!==p){i=s.stateNode,Io(Er.current);var O=null;switch(l){case"input":A=We(i,A),p=We(i,p),O=[];break;case"select":A=H({},A,{value:void 0}),p=H({},p,{value:void 0}),O=[];break;case"textarea":A=ye(i,A),p=ye(i,p),O=[];break;default:typeof A.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=gu)}pa(l,p);var F;l=null;for(ce in A)if(!p.hasOwnProperty(ce)&&A.hasOwnProperty(ce)&&A[ce]!=null)if(ce==="style"){var Q=A[ce];for(F in Q)Q.hasOwnProperty(F)&&(l||(l={}),l[F]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(o.hasOwnProperty(ce)?O||(O=[]):(O=O||[]).push(ce,null));for(ce in p){var ee=p[ce];if(Q=A!=null?A[ce]:void 0,p.hasOwnProperty(ce)&&ee!==Q&&(ee!=null||Q!=null))if(ce==="style")if(Q){for(F in Q)!Q.hasOwnProperty(F)||ee&&ee.hasOwnProperty(F)||(l||(l={}),l[F]="");for(F in ee)ee.hasOwnProperty(F)&&Q[F]!==ee[F]&&(l||(l={}),l[F]=ee[F])}else l||(O||(O=[]),O.push(ce,l)),l=ee;else ce==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,Q=Q?Q.__html:void 0,ee!=null&&Q!==ee&&(O=O||[]).push(ce,ee)):ce==="children"?typeof ee!="string"&&typeof ee!="number"||(O=O||[]).push(ce,""+ee):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(o.hasOwnProperty(ce)?(ee!=null&&ce==="onScroll"&&gt("scroll",i),O||Q===ee||(O=[])):(O=O||[]).push(ce,ee))}l&&(O=O||[]).push("style",l);var ce=O;(s.updateQueue=ce)&&(s.flags|=4)}},wv=function(i,s,l,p){l!==p&&(s.flags|=4)};function Ga(i,s){if(!Et)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function sn(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,p=0;if(s)for(var A=i.child;A!==null;)l|=A.lanes|A.childLanes,p|=A.subtreeFlags&14680064,p|=A.flags&14680064,A.return=i,A=A.sibling;else for(A=i.child;A!==null;)l|=A.lanes|A.childLanes,p|=A.subtreeFlags,p|=A.flags,A.return=i,A=A.sibling;return i.subtreeFlags|=p,i.childLanes=l,s}function jb(i,s,l){var p=s.pendingProps;switch(eh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(s),null;case 1:return En(s.type)&&vu(),sn(s),null;case 3:return p=s.stateNode,Cs(),yt(_n),yt(rn),dh(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(Su(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,ir!==null&&(zh(ir),ir=null))),xh(i,s),sn(s),null;case 5:fh(s);var A=Io(za.current);if(l=s.type,i!==null&&s.stateNode!=null)Ev(i,s,l,p,A),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!p){if(s.stateNode===null)throw Error(t(166));return sn(s),null}if(i=Io(Er.current),Su(s)){p=s.stateNode,l=s.type;var O=s.memoizedProps;switch(p[_r]=s,p[Va]=O,i=(s.mode&1)!==0,l){case"dialog":gt("cancel",p),gt("close",p);break;case"iframe":case"object":case"embed":gt("load",p);break;case"video":case"audio":for(A=0;A<La.length;A++)gt(La[A],p);break;case"source":gt("error",p);break;case"img":case"image":case"link":gt("error",p),gt("load",p);break;case"details":gt("toggle",p);break;case"input":Xe(p,O),gt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!O.multiple},gt("invalid",p);break;case"textarea":Be(p,O),gt("invalid",p)}pa(l,O),A=null;for(var F in O)if(O.hasOwnProperty(F)){var Q=O[F];F==="children"?typeof Q=="string"?p.textContent!==Q&&(O.suppressHydrationWarning!==!0&&mu(p.textContent,Q,i),A=["children",Q]):typeof Q=="number"&&p.textContent!==""+Q&&(O.suppressHydrationWarning!==!0&&mu(p.textContent,Q,i),A=["children",""+Q]):o.hasOwnProperty(F)&&Q!=null&&F==="onScroll"&&gt("scroll",p)}switch(l){case"input":Ie(p),he(p,O,!0);break;case"textarea":Ie(p),Ke(p);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(p.onclick=gu)}p=A,s.updateQueue=p,p!==null&&(s.flags|=4)}else{F=A.nodeType===9?A:A.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=st(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=F.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=F.createElement(l,{is:p.is}):(i=F.createElement(l),l==="select"&&(F=i,p.multiple?F.multiple=!0:p.size&&(F.size=p.size))):i=F.createElementNS(i,l),i[_r]=s,i[Va]=p,_v(i,s,!1,!1),s.stateNode=i;e:{switch(F=ma(l,p),l){case"dialog":gt("cancel",i),gt("close",i),A=p;break;case"iframe":case"object":case"embed":gt("load",i),A=p;break;case"video":case"audio":for(A=0;A<La.length;A++)gt(La[A],i);A=p;break;case"source":gt("error",i),A=p;break;case"img":case"image":case"link":gt("error",i),gt("load",i),A=p;break;case"details":gt("toggle",i),A=p;break;case"input":Xe(i,p),A=We(i,p),gt("invalid",i);break;case"option":A=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},A=H({},p,{value:void 0}),gt("invalid",i);break;case"textarea":Be(i,p),A=ye(i,p),gt("invalid",i);break;default:A=p}pa(l,A),Q=A;for(O in Q)if(Q.hasOwnProperty(O)){var ee=Q[O];O==="style"?ha(i,ee):O==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,ee!=null&&oo(i,ee)):O==="children"?typeof ee=="string"?(l!=="textarea"||ee!=="")&&ct(i,ee):typeof ee=="number"&&ct(i,""+ee):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(o.hasOwnProperty(O)?ee!=null&&O==="onScroll"&&gt("scroll",i):ee!=null&&k(i,O,ee,F))}switch(l){case"input":Ie(i),he(i,p,!1);break;case"textarea":Ie(i),Ke(i);break;case"option":p.value!=null&&i.setAttribute("value",""+oe(p.value));break;case"select":i.multiple=!!p.multiple,O=p.value,O!=null?Ae(i,!!p.multiple,O,!1):p.defaultValue!=null&&Ae(i,!!p.multiple,p.defaultValue,!0);break;default:typeof A.onClick=="function"&&(i.onclick=gu)}switch(l){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return sn(s),null;case 6:if(i&&s.stateNode!=null)wv(i,s,i.memoizedProps,p);else{if(typeof p!="string"&&s.stateNode===null)throw Error(t(166));if(l=Io(za.current),Io(Er.current),Su(s)){if(p=s.stateNode,l=s.memoizedProps,p[_r]=s,(O=p.nodeValue!==l)&&(i=xn,i!==null))switch(i.tag){case 3:mu(p.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&mu(p.nodeValue,l,(i.mode&1)!==0)}O&&(s.flags|=4)}else p=(l.nodeType===9?l:l.ownerDocument).createTextNode(p),p[_r]=s,s.stateNode=p}return sn(s),null;case 13:if(yt(Tt),p=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Et&&Nn!==null&&s.mode&1&&!(s.flags&128))by(),As(),s.flags|=98560,O=!1;else if(O=Su(s),p!==null&&p.dehydrated!==null){if(i===null){if(!O)throw Error(t(318));if(O=s.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(t(317));O[_r]=s}else As(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;sn(s),O=!1}else ir!==null&&(zh(ir),ir=null),O=!0;if(!O)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(s.child.flags|=8192,s.mode&1&&(i===null||Tt.current&1?jt===0&&(jt=3):Wh())),s.updateQueue!==null&&(s.flags|=4),sn(s),null);case 4:return Cs(),xh(i,s),i===null&&Ma(s.stateNode.containerInfo),sn(s),null;case 10:return sh(s.type._context),sn(s),null;case 17:return En(s.type)&&vu(),sn(s),null;case 19:if(yt(Tt),O=s.memoizedState,O===null)return sn(s),null;if(p=(s.flags&128)!==0,F=O.rendering,F===null)if(p)Ga(O,!1);else{if(jt!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(F=Cu(i),F!==null){for(s.flags|=128,Ga(O,!1),p=F.updateQueue,p!==null&&(s.updateQueue=p,s.flags|=4),s.subtreeFlags=0,p=l,l=s.child;l!==null;)O=l,i=p,O.flags&=14680066,F=O.alternate,F===null?(O.childLanes=0,O.lanes=i,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=F.childLanes,O.lanes=F.lanes,O.child=F.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=F.memoizedProps,O.memoizedState=F.memoizedState,O.updateQueue=F.updateQueue,O.type=F.type,i=F.dependencies,O.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return pt(Tt,Tt.current&1|2),s.child}i=i.sibling}O.tail!==null&&dt()>Ns&&(s.flags|=128,p=!0,Ga(O,!1),s.lanes=4194304)}else{if(!p)if(i=Cu(F),i!==null){if(s.flags|=128,p=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Ga(O,!0),O.tail===null&&O.tailMode==="hidden"&&!F.alternate&&!Et)return sn(s),null}else 2*dt()-O.renderingStartTime>Ns&&l!==1073741824&&(s.flags|=128,p=!0,Ga(O,!1),s.lanes=4194304);O.isBackwards?(F.sibling=s.child,s.child=F):(l=O.last,l!==null?l.sibling=F:s.child=F,O.last=F)}return O.tail!==null?(s=O.tail,O.rendering=s,O.tail=s.sibling,O.renderingStartTime=dt(),s.sibling=null,l=Tt.current,pt(Tt,p?l&1|2:l&1),s):(sn(s),null);case 22:case 23:return Hh(),p=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(s.flags|=8192),p&&s.mode&1?Dn&1073741824&&(sn(s),s.subtreeFlags&6&&(s.flags|=8192)):sn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function Vb(i,s){switch(eh(s),s.tag){case 1:return En(s.type)&&vu(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Cs(),yt(_n),yt(rn),dh(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return fh(s),null;case 13:if(yt(Tt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));As()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return yt(Tt),null;case 4:return Cs(),null;case 10:return sh(s.type._context),null;case 22:case 23:return Hh(),null;case 24:return null;default:return null}}var Vu=!1,an=!1,Ub=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Os(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(p){Rt(i,s,p)}else l.current=null}function Nh(i,s,l){try{l()}catch(p){Rt(i,s,p)}}var Tv=!1;function Fb(i,s){if(Hf=_i,i=ey(),jf(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var p=l.getSelection&&l.getSelection();if(p&&p.rangeCount!==0){l=p.anchorNode;var A=p.anchorOffset,O=p.focusNode;p=p.focusOffset;try{l.nodeType,O.nodeType}catch{l=null;break e}var F=0,Q=-1,ee=-1,ce=0,_e=0,we=i,ve=null;t:for(;;){for(var Re;we!==l||A!==0&&we.nodeType!==3||(Q=F+A),we!==O||p!==0&&we.nodeType!==3||(ee=F+p),we.nodeType===3&&(F+=we.nodeValue.length),(Re=we.firstChild)!==null;)ve=we,we=Re;for(;;){if(we===i)break t;if(ve===l&&++ce===A&&(Q=F),ve===O&&++_e===p&&(ee=F),(Re=we.nextSibling)!==null)break;we=ve,ve=we.parentNode}we=Re}l=Q===-1||ee===-1?null:{start:Q,end:ee}}else l=null}l=l||{start:0,end:0}}else l=null;for(Wf={focusedElem:i,selectionRange:l},_i=!1,Ce=s;Ce!==null;)if(s=Ce,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Ce=i;else for(;Ce!==null;){s=Ce;try{var Pe=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Oe=Pe.memoizedProps,Ct=Pe.memoizedState,le=s.stateNode,re=le.getSnapshotBeforeUpdate(s.elementType===s.type?Oe:or(s.type,Oe),Ct);le.__reactInternalSnapshotBeforeUpdate=re}break;case 3:var ue=s.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Te){Rt(s,s.return,Te)}if(i=s.sibling,i!==null){i.return=s.return,Ce=i;break}Ce=s.return}return Pe=Tv,Tv=!1,Pe}function Qa(i,s,l){var p=s.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var A=p=p.next;do{if((A.tag&i)===i){var O=A.destroy;A.destroy=void 0,O!==void 0&&Nh(s,l,O)}A=A.next}while(A!==p)}}function Uu(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var p=l.create;l.destroy=p()}l=l.next}while(l!==s)}}function Dh(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function Sv(i){var s=i.alternate;s!==null&&(i.alternate=null,Sv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[_r],delete s[Va],delete s[Xf],delete s[Tb],delete s[Sb])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function bv(i){return i.tag===5||i.tag===3||i.tag===4}function Av(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||bv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Lh(i,s,l){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=gu));else if(p!==4&&(i=i.child,i!==null))for(Lh(i,s,l),i=i.sibling;i!==null;)Lh(i,s,l),i=i.sibling}function Mh(i,s,l){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(Mh(i,s,l),i=i.sibling;i!==null;)Mh(i,s,l),i=i.sibling}var Xt=null,sr=!1;function ki(i,s,l){for(l=l.child;l!==null;)Iv(i,s,l),l=l.sibling}function Iv(i,s,l){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(po,l)}catch{}switch(l.tag){case 5:an||Os(l,s);case 6:var p=Xt,A=sr;Xt=null,ki(i,s,l),Xt=p,sr=A,Xt!==null&&(sr?(i=Xt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Xt.removeChild(l.stateNode));break;case 18:Xt!==null&&(sr?(i=Xt,l=l.stateNode,i.nodeType===8?Qf(i.parentNode,l):i.nodeType===1&&Qf(i,l),tr(i)):Qf(Xt,l.stateNode));break;case 4:p=Xt,A=sr,Xt=l.stateNode.containerInfo,sr=!0,ki(i,s,l),Xt=p,sr=A;break;case 0:case 11:case 14:case 15:if(!an&&(p=l.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){A=p=p.next;do{var O=A,F=O.destroy;O=O.tag,F!==void 0&&(O&2||O&4)&&Nh(l,s,F),A=A.next}while(A!==p)}ki(i,s,l);break;case 1:if(!an&&(Os(l,s),p=l.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=l.memoizedProps,p.state=l.memoizedState,p.componentWillUnmount()}catch(Q){Rt(l,s,Q)}ki(i,s,l);break;case 21:ki(i,s,l);break;case 22:l.mode&1?(an=(p=an)||l.memoizedState!==null,ki(i,s,l),an=p):ki(i,s,l);break;default:ki(i,s,l)}}function Rv(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new Ub),s.forEach(function(p){var A=Qb.bind(null,i,p);l.has(p)||(l.add(p),p.then(A,A))})}}function ar(i,s){var l=s.deletions;if(l!==null)for(var p=0;p<l.length;p++){var A=l[p];try{var O=i,F=s,Q=F;e:for(;Q!==null;){switch(Q.tag){case 5:Xt=Q.stateNode,sr=!1;break e;case 3:Xt=Q.stateNode.containerInfo,sr=!0;break e;case 4:Xt=Q.stateNode.containerInfo,sr=!0;break e}Q=Q.return}if(Xt===null)throw Error(t(160));Iv(O,F,A),Xt=null,sr=!1;var ee=A.alternate;ee!==null&&(ee.return=null),A.return=null}catch(ce){Rt(A,s,ce)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)kv(s,i),s=s.sibling}function kv(i,s){var l=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ar(s,i),Tr(i),p&4){try{Qa(3,i,i.return),Uu(3,i)}catch(Oe){Rt(i,i.return,Oe)}try{Qa(5,i,i.return)}catch(Oe){Rt(i,i.return,Oe)}}break;case 1:ar(s,i),Tr(i),p&512&&l!==null&&Os(l,l.return);break;case 5:if(ar(s,i),Tr(i),p&512&&l!==null&&Os(l,l.return),i.flags&32){var A=i.stateNode;try{ct(A,"")}catch(Oe){Rt(i,i.return,Oe)}}if(p&4&&(A=i.stateNode,A!=null)){var O=i.memoizedProps,F=l!==null?l.memoizedProps:O,Q=i.type,ee=i.updateQueue;if(i.updateQueue=null,ee!==null)try{Q==="input"&&O.type==="radio"&&O.name!=null&&Ot(A,O),ma(Q,F);var ce=ma(Q,O);for(F=0;F<ee.length;F+=2){var _e=ee[F],we=ee[F+1];_e==="style"?ha(A,we):_e==="dangerouslySetInnerHTML"?oo(A,we):_e==="children"?ct(A,we):k(A,_e,we,ce)}switch(Q){case"input":mt(A,O);break;case"textarea":ze(A,O);break;case"select":var ve=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!O.multiple;var Re=O.value;Re!=null?Ae(A,!!O.multiple,Re,!1):ve!==!!O.multiple&&(O.defaultValue!=null?Ae(A,!!O.multiple,O.defaultValue,!0):Ae(A,!!O.multiple,O.multiple?[]:"",!1))}A[Va]=O}catch(Oe){Rt(i,i.return,Oe)}}break;case 6:if(ar(s,i),Tr(i),p&4){if(i.stateNode===null)throw Error(t(162));A=i.stateNode,O=i.memoizedProps;try{A.nodeValue=O}catch(Oe){Rt(i,i.return,Oe)}}break;case 3:if(ar(s,i),Tr(i),p&4&&l!==null&&l.memoizedState.isDehydrated)try{tr(s.containerInfo)}catch(Oe){Rt(i,i.return,Oe)}break;case 4:ar(s,i),Tr(i);break;case 13:ar(s,i),Tr(i),A=i.child,A.flags&8192&&(O=A.memoizedState!==null,A.stateNode.isHidden=O,!O||A.alternate!==null&&A.alternate.memoizedState!==null||(Uh=dt())),p&4&&Rv(i);break;case 22:if(_e=l!==null&&l.memoizedState!==null,i.mode&1?(an=(ce=an)||_e,ar(s,i),an=ce):ar(s,i),Tr(i),p&8192){if(ce=i.memoizedState!==null,(i.stateNode.isHidden=ce)&&!_e&&i.mode&1)for(Ce=i,_e=i.child;_e!==null;){for(we=Ce=_e;Ce!==null;){switch(ve=Ce,Re=ve.child,ve.tag){case 0:case 11:case 14:case 15:Qa(4,ve,ve.return);break;case 1:Os(ve,ve.return);var Pe=ve.stateNode;if(typeof Pe.componentWillUnmount=="function"){p=ve,l=ve.return;try{s=p,Pe.props=s.memoizedProps,Pe.state=s.memoizedState,Pe.componentWillUnmount()}catch(Oe){Rt(p,l,Oe)}}break;case 5:Os(ve,ve.return);break;case 22:if(ve.memoizedState!==null){Ov(we);continue}}Re!==null?(Re.return=ve,Ce=Re):Ov(we)}_e=_e.sibling}e:for(_e=null,we=i;;){if(we.tag===5){if(_e===null){_e=we;try{A=we.stateNode,ce?(O=A.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(Q=we.stateNode,ee=we.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null,Q.style.display=fa("display",F))}catch(Oe){Rt(i,i.return,Oe)}}}else if(we.tag===6){if(_e===null)try{we.stateNode.nodeValue=ce?"":we.memoizedProps}catch(Oe){Rt(i,i.return,Oe)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===i)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===i)break e;for(;we.sibling===null;){if(we.return===null||we.return===i)break e;_e===we&&(_e=null),we=we.return}_e===we&&(_e=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:ar(s,i),Tr(i),p&4&&Rv(i);break;case 21:break;default:ar(s,i),Tr(i)}}function Tr(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(bv(l)){var p=l;break e}l=l.return}throw Error(t(160))}switch(p.tag){case 5:var A=p.stateNode;p.flags&32&&(ct(A,""),p.flags&=-33);var O=Av(i);Mh(i,O,A);break;case 3:case 4:var F=p.stateNode.containerInfo,Q=Av(i);Lh(i,Q,F);break;default:throw Error(t(161))}}catch(ee){Rt(i,i.return,ee)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function qb(i,s,l){Ce=i,Cv(i)}function Cv(i,s,l){for(var p=(i.mode&1)!==0;Ce!==null;){var A=Ce,O=A.child;if(A.tag===22&&p){var F=A.memoizedState!==null||Vu;if(!F){var Q=A.alternate,ee=Q!==null&&Q.memoizedState!==null||an;Q=Vu;var ce=an;if(Vu=F,(an=ee)&&!ce)for(Ce=A;Ce!==null;)F=Ce,ee=F.child,F.tag===22&&F.memoizedState!==null?xv(A):ee!==null?(ee.return=F,Ce=ee):xv(A);for(;O!==null;)Ce=O,Cv(O),O=O.sibling;Ce=A,Vu=Q,an=ce}Pv(i)}else A.subtreeFlags&8772&&O!==null?(O.return=A,Ce=O):Pv(i)}}function Pv(i){for(;Ce!==null;){var s=Ce;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:an||Uu(5,s);break;case 1:var p=s.stateNode;if(s.flags&4&&!an)if(l===null)p.componentDidMount();else{var A=s.elementType===s.type?l.memoizedProps:or(s.type,l.memoizedProps);p.componentDidUpdate(A,l.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var O=s.updateQueue;O!==null&&Oy(s,O,p);break;case 3:var F=s.updateQueue;if(F!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Oy(s,F,l)}break;case 5:var Q=s.stateNode;if(l===null&&s.flags&4){l=Q;var ee=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":ee.autoFocus&&l.focus();break;case"img":ee.src&&(l.src=ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var ce=s.alternate;if(ce!==null){var _e=ce.memoizedState;if(_e!==null){var we=_e.dehydrated;we!==null&&tr(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}an||s.flags&512&&Dh(s)}catch(ve){Rt(s,s.return,ve)}}if(s===i){Ce=null;break}if(l=s.sibling,l!==null){l.return=s.return,Ce=l;break}Ce=s.return}}function Ov(i){for(;Ce!==null;){var s=Ce;if(s===i){Ce=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Ce=l;break}Ce=s.return}}function xv(i){for(;Ce!==null;){var s=Ce;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Uu(4,s)}catch(ee){Rt(s,l,ee)}break;case 1:var p=s.stateNode;if(typeof p.componentDidMount=="function"){var A=s.return;try{p.componentDidMount()}catch(ee){Rt(s,A,ee)}}var O=s.return;try{Dh(s)}catch(ee){Rt(s,O,ee)}break;case 5:var F=s.return;try{Dh(s)}catch(ee){Rt(s,F,ee)}}}catch(ee){Rt(s,s.return,ee)}if(s===i){Ce=null;break}var Q=s.sibling;if(Q!==null){Q.return=s.return,Ce=Q;break}Ce=s.return}}var Bb=Math.ceil,Fu=_.ReactCurrentDispatcher,jh=_.ReactCurrentOwner,Wn=_.ReactCurrentBatchConfig,it=0,zt=null,Nt=null,Yt=0,Dn=0,xs=Si(0),jt=0,Xa=null,ko=0,qu=0,Vh=0,Ya=null,Tn=null,Uh=0,Ns=1/0,Yr=null,Bu=!1,Fh=null,Ci=null,zu=!1,Pi=null,$u=0,Ja=0,qh=null,Hu=-1,Wu=0;function mn(){return it&6?dt():Hu!==-1?Hu:Hu=dt()}function Oi(i){return i.mode&1?it&2&&Yt!==0?Yt&-Yt:Ab.transition!==null?(Wu===0&&(Wu=go()),Wu):(i=et,i!==0||(i=window.event,i=i===void 0?16:Ia(i.type)),i):1}function lr(i,s,l,p){if(50<Ja)throw Ja=0,qh=null,Error(t(185));mi(i,l,p),(!(it&2)||i!==zt)&&(i===zt&&(!(it&2)&&(qu|=l),jt===4&&xi(i,Yt)),Sn(i,p),l===1&&it===0&&!(s.mode&1)&&(Ns=dt()+500,Eu&&Ai()))}function Sn(i,s){var l=i.callbackNode;Ur(i,s);var p=mo(i,i===zt?Yt:0);if(p===0)l!==null&&wa(l),i.callbackNode=null,i.callbackPriority=0;else if(s=p&-p,i.callbackPriority!==s){if(l!=null&&wa(l),s===1)i.tag===0?bb(Dv.bind(null,i)):_y(Dv.bind(null,i)),Eb(function(){!(it&6)&&Ai()}),l=null;else{switch(yi(p)){case 1:l=ho;break;case 4:l=hi;break;case 16:l=Un;break;case 536870912:l=Wl;break;default:l=Un}l=Bv(l,Nv.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function Nv(i,s){if(Hu=-1,Wu=0,it&6)throw Error(t(327));var l=i.callbackNode;if(Ds()&&i.callbackNode!==l)return null;var p=mo(i,i===zt?Yt:0);if(p===0)return null;if(p&30||p&i.expiredLanes||s)s=Ku(i,p);else{s=p;var A=it;it|=2;var O=Mv();(zt!==i||Yt!==s)&&(Yr=null,Ns=dt()+500,Po(i,s));do try{Hb();break}catch(Q){Lv(i,Q)}while(!0);oh(),Fu.current=O,it=A,Nt!==null?s=0:(zt=null,Yt=0,s=jt)}if(s!==0){if(s===2&&(A=Cn(i),A!==0&&(p=A,s=Bh(i,A))),s===1)throw l=Xa,Po(i,0),xi(i,p),Sn(i,dt()),l;if(s===6)xi(i,p);else{if(A=i.current.alternate,!(p&30)&&!zb(A)&&(s=Ku(i,p),s===2&&(O=Cn(i),O!==0&&(p=O,s=Bh(i,O))),s===1))throw l=Xa,Po(i,0),xi(i,p),Sn(i,dt()),l;switch(i.finishedWork=A,i.finishedLanes=p,s){case 0:case 1:throw Error(t(345));case 2:Oo(i,Tn,Yr);break;case 3:if(xi(i,p),(p&130023424)===p&&(s=Uh+500-dt(),10<s)){if(mo(i,0)!==0)break;if(A=i.suspendedLanes,(A&p)!==p){mn(),i.pingedLanes|=i.suspendedLanes&A;break}i.timeoutHandle=Gf(Oo.bind(null,i,Tn,Yr),s);break}Oo(i,Tn,Yr);break;case 4:if(xi(i,p),(p&4194240)===p)break;for(s=i.eventTimes,A=-1;0<p;){var F=31-hn(p);O=1<<F,F=s[F],F>A&&(A=F),p&=~O}if(p=A,p=dt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*Bb(p/1960))-p,10<p){i.timeoutHandle=Gf(Oo.bind(null,i,Tn,Yr),p);break}Oo(i,Tn,Yr);break;case 5:Oo(i,Tn,Yr);break;default:throw Error(t(329))}}}return Sn(i,dt()),i.callbackNode===l?Nv.bind(null,i):null}function Bh(i,s){var l=Ya;return i.current.memoizedState.isDehydrated&&(Po(i,s).flags|=256),i=Ku(i,s),i!==2&&(s=Tn,Tn=l,s!==null&&zh(s)),i}function zh(i){Tn===null?Tn=i:Tn.push.apply(Tn,i)}function zb(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var p=0;p<l.length;p++){var A=l[p],O=A.getSnapshot;A=A.value;try{if(!rr(O(),A))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function xi(i,s){for(s&=~Vh,s&=~qu,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-hn(s),p=1<<l;i[l]=-1,s&=~p}}function Dv(i){if(it&6)throw Error(t(327));Ds();var s=mo(i,0);if(!(s&1))return Sn(i,dt()),null;var l=Ku(i,s);if(i.tag!==0&&l===2){var p=Cn(i);p!==0&&(s=p,l=Bh(i,p))}if(l===1)throw l=Xa,Po(i,0),xi(i,s),Sn(i,dt()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Oo(i,Tn,Yr),Sn(i,dt()),null}function $h(i,s){var l=it;it|=1;try{return i(s)}finally{it=l,it===0&&(Ns=dt()+500,Eu&&Ai())}}function Co(i){Pi!==null&&Pi.tag===0&&!(it&6)&&Ds();var s=it;it|=1;var l=Wn.transition,p=et;try{if(Wn.transition=null,et=1,i)return i()}finally{et=p,Wn.transition=l,it=s,!(it&6)&&Ai()}}function Hh(){Dn=xs.current,yt(xs)}function Po(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,_b(l)),Nt!==null)for(l=Nt.return;l!==null;){var p=l;switch(eh(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&vu();break;case 3:Cs(),yt(_n),yt(rn),dh();break;case 5:fh(p);break;case 4:Cs();break;case 13:yt(Tt);break;case 19:yt(Tt);break;case 10:sh(p.type._context);break;case 22:case 23:Hh()}l=l.return}if(zt=i,Nt=i=Ni(i.current,null),Yt=Dn=s,jt=0,Xa=null,Vh=qu=ko=0,Tn=Ya=null,Ao!==null){for(s=0;s<Ao.length;s++)if(l=Ao[s],p=l.interleaved,p!==null){l.interleaved=null;var A=p.next,O=l.pending;if(O!==null){var F=O.next;O.next=A,p.next=F}l.pending=p}Ao=null}return i}function Lv(i,s){do{var l=Nt;try{if(oh(),Pu.current=Du,Ou){for(var p=St.memoizedState;p!==null;){var A=p.queue;A!==null&&(A.pending=null),p=p.next}Ou=!1}if(Ro=0,Bt=Mt=St=null,$a=!1,Ha=0,jh.current=null,l===null||l.return===null){jt=1,Xa=s,Nt=null;break}e:{var O=i,F=l.return,Q=l,ee=s;if(s=Yt,Q.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var ce=ee,_e=Q,we=_e.tag;if(!(_e.mode&1)&&(we===0||we===11||we===15)){var ve=_e.alternate;ve?(_e.updateQueue=ve.updateQueue,_e.memoizedState=ve.memoizedState,_e.lanes=ve.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var Re=sv(F);if(Re!==null){Re.flags&=-257,av(Re,F,Q,O,s),Re.mode&1&&ov(O,ce,s),s=Re,ee=ce;var Pe=s.updateQueue;if(Pe===null){var Oe=new Set;Oe.add(ee),s.updateQueue=Oe}else Pe.add(ee);break e}else{if(!(s&1)){ov(O,ce,s),Wh();break e}ee=Error(t(426))}}else if(Et&&Q.mode&1){var Ct=sv(F);if(Ct!==null){!(Ct.flags&65536)&&(Ct.flags|=256),av(Ct,F,Q,O,s),rh(Ps(ee,Q));break e}}O=ee=Ps(ee,Q),jt!==4&&(jt=2),Ya===null?Ya=[O]:Ya.push(O),O=F;do{switch(O.tag){case 3:O.flags|=65536,s&=-s,O.lanes|=s;var le=rv(O,ee,s);Py(O,le);break e;case 1:Q=ee;var re=O.type,ue=O.stateNode;if(!(O.flags&128)&&(typeof re.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(Ci===null||!Ci.has(ue)))){O.flags|=65536,s&=-s,O.lanes|=s;var Te=iv(O,Q,s);Py(O,Te);break e}}O=O.return}while(O!==null)}Vv(l)}catch(xe){s=xe,Nt===l&&l!==null&&(Nt=l=l.return);continue}break}while(!0)}function Mv(){var i=Fu.current;return Fu.current=Du,i===null?Du:i}function Wh(){(jt===0||jt===3||jt===2)&&(jt=4),zt===null||!(ko&268435455)&&!(qu&268435455)||xi(zt,Yt)}function Ku(i,s){var l=it;it|=2;var p=Mv();(zt!==i||Yt!==s)&&(Yr=null,Po(i,s));do try{$b();break}catch(A){Lv(i,A)}while(!0);if(oh(),it=l,Fu.current=p,Nt!==null)throw Error(t(261));return zt=null,Yt=0,jt}function $b(){for(;Nt!==null;)jv(Nt)}function Hb(){for(;Nt!==null&&!$l();)jv(Nt)}function jv(i){var s=qv(i.alternate,i,Dn);i.memoizedProps=i.pendingProps,s===null?Vv(i):Nt=s,jh.current=null}function Vv(i){var s=i;do{var l=s.alternate;if(i=s.return,s.flags&32768){if(l=Vb(l,s),l!==null){l.flags&=32767,Nt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{jt=6,Nt=null;return}}else if(l=jb(l,s,Dn),l!==null){Nt=l;return}if(s=s.sibling,s!==null){Nt=s;return}Nt=s=i}while(s!==null);jt===0&&(jt=5)}function Oo(i,s,l){var p=et,A=Wn.transition;try{Wn.transition=null,et=1,Wb(i,s,l,p)}finally{Wn.transition=A,et=p}return null}function Wb(i,s,l,p){do Ds();while(Pi!==null);if(it&6)throw Error(t(327));l=i.finishedWork;var A=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var O=l.lanes|l.childLanes;if(ht(i,O),i===zt&&(Nt=zt=null,Yt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||zu||(zu=!0,Bv(Un,function(){return Ds(),null})),O=(l.flags&15990)!==0,l.subtreeFlags&15990||O){O=Wn.transition,Wn.transition=null;var F=et;et=1;var Q=it;it|=4,jh.current=null,Fb(i,l),kv(l,i),hb(Wf),_i=!!Hf,Wf=Hf=null,i.current=l,qb(l),Cf(),it=Q,et=F,Wn.transition=O}else i.current=l;if(zu&&(zu=!1,Pi=i,$u=A),O=i.pendingLanes,O===0&&(Ci=null),Kl(l.stateNode),Sn(i,dt()),s!==null)for(p=i.onRecoverableError,l=0;l<s.length;l++)A=s[l],p(A.value,{componentStack:A.stack,digest:A.digest});if(Bu)throw Bu=!1,i=Fh,Fh=null,i;return $u&1&&i.tag!==0&&Ds(),O=i.pendingLanes,O&1?i===qh?Ja++:(Ja=0,qh=i):Ja=0,Ai(),null}function Ds(){if(Pi!==null){var i=yi($u),s=Wn.transition,l=et;try{if(Wn.transition=null,et=16>i?16:i,Pi===null)var p=!1;else{if(i=Pi,Pi=null,$u=0,it&6)throw Error(t(331));var A=it;for(it|=4,Ce=i.current;Ce!==null;){var O=Ce,F=O.child;if(Ce.flags&16){var Q=O.deletions;if(Q!==null){for(var ee=0;ee<Q.length;ee++){var ce=Q[ee];for(Ce=ce;Ce!==null;){var _e=Ce;switch(_e.tag){case 0:case 11:case 15:Qa(8,_e,O)}var we=_e.child;if(we!==null)we.return=_e,Ce=we;else for(;Ce!==null;){_e=Ce;var ve=_e.sibling,Re=_e.return;if(Sv(_e),_e===ce){Ce=null;break}if(ve!==null){ve.return=Re,Ce=ve;break}Ce=Re}}}var Pe=O.alternate;if(Pe!==null){var Oe=Pe.child;if(Oe!==null){Pe.child=null;do{var Ct=Oe.sibling;Oe.sibling=null,Oe=Ct}while(Oe!==null)}}Ce=O}}if(O.subtreeFlags&2064&&F!==null)F.return=O,Ce=F;else e:for(;Ce!==null;){if(O=Ce,O.flags&2048)switch(O.tag){case 0:case 11:case 15:Qa(9,O,O.return)}var le=O.sibling;if(le!==null){le.return=O.return,Ce=le;break e}Ce=O.return}}var re=i.current;for(Ce=re;Ce!==null;){F=Ce;var ue=F.child;if(F.subtreeFlags&2064&&ue!==null)ue.return=F,Ce=ue;else e:for(F=re;Ce!==null;){if(Q=Ce,Q.flags&2048)try{switch(Q.tag){case 0:case 11:case 15:Uu(9,Q)}}catch(xe){Rt(Q,Q.return,xe)}if(Q===F){Ce=null;break e}var Te=Q.sibling;if(Te!==null){Te.return=Q.return,Ce=Te;break e}Ce=Q.return}}if(it=A,Ai(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(po,i)}catch{}p=!0}return p}finally{et=l,Wn.transition=s}}return!1}function Uv(i,s,l){s=Ps(l,s),s=rv(i,s,1),i=Ri(i,s,1),s=mn(),i!==null&&(mi(i,1,s),Sn(i,s))}function Rt(i,s,l){if(i.tag===3)Uv(i,i,l);else for(;s!==null;){if(s.tag===3){Uv(s,i,l);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ci===null||!Ci.has(p))){i=Ps(l,i),i=iv(s,i,1),s=Ri(s,i,1),i=mn(),s!==null&&(mi(s,1,i),Sn(s,i));break}}s=s.return}}function Kb(i,s,l){var p=i.pingCache;p!==null&&p.delete(s),s=mn(),i.pingedLanes|=i.suspendedLanes&l,zt===i&&(Yt&l)===l&&(jt===4||jt===3&&(Yt&130023424)===Yt&&500>dt()-Uh?Po(i,0):Vh|=l),Sn(i,s)}function Fv(i,s){s===0&&(i.mode&1?(s=rs,rs<<=1,!(rs&130023424)&&(rs=4194304)):s=1);var l=mn();i=Gr(i,s),i!==null&&(mi(i,s,l),Sn(i,l))}function Gb(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),Fv(i,l)}function Qb(i,s){var l=0;switch(i.tag){case 13:var p=i.stateNode,A=i.memoizedState;A!==null&&(l=A.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(s),Fv(i,l)}var qv;qv=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||_n.current)wn=!0;else{if(!(i.lanes&l)&&!(s.flags&128))return wn=!1,Mb(i,s,l);wn=!!(i.flags&131072)}else wn=!1,Et&&s.flags&1048576&&Ey(s,Tu,s.index);switch(s.lanes=0,s.tag){case 2:var p=s.type;ju(i,s),i=s.pendingProps;var A=Ts(s,rn.current);ks(s,l),A=gh(null,s,p,i,A,l);var O=yh();return s.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,En(p)?(O=!0,_u(s)):O=!1,s.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,uh(s),A.updater=Lu,s.stateNode=A,A._reactInternals=s,Sh(s,p,i,l),s=Rh(null,s,p,!0,O,l)):(s.tag=0,Et&&O&&Zf(s),pn(null,s,A,l),s=s.child),s;case 16:p=s.elementType;e:{switch(ju(i,s),i=s.pendingProps,A=p._init,p=A(p._payload),s.type=p,A=s.tag=Yb(p),i=or(p,i),A){case 0:s=Ih(null,s,p,i,l);break e;case 1:s=dv(null,s,p,i,l);break e;case 11:s=lv(null,s,p,i,l);break e;case 14:s=uv(null,s,p,or(p.type,i),l);break e}throw Error(t(306,p,""))}return s;case 0:return p=s.type,A=s.pendingProps,A=s.elementType===p?A:or(p,A),Ih(i,s,p,A,l);case 1:return p=s.type,A=s.pendingProps,A=s.elementType===p?A:or(p,A),dv(i,s,p,A,l);case 3:e:{if(pv(s),i===null)throw Error(t(387));p=s.pendingProps,O=s.memoizedState,A=O.element,Cy(i,s),ku(s,p,null,l);var F=s.memoizedState;if(p=F.element,O.isDehydrated)if(O={element:p,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},s.updateQueue.baseState=O,s.memoizedState=O,s.flags&256){A=Ps(Error(t(423)),s),s=mv(i,s,p,l,A);break e}else if(p!==A){A=Ps(Error(t(424)),s),s=mv(i,s,p,l,A);break e}else for(Nn=Ti(s.stateNode.containerInfo.firstChild),xn=s,Et=!0,ir=null,l=Ry(s,null,p,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(As(),p===A){s=Xr(i,s,l);break e}pn(i,s,p,l)}s=s.child}return s;case 5:return xy(s),i===null&&nh(s),p=s.type,A=s.pendingProps,O=i!==null?i.memoizedProps:null,F=A.children,Kf(p,A)?F=null:O!==null&&Kf(p,O)&&(s.flags|=32),hv(i,s),pn(i,s,F,l),s.child;case 6:return i===null&&nh(s),null;case 13:return gv(i,s,l);case 4:return ch(s,s.stateNode.containerInfo),p=s.pendingProps,i===null?s.child=Is(s,null,p,l):pn(i,s,p,l),s.child;case 11:return p=s.type,A=s.pendingProps,A=s.elementType===p?A:or(p,A),lv(i,s,p,A,l);case 7:return pn(i,s,s.pendingProps,l),s.child;case 8:return pn(i,s,s.pendingProps.children,l),s.child;case 12:return pn(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(p=s.type._context,A=s.pendingProps,O=s.memoizedProps,F=A.value,pt(Au,p._currentValue),p._currentValue=F,O!==null)if(rr(O.value,F)){if(O.children===A.children&&!_n.current){s=Xr(i,s,l);break e}}else for(O=s.child,O!==null&&(O.return=s);O!==null;){var Q=O.dependencies;if(Q!==null){F=O.child;for(var ee=Q.firstContext;ee!==null;){if(ee.context===p){if(O.tag===1){ee=Qr(-1,l&-l),ee.tag=2;var ce=O.updateQueue;if(ce!==null){ce=ce.shared;var _e=ce.pending;_e===null?ee.next=ee:(ee.next=_e.next,_e.next=ee),ce.pending=ee}}O.lanes|=l,ee=O.alternate,ee!==null&&(ee.lanes|=l),ah(O.return,l,s),Q.lanes|=l;break}ee=ee.next}}else if(O.tag===10)F=O.type===s.type?null:O.child;else if(O.tag===18){if(F=O.return,F===null)throw Error(t(341));F.lanes|=l,Q=F.alternate,Q!==null&&(Q.lanes|=l),ah(F,l,s),F=O.sibling}else F=O.child;if(F!==null)F.return=O;else for(F=O;F!==null;){if(F===s){F=null;break}if(O=F.sibling,O!==null){O.return=F.return,F=O;break}F=F.return}O=F}pn(i,s,A.children,l),s=s.child}return s;case 9:return A=s.type,p=s.pendingProps.children,ks(s,l),A=$n(A),p=p(A),s.flags|=1,pn(i,s,p,l),s.child;case 14:return p=s.type,A=or(p,s.pendingProps),A=or(p.type,A),uv(i,s,p,A,l);case 15:return cv(i,s,s.type,s.pendingProps,l);case 17:return p=s.type,A=s.pendingProps,A=s.elementType===p?A:or(p,A),ju(i,s),s.tag=1,En(p)?(i=!0,_u(s)):i=!1,ks(s,l),tv(s,p,A),Sh(s,p,A,l),Rh(null,s,p,!0,i,l);case 19:return vv(i,s,l);case 22:return fv(i,s,l)}throw Error(t(156,s.tag))};function Bv(i,s){return ts(i,s)}function Xb(i,s,l,p){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(i,s,l,p){return new Xb(i,s,l,p)}function Kh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Yb(i){if(typeof i=="function")return Kh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===D)return 11;if(i===G)return 14}return 2}function Ni(i,s){var l=i.alternate;return l===null?(l=Kn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Gu(i,s,l,p,A,O){var F=2;if(p=i,typeof i=="function")Kh(i)&&(F=1);else if(typeof i=="string")F=5;else e:switch(i){case P:return xo(l.children,A,O,s);case R:F=8,A|=8;break;case M:return i=Kn(12,l,s,A|2),i.elementType=M,i.lanes=O,i;case N:return i=Kn(13,l,s,A),i.elementType=N,i.lanes=O,i;case $:return i=Kn(19,l,s,A),i.elementType=$,i.lanes=O,i;case X:return Qu(l,A,O,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case x:F=10;break e;case I:F=9;break e;case D:F=11;break e;case G:F=14;break e;case Z:F=16,p=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=Kn(F,l,s,A),s.elementType=i,s.type=p,s.lanes=O,s}function xo(i,s,l,p){return i=Kn(7,i,p,s),i.lanes=l,i}function Qu(i,s,l,p){return i=Kn(22,i,p,s),i.elementType=X,i.lanes=l,i.stateNode={isHidden:!1},i}function Gh(i,s,l){return i=Kn(6,i,null,s),i.lanes=l,i}function Qh(i,s,l){return s=Kn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Jb(i,s,l,p,A){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pi(0),this.expirationTimes=pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.identifierPrefix=p,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function Xh(i,s,l,p,A,O,F,Q,ee){return i=new Jb(i,s,l,Q,ee),s===1?(s=1,O===!0&&(s|=8)):s=0,O=Kn(3,null,null,s),i.current=O,O.stateNode=i,O.memoizedState={element:p,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},uh(O),i}function Zb(i,s,l){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:p==null?null:""+p,children:i,containerInfo:s,implementation:l}}function zv(i){if(!i)return bi;i=i._reactInternals;e:{if(Xn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(En(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(En(l))return yy(i,l,s)}return s}function $v(i,s,l,p,A,O,F,Q,ee){return i=Xh(l,p,!0,i,A,O,F,Q,ee),i.context=zv(null),l=i.current,p=mn(),A=Oi(l),O=Qr(p,A),O.callback=s??null,Ri(l,O,A),i.current.lanes=A,mi(i,A,p),Sn(i,p),i}function Xu(i,s,l,p){var A=s.current,O=mn(),F=Oi(A);return l=zv(l),s.context===null?s.context=l:s.pendingContext=l,s=Qr(O,F),s.payload={element:i},p=p===void 0?null:p,p!==null&&(s.callback=p),i=Ri(A,s,F),i!==null&&(lr(i,A,F,O),Ru(i,A,F)),F}function Yu(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Hv(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Yh(i,s){Hv(i,s),(i=i.alternate)&&Hv(i,s)}var Wv=typeof reportError=="function"?reportError:function(i){console.error(i)};function Jh(i){this._internalRoot=i}Ju.prototype.render=Jh.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));Xu(i,s,null,null)},Ju.prototype.unmount=Jh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Co(function(){Xu(null,i,null,null)}),s[$r]=null}};function Ju(i){this._internalRoot=i}Ju.prototype.unstable_scheduleHydration=function(i){if(i){var s=Jl();i={blockedOn:null,target:i,priority:s};for(var l=0;l<mr.length&&s!==0&&s<mr[l].priority;l++);mr.splice(l,0,i),l===0&&tu(i)}};function Zh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Zu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Kv(){}function eA(i,s,l,p,A){if(A){if(typeof p=="function"){var O=p;p=function(){var ce=Yu(F);O.call(ce)}}var F=$v(s,p,i,0,null,!1,!1,"",Kv);return i._reactRootContainer=F,i[$r]=F.current,Ma(i.nodeType===8?i.parentNode:i),Co(),F}for(;A=i.lastChild;)i.removeChild(A);if(typeof p=="function"){var Q=p;p=function(){var ce=Yu(ee);Q.call(ce)}}var ee=Xh(i,0,!1,null,null,!1,!1,"",Kv);return i._reactRootContainer=ee,i[$r]=ee.current,Ma(i.nodeType===8?i.parentNode:i),Co(function(){Xu(s,ee,l,p)}),ee}function ec(i,s,l,p,A){var O=l._reactRootContainer;if(O){var F=O;if(typeof A=="function"){var Q=A;A=function(){var ee=Yu(F);Q.call(ee)}}Xu(s,F,i,A)}else F=eA(l,s,i,A,p);return Yu(F)}Xl=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=di(s.pendingLanes);l!==0&&(gi(s,l|1),Sn(s,dt()),!(it&6)&&(Ns=dt()+500,Ai()))}break;case 13:Co(function(){var p=Gr(i,1);if(p!==null){var A=mn();lr(p,i,1,A)}}),Yh(i,1)}},is=function(i){if(i.tag===13){var s=Gr(i,134217728);if(s!==null){var l=mn();lr(s,i,134217728,l)}Yh(i,134217728)}},Yl=function(i){if(i.tag===13){var s=Oi(i),l=Gr(i,s);if(l!==null){var p=mn();lr(l,i,s,p)}Yh(i,s)}},Jl=function(){return et},Zl=function(i,s){var l=et;try{return et=i,s()}finally{et=l}},Qo=function(i,s,l){switch(s){case"input":if(mt(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var p=l[s];if(p!==i&&p.form===i.form){var A=yu(p);if(!A)throw Error(t(90));De(p),mt(p,A)}}}break;case"textarea":ze(i,l);break;case"select":s=l.value,s!=null&&Ae(i,!!l.multiple,s,!1)}},lo=$h,ya=Co;var tA={usingClientEntryPoint:!1,Events:[Ua,Es,yu,dr,ga,$h]},Za={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nA={bundleType:Za.bundleType,version:Za.version,rendererPackageName:Za.rendererPackageName,rendererConfig:Za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ea(i),i===null?null:i.stateNode},findFiberByHostInstance:Za.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{po=tc.inject(nA),kn=tc}catch{}}return bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tA,bn.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zh(s))throw Error(t(200));return Zb(i,s,null,l)},bn.createRoot=function(i,s){if(!Zh(i))throw Error(t(299));var l=!1,p="",A=Wv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=Xh(i,1,!1,null,null,l,!1,p,A),i[$r]=s.current,Ma(i.nodeType===8?i.parentNode:i),new Jh(s)},bn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ea(s),i=i===null?null:i.stateNode,i},bn.flushSync=function(i){return Co(i)},bn.hydrate=function(i,s,l){if(!Zu(s))throw Error(t(200));return ec(null,i,s,!0,l)},bn.hydrateRoot=function(i,s,l){if(!Zh(i))throw Error(t(405));var p=l!=null&&l.hydratedSources||null,A=!1,O="",F=Wv;if(l!=null&&(l.unstable_strictMode===!0&&(A=!0),l.identifierPrefix!==void 0&&(O=l.identifierPrefix),l.onRecoverableError!==void 0&&(F=l.onRecoverableError)),s=$v(s,null,i,1,l??null,A,!1,O,F),i[$r]=s.current,Ma(i),p)for(i=0;i<p.length;i++)l=p[i],A=l._getVersion,A=A(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,A]:s.mutableSourceEagerHydrationData.push(l,A);return new Ju(s)},bn.render=function(i,s,l){if(!Zu(s))throw Error(t(200));return ec(null,i,s,!1,l)},bn.unmountComponentAtNode=function(i){if(!Zu(i))throw Error(t(40));return i._reactRootContainer?(Co(function(){ec(null,null,i,!1,function(){i._reactRootContainer=null,i[$r]=null})}),!0):!1},bn.unstable_batchedUpdates=$h,bn.unstable_renderSubtreeIntoContainer=function(i,s,l,p){if(!Zu(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return ec(i,s,l,!1,p)},bn.version="18.3.1-next-f1338f8080-20240426",bn}var t_;function Pw(){if(t_)return nd.exports;t_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),nd.exports=uA(),nd.exports}var n_;function cA(){if(n_)return rc;n_=1;var n=Pw();return rc.createRoot=n.createRoot,rc.hydrateRoot=n.hydrateRoot,rc}var fA=cA(),tl={},r_;function hA(){if(r_)return tl;r_=1,Object.defineProperty(tl,"__esModule",{value:!0}),tl.parse=u,tl.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const d=function(){};return d.prototype=Object.create(null),d})();function u(d,g){const S=new a,T=d.length;if(T<2)return S;const E=(g==null?void 0:g.decode)||v;let w=0;do{const b=d.indexOf("=",w);if(b===-1)break;const k=d.indexOf(";",w),_=k===-1?T:k;if(b>_){w=d.lastIndexOf(";",b-1)+1;continue}const L=f(d,w,b),U=h(d,b,L),P=d.slice(L,U);if(S[P]===void 0){let R=f(d,b+1,_),M=h(d,_,R);const x=E(d.slice(R,M));S[P]=x}w=_+1}while(w<T);return S}function f(d,g,S){do{const T=d.charCodeAt(g);if(T!==32&&T!==9)return g}while(++g<S);return S}function h(d,g,S){for(;g>S;){const T=d.charCodeAt(--g);if(T!==32&&T!==9)return g+1}return S}function m(d,g,S){const T=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(d))throw new TypeError(`argument name is invalid: ${d}`);const E=T(g);if(!e.test(E))throw new TypeError(`argument val is invalid: ${g}`);let w=d+"="+E;if(!S)return w;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);w+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);w+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);w+="; Path="+S.path}if(S.expires){if(!y(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);w+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(w+="; HttpOnly"),S.secure&&(w+="; Secure"),S.partitioned&&(w+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return w}function v(d){if(d.indexOf("%")===-1)return d;try{return decodeURIComponent(d)}catch{return d}}function y(d){return o.call(d)==="[object Date]"}return tl}hA();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var i_="popstate";function dA(n={}){function e(r,o){let{pathname:a,search:u,hash:f}=r.location;return im("",{pathname:a,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:yl(o)}return mA(e,t,null,n)}function bt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pA(){return Math.random().toString(36).substring(2,10)}function o_(n,e){return{usr:n.state,key:n.key,idx:e}}function im(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ta(e):e,state:t,key:e&&e.key||r||pA()}}function yl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ta(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function mA(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,f="POP",h=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function y(){f="POP";let E=v(),w=E==null?null:E-m;m=E,h&&h({action:f,location:T.location,delta:w})}function d(E,w){f="PUSH";let b=im(T.location,E,w);m=v()+1;let k=o_(b,m),_=T.createHref(b);try{u.pushState(k,"",_)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;o.location.assign(_)}a&&h&&h({action:f,location:T.location,delta:1})}function g(E,w){f="REPLACE";let b=im(T.location,E,w);m=v();let k=o_(b,m),_=T.createHref(b);u.replaceState(k,"",_),a&&h&&h({action:f,location:T.location,delta:0})}function S(E){let w=o.location.origin!=="null"?o.location.origin:o.location.href,b=typeof E=="string"?E:yl(E);return b=b.replace(/ $/,"%20"),bt(w,`No window.location.(origin|href) available to create URL for href: ${b}`),new URL(b,w)}let T={get action(){return f},get location(){return n(o,u)},listen(E){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(i_,y),h=E,()=>{o.removeEventListener(i_,y),h=null}},createHref(E){return e(o,E)},createURL:S,encodeLocation(E){let w=S(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:d,replace:g,go(E){return u.go(E)}};return T}function Ow(n,e,t="/"){return gA(n,e,t,!1)}function gA(n,e,t,r){let o=typeof e=="string"?ta(e):e,a=Gi(o.pathname||"/",t);if(a==null)return null;let u=xw(n);yA(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let m=kA(a);f=IA(u[h],m,r)}return f}function xw(n,e=[],t=[],r=""){let o=(a,u,f)=>{let h={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(bt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let m=ti([r,h.relativePath]),v=t.concat(h);a.children&&a.children.length>0&&(bt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),xw(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:bA(m,a.index),routesMeta:v})};return n.forEach((a,u)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))o(a,u);else for(let h of Nw(a.path))o(a,u,h)}),e}function Nw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=Nw(r.join("/")),f=[];return f.push(...u.map(h=>h===""?a:[a,h].join("/"))),o&&f.push(...u),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function yA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:AA(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var vA=/^:[\w-]+$/,_A=3,EA=2,wA=1,TA=10,SA=-2,s_=n=>n==="*";function bA(n,e){let t=n.split("/"),r=t.length;return t.some(s_)&&(r+=SA),e&&(r+=EA),t.filter(o=>!s_(o)).reduce((o,a)=>o+(vA.test(a)?_A:a===""?wA:TA),r)}function AA(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function IA(n,e,t=!1){let{routesMeta:r}=n,o={},a="/",u=[];for(let f=0;f<r.length;++f){let h=r[f],m=f===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",y=Rc({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},v),d=h.route;if(!y&&m&&t&&!r[r.length-1].route.index&&(y=Rc({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!y)return null;Object.assign(o,y.params),u.push({params:o,pathname:ti([a,y.pathname]),pathnameBase:xA(ti([a,y.pathnameBase])),route:d}),y.pathnameBase!=="/"&&(a=ti([a,y.pathnameBase]))}return u}function Rc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=RA(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:r.reduce((m,{paramName:v,isOptional:y},d)=>{if(v==="*"){let S=f[d]||"";u=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const g=f[d];return y&&!g?m[v]=void 0:m[v]=(g||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function RA(n,e=!1,t=!0){xr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(r.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function kA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Gi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function CA(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?ta(n):n;return{pathname:t?t.startsWith("/")?t:PA(t,e):e,search:NA(r),hash:DA(o)}}function PA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function od(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Dw(n){let e=OA(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Lw(n,e,t,r=!1){let o;typeof n=="string"?o=ta(n):(o={...n},bt(!o.pathname||!o.pathname.includes("?"),od("?","pathname","search",o)),bt(!o.pathname||!o.pathname.includes("#"),od("#","pathname","hash",o)),bt(!o.search||!o.search.includes("#"),od("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,f;if(u==null)f=t;else{let y=e.length-1;if(!r&&u.startsWith("..")){let d=u.split("/");for(;d[0]==="..";)d.shift(),y-=1;o.pathname=d.join("/")}f=y>=0?e[y]:"/"}let h=CA(o,f),m=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(m||v)&&(h.pathname+="/"),h}var ti=n=>n.join("/").replace(/\/\/+/g,"/"),xA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),NA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,DA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function LA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Mw=["POST","PUT","PATCH","DELETE"];new Set(Mw);var MA=["GET",...Mw];new Set(MA);var na=de.createContext(null);na.displayName="DataRouter";var Qc=de.createContext(null);Qc.displayName="DataRouterState";var jw=de.createContext({isTransitioning:!1});jw.displayName="ViewTransition";var jA=de.createContext(new Map);jA.displayName="Fetchers";var VA=de.createContext(null);VA.displayName="Await";var Lr=de.createContext(null);Lr.displayName="Navigation";var Il=de.createContext(null);Il.displayName="Location";var Mr=de.createContext({outlet:null,matches:[],isDataRoute:!1});Mr.displayName="Route";var Dm=de.createContext(null);Dm.displayName="RouteError";function UA(n,{relative:e}={}){bt(Rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=de.useContext(Lr),{hash:o,pathname:a,search:u}=Cl(n,{relative:e}),f=a;return t!=="/"&&(f=a==="/"?t:ti([t,a])),r.createHref({pathname:f,search:u,hash:o})}function Rl(){return de.useContext(Il)!=null}function $o(){return bt(Rl(),"useLocation() may be used only in the context of a <Router> component."),de.useContext(Il).location}var Vw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Uw(n){de.useContext(Lr).static||de.useLayoutEffect(n)}function kl(){let{isDataRoute:n}=de.useContext(Mr);return n?JA():FA()}function FA(){bt(Rl(),"useNavigate() may be used only in the context of a <Router> component.");let n=de.useContext(na),{basename:e,navigator:t}=de.useContext(Lr),{matches:r}=de.useContext(Mr),{pathname:o}=$o(),a=JSON.stringify(Dw(r)),u=de.useRef(!1);return Uw(()=>{u.current=!0}),de.useCallback((h,m={})=>{if(xr(u.current,Vw),!u.current)return;if(typeof h=="number"){t.go(h);return}let v=Lw(h,JSON.parse(a),o,m.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ti([e,v.pathname])),(m.replace?t.replace:t.push)(v,m.state,m)},[e,t,a,o,n])}de.createContext(null);function Fw(){let{matches:n}=de.useContext(Mr),e=n[n.length-1];return e?e.params:{}}function Cl(n,{relative:e}={}){let{matches:t}=de.useContext(Mr),{pathname:r}=$o(),o=JSON.stringify(Dw(t));return de.useMemo(()=>Lw(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function qA(n,e){return qw(n,e)}function qw(n,e,t,r){var w;bt(Rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=de.useContext(Lr),{matches:a}=de.useContext(Mr),u=a[a.length-1],f=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",v=u&&u.route;{let b=v&&v.path||"";Bw(h,!v||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let y=$o(),d;if(e){let b=typeof e=="string"?ta(e):e;bt(m==="/"||((w=b.pathname)==null?void 0:w.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${b.pathname}" was given in the \`location\` prop.`),d=b}else d=y;let g=d.pathname||"/",S=g;if(m!=="/"){let b=m.replace(/^\//,"").split("/");S="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let T=Ow(n,{pathname:S});xr(v||T!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),xr(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=WA(T&&T.map(b=>Object.assign({},b,{params:Object.assign({},f,b.params),pathname:ti([m,o.encodeLocation?o.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?m:ti([m,o.encodeLocation?o.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,t,r);return e&&E?de.createElement(Il.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},E):E}function BA(){let n=YA(),e=LA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=de.createElement(de.Fragment,null,de.createElement("p",null,"💿 Hey developer 👋"),de.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",de.createElement("code",{style:a},"ErrorBoundary")," or"," ",de.createElement("code",{style:a},"errorElement")," prop on your route.")),de.createElement(de.Fragment,null,de.createElement("h2",null,"Unexpected Application Error!"),de.createElement("h3",{style:{fontStyle:"italic"}},e),t?de.createElement("pre",{style:o},t):null,u)}var zA=de.createElement(BA,null),$A=class extends de.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?de.createElement(Mr.Provider,{value:this.props.routeContext},de.createElement(Dm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HA({routeContext:n,match:e,children:t}){let r=de.useContext(na);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),de.createElement(Mr.Provider,{value:n},t)}function WA(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let h=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);bt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,f=-1;if(t)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:v,errors:y}=t,d=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||d){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((h,m,v)=>{let y,d=!1,g=null,S=null;t&&(y=a&&m.route.id?a[m.route.id]:void 0,g=m.route.errorElement||zA,u&&(f<0&&v===0?(Bw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,S=null):f===v&&(d=!0,S=m.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,v+1)),E=()=>{let w;return y?w=g:d?w=S:m.route.Component?w=de.createElement(m.route.Component,null):m.route.element?w=m.route.element:w=h,de.createElement(HA,{match:m,routeContext:{outlet:h,matches:T,isDataRoute:t!=null},children:w})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?de.createElement($A,{location:t.location,revalidation:t.revalidation,component:g,error:y,children:E(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):E()},null)}function Lm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KA(n){let e=de.useContext(na);return bt(e,Lm(n)),e}function GA(n){let e=de.useContext(Qc);return bt(e,Lm(n)),e}function QA(n){let e=de.useContext(Mr);return bt(e,Lm(n)),e}function Mm(n){let e=QA(n),t=e.matches[e.matches.length-1];return bt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function XA(){return Mm("useRouteId")}function YA(){var r;let n=de.useContext(Dm),e=GA("useRouteError"),t=Mm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function JA(){let{router:n}=KA("useNavigate"),e=Mm("useNavigate"),t=de.useRef(!1);return Uw(()=>{t.current=!0}),de.useCallback(async(o,a={})=>{xr(t.current,Vw),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var a_={};function Bw(n,e,t){!e&&!a_[n]&&(a_[n]=!0,xr(!1,t))}de.memo(ZA);function ZA({routes:n,future:e,state:t}){return qw(n,void 0,t,e)}function No(n){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eI({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:a=!1}){bt(!Rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=de.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=ta(t));let{pathname:h="/",search:m="",hash:v="",state:y=null,key:d="default"}=t,g=de.useMemo(()=>{let S=Gi(h,u);return S==null?null:{location:{pathname:S,search:m,hash:v,state:y,key:d},navigationType:r}},[u,h,m,v,y,d,r]);return xr(g!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:de.createElement(Lr.Provider,{value:f},de.createElement(Il.Provider,{children:e,value:g}))}function tI({children:n,location:e}){return qA(om(n),e)}function om(n,e=[]){let t=[];return de.Children.forEach(n,(r,o)=>{if(!de.isValidElement(r))return;let a=[...e,o];if(r.type===de.Fragment){t.push.apply(t,om(r.props.children,a));return}bt(r.type===No,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=om(r.props.children,a)),t.push(u)}),t}var pc="get",mc="application/x-www-form-urlencoded";function Xc(n){return n!=null&&typeof n.tagName=="string"}function nI(n){return Xc(n)&&n.tagName.toLowerCase()==="button"}function rI(n){return Xc(n)&&n.tagName.toLowerCase()==="form"}function iI(n){return Xc(n)&&n.tagName.toLowerCase()==="input"}function oI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function sI(n,e){return n.button===0&&(!e||e==="_self")&&!oI(n)}var ic=null;function aI(){if(ic===null)try{new FormData(document.createElement("form"),0),ic=!1}catch{ic=!0}return ic}var lI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sd(n){return n!=null&&!lI.has(n)?(xr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mc}"`),null):n}function uI(n,e){let t,r,o,a,u;if(rI(n)){let f=n.getAttribute("action");r=f?Gi(f,e):null,t=n.getAttribute("method")||pc,o=sd(n.getAttribute("enctype"))||mc,a=new FormData(n)}else if(nI(n)||iI(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||f.getAttribute("action");if(r=h?Gi(h,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||pc,o=sd(n.getAttribute("formenctype"))||sd(f.getAttribute("enctype"))||mc,a=new FormData(f,n),!aI()){let{name:m,type:v,value:y}=n;if(v==="image"){let d=m?`${m}.`:"";a.append(`${d}x`,"0"),a.append(`${d}y`,"0")}else m&&a.append(m,y)}}else{if(Xc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=pc,r=null,o=mc,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:u}}function jm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function cI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function hI(n,e,t){let r=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await cI(a,t);return u.links?u.links():[]}return[]}));return gI(r.flat(1).filter(fI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function l_(n,e,t,r,o,a){let u=(h,m)=>t[m]?h.route.id!==t[m].route.id:!0,f=(h,m)=>{var v;return t[m].pathname!==h.pathname||((v=t[m].route.path)==null?void 0:v.endsWith("*"))&&t[m].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,m)=>u(h,m)||f(h,m)):a==="data"?e.filter((h,m)=>{var y;let v=r.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(u(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let d=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function dI(n,e){return pI(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let o=[r.module];return r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function pI(n){return[...new Set(n)]}function mI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function gI(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let a=JSON.stringify(mI(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}function yI(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function vI(){let n=de.useContext(na);return jm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function _I(){let n=de.useContext(Qc);return jm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Vm=de.createContext(void 0);Vm.displayName="FrameworkContext";function zw(){let n=de.useContext(Vm);return jm(n,"You must render this element inside a <HydratedRouter> element"),n}function EI(n,e){let t=de.useContext(Vm),[r,o]=de.useState(!1),[a,u]=de.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:v,onTouchStart:y}=e,d=de.useRef(null);de.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let T=w=>{w.forEach(b=>{u(b.isIntersecting)})},E=new IntersectionObserver(T,{threshold:.5});return d.current&&E.observe(d.current),()=>{E.disconnect()}}},[n]),de.useEffect(()=>{if(r){let T=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(T)}}},[r]);let g=()=>{o(!0)},S=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,d,{}]:[a,d,{onFocus:nl(f,g),onBlur:nl(h,S),onMouseEnter:nl(m,g),onMouseLeave:nl(v,S),onTouchStart:nl(y,g)}]:[!1,d,{}]}function nl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function wI({page:n,...e}){let{router:t}=vI(),r=de.useMemo(()=>Ow(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?de.createElement(SI,{page:n,matches:r,...e}):null}function TI(n){let{manifest:e,routeModules:t}=zw(),[r,o]=de.useState([]);return de.useEffect(()=>{let a=!1;return hI(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),r}function SI({page:n,matches:e,...t}){let r=$o(),{manifest:o,routeModules:a}=zw(),{loaderData:u,matches:f}=_I(),h=de.useMemo(()=>l_(n,e,f,o,r,"data"),[n,e,f,o,r]),m=de.useMemo(()=>l_(n,e,f,o,r,"assets"),[n,e,f,o,r]),v=de.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let g=new Set,S=!1;if(e.forEach(E=>{var b;let w=o.routes[E.route.id];!w||!w.hasLoader||(!h.some(k=>k.route.id===E.route.id)&&E.route.id in u&&((b=a[E.route.id])!=null&&b.shouldRevalidate)||w.hasClientLoader?S=!0:g.add(E.route.id))}),g.size===0)return[];let T=yI(n);return S&&g.size>0&&T.searchParams.set("_routes",e.filter(E=>g.has(E.route.id)).map(E=>E.route.id).join(",")),[T.pathname+T.search]},[u,r,o,h,e,n,a]),y=de.useMemo(()=>dI(m,o),[m,o]),d=TI(m);return de.createElement(de.Fragment,null,v.map(g=>de.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...t})),y.map(g=>de.createElement("link",{key:g,rel:"modulepreload",href:g,...t})),d.map(({key:g,link:S})=>de.createElement("link",{key:g,...S})))}function bI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var $w=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$w&&(window.__reactRouterVersion="7.1.3")}catch{}function AI({basename:n,children:e,window:t}){let r=de.useRef();r.current==null&&(r.current=dA({window:t,v5Compat:!0}));let o=r.current,[a,u]=de.useState({action:o.action,location:o.location}),f=de.useCallback(h=>{de.startTransition(()=>u(h))},[u]);return de.useLayoutEffect(()=>o.listen(f),[o,f]),de.createElement(eI,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var Hw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yc=de.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:f,target:h,to:m,preventScrollReset:v,viewTransition:y,...d},g){let{basename:S}=de.useContext(Lr),T=typeof m=="string"&&Hw.test(m),E,w=!1;if(typeof m=="string"&&T&&(E=m,$w))try{let M=new URL(window.location.href),x=m.startsWith("//")?new URL(M.protocol+m):new URL(m),I=Gi(x.pathname,S);x.origin===M.origin&&I!=null?m=I+x.search+x.hash:w=!0}catch{xr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=UA(m,{relative:o}),[k,_,L]=EI(r,d),U=CI(m,{replace:u,state:f,target:h,preventScrollReset:v,relative:o,viewTransition:y});function P(M){e&&e(M),M.defaultPrevented||U(M)}let R=de.createElement("a",{...d,...L,href:E||b,onClick:w||a?e:P,ref:bI(g,_),target:h,"data-discover":!T&&t==="render"?"true":void 0});return k&&!T?de.createElement(de.Fragment,null,R,de.createElement(wI,{page:b})):R});Yc.displayName="Link";var II=de.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:f,children:h,...m},v){let y=Cl(u,{relative:m.relative}),d=$o(),g=de.useContext(Qc),{navigator:S,basename:T}=de.useContext(Lr),E=g!=null&&DI(y)&&f===!0,w=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,b=d.pathname,k=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;t||(b=b.toLowerCase(),k=k?k.toLowerCase():null,w=w.toLowerCase()),k&&T&&(k=Gi(k,T)||k);const _=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let L=b===w||!o&&b.startsWith(w)&&b.charAt(_)==="/",U=k!=null&&(k===w||!o&&k.startsWith(w)&&k.charAt(w.length)==="/"),P={isActive:L,isPending:U,isTransitioning:E},R=L?e:void 0,M;typeof r=="function"?M=r(P):M=[r,L?"active":null,U?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let x=typeof a=="function"?a(P):a;return de.createElement(Yc,{...m,"aria-current":R,className:M,ref:v,style:x,to:u,viewTransition:f},typeof h=="function"?h(P):h)});II.displayName="NavLink";var RI=de.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:a,method:u=pc,action:f,onSubmit:h,relative:m,preventScrollReset:v,viewTransition:y,...d},g)=>{let S=xI(),T=NI(f,{relative:m}),E=u.toLowerCase()==="get"?"get":"post",w=typeof f=="string"&&Hw.test(f),b=k=>{if(h&&h(k),k.defaultPrevented)return;k.preventDefault();let _=k.nativeEvent.submitter,L=(_==null?void 0:_.getAttribute("formmethod"))||u;S(_||k.currentTarget,{fetcherKey:e,method:L,navigate:t,replace:o,state:a,relative:m,preventScrollReset:v,viewTransition:y})};return de.createElement("form",{ref:g,method:E,action:T,onSubmit:r?h:b,...d,"data-discover":!w&&n==="render"?"true":void 0})});RI.displayName="Form";function kI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ww(n){let e=de.useContext(na);return bt(e,kI(n)),e}function CI(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:u}={}){let f=kl(),h=$o(),m=Cl(n,{relative:a});return de.useCallback(v=>{if(sI(v,e)){v.preventDefault();let y=t!==void 0?t:yl(h)===yl(m);f(n,{replace:y,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[h,f,m,t,r,e,n,o,a,u])}var PI=0,OI=()=>`__${String(++PI)}__`;function xI(){let{router:n}=Ww("useSubmit"),{basename:e}=de.useContext(Lr),t=XA();return de.useCallback(async(r,o={})=>{let{action:a,method:u,encType:f,formData:h,body:m}=uI(r,e);if(o.navigate===!1){let v=o.fetcherKey||OI();await n.fetch(v,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function NI(n,{relative:e}={}){let{basename:t}=de.useContext(Lr),r=de.useContext(Mr);bt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...Cl(n||".",{relative:e})},u=$o();if(n==null){a.search=u.search;let f=new URLSearchParams(a.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(y=>y).forEach(y=>f.append("index",y));let v=f.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ti([t,a.pathname])),yl(a)}function DI(n,e={}){let t=de.useContext(jw);bt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Ww("useViewTransitionState"),o=Cl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Gi(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Gi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Rc(o.pathname,u)!=null||Rc(o.pathname,a)!=null}new TextEncoder;const LI="_showcaseContainer_rjbh0_1",MI="_productsGrid_rjbh0_12",jI="_imageContainer_rjbh0_17",VI="_productCard_rjbh0_29",UI="_title_rjbh0_40",FI="_price_rjbh0_46",qI="_containerImages_rjbh0_64",BI="_scrollContainer_rjbh0_85",Li={showcaseContainer:LI,productsGrid:MI,imageContainer:jI,productCard:VI,title:UI,price:FI,containerImages:qI,scrollContainer:BI,"product-image":"_product-image_rjbh0_116"},ci=Je.createContext(),zI=()=>{};var u_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},$I=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],f=n[t++],h=((o&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Gw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,f=u?n[o+1]:0,h=o+2<n.length,m=h?n[o+2]:0,v=a>>2,y=(a&3)<<4|f>>4;let d=(f&15)<<2|m>>6,g=m&63;h||(g=64,u||(d=64)),r.push(t[v],t[y],t[d],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Kw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):$I(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const y=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||f==null||m==null||y==null)throw new HI;const d=a<<2|f>>4;if(r.push(d),m!==64){const g=f<<4&240|m>>2;if(r.push(g),y!==64){const S=m<<6&192|y;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class HI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WI=function(n){const e=Kw(n);return Gw.encodeByteArray(e,!0)},kc=function(n){return WI(n).replace(/\./g,"")},Qw=function(n){try{return Gw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=()=>KI().__FIREBASE_DEFAULTS__,QI=()=>{if(typeof process>"u"||typeof u_>"u")return;const n=u_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},XI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Qw(n[1]);return e&&JSON.parse(e)},Jc=()=>{try{return zI()||GI()||QI()||XI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Xw=n=>{var e,t;return(t=(e=Jc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Yw=n=>{const e=Xw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Jw=()=>{var n;return(n=Jc())===null||n===void 0?void 0:n.config},Zw=n=>{var e;return(e=Jc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[kc(JSON.stringify(t)),kc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function ZI(){var n;const e=(n=Jc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function nR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rR(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function iR(){return!ZI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oR(){try{return typeof indexedDB=="object"}catch{return!1}}function sR(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="FirebaseError";class jr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=aR,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?lR(a,r):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new jr(o,f,r)}}function lR(n,e){return n.replace(uR,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const uR=/\{\$([^}]+)}/g;function cR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Vo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(c_(a)&&c_(u)){if(!Vo(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function c_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fR(n,e){const t=new hR(n,e);return t.subscribe.bind(t)}class hR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");dR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=ad),o.error===void 0&&(o.error=ad),o.complete===void 0&&(o.complete=ad);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ad(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(n){return n&&n._delegate?n._delegate:n}class Qi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new YI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gR(e))try{this.getOrInitializeService({instanceIdentifier:Do})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Do){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Do){return this.instances.has(e)}getOptions(e=Do){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);r===f&&u.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Do){return this.component?this.component.multipleInstances?e:Do:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mR(n){return n===Do?void 0:n}function gR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new pR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ye||(Ye={}));const vR={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},_R=Ye.INFO,ER={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},wR=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=ER[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Um{constructor(e){this.name=e,this._logLevel=_R,this._logHandler=wR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const TR=(n,e)=>e.some(t=>n instanceof t);let f_,h_;function SR(){return f_||(f_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bR(){return h_||(h_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t0=new WeakMap,sm=new WeakMap,n0=new WeakMap,ld=new WeakMap,Fm=new WeakMap;function AR(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t($i(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&t0.set(t,n)}).catch(()=>{}),Fm.set(e,n),e}function IR(n){if(sm.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});sm.set(n,e)}let am={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return sm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||n0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $i(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function RR(n){am=n(am)}function kR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(ud(this),e,...t);return n0.set(r,e.sort?e.sort():[e]),$i(r)}:bR().includes(n)?function(...e){return n.apply(ud(this),e),$i(t0.get(this))}:function(...e){return $i(n.apply(ud(this),e))}}function CR(n){return typeof n=="function"?kR(n):(n instanceof IDBTransaction&&IR(n),TR(n,SR())?new Proxy(n,am):n)}function $i(n){if(n instanceof IDBRequest)return AR(n);if(ld.has(n))return ld.get(n);const e=CR(n);return e!==n&&(ld.set(n,e),Fm.set(e,n)),e}const ud=n=>Fm.get(n);function PR(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),f=$i(u);return r&&u.addEventListener("upgradeneeded",h=>{r($i(u.result),h.oldVersion,h.newVersion,$i(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{a&&h.addEventListener("close",()=>a()),o&&h.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const OR=["get","getKey","getAll","getAllKeys","count"],xR=["put","add","delete","clear"],cd=new Map;function d_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(cd.get(e))return cd.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=xR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||OR.includes(t)))return;const a=async function(u,...f){const h=this.transaction(u,o?"readwrite":"readonly");let m=h.store;return r&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),o&&h.done]))[0]};return cd.set(e,a),a}RR(n=>({...n,get:(e,t,r)=>d_(e,t)||n.get(e,t,r),has:(e,t)=>!!d_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(DR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function DR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lm="@firebase/app",p_="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new Um("@firebase/app"),LR="@firebase/app-compat",MR="@firebase/analytics-compat",jR="@firebase/analytics",VR="@firebase/app-check-compat",UR="@firebase/app-check",FR="@firebase/auth",qR="@firebase/auth-compat",BR="@firebase/database",zR="@firebase/data-connect",$R="@firebase/database-compat",HR="@firebase/functions",WR="@firebase/functions-compat",KR="@firebase/installations",GR="@firebase/installations-compat",QR="@firebase/messaging",XR="@firebase/messaging-compat",YR="@firebase/performance",JR="@firebase/performance-compat",ZR="@firebase/remote-config",ek="@firebase/remote-config-compat",tk="@firebase/storage",nk="@firebase/storage-compat",rk="@firebase/firestore",ik="@firebase/vertexai",ok="@firebase/firestore-compat",sk="firebase",ak="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="[DEFAULT]",lk={[lm]:"fire-core",[LR]:"fire-core-compat",[jR]:"fire-analytics",[MR]:"fire-analytics-compat",[UR]:"fire-app-check",[VR]:"fire-app-check-compat",[FR]:"fire-auth",[qR]:"fire-auth-compat",[BR]:"fire-rtdb",[zR]:"fire-data-connect",[$R]:"fire-rtdb-compat",[HR]:"fire-fn",[WR]:"fire-fn-compat",[KR]:"fire-iid",[GR]:"fire-iid-compat",[QR]:"fire-fcm",[XR]:"fire-fcm-compat",[YR]:"fire-perf",[JR]:"fire-perf-compat",[ZR]:"fire-rc",[ek]:"fire-rc-compat",[tk]:"fire-gcs",[nk]:"fire-gcs-compat",[rk]:"fire-fst",[ok]:"fire-fst-compat",[ik]:"fire-vertex","fire-js":"fire-js",[sk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=new Map,uk=new Map,cm=new Map;function m_(n,e){try{n.container.addComponent(e)}catch(t){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Uo(n){const e=n.name;if(cm.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;cm.set(e,n);for(const t of Cc.values())m_(t,n);for(const t of uk.values())m_(t,n);return!0}function Zc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function cr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hi=new Pl("app","Firebase",ck);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=ak;function r0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:um,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Hi.create("bad-app-name",{appName:String(o)});if(t||(t=Jw()),!t)throw Hi.create("no-options");const a=Cc.get(o);if(a){if(Vo(t,a.options)&&Vo(r,a.config))return a;throw Hi.create("duplicate-app",{appName:o})}const u=new yR(o);for(const h of cm.values())u.addComponent(h);const f=new fk(t,r,u);return Cc.set(o,f),f}function qm(n=um){const e=Cc.get(n);if(!e&&n===um&&Jw())return r0();if(!e)throw Hi.create("no-app",{appName:n});return e}function Rr(n,e,t){var r;let o=(r=lk[n])!==null&&r!==void 0?r:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${o}" with version "${e}":`];a&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(f.join(" "));return}Uo(new Qi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="firebase-heartbeat-database",dk=1,vl="firebase-heartbeat-store";let fd=null;function i0(){return fd||(fd=PR(hk,dk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Hi.create("idb-open",{originalErrorMessage:n.message})})),fd}async function pk(n){try{const t=(await i0()).transaction(vl),r=await t.objectStore(vl).get(o0(n));return await t.done,r}catch(e){if(e instanceof jr)ii.warn(e.message);else{const t=Hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ii.warn(t.message)}}}async function g_(n,e){try{const r=(await i0()).transaction(vl,"readwrite");await r.objectStore(vl).put(e,o0(n)),await r.done}catch(t){if(t instanceof jr)ii.warn(t.message);else{const r=Hi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ii.warn(r.message)}}}function o0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=1024,gk=30;class yk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _k(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=y_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>gk){const u=Ek(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ii.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=y_(),{heartbeatsToSend:r,unsentEntries:o}=vk(this._heartbeatsCache.heartbeats),a=kc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ii.warn(t),""}}}function y_(){return new Date().toISOString().substring(0,10)}function vk(n,e=mk){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),v_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),v_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class _k{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oR()?sR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await pk(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return g_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return g_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function v_(n){return kc(JSON.stringify({version:2,heartbeats:n})).length}function Ek(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(n){Uo(new Qi("platform-logger",e=>new NR(e),"PRIVATE")),Uo(new Qi("heartbeat",e=>new yk(e),"PRIVATE")),Rr(lm,p_,n),Rr(lm,p_,"esm2017"),Rr("fire-js","")}wk("");var Tk="firebase",Sk="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(Tk,Sk,"app");function Bm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function s0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bk=s0,a0=new Pl("auth","Firebase",s0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Um("@firebase/auth");function Ak(n,...e){Pc.logLevel<=Ye.WARN&&Pc.warn(`Auth (${Ho}): ${n}`,...e)}function gc(n,...e){Pc.logLevel<=Ye.ERROR&&Pc.error(`Auth (${Ho}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(n,...e){throw zm(n,...e)}function kr(n,...e){return zm(n,...e)}function l0(n,e,t){const r=Object.assign(Object.assign({},bk()),{[e]:t});return new Pl("auth","Firebase",r).create(e,{appName:n.name})}function Mo(n){return l0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return a0.create(n,...e)}function qe(n,e,...t){if(!n)throw zm(e,...t)}function Jr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw gc(e),new Error(e)}function si(n,e){n||Jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Ik(){return __()==="http:"||__()==="https:"}function __(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ik()||tR()||"connection"in navigator)?navigator.onLine:!0}function kk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,t){this.shortDelay=e,this.longDelay=t,si(t>e,"Short delay should be less than long delay!"),this.isMobile=JI()||nR()}get(){return Rk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(n,e){si(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=new xl(3e4,6e4);function Hm(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ra(n,e,t,r,o={}){return c0(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const f=Ol(Object.assign({key:n.config.apiKey},u)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:h},a);return eR()||(m.referrerPolicy="no-referrer"),u0.fetch()(f0(n,n.config.apiHost,t,f),m)})}async function c0(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ck),e);try{const o=new xk(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw oc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[h,m]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw oc(n,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw oc(n,"email-already-in-use",u);if(h==="USER_DISABLED")throw oc(n,"user-disabled",u);const v=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw l0(n,v,m);oi(n,v)}}catch(o){if(o instanceof jr)throw o;oi(n,"network-request-failed",{message:String(o)})}}async function Ok(n,e,t,r,o={}){const a=await ra(n,e,t,r,o);return"mfaPendingCredential"in a&&oi(n,"multi-factor-auth-required",{_serverResponse:a}),a}function f0(n,e,t,r){const o=`${e}${t}?${r}`;return n.config.emulator?$m(n.config,o):`${n.config.apiScheme}://${o}`}class xk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(kr(this.auth,"network-request-failed")),Pk.get())})}}function oc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=kr(n,e,r);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(n,e){return ra(n,"POST","/v1/accounts:delete",e)}async function h0(n,e){return ra(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Dk(n,e=!1){const t=Kt(n),r=await t.getIdToken(e),o=Wm(r);qe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:r,authTime:fl(hd(o.auth_time)),issuedAtTime:fl(hd(o.iat)),expirationTime:fl(hd(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function hd(n){return Number(n)*1e3}function Wm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return gc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Qw(t);return o?JSON.parse(o):(gc("Failed to decode base64 JWT payload"),null)}catch(o){return gc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function E_(n){const e=Wm(n);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof jr&&Lk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Lk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fl(this.lastLoginAt),this.creationTime=fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oc(n){var e;const t=n.auth,r=await n.getIdToken(),o=await _l(n,h0(t,{idToken:r}));qe(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?d0(a.providerUserInfo):[],f=Vk(n.providerData,u),h=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(f!=null&&f.length),v=h?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new hm(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,y)}async function jk(n){const e=Kt(n);await Oc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Vk(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function d0(n){return n.map(e=>{var{providerId:t}=e,r=Bm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uk(n,e){const t=await c0(n,{},async()=>{const r=Ol({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=f0(n,o,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",u0.fetch()(u,{method:"POST",headers:f,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Fk(n,e){return ra(n,"POST","/v2/accounts:revokeToken",Hm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):E_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const t=E_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await Uk(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new Bs;return r&&(qe(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(qe(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(qe(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bs,this.toJSON())}_performRefresh(){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(n,e){qe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Zr{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,a=Bm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new hm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await _l(this,this.stsTokenManager.getToken(this.auth,e));return qe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Dk(this,e)}reload(){return jk(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Oc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cr(this.auth.app))return Promise.reject(Mo(this.auth));const e=await this.getIdToken();return await _l(this,Nk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,a,u,f,h,m,v;const y=(r=t.displayName)!==null&&r!==void 0?r:void 0,d=(o=t.email)!==null&&o!==void 0?o:void 0,g=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,S=(u=t.photoURL)!==null&&u!==void 0?u:void 0,T=(f=t.tenantId)!==null&&f!==void 0?f:void 0,E=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,w=(m=t.createdAt)!==null&&m!==void 0?m:void 0,b=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:k,emailVerified:_,isAnonymous:L,providerData:U,stsTokenManager:P}=t;qe(k&&P,e,"internal-error");const R=Bs.fromJSON(this.name,P);qe(typeof k=="string",e,"internal-error"),Mi(y,e.name),Mi(d,e.name),qe(typeof _=="boolean",e,"internal-error"),qe(typeof L=="boolean",e,"internal-error"),Mi(g,e.name),Mi(S,e.name),Mi(T,e.name),Mi(E,e.name),Mi(w,e.name),Mi(b,e.name);const M=new Zr({uid:k,auth:e,email:d,emailVerified:_,displayName:y,isAnonymous:L,photoURL:S,phoneNumber:g,tenantId:T,stsTokenManager:R,createdAt:w,lastLoginAt:b});return U&&Array.isArray(U)&&(M.providerData=U.map(x=>Object.assign({},x))),E&&(M._redirectEventId=E),M}static async _fromIdTokenResponse(e,t,r=!1){const o=new Bs;o.updateFromServerResponse(t);const a=new Zr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Oc(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];qe(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?d0(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),f=new Bs;f.updateFromIdToken(r);const h=new Zr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new hm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=new Map;function ei(n){si(n instanceof Function,"Expected a class definition");let e=w_.get(n);return e?(si(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,w_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}p0.type="NONE";const T_=p0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(n,e,t){return`firebase:${n}:${e}:${t}`}class zs{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=yc(this.userKey,o.apiKey,a),this.fullPersistenceKey=yc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new zs(ei(T_),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||ei(T_);const u=yc(r,e.config.apiKey,e.name);let f=null;for(const m of t)try{const v=await m._get(u);if(v){const y=Zr._fromJSON(e,v);m!==a&&(f=y),a=m;break}}catch{}const h=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new zs(a,e,r):(a=h[0],f&&await a._set(u,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new zs(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(v0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(m0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(E0(e))return"Blackberry";if(w0(e))return"Webos";if(g0(e))return"Safari";if((e.includes("chrome/")||y0(e))&&!e.includes("edge/"))return"Chrome";if(_0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function m0(n=fn()){return/firefox\//i.test(n)}function g0(n=fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function y0(n=fn()){return/crios\//i.test(n)}function v0(n=fn()){return/iemobile/i.test(n)}function _0(n=fn()){return/android/i.test(n)}function E0(n=fn()){return/blackberry/i.test(n)}function w0(n=fn()){return/webos/i.test(n)}function Km(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function qk(n=fn()){var e;return Km(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Bk(){return rR()&&document.documentMode===10}function T0(n=fn()){return Km(n)||_0(n)||w0(n)||E0(n)||/windows phone/i.test(n)||v0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(n,e=[]){let t;switch(n){case"Browser":t=S_(fn());break;case"Worker":t=`${S_(fn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ho}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,f)=>{try{const h=e(a);u(h)}catch(h){f(h)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $k(n,e={}){return ra(n,"GET","/v2/passwordPolicy",Hm(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=6;class Wk{constructor(e){var t,r,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:Hk,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,a,u,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(o=h.containsLowercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b_(this),this.idTokenSubscription=new b_(this),this.beforeStateQueue=new zk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=a0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ei(t)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await zs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await h0(this,{idToken:e}),r=await Zr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(cr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===f)&&(h!=null&&h.user)&&(o=h.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Oc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cr(this.app))return Promise.reject(Mo(this));const t=e?Kt(e):null;return t&&qe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cr(this.app)?Promise.reject(Mo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cr(this.app)?Promise.reject(Mo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $k(this),t=new Wk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Fk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ei(e)||this._popupRedirectResolver;qe(t,this,"argument-error"),this.redirectPersistenceManager=await zs.create(this,[ei(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,o);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=S0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Ak(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Gm(n){return Kt(n)}class b_{constructor(e){this.auth=e,this.observer=null,this.addObserver=fR(t=>this.observer=t)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Gk(n){Qm=n}function Qk(n){return Qm.loadJS(n)}function Xk(){return Qm.gapiScript}function Yk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(n,e){const t=Zc(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Vo(a,e??{}))return o;oi(o,"already-initialized")}return t.initialize({options:e})}function Zk(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ei);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function eC(n,e,t){const r=Gm(n);qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=b0(e),{host:u,port:f}=tC(e),h=f===null?"":`:${f}`,m={url:`${a}//${u}${h}/`},v=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),qe(Vo(m,r.config.emulator)&&Vo(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,nC()}function b0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function tC(n){const e=b0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:A_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:A_(u)}}}function A_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function nC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,t){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $s(n,e){return Ok(n,"POST","/v1/accounts:signInWithIdp",Hm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="http://localhost";class Fo extends A0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):oi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,a=Bm(t,["providerId","signInMethod"]);if(!r||!o)return null;const u=new Fo(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return $s(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,$s(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$s(e,t)}buildRequest(){const e={requestUri:rC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ol(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends I0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Nl{constructor(){super("facebook.com")}static credential(e){return Fo._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Nl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Fo._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ui.credential(t,r)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Nl{constructor(){super("github.com")}static credential(e){return Fo._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.GITHUB_SIGN_IN_METHOD="github.com";Fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Nl{constructor(){super("twitter.com")}static credential(e,t){return Fo._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return qi.credential(t,r)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await Zr._fromIdTokenResponse(e,r,o),u=I_(r);return new Ws({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=I_(r);return new Ws({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function I_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends jr{constructor(e,t,r,o){var a;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,xc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new xc(e,t,r,o)}}function R0(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?xc._fromErrorAndOperation(n,a,e,r):a})}async function iC(n,e,t=!1){const r=await _l(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ws._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(n,e,t=!1){const{auth:r}=n;if(cr(r.app))return Promise.reject(Mo(r));const o="reauthenticate";try{const a=await _l(n,R0(r,o,e,n),t);qe(a.idToken,r,"internal-error");const u=Wm(a.idToken);qe(u,r,"internal-error");const{sub:f}=u;return qe(n.uid===f,r,"user-mismatch"),Ws._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&oi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(n,e,t=!1){if(cr(n.app))return Promise.reject(Mo(n));const r="signIn",o=await R0(n,r,e),a=await Ws._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}function aC(n,e,t,r){return Kt(n).onIdTokenChanged(e,t,r)}function lC(n,e,t){return Kt(n).beforeAuthStateChanged(e,t)}const Nc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Nc,"1"),this.storage.removeItem(Nc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=1e3,cC=10;class C0 extends k0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,h)=>{this.notifyListeners(u,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);Bk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,cC):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},uC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}C0.type="LOCAL";const fC=C0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0 extends k0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}P0.type="SESSION";const O0=P0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new ef(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const f=Array.from(u).map(async m=>m(t.origin,a)),h=await hC(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((f,h)=>{const m=Xm("",20);o.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(y){const d=y;if(d.data.eventId===m)switch(d.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(d.data.response);break;default:clearTimeout(v),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function pC(n){Cr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function mC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function yC(){return x0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="firebaseLocalStorageDb",vC=1,Dc="firebaseLocalStorage",D0="fbase_key";class Dl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function tf(n,e){return n.transaction([Dc],e?"readwrite":"readonly").objectStore(Dc)}function _C(){const n=indexedDB.deleteDatabase(N0);return new Dl(n).toPromise()}function dm(){const n=indexedDB.open(N0,vC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Dc,{keyPath:D0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Dc)?e(r):(r.close(),await _C(),e(await dm()))})})}async function R_(n,e,t){const r=tf(n,!0).put({[D0]:e,value:t});return new Dl(r).toPromise()}async function EC(n,e){const t=tf(n,!1).get(e),r=await new Dl(t).toPromise();return r===void 0?null:r.value}function k_(n,e){const t=tf(n,!0).delete(e);return new Dl(t).toPromise()}const wC=800,TC=3;class L0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>TC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(yC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await mC(),!this.activeServiceWorker)return;this.sender=new dC(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dm();return await R_(e,Nc,"1"),await k_(e,Nc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>R_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>EC(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>k_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=tf(o,!1).getAll();return new Dl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}L0.type="LOCAL";const SC=L0;new xl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(n,e){return e?ei(e):(qe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym extends A0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $s(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $s(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $s(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function AC(n){return sC(n.auth,new Ym(n),n.bypassAuthState)}function IC(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),oC(t,new Ym(n),n.bypassAuthState)}async function RC(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),iC(t,new Ym(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:f}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AC;case"linkViaPopup":case"linkViaRedirect":return RC;case"reauthViaPopup":case"reauthViaRedirect":return IC;default:oi(this.auth,"internal-error")}}resolve(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=new xl(2e3,1e4);class qs extends M0{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,qs.currentPopupAction&&qs.currentPopupAction.cancel(),qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){si(this.filter.length===1,"Popup operations only handle one event");const e=Xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kC.get())};e()}}qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="pendingRedirect",vc=new Map;class PC extends M0{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=vc.get(this.auth._key());if(!e){try{const r=await OC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}vc.set(this.auth._key(),e)}return this.bypassAuthState||vc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OC(n,e){const t=DC(e),r=NC(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function xC(n,e){vc.set(n._key(),e)}function NC(n){return ei(n._redirectPersistence)}function DC(n){return yc(CC,n.config.apiKey,n.name)}async function LC(n,e,t=!1){if(cr(n.app))return Promise.reject(Mo(n));const r=Gm(n),o=bC(r,e),u=await new PC(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=10*60*1e3;class jC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!j0(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(kr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MC&&this.cachedEventUids.clear(),this.cachedEventUids.has(C_(e))}saveEventToCache(e){this.cachedEventUids.add(C_(e)),this.lastProcessedEventTime=Date.now()}}function C_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function j0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function VC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(n,e={}){return ra(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qC=/^https?/;async function BC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await UC(n);for(const t of e)try{if(zC(t))return}catch{}oi(n,"unauthorized-domain")}function zC(n){const e=fm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!qC.test(t))return!1;if(FC.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=new xl(3e4,6e4);function P_(){const n=Cr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function HC(n){return new Promise((e,t)=>{var r,o,a;function u(){P_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P_(),t(kr(n,"network-request-failed"))},timeout:$C.get()})}if(!((o=(r=Cr().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Cr().gapi)===null||a===void 0)&&a.load)u();else{const f=Yk("iframefcb");return Cr()[f]=()=>{gapi.load?u():t(kr(n,"network-request-failed"))},Qk(`${Xk()}?onload=${f}`).catch(h=>t(h))}}).catch(e=>{throw _c=null,e})}let _c=null;function WC(n){return _c=_c||HC(n),_c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=new xl(5e3,15e3),GC="__/auth/iframe",QC="emulator/auth/iframe",XC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JC(n){const e=n.config;qe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?$m(e,QC):`https://${n.config.authDomain}/${GC}`,r={apiKey:e.apiKey,appName:n.name,v:Ho},o=YC.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Ol(r).slice(1)}`}async function ZC(n){const e=await WC(n),t=Cr().gapi;return qe(t,n,"internal-error"),e.open({where:document.body,url:JC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XC,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=kr(n,"network-request-failed"),f=Cr().setTimeout(()=>{a(u)},KC.get());function h(){Cr().clearTimeout(f),o(r)}r.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tP=500,nP=600,rP="_blank",iP="http://localhost";class O_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oP(n,e,t,r=tP,o=nP){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const h=Object.assign(Object.assign({},eP),{width:r.toString(),height:o.toString(),top:a,left:u}),m=fn().toLowerCase();t&&(f=y0(m)?rP:t),m0(m)&&(e=e||iP,h.scrollbars="yes");const v=Object.entries(h).reduce((d,[g,S])=>`${d}${g}=${S},`,"");if(qk(m)&&f!=="_self")return sP(e||"",f),new O_(null);const y=window.open(e||"",f,v);qe(y,n,"popup-blocked");try{y.focus()}catch{}return new O_(y)}function sP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="__/auth/handler",lP="emulator/auth/handler",uP=encodeURIComponent("fac");async function x_(n,e,t,r,o,a){qe(n.config.authDomain,n,"auth-domain-config-required"),qe(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ho,eventId:o};if(e instanceof I0){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",cR(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,y]of Object.entries({}))u[v]=y}if(e instanceof Nl){const v=e.getScopes().filter(y=>y!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const h=await n._getAppCheckToken(),m=h?`#${uP}=${encodeURIComponent(h)}`:"";return`${cP(n)}?${Ol(f).slice(1)}${m}`}function cP({config:n}){return n.emulator?$m(n,lP):`https://${n.authDomain}/${aP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="webStorageSupport";class fP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=O0,this._completeRedirectFn=LC,this._overrideRedirectResult=xC}async _openPopup(e,t,r,o){var a;si((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await x_(e,t,r,fm(),o);return oP(e,u,Xm())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await x_(e,t,r,fm(),o);return pC(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(si(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await ZC(e),r=new jC(e);return t.register("authEvent",o=>(qe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(dd,{type:dd},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[dd];u!==void 0&&t(!!u),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=BC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return T0()||g0()||Km()}}const hP=fP;var N_="@firebase/auth",D_="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mP(n){Uo(new Qi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;qe(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:S0(n)},m=new Kk(r,o,a,h);return Zk(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Uo(new Qi("auth-internal",e=>{const t=Gm(e.getProvider("auth").getImmediate());return(r=>new dP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rr(N_,D_,pP(n)),Rr(N_,D_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=5*60,yP=Zw("authIdTokenMaxAge")||gP;let L_=null;const vP=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>yP)return;const o=t==null?void 0:t.token;L_!==o&&(L_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _P(n=qm()){const e=Zc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Jk(n,{popupRedirectResolver:hP,persistence:[SC,fC,O0]}),r=Zw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=vP(a.toString());lC(t,u,()=>u(t.currentUser)),aC(t,f=>u(f))}}const o=Xw("auth");return o&&eC(t,`http://${o}`),t}function EP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Gk({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=kr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",EP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mP("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="firebasestorage.googleapis.com",U0="storageBucket",wP=2*60*1e3,TP=10*60*1e3,SP=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It extends jr{constructor(e,t,r=0){super(pd(e),`Firebase Storage: ${t} (${pd(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,It.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return pd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vt||(vt={}));function pd(n){return"storage/"+n}function Jm(){const n="An unknown error occurred, please check the error payload for server response.";return new It(vt.UNKNOWN,n)}function bP(n){return new It(vt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function AP(n){return new It(vt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function IP(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new It(vt.UNAUTHENTICATED,n)}function RP(){return new It(vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function kP(n){return new It(vt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function F0(){return new It(vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function q0(){return new It(vt.CANCELED,"User canceled the upload/download.")}function CP(n){return new It(vt.INVALID_URL,"Invalid URL '"+n+"'.")}function PP(n){return new It(vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function OP(){return new It(vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+U0+"' property when initializing the app?")}function B0(){return new It(vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function xP(){return new It(vt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function NP(){return new It(vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function DP(n){return new It(vt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function pm(n){return new It(vt.INVALID_ARGUMENT,n)}function z0(){return new It(vt.APP_DELETED,"The Firebase app was deleted.")}function LP(n){return new It(vt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hl(n,e){return new It(vt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function rl(n){throw new It(vt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Ln.makeFromUrl(e,t)}catch{return new Ln(e,"")}if(r.path==="")return r;throw PP(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+o+u,"i"),h={bucket:1,path:3};function m(_){_.path_=decodeURIComponent(_.path)}const v="v[A-Za-z0-9_]+",y=t.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",g=new RegExp(`^https?://${y}/${v}/b/${o}/o${d}`,"i"),S={bucket:1,path:3},T=t===V0?"(?:storage.googleapis.com|storage.cloud.google.com)":t,E="([^?#]*)",w=new RegExp(`^https?://${T}/${o}/${E}`,"i"),k=[{regex:f,indices:h,postModify:a},{regex:g,indices:S,postModify:m},{regex:w,indices:{bucket:1,path:2},postModify:m}];for(let _=0;_<k.length;_++){const L=k[_],U=L.regex.exec(e);if(U){const P=U[L.indices.bucket];let R=U[L.indices.path];R||(R=""),r=new Ln(P,R),L.postModify(r);break}}if(r==null)throw CP(e);return r}}class MP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(n,e,t){let r=1,o=null,a=null,u=!1,f=0;function h(){return f===2}let m=!1;function v(...E){m||(m=!0,e.apply(null,E))}function y(E){o=setTimeout(()=>{o=null,n(g,h())},E)}function d(){a&&clearTimeout(a)}function g(E,...w){if(m){d();return}if(E){d(),v.call(null,E,...w);return}if(h()||u){d(),v.call(null,E,...w);return}r<64&&(r*=2);let k;f===1?(f=2,k=0):k=(r+Math.random())*1e3,y(k)}let S=!1;function T(E){S||(S=!0,d(),!m&&(o!==null?(E||(f=2),clearTimeout(o),y(0)):E||(f=1)))}return y(0),a=setTimeout(()=>{u=!0,T(!0)},t),T}function VP(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(n){return n!==void 0}function FP(n){return typeof n=="function"}function qP(n){return typeof n=="object"&&!Array.isArray(n)}function nf(n){return typeof n=="string"||n instanceof String}function M_(n){return Zm()&&n instanceof Blob}function Zm(){return typeof Blob<"u"}function j_(n,e,t,r){if(r<e)throw pm(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw pm(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function $0(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const o=e(r)+"="+e(n[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var jo;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(jo||(jo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,t,r,o,a,u,f,h,m,v,y,d=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=h,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=y,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,S)=>{this.resolve_=g,this.reject_=S,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new sc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=f=>{const h=f.loaded,m=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const f=a.getErrorCode()===jo.NO_ERROR,h=a.getStatus();if(!f||H0(h,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===jo.ABORT;r(!1,new sc(!1,null,v));return}const m=this.successCodes_.indexOf(h)!==-1;r(!0,new sc(m,a))})},t=(r,o)=>{const a=this.resolve_,u=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const h=this.callback_(f,f.getResponse());UP(h)?a(h):a()}catch(h){u(h)}else if(f!==null){const h=Jm();h.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,h)):u(h)}else if(o.canceled){const h=this.appDelete_?z0():q0();u(h)}else{const h=F0();u(h)}};this.canceled_?t(!1,new sc(!1,null,!0)):this.backoffId_=jP(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&VP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sc{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function zP(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function $P(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function HP(n,e){e&&(n["X-Firebase-GMPID"]=e)}function WP(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function KP(n,e,t,r,o,a,u=!0){const f=$0(n.urlParams),h=n.url+f,m=Object.assign({},n.headers);return HP(m,e),zP(m,t),$P(m,a),WP(m,r),new BP(h,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function QP(...n){const e=GP();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Zm())return new Blob(n);throw new It(vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function XP(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(n){if(typeof atob>"u")throw DP("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class md{constructor(e,t){this.data=e,this.contentType=t||null}}function JP(n,e){switch(n){case Ir.RAW:return new md(W0(e));case Ir.BASE64:case Ir.BASE64URL:return new md(K0(n,e));case Ir.DATA_URL:return new md(eO(e),tO(e))}throw Jm()}function W0(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,u=n.charCodeAt(++t);r=65536|(a&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function ZP(n){let e;try{e=decodeURIComponent(n)}catch{throw hl(Ir.DATA_URL,"Malformed data URL.")}return W0(e)}function K0(n,e){switch(n){case Ir.BASE64:{const o=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(o||a)throw hl(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ir.BASE64URL:{const o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a)throw hl(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=YP(e)}catch(o){throw o.message.includes("polyfill")?o:hl(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class G0{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw hl(Ir.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=nO(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function eO(n){const e=new G0(n);return e.base64?K0(Ir.BASE64,e.rest):ZP(e.rest)}function tO(n){return new G0(n).contentType}function nO(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,t){let r=0,o="";M_(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(M_(this.data_)){const r=this.data_,o=XP(r,e,t);return o===null?null:new Bi(o)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Bi(r,!0)}}static getBlob(...e){if(Zm()){const t=e.map(r=>r instanceof Bi?r.data_:r);return new Bi(QP.apply(null,t))}else{const t=e.map(u=>nf(u)?JP(Ir.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const o=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let f=0;f<u.length;f++)o[a++]=u[f]}),new Bi(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(n){let e;try{e=JSON.parse(n)}catch{return null}return qP(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function iO(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function X0(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(n,e){return e}class gn{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||oO}}let ac=null;function sO(n){return!nf(n)||n.length<2?n:X0(n)}function Y0(){if(ac)return ac;const n=[];n.push(new gn("bucket")),n.push(new gn("generation")),n.push(new gn("metageneration")),n.push(new gn("name","fullPath",!0));function e(a,u){return sO(u)}const t=new gn("name");t.xform=e,n.push(t);function r(a,u){return u!==void 0?Number(u):u}const o=new gn("size");return o.xform=r,n.push(o),n.push(new gn("timeCreated")),n.push(new gn("updated")),n.push(new gn("md5Hash",null,!0)),n.push(new gn("cacheControl",null,!0)),n.push(new gn("contentDisposition",null,!0)),n.push(new gn("contentEncoding",null,!0)),n.push(new gn("contentLanguage",null,!0)),n.push(new gn("contentType",null,!0)),n.push(new gn("metadata","customMetadata",!0)),ac=n,ac}function aO(n,e){function t(){const r=n.bucket,o=n.fullPath,a=new Ln(r,o);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function lO(n,e,t){const r={};r.type="file";const o=t.length;for(let a=0;a<o;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return aO(r,n),r}function J0(n,e,t){const r=Q0(e);return r===null?null:lO(n,r,t)}function uO(n,e,t,r){const o=Q0(e);if(o===null||!nf(o.downloadTokens))return null;const a=o.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(m=>{const v=n.bucket,y=n.fullPath,d="/b/"+u(v)+"/o/"+u(y),g=Ll(d,t,r),S=$0({alt:"media",token:m});return g+S})[0]}function Z0(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const a=e[o];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class ia{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(n){if(!n)throw Jm()}function eg(n,e){function t(r,o){const a=J0(n,o,e);return ni(a!==null),a}return t}function cO(n,e){function t(r,o){const a=J0(n,o,e);return ni(a!==null),uO(a,o,n.host,n._protocol)}return t}function Ml(n){function e(t,r){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=RP():o=IP():t.getStatus()===402?o=AP(n.bucket):t.getStatus()===403?o=kP(n.path):o=r,o.status=t.getStatus(),o.serverResponse=r.serverResponse,o}return e}function eT(n){const e=Ml(n);function t(r,o){let a=e(r,o);return r.getStatus()===404&&(a=bP(n.path)),a.serverResponse=o.serverResponse,a}return t}function fO(n,e,t){const r=e.fullServerUrl(),o=Ll(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,f=new ia(o,a,eg(n,t),u);return f.errorHandler=eT(e),f}function hO(n,e,t){const r=e.fullServerUrl(),o=Ll(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,f=new ia(o,a,cO(n,t),u);return f.errorHandler=eT(e),f}function dO(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function tT(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=dO(null,e)),r}function pO(n,e,t,r,o){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let k="";for(let _=0;_<2;_++)k=k+Math.random().toString().slice(2);return k}const h=f();u["Content-Type"]="multipart/related; boundary="+h;const m=tT(e,r,o),v=Z0(m,t),y="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+h+`\r
Content-Type: `+m.contentType+`\r
\r
`,d=`\r
--`+h+"--",g=Bi.getBlob(y,r,d);if(g===null)throw B0();const S={name:m.fullPath},T=Ll(a,n.host,n._protocol),E="POST",w=n.maxUploadRetryTime,b=new ia(T,E,eg(n,t),w);return b.urlParams=S,b.headers=u,b.body=g.uploadData(),b.errorHandler=Ml(e),b}class Lc{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function tg(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{ni(!1)}return ni(!!t&&(e||["active"]).indexOf(t)!==-1),t}function mO(n,e,t,r,o){const a=e.bucketOnlyServerUrl(),u=tT(e,r,o),f={name:u.fullPath},h=Ll(a,n.host,n._protocol),m="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},y=Z0(u,t),d=n.maxUploadRetryTime;function g(T){tg(T);let E;try{E=T.getResponseHeader("X-Goog-Upload-URL")}catch{ni(!1)}return ni(nf(E)),E}const S=new ia(h,m,g,d);return S.urlParams=f,S.headers=v,S.body=y,S.errorHandler=Ml(e),S}function gO(n,e,t,r){const o={"X-Goog-Upload-Command":"query"};function a(m){const v=tg(m,["active","final"]);let y=null;try{y=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ni(!1)}y||ni(!1);const d=Number(y);return ni(!isNaN(d)),new Lc(d,r.size(),v==="final")}const u="POST",f=n.maxUploadRetryTime,h=new ia(t,u,a,f);return h.headers=o,h.errorHandler=Ml(e),h}const V_=256*1024;function yO(n,e,t,r,o,a,u,f){const h=new Lc(0,0);if(u?(h.current=u.current,h.total=u.total):(h.current=0,h.total=r.size()),r.size()!==h.total)throw xP();const m=h.total-h.current;let v=m;o>0&&(v=Math.min(v,o));const y=h.current,d=y+v;let g="";v===0?g="finalize":m===v?g="upload, finalize":g="upload";const S={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${h.current}`},T=r.slice(y,d);if(T===null)throw B0();function E(_,L){const U=tg(_,["active","final"]),P=h.current+v,R=r.size();let M;return U==="final"?M=eg(e,a)(_,L):M=null,new Lc(P,R,U==="final",M)}const w="POST",b=e.maxUploadRetryTime,k=new ia(t,w,E,b);return k.headers=S,k.body=T.uploadData(),k.progressCallback=f||null,k.errorHandler=Ml(n),k}const An={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function gd(n){switch(n){case"running":case"pausing":case"canceling":return An.RUNNING;case"paused":return An.PAUSED;case"success":return An.SUCCESS;case"canceled":return An.CANCELED;case"error":return An.ERROR;default:return An.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,t,r){if(FP(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class _O{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=jo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=jo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=jo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o){if(this.sent_)throw rl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const a in o)o.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,o[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw rl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw rl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw rl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw rl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class EO extends _O{initXhr(){this.xhr_.responseType="text"}}function Ms(){return new EO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Y0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(vt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(H0(o.status,[]))if(a)o=F0();else{this.sleepTime=Math.max(this.sleepTime*2,SP),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(vt.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,a)=>{this._resolve=o,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const r=mO(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Ms,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=gO(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(o,Ms,t,r);this._request=a,a.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=V_*this._chunkMultiplier,t=new Lc(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,a)=>{let u;try{u=yO(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(h){this._error=h,this._transition("error");return}const f=this._ref.storage._makeRequest(u,Ms,o,a,!1);this._request=f,f.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){V_*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=fO(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,Ms,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=pO(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Ms,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=q0(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=gd(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const a=new vO(t||void 0,r||void 0,o||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(gd(this._state)){case An.SUCCESS:Ls(this._resolve.bind(null,this.snapshot))();break;case An.CANCELED:case An.ERROR:const t=this._reject;Ls(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(gd(this._state)){case An.RUNNING:case An.PAUSED:e.next&&Ls(e.next.bind(e,this.snapshot))();break;case An.SUCCESS:e.complete&&Ls(e.complete.bind(e))();break;case An.CANCELED:case An.ERROR:e.error&&Ls(e.error.bind(e,this._error))();break;default:e.error&&Ls(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,t){this._service=e,t instanceof Ln?this._location=t:this._location=Ln.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new qo(e,t)}get root(){const e=new Ln(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return X0(this._location.path)}get storage(){return this._service}get parent(){const e=rO(this._location.path);if(e===null)return null;const t=new Ln(this._location.bucket,e);return new qo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw LP(e)}}function TO(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new wO(n,new Bi(e),t)}function SO(n){n._throwIfRoot("getDownloadURL");const e=hO(n.storage,n._location,Y0());return n.storage.makeRequestWithTokens(e,Ms).then(t=>{if(t===null)throw NP();return t})}function bO(n,e){const t=iO(n._location.path,e),r=new Ln(n._location.bucket,t);return new qo(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(n){return/^[A-Za-z]+:\/\//.test(n)}function IO(n,e){return new qo(n,e)}function nT(n,e){if(n instanceof ng){const t=n;if(t._bucket==null)throw OP();const r=new qo(t,t._bucket);return e!=null?nT(r,e):r}else return e!==void 0?bO(n,e):n}function RO(n,e){if(e&&AO(e)){if(n instanceof ng)return IO(n,e);throw pm("To use ref(service, url), the first argument must be a Storage instance.")}else return nT(n,e)}function U_(n,e){const t=e==null?void 0:e[U0];return t==null?null:Ln.makeFromBucketSpec(t,n)}function kO(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:e0(o,n.app.options.projectId))}class ng{constructor(e,t,r,o,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=V0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=wP,this._maxUploadRetryTime=TP,this._requests=new Set,o!=null?this._bucket=Ln.makeFromBucketSpec(o,this._host):this._bucket=U_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ln.makeFromBucketSpec(this._url,e):this._bucket=U_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){j_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){j_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qo(this,e)}_makeRequest(e,t,r,o,a=!0){if(this._deleted)return new MP(z0());{const u=KP(e,this._appId,r,o,t,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const F_="@firebase/storage",q_="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="storage";function CO(n,e,t){return n=Kt(n),TO(n,e,t)}function PO(n){return n=Kt(n),SO(n)}function OO(n,e){return n=Kt(n),RO(n,e)}function xO(n=qm(),e){n=Kt(n);const r=Zc(n,rT).getImmediate({identifier:e}),o=Yw("storage");return o&&NO(r,...o),r}function NO(n,e,t,r={}){kO(n,e,t,r)}function DO(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new ng(t,r,o,e,Ho)}function LO(){Uo(new Qi(rT,DO,"PUBLIC").setMultipleInstances(!0)),Rr(F_,q_,""),Rr(F_,q_,"esm2017")}LO();const MO={apiKey:"AIzaSyAkiymbxr2eTiM0DGSUmIkI2bqT3jBt1zs",authDomain:"dragon-computers.firebaseapp.com",projectId:"dragon-computers",storageBucket:"dragon-computers.firebasestorage.app",messagingSenderId:"439889480116",appId:"1:439889480116:web:4e288f14e42526cf390ae1"},rg=r0(MO);_P(rg);const jO=xO(rg);var B_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wi,iT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,R){function M(){}M.prototype=R.prototype,P.D=R.prototype,P.prototype=new M,P.prototype.constructor=P,P.C=function(x,I,D){for(var N=Array(arguments.length-2),$=2;$<arguments.length;$++)N[$-2]=arguments[$];return R.prototype[I].apply(x,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,R,M){M||(M=0);var x=Array(16);if(typeof R=="string")for(var I=0;16>I;++I)x[I]=R.charCodeAt(M++)|R.charCodeAt(M++)<<8|R.charCodeAt(M++)<<16|R.charCodeAt(M++)<<24;else for(I=0;16>I;++I)x[I]=R[M++]|R[M++]<<8|R[M++]<<16|R[M++]<<24;R=P.g[0],M=P.g[1],I=P.g[2];var D=P.g[3],N=R+(D^M&(I^D))+x[0]+3614090360&4294967295;R=M+(N<<7&4294967295|N>>>25),N=D+(I^R&(M^I))+x[1]+3905402710&4294967295,D=R+(N<<12&4294967295|N>>>20),N=I+(M^D&(R^M))+x[2]+606105819&4294967295,I=D+(N<<17&4294967295|N>>>15),N=M+(R^I&(D^R))+x[3]+3250441966&4294967295,M=I+(N<<22&4294967295|N>>>10),N=R+(D^M&(I^D))+x[4]+4118548399&4294967295,R=M+(N<<7&4294967295|N>>>25),N=D+(I^R&(M^I))+x[5]+1200080426&4294967295,D=R+(N<<12&4294967295|N>>>20),N=I+(M^D&(R^M))+x[6]+2821735955&4294967295,I=D+(N<<17&4294967295|N>>>15),N=M+(R^I&(D^R))+x[7]+4249261313&4294967295,M=I+(N<<22&4294967295|N>>>10),N=R+(D^M&(I^D))+x[8]+1770035416&4294967295,R=M+(N<<7&4294967295|N>>>25),N=D+(I^R&(M^I))+x[9]+2336552879&4294967295,D=R+(N<<12&4294967295|N>>>20),N=I+(M^D&(R^M))+x[10]+4294925233&4294967295,I=D+(N<<17&4294967295|N>>>15),N=M+(R^I&(D^R))+x[11]+2304563134&4294967295,M=I+(N<<22&4294967295|N>>>10),N=R+(D^M&(I^D))+x[12]+1804603682&4294967295,R=M+(N<<7&4294967295|N>>>25),N=D+(I^R&(M^I))+x[13]+4254626195&4294967295,D=R+(N<<12&4294967295|N>>>20),N=I+(M^D&(R^M))+x[14]+2792965006&4294967295,I=D+(N<<17&4294967295|N>>>15),N=M+(R^I&(D^R))+x[15]+1236535329&4294967295,M=I+(N<<22&4294967295|N>>>10),N=R+(I^D&(M^I))+x[1]+4129170786&4294967295,R=M+(N<<5&4294967295|N>>>27),N=D+(M^I&(R^M))+x[6]+3225465664&4294967295,D=R+(N<<9&4294967295|N>>>23),N=I+(R^M&(D^R))+x[11]+643717713&4294967295,I=D+(N<<14&4294967295|N>>>18),N=M+(D^R&(I^D))+x[0]+3921069994&4294967295,M=I+(N<<20&4294967295|N>>>12),N=R+(I^D&(M^I))+x[5]+3593408605&4294967295,R=M+(N<<5&4294967295|N>>>27),N=D+(M^I&(R^M))+x[10]+38016083&4294967295,D=R+(N<<9&4294967295|N>>>23),N=I+(R^M&(D^R))+x[15]+3634488961&4294967295,I=D+(N<<14&4294967295|N>>>18),N=M+(D^R&(I^D))+x[4]+3889429448&4294967295,M=I+(N<<20&4294967295|N>>>12),N=R+(I^D&(M^I))+x[9]+568446438&4294967295,R=M+(N<<5&4294967295|N>>>27),N=D+(M^I&(R^M))+x[14]+3275163606&4294967295,D=R+(N<<9&4294967295|N>>>23),N=I+(R^M&(D^R))+x[3]+4107603335&4294967295,I=D+(N<<14&4294967295|N>>>18),N=M+(D^R&(I^D))+x[8]+1163531501&4294967295,M=I+(N<<20&4294967295|N>>>12),N=R+(I^D&(M^I))+x[13]+2850285829&4294967295,R=M+(N<<5&4294967295|N>>>27),N=D+(M^I&(R^M))+x[2]+4243563512&4294967295,D=R+(N<<9&4294967295|N>>>23),N=I+(R^M&(D^R))+x[7]+1735328473&4294967295,I=D+(N<<14&4294967295|N>>>18),N=M+(D^R&(I^D))+x[12]+2368359562&4294967295,M=I+(N<<20&4294967295|N>>>12),N=R+(M^I^D)+x[5]+4294588738&4294967295,R=M+(N<<4&4294967295|N>>>28),N=D+(R^M^I)+x[8]+2272392833&4294967295,D=R+(N<<11&4294967295|N>>>21),N=I+(D^R^M)+x[11]+1839030562&4294967295,I=D+(N<<16&4294967295|N>>>16),N=M+(I^D^R)+x[14]+4259657740&4294967295,M=I+(N<<23&4294967295|N>>>9),N=R+(M^I^D)+x[1]+2763975236&4294967295,R=M+(N<<4&4294967295|N>>>28),N=D+(R^M^I)+x[4]+1272893353&4294967295,D=R+(N<<11&4294967295|N>>>21),N=I+(D^R^M)+x[7]+4139469664&4294967295,I=D+(N<<16&4294967295|N>>>16),N=M+(I^D^R)+x[10]+3200236656&4294967295,M=I+(N<<23&4294967295|N>>>9),N=R+(M^I^D)+x[13]+681279174&4294967295,R=M+(N<<4&4294967295|N>>>28),N=D+(R^M^I)+x[0]+3936430074&4294967295,D=R+(N<<11&4294967295|N>>>21),N=I+(D^R^M)+x[3]+3572445317&4294967295,I=D+(N<<16&4294967295|N>>>16),N=M+(I^D^R)+x[6]+76029189&4294967295,M=I+(N<<23&4294967295|N>>>9),N=R+(M^I^D)+x[9]+3654602809&4294967295,R=M+(N<<4&4294967295|N>>>28),N=D+(R^M^I)+x[12]+3873151461&4294967295,D=R+(N<<11&4294967295|N>>>21),N=I+(D^R^M)+x[15]+530742520&4294967295,I=D+(N<<16&4294967295|N>>>16),N=M+(I^D^R)+x[2]+3299628645&4294967295,M=I+(N<<23&4294967295|N>>>9),N=R+(I^(M|~D))+x[0]+4096336452&4294967295,R=M+(N<<6&4294967295|N>>>26),N=D+(M^(R|~I))+x[7]+1126891415&4294967295,D=R+(N<<10&4294967295|N>>>22),N=I+(R^(D|~M))+x[14]+2878612391&4294967295,I=D+(N<<15&4294967295|N>>>17),N=M+(D^(I|~R))+x[5]+4237533241&4294967295,M=I+(N<<21&4294967295|N>>>11),N=R+(I^(M|~D))+x[12]+1700485571&4294967295,R=M+(N<<6&4294967295|N>>>26),N=D+(M^(R|~I))+x[3]+2399980690&4294967295,D=R+(N<<10&4294967295|N>>>22),N=I+(R^(D|~M))+x[10]+4293915773&4294967295,I=D+(N<<15&4294967295|N>>>17),N=M+(D^(I|~R))+x[1]+2240044497&4294967295,M=I+(N<<21&4294967295|N>>>11),N=R+(I^(M|~D))+x[8]+1873313359&4294967295,R=M+(N<<6&4294967295|N>>>26),N=D+(M^(R|~I))+x[15]+4264355552&4294967295,D=R+(N<<10&4294967295|N>>>22),N=I+(R^(D|~M))+x[6]+2734768916&4294967295,I=D+(N<<15&4294967295|N>>>17),N=M+(D^(I|~R))+x[13]+1309151649&4294967295,M=I+(N<<21&4294967295|N>>>11),N=R+(I^(M|~D))+x[4]+4149444226&4294967295,R=M+(N<<6&4294967295|N>>>26),N=D+(M^(R|~I))+x[11]+3174756917&4294967295,D=R+(N<<10&4294967295|N>>>22),N=I+(R^(D|~M))+x[2]+718787259&4294967295,I=D+(N<<15&4294967295|N>>>17),N=M+(D^(I|~R))+x[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(I+(N<<21&4294967295|N>>>11))&4294967295,P.g[2]=P.g[2]+I&4294967295,P.g[3]=P.g[3]+D&4294967295}r.prototype.u=function(P,R){R===void 0&&(R=P.length);for(var M=R-this.blockSize,x=this.B,I=this.h,D=0;D<R;){if(I==0)for(;D<=M;)o(this,P,D),D+=this.blockSize;if(typeof P=="string"){for(;D<R;)if(x[I++]=P.charCodeAt(D++),I==this.blockSize){o(this,x),I=0;break}}else for(;D<R;)if(x[I++]=P[D++],I==this.blockSize){o(this,x),I=0;break}}this.h=I,this.o+=R},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;var M=8*this.o;for(R=P.length-8;R<P.length;++R)P[R]=M&255,M/=256;for(this.u(P),P=Array(16),R=M=0;4>R;++R)for(var x=0;32>x;x+=8)P[M++]=this.g[R]>>>x&255;return P};function a(P,R){var M=f;return Object.prototype.hasOwnProperty.call(M,P)?M[P]:M[P]=R(P)}function u(P,R){this.h=R;for(var M=[],x=!0,I=P.length-1;0<=I;I--){var D=P[I]|0;x&&D==R||(M[I]=D,x=!1)}this.g=M}var f={};function h(P){return-128<=P&&128>P?a(P,function(R){return new u([R|0],0>R?-1:0)}):new u([P|0],0>P?-1:0)}function m(P){if(isNaN(P)||!isFinite(P))return y;if(0>P)return E(m(-P));for(var R=[],M=1,x=0;P>=M;x++)R[x]=P/M|0,M*=4294967296;return new u(R,0)}function v(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return E(v(P.substring(1),R));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=m(Math.pow(R,8)),x=y,I=0;I<P.length;I+=8){var D=Math.min(8,P.length-I),N=parseInt(P.substring(I,I+D),R);8>D?(D=m(Math.pow(R,D)),x=x.j(D).add(m(N))):(x=x.j(M),x=x.add(m(N)))}return x}var y=h(0),d=h(1),g=h(16777216);n=u.prototype,n.m=function(){if(T(this))return-E(this).m();for(var P=0,R=1,M=0;M<this.g.length;M++){var x=this.i(M);P+=(0<=x?x:4294967296+x)*R,R*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(S(this))return"0";if(T(this))return"-"+E(this).toString(P);for(var R=m(Math.pow(P,6)),M=this,x="";;){var I=_(M,R).g;M=w(M,I.j(R));var D=((0<M.g.length?M.g[0]:M.h)>>>0).toString(P);if(M=I,S(M))return D+x;for(;6>D.length;)D="0"+D;x=D+x}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function S(P){if(P.h!=0)return!1;for(var R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function T(P){return P.h==-1}n.l=function(P){return P=w(this,P),T(P)?-1:S(P)?0:1};function E(P){for(var R=P.g.length,M=[],x=0;x<R;x++)M[x]=~P.g[x];return new u(M,~P.h).add(d)}n.abs=function(){return T(this)?E(this):this},n.add=function(P){for(var R=Math.max(this.g.length,P.g.length),M=[],x=0,I=0;I<=R;I++){var D=x+(this.i(I)&65535)+(P.i(I)&65535),N=(D>>>16)+(this.i(I)>>>16)+(P.i(I)>>>16);x=N>>>16,D&=65535,N&=65535,M[I]=N<<16|D}return new u(M,M[M.length-1]&-2147483648?-1:0)};function w(P,R){return P.add(E(R))}n.j=function(P){if(S(this)||S(P))return y;if(T(this))return T(P)?E(this).j(E(P)):E(E(this).j(P));if(T(P))return E(this.j(E(P)));if(0>this.l(g)&&0>P.l(g))return m(this.m()*P.m());for(var R=this.g.length+P.g.length,M=[],x=0;x<2*R;x++)M[x]=0;for(x=0;x<this.g.length;x++)for(var I=0;I<P.g.length;I++){var D=this.i(x)>>>16,N=this.i(x)&65535,$=P.i(I)>>>16,G=P.i(I)&65535;M[2*x+2*I]+=N*G,b(M,2*x+2*I),M[2*x+2*I+1]+=D*G,b(M,2*x+2*I+1),M[2*x+2*I+1]+=N*$,b(M,2*x+2*I+1),M[2*x+2*I+2]+=D*$,b(M,2*x+2*I+2)}for(x=0;x<R;x++)M[x]=M[2*x+1]<<16|M[2*x];for(x=R;x<2*R;x++)M[x]=0;return new u(M,0)};function b(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function k(P,R){this.g=P,this.h=R}function _(P,R){if(S(R))throw Error("division by zero");if(S(P))return new k(y,y);if(T(P))return R=_(E(P),R),new k(E(R.g),E(R.h));if(T(R))return R=_(P,E(R)),new k(E(R.g),R.h);if(30<P.g.length){if(T(P)||T(R))throw Error("slowDivide_ only works with positive integers.");for(var M=d,x=R;0>=x.l(P);)M=L(M),x=L(x);var I=U(M,1),D=U(x,1);for(x=U(x,2),M=U(M,2);!S(x);){var N=D.add(x);0>=N.l(P)&&(I=I.add(M),D=N),x=U(x,1),M=U(M,1)}return R=w(P,I.j(R)),new k(I,R)}for(I=y;0<=P.l(R);){for(M=Math.max(1,Math.floor(P.m()/R.m())),x=Math.ceil(Math.log(M)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),D=m(M),N=D.j(R);T(N)||0<N.l(P);)M-=x,D=m(M),N=D.j(R);S(D)&&(D=d),I=I.add(D),P=w(P,N)}return new k(I,P)}n.A=function(P){return _(this,P).h},n.and=function(P){for(var R=Math.max(this.g.length,P.g.length),M=[],x=0;x<R;x++)M[x]=this.i(x)&P.i(x);return new u(M,this.h&P.h)},n.or=function(P){for(var R=Math.max(this.g.length,P.g.length),M=[],x=0;x<R;x++)M[x]=this.i(x)|P.i(x);return new u(M,this.h|P.h)},n.xor=function(P){for(var R=Math.max(this.g.length,P.g.length),M=[],x=0;x<R;x++)M[x]=this.i(x)^P.i(x);return new u(M,this.h^P.h)};function L(P){for(var R=P.g.length+1,M=[],x=0;x<R;x++)M[x]=P.i(x)<<1|P.i(x-1)>>>31;return new u(M,P.h)}function U(P,R){var M=R>>5;R%=32;for(var x=P.g.length-M,I=[],D=0;D<x;D++)I[D]=0<R?P.i(D+M)>>>R|P.i(D+M+1)<<32-R:P.i(D+M);return new u(I,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,iT=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Wi=u}).apply(typeof B_<"u"?B_:typeof self<"u"?self:typeof window<"u"?window:{});var lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oT,ol,sT,Ec,mm,aT,lT,uT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,C,V){return c==Array.prototype||c==Object.prototype||(c[C]=V.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof lc=="object"&&lc];for(var C=0;C<c.length;++C){var V=c[C];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var r=t(this);function o(c,C){if(C)e:{var V=r;c=c.split(".");for(var B=0;B<c.length-1;B++){var ae=c[B];if(!(ae in V))break e;V=V[ae]}c=c[c.length-1],B=V[c],C=C(B),C!=B&&C!=null&&e(V,c,{configurable:!0,writable:!0,value:C})}}function a(c,C){c instanceof String&&(c+="");var V=0,B=!1,ae={next:function(){if(!B&&V<c.length){var fe=V++;return{value:C(fe,c[fe]),done:!1}}return B=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}o("Array.prototype.values",function(c){return c||function(){return a(this,function(C,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function h(c){var C=typeof c;return C=C!="object"?C:c?Array.isArray(c)?"array":C:"null",C=="array"||C=="object"&&typeof c.length=="number"}function m(c){var C=typeof c;return C=="object"&&c!=null||C=="function"}function v(c,C,V){return c.call.apply(c.bind,arguments)}function y(c,C,V){if(!c)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,B),c.apply(C,ae)}}return function(){return c.apply(C,arguments)}}function d(c,C,V){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:y,d.apply(null,arguments)}function g(c,C){var V=Array.prototype.slice.call(arguments,1);return function(){var B=V.slice();return B.push.apply(B,arguments),c.apply(this,B)}}function S(c,C){function V(){}V.prototype=C.prototype,c.aa=C.prototype,c.prototype=new V,c.prototype.constructor=c,c.Qb=function(B,ae,fe){for(var be=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)be[ft-2]=arguments[ft];return C.prototype[ae].apply(B,be)}}function T(c){const C=c.length;if(0<C){const V=Array(C);for(let B=0;B<C;B++)V[B]=c[B];return V}return[]}function E(c,C){for(let V=1;V<arguments.length;V++){const B=arguments[V];if(h(B)){const ae=c.length||0,fe=B.length||0;c.length=ae+fe;for(let be=0;be<fe;be++)c[ae+be]=B[be]}else c.push(B)}}class w{constructor(C,V){this.i=C,this.j=V,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function b(c){return/^[\s\xa0]*$/.test(c)}function k(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function _(c){return _[" "](c),c}_[" "]=function(){};var L=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function U(c,C,V){for(const B in c)C.call(V,c[B],B,c)}function P(c,C){for(const V in c)C.call(void 0,c[V],V,c)}function R(c){const C={};for(const V in c)C[V]=c[V];return C}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,C){let V,B;for(let ae=1;ae<arguments.length;ae++){B=arguments[ae];for(V in B)c[V]=B[V];for(let fe=0;fe<M.length;fe++)V=M[fe],Object.prototype.hasOwnProperty.call(B,V)&&(c[V]=B[V])}}function I(c){var C=1;c=c.split(":");const V=[];for(;0<C&&c.length;)V.push(c.shift()),C--;return c.length&&V.push(c.join(":")),V}function D(c){f.setTimeout(()=>{throw c},0)}function N(){var c=Y;let C=null;return c.g&&(C=c.g,c.g=c.g.next,c.g||(c.h=null),C.next=null),C}class ${constructor(){this.h=this.g=null}add(C,V){const B=G.get();B.set(C,V),this.h?this.h.next=B:this.g=B,this.h=B}}var G=new w(()=>new Z,c=>c.reset());class Z{constructor(){this.next=this.g=this.h=null}set(C,V){this.h=C,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let X,ie=!1,Y=new $,H=()=>{const c=f.Promise.resolve(void 0);X=()=>{c.then(j)}};var j=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(V){D(V)}var C=G;C.j(c),100>C.h&&(C.h++,c.next=C.g,C.g=c)}ie=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(c,C){this.type=c,this.g=this.target=C,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ne=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,C=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const V=()=>{};f.addEventListener("test",V,C),f.removeEventListener("test",V,C)}catch{}return c}();function te(c,C){if(W.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var V=this.type=c.type,B=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=C,C=c.relatedTarget){if(L){e:{try{_(C.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(C=null)}}else V=="mouseover"?C=c.fromElement:V=="mouseout"&&(C=c.toElement);this.relatedTarget=C,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:z[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&te.aa.h.call(this)}}S(te,W);var z={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),oe=0;function se(c,C,V,B,ae){this.listener=c,this.proxy=null,this.src=C,this.type=V,this.capture=!!B,this.ha=ae,this.key=++oe,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ie(c){this.src=c,this.g={},this.h=0}Ie.prototype.add=function(c,C,V,B,ae){var fe=c.toString();c=this.g[fe],c||(c=this.g[fe]=[],this.h++);var be=Ve(c,C,B,ae);return-1<be?(C=c[be],V||(C.fa=!1)):(C=new se(C,this.src,fe,!!B,ae),C.fa=V,c.push(C)),C};function De(c,C){var V=C.type;if(V in c.g){var B=c.g[V],ae=Array.prototype.indexOf.call(B,C,void 0),fe;(fe=0<=ae)&&Array.prototype.splice.call(B,ae,1),fe&&(pe(C),c.g[V].length==0&&(delete c.g[V],c.h--))}}function Ve(c,C,V,B){for(var ae=0;ae<c.length;++ae){var fe=c[ae];if(!fe.da&&fe.listener==C&&fe.capture==!!V&&fe.ha==B)return ae}return-1}var We="closure_lm_"+(1e6*Math.random()|0),Xe={};function Ot(c,C,V,B,ae){if(Array.isArray(C)){for(var fe=0;fe<C.length;fe++)Ot(c,C[fe],V,B,ae);return null}return V=Ke(V),c&&c[J]?c.K(C,V,m(B)?!!B.capture:!1,ae):mt(c,C,V,!1,B,ae)}function mt(c,C,V,B,ae,fe){if(!C)throw Error("Invalid event type");var be=m(ae)?!!ae.capture:!!ae,ft=Be(c);if(ft||(c[We]=ft=new Ie(c)),V=ft.add(C,V,B,be,fe),V.proxy)return V;if(B=he(),V.proxy=B,B.src=c,B.listener=V,c.addEventListener)ne||(ae=be),ae===void 0&&(ae=!1),c.addEventListener(C.toString(),B,ae);else if(c.attachEvent)c.attachEvent(Ae(C.toString()),B);else if(c.addListener&&c.removeListener)c.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return V}function he(){function c(V){return C.call(c.src,c.listener,V)}const C=ye;return c}function me(c,C,V,B,ae){if(Array.isArray(C))for(var fe=0;fe<C.length;fe++)me(c,C[fe],V,B,ae);else B=m(B)?!!B.capture:!!B,V=Ke(V),c&&c[J]?(c=c.i,C=String(C).toString(),C in c.g&&(fe=c.g[C],V=Ve(fe,V,B,ae),-1<V&&(pe(fe[V]),Array.prototype.splice.call(fe,V,1),fe.length==0&&(delete c.g[C],c.h--)))):c&&(c=Be(c))&&(C=c.g[C.toString()],c=-1,C&&(c=Ve(C,V,B,ae)),(V=-1<c?C[c]:null)&&Se(V))}function Se(c){if(typeof c!="number"&&c&&!c.da){var C=c.src;if(C&&C[J])De(C.i,c);else{var V=c.type,B=c.proxy;C.removeEventListener?C.removeEventListener(V,B,c.capture):C.detachEvent?C.detachEvent(Ae(V),B):C.addListener&&C.removeListener&&C.removeListener(B),(V=Be(C))?(De(V,c),V.h==0&&(V.src=null,C[We]=null)):pe(c)}}}function Ae(c){return c in Xe?Xe[c]:Xe[c]="on"+c}function ye(c,C){if(c.da)c=!0;else{C=new te(C,this);var V=c.listener,B=c.ha||c.src;c.fa&&Se(c),c=V.call(B,C)}return c}function Be(c){return c=c[We],c instanceof Ie?c:null}var ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ke(c){return typeof c=="function"?c:(c[ze]||(c[ze]=function(C){return c.handleEvent(C)}),c[ze])}function st(){q.call(this),this.i=new Ie(this),this.M=this,this.F=null}S(st,q),st.prototype[J]=!0,st.prototype.removeEventListener=function(c,C,V,B){me(this,c,C,V,B)};function ut(c,C){var V,B=c.F;if(B)for(V=[];B;B=B.F)V.push(B);if(c=c.M,B=C.type||C,typeof C=="string")C=new W(C,c);else if(C instanceof W)C.target=C.target||c;else{var ae=C;C=new W(B,c),x(C,ae)}if(ae=!0,V)for(var fe=V.length-1;0<=fe;fe--){var be=C.g=V[fe];ae=rt(be,B,!0,C)&&ae}if(be=C.g=c,ae=rt(be,B,!0,C)&&ae,ae=rt(be,B,!1,C)&&ae,V)for(fe=0;fe<V.length;fe++)be=C.g=V[fe],ae=rt(be,B,!1,C)&&ae}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var c=this.i,C;for(C in c.g){for(var V=c.g[C],B=0;B<V.length;B++)pe(V[B]);delete c.g[C],c.h--}}this.F=null},st.prototype.K=function(c,C,V,B){return this.i.add(String(c),C,!1,V,B)},st.prototype.L=function(c,C,V,B){return this.i.add(String(c),C,!0,V,B)};function rt(c,C,V,B){if(C=c.i.g[String(C)],!C)return!0;C=C.concat();for(var ae=!0,fe=0;fe<C.length;++fe){var be=C[fe];if(be&&!be.da&&be.capture==V){var ft=be.listener,Lt=be.ha||be.src;be.fa&&De(c.i,be),ae=ft.call(Lt,B)!==!1&&ae}}return ae&&!B.defaultPrevented}function oo(c,C,V){if(typeof c=="function")V&&(c=d(c,V));else if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:f.setTimeout(c,C||0)}function ct(c){c.g=oo(()=>{c.g=null,c.i&&(c.i=!1,ct(c))},c.l);const C=c.h;c.h=null,c.m.apply(null,C)}class nn extends q{constructor(C,V){super(),this.m=C,this.l=V,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:ct(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function so(c){q.call(this),this.h=c,this.g={}}S(so,q);var fa=[];function ha(c){U(c.g,function(C,V){this.g.hasOwnProperty(V)&&Se(C)},c),c.g={}}so.prototype.N=function(){so.aa.N.call(this),ha(this)},so.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var da=f.JSON.stringify,pa=f.JSON.parse,ma=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function ao(){}ao.prototype.h=null;function Go(c){return c.h||(c.h=c.i())}function Qo(){}var Vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hr(){W.call(this,"d")}S(hr,W);function Xo(){W.call(this,"c")}S(Xo,W);var dr={},ga=null;function lo(){return ga=ga||new st}dr.La="serverreachability";function ya(c){W.call(this,dr.La,c)}S(ya,W);function Vr(c){const C=lo();ut(C,new ya(C))}dr.STAT_EVENT="statevent";function va(c,C){W.call(this,dr.STAT_EVENT,c),this.stat=C}S(va,W);function kt(c){const C=lo();ut(C,new va(C,c))}dr.Ma="timingevent";function Yo(c,C){W.call(this,dr.Ma,c),this.size=C}S(Yo,W);function Gn(c,C){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},C)}function uo(){this.g=!0}uo.prototype.xa=function(){this.g=!1};function co(c,C,V,B,ae,fe){c.info(function(){if(c.g)if(fe)for(var be="",ft=fe.split("&"),Lt=0;Lt<ft.length;Lt++){var tt=ft[Lt].split("=");if(1<tt.length){var qt=tt[0];tt=tt[1];var xt=qt.split("_");be=2<=xt.length&&xt[1]=="type"?be+(qt+"="+tt+"&"):be+(qt+"=redacted&")}}else be=null;else be=fe;return"XMLHTTP REQ ("+B+") [attempt "+ae+"]: "+C+`
`+V+`
`+be})}function Jo(c,C,V,B,ae,fe,be){c.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+ae+"]: "+C+`
`+V+`
`+fe+" "+be})}function Qn(c,C,V,B){c.info(function(){return"XMLHTTP TEXT ("+C+"): "+kf(c,V)+(B?" "+B:"")})}function _a(c,C){c.info(function(){return"TIMEOUT: "+C})}uo.prototype.info=function(){};function kf(c,C){if(!c.g)return C;if(!C)return null;try{var V=JSON.parse(C);if(V){for(c=0;c<V.length;c++)if(Array.isArray(V[c])){var B=V[c];if(!(2>B.length)){var ae=B[1];if(Array.isArray(ae)&&!(1>ae.length)){var fe=ae[0];if(fe!="noop"&&fe!="stop"&&fe!="close")for(var be=1;be<ae.length;be++)ae[be]=""}}}}return da(V)}catch{return C}}var Zo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xn;function fo(){}S(fo,ao),fo.prototype.g=function(){return new XMLHttpRequest},fo.prototype.i=function(){return{}},Xn=new fo;function Yn(c,C,V,B){this.j=c,this.i=C,this.l=V,this.R=B||1,this.U=new so(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zl}function zl(){this.i=null,this.g="",this.h=!1}var Ea={},es={};function ts(c,C,V){c.L=1,c.v=gi(Cn(C)),c.m=V,c.P=!0,wa(c,null)}function wa(c,C){c.F=Date.now(),dt(c),c.A=Cn(c.v);var V=c.A,B=c.R;Array.isArray(B)||(B=[String(B)]),vi(V.i,"t",B),c.C=0,V=c.j.J,c.h=new zl,c.g=au(c.j,V?C:null,!c.m),0<c.O&&(c.M=new nn(d(c.Y,c,c.g),c.O)),C=c.U,V=c.g,B=c.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(fa[0]=ae.toString()),ae=fa);for(var fe=0;fe<ae.length;fe++){var be=Ot(V,ae[fe],B||C.handleEvent,!1,C.h||C);if(!be)break;C.g[be.key]=be}C=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,C)):(c.u="GET",c.g.ea(c.A,c.u,null,C)),Vr(),co(c.i,c.u,c.A,c.l,c.R,c.m)}Yn.prototype.ca=function(c){c=c.target;const C=this.M;C&&vn(c)==3?C.j():this.Y(c)},Yn.prototype.Y=function(c){try{if(c==this.g)e:{const xt=vn(this.g);var C=this.g.Ba();const qn=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||Ra(this.g)))){this.J||xt!=4||C==7||(C==8||0>=qn?Vr(3):Vr(2)),ho(this);var V=this.g.Z();this.X=V;t:if($l(this)){var B=Ra(this.g);c="";var ae=B.length,fe=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Un(this),hi(this);var be="";break t}this.h.i=new f.TextDecoder}for(C=0;C<ae;C++)this.h.h=!0,c+=this.h.i.decode(B[C],{stream:!(fe&&C==ae-1)});B.length=0,this.h.g+=c,this.C=0,be=this.h.g}else be=this.g.oa();if(this.o=V==200,Jo(this.i,this.u,this.A,this.l,this.R,xt,V),this.o){if(this.T&&!this.K){t:{if(this.g){var ft,Lt=this.g;if((ft=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(ft)){var tt=ft;break t}}tt=null}if(V=tt)Qn(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ta(this,V);else{this.o=!1,this.s=3,kt(12),Un(this),hi(this);break e}}if(this.P){V=!0;let On;for(;!this.J&&this.C<be.length;)if(On=Cf(this,be),On==es){xt==4&&(this.s=4,kt(14),V=!1),Qn(this.i,this.l,null,"[Incomplete Response]");break}else if(On==Ea){this.s=4,kt(15),Qn(this.i,this.l,be,"[Invalid Chunk]"),V=!1;break}else Qn(this.i,this.l,On,null),Ta(this,On);if($l(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||be.length!=0||this.h.h||(this.s=1,kt(16),V=!1),this.o=this.o&&V,!V)Qn(this.i,this.l,be,"[Invalid Chunked Response]"),Un(this),hi(this);else if(0<be.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+be.length),Ca(qt),qt.M=!0,kt(11))}}else Qn(this.i,this.l,be,null),Ta(this,be);xt==4&&Un(this),this.o&&!this.J&&(xt==4?hs(this.j,this):(this.o=!1,dt(this)))}else as(this.g),V==400&&0<be.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),Un(this),hi(this)}}}catch{}finally{}};function $l(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Cf(c,C){var V=c.C,B=C.indexOf(`
`,V);return B==-1?es:(V=Number(C.substring(V,B)),isNaN(V)?Ea:(B+=1,B+V>C.length?es:(C=C.slice(B,B+V),c.C=B+V,C)))}Yn.prototype.cancel=function(){this.J=!0,Un(this)};function dt(c){c.S=Date.now()+c.I,Hl(c,c.I)}function Hl(c,C){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Gn(d(c.ba,c),C)}function ho(c){c.B&&(f.clearTimeout(c.B),c.B=null)}Yn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(_a(this.i,this.A),this.L!=2&&(Vr(),kt(17)),Un(this),this.s=2,hi(this)):Hl(this,this.S-c)};function hi(c){c.j.G==0||c.J||hs(c.j,c)}function Un(c){ho(c);var C=c.M;C&&typeof C.ma=="function"&&C.ma(),c.M=null,ha(c.U),c.g&&(C=c.g,c.g=null,C.abort(),C.ma())}function Ta(c,C){try{var V=c.j;if(V.G!=0&&(V.g==c||hn(V.h,c))){if(!c.K&&hn(V.h,c)&&V.G==3){try{var B=V.Da.g.parse(C)}catch{B=null}if(Array.isArray(B)&&B.length==3){var ae=B;if(ae[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<c.F)fs(V),nr(V);else break e;cs(V),kt(18)}}else V.za=ae[1],0<V.za-V.T&&37500>ae[2]&&V.F&&V.v==0&&!V.C&&(V.C=Gn(d(V.Za,V),6e3));if(1>=Kl(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else zr(V,11)}else if((c.K||V.g==c)&&fs(V),!b(C))for(ae=V.Da.g.parse(C),C=0;C<ae.length;C++){let tt=ae[C];if(V.T=tt[0],tt=tt[1],V.G==2)if(tt[0]=="c"){V.K=tt[1],V.ia=tt[2];const qt=tt[3];qt!=null&&(V.la=qt,V.j.info("VER="+V.la));const xt=tt[4];xt!=null&&(V.Aa=xt,V.j.info("SVER="+V.Aa));const qn=tt[5];qn!=null&&typeof qn=="number"&&0<qn&&(B=1.5*qn,V.L=B,V.j.info("backChannelRequestTimeoutMs_="+B)),B=V;const On=c.g;if(On){const Eo=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eo){var fe=B.h;fe.g||Eo.indexOf("spdy")==-1&&Eo.indexOf("quic")==-1&&Eo.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(Sa(fe,fe.h),fe.h=null))}if(B.D){const ps=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;ps&&(B.ya=ps,ht(B.I,B.D,ps))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-c.F,V.j.info("Handshake RTT: "+V.R+"ms")),B=V;var be=c;if(B.qa=su(B,B.J?B.ia:null,B.W),be.K){Gl(B.h,be);var ft=be,Lt=B.L;Lt&&(ft.I=Lt),ft.B&&(ho(ft),dt(ft)),B.g=be}else _o(B);0<V.i.length&&yr(V)}else tt[0]!="stop"&&tt[0]!="close"||zr(V,7);else V.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?zr(V,7):Qt(V):tt[0]!="noop"&&V.l&&V.l.ta(tt),V.v=0)}}Vr(4)}catch{}}var Wl=class{constructor(c,C){this.g=c,this.map=C}};function po(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Kl(c){return c.h?1:c.g?c.g.size:0}function hn(c,C){return c.h?c.h==C:c.g?c.g.has(C):!1}function Sa(c,C){c.g?c.g.add(C):c.h=C}function Gl(c,C){c.h&&c.h==C?c.h=null:c.g&&c.g.has(C)&&c.g.delete(C)}po.prototype.cancel=function(){if(this.i=Ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ql(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let C=c.i;for(const V of c.g.values())C=C.concat(V.D);return C}return T(c.i)}function ns(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(h(c)){for(var C=[],V=c.length,B=0;B<V;B++)C.push(c[B]);return C}C=[],V=0;for(B in c)C[V++]=c[B];return C}function rs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(h(c)||typeof c=="string"){var C=[];c=c.length;for(var V=0;V<c;V++)C.push(V);return C}C=[],V=0;for(const B in c)C[V++]=B;return C}}}function di(c,C){if(c.forEach&&typeof c.forEach=="function")c.forEach(C,void 0);else if(h(c)||typeof c=="string")Array.prototype.forEach.call(c,C,void 0);else for(var V=rs(c),B=ns(c),ae=B.length,fe=0;fe<ae;fe++)C.call(void 0,B[fe],V&&V[fe],c)}var mo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pf(c,C){if(c){c=c.split("&");for(var V=0;V<c.length;V++){var B=c[V].indexOf("="),ae=null;if(0<=B){var fe=c[V].substring(0,B);ae=c[V].substring(B+1)}else fe=c[V];C(fe,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Ur(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ur){this.h=c.h,go(this,c.j),this.o=c.o,this.g=c.g,pi(this,c.s),this.l=c.l;var C=c.i,V=new pr;V.i=C.i,C.g&&(V.g=new Map(C.g),V.h=C.h),mi(this,V),this.m=c.m}else c&&(C=String(c).match(mo))?(this.h=!1,go(this,C[1]||"",!0),this.o=et(C[2]||""),this.g=et(C[3]||"",!0),pi(this,C[4]),this.l=et(C[5]||"",!0),mi(this,C[6]||"",!0),this.m=et(C[7]||"")):(this.h=!1,this.i=new pr(null,this.h))}Ur.prototype.toString=function(){var c=[],C=this.j;C&&c.push(yi(C,is,!0),":");var V=this.g;return(V||C=="file")&&(c.push("//"),(C=this.o)&&c.push(yi(C,is,!0),"@"),c.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&c.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&c.push("/"),c.push(yi(V,V.charAt(0)=="/"?Jl:Yl,!0))),(V=this.i.toString())&&c.push("?",V),(V=this.m)&&c.push("#",yi(V,ba)),c.join("")};function Cn(c){return new Ur(c)}function go(c,C,V){c.j=V?et(C,!0):C,c.j&&(c.j=c.j.replace(/:$/,""))}function pi(c,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);c.s=C}else c.s=null}function mi(c,C,V){C instanceof pr?(c.i=C,mr(c.i,c.h)):(V||(C=yi(C,Zl)),c.i=new pr(C,c.h))}function ht(c,C,V){c.i.set(C,V)}function gi(c){return ht(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function et(c,C){return c?C?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function yi(c,C,V){return typeof c=="string"?(c=encodeURI(c).replace(C,Xl),V&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Xl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var is=/[#\/\?@]/g,Yl=/[#\?:]/g,Jl=/[#\?]/g,Zl=/[#\?@]/g,ba=/#/g;function pr(c,C){this.h=this.g=null,this.i=c||null,this.j=!!C}function Gt(c){c.g||(c.g=new Map,c.h=0,c.i&&Pf(c.i,function(C,V){c.add(decodeURIComponent(C.replace(/\+/g," ")),V)}))}n=pr.prototype,n.add=function(c,C){Gt(this),this.i=null,c=Fn(this,c);var V=this.g.get(c);return V||this.g.set(c,V=[]),V.push(C),this.h+=1,this};function Jn(c,C){Gt(c),C=Fn(c,C),c.g.has(C)&&(c.i=null,c.h-=c.g.get(C).length,c.g.delete(C))}function Zn(c,C){return Gt(c),C=Fn(c,C),c.g.has(C)}n.forEach=function(c,C){Gt(this),this.g.forEach(function(V,B){V.forEach(function(ae){c.call(C,ae,B,this)},this)},this)},n.na=function(){Gt(this);const c=Array.from(this.g.values()),C=Array.from(this.g.keys()),V=[];for(let B=0;B<C.length;B++){const ae=c[B];for(let fe=0;fe<ae.length;fe++)V.push(C[B])}return V},n.V=function(c){Gt(this);let C=[];if(typeof c=="string")Zn(this,c)&&(C=C.concat(this.g.get(Fn(this,c))));else{c=Array.from(this.g.values());for(let V=0;V<c.length;V++)C=C.concat(c[V])}return C},n.set=function(c,C){return Gt(this),this.i=null,c=Fn(this,c),Zn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[C]),this.h+=1,this},n.get=function(c,C){return c?(c=this.V(c),0<c.length?String(c[0]):C):C};function vi(c,C,V){Jn(c,C),0<V.length&&(c.i=null,c.g.set(Fn(c,C),T(V)),c.h+=V.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],C=Array.from(this.g.keys());for(var V=0;V<C.length;V++){var B=C[V];const fe=encodeURIComponent(String(B)),be=this.V(B);for(B=0;B<be.length;B++){var ae=fe;be[B]!==""&&(ae+="="+encodeURIComponent(String(be[B]))),c.push(ae)}}return this.i=c.join("&")};function Fn(c,C){return C=String(C),c.j&&(C=C.toLowerCase()),C}function mr(c,C){C&&!c.j&&(Gt(c),c.i=null,c.g.forEach(function(V,B){var ae=B.toLowerCase();B!=ae&&(Jn(this,B),vi(this,ae,V))},c)),c.j=C}function Of(c,C){const V=new uo;if(f.Image){const B=new Image;B.onload=g(yn,V,"TestLoadImage: loaded",!0,C,B),B.onerror=g(yn,V,"TestLoadImage: error",!1,C,B),B.onabort=g(yn,V,"TestLoadImage: abort",!1,C,B),B.ontimeout=g(yn,V,"TestLoadImage: timeout",!1,C,B),f.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=c}else C(!1)}function eu(c,C){const V=new uo,B=new AbortController,ae=setTimeout(()=>{B.abort(),yn(V,"TestPingServer: timeout",!1,C)},1e4);fetch(c,{signal:B.signal}).then(fe=>{clearTimeout(ae),fe.ok?yn(V,"TestPingServer: ok",!0,C):yn(V,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(ae),yn(V,"TestPingServer: error",!1,C)})}function yn(c,C,V,B,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),B(V)}catch{}}function xf(){this.g=new ma}function tu(c,C,V){const B=V||"";try{di(c,function(ae,fe){let be=ae;m(ae)&&(be=da(ae)),C.push(B+fe+"="+encodeURIComponent(be))})}catch(ae){throw C.push(B+"type="+encodeURIComponent("_badmap")),ae}}function Fr(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Fr,ao),Fr.prototype.g=function(){return new yo(this.l,this.j)},Fr.prototype.i=function(c){return function(){return c}}({});function yo(c,C){st.call(this),this.D=c,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(yo,st),n=yo.prototype,n.open=function(c,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=C,this.readyState=1,tr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(C.body=c),(this.D||f).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,er(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,tr(this)),this.g&&(this.readyState=3,tr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function nu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var C=c.value?c.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!c.done}))&&(this.response=this.responseText+=C)}c.done?er(this):tr(this),this.readyState==3&&nu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,er(this))},n.Qa=function(c){this.g&&(this.response=c,er(this))},n.ga=function(){this.g&&er(this)};function er(c){c.readyState=4,c.l=null,c.j=null,c.v=null,tr(c)}n.setRequestHeader=function(c,C){this.u.append(c,C)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],C=this.h.entries();for(var V=C.next();!V.done;)V=V.value,c.push(V[0]+": "+V[1]),V=C.next();return c.join(`\r
`)};function tr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(yo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qr(c){let C="";return U(c,function(V,B){C+=B,C+=":",C+=V,C+=`\r
`}),C}function _i(c,C,V){e:{for(B in V){var B=!1;break e}B=!0}B||(V=qr(V),typeof c=="string"?V!=null&&encodeURIComponent(String(V)):ht(c,C,V))}function _t(c){st.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(_t,st);var Nf=/^https?$/i,Aa=["POST","PUT"];n=_t.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,C,V,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);C=C?C.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xn.g(),this.v=this.o?Go(this.o):Go(Xn),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(C,String(c),!0),this.B=!1}catch(fe){vo(this,fe);return}if(c=V||"",V=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var ae in B)V.set(ae,B[ae]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const fe of B.keys())V.set(fe,B.get(fe));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(V.keys()).find(fe=>fe.toLowerCase()=="content-type"),ae=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Aa,C,void 0))||B||ae||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,be]of V)this.g.setRequestHeader(fe,be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ss(this),this.u=!0,this.g.send(c),this.u=!1}catch(fe){vo(this,fe)}};function vo(c,C){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=C,c.m=5,os(c),Pn(c)}function os(c){c.A||(c.A=!0,ut(c,"complete"),ut(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ut(this,"complete"),ut(this,"abort"),Pn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pn(this,!0)),_t.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ia(this):this.bb())},n.bb=function(){Ia(this)};function Ia(c){if(c.h&&typeof u<"u"&&(!c.v[1]||vn(c)!=4||c.Z()!=2)){if(c.u&&vn(c)==4)oo(c.Ea,0,c);else if(ut(c,"readystatechange"),vn(c)==4){c.h=!1;try{const be=c.Z();e:switch(be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var V;if(!(V=C)){var B;if(B=be===0){var ae=String(c.D).match(mo)[1]||null;!ae&&f.self&&f.self.location&&(ae=f.self.location.protocol.slice(0,-1)),B=!Nf.test(ae?ae.toLowerCase():"")}V=B}if(V)ut(c,"complete"),ut(c,"success");else{c.m=6;try{var fe=2<vn(c)?c.g.statusText:""}catch{fe=""}c.l=fe+" ["+c.Z()+"]",os(c)}}finally{Pn(c)}}}}function Pn(c,C){if(c.g){ss(c);const V=c.g,B=c.v[0]?()=>{}:null;c.g=null,c.v=null,C||ut(c,"ready");try{V.onreadystatechange=B}catch{}}}function ss(c){c.I&&(f.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function vn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var C=this.g.responseText;return c&&C.indexOf(c)==0&&(C=C.substring(c.length)),pa(C)}};function Ra(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function as(c){const C={};c=(c.g&&2<=vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<c.length;B++){if(b(c[B]))continue;var V=I(c[B]);const ae=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const fe=C[ae]||[];C[ae]=fe,fe.push(V)}P(C,function(B){return B.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gr(c,C,V){return V&&V.internalChannelParams&&V.internalChannelParams[c]||C}function ka(c){this.Aa=0,this.i=[],this.j=new uo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gr("baseRetryDelayMs",5e3,c),this.cb=gr("retryDelaySeedMs",1e4,c),this.Wa=gr("forwardChannelMaxRetries",2,c),this.wa=gr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new po(c&&c.concurrentRequestLimit),this.Da=new xf,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ka.prototype,n.la=8,n.G=1,n.connect=function(c,C,V,B){kt(0),this.W=c,this.H=C||{},V&&B!==void 0&&(this.H.OSID=V,this.H.OAID=B),this.F=this.X,this.I=su(this,null,this.W),yr(this)};function Qt(c){if(ls(c),c.G==3){var C=c.U++,V=Cn(c.I);if(ht(V,"SID",c.K),ht(V,"RID",C),ht(V,"TYPE","terminate"),Br(c,V),C=new Yn(c,c.j,C),C.L=2,C.v=gi(Cn(V)),V=!1,f.navigator&&f.navigator.sendBeacon)try{V=f.navigator.sendBeacon(C.v.toString(),"")}catch{}!V&&f.Image&&(new Image().src=C.v,V=!0),V||(C.g=au(C.j,null),C.g.ea(C.v)),C.F=Date.now(),dt(C)}ou(c)}function nr(c){c.g&&(Ca(c),c.g.cancel(),c.g=null)}function ls(c){nr(c),c.u&&(f.clearTimeout(c.u),c.u=null),fs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function yr(c){if(!kn(c.h)&&!c.s){c.s=!0;var C=c.Ga;X||H(),ie||(X(),ie=!0),Y.add(C,c),c.B=0}}function Df(c,C){return Kl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=C.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Gn(d(c.Ga,c,C),iu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const ae=new Yn(this,this.j,c);let fe=this.o;if(this.S&&(fe?(fe=R(fe),x(fe,this.S)):fe=this.S),this.m!==null||this.O||(ae.H=fe,fe=null),this.P)e:{for(var C=0,V=0;V<this.i.length;V++){t:{var B=this.i[V];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(C+=B,4096<C){C=V;break e}if(C===4096||V===this.i.length-1){C=V+1;break e}}C=1e3}else C=1e3;C=Ei(this,ae,C),V=Cn(this.I),ht(V,"RID",c),ht(V,"CVER",22),this.D&&ht(V,"X-HTTP-Session-Id",this.D),Br(this,V),fe&&(this.O?C="headers="+encodeURIComponent(String(qr(fe)))+"&"+C:this.m&&_i(V,this.m,fe)),Sa(this.h,ae),this.Ua&&ht(V,"TYPE","init"),this.P?(ht(V,"$req",C),ht(V,"SID","null"),ae.T=!0,ts(ae,V,null)):ts(ae,V,C),this.G=2}}else this.G==3&&(c?us(this,c):this.i.length==0||kn(this.h)||us(this))};function us(c,C){var V;C?V=C.l:V=c.U++;const B=Cn(c.I);ht(B,"SID",c.K),ht(B,"RID",V),ht(B,"AID",c.T),Br(c,B),c.m&&c.o&&_i(B,c.m,c.o),V=new Yn(c,c.j,V,c.B+1),c.m===null&&(V.H=c.o),C&&(c.i=C.D.concat(c.i)),C=Ei(c,V,1e3),V.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Sa(c.h,V),ts(V,B,C)}function Br(c,C){c.H&&U(c.H,function(V,B){ht(C,B,V)}),c.l&&di({},function(V,B){ht(C,B,V)})}function Ei(c,C,V){V=Math.min(c.i.length,V);var B=c.l?d(c.l.Na,c.l,c):null;e:{var ae=c.i;let fe=-1;for(;;){const be=["count="+V];fe==-1?0<V?(fe=ae[0].g,be.push("ofs="+fe)):fe=0:be.push("ofs="+fe);let ft=!0;for(let Lt=0;Lt<V;Lt++){let tt=ae[Lt].g;const qt=ae[Lt].map;if(tt-=fe,0>tt)fe=Math.max(0,ae[Lt].g-100),ft=!1;else try{tu(qt,be,"req"+tt+"_")}catch{B&&B(qt)}}if(ft){B=be.join("&");break e}}}return c=c.i.splice(0,V),C.D=c,B}function _o(c){if(!c.g&&!c.u){c.Y=1;var C=c.Fa;X||H(),ie||(X(),ie=!0),Y.add(C,c),c.v=0}}function cs(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Gn(d(c.Fa,c),iu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,ru(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Gn(d(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),nr(this),ru(this))};function Ca(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function ru(c){c.g=new Yn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var C=Cn(c.qa);ht(C,"RID","rpc"),ht(C,"SID",c.K),ht(C,"AID",c.T),ht(C,"CI",c.F?"0":"1"),!c.F&&c.ja&&ht(C,"TO",c.ja),ht(C,"TYPE","xmlhttp"),Br(c,C),c.m&&c.o&&_i(C,c.m,c.o),c.L&&(c.g.I=c.L);var V=c.g;c=c.ia,V.L=1,V.v=gi(Cn(C)),V.m=null,V.P=!0,wa(V,c)}n.Za=function(){this.C!=null&&(this.C=null,nr(this),cs(this),kt(19))};function fs(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function hs(c,C){var V=null;if(c.g==C){fs(c),Ca(c),c.g=null;var B=2}else if(hn(c.h,C))V=C.D,Gl(c.h,C),B=1;else return;if(c.G!=0){if(C.o)if(B==1){V=C.m?C.m.length:0,C=Date.now()-C.F;var ae=c.B;B=lo(),ut(B,new Yo(B,V)),yr(c)}else _o(c);else if(ae=C.s,ae==3||ae==0&&0<C.X||!(B==1&&Df(c,C)||B==2&&cs(c)))switch(V&&0<V.length&&(C=c.h,C.i=C.i.concat(V)),ae){case 1:zr(c,5);break;case 4:zr(c,10);break;case 3:zr(c,6);break;default:zr(c,2)}}}function iu(c,C){let V=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(V*=2),V*C}function zr(c,C){if(c.j.info("Error code "+C),C==2){var V=d(c.fb,c),B=c.Xa;const ae=!B;B=new Ur(B||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||go(B,"https"),gi(B),ae?Of(B.toString(),V):eu(B.toString(),V)}else kt(2);c.G=0,c.l&&c.l.sa(C),ou(c),ls(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function ou(c){if(c.G=0,c.ka=[],c.l){const C=Ql(c.h);(C.length!=0||c.i.length!=0)&&(E(c.ka,C),E(c.ka,c.i),c.h.i.length=0,T(c.i),c.i.length=0),c.l.ra()}}function su(c,C,V){var B=V instanceof Ur?Cn(V):new Ur(V);if(B.g!="")C&&(B.g=C+"."+B.g),pi(B,B.s);else{var ae=f.location;B=ae.protocol,C=C?C+"."+ae.hostname:ae.hostname,ae=+ae.port;var fe=new Ur(null);B&&go(fe,B),C&&(fe.g=C),ae&&pi(fe,ae),V&&(fe.l=V),B=fe}return V=c.D,C=c.ya,V&&C&&ht(B,V,C),ht(B,"VER",c.la),Br(c,B),B}function au(c,C,V){if(C&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=c.Ca&&!c.pa?new _t(new Fr({eb:V})):new _t(c.pa),C.Ha(c.J),C}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pa(){}n=Pa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ds(){}ds.prototype.g=function(c,C){return new dn(c,C)};function dn(c,C){st.call(this),this.g=new ka(C),this.l=c,this.h=C&&C.messageUrlParams||null,c=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(c?c["X-WebChannel-Content-Type"]=C.messageContentType:c={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(c?c["X-WebChannel-Client-Profile"]=C.va:c={"X-WebChannel-Client-Profile":C.va}),this.g.S=c,(c=C&&C.Sb)&&!b(c)&&(this.g.m=c),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!b(C)&&(this.g.D=C,c=this.h,c!==null&&C in c&&(c=this.h,C in c&&delete c[C])),this.j=new vr(this)}S(dn,st),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Qt(this.g)},dn.prototype.o=function(c){var C=this.g;if(typeof c=="string"){var V={};V.__data__=c,c=V}else this.u&&(V={},V.__data__=da(c),c=V);C.i.push(new Wl(C.Ya++,c)),C.G==3&&yr(C)},dn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,dn.aa.N.call(this)};function lu(c){hr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var C=c.__sm__;if(C){e:{for(const V in C){c=V;break e}c=void 0}(this.i=c)&&(c=this.i,C=C!==null&&c in C?C[c]:void 0),this.data=C}else this.data=c}S(lu,hr);function uu(){Xo.call(this),this.status=1}S(uu,Xo);function vr(c){this.g=c}S(vr,Pa),vr.prototype.ua=function(){ut(this.g,"a")},vr.prototype.ta=function(c){ut(this.g,new lu(c))},vr.prototype.sa=function(c){ut(this.g,new uu)},vr.prototype.ra=function(){ut(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,uT=function(){return new ds},lT=function(){return lo()},aT=dr,mm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zo.NO_ERROR=0,Zo.TIMEOUT=8,Zo.HTTP_ERROR=6,Ec=Zo,Bl.COMPLETE="complete",sT=Bl,Qo.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",st.prototype.listen=st.prototype.K,ol=Qo,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,oT=_t}).apply(typeof lc<"u"?lc:typeof self<"u"?self:typeof window<"u"?window:{});const z_="@firebase/firestore",$_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oa="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new Um("@firebase/firestore");function js(){return Bo.logLevel}function ke(n,...e){if(Bo.logLevel<=Ye.DEBUG){const t=e.map(ig);Bo.debug(`Firestore (${oa}): ${n}`,...t)}}function ai(n,...e){if(Bo.logLevel<=Ye.ERROR){const t=e.map(ig);Bo.error(`Firestore (${oa}): ${n}`,...t)}}function Ks(n,...e){if(Bo.logLevel<=Ye.WARN){const t=e.map(ig);Bo.warn(`Firestore (${oa}): ${n}`,...t)}}function ig(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(n="Unexpected state"){const e=`FIRESTORE (${oa}) INTERNAL ASSERTION FAILED: `+n;throw ai(e),new Error(e)}function lt(n,e){n||Ue()}function He(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(un.UNAUTHENTICATED))}shutdown(){}}class UO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class FO{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){lt(this.o===void 0);let r=this.i;const o=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ri,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await o(this.currentUser)})},f=h=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>f(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ri)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lt(typeof r.accessToken=="string"),new cT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string"),new un(e)}}class qO{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class BO{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new qO(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zO{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,cr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){lt(this.o===void 0);const r=a=>{a.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,ke("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new H_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(lt(typeof t.token=="string"),this.R=t.token,new H_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=$O(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Ge(n,e){return n<e?-1:n>e?1:0}function gm(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),o=e.codePointAt(t);if(r!==o){if(r<128&&o<128)return Ge(r,o);{const a=fT(),u=HO(a.encode(W_(n,t)),a.encode(W_(e,t)));return u!==0?u:Ge(r,o)}}t+=r>65535?2:1}return Ge(n.length,e.length)}function W_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function HO(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ge(n[t],e[t]);return Ge(n.length,e.length)}function Gs(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=-62135596800,G_=1e6;class Ut{static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*G_);return new Ut(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<K_)throw new Ne(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/G_}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-K_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new Ut(0,0))}static max(){return new $e(new Ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="__name__";class br{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ue(),r===void 0?r=e.length-t:r>e.length-t&&Ue(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return br.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof br?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=br.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Ge(e.length,t.length)}static compareSegments(e,t){const r=br.isNumericId(e),o=br.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?br.extractNumericId(e).compare(br.extractNumericId(t)):gm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wi.fromString(e.substring(4,e.length-2))}}class wt extends br{construct(e,t,r){return new wt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(Ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new wt(t)}static emptyPath(){return new wt([])}}const WO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends br{construct(e,t,r){return new en(e,t,r)}static isValidIdentifier(e){return WO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q_}static keyField(){return new en([Q_])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new Ne(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new Ne(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ne(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(r+=f,o++):(a(),o++)}if(a(),u)throw new Ne(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(wt.fromString(e))}static fromName(e){return new je(wt.fromString(e).popFirst(5))}static empty(){return new je(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new wt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=-1;function KO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=$e.fromTimestamp(r===1e9?new Ut(t+1,0):new Ut(t,r));return new Xi(o,je.empty(),e)}function GO(n){return new Xi(n.readTime,n.key,El)}class Xi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Xi($e.min(),je.empty(),El)}static max(){return new Xi($e.max(),je.empty(),El)}}function QO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=je.comparator(n.documentKey,e.documentKey),t!==0?t:Ge(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(n){if(n.code!==Ee.FAILED_PRECONDITION||n.message!==XO)throw n;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ge((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ge?t:ge.resolve(t)}catch(t){return ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.reject(t)}static resolve(e){return new ge((t,r)=>{t(e)})}static reject(e){return new ge((t,r)=>{r(e)})}static waitFor(e){return new ge((t,r)=>{let o=0,a=0,u=!1;e.forEach(f=>{++o,f.next(()=>{++a,u&&a===o&&t()},h=>r(h))}),u=!0,a===o&&t()})}static or(e){let t=ge.resolve(!1);for(const r of e)t=t.next(o=>o?ge.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new ge((r,o)=>{const a=e.length,u=new Array(a);let f=0;for(let h=0;h<a;h++){const m=h;t(e[m]).next(v=>{u[m]=v,++f,f===a&&r(u)},v=>o(v))}})}static doWhile(e,t){return new ge((r,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):r()};a()})}}function JO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function aa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}rf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=-1;function of(n){return n==null}function Mc(n){return n===0&&1/n==-1/0}function ZO(n){return typeof n=="number"&&Number.isInteger(n)&&!Mc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="";function ex(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=X_(e)),e=tx(n.get(t),e);return X_(e)}function tx(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case dT:t+="";break;default:t+=a}}return t}function X_(n){return n+dT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ro(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function pT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new At(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uc(this.root,e,this.comparator,!0)}}class uc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Zt.RED,this.left=o??Zt.EMPTY,this.right=a??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Zt(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ue();const e=this.left.check();if(e!==this.right.check())throw Ue();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue()}get value(){throw Ue()}get color(){throw Ue()}get left(){throw Ue()}get right(){throw Ue()}copy(e,t,r,o,a){return this}insert(e,t,r){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new J_(this.data.getIterator())}getIteratorFrom(e){return new J_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ft(this.comparator);return t.data=e,t}}class J_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Mn([])}unionWith(e){let t=new Ft(en.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Gs(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new mT("Invalid base64 string: "+a):a}}(e);return new tn(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const nx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(n){if(lt(!!n),typeof n=="string"){let e=0;const t=nx.exec(n);if(lt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pt(n.seconds),nanos:Pt(n.nanos)}}function Pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ji(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="server_timestamp",yT="__type__",vT="__previous_value__",_T="__local_write_time__";function sg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[yT])===null||t===void 0?void 0:t.stringValue)===gT}function sf(n){const e=n.mapValue.fields[vT];return sg(e)?sf(e):e}function wl(n){const e=Yi(n.mapValue.fields[_T].timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,t,r,o,a,u,f,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=m}}const jc="(default)";class Tl{constructor(e,t){this.projectId=e,this.database=t||jc}static empty(){return new Tl("","")}get isDefaultDatabase(){return this.database===jc}isEqual(e){return e instanceof Tl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="__type__",wT="__max__",cc={mapValue:{fields:{__type__:{stringValue:wT}}}},TT="__vector__",Vc="value";function Zi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?sg(n)?4:ox(n)?9007199254740991:ix(n)?10:11:Ue()}function Nr(n,e){if(n===e)return!0;const t=Zi(n);if(t!==Zi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return wl(n).isEqual(wl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Yi(o.timestampValue),f=Yi(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Ji(o.bytesValue).isEqual(Ji(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return Pt(o.geoPointValue.latitude)===Pt(a.geoPointValue.latitude)&&Pt(o.geoPointValue.longitude)===Pt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Pt(o.integerValue)===Pt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Pt(o.doubleValue),f=Pt(a.doubleValue);return u===f?Mc(u)===Mc(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return Gs(n.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},f=a.mapValue.fields||{};if(Y_(u)!==Y_(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!Nr(u[h],f[h])))return!1;return!0}(n,e);default:return Ue()}}function Sl(n,e){return(n.values||[]).find(t=>Nr(t,e))!==void 0}function Qs(n,e){if(n===e)return 0;const t=Zi(n),r=Zi(e);if(t!==r)return Ge(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(n.booleanValue,e.booleanValue);case 2:return function(a,u){const f=Pt(a.integerValue||a.doubleValue),h=Pt(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1}(n,e);case 3:return Z_(n.timestampValue,e.timestampValue);case 4:return Z_(wl(n),wl(e));case 5:return gm(n.stringValue,e.stringValue);case 6:return function(a,u){const f=Ji(a),h=Ji(u);return f.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),h=u.split("/");for(let m=0;m<f.length&&m<h.length;m++){const v=Ge(f[m],h[m]);if(v!==0)return v}return Ge(f.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const f=Ge(Pt(a.latitude),Pt(u.latitude));return f!==0?f:Ge(Pt(a.longitude),Pt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return eE(n.arrayValue,e.arrayValue);case 10:return function(a,u){var f,h,m,v;const y=a.fields||{},d=u.fields||{},g=(f=y[Vc])===null||f===void 0?void 0:f.arrayValue,S=(h=d[Vc])===null||h===void 0?void 0:h.arrayValue,T=Ge(((m=g==null?void 0:g.values)===null||m===void 0?void 0:m.length)||0,((v=S==null?void 0:S.values)===null||v===void 0?void 0:v.length)||0);return T!==0?T:eE(g,S)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===cc.mapValue&&u===cc.mapValue)return 0;if(a===cc.mapValue)return 1;if(u===cc.mapValue)return-1;const f=a.fields||{},h=Object.keys(f),m=u.fields||{},v=Object.keys(m);h.sort(),v.sort();for(let y=0;y<h.length&&y<v.length;++y){const d=gm(h[y],v[y]);if(d!==0)return d;const g=Qs(f[h[y]],m[v[y]]);if(g!==0)return g}return Ge(h.length,v.length)}(n.mapValue,e.mapValue);default:throw Ue()}}function Z_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ge(n,e);const t=Yi(n),r=Yi(e),o=Ge(t.seconds,r.seconds);return o!==0?o:Ge(t.nanos,r.nanos)}function eE(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=Qs(t[o],r[o]);if(a)return a}return Ge(t.length,r.length)}function Xs(n){return ym(n)}function ym(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Yi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ji(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return je.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=ym(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${ym(t.fields[u])}`;return o+"}"}(n.mapValue):Ue()}function wc(n){switch(Zi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sf(n);return e?16+wc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ji(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+wc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return ro(r.fields,(a,u)=>{o+=a.length+wc(u)}),o}(n.mapValue);default:throw Ue()}}function vm(n){return!!n&&"integerValue"in n}function ag(n){return!!n&&"arrayValue"in n}function tE(n){return!!n&&"nullValue"in n}function nE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Tc(n){return!!n&&"mapValue"in n}function ix(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[ET])===null||t===void 0?void 0:t.stringValue)===TT}function dl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ro(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=dl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=dl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ox(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===wT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Tc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dl(t)}setAll(e){let t=en.emptyPath(),r={},o=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,r,o),r={},o=[],t=f.popLast()}u?r[f.lastSegment()]=dl(u):o.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Tc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Tc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){ro(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new Rn(dl(this.value))}}function ST(n){const e=[];return ro(n.fields,(t,r)=>{const o=new en([t]);if(Tc(r)){const a=ST(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t,r,o,a,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new cn(e,0,$e.min(),$e.min(),$e.min(),Rn.empty(),0)}static newFoundDocument(e,t,r,o){return new cn(e,1,t,$e.min(),r,o,0)}static newNoDocument(e,t){return new cn(e,2,t,$e.min(),$e.min(),Rn.empty(),0)}static newUnknownDocument(e,t){return new cn(e,3,t,$e.min(),$e.min(),Rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t){this.position=e,this.inclusive=t}}function rE(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=je.comparator(je.fromName(u.referenceValue),t.key):r=Qs(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function iE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Nr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t="asc"){this.field=e,this.dir=t}}function sx(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{}class Vt extends bT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new lx(e,t,r):t==="array-contains"?new fx(e,r):t==="in"?new hx(e,r):t==="not-in"?new dx(e,r):t==="array-contains-any"?new px(e,r):new Vt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new ux(e,r):new cx(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Qs(t,this.value)):t!==null&&Zi(this.value)===Zi(t)&&this.matchesComparison(Qs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends bT{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Dr(e,t)}matches(e){return AT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function AT(n){return n.op==="and"}function IT(n){return ax(n)&&AT(n)}function ax(n){for(const e of n.filters)if(e instanceof Dr)return!1;return!0}function _m(n){if(n instanceof Vt)return n.field.canonicalString()+n.op.toString()+Xs(n.value);if(IT(n))return n.filters.map(e=>_m(e)).join(",");{const e=n.filters.map(t=>_m(t)).join(",");return`${n.op}(${e})`}}function RT(n,e){return n instanceof Vt?function(r,o){return o instanceof Vt&&r.op===o.op&&r.field.isEqual(o.field)&&Nr(r.value,o.value)}(n,e):n instanceof Dr?function(r,o){return o instanceof Dr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,f)=>a&&RT(u,o.filters[f]),!0):!1}(n,e):void Ue()}function kT(n){return n instanceof Vt?function(t){return`${t.field.canonicalString()} ${t.op} ${Xs(t.value)}`}(n):n instanceof Dr?function(t){return t.op.toString()+" {"+t.getFilters().map(kT).join(" ,")+"}"}(n):"Filter"}class lx extends Vt{constructor(e,t,r){super(e,t,r),this.key=je.fromName(r.referenceValue)}matches(e){const t=je.comparator(e.key,this.key);return this.matchesComparison(t)}}class ux extends Vt{constructor(e,t){super(e,"in",t),this.keys=CT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class cx extends Vt{constructor(e,t){super(e,"not-in",t),this.keys=CT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function CT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>je.fromName(r.referenceValue))}class fx extends Vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ag(t)&&Sl(t.arrayValue,this.value)}}class hx extends Vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Sl(this.value.arrayValue,t)}}class dx extends Vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Sl(this.value.arrayValue,t)}}class px extends Vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ag(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Sl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,t=null,r=[],o=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=f,this.le=null}}function oE(n,e=null,t=[],r=[],o=null,a=null,u=null){return new mx(n,e,t,r,o,a,u)}function lg(n){const e=He(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>_m(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),of(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Xs(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Xs(r)).join(",")),e.le=t}return e.le}function ug(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!sx(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!RT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!iE(n.startAt,e.startAt)&&iE(n.endAt,e.endAt)}function Em(n){return je.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t=null,r=[],o=[],a=null,u="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function gx(n,e,t,r,o,a,u,f){return new af(n,e,t,r,o,a,u,f)}function cg(n){return new af(n)}function sE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function yx(n){return n.collectionGroup!==null}function pl(n){const e=He(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Ft(en.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new Fc(a,r))}),t.has(en.keyField().canonicalString())||e.he.push(new Fc(en.keyField(),r))}return e.he}function Pr(n){const e=He(n);return e.Pe||(e.Pe=vx(e,pl(n))),e.Pe}function vx(n,e){if(n.limitType==="F")return oE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Fc(o.field,a)});const t=n.endAt?new Uc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Uc(n.startAt.position,n.startAt.inclusive):null;return oE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function wm(n,e,t){return new af(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function lf(n,e){return ug(Pr(n),Pr(e))&&n.limitType===e.limitType}function PT(n){return`${lg(Pr(n))}|lt:${n.limitType}`}function Vs(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>kT(o)).join(", ")}]`),of(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>Xs(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>Xs(o)).join(",")),`Target(${r})`}(Pr(n))}; limitType=${n.limitType})`}function uf(n,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):je.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,o){for(const a of pl(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(u,f,h){const m=rE(u,f,h);return u.inclusive?m<=0:m<0}(r.startAt,pl(r),o)||r.endAt&&!function(u,f,h){const m=rE(u,f,h);return u.inclusive?m>=0:m>0}(r.endAt,pl(r),o))}(n,e)}function _x(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function OT(n){return(e,t)=>{let r=!1;for(const o of pl(n)){const a=Ex(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function Ex(n,e,t){const r=n.field.isKeyField()?je.comparator(e.key,t.key):function(a,u,f){const h=u.data.field(a),m=f.data.field(a);return h!==null&&m!==null?Qs(h,m):Ue()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ro(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return pT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=new At(je.comparator);function li(){return wx}const xT=new At(je.comparator);function sl(...n){let e=xT;for(const t of n)e=e.insert(t.key,t);return e}function NT(n){let e=xT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Lo(){return ml()}function DT(){return ml()}function ml(){return new Wo(n=>n.toString(),(n,e)=>n.isEqual(e))}const Tx=new At(je.comparator),Sx=new Ft(je.comparator);function Ze(...n){let e=Sx;for(const t of n)e=e.add(t);return e}const bx=new Ft(Ge);function Ax(){return bx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mc(e)?"-0":e}}function LT(n){return{integerValue:""+n}}function Ix(n,e){return ZO(e)?LT(e):fg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(){this._=void 0}}function Rx(n,e,t){return n instanceof qc?function(o,a){const u={fields:{[yT]:{stringValue:gT},[_T]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&sg(a)&&(a=sf(a)),a&&(u.fields[vT]=a),{mapValue:u}}(t,e):n instanceof bl?jT(n,e):n instanceof Al?VT(n,e):function(o,a){const u=MT(o,a),f=aE(u)+aE(o.Ie);return vm(u)&&vm(o.Ie)?LT(f):fg(o.serializer,f)}(n,e)}function kx(n,e,t){return n instanceof bl?jT(n,e):n instanceof Al?VT(n,e):t}function MT(n,e){return n instanceof Bc?function(r){return vm(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class qc extends cf{}class bl extends cf{constructor(e){super(),this.elements=e}}function jT(n,e){const t=UT(e);for(const r of n.elements)t.some(o=>Nr(o,r))||t.push(r);return{arrayValue:{values:t}}}class Al extends cf{constructor(e){super(),this.elements=e}}function VT(n,e){let t=UT(e);for(const r of n.elements)t=t.filter(o=>!Nr(o,r));return{arrayValue:{values:t}}}class Bc extends cf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function aE(n){return Pt(n.integerValue||n.doubleValue)}function UT(n){return ag(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Cx(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof bl&&o instanceof bl||r instanceof Al&&o instanceof Al?Gs(r.elements,o.elements,Nr):r instanceof Bc&&o instanceof Bc?Nr(r.Ie,o.Ie):r instanceof qc&&o instanceof qc}(n.transform,e.transform)}class Px{constructor(e,t){this.version=e,this.transformResults=t}}class fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ff{}function FT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new hg(n.key,fr.none()):new jl(n.key,n.data,fr.none());{const t=n.data,r=Rn.empty();let o=new Ft(en.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new io(n.key,r,new Mn(o.toArray()),fr.none())}}function Ox(n,e,t){n instanceof jl?function(o,a,u){const f=o.value.clone(),h=uE(o.fieldTransforms,a,u.transformResults);f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof io?function(o,a,u){if(!Sc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const f=uE(o.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(qT(o)),h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function gl(n,e,t,r){return n instanceof jl?function(a,u,f,h){if(!Sc(a.precondition,u))return f;const m=a.value.clone(),v=cE(a.fieldTransforms,h,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof io?function(a,u,f,h){if(!Sc(a.precondition,u))return f;const m=cE(a.fieldTransforms,h,u),v=u.data;return v.setAll(qT(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(n,e,t,r):function(a,u,f){return Sc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function xx(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=MT(r.transform,o||null);a!=null&&(t===null&&(t=Rn.empty()),t.set(r.field,a))}return t||null}function lE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Gs(r,o,(a,u)=>Cx(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class jl extends ff{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class io extends ff{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function qT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function uE(n,e,t){const r=new Map;lt(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,f=e.data.field(a.field);r.set(a.field,kx(u,f,t[o]))}return r}function cE(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,Rx(a,u,e))}return r}class hg extends ff{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nx extends ff{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&Ox(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=gl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=gl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=DT();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(o.key)?null:f;const h=FT(u,f);h!==null&&r.set(o.key,h),u.isValidDocument()||u.convertToNoDocument($e.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ze())}isEqual(e){return this.batchId===e.batchId&&Gs(this.mutations,e.mutations,(t,r)=>lE(t,r))&&Gs(this.baseMutations,e.baseMutations,(t,r)=>lE(t,r))}}class dg{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){lt(e.mutations.length===r.length);let o=function(){return Tx}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new dg(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,nt;function jx(n){switch(n){case Ee.OK:return Ue();case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0;default:return Ue()}}function BT(n){if(n===void 0)return ai("GRPC error has no .code"),Ee.UNKNOWN;switch(n){case Dt.OK:return Ee.OK;case Dt.CANCELLED:return Ee.CANCELLED;case Dt.UNKNOWN:return Ee.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return Ee.INTERNAL;case Dt.UNAVAILABLE:return Ee.UNAVAILABLE;case Dt.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case Dt.NOT_FOUND:return Ee.NOT_FOUND;case Dt.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case Dt.ABORTED:return Ee.ABORTED;case Dt.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case Dt.DATA_LOSS:return Ee.DATA_LOSS;default:return Ue()}}(nt=Dt||(Dt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=new Wi([4294967295,4294967295],0);function fE(n){const e=fT().encode(n),t=new iT;return t.update(e),new Uint8Array(t.digest())}function hE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Wi([t,r],0),new Wi([o,a],0)]}class pg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new al(`Invalid padding: ${t}`);if(r<0)throw new al(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new al(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new al(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Wi.fromNumber(this.Ee)}Ae(e,t,r){let o=e.add(t.multiply(Wi.fromNumber(r)));return o.compare(Vx)===1&&(o=new Wi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=fE(e),[r,o]=hE(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(r,o,a);if(!this.Re(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new pg(a,o,t);return r.forEach(f=>u.insert(f)),u}insert(e){if(this.Ee===0)return;const t=fE(e),[r,o]=hE(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(r,o,a);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Vl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new hf($e.min(),o,new At(Ge),li(),Ze())}}class Vl{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Vl(r,t,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t,r,o){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=o}}class zT{constructor(e,t){this.targetId=e,this.ge=t}}class $T{constructor(e,t,r=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class dE{constructor(){this.pe=0,this.ye=pE(),this.we=tn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ze(),t=Ze(),r=Ze();return this.ye.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Ue()}}),new Vl(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=pE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,lt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Ux{constructor(e){this.ke=e,this.qe=new Map,this.Qe=li(),this.$e=fc(),this.Ue=fc(),this.Ke=new At(Ge)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ue()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,r=e.ge.count,o=this.Xe(t);if(o){const a=o.target;if(Em(a))if(r===0){const u=new je(a.path);this.ze(t,u,cn.newNoDocument(u,$e.min()))}else lt(r===1);else{const u=this.et(t);if(u!==r){const f=this.tt(e),h=f?this.nt(f,e,u):1;if(h!==0){this.Ye(t);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,f;try{u=Ji(r).toUint8Array()}catch(h){if(h instanceof mT)return Ks("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new pg(u,o,a)}catch(h){return Ks(h instanceof al?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.Ee===0?null:f}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let o=0;return r.forEach(a=>{const u=this.ke.it(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,a,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((a,u)=>{const f=this.Xe(u);if(f){if(a.current&&Em(f.target)){const h=new je(f.target.path);this._t(h).has(u)||this.ut(u,h)||this.ze(u,h,cn.newNoDocument(h,e))}a.ve&&(t.set(u,a.Fe()),a.Me())}});let r=Ze();this.Ue.forEach((a,u)=>{let f=!0;u.forEachWhile(h=>{const m=this.Xe(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(a))}),this.Qe.forEach((a,u)=>u.setReadTime(e));const o=new hf(e,t,this.Ke,this.Qe,r);return this.Qe=li(),this.$e=fc(),this.Ue=fc(),this.Ke=new At(Ge),o}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new dE,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Ft(Ge),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Ft(Ge),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ke("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new dE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function fc(){return new At(je.comparator)}function pE(){return new At(je.comparator)}const Fx={asc:"ASCENDING",desc:"DESCENDING"},qx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bx={and:"AND",or:"OR"};class zx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Tm(n,e){return n.useProto3Json||of(e)?e:{value:e}}function zc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function $x(n,e){return zc(n,e.toTimestamp())}function Or(n){return lt(!!n),$e.fromTimestamp(function(t){const r=Yi(t);return new Ut(r.seconds,r.nanos)}(n))}function mg(n,e){return Sm(n,e).canonicalString()}function Sm(n,e){const t=function(o){return new wt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function WT(n){const e=wt.fromString(n);return lt(YT(e)),e}function bm(n,e){return mg(n.databaseId,e.path)}function yd(n,e){const t=WT(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new je(GT(t))}function KT(n,e){return mg(n.databaseId,e)}function Hx(n){const e=WT(n);return e.length===4?wt.emptyPath():GT(e)}function Am(n){return new wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function GT(n){return lt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function mE(n,e,t){return{name:bm(n,e),fields:t.value.mapValue.fields}}function Wx(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(lt(v===void 0||typeof v=="string"),tn.fromBase64String(v||"")):(lt(v===void 0||v instanceof Buffer||v instanceof Uint8Array),tn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(m){const v=m.code===void 0?Ee.UNKNOWN:BT(m.code);return new Ne(v,m.message||"")}(u);t=new $T(r,o,a,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=yd(n,r.document.name),a=Or(r.document.updateTime),u=r.document.createTime?Or(r.document.createTime):$e.min(),f=new Rn({mapValue:{fields:r.document.fields}}),h=cn.newFoundDocument(o,a,u,f),m=r.targetIds||[],v=r.removedTargetIds||[];t=new bc(m,v,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=yd(n,r.document),a=r.readTime?Or(r.readTime):$e.min(),u=cn.newNoDocument(o,a),f=r.removedTargetIds||[];t=new bc([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=yd(n,r.document),a=r.removedTargetIds||[];t=new bc([],a,o,null)}else{if(!("filter"in e))return Ue();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new Mx(o,a),f=r.targetId;t=new zT(f,u)}}return t}function Kx(n,e){let t;if(e instanceof jl)t={update:mE(n,e.key,e.value)};else if(e instanceof hg)t={delete:bm(n,e.key)};else if(e instanceof io)t={update:mE(n,e.key,e.data),updateMask:nN(e.fieldMask)};else{if(!(e instanceof Nx))return Ue();t={verify:bm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const f=u.transform;if(f instanceof qc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof bl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Al)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Bc)return{fieldPath:u.field.canonicalString(),increment:f.Ie};throw Ue()}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:$x(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ue()}(n,e.precondition)),t}function Gx(n,e){return n&&n.length>0?(lt(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?Or(o.updateTime):Or(a);return u.isEqual($e.min())&&(u=Or(a)),new Px(u,o.transformResults||[])}(t,e))):[]}function Qx(n,e){return{documents:[KT(n,e.path)]}}function Xx(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=KT(n,o);const a=function(m){if(m.length!==0)return XT(Dr.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(v=>function(d){return{field:Us(d.field),direction:Zx(d.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=Tm(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:o}}function Yx(n){let e=Hx(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){lt(r===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(y){const d=QT(y);return d instanceof Dr&&IT(d)?d.getFilters():[d]}(t.where));let u=[];t.orderBy&&(u=function(y){return y.map(d=>function(S){return new Fc(Fs(S.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(d))}(t.orderBy));let f=null;t.limit&&(f=function(y){let d;return d=typeof y=="object"?y.value:y,of(d)?null:d}(t.limit));let h=null;t.startAt&&(h=function(y){const d=!!y.before,g=y.values||[];return new Uc(g,d)}(t.startAt));let m=null;return t.endAt&&(m=function(y){const d=!y.before,g=y.values||[];return new Uc(g,d)}(t.endAt)),gx(e,o,u,a,f,"F",h,m)}function Jx(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function QT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Fs(t.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Fs(t.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Fs(t.unaryFilter.field);return Vt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Fs(t.unaryFilter.field);return Vt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ue()}}(n):n.fieldFilter!==void 0?function(t){return Vt.create(Fs(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ue()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Dr.create(t.compositeFilter.filters.map(r=>QT(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ue()}}(t.compositeFilter.op))}(n):Ue()}function Zx(n){return Fx[n]}function eN(n){return qx[n]}function tN(n){return Bx[n]}function Us(n){return{fieldPath:n.canonicalString()}}function Fs(n){return en.fromServerFormat(n.fieldPath)}function XT(n){return n instanceof Vt?function(t){if(t.op==="=="){if(nE(t.value))return{unaryFilter:{field:Us(t.field),op:"IS_NAN"}};if(tE(t.value))return{unaryFilter:{field:Us(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(nE(t.value))return{unaryFilter:{field:Us(t.field),op:"IS_NOT_NAN"}};if(tE(t.value))return{unaryFilter:{field:Us(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Us(t.field),op:eN(t.op),value:t.value}}}(n):n instanceof Dr?function(t){const r=t.getFilters().map(o=>XT(o));return r.length===1?r[0]:{compositeFilter:{op:tN(t.op),filters:r}}}(n):Ue()}function nN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function YT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,t,r,o,a=$e.min(),u=$e.min(),f=tn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.Tt=e}}function iN(n){const e=Yx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(){this.Tn=new sN}addToCollectionParentIndex(e,t){return this.Tn.add(t),ge.resolve()}getCollectionParents(e,t){return ge.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ge.resolve()}deleteFieldIndex(e,t){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,t){return ge.resolve()}getDocumentsMatchingTarget(e,t){return ge.resolve(null)}getIndexType(e,t){return ge.resolve(0)}getFieldIndexes(e,t){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,t){return ge.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,t){return ge.resolve(Xi.min())}updateCollectionGroup(e,t,r){return ge.resolve()}updateIndexEntries(e,t){return ge.resolve()}}class sN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Ft(wt.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ft(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JT=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(JT,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ys(0)}static Kn(){return new Ys(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="LruGarbageCollector",aN=1048576;function vE([n,e],[t,r]){const o=Ge(n,t);return o===0?Ge(e,r):o}class lN{constructor(e){this.Hn=e,this.buffer=new Ft(vE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();vE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ke(yE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){aa(t)?ke(yE,"Ignoring IndexedDB error during garbage collection: ",t):await sa(t)}await this.er(3e5)})}}class cN{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ge.resolve(rf.ae);const r=new lN(t);return this.tr.forEachTarget(e,o=>r.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>r.Zn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(gE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,o,a,u,f,h,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),o=this.params.maximumSequenceNumbersToCollect):o=y,u=Date.now(),this.nthSequenceNumber(e,o))).next(y=>(r=y,f=Date.now(),this.removeTargets(e,r,t))).next(y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(m=Date.now(),js()<=Ye.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${a} targets in `+(h-f)+`ms
	Removed ${y} documents in `+(m-h)+`ms
Total Duration: ${m-v}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:y})))}}function fN(n,e){return new cN(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.changes=new Wo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ge.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&gl(r.mutation,o,Mn.empty(),Ut.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ze()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ze()){const o=Lo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let u=sl();return a.forEach((f,h)=>{u=u.insert(f,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Lo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ze()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,o){let a=li();const u=ml(),f=function(){return ml()}();return t.forEach((h,m)=>{const v=r.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof io)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),gl(v.mutation,m,v.mutation.getFieldMask(),Ut.now())):u.set(m.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>{var y;return f.set(m,new dN(v,(y=u.get(m))!==null&&y!==void 0?y:null))}),f))}recalculateAndSaveOverlays(e,t){const r=ml();let o=new At((u,f)=>u-f),a=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(h=>{const m=t.get(h);if(m===null)return;let v=r.get(h)||Mn.empty();v=f.applyToLocalView(m,v),r.set(h,v);const y=(o.get(f.batchId)||Ze()).add(h);o=o.insert(f.batchId,y)})}).next(()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),m=h.key,v=h.value,y=DT();v.forEach(d=>{if(!a.has(d)){const g=FT(t.get(d),r.get(d));g!==null&&y.set(d,g),a=a.add(d)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,y))}return ge.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(u){return je.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):ge.resolve(Lo());let f=El,h=a;return u.next(m=>ge.forEach(m,(v,y)=>(f<y.largestBatchId&&(f=y.largestBatchId),a.get(v)?ge.resolve():this.remoteDocumentCache.getEntry(e,v).next(d=>{h=h.insert(v,d)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,h,m,Ze())).next(v=>({batchId:f,changes:NT(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new je(t)).next(r=>{let o=sl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=sl();return this.indexManager.getCollectionParents(e,a).next(f=>ge.forEach(f,h=>{const m=function(y,d){return new af(d,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(v=>{v.forEach((y,d)=>{u=u.insert(y,d)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o))).next(u=>{a.forEach((h,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,cn.newInvalidDocument(v)))});let f=sl();return u.forEach((h,m)=>{const v=a.get(h);v!==void 0&&gl(v.mutation,m,Mn.empty(),Ut.now()),uf(t,m)&&(f=f.insert(h,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ge.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Or(o.createTime)}}(t)),ge.resolve()}getNamedQuery(e,t){return ge.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:iN(o.bundledQuery),readTime:Or(o.readTime)}}(t)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.overlays=new At(je.comparator),this.Rr=new Map}getOverlay(e,t){return ge.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Lo();return ge.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.Et(e,t,a)}),ge.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Rr.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),ge.resolve()}getOverlaysForCollection(e,t,r){const o=Lo(),a=t.length+1,u=new je(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,m=h.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&h.largestBatchId>r&&o.set(h.getKey(),h)}return ge.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new At((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let v=a.get(m.largestBatchId);v===null&&(v=Lo(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const f=Lo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((m,v)=>f.set(m,v)),!(f.size()>=o)););return ge.resolve(f)}Et(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.Rr.get(o.largestBatchId).delete(r.key);this.Rr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Lx(t,r));let a=this.Rr.get(t);a===void 0&&(a=Ze(),this.Rr.set(t,a)),this.Rr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(){this.Vr=new Ft(Ht.mr),this.gr=new Ft(Ht.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Ht(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Ht(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new je(new wt([])),r=new Ht(t,e),o=new Ht(t,e+1),a=[];return this.gr.forEachInRange([r,o],u=>{this.wr(u),a.push(u.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new je(new wt([])),r=new Ht(t,e),o=new Ht(t,e+1);let a=Ze();return this.gr.forEachInRange([r,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Ht(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ht{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return je.comparator(e.key,t.key)||Ge(e.Cr,t.Cr)}static pr(e,t){return Ge(e.Cr,t.Cr)||je.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Ft(Ht.mr)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Dx(a,t,r,o);this.mutationQueue.push(u);for(const f of o)this.Mr=this.Mr.add(new Ht(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ge.resolve(u)}lookupMutationBatch(e,t){return ge.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Nr(r),a=o<0?0:o;return ge.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?og:this.Fr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ht(t,0),o=new Ht(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,o],u=>{const f=this.Or(u.Cr);a.push(f)}),ge.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ft(Ge);return t.forEach(o=>{const a=new Ht(o,0),u=new Ht(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,u],f=>{r=r.add(f.Cr)})}),ge.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;je.isDocumentKey(a)||(a=a.child(""));const u=new Ht(new je(a),0);let f=new Ft(Ge);return this.Mr.forEachWhile(h=>{const m=h.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(f=f.add(h.Cr)),!0)},u),ge.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(r=>{const o=this.Or(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){lt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ge.forEach(t.mutations,o=>{const a=new Ht(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Ht(t,0),o=this.Mr.firstAfterOrEqual(r);return ge.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.kr=e,this.docs=function(){return new At(je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ge.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let r=li();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():cn.newInvalidDocument(o))}),ge.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=li();const u=t.path,f=new je(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:m,value:{document:v}}=h.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||QO(GO(v),r)<=0||(o.has(v.key)||uf(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ge.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Ue()}qr(e,t){return ge.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new EN(this)}getSize(e){return ge.resolve(this.size)}}class EN extends hN{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(r)}),ge.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.persistence=e,this.Qr=new Wo(t=>lg(t),ug),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.$r=0,this.Ur=new gg,this.targetCount=0,this.Kr=Ys.Un()}forEachTarget(e,t){return this.Qr.forEach((r,o)=>t(o)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ge.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Ys(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ge.resolve()}updateTargetData(e,t){return this.zn(t),ge.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.Qr.forEach((u,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.Qr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),ge.waitFor(a).next(()=>o)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ge.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),ge.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),ge.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),ge.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return ge.resolve(r)}containsKey(e,t){return ge.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new rf(0),this.zr=!1,this.zr=!0,this.jr=new yN,this.referenceDelegate=e(this),this.Hr=new wN(this),this.indexManager=new oN,this.remoteDocumentCache=function(o){return new _N(o)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new rN(t),this.Yr=new mN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new vN(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){ke("MemoryPersistence","Starting transaction:",e);const o=new TN(this.Gr.next());return this.referenceDelegate.Zr(),r(o).next(a=>this.referenceDelegate.Xr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}ei(e,t){return ge.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class TN extends YO{constructor(e){super(),this.currentSequenceNumber=e}}class yg{constructor(e){this.persistence=e,this.ti=new gg,this.ni=null}static ri(e){return new yg(e)}get ii(){if(this.ni)return this.ni;throw Ue()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ge.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ge.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.ii,r=>{const o=je.fromPath(r);return this.si(e,o).next(a=>{a||t.removeEntry(o,$e.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ge.or([()=>ge.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class $c{constructor(e,t){this.persistence=e,this.oi=new Wo(r=>ex(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=fN(this,t)}static ri(e,t){return new $c(e,t)}Zr(){}Xr(e){return ge.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ge.forEach(this.oi,(r,o)=>this.ar(e,r,o).next(a=>a?ge.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.qr(e,u=>this.ar(e,u,t).next(f=>{f||(r++,a.removeEntry(u,$e.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ge.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ge.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ge.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=wc(e.data.value)),t}ar(e,t,r){return ge.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return ge.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=o}static Yi(e,t){let r=Ze(),o=Ze();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new vg(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return iR()?8:JO(fn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.rs(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ss(e,t,o,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new SN;return this._s(e,t,u).next(f=>{if(a.result=f,this.Xi)return this.us(e,t,u,f.size)})}).next(()=>a.result)}us(e,t,r,o){return r.documentReadCount<this.es?(js()<=Ye.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",Vs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ge.resolve()):(js()<=Ye.DEBUG&&ke("QueryEngine","Query:",Vs(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ts*o?(js()<=Ye.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",Vs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(t))):ge.resolve())}rs(e,t){if(sE(t))return ge.resolve(null);let r=Pr(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=wm(t,null,"F"),r=Pr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Ze(...a);return this.ns.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(h=>{const m=this.cs(t,f);return this.ls(t,m,u,h.readTime)?this.rs(e,wm(t,null,"F")):this.hs(e,m,t,h)}))})))}ss(e,t,r,o){return sE(t)||o.isEqual($e.min())?ge.resolve(null):this.ns.getDocuments(e,r).next(a=>{const u=this.cs(t,a);return this.ls(t,u,r,o)?ge.resolve(null):(js()<=Ye.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Vs(t)),this.hs(e,u,t,KO(o,El)).next(f=>f))})}cs(e,t){let r=new Ft(OT(e));return t.forEach((o,a)=>{uf(e,a)&&(r=r.add(a))}),r}ls(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}_s(e,t,r){return js()<=Ye.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",Vs(t)),this.ns.getDocumentsMatchingQuery(e,t,Xi.min(),r)}hs(e,t,r,o){return this.ns.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="LocalStore",AN=3e8;class IN{constructor(e,t,r,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new At(Ge),this.Is=new Wo(a=>lg(a),ug),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function RN(n,e,t,r){return new IN(n,e,t,r)}async function eS(n,e){const t=He(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],f=[];let h=Ze();for(const m of o){u.push(m.batchId);for(const v of m.mutations)h=h.add(v.key)}for(const m of a){f.push(m.batchId);for(const v of m.mutations)h=h.add(v.key)}return t.localDocuments.getDocuments(r,h).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:f}))})})}function kN(n,e){const t=He(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,h,m,v){const y=m.batch,d=y.keys();let g=ge.resolve();return d.forEach(S=>{g=g.next(()=>v.getEntry(h,S)).next(T=>{const E=m.docVersions.get(S);lt(E!==null),T.version.compareTo(E)<0&&(y.applyToRemoteDocument(T,m),T.isValidDocument()&&(T.setReadTime(m.commitVersion),v.addEntry(T)))})}),g.next(()=>f.mutationQueue.removeMutationBatch(h,y))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let h=Ze();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(h=h.add(f.batch.mutations[m].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function tS(n){const e=He(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function CN(n,e){const t=He(n),r=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const f=[];e.targetChanges.forEach((v,y)=>{const d=o.get(y);if(!d)return;f.push(t.Hr.removeMatchingKeys(a,v.removedDocuments,y).next(()=>t.Hr.addMatchingKeys(a,v.addedDocuments,y)));let g=d.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?g=g.withResumeToken(tn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):v.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(v.resumeToken,r)),o=o.insert(y,g),function(T,E,w){return T.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=AN?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(d,g,v)&&f.push(t.Hr.updateTargetData(a,g))});let h=li(),m=Ze();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),f.push(PN(a,u,e.documentUpdates).next(v=>{h=v.Vs,m=v.fs})),!r.isEqual($e.min())){const v=t.Hr.getLastRemoteSnapshotVersion(a).next(y=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(v)}return ge.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,m)).next(()=>h)}).then(a=>(t.Ts=o,a))}function PN(n,e,t){let r=Ze(),o=Ze();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=li();return t.forEach((f,h)=>{const m=a.get(f);h.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(f)),h.isNoDocument()&&h.version.isEqual($e.min())?(e.removeEntry(f,h.readTime),u=u.insert(f,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),u=u.insert(f,h)):ke(_g,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",h.version)}),{Vs:u,fs:o}})}function ON(n,e){const t=He(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=og),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xN(n,e){const t=He(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Hr.getTargetData(r,e).next(a=>a?(o=a,ge.resolve(o)):t.Hr.allocateTargetId(r).next(u=>(o=new zi(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ts.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Im(n,e,t){const r=He(n),o=r.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!aa(u))throw u;ke(_g,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(o.target)}function _E(n,e,t){const r=He(n);let o=$e.min(),a=Ze();return r.persistence.runTransaction("Execute query","readwrite",u=>function(h,m,v){const y=He(h),d=y.Is.get(v);return d!==void 0?ge.resolve(y.Ts.get(d)):y.Hr.getTargetData(m,v)}(r,u,Pr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,f.targetId).next(h=>{a=h})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?o:$e.min(),t?a:Ze())).next(f=>(NN(r,_x(e),f),{documents:f,gs:a})))}function NN(n,e,t){let r=n.Es.get(e)||$e.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Es.set(e,r)}class EE{constructor(){this.activeTargetIds=Ax()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DN{constructor(){this.ho=new EE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new EE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="ConnectivityMonitor";class TE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ke(wE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ke(wE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc=null;function Rm(){return hc===null?hc=function(){return 268435456+Math.round(2147483648*Math.random())}():hc++,"0x"+hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="RestConnection",MN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${o}`,this.wo=this.databaseId.database===jc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}So(e,t,r,o,a){const u=Rm(),f=this.bo(e,t.toUriEncodedString());ke(vd,`Sending RPC '${e}' ${u}:`,f,r);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,o,a),this.vo(e,f,h,r).then(m=>(ke(vd,`Received RPC '${e}' ${u}: `,m),m),m=>{throw Ks(vd,`RPC '${e}' ${u} failed with error: `,m,"url: ",f,"request:",r),m})}Co(e,t,r,o,a,u){return this.So(e,t,r,o,a)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),r&&r.headers.forEach((o,a)=>e[a]=o)}bo(e,t){const r=MN[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class UN extends jN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,o){const a=Rm();return new Promise((u,f)=>{const h=new oT;h.setWithCredentials(!0),h.listenOnce(sT.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Ec.NO_ERROR:const v=h.getResponseJson();ke(ln,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case Ec.TIMEOUT:ke(ln,`RPC '${e}' ${a} timed out`),f(new Ne(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case Ec.HTTP_ERROR:const y=h.getStatus();if(ke(ln,`RPC '${e}' ${a} failed with status:`,y,"response text:",h.getResponseText()),y>0){let d=h.getResponseJson();Array.isArray(d)&&(d=d[0]);const g=d==null?void 0:d.error;if(g&&g.status&&g.message){const S=function(E){const w=E.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(w)>=0?w:Ee.UNKNOWN}(g.status);f(new Ne(S,g.message))}else f(new Ne(Ee.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Ne(Ee.UNAVAILABLE,"Connection failed."));break;default:Ue()}}finally{ke(ln,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(o);ke(ln,`RPC '${e}' ${a} sending request:`,o),h.send(t,"POST",m,r,15)})}Wo(e,t,r){const o=Rm(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=uT(),f=lT(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const v=a.join("");ke(ln,`Creating RPC '${e}' stream ${o}: ${v}`,h);const y=u.createWebChannel(v,h);let d=!1,g=!1;const S=new VN({Fo:E=>{g?ke(ln,`Not sending because RPC '${e}' stream ${o} is closed:`,E):(d||(ke(ln,`Opening RPC '${e}' stream ${o} transport.`),y.open(),d=!0),ke(ln,`RPC '${e}' stream ${o} sending:`,E),y.send(E))},Mo:()=>y.close()}),T=(E,w,b)=>{E.listen(w,k=>{try{b(k)}catch(_){setTimeout(()=>{throw _},0)}})};return T(y,ol.EventType.OPEN,()=>{g||(ke(ln,`RPC '${e}' stream ${o} transport opened.`),S.Qo())}),T(y,ol.EventType.CLOSE,()=>{g||(g=!0,ke(ln,`RPC '${e}' stream ${o} transport closed`),S.Uo())}),T(y,ol.EventType.ERROR,E=>{g||(g=!0,Ks(ln,`RPC '${e}' stream ${o} transport errored:`,E),S.Uo(new Ne(Ee.UNAVAILABLE,"The operation could not be completed")))}),T(y,ol.EventType.MESSAGE,E=>{var w;if(!g){const b=E.data[0];lt(!!b);const k=b,_=(k==null?void 0:k.error)||((w=k[0])===null||w===void 0?void 0:w.error);if(_){ke(ln,`RPC '${e}' stream ${o} received error:`,_);const L=_.status;let U=function(M){const x=Dt[M];if(x!==void 0)return BT(x)}(L),P=_.message;U===void 0&&(U=Ee.INTERNAL,P="Unknown error status: "+L+" with message "+_.message),g=!0,S.Uo(new Ne(U,P)),y.close()}else ke(ln,`RPC '${e}' stream ${o} received:`,b),S.Ko(b)}}),T(f,aT.STAT_EVENT,E=>{E.stat===mm.PROXY?ke(ln,`RPC '${e}' stream ${o} detected buffering proxy`):E.stat===mm.NOPROXY&&ke(ln,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{S.$o()},0),S}}function _d(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(n){return new zx(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=o,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-r);o>0&&ke("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="PersistentStream";class rS{constructor(e,t,r,o,a,u,f,h){this.Ti=e,this.n_=r,this.r_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new nS(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Ee.RESOURCE_EXHAUSTED?(ai(t.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.i_===t&&this.V_(r,o)},r=>{e(()=>{const o=new Ne(Ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(o)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{r(()=>this.m_(o))}),this.stream.onMessage(o=>{r(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ke(SE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ke(SE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FN extends rS{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Wx(this.serializer,e),r=function(a){if(!("targetChange"in a))return $e.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?$e.min():u.readTime?Or(u.readTime):$e.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Am(this.serializer),t.addTarget=function(a,u){let f;const h=u.target;if(f=Em(h)?{documents:Qx(a,h)}:{query:Xx(a,h).ht},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=HT(a,u.resumeToken);const m=Tm(a,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo($e.min())>0){f.readTime=zc(a,u.snapshotVersion.toTimestamp());const m=Tm(a,u.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const r=Jx(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Am(this.serializer),t.removeTarget=e,this.I_(t)}}class qN extends rS{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return lt(!!e.streamToken),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Gx(e.writeResults,e.commitTime),r=Or(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Am(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Kx(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{}class zN extends BN{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Ne(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.So(e,Sm(t,r),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ne(Ee.UNKNOWN,a.toString())})}Co(e,t,r,o,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Co(e,Sm(t,r),o,u,f,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ne(Ee.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class $N{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ai(t),this.N_=!1):ke("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="RemoteStore";class HN{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(u=>{r.enqueueAndForget(async()=>{Ko(this)&&(ke(zo,"Restarting streams for network reachability change."),await async function(h){const m=He(h);m.W_.add(4),await Ul(m),m.j_.set("Unknown"),m.W_.delete(4),await pf(m)}(this))})}),this.j_=new $N(r,o)}}async function pf(n){if(Ko(n))for(const e of n.G_)await e(!0)}async function Ul(n){for(const e of n.G_)await e(!1)}function iS(n,e){const t=He(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Sg(t)?Tg(t):la(t).c_()&&wg(t,e))}function Eg(n,e){const t=He(n),r=la(t);t.K_.delete(e),r.c_()&&oS(t,e),t.K_.size===0&&(r.c_()?r.P_():Ko(t)&&t.j_.set("Unknown"))}function wg(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}la(n).y_(e)}function oS(n,e){n.H_.Ne(e),la(n).w_(e)}function Tg(n){n.H_=new Ux({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),la(n).start(),n.j_.B_()}function Sg(n){return Ko(n)&&!la(n).u_()&&n.K_.size>0}function Ko(n){return He(n).W_.size===0}function sS(n){n.H_=void 0}async function WN(n){n.j_.set("Online")}async function KN(n){n.K_.forEach((e,t)=>{wg(n,e)})}async function GN(n,e){sS(n),Sg(n)?(n.j_.q_(e),Tg(n)):n.j_.set("Unknown")}async function QN(n,e,t){if(n.j_.set("Online"),e instanceof $T&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const f of a.targetIds)o.K_.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.K_.delete(f),o.H_.removeTarget(f))}(n,e)}catch(r){ke(zo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hc(n,r)}else if(e instanceof bc?n.H_.We(e):e instanceof zT?n.H_.Ze(e):n.H_.je(e),!t.isEqual($e.min()))try{const r=await tS(n.localStore);t.compareTo(r)>=0&&await function(a,u){const f=a.H_.ot(u);return f.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const v=a.K_.get(m);v&&a.K_.set(m,v.withResumeToken(h.resumeToken,u))}}),f.targetMismatches.forEach((h,m)=>{const v=a.K_.get(h);if(!v)return;a.K_.set(h,v.withResumeToken(tn.EMPTY_BYTE_STRING,v.snapshotVersion)),oS(a,h);const y=new zi(v.target,h,m,v.sequenceNumber);wg(a,y)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(r){ke(zo,"Failed to raise snapshot:",r),await Hc(n,r)}}async function Hc(n,e,t){if(!aa(e))throw e;n.W_.add(1),await Ul(n),n.j_.set("Offline"),t||(t=()=>tS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ke(zo,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await pf(n)})}function aS(n,e){return e().catch(t=>Hc(n,t,e))}async function mf(n){const e=He(n),t=eo(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:og;for(;XN(e);)try{const o=await ON(e.localStore,r);if(o===null){e.U_.length===0&&t.P_();break}r=o.batchId,YN(e,o)}catch(o){await Hc(e,o)}lS(e)&&uS(e)}function XN(n){return Ko(n)&&n.U_.length<10}function YN(n,e){n.U_.push(e);const t=eo(n);t.c_()&&t.S_&&t.b_(e.mutations)}function lS(n){return Ko(n)&&!eo(n).u_()&&n.U_.length>0}function uS(n){eo(n).start()}async function JN(n){eo(n).C_()}async function ZN(n){const e=eo(n);for(const t of n.U_)e.b_(t.mutations)}async function e2(n,e,t){const r=n.U_.shift(),o=dg.from(r,e,t);await aS(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await mf(n)}async function t2(n,e){e&&eo(n).S_&&await async function(r,o){if(function(u){return jx(u)&&u!==Ee.ABORTED}(o.code)){const a=r.U_.shift();eo(r).h_(),await aS(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await mf(r)}}(n,e),lS(n)&&uS(n)}async function bE(n,e){const t=He(n);t.asyncQueue.verifyOperationInProgress(),ke(zo,"RemoteStore received new credentials");const r=Ko(t);t.W_.add(3),await Ul(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await pf(t)}async function n2(n,e){const t=He(n);e?(t.W_.delete(2),await pf(t)):e||(t.W_.add(2),await Ul(t),t.j_.set("Unknown"))}function la(n){return n.J_||(n.J_=function(t,r,o){const a=He(t);return a.M_(),new FN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:WN.bind(null,n),No:KN.bind(null,n),Lo:GN.bind(null,n),p_:QN.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Sg(n)?Tg(n):n.j_.set("Unknown")):(await n.J_.stop(),sS(n))})),n.J_}function eo(n){return n.Y_||(n.Y_=function(t,r,o){const a=He(t);return a.M_(),new qN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:JN.bind(null,n),Lo:t2.bind(null,n),D_:ZN.bind(null,n),v_:e2.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await mf(n)):(await n.Y_.stop(),n.U_.length>0&&(ke(zo,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,f=new bg(e,t,u,o,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ag(n,e){if(ai("AsyncQueue",`${e}: ${n}`),aa(n))return new Ne(Ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{static emptySet(e){return new Hs(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||je.comparator(t.key,r.key):(t,r)=>je.comparator(t.key,r.key),this.keyedMap=sl(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Hs)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Hs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.Z_=new At(je.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ue():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Js{constructor(e,t,r,o,a,u,f,h,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new Js(e,t,Hs.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class i2{constructor(){this.queries=IE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const o=He(t),a=o.queries;o.queries=IE(),a.forEach((u,f)=>{for(const h of f.ta)h.onError(r)})})(this,new Ne(Ee.ABORTED,"Firestore shutting down"))}}function IE(){return new Wo(n=>PT(n),lf)}async function cS(n,e){const t=He(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.na()&&e.ra()&&(r=2):(a=new r2,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await t.onListen(o,!0);break;case 1:a.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const f=Ag(u,`Initialization of query '${Vs(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&Ig(t)}async function fS(n,e){const t=He(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.ta.indexOf(e);u>=0&&(a.ta.splice(u,1),a.ta.length===0?o=e.ra()?0:1:!a.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function o2(n,e){const t=He(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const f of u.ta)f.oa(o)&&(r=!0);u.ea=o}}r&&Ig(t)}function s2(n,e,t){const r=He(n),o=r.queries.get(e);if(o)for(const a of o.ta)a.onError(t);r.queries.delete(e)}function Ig(n){n.ia.forEach(e=>{e.next()})}var km,RE;(RE=km||(km={}))._a="default",RE.Cache="cache";class hS{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Js(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Js.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==km.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this.key=e}}class pS{constructor(e){this.key=e}}class a2{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ze(),this.mutatedKeys=Ze(),this.ya=OT(e),this.wa=new Hs(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new AE,o=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,f=!1;const h=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,y)=>{const d=o.get(v),g=uf(this.query,y)?y:null,S=!!d&&this.mutatedKeys.has(d.key),T=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;d&&g?d.data.isEqual(g.data)?S!==T&&(r.track({type:3,doc:g}),E=!0):this.va(d,g)||(r.track({type:2,doc:g}),E=!0,(h&&this.ya(g,h)>0||m&&this.ya(g,m)<0)&&(f=!0)):!d&&g?(r.track({type:0,doc:g}),E=!0):d&&!g&&(r.track({type:1,doc:d}),E=!0,(h||m)&&(f=!0)),E&&(g?(u=u.add(g),a=T?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{wa:u,Da:r,ls:f,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((v,y)=>function(g,S){const T=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue()}};return T(g)-T(S)}(v.type,y.type)||this.ya(v.doc,y.doc)),this.Ca(r),o=o!=null&&o;const f=t&&!o?this.Fa():[],h=this.pa.size===0&&this.current&&!o?1:0,m=h!==this.ga;return this.ga=h,u.length!==0||m?{snapshot:new Js(this.query,e.wa,a,u,e.mutatedKeys,h===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new AE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ze(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new pS(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new dS(r))}),t}Oa(e){this.fa=e.gs,this.pa=Ze();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Js.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Rg="SyncEngine";class l2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class u2{constructor(e){this.key=e,this.Ba=!1}}class c2{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Wo(f=>PT(f),lf),this.qa=new Map,this.Qa=new Set,this.$a=new At(je.comparator),this.Ua=new Map,this.Ka=new gg,this.Wa={},this.Ga=new Map,this.za=Ys.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function f2(n,e,t=!0){const r=ES(n);let o;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Na()):o=await mS(r,e,t,!0),o}async function h2(n,e){const t=ES(n);await mS(t,e,!0,!1)}async function mS(n,e,t,r){const o=await xN(n.localStore,Pr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let f;return r&&(f=await d2(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&iS(n.remoteStore,o),f}async function d2(n,e,t,r,o){n.Ha=(y,d,g)=>async function(T,E,w,b){let k=E.view.ba(w);k.ls&&(k=await _E(T.localStore,E.query,!1).then(({documents:P})=>E.view.ba(P,k)));const _=b&&b.targetChanges.get(E.targetId),L=b&&b.targetMismatches.get(E.targetId)!=null,U=E.view.applyChanges(k,T.isPrimaryClient,_,L);return CE(T,E.targetId,U.Ma),U.snapshot}(n,y,d,g);const a=await _E(n.localStore,e,!0),u=new a2(e,a.gs),f=u.ba(a.documents),h=Vl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=u.applyChanges(f,n.isPrimaryClient,h);CE(n,t,m.Ma);const v=new l2(e,t,u);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),m.snapshot}async function p2(n,e,t){const r=He(n),o=r.ka.get(e),a=r.qa.get(o.targetId);if(a.length>1)return r.qa.set(o.targetId,a.filter(u=>!lf(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Im(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Eg(r.remoteStore,o.targetId),Cm(r,o.targetId)}).catch(sa)):(Cm(r,o.targetId),await Im(r.localStore,o.targetId,!0))}async function m2(n,e){const t=He(n),r=t.ka.get(e),o=t.qa.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Eg(t.remoteStore,r.targetId))}async function g2(n,e,t){const r=S2(n);try{const o=await function(u,f){const h=He(u),m=Ut.now(),v=f.reduce((g,S)=>g.add(S.key),Ze());let y,d;return h.persistence.runTransaction("Locally write mutations","readwrite",g=>{let S=li(),T=Ze();return h.ds.getEntries(g,v).next(E=>{S=E,S.forEach((w,b)=>{b.isValidDocument()||(T=T.add(w))})}).next(()=>h.localDocuments.getOverlayedDocuments(g,S)).next(E=>{y=E;const w=[];for(const b of f){const k=xx(b,y.get(b.key).overlayedDocument);k!=null&&w.push(new io(b.key,k,ST(k.value.mapValue),fr.exists(!0)))}return h.mutationQueue.addMutationBatch(g,m,w,f)}).next(E=>{d=E;const w=E.applyToLocalDocumentSet(y,T);return h.documentOverlayCache.saveOverlays(g,E.batchId,w)})}).then(()=>({batchId:d.batchId,changes:NT(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,f,h){let m=u.Wa[u.currentUser.toKey()];m||(m=new At(Ge)),m=m.insert(f,h),u.Wa[u.currentUser.toKey()]=m}(r,o.batchId,t),await Fl(r,o.changes),await mf(r.remoteStore)}catch(o){const a=Ag(o,"Failed to persist write");t.reject(a)}}async function gS(n,e){const t=He(n);try{const r=await CN(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Ua.get(a);u&&(lt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Ba=!0:o.modifiedDocuments.size>0?lt(u.Ba):o.removedDocuments.size>0&&(lt(u.Ba),u.Ba=!1))}),await Fl(t,r,e)}catch(r){await sa(r)}}function kE(n,e,t){const r=He(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.ka.forEach((a,u)=>{const f=u.view.sa(e);f.snapshot&&o.push(f.snapshot)}),function(u,f){const h=He(u);h.onlineState=f;let m=!1;h.queries.forEach((v,y)=>{for(const d of y.ta)d.sa(f)&&(m=!0)}),m&&Ig(h)}(r.eventManager,e),o.length&&r.La.p_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function y2(n,e,t){const r=He(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Ua.get(e),a=o&&o.key;if(a){let u=new At(je.comparator);u=u.insert(a,cn.newNoDocument(a,$e.min()));const f=Ze().add(a),h=new hf($e.min(),new Map,new At(Ge),u,f);await gS(r,h),r.$a=r.$a.remove(a),r.Ua.delete(e),kg(r)}else await Im(r.localStore,e,!1).then(()=>Cm(r,e,t)).catch(sa)}async function v2(n,e){const t=He(n),r=e.batch.batchId;try{const o=await kN(t.localStore,e);vS(t,r,null),yS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Fl(t,o)}catch(o){await sa(o)}}async function _2(n,e,t){const r=He(n);try{const o=await function(u,f){const h=He(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return h.mutationQueue.lookupMutationBatch(m,f).next(y=>(lt(y!==null),v=y.keys(),h.mutationQueue.removeMutationBatch(m,y))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,v,f)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>h.localDocuments.getDocuments(m,v))})}(r.localStore,e);vS(r,e,t),yS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Fl(r,o)}catch(o){await sa(o)}}function yS(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function vS(n,e,t){const r=He(n);let o=r.Wa[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Wa[r.currentUser.toKey()]=o}}function Cm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||_S(n,r)})}function _S(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Eg(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),kg(n))}function CE(n,e,t){for(const r of t)r instanceof dS?(n.Ka.addReference(r.key,e),E2(n,r)):r instanceof pS?(ke(Rg,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||_S(n,r.key)):Ue()}function E2(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(ke(Rg,"New document in limbo: "+t),n.Qa.add(r),kg(n))}function kg(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new je(wt.fromString(e)),r=n.za.next();n.Ua.set(r,new u2(t)),n.$a=n.$a.insert(t,r),iS(n.remoteStore,new zi(Pr(cg(t.path)),r,"TargetPurposeLimboResolution",rf.ae))}}async function Fl(n,e,t){const r=He(n),o=[],a=[],u=[];r.ka.isEmpty()||(r.ka.forEach((f,h)=>{u.push(r.Ha(h,e,t).then(m=>{var v;if((m||t)&&r.isPrimaryClient){const y=m?!m.fromCache:(v=t==null?void 0:t.targetChanges.get(h.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(m){o.push(m);const y=vg.Yi(h.targetId,m);a.push(y)}}))}),await Promise.all(u),r.La.p_(o),await async function(h,m){const v=He(h);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>ge.forEach(m,d=>ge.forEach(d.Hi,g=>v.persistence.referenceDelegate.addReference(y,d.targetId,g)).next(()=>ge.forEach(d.Ji,g=>v.persistence.referenceDelegate.removeReference(y,d.targetId,g)))))}catch(y){if(!aa(y))throw y;ke(_g,"Failed to update sequence numbers: "+y)}for(const y of m){const d=y.targetId;if(!y.fromCache){const g=v.Ts.get(d),S=g.snapshotVersion,T=g.withLastLimboFreeSnapshotVersion(S);v.Ts=v.Ts.insert(d,T)}}}(r.localStore,a))}async function w2(n,e){const t=He(n);if(!t.currentUser.isEqual(e)){ke(Rg,"User change. New user:",e.toKey());const r=await eS(t.localStore,e);t.currentUser=e,function(a,u){a.Ga.forEach(f=>{f.forEach(h=>{h.reject(new Ne(Ee.CANCELLED,u))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fl(t,r.Rs)}}function T2(n,e){const t=He(n),r=t.Ua.get(e);if(r&&r.Ba)return Ze().add(r.key);{let o=Ze();const a=t.qa.get(e);if(!a)return o;for(const u of a){const f=t.ka.get(u);o=o.unionWith(f.view.Sa)}return o}}function ES(n){const e=He(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=gS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y2.bind(null,e),e.La.p_=o2.bind(null,e.eventManager),e.La.Ja=s2.bind(null,e.eventManager),e}function S2(n){const e=He(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=v2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_2.bind(null,e),e}class Wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=df(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return RN(this.persistence,new bN,e.initialUser,this.serializer)}Xa(e){return new ZT(yg.ri,this.serializer)}Za(e){return new DN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wc.provider={build:()=>new Wc};class b2 extends Wc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){lt(this.persistence.referenceDelegate instanceof $c);const r=this.persistence.referenceDelegate.garbageCollector;return new uN(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new ZT(r=>$c.ri(r,t),this.serializer)}}class Pm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=w2.bind(null,this.syncEngine),await n2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new i2}()}createDatastore(e){const t=df(e.databaseInfo.databaseId),r=function(a){return new UN(a)}(e.databaseInfo);return function(a,u,f,h){return new zN(a,u,f,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,a,u,f){return new HN(r,o,a,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>kE(this.syncEngine,t,0),function(){return TE.D()?new TE:new LN}())}createSyncEngine(e,t){return function(o,a,u,f,h,m,v){const y=new c2(o,a,u,f,h,m);return v&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=He(o);ke(zo,"RemoteStore shutting down."),a.W_.add(5),await Ul(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Pm.provider={build:()=>new Pm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="FirestoreClient";class A2{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=un.UNAUTHENTICATED,this.clientId=hT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{ke(to,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ke(to,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Ag(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ed(n,e){n.asyncQueue.verifyOperationInProgress(),ke(to,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await eS(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function PE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await I2(n);ke(to,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>bE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>bE(e.remoteStore,o)),n._onlineComponents=e}async function I2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ke(to,"Using user provided OfflineComponentProvider");try{await Ed(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Ee.FAILED_PRECONDITION||o.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Ks("Error using user provided cache. Falling back to memory cache: "+t),await Ed(n,new Wc)}}else ke(to,"Using default OfflineComponentProvider"),await Ed(n,new b2(void 0));return n._offlineComponents}async function TS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ke(to,"Using user provided OnlineComponentProvider"),await PE(n,n._uninitializedComponentsProvider._online)):(ke(to,"Using default OnlineComponentProvider"),await PE(n,new Pm))),n._onlineComponents}function R2(n){return TS(n).then(e=>e.syncEngine)}async function SS(n){const e=await TS(n),t=e.eventManager;return t.onListen=f2.bind(null,e.syncEngine),t.onUnlisten=p2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=h2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=m2.bind(null,e.syncEngine),t}function k2(n,e,t={}){const r=new ri;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,h,m){const v=new wS({next:d=>{v.su(),u.enqueueAndForget(()=>fS(a,y));const g=d.docs.has(f);!g&&d.fromCache?m.reject(new Ne(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&d.fromCache&&h&&h.source==="server"?m.reject(new Ne(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(d)},error:d=>m.reject(d)}),y=new hS(cg(f.path),v,{includeMetadataChanges:!0,Ta:!0});return cS(a,y)}(await SS(n),n.asyncQueue,e,t,r)),r.promise}function C2(n,e,t={}){const r=new ri;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,h,m){const v=new wS({next:d=>{v.su(),u.enqueueAndForget(()=>fS(a,y)),d.fromCache&&h.source==="server"?m.reject(new Ne(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(d)},error:d=>m.reject(d)}),y=new hS(f,v,{includeMetadataChanges:!0,Ta:!0});return cS(a,y)}(await SS(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(n,e,t){if(!t)throw new Ne(Ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function P2(n,e,t,r){if(e===!0&&r===!0)throw new Ne(Ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function xE(n){if(!je.isDocumentKey(n))throw new Ne(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function NE(n){if(je.isDocumentKey(n))throw new Ne(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Cg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ue()}function ui(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Cg(n);throw new Ne(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="firestore.googleapis.com",DE=!0;class LE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IS,this.ssl=DE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:DE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=JT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aN)throw new Ne(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ne(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ne(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ne(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new VO;switch(r.type){case"firstParty":return new BO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=OE.get(t);r&&(ke("ComponentProvider","Removing Datastore"),OE.delete(t),r.terminate())}(this),Promise.resolve()}}function O2(n,e,t,r={}){var o;const a=(n=ui(n,gf))._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;a.host!==IS&&a.host!==f&&Ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:f,ssl:!1,emulatorOptions:r});if(!Vo(h,u)&&(n._setSettings(h),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=un.MOCK_USER;else{m=e0(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Ne(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new un(y)}n._authCredentials=new UO(new cT(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yf(this.firestore,e,this._query)}}class jn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}}class Ki extends yf{constructor(e,t,r){super(e,t,cg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new je(e))}withConverter(e){return new Ki(this.firestore,e,this._path)}}function vf(n,e,...t){if(n=Kt(n),AS("collection","path",e),n instanceof gf){const r=wt.fromString(e,...t);return NE(r),new Ki(n,null,r)}{if(!(n instanceof jn||n instanceof Ki))throw new Ne(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(wt.fromString(e,...t));return NE(r),new Ki(n.firestore,null,r)}}function ql(n,e,...t){if(n=Kt(n),arguments.length===1&&(e=hT.newId()),AS("doc","path",e),n instanceof gf){const r=wt.fromString(e,...t);return xE(r),new jn(n,null,new je(r))}{if(!(n instanceof jn||n instanceof Ki))throw new Ne(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(wt.fromString(e,...t));return xE(r),new jn(n.firestore,n instanceof Ki?n.converter:null,new je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="AsyncQueue";class jE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new nS(this,"async_queue_retry"),this.Su=()=>{const r=_d();r&&ke(ME,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=_d();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=_d();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ri;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!aa(e))throw e;ke(ME,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const o=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(r);throw ai("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=bg.createAndSchedule(this,e,t,r,a=>this.Fu(a));return this.fu.push(o),o}Du(){this.gu&&Ue()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class ua extends gf{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new jE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jE(e),this._firestoreClient=void 0,await e}}}function x2(n,e){const t=typeof n=="object"?n:qm(),r=typeof n=="string"?n:jc,o=Zc(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=Yw("firestore");a&&O2(o,...a)}return o}function Pg(n){if(n._terminated)throw new Ne(Ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||N2(n),n._firestoreClient}function N2(n){var e,t,r;const o=n._freezeSettings(),a=function(f,h,m,v){return new rx(f,h,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,bS(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new A2(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(f){const h=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zs(tn.fromBase64String(e))}catch(t){throw new Ne(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zs(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ne(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=/^__.*__$/;class L2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new io(e,this.data,this.fieldMask,t,this.fieldTransforms):new jl(e,this.data,t,this.fieldTransforms)}}class RS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new io(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue()}}class Dg{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Dg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:r,Qu:!1});return o.$u(e),o}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:r,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Kc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(kS(this.Lu)&&D2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class M2{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||df(e)}ju(e,t,r,o=!1){return new Dg({Lu:e,methodName:t,zu:r,path:en.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CS(n){const e=n._freezeSettings(),t=df(n._databaseId);return new M2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function j2(n,e,t,r,o,a={}){const u=n.ju(a.merge||a.mergeFields?2:0,e,t,o);Lg("Data must be an object, but it was:",u,r);const f=PS(r,u);let h,m;if(a.merge)h=new Mn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const y of a.mergeFields){const d=Om(e,y,t);if(!u.contains(d))throw new Ne(Ee.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);xS(v,d)||v.push(d)}h=new Mn(v),m=u.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,m=u.fieldTransforms;return new L2(new Rn(f),h,m)}class Ef extends Og{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ef}}function V2(n,e,t,r){const o=n.ju(1,e,t);Lg("Data must be an object, but it was:",o,r);const a=[],u=Rn.empty();ro(r,(h,m)=>{const v=Mg(e,h,t);m=Kt(m);const y=o.Uu(v);if(m instanceof Ef)a.push(v);else{const d=wf(m,y);d!=null&&(a.push(v),u.set(v,d))}});const f=new Mn(a);return new RS(u,f,o.fieldTransforms)}function U2(n,e,t,r,o,a){const u=n.ju(1,e,t),f=[Om(e,r,t)],h=[o];if(a.length%2!=0)throw new Ne(Ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<a.length;d+=2)f.push(Om(e,a[d])),h.push(a[d+1]);const m=[],v=Rn.empty();for(let d=f.length-1;d>=0;--d)if(!xS(m,f[d])){const g=f[d];let S=h[d];S=Kt(S);const T=u.Uu(g);if(S instanceof Ef)m.push(g);else{const E=wf(S,T);E!=null&&(m.push(g),v.set(g,E))}}const y=new Mn(m);return new RS(v,y,u.fieldTransforms)}function wf(n,e){if(OS(n=Kt(n)))return Lg("Unsupported field value:",e,n),PS(n,e);if(n instanceof Og)return function(r,o){if(!kS(o.Lu))throw o.Wu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,o){const a=[];let u=0;for(const f of r){let h=wf(f,o.Ku(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,o){if((r=Kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ix(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ut.fromDate(r);return{timestampValue:zc(o.serializer,a)}}if(r instanceof Ut){const a=new Ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zc(o.serializer,a)}}if(r instanceof xg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zs)return{bytesValue:HT(o.serializer,r._byteString)};if(r instanceof jn){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:mg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ng)return function(u,f){return{mapValue:{fields:{[ET]:{stringValue:TT},[Vc]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw f.Wu("VectorValues must only contain numeric values.");return fg(f.serializer,m)})}}}}}}(r,o);throw o.Wu(`Unsupported field value: ${Cg(r)}`)}(n,e)}function PS(n,e){const t={};return pT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ro(n,(r,o)=>{const a=wf(o,e.qu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function OS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ut||n instanceof xg||n instanceof Zs||n instanceof jn||n instanceof Og||n instanceof Ng)}function Lg(n,e,t){if(!OS(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const r=Cg(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function Om(n,e,t){if((e=Kt(e))instanceof _f)return e._internalPath;if(typeof e=="string")return Mg(n,e);throw Kc("Field path arguments must be of type string or ",n,!1,void 0,t)}const F2=new RegExp("[~\\*/\\[\\]]");function Mg(n,e,t){if(e.search(F2)>=0)throw Kc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _f(...e.split("."))._internalPath}catch{throw Kc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Kc(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${r}`),u&&(h+=` in document ${o}`),h+=")"),new Ne(Ee.INVALID_ARGUMENT,f+n+h)}function xS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new q2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(DS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class q2 extends NS{data(){return super.data()}}function DS(n,e){return typeof e=="string"?Mg(n,e):e instanceof _f?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ne(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class z2{convertValue(e,t="none"){switch(Zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ro(e,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,o;const a=(o=(r=(t=e.fields)===null||t===void 0?void 0:t[Vc].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(u=>Pt(u.doubleValue));return new Ng(a)}convertGeoPoint(e){return new xg(Pt(e.latitude),Pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=sf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(wl(e));default:return null}}convertTimestamp(e){const t=Yi(e);return new Ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=wt.fromString(e);lt(YT(r));const o=new Tl(r.get(1),r.get(3)),a=new je(r.popFirst(5));return o.isEqual(t)||ai(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class LS extends NS{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(DS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ac extends LS{data(e={}){return super.data(e)}}class H2{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ll(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ac(this._firestore,this._userDataWriter,r.key,r,new ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(f=>{const h=new Ac(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ll(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const h=new Ac(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ll(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return f.type!==0&&(m=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:W2(f.type),doc:h,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function W2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(n){n=ui(n,jn);const e=ui(n.firestore,ua);return k2(Pg(e),n._key).then(t=>X2(e,n,t))}class MS extends z2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,t)}}function jg(n){n=ui(n,yf);const e=ui(n.firestore,ua),t=Pg(e),r=new MS(e);return B2(n._query),C2(t,n._query).then(o=>new H2(e,r,n,o))}function jS(n,e,t,...r){n=ui(n,jn);const o=ui(n.firestore,ua),a=CS(o);let u;return u=typeof(e=Kt(e))=="string"||e instanceof _f?U2(a,"updateDoc",n._key,e,t,r):V2(a,"updateDoc",n._key,e),Vg(o,[u.toMutation(n._key,fr.exists(!0))])}function G2(n){return Vg(ui(n.firestore,ua),[new hg(n._key,fr.none())])}function Q2(n,e){const t=ui(n.firestore,ua),r=ql(n),o=$2(n.converter,e);return Vg(t,[j2(CS(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,fr.exists(!1))]).then(()=>r)}function Vg(n,e){return function(r,o){const a=new ri;return r.asyncQueue.enqueueAndForget(async()=>g2(await R2(r),o,a)),a.promise}(Pg(n),e)}function X2(n,e,t){const r=t.docs.get(e._key),o=new MS(n);return new LS(n,o,e._key,r,new ll(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){oa=o})(Ho),Uo(new Qi("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),f=new ua(new FO(r.getProvider("auth-internal")),new zO(u,r.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ne(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tl(m.options.projectId,v)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),Rr(z_,$_,e),Rr(z_,$_,"esm2017")})();const no=x2(rg);async function VS(n){const e=vf(no,n),t=await jg(e);let r=[];return t.forEach(o=>{r.push({...o.data(),id:o.id})}),r}async function US(n,e){const t=vf(no,n);return(await Q2(t,e)).id}async function Y2(n,e,t){const r=ql(no,n,e);return await jS(r,t),`Document with ID ${e} updated successfully.`}async function FS(n,e){const t=ql(no,n,e),r=await K2(t);if(r.exists())return{...r.data(),id:r.id};throw new Error(`No document found with ID ${e} in collection ${n}`)}async function qS(n,e,t){const r=vf(no,n),o=await jg(r);let a=null;if(o.forEach(u=>{u.data()[e]===t&&(a={...u.data(),id:u.id})}),a)return a;throw new Error(`No document found in collection ${n} with ${e} equal to ${t}`)}async function J2(n,e){const t=ql(no,n,e);return await G2(t),`Document with ID ${e} deleted successfully from collection ${n}.`}async function Z2(n,e,t,r){const o=vf(no,n),a=await jg(o);let u=null;if(a.forEach(f=>{f.data()[e]===t&&(u=f.id)}),u){const f=ql(no,n,u);return await jS(f,r),`Document with ${e} equal to ${t} updated successfully.`}else throw new Error(`No document found in collection ${n} with ${e} equal to ${t}`)}const eD=(n,e,t,r)=>new Promise((o,a)=>{if(!n)return a("Nenhum arquivo selecionado.");const u=`dishes/${n.name}`,f=OO(jO,u),h=CO(f,n);h.on("state_changed",m=>{const v=m.bytesTransferred/m.totalBytes*100;e(v)},m=>{console.error(m),a(m)},async()=>{try{const m=await PO(h.snapshot.ref);t(m),r(v=>({...v,images:[...v.images||[],m]})),o(m)}catch(m){a(m)}})}),tD=()=>{const[n,e]=de.useState([]),t=kl(),{login:r}=de.useContext(ci);de.useEffect(()=>{o()},[]),de.useEffect(()=>{o()},[r]);const o=async()=>{const u=await VS("products");if(console.log("produtos com id  ",u),u&&u.length>0)if(r)e(u);else{const f=u.filter(h=>h.adApproved===!0);e(f);return}},a=u=>{console.log("Qual é oproduto   ",u),t(`/singleProduct/${u}`)};return K.jsxs("div",{className:Li.showcaseContainer,children:[K.jsx("h1",{children:"Vitrine de Produtos"}),K.jsx("div",{className:Li.scrollContainer,children:n.length>0?K.jsx("div",{className:Li.productsGrid,children:n.map((u,f)=>K.jsxs("div",{className:Li.productCard,onClick:()=>a(u.id),children:[K.jsx("div",{className:Li.imageContainer,children:K.jsx("img",{src:u.images[0],alt:`Produto ${f+1}`,className:Li.productImage})}),K.jsx("h3",{className:Li.title,children:u.title}),K.jsxs("h3",{className:Li.price,children:["R$ ",u.price,",00"]})]},f))}):K.jsx("p",{children:"Nenhum produto encontrado no localStorage."})})]})},nD="_productFormContainer_1p35r_3",rD="_formContainer_1p35r_3",iD="_formRow_1p35r_8",oD="_formGroup_1p35r_11",sD="_formTextareaColumn_1p35r_15",aD="_textareaColumn_1p35r_18",lD="_linkAddImgContainer_1p35r_22",uD="_linkField_1p35r_26",cD="_btn_1p35r_26",fD="_containerImages_1p35r_30",hD="_btnContainer_1p35r_33",dD="_imagePreview_1p35r_62",pD="_textField_1p35r_97",mD="_imageItem_1p35r_155",ot={productFormContainer:nD,formContainer:rD,formRow:iD,formGroup:oD,formTextareaColumn:sD,textareaColumn:aD,linkAddImgContainer:lD,linkField:uD,btn:cD,containerImages:fD,btnContainer:hD,imagePreview:dD,textField:pD,imageItem:mD},gD="_container_if0ca_1",yD="_geralContainerConfirmMessage_if0ca_18",vD="_containerBtn_if0ca_24",_D="_containerCpf_if0ca_31",ED="_submitCpfBtn_if0ca_40",wD="_register_if0ca_67",Ar={container:gD,geralContainerConfirmMessage:yD,containerBtn:vD,containerCpf:_D,submitCpfBtn:ED,register:wD};var wd={exports:{}},Td,VE;function TD(){if(VE)return Td;VE=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Td=n,Td}var Sd,UE;function SD(){if(UE)return Sd;UE=1;var n=TD();function e(){}function t(){}return t.resetWarningCache=e,Sd=function(){function r(u,f,h,m,v,y){if(y!==n){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}r.isRequired=r;function o(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Sd}var FE;function bD(){return FE||(FE=1,wd.exports=SD()()),wd.exports}var AD=bD();const Wt=Nm(AD),xm=({setCloseMessage:n,defaultMessage:e,goOn:t})=>K.jsx("div",{className:Ar.container,children:K.jsxs("div",{className:Ar.geralContainerConfirmMessage,children:[K.jsxs("div",{children:[" ",K.jsx("h1",{children:e})]}),K.jsxs("div",{className:Ar.containerBtn,children:[K.jsx("button",{onClick:t,children:"Sim"}),K.jsx("button",{onClick:()=>n(!1),children:"Não"})]})]})});xm.propTypes={setCloseMessage:Wt.func.isRequired,defaultMessage:Wt.string.isRequired,goOn:Wt.func.isRequired};const ID="_container_l88h6_1",RD="_messageBox_l88h6_13",qE={container:ID,messageBox:RD},ea=({message:n,setClose:e,setCloseMessage:t,adress:r})=>{const o=kl();return Je.useEffect(()=>{const a=setTimeout(()=>{e&&e(!1),t&&t(!1),r&&o(r)},4e3);return()=>clearTimeout(a)},[o]),K.jsx("div",{className:qE.container,children:K.jsx("div",{className:qE.messageBox,children:n})})};ea.propTypes={message:Wt.string.isRequired,adress:Wt.string,setCloseMessage:Wt.func,setClose:Wt.func.isRequired};var bd,BE;function kD(){if(BE)return bd;BE=1;function n(){this.__data__=[],this.size=0}return bd=n,bd}var Ad,zE;function BS(){if(zE)return Ad;zE=1;function n(e,t){return e===t||e!==e&&t!==t}return Ad=n,Ad}var Id,$E;function Tf(){if($E)return Id;$E=1;var n=BS();function e(t,r){for(var o=t.length;o--;)if(n(t[o][0],r))return o;return-1}return Id=e,Id}var Rd,HE;function CD(){if(HE)return Rd;HE=1;var n=Tf(),e=Array.prototype,t=e.splice;function r(o){var a=this.__data__,u=n(a,o);if(u<0)return!1;var f=a.length-1;return u==f?a.pop():t.call(a,u,1),--this.size,!0}return Rd=r,Rd}var kd,WE;function PD(){if(WE)return kd;WE=1;var n=Tf();function e(t){var r=this.__data__,o=n(r,t);return o<0?void 0:r[o][1]}return kd=e,kd}var Cd,KE;function OD(){if(KE)return Cd;KE=1;var n=Tf();function e(t){return n(this.__data__,t)>-1}return Cd=e,Cd}var Pd,GE;function xD(){if(GE)return Pd;GE=1;var n=Tf();function e(t,r){var o=this.__data__,a=n(o,t);return a<0?(++this.size,o.push([t,r])):o[a][1]=r,this}return Pd=e,Pd}var Od,QE;function Sf(){if(QE)return Od;QE=1;var n=kD(),e=CD(),t=PD(),r=OD(),o=xD();function a(u){var f=-1,h=u==null?0:u.length;for(this.clear();++f<h;){var m=u[f];this.set(m[0],m[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,Od=a,Od}var xd,XE;function ND(){if(XE)return xd;XE=1;var n=Sf();function e(){this.__data__=new n,this.size=0}return xd=e,xd}var Nd,YE;function DD(){if(YE)return Nd;YE=1;function n(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}return Nd=n,Nd}var Dd,JE;function LD(){if(JE)return Dd;JE=1;function n(e){return this.__data__.get(e)}return Dd=n,Dd}var Ld,ZE;function MD(){if(ZE)return Ld;ZE=1;function n(e){return this.__data__.has(e)}return Ld=n,Ld}var Md,e1;function zS(){if(e1)return Md;e1=1;var n=typeof nc=="object"&&nc&&nc.Object===Object&&nc;return Md=n,Md}var jd,t1;function fi(){if(t1)return jd;t1=1;var n=zS(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return jd=t,jd}var Vd,n1;function Ug(){if(n1)return Vd;n1=1;var n=fi(),e=n.Symbol;return Vd=e,Vd}var Ud,r1;function jD(){if(r1)return Ud;r1=1;var n=Ug(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,o=n?n.toStringTag:void 0;function a(u){var f=t.call(u,o),h=u[o];try{u[o]=void 0;var m=!0}catch{}var v=r.call(u);return m&&(f?u[o]=h:delete u[o]),v}return Ud=a,Ud}var Fd,i1;function VD(){if(i1)return Fd;i1=1;var n=Object.prototype,e=n.toString;function t(r){return e.call(r)}return Fd=t,Fd}var qd,o1;function bf(){if(o1)return qd;o1=1;var n=Ug(),e=jD(),t=VD(),r="[object Null]",o="[object Undefined]",a=n?n.toStringTag:void 0;function u(f){return f==null?f===void 0?o:r:a&&a in Object(f)?e(f):t(f)}return qd=u,qd}var Bd,s1;function $S(){if(s1)return Bd;s1=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return Bd=n,Bd}var zd,a1;function HS(){if(a1)return zd;a1=1;var n=bf(),e=$S(),t="[object AsyncFunction]",r="[object Function]",o="[object GeneratorFunction]",a="[object Proxy]";function u(f){if(!e(f))return!1;var h=n(f);return h==r||h==o||h==t||h==a}return zd=u,zd}var $d,l1;function UD(){if(l1)return $d;l1=1;var n=fi(),e=n["__core-js_shared__"];return $d=e,$d}var Hd,u1;function FD(){if(u1)return Hd;u1=1;var n=UD(),e=function(){var r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function t(r){return!!e&&e in r}return Hd=t,Hd}var Wd,c1;function WS(){if(c1)return Wd;c1=1;var n=Function.prototype,e=n.toString;function t(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Wd=t,Wd}var Kd,f1;function qD(){if(f1)return Kd;f1=1;var n=HS(),e=FD(),t=$S(),r=WS(),o=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,u=Function.prototype,f=Object.prototype,h=u.toString,m=f.hasOwnProperty,v=RegExp("^"+h.call(m).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function y(d){if(!t(d)||e(d))return!1;var g=n(d)?v:a;return g.test(r(d))}return Kd=y,Kd}var Gd,h1;function BD(){if(h1)return Gd;h1=1;function n(e,t){return e==null?void 0:e[t]}return Gd=n,Gd}var Qd,d1;function ca(){if(d1)return Qd;d1=1;var n=qD(),e=BD();function t(r,o){var a=e(r,o);return n(a)?a:void 0}return Qd=t,Qd}var Xd,p1;function Fg(){if(p1)return Xd;p1=1;var n=ca(),e=fi(),t=n(e,"Map");return Xd=t,Xd}var Yd,m1;function Af(){if(m1)return Yd;m1=1;var n=ca(),e=n(Object,"create");return Yd=e,Yd}var Jd,g1;function zD(){if(g1)return Jd;g1=1;var n=Af();function e(){this.__data__=n?n(null):{},this.size=0}return Jd=e,Jd}var Zd,y1;function $D(){if(y1)return Zd;y1=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return Zd=n,Zd}var ep,v1;function HD(){if(v1)return ep;v1=1;var n=Af(),e="__lodash_hash_undefined__",t=Object.prototype,r=t.hasOwnProperty;function o(a){var u=this.__data__;if(n){var f=u[a];return f===e?void 0:f}return r.call(u,a)?u[a]:void 0}return ep=o,ep}var tp,_1;function WD(){if(_1)return tp;_1=1;var n=Af(),e=Object.prototype,t=e.hasOwnProperty;function r(o){var a=this.__data__;return n?a[o]!==void 0:t.call(a,o)}return tp=r,tp}var np,E1;function KD(){if(E1)return np;E1=1;var n=Af(),e="__lodash_hash_undefined__";function t(r,o){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=n&&o===void 0?e:o,this}return np=t,np}var rp,w1;function GD(){if(w1)return rp;w1=1;var n=zD(),e=$D(),t=HD(),r=WD(),o=KD();function a(u){var f=-1,h=u==null?0:u.length;for(this.clear();++f<h;){var m=u[f];this.set(m[0],m[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,rp=a,rp}var ip,T1;function QD(){if(T1)return ip;T1=1;var n=GD(),e=Sf(),t=Fg();function r(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return ip=r,ip}var op,S1;function XD(){if(S1)return op;S1=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return op=n,op}var sp,b1;function If(){if(b1)return sp;b1=1;var n=XD();function e(t,r){var o=t.__data__;return n(r)?o[typeof r=="string"?"string":"hash"]:o.map}return sp=e,sp}var ap,A1;function YD(){if(A1)return ap;A1=1;var n=If();function e(t){var r=n(this,t).delete(t);return this.size-=r?1:0,r}return ap=e,ap}var lp,I1;function JD(){if(I1)return lp;I1=1;var n=If();function e(t){return n(this,t).get(t)}return lp=e,lp}var up,R1;function ZD(){if(R1)return up;R1=1;var n=If();function e(t){return n(this,t).has(t)}return up=e,up}var cp,k1;function eL(){if(k1)return cp;k1=1;var n=If();function e(t,r){var o=n(this,t),a=o.size;return o.set(t,r),this.size+=o.size==a?0:1,this}return cp=e,cp}var fp,C1;function KS(){if(C1)return fp;C1=1;var n=QD(),e=YD(),t=JD(),r=ZD(),o=eL();function a(u){var f=-1,h=u==null?0:u.length;for(this.clear();++f<h;){var m=u[f];this.set(m[0],m[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,fp=a,fp}var hp,P1;function tL(){if(P1)return hp;P1=1;var n=Sf(),e=Fg(),t=KS(),r=200;function o(a,u){var f=this.__data__;if(f instanceof n){var h=f.__data__;if(!e||h.length<r-1)return h.push([a,u]),this.size=++f.size,this;f=this.__data__=new t(h)}return f.set(a,u),this.size=f.size,this}return hp=o,hp}var dp,O1;function nL(){if(O1)return dp;O1=1;var n=Sf(),e=ND(),t=DD(),r=LD(),o=MD(),a=tL();function u(f){var h=this.__data__=new n(f);this.size=h.size}return u.prototype.clear=e,u.prototype.delete=t,u.prototype.get=r,u.prototype.has=o,u.prototype.set=a,dp=u,dp}var pp,x1;function rL(){if(x1)return pp;x1=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return pp=e,pp}var mp,N1;function iL(){if(N1)return mp;N1=1;function n(e){return this.__data__.has(e)}return mp=n,mp}var gp,D1;function oL(){if(D1)return gp;D1=1;var n=KS(),e=rL(),t=iL();function r(o){var a=-1,u=o==null?0:o.length;for(this.__data__=new n;++a<u;)this.add(o[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=t,gp=r,gp}var yp,L1;function sL(){if(L1)return yp;L1=1;function n(e,t){for(var r=-1,o=e==null?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}return yp=n,yp}var vp,M1;function aL(){if(M1)return vp;M1=1;function n(e,t){return e.has(t)}return vp=n,vp}var _p,j1;function GS(){if(j1)return _p;j1=1;var n=oL(),e=sL(),t=aL(),r=1,o=2;function a(u,f,h,m,v,y){var d=h&r,g=u.length,S=f.length;if(g!=S&&!(d&&S>g))return!1;var T=y.get(u),E=y.get(f);if(T&&E)return T==f&&E==u;var w=-1,b=!0,k=h&o?new n:void 0;for(y.set(u,f),y.set(f,u);++w<g;){var _=u[w],L=f[w];if(m)var U=d?m(L,_,w,f,u,y):m(_,L,w,u,f,y);if(U!==void 0){if(U)continue;b=!1;break}if(k){if(!e(f,function(P,R){if(!t(k,R)&&(_===P||v(_,P,h,m,y)))return k.push(R)})){b=!1;break}}else if(!(_===L||v(_,L,h,m,y))){b=!1;break}}return y.delete(u),y.delete(f),b}return _p=a,_p}var Ep,V1;function lL(){if(V1)return Ep;V1=1;var n=fi(),e=n.Uint8Array;return Ep=e,Ep}var wp,U1;function uL(){if(U1)return wp;U1=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(o,a){r[++t]=[a,o]}),r}return wp=n,wp}var Tp,F1;function cL(){if(F1)return Tp;F1=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r}return Tp=n,Tp}var Sp,q1;function fL(){if(q1)return Sp;q1=1;var n=Ug(),e=lL(),t=BS(),r=GS(),o=uL(),a=cL(),u=1,f=2,h="[object Boolean]",m="[object Date]",v="[object Error]",y="[object Map]",d="[object Number]",g="[object RegExp]",S="[object Set]",T="[object String]",E="[object Symbol]",w="[object ArrayBuffer]",b="[object DataView]",k=n?n.prototype:void 0,_=k?k.valueOf:void 0;function L(U,P,R,M,x,I,D){switch(R){case b:if(U.byteLength!=P.byteLength||U.byteOffset!=P.byteOffset)return!1;U=U.buffer,P=P.buffer;case w:return!(U.byteLength!=P.byteLength||!I(new e(U),new e(P)));case h:case m:case d:return t(+U,+P);case v:return U.name==P.name&&U.message==P.message;case g:case T:return U==P+"";case y:var N=o;case S:var $=M&u;if(N||(N=a),U.size!=P.size&&!$)return!1;var G=D.get(U);if(G)return G==P;M|=f,D.set(U,P);var Z=r(N(U),N(P),M,x,I,D);return D.delete(U),Z;case E:if(_)return _.call(U)==_.call(P)}return!1}return Sp=L,Sp}var bp,B1;function hL(){if(B1)return bp;B1=1;function n(e,t){for(var r=-1,o=t.length,a=e.length;++r<o;)e[a+r]=t[r];return e}return bp=n,bp}var Ap,z1;function qg(){if(z1)return Ap;z1=1;var n=Array.isArray;return Ap=n,Ap}var Ip,$1;function dL(){if($1)return Ip;$1=1;var n=hL(),e=qg();function t(r,o,a){var u=o(r);return e(r)?u:n(u,a(r))}return Ip=t,Ip}var Rp,H1;function pL(){if(H1)return Rp;H1=1;function n(e,t){for(var r=-1,o=e==null?0:e.length,a=0,u=[];++r<o;){var f=e[r];t(f,r,e)&&(u[a++]=f)}return u}return Rp=n,Rp}var kp,W1;function mL(){if(W1)return kp;W1=1;function n(){return[]}return kp=n,kp}var Cp,K1;function gL(){if(K1)return Cp;K1=1;var n=pL(),e=mL(),t=Object.prototype,r=t.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(u){return u==null?[]:(u=Object(u),n(o(u),function(f){return r.call(u,f)}))}:e;return Cp=a,Cp}var Pp,G1;function yL(){if(G1)return Pp;G1=1;function n(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}return Pp=n,Pp}var Op,Q1;function Rf(){if(Q1)return Op;Q1=1;function n(e){return e!=null&&typeof e=="object"}return Op=n,Op}var xp,X1;function vL(){if(X1)return xp;X1=1;var n=bf(),e=Rf(),t="[object Arguments]";function r(o){return e(o)&&n(o)==t}return xp=r,xp}var Np,Y1;function _L(){if(Y1)return Np;Y1=1;var n=vL(),e=Rf(),t=Object.prototype,r=t.hasOwnProperty,o=t.propertyIsEnumerable,a=n(function(){return arguments}())?n:function(u){return e(u)&&r.call(u,"callee")&&!o.call(u,"callee")};return Np=a,Np}var ul={exports:{}},Dp,J1;function EL(){if(J1)return Dp;J1=1;function n(){return!1}return Dp=n,Dp}ul.exports;var Z1;function QS(){return Z1||(Z1=1,function(n,e){var t=fi(),r=EL(),o=e&&!e.nodeType&&e,a=o&&!0&&n&&!n.nodeType&&n,u=a&&a.exports===o,f=u?t.Buffer:void 0,h=f?f.isBuffer:void 0,m=h||r;n.exports=m}(ul,ul.exports)),ul.exports}var Lp,ew;function wL(){if(ew)return Lp;ew=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(r,o){var a=typeof r;return o=o??n,!!o&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<o}return Lp=t,Lp}var Mp,tw;function XS(){if(tw)return Mp;tw=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return Mp=e,Mp}var jp,nw;function TL(){if(nw)return jp;nw=1;var n=bf(),e=XS(),t=Rf(),r="[object Arguments]",o="[object Array]",a="[object Boolean]",u="[object Date]",f="[object Error]",h="[object Function]",m="[object Map]",v="[object Number]",y="[object Object]",d="[object RegExp]",g="[object Set]",S="[object String]",T="[object WeakMap]",E="[object ArrayBuffer]",w="[object DataView]",b="[object Float32Array]",k="[object Float64Array]",_="[object Int8Array]",L="[object Int16Array]",U="[object Int32Array]",P="[object Uint8Array]",R="[object Uint8ClampedArray]",M="[object Uint16Array]",x="[object Uint32Array]",I={};I[b]=I[k]=I[_]=I[L]=I[U]=I[P]=I[R]=I[M]=I[x]=!0,I[r]=I[o]=I[E]=I[a]=I[w]=I[u]=I[f]=I[h]=I[m]=I[v]=I[y]=I[d]=I[g]=I[S]=I[T]=!1;function D(N){return t(N)&&e(N.length)&&!!I[n(N)]}return jp=D,jp}var Vp,rw;function SL(){if(rw)return Vp;rw=1;function n(e){return function(t){return e(t)}}return Vp=n,Vp}var cl={exports:{}};cl.exports;var iw;function bL(){return iw||(iw=1,function(n,e){var t=zS(),r=e&&!e.nodeType&&e,o=r&&!0&&n&&!n.nodeType&&n,a=o&&o.exports===r,u=a&&t.process,f=function(){try{var h=o&&o.require&&o.require("util").types;return h||u&&u.binding&&u.binding("util")}catch{}}();n.exports=f}(cl,cl.exports)),cl.exports}var Up,ow;function YS(){if(ow)return Up;ow=1;var n=TL(),e=SL(),t=bL(),r=t&&t.isTypedArray,o=r?e(r):n;return Up=o,Up}var Fp,sw;function AL(){if(sw)return Fp;sw=1;var n=yL(),e=_L(),t=qg(),r=QS(),o=wL(),a=YS(),u=Object.prototype,f=u.hasOwnProperty;function h(m,v){var y=t(m),d=!y&&e(m),g=!y&&!d&&r(m),S=!y&&!d&&!g&&a(m),T=y||d||g||S,E=T?n(m.length,String):[],w=E.length;for(var b in m)(v||f.call(m,b))&&!(T&&(b=="length"||g&&(b=="offset"||b=="parent")||S&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||o(b,w)))&&E.push(b);return E}return Fp=h,Fp}var qp,aw;function IL(){if(aw)return qp;aw=1;var n=Object.prototype;function e(t){var r=t&&t.constructor,o=typeof r=="function"&&r.prototype||n;return t===o}return qp=e,qp}var Bp,lw;function RL(){if(lw)return Bp;lw=1;function n(e,t){return function(r){return e(t(r))}}return Bp=n,Bp}var zp,uw;function kL(){if(uw)return zp;uw=1;var n=RL(),e=n(Object.keys,Object);return zp=e,zp}var $p,cw;function CL(){if(cw)return $p;cw=1;var n=IL(),e=kL(),t=Object.prototype,r=t.hasOwnProperty;function o(a){if(!n(a))return e(a);var u=[];for(var f in Object(a))r.call(a,f)&&f!="constructor"&&u.push(f);return u}return $p=o,$p}var Hp,fw;function PL(){if(fw)return Hp;fw=1;var n=HS(),e=XS();function t(r){return r!=null&&e(r.length)&&!n(r)}return Hp=t,Hp}var Wp,hw;function OL(){if(hw)return Wp;hw=1;var n=AL(),e=CL(),t=PL();function r(o){return t(o)?n(o):e(o)}return Wp=r,Wp}var Kp,dw;function xL(){if(dw)return Kp;dw=1;var n=dL(),e=gL(),t=OL();function r(o){return n(o,t,e)}return Kp=r,Kp}var Gp,pw;function NL(){if(pw)return Gp;pw=1;var n=xL(),e=1,t=Object.prototype,r=t.hasOwnProperty;function o(a,u,f,h,m,v){var y=f&e,d=n(a),g=d.length,S=n(u),T=S.length;if(g!=T&&!y)return!1;for(var E=g;E--;){var w=d[E];if(!(y?w in u:r.call(u,w)))return!1}var b=v.get(a),k=v.get(u);if(b&&k)return b==u&&k==a;var _=!0;v.set(a,u),v.set(u,a);for(var L=y;++E<g;){w=d[E];var U=a[w],P=u[w];if(h)var R=y?h(P,U,w,u,a,v):h(U,P,w,a,u,v);if(!(R===void 0?U===P||m(U,P,f,h,v):R)){_=!1;break}L||(L=w=="constructor")}if(_&&!L){var M=a.constructor,x=u.constructor;M!=x&&"constructor"in a&&"constructor"in u&&!(typeof M=="function"&&M instanceof M&&typeof x=="function"&&x instanceof x)&&(_=!1)}return v.delete(a),v.delete(u),_}return Gp=o,Gp}var Qp,mw;function DL(){if(mw)return Qp;mw=1;var n=ca(),e=fi(),t=n(e,"DataView");return Qp=t,Qp}var Xp,gw;function LL(){if(gw)return Xp;gw=1;var n=ca(),e=fi(),t=n(e,"Promise");return Xp=t,Xp}var Yp,yw;function ML(){if(yw)return Yp;yw=1;var n=ca(),e=fi(),t=n(e,"Set");return Yp=t,Yp}var Jp,vw;function jL(){if(vw)return Jp;vw=1;var n=ca(),e=fi(),t=n(e,"WeakMap");return Jp=t,Jp}var Zp,_w;function VL(){if(_w)return Zp;_w=1;var n=DL(),e=Fg(),t=LL(),r=ML(),o=jL(),a=bf(),u=WS(),f="[object Map]",h="[object Object]",m="[object Promise]",v="[object Set]",y="[object WeakMap]",d="[object DataView]",g=u(n),S=u(e),T=u(t),E=u(r),w=u(o),b=a;return(n&&b(new n(new ArrayBuffer(1)))!=d||e&&b(new e)!=f||t&&b(t.resolve())!=m||r&&b(new r)!=v||o&&b(new o)!=y)&&(b=function(k){var _=a(k),L=_==h?k.constructor:void 0,U=L?u(L):"";if(U)switch(U){case g:return d;case S:return f;case T:return m;case E:return v;case w:return y}return _}),Zp=b,Zp}var em,Ew;function UL(){if(Ew)return em;Ew=1;var n=nL(),e=GS(),t=fL(),r=NL(),o=VL(),a=qg(),u=QS(),f=YS(),h=1,m="[object Arguments]",v="[object Array]",y="[object Object]",d=Object.prototype,g=d.hasOwnProperty;function S(T,E,w,b,k,_){var L=a(T),U=a(E),P=L?v:o(T),R=U?v:o(E);P=P==m?y:P,R=R==m?y:R;var M=P==y,x=R==y,I=P==R;if(I&&u(T)){if(!u(E))return!1;L=!0,M=!1}if(I&&!M)return _||(_=new n),L||f(T)?e(T,E,w,b,k,_):t(T,E,P,w,b,k,_);if(!(w&h)){var D=M&&g.call(T,"__wrapped__"),N=x&&g.call(E,"__wrapped__");if(D||N){var $=D?T.value():T,G=N?E.value():E;return _||(_=new n),k($,G,w,b,_)}}return I?(_||(_=new n),r(T,E,w,b,k,_)):!1}return em=S,em}var tm,ww;function FL(){if(ww)return tm;ww=1;var n=UL(),e=Rf();function t(r,o,a,u,f){return r===o?!0:r==null||o==null||!e(r)&&!e(o)?r!==r&&o!==o:n(r,o,a,u,t,f)}return tm=t,tm}var nm,Tw;function qL(){if(Tw)return nm;Tw=1;var n=FL();function e(t,r){return n(t,r)}return nm=e,nm}var Ic={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var BL=Ic.exports,Sw;function zL(){return Sw||(Sw=1,function(n,e){(function(r,o){n.exports=o()})(typeof self<"u"?self:BL,function(){return function(t){var r={};function o(a){if(r[a])return r[a].exports;var u=r[a]={i:a,l:!1,exports:{}};return t[a].call(u.exports,u,u.exports,o),u.l=!0,u.exports}return o.m=t,o.c=r,o.d=function(a,u,f){o.o(a,u)||Object.defineProperty(a,u,{configurable:!1,enumerable:!0,get:f})},o.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(u,"a",u),u},o.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},o.p="",o(o.s=109)}([function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(17),u=o(18),f=o(19),h=o(45),m=o(46),v=o(47),y=o(48),d=o(49),g=o(12),S=o(32),T=o(33),E=o(31),w=o(1),b={Scope:w.Scope,create:w.create,find:w.find,query:w.query,register:w.register,Container:a.default,Format:u.default,Leaf:f.default,Embed:y.default,Scroll:h.default,Block:v.default,Inline:m.default,Text:d.default,Attributor:{Attribute:g.default,Class:S.default,Style:T.default,Store:E.default}};r.default=b},function(t,r,o){var a=this&&this.__extends||function(){var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,b){w.__proto__=b}||function(w,b){for(var k in b)b.hasOwnProperty(k)&&(w[k]=b[k])};return function(w,b){E(w,b);function k(){this.constructor=w}w.prototype=b===null?Object.create(b):(k.prototype=b.prototype,new k)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=function(E){a(w,E);function w(b){var k=this;return b="[Parchment] "+b,k=E.call(this,b)||this,k.message=b,k.name=k.constructor.name,k}return w}(Error);r.ParchmentError=u;var f={},h={},m={},v={};r.DATA_KEY="__blot";var y;(function(E){E[E.TYPE=3]="TYPE",E[E.LEVEL=12]="LEVEL",E[E.ATTRIBUTE=13]="ATTRIBUTE",E[E.BLOT=14]="BLOT",E[E.INLINE=7]="INLINE",E[E.BLOCK=11]="BLOCK",E[E.BLOCK_BLOT=10]="BLOCK_BLOT",E[E.INLINE_BLOT=6]="INLINE_BLOT",E[E.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",E[E.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",E[E.ANY=15]="ANY"})(y=r.Scope||(r.Scope={}));function d(E,w){var b=S(E);if(b==null)throw new u("Unable to create "+E+" blot");var k=b,_=E instanceof Node||E.nodeType===Node.TEXT_NODE?E:k.create(w);return new k(_,w)}r.create=d;function g(E,w){return w===void 0&&(w=!1),E==null?null:E[r.DATA_KEY]!=null?E[r.DATA_KEY].blot:w?g(E.parentNode,w):null}r.find=g;function S(E,w){w===void 0&&(w=y.ANY);var b;if(typeof E=="string")b=v[E]||f[E];else if(E instanceof Text||E.nodeType===Node.TEXT_NODE)b=v.text;else if(typeof E=="number")E&y.LEVEL&y.BLOCK?b=v.block:E&y.LEVEL&y.INLINE&&(b=v.inline);else if(E instanceof HTMLElement){var k=(E.getAttribute("class")||"").split(/\s+/);for(var _ in k)if(b=h[k[_]],b)break;b=b||m[E.tagName]}return b==null?null:w&y.LEVEL&b.scope&&w&y.TYPE&b.scope?b:null}r.query=S;function T(){for(var E=[],w=0;w<arguments.length;w++)E[w]=arguments[w];if(E.length>1)return E.map(function(_){return T(_)});var b=E[0];if(typeof b.blotName!="string"&&typeof b.attrName!="string")throw new u("Invalid definition");if(b.blotName==="abstract")throw new u("Cannot register abstract class");if(v[b.blotName||b.attrName]=b,typeof b.keyName=="string")f[b.keyName]=b;else if(b.className!=null&&(h[b.className]=b),b.tagName!=null){Array.isArray(b.tagName)?b.tagName=b.tagName.map(function(_){return _.toUpperCase()}):b.tagName=b.tagName.toUpperCase();var k=Array.isArray(b.tagName)?b.tagName:[b.tagName];k.forEach(function(_){(m[_]==null||b.className==null)&&(m[_]=b)})}return b}r.register=T},function(t,r,o){var a=o(51),u=o(11),f=o(3),h=o(20),m="\0",v=function(y){Array.isArray(y)?this.ops=y:y!=null&&Array.isArray(y.ops)?this.ops=y.ops:this.ops=[]};v.prototype.insert=function(y,d){var g={};return y.length===0?this:(g.insert=y,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(g.attributes=d),this.push(g))},v.prototype.delete=function(y){return y<=0?this:this.push({delete:y})},v.prototype.retain=function(y,d){if(y<=0)return this;var g={retain:y};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(g.attributes=d),this.push(g)},v.prototype.push=function(y){var d=this.ops.length,g=this.ops[d-1];if(y=f(!0,{},y),typeof g=="object"){if(typeof y.delete=="number"&&typeof g.delete=="number")return this.ops[d-1]={delete:g.delete+y.delete},this;if(typeof g.delete=="number"&&y.insert!=null&&(d-=1,g=this.ops[d-1],typeof g!="object"))return this.ops.unshift(y),this;if(u(y.attributes,g.attributes)){if(typeof y.insert=="string"&&typeof g.insert=="string")return this.ops[d-1]={insert:g.insert+y.insert},typeof y.attributes=="object"&&(this.ops[d-1].attributes=y.attributes),this;if(typeof y.retain=="number"&&typeof g.retain=="number")return this.ops[d-1]={retain:g.retain+y.retain},typeof y.attributes=="object"&&(this.ops[d-1].attributes=y.attributes),this}}return d===this.ops.length?this.ops.push(y):this.ops.splice(d,0,y),this},v.prototype.chop=function(){var y=this.ops[this.ops.length-1];return y&&y.retain&&!y.attributes&&this.ops.pop(),this},v.prototype.filter=function(y){return this.ops.filter(y)},v.prototype.forEach=function(y){this.ops.forEach(y)},v.prototype.map=function(y){return this.ops.map(y)},v.prototype.partition=function(y){var d=[],g=[];return this.forEach(function(S){var T=y(S)?d:g;T.push(S)}),[d,g]},v.prototype.reduce=function(y,d){return this.ops.reduce(y,d)},v.prototype.changeLength=function(){return this.reduce(function(y,d){return d.insert?y+h.length(d):d.delete?y-d.delete:y},0)},v.prototype.length=function(){return this.reduce(function(y,d){return y+h.length(d)},0)},v.prototype.slice=function(y,d){y=y||0,typeof d!="number"&&(d=1/0);for(var g=[],S=h.iterator(this.ops),T=0;T<d&&S.hasNext();){var E;T<y?E=S.next(y-T):(E=S.next(d-T),g.push(E)),T+=h.length(E)}return new v(g)},v.prototype.compose=function(y){var d=h.iterator(this.ops),g=h.iterator(y.ops),S=[],T=g.peek();if(T!=null&&typeof T.retain=="number"&&T.attributes==null){for(var E=T.retain;d.peekType()==="insert"&&d.peekLength()<=E;)E-=d.peekLength(),S.push(d.next());T.retain-E>0&&g.next(T.retain-E)}for(var w=new v(S);d.hasNext()||g.hasNext();)if(g.peekType()==="insert")w.push(g.next());else if(d.peekType()==="delete")w.push(d.next());else{var b=Math.min(d.peekLength(),g.peekLength()),k=d.next(b),_=g.next(b);if(typeof _.retain=="number"){var L={};typeof k.retain=="number"?L.retain=b:L.insert=k.insert;var U=h.attributes.compose(k.attributes,_.attributes,typeof k.retain=="number");if(U&&(L.attributes=U),w.push(L),!g.hasNext()&&u(w.ops[w.ops.length-1],L)){var P=new v(d.rest());return w.concat(P).chop()}}else typeof _.delete=="number"&&typeof k.retain=="number"&&w.push(_)}return w.chop()},v.prototype.concat=function(y){var d=new v(this.ops.slice());return y.ops.length>0&&(d.push(y.ops[0]),d.ops=d.ops.concat(y.ops.slice(1))),d},v.prototype.diff=function(y,d){if(this.ops===y.ops)return new v;var g=[this,y].map(function(b){return b.map(function(k){if(k.insert!=null)return typeof k.insert=="string"?k.insert:m;var _=b===y?"on":"with";throw new Error("diff() called "+_+" non-document")}).join("")}),S=new v,T=a(g[0],g[1],d),E=h.iterator(this.ops),w=h.iterator(y.ops);return T.forEach(function(b){for(var k=b[1].length;k>0;){var _=0;switch(b[0]){case a.INSERT:_=Math.min(w.peekLength(),k),S.push(w.next(_));break;case a.DELETE:_=Math.min(k,E.peekLength()),E.next(_),S.delete(_);break;case a.EQUAL:_=Math.min(E.peekLength(),w.peekLength(),k);var L=E.next(_),U=w.next(_);u(L.insert,U.insert)?S.retain(_,h.attributes.diff(L.attributes,U.attributes)):S.push(U).delete(_);break}k-=_}}),S.chop()},v.prototype.eachLine=function(y,d){d=d||`
`;for(var g=h.iterator(this.ops),S=new v,T=0;g.hasNext();){if(g.peekType()!=="insert")return;var E=g.peek(),w=h.length(E)-g.peekLength(),b=typeof E.insert=="string"?E.insert.indexOf(d,w)-w:-1;if(b<0)S.push(g.next());else if(b>0)S.push(g.next(b));else{if(y(S,g.next(1).attributes||{},T)===!1)return;T+=1,S=new v}}S.length()>0&&y(S,{},T)},v.prototype.transform=function(y,d){if(d=!!d,typeof y=="number")return this.transformPosition(y,d);for(var g=h.iterator(this.ops),S=h.iterator(y.ops),T=new v;g.hasNext()||S.hasNext();)if(g.peekType()==="insert"&&(d||S.peekType()!=="insert"))T.retain(h.length(g.next()));else if(S.peekType()==="insert")T.push(S.next());else{var E=Math.min(g.peekLength(),S.peekLength()),w=g.next(E),b=S.next(E);if(w.delete)continue;b.delete?T.push(b):T.retain(E,h.attributes.transform(w.attributes,b.attributes,d))}return T.chop()},v.prototype.transformPosition=function(y,d){d=!!d;for(var g=h.iterator(this.ops),S=0;g.hasNext()&&S<=y;){var T=g.peekLength(),E=g.peekType();if(g.next(),E==="delete"){y-=Math.min(T,y-S);continue}else E==="insert"&&(S<y||!d)&&(y+=T);S+=T}return y},t.exports=v},function(t,r){var o=Object.prototype.hasOwnProperty,a=Object.prototype.toString,u=Object.defineProperty,f=Object.getOwnPropertyDescriptor,h=function(g){return typeof Array.isArray=="function"?Array.isArray(g):a.call(g)==="[object Array]"},m=function(g){if(!g||a.call(g)!=="[object Object]")return!1;var S=o.call(g,"constructor"),T=g.constructor&&g.constructor.prototype&&o.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!S&&!T)return!1;var E;for(E in g);return typeof E>"u"||o.call(g,E)},v=function(g,S){u&&S.name==="__proto__"?u(g,S.name,{enumerable:!0,configurable:!0,value:S.newValue,writable:!0}):g[S.name]=S.newValue},y=function(g,S){if(S==="__proto__")if(o.call(g,S)){if(f)return f(g,S).value}else return;return g[S]};t.exports=function d(){var g,S,T,E,w,b,k=arguments[0],_=1,L=arguments.length,U=!1;for(typeof k=="boolean"&&(U=k,k=arguments[1]||{},_=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});_<L;++_)if(g=arguments[_],g!=null)for(S in g)T=y(k,S),E=y(g,S),k!==E&&(U&&E&&(m(E)||(w=h(E)))?(w?(w=!1,b=T&&h(T)?T:[]):b=T&&m(T)?T:{},v(k,{name:S,newValue:d(U,b,E)})):typeof E<"u"&&v(k,{name:S,newValue:E}));return k}},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var a=function(){function I(D,N){for(var $=0;$<N.length;$++){var G=N[$];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(D,G.key,G)}}return function(D,N,$){return N&&I(D.prototype,N),$&&I(D,$),D}}(),u=function I(D,N,$){D===null&&(D=Function.prototype);var G=Object.getOwnPropertyDescriptor(D,N);if(G===void 0){var Z=Object.getPrototypeOf(D);return Z===null?void 0:I(Z,N,$)}else{if("value"in G)return G.value;var X=G.get;return X===void 0?void 0:X.call($)}},f=o(3),h=k(f),m=o(2),v=k(m),y=o(0),d=k(y),g=o(16),S=k(g),T=o(6),E=k(T),w=o(7),b=k(w);function k(I){return I&&I.__esModule?I:{default:I}}function _(I,D){if(!(I instanceof D))throw new TypeError("Cannot call a class as a function")}function L(I,D){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:I}function U(I,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);I.prototype=Object.create(D&&D.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(I,D):I.__proto__=D)}var P=1,R=function(I){U(D,I);function D(){return _(this,D),L(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return a(D,[{key:"attach",value:function(){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new v.default().insert(this.value(),(0,h.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function($,G){var Z=d.default.query($,d.default.Scope.BLOCK_ATTRIBUTE);Z!=null&&this.attributes.attribute(Z,G)}},{key:"formatAt",value:function($,G,Z,X){this.format(Z,X)}},{key:"insertAt",value:function($,G,Z){if(typeof G=="string"&&G.endsWith(`
`)){var X=d.default.create(M.blotName);this.parent.insertBefore(X,$===0?this:this.next),X.insertAt(0,G.slice(0,-1))}else u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,$,G,Z)}}]),D}(d.default.Embed);R.scope=d.default.Scope.BLOCK_BLOT;var M=function(I){U(D,I);function D(N){_(this,D);var $=L(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,N));return $.cache={},$}return a(D,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function($,G){return G.length()===0?$:$.insert(G.value(),x(G))},new v.default).insert(`
`,x(this))),this.cache.delta}},{key:"deleteAt",value:function($,G){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"deleteAt",this).call(this,$,G),this.cache={}}},{key:"formatAt",value:function($,G,Z,X){G<=0||(d.default.query(Z,d.default.Scope.BLOCK)?$+G===this.length()&&this.format(Z,X):u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"formatAt",this).call(this,$,Math.min(G,this.length()-$-1),Z,X),this.cache={})}},{key:"insertAt",value:function($,G,Z){if(Z!=null)return u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,$,G,Z);if(G.length!==0){var X=G.split(`
`),ie=X.shift();ie.length>0&&($<this.length()-1||this.children.tail==null?u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,Math.min($,this.length()-1),ie):this.children.tail.insertAt(this.children.tail.length(),ie),this.cache={});var Y=this;X.reduce(function(H,j){return Y=Y.split(H,!0),Y.insertAt(0,j),j.length},$+ie.length)}}},{key:"insertBefore",value:function($,G){var Z=this.children.head;u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertBefore",this).call(this,$,G),Z instanceof S.default&&Z.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"length",this).call(this)+P),this.cache.length}},{key:"moveChildren",value:function($,G){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"moveChildren",this).call(this,$,G),this.cache={}}},{key:"optimize",value:function($){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,$),this.cache={}}},{key:"path",value:function($){return u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"path",this).call(this,$,!0)}},{key:"removeChild",value:function($){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"removeChild",this).call(this,$),this.cache={}}},{key:"split",value:function($){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(G&&($===0||$>=this.length()-P)){var Z=this.clone();return $===0?(this.parent.insertBefore(Z,this),this):(this.parent.insertBefore(Z,this.next),Z)}else{var X=u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"split",this).call(this,$,G);return this.cache={},X}}}]),D}(d.default.Block);M.blotName="block",M.tagName="P",M.defaultChild="break",M.allowedChildren=[E.default,d.default.Embed,b.default];function x(I){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return I==null||(typeof I.formats=="function"&&(D=(0,h.default)(D,I.formats())),I.parent==null||I.parent.blotName=="scroll"||I.parent.statics.scope!==I.statics.scope)?D:x(I.parent,D)}r.bubbleFormats=x,r.BlockEmbed=R,r.default=M},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},u=function(){function Y(H,j){var q=[],W=!0,ne=!1,te=void 0;try{for(var z=H[Symbol.iterator](),J;!(W=(J=z.next()).done)&&(q.push(J.value),!(j&&q.length===j));W=!0);}catch(oe){ne=!0,te=oe}finally{try{!W&&z.return&&z.return()}finally{if(ne)throw te}}return q}return function(H,j){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return Y(H,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function Y(H,j){for(var q=0;q<j.length;q++){var W=j[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(H,W.key,W)}}return function(H,j,q){return j&&Y(H.prototype,j),q&&Y(H,q),H}}();o(50);var h=o(2),m=x(h),v=o(14),y=x(v),d=o(8),g=x(d),S=o(9),T=x(S),E=o(0),w=x(E),b=o(15),k=x(b),_=o(3),L=x(_),U=o(10),P=x(U),R=o(34),M=x(R);function x(Y){return Y&&Y.__esModule?Y:{default:Y}}function I(Y,H,j){return H in Y?Object.defineProperty(Y,H,{value:j,enumerable:!0,configurable:!0,writable:!0}):Y[H]=j,Y}function D(Y,H){if(!(Y instanceof H))throw new TypeError("Cannot call a class as a function")}var N=(0,P.default)("quill"),$=function(){f(Y,null,[{key:"debug",value:function(j){j===!0&&(j="log"),P.default.level(j)}},{key:"find",value:function(j){return j.__quill||w.default.find(j)}},{key:"import",value:function(j){return this.imports[j]==null&&N.error("Cannot import "+j+". Are you sure it was registered?"),this.imports[j]}},{key:"register",value:function(j,q){var W=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof j!="string"){var te=j.attrName||j.blotName;typeof te=="string"?this.register("formats/"+te,j,q):Object.keys(j).forEach(function(z){W.register(z,j[z],q)})}else this.imports[j]!=null&&!ne&&N.warn("Overwriting "+j+" with",q),this.imports[j]=q,(j.startsWith("blots/")||j.startsWith("formats/"))&&q.blotName!=="abstract"?w.default.register(q):j.startsWith("modules")&&typeof q.register=="function"&&q.register()}}]);function Y(H){var j=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(D(this,Y),this.options=G(H,q),this.container=this.options.container,this.container==null)return N.error("Invalid Quill container",H);this.options.debug&&Y.debug(this.options.debug);var W=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new g.default,this.scroll=w.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new y.default(this.scroll),this.selection=new k.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(g.default.events.EDITOR_CHANGE,function(te){te===g.default.events.TEXT_CHANGE&&j.root.classList.toggle("ql-blank",j.editor.isBlank())}),this.emitter.on(g.default.events.SCROLL_UPDATE,function(te,z){var J=j.selection.lastRange,oe=J&&J.length===0?J.index:void 0;Z.call(j,function(){return j.editor.update(null,z,oe)},te)});var ne=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+W+"<p><br></p></div>");this.setContents(ne),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return f(Y,[{key:"addContainer",value:function(j){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof j=="string"){var W=j;j=document.createElement("div"),j.classList.add(W)}return this.container.insertBefore(j,q),j}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(j,q,W){var ne=this,te=X(j,q,W),z=u(te,4);return j=z[0],q=z[1],W=z[3],Z.call(this,function(){return ne.editor.deleteText(j,q)},W,j,-1*q)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(j),this.container.classList.toggle("ql-disabled",!j)}},{key:"focus",value:function(){var j=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=j,this.scrollIntoView()}},{key:"format",value:function(j,q){var W=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;return Z.call(this,function(){var te=W.getSelection(!0),z=new m.default;if(te==null)return z;if(w.default.query(j,w.default.Scope.BLOCK))z=W.editor.formatLine(te.index,te.length,I({},j,q));else{if(te.length===0)return W.selection.format(j,q),z;z=W.editor.formatText(te.index,te.length,I({},j,q))}return W.setSelection(te,g.default.sources.SILENT),z},ne)}},{key:"formatLine",value:function(j,q,W,ne,te){var z=this,J=void 0,oe=X(j,q,W,ne,te),se=u(oe,4);return j=se[0],q=se[1],J=se[2],te=se[3],Z.call(this,function(){return z.editor.formatLine(j,q,J)},te,j,0)}},{key:"formatText",value:function(j,q,W,ne,te){var z=this,J=void 0,oe=X(j,q,W,ne,te),se=u(oe,4);return j=se[0],q=se[1],J=se[2],te=se[3],Z.call(this,function(){return z.editor.formatText(j,q,J)},te,j,0)}},{key:"getBounds",value:function(j){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=void 0;typeof j=="number"?W=this.selection.getBounds(j,q):W=this.selection.getBounds(j.index,j.length);var ne=this.container.getBoundingClientRect();return{bottom:W.bottom-ne.top,height:W.height,left:W.left-ne.left,right:W.right-ne.left,top:W.top-ne.top,width:W.width}}},{key:"getContents",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-j,W=X(j,q),ne=u(W,2);return j=ne[0],q=ne[1],this.editor.getContents(j,q)}},{key:"getFormat",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof j=="number"?this.editor.getFormat(j,q):this.editor.getFormat(j.index,j.length)}},{key:"getIndex",value:function(j){return j.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(j){return this.scroll.leaf(j)}},{key:"getLine",value:function(j){return this.scroll.line(j)}},{key:"getLines",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof j!="number"?this.scroll.lines(j.index,j.length):this.scroll.lines(j,q)}},{key:"getModule",value:function(j){return this.theme.modules[j]}},{key:"getSelection",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return j&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-j,W=X(j,q),ne=u(W,2);return j=ne[0],q=ne[1],this.editor.getText(j,q)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(j,q,W){var ne=this,te=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Y.sources.API;return Z.call(this,function(){return ne.editor.insertEmbed(j,q,W)},te,j)}},{key:"insertText",value:function(j,q,W,ne,te){var z=this,J=void 0,oe=X(j,0,W,ne,te),se=u(oe,4);return j=se[0],J=se[2],te=se[3],Z.call(this,function(){return z.editor.insertText(j,q,J)},te,j,q.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(j,q,W){this.clipboard.dangerouslyPasteHTML(j,q,W)}},{key:"removeFormat",value:function(j,q,W){var ne=this,te=X(j,q,W),z=u(te,4);return j=z[0],q=z[1],W=z[3],Z.call(this,function(){return ne.editor.removeFormat(j,q)},W,j)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(j){var q=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API;return Z.call(this,function(){j=new m.default(j);var ne=q.getLength(),te=q.editor.deleteText(0,ne),z=q.editor.applyDelta(j),J=z.ops[z.ops.length-1];J!=null&&typeof J.insert=="string"&&J.insert[J.insert.length-1]===`
`&&(q.editor.deleteText(q.getLength()-1,1),z.delete(1));var oe=te.compose(z);return oe},W)}},{key:"setSelection",value:function(j,q,W){if(j==null)this.selection.setRange(null,q||Y.sources.API);else{var ne=X(j,q,W),te=u(ne,4);j=te[0],q=te[1],W=te[3],this.selection.setRange(new b.Range(j,q),W),W!==g.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(j){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API,W=new m.default().insert(j);return this.setContents(W,q)}},{key:"update",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,q=this.scroll.update(j);return this.selection.update(j),q}},{key:"updateContents",value:function(j){var q=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API;return Z.call(this,function(){return j=new m.default(j),q.editor.applyDelta(j,W)},W,!0)}}]),Y}();$.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},$.events=g.default.events,$.sources=g.default.sources,$.version="1.3.7",$.imports={delta:m.default,parchment:w.default,"core/module":T.default,"core/theme":M.default};function G(Y,H){if(H=(0,L.default)(!0,{container:Y,modules:{clipboard:!0,keyboard:!0,history:!0}},H),!H.theme||H.theme===$.DEFAULTS.theme)H.theme=M.default;else if(H.theme=$.import("themes/"+H.theme),H.theme==null)throw new Error("Invalid theme "+H.theme+". Did you register it?");var j=(0,L.default)(!0,{},H.theme.DEFAULTS);[j,H].forEach(function(ne){ne.modules=ne.modules||{},Object.keys(ne.modules).forEach(function(te){ne.modules[te]===!0&&(ne.modules[te]={})})});var q=Object.keys(j.modules).concat(Object.keys(H.modules)),W=q.reduce(function(ne,te){var z=$.import("modules/"+te);return z==null?N.error("Cannot load "+te+" module. Are you sure you registered it?"):ne[te]=z.DEFAULTS||{},ne},{});return H.modules!=null&&H.modules.toolbar&&H.modules.toolbar.constructor!==Object&&(H.modules.toolbar={container:H.modules.toolbar}),H=(0,L.default)(!0,{},$.DEFAULTS,{modules:W},j,H),["bounds","container","scrollingContainer"].forEach(function(ne){typeof H[ne]=="string"&&(H[ne]=document.querySelector(H[ne]))}),H.modules=Object.keys(H.modules).reduce(function(ne,te){return H.modules[te]&&(ne[te]=H.modules[te]),ne},{}),H}function Z(Y,H,j,q){if(this.options.strict&&!this.isEnabled()&&H===g.default.sources.USER)return new m.default;var W=j==null?null:this.getSelection(),ne=this.editor.delta,te=Y();if(W!=null&&(j===!0&&(j=W.index),q==null?W=ie(W,te,H):q!==0&&(W=ie(W,j,q,H)),this.setSelection(W,g.default.sources.SILENT)),te.length()>0){var z,J=[g.default.events.TEXT_CHANGE,te,ne,H];if((z=this.emitter).emit.apply(z,[g.default.events.EDITOR_CHANGE].concat(J)),H!==g.default.sources.SILENT){var oe;(oe=this.emitter).emit.apply(oe,J)}}return te}function X(Y,H,j,q,W){var ne={};return typeof Y.index=="number"&&typeof Y.length=="number"?typeof H!="number"?(W=q,q=j,j=H,H=Y.length,Y=Y.index):(H=Y.length,Y=Y.index):typeof H!="number"&&(W=q,q=j,j=H,H=0),(typeof j>"u"?"undefined":a(j))==="object"?(ne=j,W=q):typeof j=="string"&&(q!=null?ne[j]=q:W=j),W=W||g.default.sources.API,[Y,H,ne,W]}function ie(Y,H,j,q){if(Y==null)return null;var W=void 0,ne=void 0;if(H instanceof m.default){var te=[Y.index,Y.index+Y.length].map(function(se){return H.transformPosition(se,q!==g.default.sources.USER)}),z=u(te,2);W=z[0],ne=z[1]}else{var J=[Y.index,Y.index+Y.length].map(function(se){return se<H||se===H&&q===g.default.sources.USER?se:j>=0?se+j:Math.max(H,se+j)}),oe=u(J,2);W=oe[0],ne=oe[1]}return new b.Range(W,ne-W)}r.expandConfig=G,r.overload=X,r.default=$},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function E(w,b){for(var k=0;k<b.length;k++){var _=b[k];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(w,_.key,_)}}return function(w,b,k){return b&&E(w.prototype,b),k&&E(w,k),w}}(),u=function E(w,b,k){w===null&&(w=Function.prototype);var _=Object.getOwnPropertyDescriptor(w,b);if(_===void 0){var L=Object.getPrototypeOf(w);return L===null?void 0:E(L,b,k)}else{if("value"in _)return _.value;var U=_.get;return U===void 0?void 0:U.call(k)}},f=o(7),h=y(f),m=o(0),v=y(m);function y(E){return E&&E.__esModule?E:{default:E}}function d(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}function g(E,w){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:E}function S(E,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);E.prototype=Object.create(w&&w.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(E,w):E.__proto__=w)}var T=function(E){S(w,E);function w(){return d(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"formatAt",value:function(k,_,L,U){if(w.compare(this.statics.blotName,L)<0&&v.default.query(L,v.default.Scope.BLOT)){var P=this.isolate(k,_);U&&P.wrap(L,U)}else u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"formatAt",this).call(this,k,_,L,U)}},{key:"optimize",value:function(k){if(u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,k),this.parent instanceof w&&w.compare(this.statics.blotName,this.parent.statics.blotName)>0){var _=this.parent.isolate(this.offset(),this.length());this.moveChildren(_),_.wrap(this)}}}],[{key:"compare",value:function(k,_){var L=w.order.indexOf(k),U=w.order.indexOf(_);return L>=0||U>=0?L-U:k===_?0:k<_?-1:1}}]),w}(v.default.Inline);T.allowedChildren=[T,v.default.Embed,h.default],T.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=T},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function m(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function v(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var y=function(d){v(g,d);function g(){return h(this,g),m(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(u.default.Text);r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function b(k,_){for(var L=0;L<_.length;L++){var U=_[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(k,U.key,U)}}return function(k,_,L){return _&&b(k.prototype,_),L&&b(k,L),k}}(),u=function b(k,_,L){k===null&&(k=Function.prototype);var U=Object.getOwnPropertyDescriptor(k,_);if(U===void 0){var P=Object.getPrototypeOf(k);return P===null?void 0:b(P,_,L)}else{if("value"in U)return U.value;var R=U.get;return R===void 0?void 0:R.call(L)}},f=o(54),h=y(f),m=o(10),v=y(m);function y(b){return b&&b.__esModule?b:{default:b}}function d(b,k){if(!(b instanceof k))throw new TypeError("Cannot call a class as a function")}function g(b,k){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:b}function S(b,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);b.prototype=Object.create(k&&k.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(b,k):b.__proto__=k)}var T=(0,v.default)("quill:events"),E=["selectionchange","mousedown","mouseup","click"];E.forEach(function(b){document.addEventListener(b,function(){for(var k=arguments.length,_=Array(k),L=0;L<k;L++)_[L]=arguments[L];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(U){if(U.__quill&&U.__quill.emitter){var P;(P=U.__quill.emitter).handleDOM.apply(P,_)}})})});var w=function(b){S(k,b);function k(){d(this,k);var _=g(this,(k.__proto__||Object.getPrototypeOf(k)).call(this));return _.listeners={},_.on("error",T.error),_}return a(k,[{key:"emit",value:function(){T.log.apply(T,arguments),u(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(L){for(var U=arguments.length,P=Array(U>1?U-1:0),R=1;R<U;R++)P[R-1]=arguments[R];(this.listeners[L.type]||[]).forEach(function(M){var x=M.node,I=M.handler;(L.target===x||x.contains(L.target))&&I.apply(void 0,[L].concat(P))})}},{key:"listenDOM",value:function(L,U,P){this.listeners[L]||(this.listeners[L]=[]),this.listeners[L].push({node:U,handler:P})}}]),k}(h.default);w.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},w.sources={API:"api",SILENT:"silent",USER:"user"},r.default=w},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});function a(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}var u=function f(h){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,f),this.quill=h,this.options=m};u.DEFAULTS={},r.default=u},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=["error","warn","log","info"],u="warn";function f(m){if(a.indexOf(m)<=a.indexOf(u)){for(var v,y=arguments.length,d=Array(y>1?y-1:0),g=1;g<y;g++)d[g-1]=arguments[g];(v=console)[m].apply(v,d)}}function h(m){return a.reduce(function(v,y){return v[y]=f.bind(console,y,m),v},{})}f.level=h.level=function(m){u=m},r.default=h},function(t,r,o){var a=Array.prototype.slice,u=o(52),f=o(53),h=t.exports=function(d,g,S){return S||(S={}),d===g?!0:d instanceof Date&&g instanceof Date?d.getTime()===g.getTime():!d||!g||typeof d!="object"&&typeof g!="object"?S.strict?d===g:d==g:y(d,g,S)};function m(d){return d==null}function v(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function y(d,g,S){var T,E;if(m(d)||m(g)||d.prototype!==g.prototype)return!1;if(f(d))return f(g)?(d=a.call(d),g=a.call(g),h(d,g,S)):!1;if(v(d)){if(!v(g)||d.length!==g.length)return!1;for(T=0;T<d.length;T++)if(d[T]!==g[T])return!1;return!0}try{var w=u(d),b=u(g)}catch{return!1}if(w.length!=b.length)return!1;for(w.sort(),b.sort(),T=w.length-1;T>=0;T--)if(w[T]!=b[T])return!1;for(T=w.length-1;T>=0;T--)if(E=w[T],!h(d[E],g[E],S))return!1;return typeof d==typeof g}},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(1),u=function(){function f(h,m,v){v===void 0&&(v={}),this.attrName=h,this.keyName=m;var y=a.Scope.TYPE&a.Scope.ATTRIBUTE;v.scope!=null?this.scope=v.scope&a.Scope.LEVEL|y:this.scope=a.Scope.ATTRIBUTE,v.whitelist!=null&&(this.whitelist=v.whitelist)}return f.keys=function(h){return[].map.call(h.attributes,function(m){return m.name})},f.prototype.add=function(h,m){return this.canAdd(h,m)?(h.setAttribute(this.keyName,m),!0):!1},f.prototype.canAdd=function(h,m){var v=a.query(h,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return v==null?!1:this.whitelist==null?!0:typeof m=="string"?this.whitelist.indexOf(m.replace(/["']/g,""))>-1:this.whitelist.indexOf(m)>-1},f.prototype.remove=function(h){h.removeAttribute(this.keyName)},f.prototype.value=function(h){var m=h.getAttribute(this.keyName);return this.canAdd(h,m)&&m?m:""},f}();r.default=u},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var a=function(){function R(M,x){var I=[],D=!0,N=!1,$=void 0;try{for(var G=M[Symbol.iterator](),Z;!(D=(Z=G.next()).done)&&(I.push(Z.value),!(x&&I.length===x));D=!0);}catch(X){N=!0,$=X}finally{try{!D&&G.return&&G.return()}finally{if(N)throw $}}return I}return function(M,x){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return R(M,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function R(M,x){for(var I=0;I<x.length;I++){var D=x[I];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(M,D.key,D)}}return function(M,x,I){return x&&R(M.prototype,x),I&&R(M,I),M}}(),f=function R(M,x,I){M===null&&(M=Function.prototype);var D=Object.getOwnPropertyDescriptor(M,x);if(D===void 0){var N=Object.getPrototypeOf(M);return N===null?void 0:R(N,x,I)}else{if("value"in D)return D.value;var $=D.get;return $===void 0?void 0:$.call(I)}},h=o(2),m=b(h),v=o(0),y=b(v),d=o(4),g=b(d),S=o(6),T=b(S),E=o(7),w=b(E);function b(R){return R&&R.__esModule?R:{default:R}}function k(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}function _(R,M){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:R}function L(R,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);R.prototype=Object.create(M&&M.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(R,M):R.__proto__=M)}var U=function(R){L(M,R);function M(){return k(this,M),_(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return M}(T.default);U.blotName="code",U.tagName="CODE";var P=function(R){L(M,R);function M(){return k(this,M),_(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return u(M,[{key:"delta",value:function(){var I=this,D=this.domNode.textContent;return D.endsWith(`
`)&&(D=D.slice(0,-1)),D.split(`
`).reduce(function(N,$){return N.insert($).insert(`
`,I.formats())},new m.default)}},{key:"format",value:function(I,D){if(!(I===this.statics.blotName&&D)){var N=this.descendant(w.default,this.length()-1),$=a(N,1),G=$[0];G!=null&&G.deleteAt(G.length()-1,1),f(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"format",this).call(this,I,D)}}},{key:"formatAt",value:function(I,D,N,$){if(D!==0&&!(y.default.query(N,y.default.Scope.BLOCK)==null||N===this.statics.blotName&&$===this.statics.formats(this.domNode))){var G=this.newlineIndex(I);if(!(G<0||G>=I+D)){var Z=this.newlineIndex(I,!0)+1,X=G-Z+1,ie=this.isolate(Z,X),Y=ie.next;ie.format(N,$),Y instanceof M&&Y.formatAt(0,I-Z+D-X,N,$)}}}},{key:"insertAt",value:function(I,D,N){if(N==null){var $=this.descendant(w.default,I),G=a($,2),Z=G[0],X=G[1];Z.insertAt(X,D)}}},{key:"length",value:function(){var I=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?I:I+1}},{key:"newlineIndex",value:function(I){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(D)return this.domNode.textContent.slice(0,I).lastIndexOf(`
`);var N=this.domNode.textContent.slice(I).indexOf(`
`);return N>-1?I+N:-1}},{key:"optimize",value:function(I){this.domNode.textContent.endsWith(`
`)||this.appendChild(y.default.create("text",`
`)),f(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,I);var D=this.next;D!=null&&D.prev===this&&D.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===D.statics.formats(D.domNode)&&(D.optimize(I),D.moveChildren(this),D.remove())}},{key:"replace",value:function(I){f(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"replace",this).call(this,I),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(D){var N=y.default.find(D);N==null?D.parentNode.removeChild(D):N instanceof y.default.Embed?N.remove():N.unwrap()})}}],[{key:"create",value:function(I){var D=f(M.__proto__||Object.getPrototypeOf(M),"create",this).call(this,I);return D.setAttribute("spellcheck",!1),D}},{key:"formats",value:function(){return!0}}]),M}(g.default);P.blotName="code-block",P.tagName="PRE",P.TAB="  ",r.Code=U,r.default=P},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},u=function(){function Y(H,j){var q=[],W=!0,ne=!1,te=void 0;try{for(var z=H[Symbol.iterator](),J;!(W=(J=z.next()).done)&&(q.push(J.value),!(j&&q.length===j));W=!0);}catch(oe){ne=!0,te=oe}finally{try{!W&&z.return&&z.return()}finally{if(ne)throw te}}return q}return function(H,j){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return Y(H,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function Y(H,j){for(var q=0;q<j.length;q++){var W=j[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(H,W.key,W)}}return function(H,j,q){return j&&Y(H.prototype,j),q&&Y(H,q),H}}(),h=o(2),m=D(h),v=o(20),y=D(v),d=o(0),g=D(d),S=o(13),T=D(S),E=o(24),w=D(E),b=o(4),k=D(b),_=o(16),L=D(_),U=o(21),P=D(U),R=o(11),M=D(R),x=o(3),I=D(x);function D(Y){return Y&&Y.__esModule?Y:{default:Y}}function N(Y,H,j){return H in Y?Object.defineProperty(Y,H,{value:j,enumerable:!0,configurable:!0,writable:!0}):Y[H]=j,Y}function $(Y,H){if(!(Y instanceof H))throw new TypeError("Cannot call a class as a function")}var G=/^[ -~]*$/,Z=function(){function Y(H){$(this,Y),this.scroll=H,this.delta=this.getDelta()}return f(Y,[{key:"applyDelta",value:function(j){var q=this,W=!1;this.scroll.update();var ne=this.scroll.length();return this.scroll.batchStart(),j=ie(j),j.reduce(function(te,z){var J=z.retain||z.delete||z.insert.length||1,oe=z.attributes||{};if(z.insert!=null){if(typeof z.insert=="string"){var se=z.insert;se.endsWith(`
`)&&W&&(W=!1,se=se.slice(0,-1)),te>=ne&&!se.endsWith(`
`)&&(W=!0),q.scroll.insertAt(te,se);var pe=q.scroll.line(te),Ie=u(pe,2),De=Ie[0],Ve=Ie[1],We=(0,I.default)({},(0,b.bubbleFormats)(De));if(De instanceof k.default){var Xe=De.descendant(g.default.Leaf,Ve),Ot=u(Xe,1),mt=Ot[0];We=(0,I.default)(We,(0,b.bubbleFormats)(mt))}oe=y.default.attributes.diff(We,oe)||{}}else if(a(z.insert)==="object"){var he=Object.keys(z.insert)[0];if(he==null)return te;q.scroll.insertAt(te,he,z.insert[he])}ne+=J}return Object.keys(oe).forEach(function(me){q.scroll.formatAt(te,J,me,oe[me])}),te+J},0),j.reduce(function(te,z){return typeof z.delete=="number"?(q.scroll.deleteAt(te,z.delete),te):te+(z.retain||z.insert.length||1)},0),this.scroll.batchEnd(),this.update(j)}},{key:"deleteText",value:function(j,q){return this.scroll.deleteAt(j,q),this.update(new m.default().retain(j).delete(q))}},{key:"formatLine",value:function(j,q){var W=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(ne).forEach(function(te){if(!(W.scroll.whitelist!=null&&!W.scroll.whitelist[te])){var z=W.scroll.lines(j,Math.max(q,1)),J=q;z.forEach(function(oe){var se=oe.length();if(!(oe instanceof T.default))oe.format(te,ne[te]);else{var pe=j-oe.offset(W.scroll),Ie=oe.newlineIndex(pe+J)-pe+1;oe.formatAt(pe,Ie,te,ne[te])}J-=se})}}),this.scroll.optimize(),this.update(new m.default().retain(j).retain(q,(0,P.default)(ne)))}},{key:"formatText",value:function(j,q){var W=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(ne).forEach(function(te){W.scroll.formatAt(j,q,te,ne[te])}),this.update(new m.default().retain(j).retain(q,(0,P.default)(ne)))}},{key:"getContents",value:function(j,q){return this.delta.slice(j,j+q)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(j,q){return j.concat(q.delta())},new m.default)}},{key:"getFormat",value:function(j){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=[],ne=[];q===0?this.scroll.path(j).forEach(function(z){var J=u(z,1),oe=J[0];oe instanceof k.default?W.push(oe):oe instanceof g.default.Leaf&&ne.push(oe)}):(W=this.scroll.lines(j,q),ne=this.scroll.descendants(g.default.Leaf,j,q));var te=[W,ne].map(function(z){if(z.length===0)return{};for(var J=(0,b.bubbleFormats)(z.shift());Object.keys(J).length>0;){var oe=z.shift();if(oe==null)return J;J=X((0,b.bubbleFormats)(oe),J)}return J});return I.default.apply(I.default,te)}},{key:"getText",value:function(j,q){return this.getContents(j,q).filter(function(W){return typeof W.insert=="string"}).map(function(W){return W.insert}).join("")}},{key:"insertEmbed",value:function(j,q,W){return this.scroll.insertAt(j,q,W),this.update(new m.default().retain(j).insert(N({},q,W)))}},{key:"insertText",value:function(j,q){var W=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return q=q.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(j,q),Object.keys(ne).forEach(function(te){W.scroll.formatAt(j,q.length,te,ne[te])}),this.update(new m.default().retain(j).insert(q,(0,P.default)(ne)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var j=this.scroll.children.head;return j.statics.blotName!==k.default.blotName||j.children.length>1?!1:j.children.head instanceof L.default}},{key:"removeFormat",value:function(j,q){var W=this.getText(j,q),ne=this.scroll.line(j+q),te=u(ne,2),z=te[0],J=te[1],oe=0,se=new m.default;z!=null&&(z instanceof T.default?oe=z.newlineIndex(J)-J+1:oe=z.length()-J,se=z.delta().slice(J,J+oe-1).insert(`
`));var pe=this.getContents(j,q+oe),Ie=pe.diff(new m.default().insert(W).concat(se)),De=new m.default().retain(j).concat(Ie);return this.applyDelta(De)}},{key:"update",value:function(j){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ne=this.delta;if(q.length===1&&q[0].type==="characterData"&&q[0].target.data.match(G)&&g.default.find(q[0].target)){var te=g.default.find(q[0].target),z=(0,b.bubbleFormats)(te),J=te.offset(this.scroll),oe=q[0].oldValue.replace(w.default.CONTENTS,""),se=new m.default().insert(oe),pe=new m.default().insert(te.value()),Ie=new m.default().retain(J).concat(se.diff(pe,W));j=Ie.reduce(function(De,Ve){return Ve.insert?De.insert(Ve.insert,z):De.push(Ve)},new m.default),this.delta=ne.compose(j)}else this.delta=this.getDelta(),(!j||!(0,M.default)(ne.compose(j),this.delta))&&(j=ne.diff(this.delta,W));return j}}]),Y}();function X(Y,H){return Object.keys(H).reduce(function(j,q){return Y[q]==null||(H[q]===Y[q]?j[q]=H[q]:Array.isArray(H[q])?H[q].indexOf(Y[q])<0&&(j[q]=H[q].concat([Y[q]])):j[q]=[H[q],Y[q]]),j},{})}function ie(Y){return Y.reduce(function(H,j){if(j.insert===1){var q=(0,P.default)(j.attributes);return delete q.image,H.insert({image:j.attributes.image},q)}if(j.attributes!=null&&(j.attributes.list===!0||j.attributes.bullet===!0)&&(j=(0,P.default)(j),j.attributes.list?j.attributes.list="ordered":(j.attributes.list="bullet",delete j.attributes.bullet)),typeof j.insert=="string"){var W=j.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return H.insert(W,j.attributes)}return H.push(j)},new m.default)}r.default=Z},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var a=function(){function R(M,x){var I=[],D=!0,N=!1,$=void 0;try{for(var G=M[Symbol.iterator](),Z;!(D=(Z=G.next()).done)&&(I.push(Z.value),!(x&&I.length===x));D=!0);}catch(X){N=!0,$=X}finally{try{!D&&G.return&&G.return()}finally{if(N)throw $}}return I}return function(M,x){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return R(M,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function R(M,x){for(var I=0;I<x.length;I++){var D=x[I];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(M,D.key,D)}}return function(M,x,I){return x&&R(M.prototype,x),I&&R(M,I),M}}(),f=o(0),h=w(f),m=o(21),v=w(m),y=o(11),d=w(y),g=o(8),S=w(g),T=o(10),E=w(T);function w(R){return R&&R.__esModule?R:{default:R}}function b(R){if(Array.isArray(R)){for(var M=0,x=Array(R.length);M<R.length;M++)x[M]=R[M];return x}else return Array.from(R)}function k(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}var _=(0,E.default)("quill:selection"),L=function R(M){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;k(this,R),this.index=M,this.length=x},U=function(){function R(M,x){var I=this;k(this,R),this.emitter=x,this.scroll=M,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=h.default.create("cursor",this),this.lastRange=this.savedRange=new L(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){I.mouseDown||setTimeout(I.update.bind(I,S.default.sources.USER),1)}),this.emitter.on(S.default.events.EDITOR_CHANGE,function(D,N){D===S.default.events.TEXT_CHANGE&&N.length()>0&&I.update(S.default.sources.SILENT)}),this.emitter.on(S.default.events.SCROLL_BEFORE_UPDATE,function(){if(I.hasFocus()){var D=I.getNativeRange();D!=null&&D.start.node!==I.cursor.textNode&&I.emitter.once(S.default.events.SCROLL_UPDATE,function(){try{I.setNativeRange(D.start.node,D.start.offset,D.end.node,D.end.offset)}catch{}})}}),this.emitter.on(S.default.events.SCROLL_OPTIMIZE,function(D,N){if(N.range){var $=N.range,G=$.startNode,Z=$.startOffset,X=$.endNode,ie=$.endOffset;I.setNativeRange(G,Z,X,ie)}}),this.update(S.default.sources.SILENT)}return u(R,[{key:"handleComposition",value:function(){var x=this;this.root.addEventListener("compositionstart",function(){x.composing=!0}),this.root.addEventListener("compositionend",function(){if(x.composing=!1,x.cursor.parent){var I=x.cursor.restore();if(!I)return;setTimeout(function(){x.setNativeRange(I.startNode,I.startOffset,I.endNode,I.endOffset)},1)}})}},{key:"handleDragging",value:function(){var x=this;this.emitter.listenDOM("mousedown",document.body,function(){x.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){x.mouseDown=!1,x.update(S.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(x,I){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[x])){this.scroll.update();var D=this.getNativeRange();if(!(D==null||!D.native.collapsed||h.default.query(x,h.default.Scope.BLOCK))){if(D.start.node!==this.cursor.textNode){var N=h.default.find(D.start.node,!1);if(N==null)return;if(N instanceof h.default.Leaf){var $=N.split(D.start.offset);N.parent.insertBefore(this.cursor,$)}else N.insertBefore(this.cursor,D.start.node);this.cursor.attach()}this.cursor.format(x,I),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(x){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=this.scroll.length();x=Math.min(x,D-1),I=Math.min(x+I,D-1)-x;var N=void 0,$=this.scroll.leaf(x),G=a($,2),Z=G[0],X=G[1];if(Z==null)return null;var ie=Z.position(X,!0),Y=a(ie,2);N=Y[0],X=Y[1];var H=document.createRange();if(I>0){H.setStart(N,X);var j=this.scroll.leaf(x+I),q=a(j,2);if(Z=q[0],X=q[1],Z==null)return null;var W=Z.position(X,!0),ne=a(W,2);return N=ne[0],X=ne[1],H.setEnd(N,X),H.getBoundingClientRect()}else{var te="left",z=void 0;return N instanceof Text?(X<N.data.length?(H.setStart(N,X),H.setEnd(N,X+1)):(H.setStart(N,X-1),H.setEnd(N,X),te="right"),z=H.getBoundingClientRect()):(z=Z.domNode.getBoundingClientRect(),X>0&&(te="right")),{bottom:z.top+z.height,height:z.height,left:z[te],right:z[te],top:z.top,width:0}}}},{key:"getNativeRange",value:function(){var x=document.getSelection();if(x==null||x.rangeCount<=0)return null;var I=x.getRangeAt(0);if(I==null)return null;var D=this.normalizeNative(I);return _.info("getNativeRange",D),D}},{key:"getRange",value:function(){var x=this.getNativeRange();if(x==null)return[null,null];var I=this.normalizedToRange(x);return[I,x]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(x){var I=this,D=[[x.start.node,x.start.offset]];x.native.collapsed||D.push([x.end.node,x.end.offset]);var N=D.map(function(Z){var X=a(Z,2),ie=X[0],Y=X[1],H=h.default.find(ie,!0),j=H.offset(I.scroll);return Y===0?j:H instanceof h.default.Container?j+H.length():j+H.index(ie,Y)}),$=Math.min(Math.max.apply(Math,b(N)),this.scroll.length()-1),G=Math.min.apply(Math,[$].concat(b(N)));return new L(G,$-G)}},{key:"normalizeNative",value:function(x){if(!P(this.root,x.startContainer)||!x.collapsed&&!P(this.root,x.endContainer))return null;var I={start:{node:x.startContainer,offset:x.startOffset},end:{node:x.endContainer,offset:x.endOffset},native:x};return[I.start,I.end].forEach(function(D){for(var N=D.node,$=D.offset;!(N instanceof Text)&&N.childNodes.length>0;)if(N.childNodes.length>$)N=N.childNodes[$],$=0;else if(N.childNodes.length===$)N=N.lastChild,$=N instanceof Text?N.data.length:N.childNodes.length+1;else break;D.node=N,D.offset=$}),I}},{key:"rangeToNative",value:function(x){var I=this,D=x.collapsed?[x.index]:[x.index,x.index+x.length],N=[],$=this.scroll.length();return D.forEach(function(G,Z){G=Math.min($-1,G);var X=void 0,ie=I.scroll.leaf(G),Y=a(ie,2),H=Y[0],j=Y[1],q=H.position(j,Z!==0),W=a(q,2);X=W[0],j=W[1],N.push(X,j)}),N.length<2&&(N=N.concat(N)),N}},{key:"scrollIntoView",value:function(x){var I=this.lastRange;if(I!=null){var D=this.getBounds(I.index,I.length);if(D!=null){var N=this.scroll.length()-1,$=this.scroll.line(Math.min(I.index,N)),G=a($,1),Z=G[0],X=Z;if(I.length>0){var ie=this.scroll.line(Math.min(I.index+I.length,N)),Y=a(ie,1);X=Y[0]}if(!(Z==null||X==null)){var H=x.getBoundingClientRect();D.top<H.top?x.scrollTop-=H.top-D.top:D.bottom>H.bottom&&(x.scrollTop+=D.bottom-H.bottom)}}}}},{key:"setNativeRange",value:function(x,I){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:I,$=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(_.info("setNativeRange",x,I,D,N),!(x!=null&&(this.root.parentNode==null||x.parentNode==null||D.parentNode==null))){var G=document.getSelection();if(G!=null)if(x!=null){this.hasFocus()||this.root.focus();var Z=(this.getNativeRange()||{}).native;if(Z==null||$||x!==Z.startContainer||I!==Z.startOffset||D!==Z.endContainer||N!==Z.endOffset){x.tagName=="BR"&&(I=[].indexOf.call(x.parentNode.childNodes,x),x=x.parentNode),D.tagName=="BR"&&(N=[].indexOf.call(D.parentNode.childNodes,D),D=D.parentNode);var X=document.createRange();X.setStart(x,I),X.setEnd(D,N),G.removeAllRanges(),G.addRange(X)}}else G.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(x){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S.default.sources.API;if(typeof I=="string"&&(D=I,I=!1),_.info("setRange",x),x!=null){var N=this.rangeToNative(x);this.setNativeRange.apply(this,b(N).concat([I]))}else this.setNativeRange(null);this.update(D)}},{key:"update",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S.default.sources.USER,I=this.lastRange,D=this.getRange(),N=a(D,2),$=N[0],G=N[1];if(this.lastRange=$,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(I,this.lastRange)){var Z;!this.composing&&G!=null&&G.native.collapsed&&G.start.node!==this.cursor.textNode&&this.cursor.restore();var X=[S.default.events.SELECTION_CHANGE,(0,v.default)(this.lastRange),(0,v.default)(I),x];if((Z=this.emitter).emit.apply(Z,[S.default.events.EDITOR_CHANGE].concat(X)),x!==S.default.sources.SILENT){var ie;(ie=this.emitter).emit.apply(ie,X)}}}}]),R}();function P(R,M){try{M.parentNode}catch{return!1}return M instanceof Text&&(M=M.parentNode),R.contains(M)}r.Range=L,r.default=U},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function S(T,E){for(var w=0;w<E.length;w++){var b=E[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(T,b.key,b)}}return function(T,E,w){return E&&S(T.prototype,E),w&&S(T,w),T}}(),u=function S(T,E,w){T===null&&(T=Function.prototype);var b=Object.getOwnPropertyDescriptor(T,E);if(b===void 0){var k=Object.getPrototypeOf(T);return k===null?void 0:S(k,E,w)}else{if("value"in b)return b.value;var _=b.get;return _===void 0?void 0:_.call(w)}},f=o(0),h=m(f);function m(S){return S&&S.__esModule?S:{default:S}}function v(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function y(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function d(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}var g=function(S){d(T,S);function T(){return v(this,T),y(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,[{key:"insertInto",value:function(w,b){w.children.length===0?u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertInto",this).call(this,w,b):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),T}(h.default.Embed);g.blotName="break",g.tagName="BR",r.default=g},function(t,r,o){var a=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var S in g)g.hasOwnProperty(S)&&(d[S]=g[S])};return function(d,g){y(d,g);function S(){this.constructor=d}d.prototype=g===null?Object.create(g):(S.prototype=g.prototype,new S)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(44),f=o(30),h=o(1),m=function(y){a(d,y);function d(g){var S=y.call(this,g)||this;return S.build(),S}return d.prototype.appendChild=function(g){this.insertBefore(g)},d.prototype.attach=function(){y.prototype.attach.call(this),this.children.forEach(function(g){g.attach()})},d.prototype.build=function(){var g=this;this.children=new u.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(S){try{var T=v(S);g.insertBefore(T,g.children.head||void 0)}catch(E){if(E instanceof h.ParchmentError)return;throw E}})},d.prototype.deleteAt=function(g,S){if(g===0&&S===this.length())return this.remove();this.children.forEachAt(g,S,function(T,E,w){T.deleteAt(E,w)})},d.prototype.descendant=function(g,S){var T=this.children.find(S),E=T[0],w=T[1];return g.blotName==null&&g(E)||g.blotName!=null&&E instanceof g?[E,w]:E instanceof d?E.descendant(g,w):[null,-1]},d.prototype.descendants=function(g,S,T){S===void 0&&(S=0),T===void 0&&(T=Number.MAX_VALUE);var E=[],w=T;return this.children.forEachAt(S,T,function(b,k,_){(g.blotName==null&&g(b)||g.blotName!=null&&b instanceof g)&&E.push(b),b instanceof d&&(E=E.concat(b.descendants(g,k,w))),w-=_}),E},d.prototype.detach=function(){this.children.forEach(function(g){g.detach()}),y.prototype.detach.call(this)},d.prototype.formatAt=function(g,S,T,E){this.children.forEachAt(g,S,function(w,b,k){w.formatAt(b,k,T,E)})},d.prototype.insertAt=function(g,S,T){var E=this.children.find(g),w=E[0],b=E[1];if(w)w.insertAt(b,S,T);else{var k=T==null?h.create("text",S):h.create(S,T);this.appendChild(k)}},d.prototype.insertBefore=function(g,S){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(T){return g instanceof T}))throw new h.ParchmentError("Cannot insert "+g.statics.blotName+" into "+this.statics.blotName);g.insertInto(this,S)},d.prototype.length=function(){return this.children.reduce(function(g,S){return g+S.length()},0)},d.prototype.moveChildren=function(g,S){this.children.forEach(function(T){g.insertBefore(T,S)})},d.prototype.optimize=function(g){if(y.prototype.optimize.call(this,g),this.children.length===0)if(this.statics.defaultChild!=null){var S=h.create(this.statics.defaultChild);this.appendChild(S),S.optimize(g)}else this.remove()},d.prototype.path=function(g,S){S===void 0&&(S=!1);var T=this.children.find(g,S),E=T[0],w=T[1],b=[[this,g]];return E instanceof d?b.concat(E.path(w,S)):(E!=null&&b.push([E,w]),b)},d.prototype.removeChild=function(g){this.children.remove(g)},d.prototype.replace=function(g){g instanceof d&&g.moveChildren(this),y.prototype.replace.call(this,g)},d.prototype.split=function(g,S){if(S===void 0&&(S=!1),!S){if(g===0)return this;if(g===this.length())return this.next}var T=this.clone();return this.parent.insertBefore(T,this.next),this.children.forEachAt(g,this.length(),function(E,w,b){E=E.split(w,S),T.appendChild(E)}),T},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(g,S){var T=this,E=[],w=[];g.forEach(function(b){b.target===T.domNode&&b.type==="childList"&&(E.push.apply(E,b.addedNodes),w.push.apply(w,b.removedNodes))}),w.forEach(function(b){if(!(b.parentNode!=null&&b.tagName!=="IFRAME"&&document.body.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var k=h.find(b);k!=null&&(k.domNode.parentNode==null||k.domNode.parentNode===T.domNode)&&k.detach()}}),E.filter(function(b){return b.parentNode==T.domNode}).sort(function(b,k){return b===k?0:b.compareDocumentPosition(k)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(b){var k=null;b.nextSibling!=null&&(k=h.find(b.nextSibling));var _=v(b);(_.next!=k||_.next==null)&&(_.parent!=null&&_.parent.removeChild(T),T.insertBefore(_,k||void 0))})},d}(f.default);function v(y){var d=h.find(y);if(d==null)try{d=h.create(y)}catch{d=h.create(h.Scope.INLINE),[].slice.call(y.childNodes).forEach(function(S){d.domNode.appendChild(S)}),y.parentNode&&y.parentNode.replaceChild(d.domNode,y),d.attach()}return d}r.default=m},function(t,r,o){var a=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var S in g)g.hasOwnProperty(S)&&(d[S]=g[S])};return function(d,g){y(d,g);function S(){this.constructor=d}d.prototype=g===null?Object.create(g):(S.prototype=g.prototype,new S)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(12),f=o(31),h=o(17),m=o(1),v=function(y){a(d,y);function d(g){var S=y.call(this,g)||this;return S.attributes=new f.default(S.domNode),S}return d.formats=function(g){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return g.tagName.toLowerCase()},d.prototype.format=function(g,S){var T=m.query(g);T instanceof u.default?this.attributes.attribute(T,S):S&&T!=null&&(g!==this.statics.blotName||this.formats()[g]!==S)&&this.replaceWith(g,S)},d.prototype.formats=function(){var g=this.attributes.values(),S=this.statics.formats(this.domNode);return S!=null&&(g[this.statics.blotName]=S),g},d.prototype.replaceWith=function(g,S){var T=y.prototype.replaceWith.call(this,g,S);return this.attributes.copy(T),T},d.prototype.update=function(g,S){var T=this;y.prototype.update.call(this,g,S),g.some(function(E){return E.target===T.domNode&&E.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(g,S){var T=y.prototype.wrap.call(this,g,S);return T instanceof d&&T.statics.scope===this.statics.scope&&this.attributes.move(T),T},d}(h.default);r.default=v},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var d in y)y.hasOwnProperty(d)&&(v[d]=y[d])};return function(v,y){m(v,y);function d(){this.constructor=v}v.prototype=y===null?Object.create(y):(d.prototype=y.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(30),f=o(1),h=function(m){a(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.value=function(y){return!0},v.prototype.index=function(y,d){return this.domNode===y||this.domNode.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},v.prototype.position=function(y,d){var g=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return y>0&&(g+=1),[this.parent.domNode,g]},v.prototype.value=function(){var y;return y={},y[this.statics.blotName]=this.statics.value(this.domNode)||!0,y},v.scope=f.Scope.INLINE_BLOT,v}(u.default);r.default=h},function(t,r,o){var a=o(11),u=o(3),f={attributes:{compose:function(m,v,y){typeof m!="object"&&(m={}),typeof v!="object"&&(v={});var d=u(!0,{},v);y||(d=Object.keys(d).reduce(function(S,T){return d[T]!=null&&(S[T]=d[T]),S},{}));for(var g in m)m[g]!==void 0&&v[g]===void 0&&(d[g]=m[g]);return Object.keys(d).length>0?d:void 0},diff:function(m,v){typeof m!="object"&&(m={}),typeof v!="object"&&(v={});var y=Object.keys(m).concat(Object.keys(v)).reduce(function(d,g){return a(m[g],v[g])||(d[g]=v[g]===void 0?null:v[g]),d},{});return Object.keys(y).length>0?y:void 0},transform:function(m,v,y){if(typeof m!="object")return v;if(typeof v=="object"){if(!y)return v;var d=Object.keys(v).reduce(function(g,S){return m[S]===void 0&&(g[S]=v[S]),g},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(m){return new h(m)},length:function(m){return typeof m.delete=="number"?m.delete:typeof m.retain=="number"?m.retain:typeof m.insert=="string"?m.insert.length:1}};function h(m){this.ops=m,this.index=0,this.offset=0}h.prototype.hasNext=function(){return this.peekLength()<1/0},h.prototype.next=function(m){m||(m=1/0);var v=this.ops[this.index];if(v){var y=this.offset,d=f.length(v);if(m>=d-y?(m=d-y,this.index+=1,this.offset=0):this.offset+=m,typeof v.delete=="number")return{delete:m};var g={};return v.attributes&&(g.attributes=v.attributes),typeof v.retain=="number"?g.retain=m:typeof v.insert=="string"?g.insert=v.insert.substr(y,m):g.insert=v.insert,g}else return{retain:1/0}},h.prototype.peek=function(){return this.ops[this.index]},h.prototype.peekLength=function(){return this.ops[this.index]?f.length(this.ops[this.index])-this.offset:1/0},h.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},h.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var m=this.offset,v=this.index,y=this.next(),d=this.ops.slice(this.index);return this.offset=m,this.index=v,[y].concat(d)}else return[]},t.exports=f},function(t,r){var o=function(){function a(T,E){return E!=null&&T instanceof E}var u;try{u=Map}catch{u=function(){}}var f;try{f=Set}catch{f=function(){}}var h;try{h=Promise}catch{h=function(){}}function m(T,E,w,b,k){typeof E=="object"&&(w=E.depth,b=E.prototype,k=E.includeNonEnumerable,E=E.circular);var _=[],L=[],U=typeof Buffer<"u";typeof E>"u"&&(E=!0),typeof w>"u"&&(w=1/0);function P(R,M){if(R===null)return null;if(M===0)return R;var x,I;if(typeof R!="object")return R;if(a(R,u))x=new u;else if(a(R,f))x=new f;else if(a(R,h))x=new h(function(H,j){R.then(function(q){H(P(q,M-1))},function(q){j(P(q,M-1))})});else if(m.__isArray(R))x=[];else if(m.__isRegExp(R))x=new RegExp(R.source,S(R)),R.lastIndex&&(x.lastIndex=R.lastIndex);else if(m.__isDate(R))x=new Date(R.getTime());else{if(U&&Buffer.isBuffer(R))return Buffer.allocUnsafe?x=Buffer.allocUnsafe(R.length):x=new Buffer(R.length),R.copy(x),x;a(R,Error)?x=Object.create(R):typeof b>"u"?(I=Object.getPrototypeOf(R),x=Object.create(I)):(x=Object.create(b),I=b)}if(E){var D=_.indexOf(R);if(D!=-1)return L[D];_.push(R),L.push(x)}a(R,u)&&R.forEach(function(H,j){var q=P(j,M-1),W=P(H,M-1);x.set(q,W)}),a(R,f)&&R.forEach(function(H){var j=P(H,M-1);x.add(j)});for(var N in R){var $;I&&($=Object.getOwnPropertyDescriptor(I,N)),!($&&$.set==null)&&(x[N]=P(R[N],M-1))}if(Object.getOwnPropertySymbols)for(var G=Object.getOwnPropertySymbols(R),N=0;N<G.length;N++){var Z=G[N],X=Object.getOwnPropertyDescriptor(R,Z);X&&!X.enumerable&&!k||(x[Z]=P(R[Z],M-1),X.enumerable||Object.defineProperty(x,Z,{enumerable:!1}))}if(k)for(var ie=Object.getOwnPropertyNames(R),N=0;N<ie.length;N++){var Y=ie[N],X=Object.getOwnPropertyDescriptor(R,Y);X&&X.enumerable||(x[Y]=P(R[Y],M-1),Object.defineProperty(x,Y,{enumerable:!1}))}return x}return P(T,w)}m.clonePrototype=function(E){if(E===null)return null;var w=function(){};return w.prototype=E,new w};function v(T){return Object.prototype.toString.call(T)}m.__objToStr=v;function y(T){return typeof T=="object"&&v(T)==="[object Date]"}m.__isDate=y;function d(T){return typeof T=="object"&&v(T)==="[object Array]"}m.__isArray=d;function g(T){return typeof T=="object"&&v(T)==="[object RegExp]"}m.__isRegExp=g;function S(T){var E="";return T.global&&(E+="g"),T.ignoreCase&&(E+="i"),T.multiline&&(E+="m"),E}return m.__getRegExpFlags=S,m}();typeof t=="object"&&t.exports&&(t.exports=o)},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function x(I,D){var N=[],$=!0,G=!1,Z=void 0;try{for(var X=I[Symbol.iterator](),ie;!($=(ie=X.next()).done)&&(N.push(ie.value),!(D&&N.length===D));$=!0);}catch(Y){G=!0,Z=Y}finally{try{!$&&X.return&&X.return()}finally{if(G)throw Z}}return N}return function(I,D){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return x(I,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function x(I,D){for(var N=0;N<D.length;N++){var $=D[N];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(I,$.key,$)}}return function(I,D,N){return D&&x(I.prototype,D),N&&x(I,N),I}}(),f=function x(I,D,N){I===null&&(I=Function.prototype);var $=Object.getOwnPropertyDescriptor(I,D);if($===void 0){var G=Object.getPrototypeOf(I);return G===null?void 0:x(G,D,N)}else{if("value"in $)return $.value;var Z=$.get;return Z===void 0?void 0:Z.call(N)}},h=o(0),m=_(h),v=o(8),y=_(v),d=o(4),g=_(d),S=o(16),T=_(S),E=o(13),w=_(E),b=o(25),k=_(b);function _(x){return x&&x.__esModule?x:{default:x}}function L(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")}function U(x,I){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:x}function P(x,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(x,I):x.__proto__=I)}function R(x){return x instanceof g.default||x instanceof d.BlockEmbed}var M=function(x){P(I,x);function I(D,N){L(this,I);var $=U(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,D));return $.emitter=N.emitter,Array.isArray(N.whitelist)&&($.whitelist=N.whitelist.reduce(function(G,Z){return G[Z]=!0,G},{})),$.domNode.addEventListener("DOMNodeInserted",function(){}),$.optimize(),$.enable(),$}return u(I,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(N,$){var G=this.line(N),Z=a(G,2),X=Z[0],ie=Z[1],Y=this.line(N+$),H=a(Y,1),j=H[0];if(f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"deleteAt",this).call(this,N,$),j!=null&&X!==j&&ie>0){if(X instanceof d.BlockEmbed||j instanceof d.BlockEmbed){this.optimize();return}if(X instanceof w.default){var q=X.newlineIndex(X.length(),!0);if(q>-1&&(X=X.split(q+1),X===j)){this.optimize();return}}else if(j instanceof w.default){var W=j.newlineIndex(0);W>-1&&j.split(W+1)}var ne=j.children.head instanceof T.default?null:j.children.head;X.moveChildren(j,ne),X.remove()}this.optimize()}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",N)}},{key:"formatAt",value:function(N,$,G,Z){this.whitelist!=null&&!this.whitelist[G]||(f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"formatAt",this).call(this,N,$,G,Z),this.optimize())}},{key:"insertAt",value:function(N,$,G){if(!(G!=null&&this.whitelist!=null&&!this.whitelist[$])){if(N>=this.length())if(G==null||m.default.query($,m.default.Scope.BLOCK)==null){var Z=m.default.create(this.statics.defaultChild);this.appendChild(Z),G==null&&$.endsWith(`
`)&&($=$.slice(0,-1)),Z.insertAt(0,$,G)}else{var X=m.default.create($,G);this.appendChild(X)}else f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,N,$,G);this.optimize()}}},{key:"insertBefore",value:function(N,$){if(N.statics.scope===m.default.Scope.INLINE_BLOT){var G=m.default.create(this.statics.defaultChild);G.appendChild(N),N=G}f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,N,$)}},{key:"leaf",value:function(N){return this.path(N).pop()||[null,-1]}},{key:"line",value:function(N){return N===this.length()?this.line(N-1):this.descendant(R,N)}},{key:"lines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,G=function Z(X,ie,Y){var H=[],j=Y;return X.children.forEachAt(ie,Y,function(q,W,ne){R(q)?H.push(q):q instanceof m.default.Container&&(H=H.concat(Z(q,W,j))),j-=ne}),H};return G(this,N,$)}},{key:"optimize",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,N,$),N.length>0&&this.emitter.emit(y.default.events.SCROLL_OPTIMIZE,N,$))}},{key:"path",value:function(N){return f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"path",this).call(this,N).slice(1)}},{key:"update",value:function(N){if(this.batch!==!0){var $=y.default.sources.USER;typeof N=="string"&&($=N),Array.isArray(N)||(N=this.observer.takeRecords()),N.length>0&&this.emitter.emit(y.default.events.SCROLL_BEFORE_UPDATE,$,N),f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"update",this).call(this,N.concat([])),N.length>0&&this.emitter.emit(y.default.events.SCROLL_UPDATE,$,N)}}}]),I}(m.default.Scroll);M.blotName="scroll",M.className="ql-editor",M.tagName="DIV",M.defaultChild="block",M.allowedChildren=[g.default,d.BlockEmbed,k.default],r.default=M},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},u=function(){function z(J,oe){var se=[],pe=!0,Ie=!1,De=void 0;try{for(var Ve=J[Symbol.iterator](),We;!(pe=(We=Ve.next()).done)&&(se.push(We.value),!(oe&&se.length===oe));pe=!0);}catch(Xe){Ie=!0,De=Xe}finally{try{!pe&&Ve.return&&Ve.return()}finally{if(Ie)throw De}}return se}return function(J,oe){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return z(J,oe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function z(J,oe){for(var se=0;se<oe.length;se++){var pe=oe[se];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(J,pe.key,pe)}}return function(J,oe,se){return oe&&z(J.prototype,oe),se&&z(J,se),J}}(),h=o(21),m=x(h),v=o(11),y=x(v),d=o(3),g=x(d),S=o(2),T=x(S),E=o(20),w=x(E),b=o(0),k=x(b),_=o(5),L=x(_),U=o(10),P=x(U),R=o(9),M=x(R);function x(z){return z&&z.__esModule?z:{default:z}}function I(z,J,oe){return J in z?Object.defineProperty(z,J,{value:oe,enumerable:!0,configurable:!0,writable:!0}):z[J]=oe,z}function D(z,J){if(!(z instanceof J))throw new TypeError("Cannot call a class as a function")}function N(z,J){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J&&(typeof J=="object"||typeof J=="function")?J:z}function $(z,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);z.prototype=Object.create(J&&J.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(z,J):z.__proto__=J)}var G=(0,P.default)("quill:keyboard"),Z=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",X=function(z){$(J,z),f(J,null,[{key:"match",value:function(se,pe){return pe=te(pe),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Ie){return!!pe[Ie]!==se[Ie]&&pe[Ie]!==null})?!1:pe.key===(se.which||se.keyCode)}}]);function J(oe,se){D(this,J);var pe=N(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,oe,se));return pe.bindings={},Object.keys(pe.options.bindings).forEach(function(Ie){Ie==="list autofill"&&oe.scroll.whitelist!=null&&!oe.scroll.whitelist.list||pe.options.bindings[Ie]&&pe.addBinding(pe.options.bindings[Ie])}),pe.addBinding({key:J.keys.ENTER,shiftKey:null},q),pe.addBinding({key:J.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(pe.addBinding({key:J.keys.BACKSPACE},{collapsed:!0},Y),pe.addBinding({key:J.keys.DELETE},{collapsed:!0},H)):(pe.addBinding({key:J.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},Y),pe.addBinding({key:J.keys.DELETE},{collapsed:!0,suffix:/^.?$/},H)),pe.addBinding({key:J.keys.BACKSPACE},{collapsed:!1},j),pe.addBinding({key:J.keys.DELETE},{collapsed:!1},j),pe.addBinding({key:J.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},Y),pe.listen(),pe}return f(J,[{key:"addBinding",value:function(se){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},De=te(se);if(De==null||De.key==null)return G.warn("Attempted to add invalid keyboard binding",De);typeof pe=="function"&&(pe={handler:pe}),typeof Ie=="function"&&(Ie={handler:Ie}),De=(0,g.default)(De,pe,Ie),this.bindings[De.key]=this.bindings[De.key]||[],this.bindings[De.key].push(De)}},{key:"listen",value:function(){var se=this;this.quill.root.addEventListener("keydown",function(pe){if(!pe.defaultPrevented){var Ie=pe.which||pe.keyCode,De=(se.bindings[Ie]||[]).filter(function(ct){return J.match(pe,ct)});if(De.length!==0){var Ve=se.quill.getSelection();if(!(Ve==null||!se.quill.hasFocus())){var We=se.quill.getLine(Ve.index),Xe=u(We,2),Ot=Xe[0],mt=Xe[1],he=se.quill.getLeaf(Ve.index),me=u(he,2),Se=me[0],Ae=me[1],ye=Ve.length===0?[Se,Ae]:se.quill.getLeaf(Ve.index+Ve.length),Be=u(ye,2),ze=Be[0],Ke=Be[1],st=Se instanceof k.default.Text?Se.value().slice(0,Ae):"",ut=ze instanceof k.default.Text?ze.value().slice(Ke):"",rt={collapsed:Ve.length===0,empty:Ve.length===0&&Ot.length()<=1,format:se.quill.getFormat(Ve),offset:mt,prefix:st,suffix:ut},oo=De.some(function(ct){if(ct.collapsed!=null&&ct.collapsed!==rt.collapsed||ct.empty!=null&&ct.empty!==rt.empty||ct.offset!=null&&ct.offset!==rt.offset)return!1;if(Array.isArray(ct.format)){if(ct.format.every(function(nn){return rt.format[nn]==null}))return!1}else if(a(ct.format)==="object"&&!Object.keys(ct.format).every(function(nn){return ct.format[nn]===!0?rt.format[nn]!=null:ct.format[nn]===!1?rt.format[nn]==null:(0,y.default)(ct.format[nn],rt.format[nn])}))return!1;return ct.prefix!=null&&!ct.prefix.test(rt.prefix)||ct.suffix!=null&&!ct.suffix.test(rt.suffix)?!1:ct.handler.call(se,Ve,rt)!==!0});oo&&pe.preventDefault()}}}})}}]),J}(M.default);X.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},X.DEFAULTS={bindings:{bold:ne("bold"),italic:ne("italic"),underline:ne("underline"),indent:{key:X.keys.TAB,format:["blockquote","indent","list"],handler:function(J,oe){if(oe.collapsed&&oe.offset!==0)return!0;this.quill.format("indent","+1",L.default.sources.USER)}},outdent:{key:X.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(J,oe){if(oe.collapsed&&oe.offset!==0)return!0;this.quill.format("indent","-1",L.default.sources.USER)}},"outdent backspace":{key:X.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(J,oe){oe.format.indent!=null?this.quill.format("indent","-1",L.default.sources.USER):oe.format.list!=null&&this.quill.format("list",!1,L.default.sources.USER)}},"indent code-block":W(!0),"outdent code-block":W(!1),"remove tab":{key:X.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(J){this.quill.deleteText(J.index-1,1,L.default.sources.USER)}},tab:{key:X.keys.TAB,handler:function(J){this.quill.history.cutoff();var oe=new T.default().retain(J.index).delete(J.length).insert("	");this.quill.updateContents(oe,L.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index+1,L.default.sources.SILENT)}},"list empty enter":{key:X.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(J,oe){this.quill.format("list",!1,L.default.sources.USER),oe.format.indent&&this.quill.format("indent",!1,L.default.sources.USER)}},"checklist enter":{key:X.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(J){var oe=this.quill.getLine(J.index),se=u(oe,2),pe=se[0],Ie=se[1],De=(0,g.default)({},pe.formats(),{list:"checked"}),Ve=new T.default().retain(J.index).insert(`
`,De).retain(pe.length()-Ie-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ve,L.default.sources.USER),this.quill.setSelection(J.index+1,L.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:X.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(J,oe){var se=this.quill.getLine(J.index),pe=u(se,2),Ie=pe[0],De=pe[1],Ve=new T.default().retain(J.index).insert(`
`,oe.format).retain(Ie.length()-De-1).retain(1,{header:null});this.quill.updateContents(Ve,L.default.sources.USER),this.quill.setSelection(J.index+1,L.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(J,oe){var se=oe.prefix.length,pe=this.quill.getLine(J.index),Ie=u(pe,2),De=Ie[0],Ve=Ie[1];if(Ve>se)return!0;var We=void 0;switch(oe.prefix.trim()){case"[]":case"[ ]":We="unchecked";break;case"[x]":We="checked";break;case"-":case"*":We="bullet";break;default:We="ordered"}this.quill.insertText(J.index," ",L.default.sources.USER),this.quill.history.cutoff();var Xe=new T.default().retain(J.index-Ve).delete(se+1).retain(De.length()-2-Ve).retain(1,{list:We});this.quill.updateContents(Xe,L.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index-se,L.default.sources.SILENT)}},"code exit":{key:X.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(J){var oe=this.quill.getLine(J.index),se=u(oe,2),pe=se[0],Ie=se[1],De=new T.default().retain(J.index+pe.length()-Ie-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(De,L.default.sources.USER)}},"embed left":ie(X.keys.LEFT,!1),"embed left shift":ie(X.keys.LEFT,!0),"embed right":ie(X.keys.RIGHT,!1),"embed right shift":ie(X.keys.RIGHT,!0)}};function ie(z,J){var oe,se=z===X.keys.LEFT?"prefix":"suffix";return oe={key:z,shiftKey:J,altKey:null},I(oe,se,/^$/),I(oe,"handler",function(Ie){var De=Ie.index;z===X.keys.RIGHT&&(De+=Ie.length+1);var Ve=this.quill.getLeaf(De),We=u(Ve,1),Xe=We[0];return Xe instanceof k.default.Embed?(z===X.keys.LEFT?J?this.quill.setSelection(Ie.index-1,Ie.length+1,L.default.sources.USER):this.quill.setSelection(Ie.index-1,L.default.sources.USER):J?this.quill.setSelection(Ie.index,Ie.length+1,L.default.sources.USER):this.quill.setSelection(Ie.index+Ie.length+1,L.default.sources.USER),!1):!0}),oe}function Y(z,J){if(!(z.index===0||this.quill.getLength()<=1)){var oe=this.quill.getLine(z.index),se=u(oe,1),pe=se[0],Ie={};if(J.offset===0){var De=this.quill.getLine(z.index-1),Ve=u(De,1),We=Ve[0];if(We!=null&&We.length()>1){var Xe=pe.formats(),Ot=this.quill.getFormat(z.index-1,1);Ie=w.default.attributes.diff(Xe,Ot)||{}}}var mt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(J.prefix)?2:1;this.quill.deleteText(z.index-mt,mt,L.default.sources.USER),Object.keys(Ie).length>0&&this.quill.formatLine(z.index-mt,mt,Ie,L.default.sources.USER),this.quill.focus()}}function H(z,J){var oe=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(J.suffix)?2:1;if(!(z.index>=this.quill.getLength()-oe)){var se={},pe=0,Ie=this.quill.getLine(z.index),De=u(Ie,1),Ve=De[0];if(J.offset>=Ve.length()-1){var We=this.quill.getLine(z.index+1),Xe=u(We,1),Ot=Xe[0];if(Ot){var mt=Ve.formats(),he=this.quill.getFormat(z.index,1);se=w.default.attributes.diff(mt,he)||{},pe=Ot.length()}}this.quill.deleteText(z.index,oe,L.default.sources.USER),Object.keys(se).length>0&&this.quill.formatLine(z.index+pe-1,oe,se,L.default.sources.USER)}}function j(z){var J=this.quill.getLines(z),oe={};if(J.length>1){var se=J[0].formats(),pe=J[J.length-1].formats();oe=w.default.attributes.diff(pe,se)||{}}this.quill.deleteText(z,L.default.sources.USER),Object.keys(oe).length>0&&this.quill.formatLine(z.index,1,oe,L.default.sources.USER),this.quill.setSelection(z.index,L.default.sources.SILENT),this.quill.focus()}function q(z,J){var oe=this;z.length>0&&this.quill.scroll.deleteAt(z.index,z.length);var se=Object.keys(J.format).reduce(function(pe,Ie){return k.default.query(Ie,k.default.Scope.BLOCK)&&!Array.isArray(J.format[Ie])&&(pe[Ie]=J.format[Ie]),pe},{});this.quill.insertText(z.index,`
`,se,L.default.sources.USER),this.quill.setSelection(z.index+1,L.default.sources.SILENT),this.quill.focus(),Object.keys(J.format).forEach(function(pe){se[pe]==null&&(Array.isArray(J.format[pe])||pe!=="link"&&oe.quill.format(pe,J.format[pe],L.default.sources.USER))})}function W(z){return{key:X.keys.TAB,shiftKey:!z,format:{"code-block":!0},handler:function(oe){var se=k.default.query("code-block"),pe=oe.index,Ie=oe.length,De=this.quill.scroll.descendant(se,pe),Ve=u(De,2),We=Ve[0],Xe=Ve[1];if(We!=null){var Ot=this.quill.getIndex(We),mt=We.newlineIndex(Xe,!0)+1,he=We.newlineIndex(Ot+Xe+Ie),me=We.domNode.textContent.slice(mt,he).split(`
`);Xe=0,me.forEach(function(Se,Ae){z?(We.insertAt(mt+Xe,se.TAB),Xe+=se.TAB.length,Ae===0?pe+=se.TAB.length:Ie+=se.TAB.length):Se.startsWith(se.TAB)&&(We.deleteAt(mt+Xe,se.TAB.length),Xe-=se.TAB.length,Ae===0?pe-=se.TAB.length:Ie-=se.TAB.length),Xe+=Se.length+1}),this.quill.update(L.default.sources.USER),this.quill.setSelection(pe,Ie,L.default.sources.SILENT)}}}}function ne(z){return{key:z[0].toUpperCase(),shortKey:!0,handler:function(oe,se){this.quill.format(z,!se.format[z],L.default.sources.USER)}}}function te(z){if(typeof z=="string"||typeof z=="number")return te({key:z});if((typeof z>"u"?"undefined":a(z))==="object"&&(z=(0,m.default)(z,!1)),typeof z.key=="string")if(X.keys[z.key.toUpperCase()]!=null)z.key=X.keys[z.key.toUpperCase()];else if(z.key.length===1)z.key=z.key.toUpperCase().charCodeAt(0);else return null;return z.shortKey&&(z[Z]=z.shortKey,delete z.shortKey),z}r.default=X,r.SHORTKEY=Z},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function w(b,k){var _=[],L=!0,U=!1,P=void 0;try{for(var R=b[Symbol.iterator](),M;!(L=(M=R.next()).done)&&(_.push(M.value),!(k&&_.length===k));L=!0);}catch(x){U=!0,P=x}finally{try{!L&&R.return&&R.return()}finally{if(U)throw P}}return _}return function(b,k){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return w(b,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function w(b,k,_){b===null&&(b=Function.prototype);var L=Object.getOwnPropertyDescriptor(b,k);if(L===void 0){var U=Object.getPrototypeOf(b);return U===null?void 0:w(U,k,_)}else{if("value"in L)return L.value;var P=L.get;return P===void 0?void 0:P.call(_)}},f=function(){function w(b,k){for(var _=0;_<k.length;_++){var L=k[_];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(b,L.key,L)}}return function(b,k,_){return k&&w(b.prototype,k),_&&w(b,_),b}}(),h=o(0),m=d(h),v=o(7),y=d(v);function d(w){return w&&w.__esModule?w:{default:w}}function g(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function S(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function T(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var E=function(w){T(b,w),f(b,null,[{key:"value",value:function(){}}]);function b(k,_){g(this,b);var L=S(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,k));return L.selection=_,L.textNode=document.createTextNode(b.CONTENTS),L.domNode.appendChild(L.textNode),L._length=0,L}return f(b,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(_,L){if(this._length!==0)return u(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,_,L);for(var U=this,P=0;U!=null&&U.statics.scope!==m.default.Scope.BLOCK_BLOT;)P+=U.offset(U.parent),U=U.parent;U!=null&&(this._length=b.CONTENTS.length,U.optimize(),U.formatAt(P,b.CONTENTS.length,_,L),this._length=0)}},{key:"index",value:function(_,L){return _===this.textNode?0:u(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"index",this).call(this,_,L)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){u(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var _=this.textNode,L=this.selection.getNativeRange(),U=void 0,P=void 0,R=void 0;if(L!=null&&L.start.node===_&&L.end.node===_){var M=[_,L.start.offset,L.end.offset];U=M[0],P=M[1],R=M[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==b.CONTENTS){var x=this.textNode.data.split(b.CONTENTS).join("");this.next instanceof y.default?(U=this.next.domNode,this.next.insertAt(0,x),this.textNode.data=b.CONTENTS):(this.textNode.data=x,this.parent.insertBefore(m.default.create(this.textNode),this),this.textNode=document.createTextNode(b.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),P!=null){var I=[P,R].map(function(N){return Math.max(0,Math.min(U.data.length,N-1))}),D=a(I,2);return P=D[0],R=D[1],{startNode:U,startOffset:P,endNode:U,endOffset:R}}}}},{key:"update",value:function(_,L){var U=this;if(_.some(function(R){return R.type==="characterData"&&R.target===U.textNode})){var P=this.restore();P&&(L.range=P)}}},{key:"value",value:function(){return""}}]),b}(m.default.Embed);E.blotName="cursor",E.className="ql-cursor",E.tagName="span",E.CONTENTS="\uFEFF",r.default=E},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),u=m(a),f=o(4),h=m(f);function m(S){return S&&S.__esModule?S:{default:S}}function v(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function y(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function d(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}var g=function(S){d(T,S);function T(){return v(this,T),y(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return T}(u.default.Container);g.allowedChildren=[h.default,f.BlockEmbed,g],r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var a=function(){function E(w,b){for(var k=0;k<b.length;k++){var _=b[k];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(w,_.key,_)}}return function(w,b,k){return b&&E(w.prototype,b),k&&E(w,k),w}}(),u=function E(w,b,k){w===null&&(w=Function.prototype);var _=Object.getOwnPropertyDescriptor(w,b);if(_===void 0){var L=Object.getPrototypeOf(w);return L===null?void 0:E(L,b,k)}else{if("value"in _)return _.value;var U=_.get;return U===void 0?void 0:U.call(k)}},f=o(0),h=m(f);function m(E){return E&&E.__esModule?E:{default:E}}function v(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}function y(E,w){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:E}function d(E,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);E.prototype=Object.create(w&&w.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(E,w):E.__proto__=w)}var g=function(E){d(w,E);function w(){return v(this,w),y(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"value",value:function(k){var _=u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,k);return _.startsWith("rgb(")?(_=_.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+_.split(",").map(function(L){return("00"+parseInt(L).toString(16)).slice(-2)}).join("")):_}}]),w}(h.default.Attributor.Style),S=new h.default.Attributor.Class("color","ql-color",{scope:h.default.Scope.INLINE}),T=new g("color","color",{scope:h.default.Scope.INLINE});r.ColorAttributor=g,r.ColorClass=S,r.ColorStyle=T},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var a=function(){function T(E,w){for(var b=0;b<w.length;b++){var k=w[b];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(E,k.key,k)}}return function(E,w,b){return w&&T(E.prototype,w),b&&T(E,b),E}}(),u=function T(E,w,b){E===null&&(E=Function.prototype);var k=Object.getOwnPropertyDescriptor(E,w);if(k===void 0){var _=Object.getPrototypeOf(E);return _===null?void 0:T(_,w,b)}else{if("value"in k)return k.value;var L=k.get;return L===void 0?void 0:L.call(b)}},f=o(6),h=m(f);function m(T){return T&&T.__esModule?T:{default:T}}function v(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}function y(T,E){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:T}function d(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}var g=function(T){d(E,T);function E(){return v(this,E),y(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"format",value:function(b,k){if(b!==this.statics.blotName||!k)return u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,b,k);k=this.constructor.sanitize(k),this.domNode.setAttribute("href",k)}}],[{key:"create",value:function(b){var k=u(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,b);return b=this.sanitize(b),k.setAttribute("href",b),k.setAttribute("rel","noopener noreferrer"),k.setAttribute("target","_blank"),k}},{key:"formats",value:function(b){return b.getAttribute("href")}},{key:"sanitize",value:function(b){return S(b,this.PROTOCOL_WHITELIST)?b:this.SANITIZED_URL}}]),E}(h.default);g.blotName="link",g.tagName="A",g.SANITIZED_URL="about:blank",g.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function S(T,E){var w=document.createElement("a");w.href=T;var b=w.href.slice(0,w.href.indexOf(":"));return E.indexOf(b)>-1}r.default=g,r.sanitize=S},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},u=function(){function E(w,b){for(var k=0;k<b.length;k++){var _=b[k];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(w,_.key,_)}}return function(w,b,k){return b&&E(w.prototype,b),k&&E(w,k),w}}(),f=o(23),h=y(f),m=o(107),v=y(m);function y(E){return E&&E.__esModule?E:{default:E}}function d(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}var g=0;function S(E,w){E.setAttribute(w,E.getAttribute(w)!=="true")}var T=function(){function E(w){var b=this;d(this,E),this.select=w,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){b.togglePicker()}),this.label.addEventListener("keydown",function(k){switch(k.keyCode){case h.default.keys.ENTER:b.togglePicker();break;case h.default.keys.ESCAPE:b.escape(),k.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return u(E,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),S(this.label,"aria-expanded"),S(this.options,"aria-hidden")}},{key:"buildItem",value:function(b){var k=this,_=document.createElement("span");return _.tabIndex="0",_.setAttribute("role","button"),_.classList.add("ql-picker-item"),b.hasAttribute("value")&&_.setAttribute("data-value",b.getAttribute("value")),b.textContent&&_.setAttribute("data-label",b.textContent),_.addEventListener("click",function(){k.selectItem(_,!0)}),_.addEventListener("keydown",function(L){switch(L.keyCode){case h.default.keys.ENTER:k.selectItem(_,!0),L.preventDefault();break;case h.default.keys.ESCAPE:k.escape(),L.preventDefault();break}}),_}},{key:"buildLabel",value:function(){var b=document.createElement("span");return b.classList.add("ql-picker-label"),b.innerHTML=v.default,b.tabIndex="0",b.setAttribute("role","button"),b.setAttribute("aria-expanded","false"),this.container.appendChild(b),b}},{key:"buildOptions",value:function(){var b=this,k=document.createElement("span");k.classList.add("ql-picker-options"),k.setAttribute("aria-hidden","true"),k.tabIndex="-1",k.id="ql-picker-options-"+g,g+=1,this.label.setAttribute("aria-controls",k.id),this.options=k,[].slice.call(this.select.options).forEach(function(_){var L=b.buildItem(_);k.appendChild(L),_.selected===!0&&b.selectItem(L)}),this.container.appendChild(k)}},{key:"buildPicker",value:function(){var b=this;[].slice.call(this.select.attributes).forEach(function(k){b.container.setAttribute(k.name,k.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var b=this;this.close(),setTimeout(function(){return b.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(b){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_=this.container.querySelector(".ql-selected");if(b!==_&&(_!=null&&_.classList.remove("ql-selected"),b!=null&&(b.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(b.parentNode.children,b),b.hasAttribute("data-value")?this.label.setAttribute("data-value",b.getAttribute("data-value")):this.label.removeAttribute("data-value"),b.hasAttribute("data-label")?this.label.setAttribute("data-label",b.getAttribute("data-label")):this.label.removeAttribute("data-label"),k))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var L=document.createEvent("Event");L.initEvent("change",!0,!0),this.select.dispatchEvent(L)}this.close()}}},{key:"update",value:function(){var b=void 0;if(this.select.selectedIndex>-1){var k=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];b=this.select.options[this.select.selectedIndex],this.selectItem(k)}else this.selectItem(null);var _=b!=null&&b!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",_)}}]),E}();r.default=T},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),u=G(a),f=o(5),h=G(f),m=o(4),v=G(m),y=o(16),d=G(y),g=o(25),S=G(g),T=o(24),E=G(T),w=o(35),b=G(w),k=o(6),_=G(k),L=o(22),U=G(L),P=o(7),R=G(P),M=o(55),x=G(M),I=o(42),D=G(I),N=o(23),$=G(N);function G(Z){return Z&&Z.__esModule?Z:{default:Z}}h.default.register({"blots/block":v.default,"blots/block/embed":m.BlockEmbed,"blots/break":d.default,"blots/container":S.default,"blots/cursor":E.default,"blots/embed":b.default,"blots/inline":_.default,"blots/scroll":U.default,"blots/text":R.default,"modules/clipboard":x.default,"modules/history":D.default,"modules/keyboard":$.default}),u.default.register(v.default,d.default,E.default,_.default,U.default,R.default),r.default=h.default},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(1),u=function(){function f(h){this.domNode=h,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(f.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),f.create=function(h){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var m;return Array.isArray(this.tagName)?(typeof h=="string"&&(h=h.toUpperCase(),parseInt(h).toString()===h&&(h=parseInt(h))),typeof h=="number"?m=document.createElement(this.tagName[h-1]):this.tagName.indexOf(h)>-1?m=document.createElement(h):m=document.createElement(this.tagName[0])):m=document.createElement(this.tagName),this.className&&m.classList.add(this.className),m},f.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},f.prototype.clone=function(){var h=this.domNode.cloneNode(!1);return a.create(h)},f.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},f.prototype.deleteAt=function(h,m){var v=this.isolate(h,m);v.remove()},f.prototype.formatAt=function(h,m,v,y){var d=this.isolate(h,m);if(a.query(v,a.Scope.BLOT)!=null&&y)d.wrap(v,y);else if(a.query(v,a.Scope.ATTRIBUTE)!=null){var g=a.create(this.statics.scope);d.wrap(g),g.format(v,y)}},f.prototype.insertAt=function(h,m,v){var y=v==null?a.create("text",m):a.create(m,v),d=this.split(h);this.parent.insertBefore(y,d)},f.prototype.insertInto=function(h,m){m===void 0&&(m=null),this.parent!=null&&this.parent.children.remove(this);var v=null;h.children.insertBefore(this,m),m!=null&&(v=m.domNode),(this.domNode.parentNode!=h.domNode||this.domNode.nextSibling!=v)&&h.domNode.insertBefore(this.domNode,v),this.parent=h,this.attach()},f.prototype.isolate=function(h,m){var v=this.split(h);return v.split(m),v},f.prototype.length=function(){return 1},f.prototype.offset=function(h){return h===void 0&&(h=this.parent),this.parent==null||this==h?0:this.parent.children.offset(this)+this.parent.offset(h)},f.prototype.optimize=function(h){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},f.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},f.prototype.replace=function(h){h.parent!=null&&(h.parent.insertBefore(this,h.next),h.remove())},f.prototype.replaceWith=function(h,m){var v=typeof h=="string"?a.create(h,m):h;return v.replace(this),v},f.prototype.split=function(h,m){return h===0?this:this.next},f.prototype.update=function(h,m){},f.prototype.wrap=function(h,m){var v=typeof h=="string"?a.create(h,m):h;return this.parent!=null&&this.parent.insertBefore(v,this.next),v.appendChild(this),v},f.blotName="abstract",f}();r.default=u},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(12),u=o(32),f=o(33),h=o(1),m=function(){function v(y){this.attributes={},this.domNode=y,this.build()}return v.prototype.attribute=function(y,d){d?y.add(this.domNode,d)&&(y.value(this.domNode)!=null?this.attributes[y.attrName]=y:delete this.attributes[y.attrName]):(y.remove(this.domNode),delete this.attributes[y.attrName])},v.prototype.build=function(){var y=this;this.attributes={};var d=a.default.keys(this.domNode),g=u.default.keys(this.domNode),S=f.default.keys(this.domNode);d.concat(g).concat(S).forEach(function(T){var E=h.query(T,h.Scope.ATTRIBUTE);E instanceof a.default&&(y.attributes[E.attrName]=E)})},v.prototype.copy=function(y){var d=this;Object.keys(this.attributes).forEach(function(g){var S=d.attributes[g].value(d.domNode);y.format(g,S)})},v.prototype.move=function(y){var d=this;this.copy(y),Object.keys(this.attributes).forEach(function(g){d.attributes[g].remove(d.domNode)}),this.attributes={}},v.prototype.values=function(){var y=this;return Object.keys(this.attributes).reduce(function(d,g){return d[g]=y.attributes[g].value(y.domNode),d},{})},v}();r.default=m},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var d in y)y.hasOwnProperty(d)&&(v[d]=y[d])};return function(v,y){m(v,y);function d(){this.constructor=v}v.prototype=y===null?Object.create(y):(d.prototype=y.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(12);function f(m,v){var y=m.getAttribute("class")||"";return y.split(/\s+/).filter(function(d){return d.indexOf(v+"-")===0})}var h=function(m){a(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.keys=function(y){return(y.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},v.prototype.add=function(y,d){return this.canAdd(y,d)?(this.remove(y),y.classList.add(this.keyName+"-"+d),!0):!1},v.prototype.remove=function(y){var d=f(y,this.keyName);d.forEach(function(g){y.classList.remove(g)}),y.classList.length===0&&y.removeAttribute("class")},v.prototype.value=function(y){var d=f(y,this.keyName)[0]||"",g=d.slice(this.keyName.length+1);return this.canAdd(y,g)?g:""},v}(u.default);r.default=h},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var d in y)y.hasOwnProperty(d)&&(v[d]=y[d])};return function(v,y){m(v,y);function d(){this.constructor=v}v.prototype=y===null?Object.create(y):(d.prototype=y.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(12);function f(m){var v=m.split("-"),y=v.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return v[0]+y}var h=function(m){a(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.keys=function(y){return(y.getAttribute("style")||"").split(";").map(function(d){var g=d.split(":");return g[0].trim()})},v.prototype.add=function(y,d){return this.canAdd(y,d)?(y.style[f(this.keyName)]=d,!0):!1},v.prototype.remove=function(y){y.style[f(this.keyName)]="",y.getAttribute("style")||y.removeAttribute("style")},v.prototype.value=function(y){var d=y.style[f(this.keyName)];return this.canAdd(y,d)?d:""},v}(u.default);r.default=h},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function h(m,v){for(var y=0;y<v.length;y++){var d=v[y];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(m,d.key,d)}}return function(m,v,y){return v&&h(m.prototype,v),y&&h(m,y),m}}();function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}var f=function(){function h(m,v){u(this,h),this.quill=m,this.options=v,this.modules={}}return a(h,[{key:"init",value:function(){var v=this;Object.keys(this.options.modules).forEach(function(y){v.modules[y]==null&&v.addModule(y)})}},{key:"addModule",value:function(v){var y=this.quill.constructor.import("modules/"+v);return this.modules[v]=new y(this.quill,this.options.modules[v]||{}),this.modules[v]}}]),h}();f.DEFAULTS={modules:{}},f.themes={default:f},r.default=f},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function w(b,k){for(var _=0;_<k.length;_++){var L=k[_];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(b,L.key,L)}}return function(b,k,_){return k&&w(b.prototype,k),_&&w(b,_),b}}(),u=function w(b,k,_){b===null&&(b=Function.prototype);var L=Object.getOwnPropertyDescriptor(b,k);if(L===void 0){var U=Object.getPrototypeOf(b);return U===null?void 0:w(U,k,_)}else{if("value"in L)return L.value;var P=L.get;return P===void 0?void 0:P.call(_)}},f=o(0),h=y(f),m=o(7),v=y(m);function y(w){return w&&w.__esModule?w:{default:w}}function d(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function g(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function S(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var T="\uFEFF",E=function(w){S(b,w);function b(k){d(this,b);var _=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,k));return _.contentNode=document.createElement("span"),_.contentNode.setAttribute("contenteditable",!1),[].slice.call(_.domNode.childNodes).forEach(function(L){_.contentNode.appendChild(L)}),_.leftGuard=document.createTextNode(T),_.rightGuard=document.createTextNode(T),_.domNode.appendChild(_.leftGuard),_.domNode.appendChild(_.contentNode),_.domNode.appendChild(_.rightGuard),_}return a(b,[{key:"index",value:function(_,L){return _===this.leftGuard?0:_===this.rightGuard?1:u(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"index",this).call(this,_,L)}},{key:"restore",value:function(_){var L=void 0,U=void 0,P=_.data.split(T).join("");if(_===this.leftGuard)if(this.prev instanceof v.default){var R=this.prev.length();this.prev.insertAt(R,P),L={startNode:this.prev.domNode,startOffset:R+P.length}}else U=document.createTextNode(P),this.parent.insertBefore(h.default.create(U),this),L={startNode:U,startOffset:P.length};else _===this.rightGuard&&(this.next instanceof v.default?(this.next.insertAt(0,P),L={startNode:this.next.domNode,startOffset:P.length}):(U=document.createTextNode(P),this.parent.insertBefore(h.default.create(U),this.next),L={startNode:U,startOffset:P.length}));return _.data=T,L}},{key:"update",value:function(_,L){var U=this;_.forEach(function(P){if(P.type==="characterData"&&(P.target===U.leftGuard||P.target===U.rightGuard)){var R=U.restore(P.target);R&&(L.range=R)}})}}]),b}(h.default.Embed);r.default=E},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var a=o(0),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}var h={scope:u.default.Scope.BLOCK,whitelist:["right","center","justify"]},m=new u.default.Attributor.Attribute("align","align",h),v=new u.default.Attributor.Class("align","ql-align",h),y=new u.default.Attributor.Style("align","text-align",h);r.AlignAttribute=m,r.AlignClass=v,r.AlignStyle=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var a=o(0),u=h(a),f=o(26);function h(y){return y&&y.__esModule?y:{default:y}}var m=new u.default.Attributor.Class("background","ql-bg",{scope:u.default.Scope.INLINE}),v=new f.ColorAttributor("background","background-color",{scope:u.default.Scope.INLINE});r.BackgroundClass=m,r.BackgroundStyle=v},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var a=o(0),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}var h={scope:u.default.Scope.BLOCK,whitelist:["rtl"]},m=new u.default.Attributor.Attribute("direction","dir",h),v=new u.default.Attributor.Class("direction","ql-direction",h),y=new u.default.Attributor.Style("direction","direction",h);r.DirectionAttribute=m,r.DirectionClass=v,r.DirectionStyle=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var a=function(){function w(b,k){for(var _=0;_<k.length;_++){var L=k[_];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(b,L.key,L)}}return function(b,k,_){return k&&w(b.prototype,k),_&&w(b,_),b}}(),u=function w(b,k,_){b===null&&(b=Function.prototype);var L=Object.getOwnPropertyDescriptor(b,k);if(L===void 0){var U=Object.getPrototypeOf(b);return U===null?void 0:w(U,k,_)}else{if("value"in L)return L.value;var P=L.get;return P===void 0?void 0:P.call(_)}},f=o(0),h=m(f);function m(w){return w&&w.__esModule?w:{default:w}}function v(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function y(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function d(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var g={scope:h.default.Scope.INLINE,whitelist:["serif","monospace"]},S=new h.default.Attributor.Class("font","ql-font",g),T=function(w){d(b,w);function b(){return v(this,b),y(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"value",value:function(_){return u(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,_).replace(/["']/g,"")}}]),b}(h.default.Attributor.Style),E=new T("font","font-family",g);r.FontStyle=E,r.FontClass=S},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var a=o(0),u=f(a);function f(v){return v&&v.__esModule?v:{default:v}}var h=new u.default.Attributor.Class("size","ql-size",{scope:u.default.Scope.INLINE,whitelist:["small","large","huge"]}),m=new u.default.Attributor.Style("size","font-size",{scope:u.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=h,r.SizeStyle=m},function(t,r,o){t.exports={align:{"":o(76),center:o(77),right:o(78),justify:o(79)},background:o(80),blockquote:o(81),bold:o(82),clean:o(83),code:o(58),"code-block":o(58),color:o(84),direction:{"":o(85),rtl:o(86)},float:{center:o(87),full:o(88),left:o(89),right:o(90)},formula:o(91),header:{1:o(92),2:o(93)},italic:o(94),image:o(95),indent:{"+1":o(96),"-1":o(97)},link:o(98),list:{ordered:o(99),bullet:o(100),check:o(101)},script:{sub:o(102),super:o(103)},strike:o(104),underline:o(105),video:o(106)}},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var a=function(){function k(_,L){for(var U=0;U<L.length;U++){var P=L[U];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}return function(_,L,U){return L&&k(_.prototype,L),U&&k(_,U),_}}(),u=o(0),f=d(u),h=o(5),m=d(h),v=o(9),y=d(v);function d(k){return k&&k.__esModule?k:{default:k}}function g(k,_){if(!(k instanceof _))throw new TypeError("Cannot call a class as a function")}function S(k,_){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:k}function T(k,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);k.prototype=Object.create(_&&_.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(k,_):k.__proto__=_)}var E=function(k){T(_,k);function _(L,U){g(this,_);var P=S(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,L,U));return P.lastRecorded=0,P.ignoreChange=!1,P.clear(),P.quill.on(m.default.events.EDITOR_CHANGE,function(R,M,x,I){R!==m.default.events.TEXT_CHANGE||P.ignoreChange||(!P.options.userOnly||I===m.default.sources.USER?P.record(M,x):P.transform(M))}),P.quill.keyboard.addBinding({key:"Z",shortKey:!0},P.undo.bind(P)),P.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},P.redo.bind(P)),/Win/i.test(navigator.platform)&&P.quill.keyboard.addBinding({key:"Y",shortKey:!0},P.redo.bind(P)),P}return a(_,[{key:"change",value:function(U,P){if(this.stack[U].length!==0){var R=this.stack[U].pop();this.stack[P].push(R),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(R[U],m.default.sources.USER),this.ignoreChange=!1;var M=b(R[U]);this.quill.setSelection(M)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(U,P){if(U.ops.length!==0){this.stack.redo=[];var R=this.quill.getContents().diff(P),M=Date.now();if(this.lastRecorded+this.options.delay>M&&this.stack.undo.length>0){var x=this.stack.undo.pop();R=R.compose(x.undo),U=x.redo.compose(U)}else this.lastRecorded=M;this.stack.undo.push({redo:U,undo:R}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(U){this.stack.undo.forEach(function(P){P.undo=U.transform(P.undo,!0),P.redo=U.transform(P.redo,!0)}),this.stack.redo.forEach(function(P){P.undo=U.transform(P.undo,!0),P.redo=U.transform(P.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),_}(y.default);E.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function w(k){var _=k.ops[k.ops.length-1];return _==null?!1:_.insert!=null?typeof _.insert=="string"&&_.insert.endsWith(`
`):_.attributes!=null?Object.keys(_.attributes).some(function(L){return f.default.query(L,f.default.Scope.BLOCK)!=null}):!1}function b(k){var _=k.reduce(function(U,P){return U+=P.delete||0,U},0),L=k.length()-_;return w(k)&&(L-=1),L}r.default=E,r.getLastChangeIndex=b},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var a=function(){function q(W,ne){for(var te=0;te<ne.length;te++){var z=ne[te];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(W,z.key,z)}}return function(W,ne,te){return ne&&q(W.prototype,ne),te&&q(W,te),W}}(),u=function q(W,ne,te){W===null&&(W=Function.prototype);var z=Object.getOwnPropertyDescriptor(W,ne);if(z===void 0){var J=Object.getPrototypeOf(W);return J===null?void 0:q(J,ne,te)}else{if("value"in z)return z.value;var oe=z.get;return oe===void 0?void 0:oe.call(te)}},f=o(3),h=M(f),m=o(2),v=M(m),y=o(8),d=M(y),g=o(23),S=M(g),T=o(34),E=M(T),w=o(59),b=M(w),k=o(60),_=M(k),L=o(28),U=M(L),P=o(61),R=M(P);function M(q){return q&&q.__esModule?q:{default:q}}function x(q,W){if(!(q instanceof W))throw new TypeError("Cannot call a class as a function")}function I(q,W){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:q}function D(q,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);q.prototype=Object.create(W&&W.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(q,W):q.__proto__=W)}var N=[!1,"center","right","justify"],$=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],G=[!1,"serif","monospace"],Z=["1","2","3",!1],X=["small",!1,"large","huge"],ie=function(q){D(W,q);function W(ne,te){x(this,W);var z=I(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,ne,te)),J=function oe(se){if(!document.body.contains(ne.root))return document.body.removeEventListener("click",oe);z.tooltip!=null&&!z.tooltip.root.contains(se.target)&&document.activeElement!==z.tooltip.textbox&&!z.quill.hasFocus()&&z.tooltip.hide(),z.pickers!=null&&z.pickers.forEach(function(pe){pe.container.contains(se.target)||pe.close()})};return ne.emitter.listenDOM("click",document.body,J),z}return a(W,[{key:"addModule",value:function(te){var z=u(W.prototype.__proto__||Object.getPrototypeOf(W.prototype),"addModule",this).call(this,te);return te==="toolbar"&&this.extendToolbar(z),z}},{key:"buildButtons",value:function(te,z){te.forEach(function(J){var oe=J.getAttribute("class")||"";oe.split(/\s+/).forEach(function(se){if(se.startsWith("ql-")&&(se=se.slice(3),z[se]!=null))if(se==="direction")J.innerHTML=z[se][""]+z[se].rtl;else if(typeof z[se]=="string")J.innerHTML=z[se];else{var pe=J.value||"";pe!=null&&z[se][pe]&&(J.innerHTML=z[se][pe])}})})}},{key:"buildPickers",value:function(te,z){var J=this;this.pickers=te.map(function(se){if(se.classList.contains("ql-align"))return se.querySelector("option")==null&&j(se,N),new _.default(se,z.align);if(se.classList.contains("ql-background")||se.classList.contains("ql-color")){var pe=se.classList.contains("ql-background")?"background":"color";return se.querySelector("option")==null&&j(se,$,pe==="background"?"#ffffff":"#000000"),new b.default(se,z[pe])}else return se.querySelector("option")==null&&(se.classList.contains("ql-font")?j(se,G):se.classList.contains("ql-header")?j(se,Z):se.classList.contains("ql-size")&&j(se,X)),new U.default(se)});var oe=function(){J.pickers.forEach(function(pe){pe.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,oe)}}]),W}(E.default);ie.DEFAULTS=(0,h.default)(!0,{},E.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var W=this,ne=this.container.querySelector("input.ql-image[type=file]");ne==null&&(ne=document.createElement("input"),ne.setAttribute("type","file"),ne.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ne.classList.add("ql-image"),ne.addEventListener("change",function(){if(ne.files!=null&&ne.files[0]!=null){var te=new FileReader;te.onload=function(z){var J=W.quill.getSelection(!0);W.quill.updateContents(new v.default().retain(J.index).delete(J.length).insert({image:z.target.result}),d.default.sources.USER),W.quill.setSelection(J.index+1,d.default.sources.SILENT),ne.value=""},te.readAsDataURL(ne.files[0])}}),this.container.appendChild(ne)),ne.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Y=function(q){D(W,q);function W(ne,te){x(this,W);var z=I(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,ne,te));return z.textbox=z.root.querySelector('input[type="text"]'),z.listen(),z}return a(W,[{key:"listen",value:function(){var te=this;this.textbox.addEventListener("keydown",function(z){S.default.match(z,"enter")?(te.save(),z.preventDefault()):S.default.match(z,"escape")&&(te.cancel(),z.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),z!=null?this.textbox.value=z:te!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+te)||""),this.root.setAttribute("data-mode",te)}},{key:"restoreFocus",value:function(){var te=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=te}},{key:"save",value:function(){var te=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var z=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",te,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",te,d.default.sources.USER)),this.quill.root.scrollTop=z;break}case"video":te=H(te);case"formula":{if(!te)break;var J=this.quill.getSelection(!0);if(J!=null){var oe=J.index+J.length;this.quill.insertEmbed(oe,this.root.getAttribute("data-mode"),te,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(oe+1," ",d.default.sources.USER),this.quill.setSelection(oe+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),W}(R.default);function H(q){var W=q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return W?(W[1]||"https")+"://www.youtube.com/embed/"+W[2]+"?showinfo=0":(W=q.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(W[1]||"https")+"://player.vimeo.com/video/"+W[2]+"/":q}function j(q,W){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;W.forEach(function(te){var z=document.createElement("option");te===ne?z.setAttribute("selected","selected"):z.setAttribute("value",te),q.appendChild(z)})}r.BaseTooltip=Y,r.default=ie},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function u(){this.head=this.tail=null,this.length=0}return u.prototype.append=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];this.insertBefore(f[0],null),f.length>1&&this.append.apply(this,f.slice(1))},u.prototype.contains=function(f){for(var h,m=this.iterator();h=m();)if(h===f)return!0;return!1},u.prototype.insertBefore=function(f,h){f&&(f.next=h,h!=null?(f.prev=h.prev,h.prev!=null&&(h.prev.next=f),h.prev=f,h===this.head&&(this.head=f)):this.tail!=null?(this.tail.next=f,f.prev=this.tail,this.tail=f):(f.prev=null,this.head=this.tail=f),this.length+=1)},u.prototype.offset=function(f){for(var h=0,m=this.head;m!=null;){if(m===f)return h;h+=m.length(),m=m.next}return-1},u.prototype.remove=function(f){this.contains(f)&&(f.prev!=null&&(f.prev.next=f.next),f.next!=null&&(f.next.prev=f.prev),f===this.head&&(this.head=f.next),f===this.tail&&(this.tail=f.prev),this.length-=1)},u.prototype.iterator=function(f){return f===void 0&&(f=this.head),function(){var h=f;return f!=null&&(f=f.next),h}},u.prototype.find=function(f,h){h===void 0&&(h=!1);for(var m,v=this.iterator();m=v();){var y=m.length();if(f<y||h&&f===y&&(m.next==null||m.next.length()!==0))return[m,f];f-=y}return[null,0]},u.prototype.forEach=function(f){for(var h,m=this.iterator();h=m();)f(h)},u.prototype.forEachAt=function(f,h,m){if(!(h<=0))for(var v=this.find(f),y=v[0],d=v[1],g,S=f-d,T=this.iterator(y);(g=T())&&S<f+h;){var E=g.length();f>S?m(g,f-S,Math.min(h,S+E-f)):m(g,0,Math.min(E,f+h-S)),S+=E}},u.prototype.map=function(f){return this.reduce(function(h,m){return h.push(f(m)),h},[])},u.prototype.reduce=function(f,h){for(var m,v=this.iterator();m=v();)h=f(h,m);return h},u}();r.default=a},function(t,r,o){var a=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var S in g)g.hasOwnProperty(S)&&(d[S]=g[S])};return function(d,g){y(d,g);function S(){this.constructor=d}d.prototype=g===null?Object.create(g):(S.prototype=g.prototype,new S)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(17),f=o(1),h={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},m=100,v=function(y){a(d,y);function d(g){var S=y.call(this,g)||this;return S.scroll=S,S.observer=new MutationObserver(function(T){S.update(T)}),S.observer.observe(S.domNode,h),S.attach(),S}return d.prototype.detach=function(){y.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(g,S){this.update(),g===0&&S===this.length()?this.children.forEach(function(T){T.remove()}):y.prototype.deleteAt.call(this,g,S)},d.prototype.formatAt=function(g,S,T,E){this.update(),y.prototype.formatAt.call(this,g,S,T,E)},d.prototype.insertAt=function(g,S,T){this.update(),y.prototype.insertAt.call(this,g,S,T)},d.prototype.optimize=function(g,S){var T=this;g===void 0&&(g=[]),S===void 0&&(S={}),y.prototype.optimize.call(this,S);for(var E=[].slice.call(this.observer.takeRecords());E.length>0;)g.push(E.pop());for(var w=function(L,U){U===void 0&&(U=!0),!(L==null||L===T)&&L.domNode.parentNode!=null&&(L.domNode[f.DATA_KEY].mutations==null&&(L.domNode[f.DATA_KEY].mutations=[]),U&&w(L.parent))},b=function(L){L.domNode[f.DATA_KEY]==null||L.domNode[f.DATA_KEY].mutations==null||(L instanceof u.default&&L.children.forEach(b),L.optimize(S))},k=g,_=0;k.length>0;_+=1){if(_>=m)throw new Error("[Parchment] Maximum optimize iterations reached");for(k.forEach(function(L){var U=f.find(L.target,!0);U!=null&&(U.domNode===L.target&&(L.type==="childList"?(w(f.find(L.previousSibling,!1)),[].forEach.call(L.addedNodes,function(P){var R=f.find(P,!1);w(R,!1),R instanceof u.default&&R.children.forEach(function(M){w(M,!1)})})):L.type==="attributes"&&w(U.prev)),w(U))}),this.children.forEach(b),k=[].slice.call(this.observer.takeRecords()),E=k.slice();E.length>0;)g.push(E.pop())}},d.prototype.update=function(g,S){var T=this;S===void 0&&(S={}),g=g||this.observer.takeRecords(),g.map(function(E){var w=f.find(E.target,!0);return w==null?null:w.domNode[f.DATA_KEY].mutations==null?(w.domNode[f.DATA_KEY].mutations=[E],w):(w.domNode[f.DATA_KEY].mutations.push(E),null)}).forEach(function(E){E==null||E===T||E.domNode[f.DATA_KEY]==null||E.update(E.domNode[f.DATA_KEY].mutations||[],S)}),this.domNode[f.DATA_KEY].mutations!=null&&y.prototype.update.call(this,this.domNode[f.DATA_KEY].mutations,S),this.optimize(g,S)},d.blotName="scroll",d.defaultChild="block",d.scope=f.Scope.BLOCK_BLOT,d.tagName="DIV",d}(u.default);r.default=v},function(t,r,o){var a=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,d){y.__proto__=d}||function(y,d){for(var g in d)d.hasOwnProperty(g)&&(y[g]=d[g])};return function(y,d){v(y,d);function g(){this.constructor=y}y.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(18),f=o(1);function h(v,y){if(Object.keys(v).length!==Object.keys(y).length)return!1;for(var d in v)if(v[d]!==y[d])return!1;return!0}var m=function(v){a(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.formats=function(d){if(d.tagName!==y.tagName)return v.formats.call(this,d)},y.prototype.format=function(d,g){var S=this;d===this.statics.blotName&&!g?(this.children.forEach(function(T){T instanceof u.default||(T=T.wrap(y.blotName,!0)),S.attributes.copy(T)}),this.unwrap()):v.prototype.format.call(this,d,g)},y.prototype.formatAt=function(d,g,S,T){if(this.formats()[S]!=null||f.query(S,f.Scope.ATTRIBUTE)){var E=this.isolate(d,g);E.format(S,T)}else v.prototype.formatAt.call(this,d,g,S,T)},y.prototype.optimize=function(d){v.prototype.optimize.call(this,d);var g=this.formats();if(Object.keys(g).length===0)return this.unwrap();var S=this.next;S instanceof y&&S.prev===this&&h(g,S.formats())&&(S.moveChildren(this),S.remove())},y.blotName="inline",y.scope=f.Scope.INLINE_BLOT,y.tagName="SPAN",y}(u.default);r.default=m},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var d in y)y.hasOwnProperty(d)&&(v[d]=y[d])};return function(v,y){m(v,y);function d(){this.constructor=v}v.prototype=y===null?Object.create(y):(d.prototype=y.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(18),f=o(1),h=function(m){a(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.formats=function(y){var d=f.query(v.blotName).tagName;if(y.tagName!==d)return m.formats.call(this,y)},v.prototype.format=function(y,d){f.query(y,f.Scope.BLOCK)!=null&&(y===this.statics.blotName&&!d?this.replaceWith(v.blotName):m.prototype.format.call(this,y,d))},v.prototype.formatAt=function(y,d,g,S){f.query(g,f.Scope.BLOCK)!=null?this.format(g,S):m.prototype.formatAt.call(this,y,d,g,S)},v.prototype.insertAt=function(y,d,g){if(g==null||f.query(d,f.Scope.INLINE)!=null)m.prototype.insertAt.call(this,y,d,g);else{var S=this.split(y),T=f.create(d,g);S.parent.insertBefore(T,S)}},v.prototype.update=function(y,d){navigator.userAgent.match(/Trident/)?this.build():m.prototype.update.call(this,y,d)},v.blotName="block",v.scope=f.Scope.BLOCK_BLOT,v.tagName="P",v}(u.default);r.default=h},function(t,r,o){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var y in v)v.hasOwnProperty(y)&&(m[y]=v[y])};return function(m,v){h(m,v);function y(){this.constructor=m}m.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(19),f=function(h){a(m,h);function m(){return h!==null&&h.apply(this,arguments)||this}return m.formats=function(v){},m.prototype.format=function(v,y){h.prototype.formatAt.call(this,0,this.length(),v,y)},m.prototype.formatAt=function(v,y,d,g){v===0&&y===this.length()?this.format(d,g):h.prototype.formatAt.call(this,v,y,d,g)},m.prototype.formats=function(){return this.statics.formats(this.domNode)},m}(u.default);r.default=f},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var d in y)y.hasOwnProperty(d)&&(v[d]=y[d])};return function(v,y){m(v,y);function d(){this.constructor=v}v.prototype=y===null?Object.create(y):(d.prototype=y.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(19),f=o(1),h=function(m){a(v,m);function v(y){var d=m.call(this,y)||this;return d.text=d.statics.value(d.domNode),d}return v.create=function(y){return document.createTextNode(y)},v.value=function(y){var d=y.data;return d.normalize&&(d=d.normalize()),d},v.prototype.deleteAt=function(y,d){this.domNode.data=this.text=this.text.slice(0,y)+this.text.slice(y+d)},v.prototype.index=function(y,d){return this.domNode===y?d:-1},v.prototype.insertAt=function(y,d,g){g==null?(this.text=this.text.slice(0,y)+d+this.text.slice(y),this.domNode.data=this.text):m.prototype.insertAt.call(this,y,d,g)},v.prototype.length=function(){return this.text.length},v.prototype.optimize=function(y){m.prototype.optimize.call(this,y),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof v&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},v.prototype.position=function(y,d){return[this.domNode,y]},v.prototype.split=function(y,d){if(d===void 0&&(d=!1),!d){if(y===0)return this;if(y===this.length())return this.next}var g=f.create(this.domNode.splitText(y));return this.parent.insertBefore(g,this.next),this.text=this.statics.value(this.domNode),g},v.prototype.update=function(y,d){var g=this;y.some(function(S){return S.type==="characterData"&&S.target===g.domNode})&&(this.text=this.statics.value(this.domNode))},v.prototype.value=function(){return this.text},v.blotName="text",v.scope=f.Scope.INLINE_BLOT,v}(u.default);r.default=h},function(t,r,o){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var u=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(f,h){return arguments.length>1&&!this.contains(f)==!h?h:u.call(this,f)}}String.prototype.startsWith||(String.prototype.startsWith=function(f,h){return h=h||0,this.substr(h,f.length)===f}),String.prototype.endsWith||(String.prototype.endsWith=function(f,h){var m=this.toString();(typeof h!="number"||!isFinite(h)||Math.floor(h)!==h||h>m.length)&&(h=m.length),h-=f.length;var v=m.indexOf(f,h);return v!==-1&&v===h}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(h){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof h!="function")throw new TypeError("predicate must be a function");for(var m=Object(this),v=m.length>>>0,y=arguments[1],d,g=0;g<v;g++)if(d=m[g],h.call(y,d,g,m))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,r){var o=-1,a=1,u=0;function f(_,L,U){if(_==L)return _?[[u,_]]:[];(U<0||_.length<U)&&(U=null);var P=y(_,L),R=_.substring(0,P);_=_.substring(P),L=L.substring(P),P=d(_,L);var M=_.substring(_.length-P);_=_.substring(0,_.length-P),L=L.substring(0,L.length-P);var x=h(_,L);return R&&x.unshift([u,R]),M&&x.push([u,M]),S(x),U!=null&&(x=w(x,U)),x=b(x),x}function h(_,L){var U;if(!_)return[[a,L]];if(!L)return[[o,_]];var P=_.length>L.length?_:L,R=_.length>L.length?L:_,M=P.indexOf(R);if(M!=-1)return U=[[a,P.substring(0,M)],[u,R],[a,P.substring(M+R.length)]],_.length>L.length&&(U[0][0]=U[2][0]=o),U;if(R.length==1)return[[o,_],[a,L]];var x=g(_,L);if(x){var I=x[0],D=x[1],N=x[2],$=x[3],G=x[4],Z=f(I,N),X=f(D,$);return Z.concat([[u,G]],X)}return m(_,L)}function m(_,L){for(var U=_.length,P=L.length,R=Math.ceil((U+P)/2),M=R,x=2*R,I=new Array(x),D=new Array(x),N=0;N<x;N++)I[N]=-1,D[N]=-1;I[M+1]=0,D[M+1]=0;for(var $=U-P,G=$%2!=0,Z=0,X=0,ie=0,Y=0,H=0;H<R;H++){for(var j=-H+Z;j<=H-X;j+=2){var q=M+j,W;j==-H||j!=H&&I[q-1]<I[q+1]?W=I[q+1]:W=I[q-1]+1;for(var ne=W-j;W<U&&ne<P&&_.charAt(W)==L.charAt(ne);)W++,ne++;if(I[q]=W,W>U)X+=2;else if(ne>P)Z+=2;else if(G){var te=M+$-j;if(te>=0&&te<x&&D[te]!=-1){var z=U-D[te];if(W>=z)return v(_,L,W,ne)}}}for(var J=-H+ie;J<=H-Y;J+=2){var te=M+J,z;J==-H||J!=H&&D[te-1]<D[te+1]?z=D[te+1]:z=D[te-1]+1;for(var oe=z-J;z<U&&oe<P&&_.charAt(U-z-1)==L.charAt(P-oe-1);)z++,oe++;if(D[te]=z,z>U)Y+=2;else if(oe>P)ie+=2;else if(!G){var q=M+$-J;if(q>=0&&q<x&&I[q]!=-1){var W=I[q],ne=M+W-q;if(z=U-z,W>=z)return v(_,L,W,ne)}}}}return[[o,_],[a,L]]}function v(_,L,U,P){var R=_.substring(0,U),M=L.substring(0,P),x=_.substring(U),I=L.substring(P),D=f(R,M),N=f(x,I);return D.concat(N)}function y(_,L){if(!_||!L||_.charAt(0)!=L.charAt(0))return 0;for(var U=0,P=Math.min(_.length,L.length),R=P,M=0;U<R;)_.substring(M,R)==L.substring(M,R)?(U=R,M=U):P=R,R=Math.floor((P-U)/2+U);return R}function d(_,L){if(!_||!L||_.charAt(_.length-1)!=L.charAt(L.length-1))return 0;for(var U=0,P=Math.min(_.length,L.length),R=P,M=0;U<R;)_.substring(_.length-R,_.length-M)==L.substring(L.length-R,L.length-M)?(U=R,M=U):P=R,R=Math.floor((P-U)/2+U);return R}function g(_,L){var U=_.length>L.length?_:L,P=_.length>L.length?L:_;if(U.length<4||P.length*2<U.length)return null;function R(X,ie,Y){for(var H=X.substring(Y,Y+Math.floor(X.length/4)),j=-1,q="",W,ne,te,z;(j=ie.indexOf(H,j+1))!=-1;){var J=y(X.substring(Y),ie.substring(j)),oe=d(X.substring(0,Y),ie.substring(0,j));q.length<oe+J&&(q=ie.substring(j-oe,j)+ie.substring(j,j+J),W=X.substring(0,Y-oe),ne=X.substring(Y+J),te=ie.substring(0,j-oe),z=ie.substring(j+J))}return q.length*2>=X.length?[W,ne,te,z,q]:null}var M=R(U,P,Math.ceil(U.length/4)),x=R(U,P,Math.ceil(U.length/2)),I;if(!M&&!x)return null;x?M?I=M[4].length>x[4].length?M:x:I=x:I=M;var D,N,$,G;_.length>L.length?(D=I[0],N=I[1],$=I[2],G=I[3]):($=I[0],G=I[1],D=I[2],N=I[3]);var Z=I[4];return[D,N,$,G,Z]}function S(_){_.push([u,""]);for(var L=0,U=0,P=0,R="",M="",x;L<_.length;)switch(_[L][0]){case a:P++,M+=_[L][1],L++;break;case o:U++,R+=_[L][1],L++;break;case u:U+P>1?(U!==0&&P!==0&&(x=y(M,R),x!==0&&(L-U-P>0&&_[L-U-P-1][0]==u?_[L-U-P-1][1]+=M.substring(0,x):(_.splice(0,0,[u,M.substring(0,x)]),L++),M=M.substring(x),R=R.substring(x)),x=d(M,R),x!==0&&(_[L][1]=M.substring(M.length-x)+_[L][1],M=M.substring(0,M.length-x),R=R.substring(0,R.length-x))),U===0?_.splice(L-P,U+P,[a,M]):P===0?_.splice(L-U,U+P,[o,R]):_.splice(L-U-P,U+P,[o,R],[a,M]),L=L-U-P+(U?1:0)+(P?1:0)+1):L!==0&&_[L-1][0]==u?(_[L-1][1]+=_[L][1],_.splice(L,1)):L++,P=0,U=0,R="",M="";break}_[_.length-1][1]===""&&_.pop();var I=!1;for(L=1;L<_.length-1;)_[L-1][0]==u&&_[L+1][0]==u&&(_[L][1].substring(_[L][1].length-_[L-1][1].length)==_[L-1][1]?(_[L][1]=_[L-1][1]+_[L][1].substring(0,_[L][1].length-_[L-1][1].length),_[L+1][1]=_[L-1][1]+_[L+1][1],_.splice(L-1,1),I=!0):_[L][1].substring(0,_[L+1][1].length)==_[L+1][1]&&(_[L-1][1]+=_[L+1][1],_[L][1]=_[L][1].substring(_[L+1][1].length)+_[L+1][1],_.splice(L+1,1),I=!0)),L++;I&&S(_)}var T=f;T.INSERT=a,T.DELETE=o,T.EQUAL=u,t.exports=T;function E(_,L){if(L===0)return[u,_];for(var U=0,P=0;P<_.length;P++){var R=_[P];if(R[0]===o||R[0]===u){var M=U+R[1].length;if(L===M)return[P+1,_];if(L<M){_=_.slice();var x=L-U,I=[R[0],R[1].slice(0,x)],D=[R[0],R[1].slice(x)];return _.splice(P,1,I,D),[P+1,_]}else U=M}}throw new Error("cursor_pos is out of bounds!")}function w(_,L){var U=E(_,L),P=U[1],R=U[0],M=P[R],x=P[R+1];if(M==null)return _;if(M[0]!==u)return _;if(x!=null&&M[1]+x[1]===x[1]+M[1])return P.splice(R,2,x,M),k(P,R,2);if(x!=null&&x[1].indexOf(M[1])===0){P.splice(R,2,[x[0],M[1]],[0,M[1]]);var I=x[1].slice(M[1].length);return I.length>0&&P.splice(R+2,0,[x[0],I]),k(P,R,3)}else return _}function b(_){for(var L=!1,U=function(x){return x.charCodeAt(0)>=56320&&x.charCodeAt(0)<=57343},P=function(x){return x.charCodeAt(x.length-1)>=55296&&x.charCodeAt(x.length-1)<=56319},R=2;R<_.length;R+=1)_[R-2][0]===u&&P(_[R-2][1])&&_[R-1][0]===o&&U(_[R-1][1])&&_[R][0]===a&&U(_[R][1])&&(L=!0,_[R-1][1]=_[R-2][1].slice(-1)+_[R-1][1],_[R][1]=_[R-2][1].slice(-1)+_[R][1],_[R-2][1]=_[R-2][1].slice(0,-1));if(!L)return _;for(var M=[],R=0;R<_.length;R+=1)_[R][1].length>0&&M.push(_[R]);return M}function k(_,L,U){for(var P=L+U-1;P>=0&&P>=L-1;P--)if(P+1<_.length){var R=_[P],M=_[P+1];R[0]===M[1]&&_.splice(P,2,[R[0],R[1]+M[1]])}return _}},function(t,r){r=t.exports=typeof Object.keys=="function"?Object.keys:o,r.shim=o;function o(a){var u=[];for(var f in a)u.push(f);return u}},function(t,r){var o=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=t.exports=o?a:u,r.supported=a;function a(f){return Object.prototype.toString.call(f)=="[object Arguments]"}r.unsupported=u;function u(f){return f&&typeof f=="object"&&typeof f.length=="number"&&Object.prototype.hasOwnProperty.call(f,"callee")&&!Object.prototype.propertyIsEnumerable.call(f,"callee")||!1}},function(t,r){var o=Object.prototype.hasOwnProperty,a="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(a=!1));function f(m,v,y){this.fn=m,this.context=v,this.once=y||!1}function h(){this._events=new u,this._eventsCount=0}h.prototype.eventNames=function(){var v=[],y,d;if(this._eventsCount===0)return v;for(d in y=this._events)o.call(y,d)&&v.push(a?d.slice(1):d);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(y)):v},h.prototype.listeners=function(v,y){var d=a?a+v:v,g=this._events[d];if(y)return!!g;if(!g)return[];if(g.fn)return[g.fn];for(var S=0,T=g.length,E=new Array(T);S<T;S++)E[S]=g[S].fn;return E},h.prototype.emit=function(v,y,d,g,S,T){var E=a?a+v:v;if(!this._events[E])return!1;var w=this._events[E],b=arguments.length,k,_;if(w.fn){switch(w.once&&this.removeListener(v,w.fn,void 0,!0),b){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,y),!0;case 3:return w.fn.call(w.context,y,d),!0;case 4:return w.fn.call(w.context,y,d,g),!0;case 5:return w.fn.call(w.context,y,d,g,S),!0;case 6:return w.fn.call(w.context,y,d,g,S,T),!0}for(_=1,k=new Array(b-1);_<b;_++)k[_-1]=arguments[_];w.fn.apply(w.context,k)}else{var L=w.length,U;for(_=0;_<L;_++)switch(w[_].once&&this.removeListener(v,w[_].fn,void 0,!0),b){case 1:w[_].fn.call(w[_].context);break;case 2:w[_].fn.call(w[_].context,y);break;case 3:w[_].fn.call(w[_].context,y,d);break;case 4:w[_].fn.call(w[_].context,y,d,g);break;default:if(!k)for(U=1,k=new Array(b-1);U<b;U++)k[U-1]=arguments[U];w[_].fn.apply(w[_].context,k)}}return!0},h.prototype.on=function(v,y,d){var g=new f(y,d||this),S=a?a+v:v;return this._events[S]?this._events[S].fn?this._events[S]=[this._events[S],g]:this._events[S].push(g):(this._events[S]=g,this._eventsCount++),this},h.prototype.once=function(v,y,d){var g=new f(y,d||this,!0),S=a?a+v:v;return this._events[S]?this._events[S].fn?this._events[S]=[this._events[S],g]:this._events[S].push(g):(this._events[S]=g,this._eventsCount++),this},h.prototype.removeListener=function(v,y,d,g){var S=a?a+v:v;if(!this._events[S])return this;if(!y)return--this._eventsCount===0?this._events=new u:delete this._events[S],this;var T=this._events[S];if(T.fn)T.fn===y&&(!g||T.once)&&(!d||T.context===d)&&(--this._eventsCount===0?this._events=new u:delete this._events[S]);else{for(var E=0,w=[],b=T.length;E<b;E++)(T[E].fn!==y||g&&!T[E].once||d&&T[E].context!==d)&&w.push(T[E]);w.length?this._events[S]=w.length===1?w[0]:w:--this._eventsCount===0?this._events=new u:delete this._events[S]}return this},h.prototype.removeAllListeners=function(v){var y;return v?(y=a?a+v:v,this._events[y]&&(--this._eventsCount===0?this._events=new u:delete this._events[y])):(this._events=new u,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prototype.setMaxListeners=function(){return this},h.prefixed=a,h.EventEmitter=h,typeof t<"u"&&(t.exports=h)},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(he){return typeof he}:function(he){return he&&typeof Symbol=="function"&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he},u=function(){function he(me,Se){var Ae=[],ye=!0,Be=!1,ze=void 0;try{for(var Ke=me[Symbol.iterator](),st;!(ye=(st=Ke.next()).done)&&(Ae.push(st.value),!(Se&&Ae.length===Se));ye=!0);}catch(ut){Be=!0,ze=ut}finally{try{!ye&&Ke.return&&Ke.return()}finally{if(Be)throw ze}}return Ae}return function(me,Se){if(Array.isArray(me))return me;if(Symbol.iterator in Object(me))return he(me,Se);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function he(me,Se){for(var Ae=0;Ae<Se.length;Ae++){var ye=Se[Ae];ye.enumerable=ye.enumerable||!1,ye.configurable=!0,"value"in ye&&(ye.writable=!0),Object.defineProperty(me,ye.key,ye)}}return function(me,Se,Ae){return Se&&he(me.prototype,Se),Ae&&he(me,Ae),me}}(),h=o(3),m=D(h),v=o(2),y=D(v),d=o(0),g=D(d),S=o(5),T=D(S),E=o(10),w=D(E),b=o(9),k=D(b),_=o(36),L=o(37),U=o(13),P=D(U),R=o(26),M=o(38),x=o(39),I=o(40);function D(he){return he&&he.__esModule?he:{default:he}}function N(he,me,Se){return me in he?Object.defineProperty(he,me,{value:Se,enumerable:!0,configurable:!0,writable:!0}):he[me]=Se,he}function $(he,me){if(!(he instanceof me))throw new TypeError("Cannot call a class as a function")}function G(he,me){if(!he)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me&&(typeof me=="object"||typeof me=="function")?me:he}function Z(he,me){if(typeof me!="function"&&me!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof me);he.prototype=Object.create(me&&me.prototype,{constructor:{value:he,enumerable:!1,writable:!0,configurable:!0}}),me&&(Object.setPrototypeOf?Object.setPrototypeOf(he,me):he.__proto__=me)}var X=(0,w.default)("quill:clipboard"),ie="__ql-matcher",Y=[[Node.TEXT_NODE,mt],[Node.TEXT_NODE,We],["br",Ie],[Node.ELEMENT_NODE,We],[Node.ELEMENT_NODE,pe],[Node.ELEMENT_NODE,Xe],[Node.ELEMENT_NODE,se],[Node.ELEMENT_NODE,Ot],["li",Ve],["b",oe.bind(oe,"bold")],["i",oe.bind(oe,"italic")],["style",De]],H=[_.AlignAttribute,M.DirectionAttribute].reduce(function(he,me){return he[me.keyName]=me,he},{}),j=[_.AlignStyle,L.BackgroundStyle,R.ColorStyle,M.DirectionStyle,x.FontStyle,I.SizeStyle].reduce(function(he,me){return he[me.keyName]=me,he},{}),q=function(he){Z(me,he);function me(Se,Ae){$(this,me);var ye=G(this,(me.__proto__||Object.getPrototypeOf(me)).call(this,Se,Ae));return ye.quill.root.addEventListener("paste",ye.onPaste.bind(ye)),ye.container=ye.quill.addContainer("ql-clipboard"),ye.container.setAttribute("contenteditable",!0),ye.container.setAttribute("tabindex",-1),ye.matchers=[],Y.concat(ye.options.matchers).forEach(function(Be){var ze=u(Be,2),Ke=ze[0],st=ze[1];!Ae.matchVisual&&st===Xe||ye.addMatcher(Ke,st)}),ye}return f(me,[{key:"addMatcher",value:function(Ae,ye){this.matchers.push([Ae,ye])}},{key:"convert",value:function(Ae){if(typeof Ae=="string")return this.container.innerHTML=Ae.replace(/\>\r?\n +\</g,"><"),this.convert();var ye=this.quill.getFormat(this.quill.selection.savedRange.index);if(ye[P.default.blotName]){var Be=this.container.innerText;return this.container.innerHTML="",new y.default().insert(Be,N({},P.default.blotName,ye[P.default.blotName]))}var ze=this.prepareMatching(),Ke=u(ze,2),st=Ke[0],ut=Ke[1],rt=J(this.container,st,ut);return te(rt,`
`)&&rt.ops[rt.ops.length-1].attributes==null&&(rt=rt.compose(new y.default().retain(rt.length()-1).delete(1))),X.log("convert",this.container.innerHTML,rt),this.container.innerHTML="",rt}},{key:"dangerouslyPasteHTML",value:function(Ae,ye){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T.default.sources.API;if(typeof Ae=="string")this.quill.setContents(this.convert(Ae),ye),this.quill.setSelection(0,T.default.sources.SILENT);else{var ze=this.convert(ye);this.quill.updateContents(new y.default().retain(Ae).concat(ze),Be),this.quill.setSelection(Ae+ze.length(),T.default.sources.SILENT)}}},{key:"onPaste",value:function(Ae){var ye=this;if(!(Ae.defaultPrevented||!this.quill.isEnabled())){var Be=this.quill.getSelection(),ze=new y.default().retain(Be.index),Ke=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(T.default.sources.SILENT),setTimeout(function(){ze=ze.concat(ye.convert()).delete(Be.length),ye.quill.updateContents(ze,T.default.sources.USER),ye.quill.setSelection(ze.length()-Be.length,T.default.sources.SILENT),ye.quill.scrollingContainer.scrollTop=Ke,ye.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Ae=this,ye=[],Be=[];return this.matchers.forEach(function(ze){var Ke=u(ze,2),st=Ke[0],ut=Ke[1];switch(st){case Node.TEXT_NODE:Be.push(ut);break;case Node.ELEMENT_NODE:ye.push(ut);break;default:[].forEach.call(Ae.container.querySelectorAll(st),function(rt){rt[ie]=rt[ie]||[],rt[ie].push(ut)});break}}),[ye,Be]}}]),me}(k.default);q.DEFAULTS={matchers:[],matchVisual:!0};function W(he,me,Se){return(typeof me>"u"?"undefined":a(me))==="object"?Object.keys(me).reduce(function(Ae,ye){return W(Ae,ye,me[ye])},he):he.reduce(function(Ae,ye){return ye.attributes&&ye.attributes[me]?Ae.push(ye):Ae.insert(ye.insert,(0,m.default)({},N({},me,Se),ye.attributes))},new y.default)}function ne(he){if(he.nodeType!==Node.ELEMENT_NODE)return{};var me="__ql-computed-style";return he[me]||(he[me]=window.getComputedStyle(he))}function te(he,me){for(var Se="",Ae=he.ops.length-1;Ae>=0&&Se.length<me.length;--Ae){var ye=he.ops[Ae];if(typeof ye.insert!="string")break;Se=ye.insert+Se}return Se.slice(-1*me.length)===me}function z(he){if(he.childNodes.length===0)return!1;var me=ne(he);return["block","list-item"].indexOf(me.display)>-1}function J(he,me,Se){return he.nodeType===he.TEXT_NODE?Se.reduce(function(Ae,ye){return ye(he,Ae)},new y.default):he.nodeType===he.ELEMENT_NODE?[].reduce.call(he.childNodes||[],function(Ae,ye){var Be=J(ye,me,Se);return ye.nodeType===he.ELEMENT_NODE&&(Be=me.reduce(function(ze,Ke){return Ke(ye,ze)},Be),Be=(ye[ie]||[]).reduce(function(ze,Ke){return Ke(ye,ze)},Be)),Ae.concat(Be)},new y.default):new y.default}function oe(he,me,Se){return W(Se,he,!0)}function se(he,me){var Se=g.default.Attributor.Attribute.keys(he),Ae=g.default.Attributor.Class.keys(he),ye=g.default.Attributor.Style.keys(he),Be={};return Se.concat(Ae).concat(ye).forEach(function(ze){var Ke=g.default.query(ze,g.default.Scope.ATTRIBUTE);Ke!=null&&(Be[Ke.attrName]=Ke.value(he),Be[Ke.attrName])||(Ke=H[ze],Ke!=null&&(Ke.attrName===ze||Ke.keyName===ze)&&(Be[Ke.attrName]=Ke.value(he)||void 0),Ke=j[ze],Ke!=null&&(Ke.attrName===ze||Ke.keyName===ze)&&(Ke=j[ze],Be[Ke.attrName]=Ke.value(he)||void 0))}),Object.keys(Be).length>0&&(me=W(me,Be)),me}function pe(he,me){var Se=g.default.query(he);if(Se==null)return me;if(Se.prototype instanceof g.default.Embed){var Ae={},ye=Se.value(he);ye!=null&&(Ae[Se.blotName]=ye,me=new y.default().insert(Ae,Se.formats(he)))}else typeof Se.formats=="function"&&(me=W(me,Se.blotName,Se.formats(he)));return me}function Ie(he,me){return te(me,`
`)||me.insert(`
`),me}function De(){return new y.default}function Ve(he,me){var Se=g.default.query(he);if(Se==null||Se.blotName!=="list-item"||!te(me,`
`))return me;for(var Ae=-1,ye=he.parentNode;!ye.classList.contains("ql-clipboard");)(g.default.query(ye)||{}).blotName==="list"&&(Ae+=1),ye=ye.parentNode;return Ae<=0?me:me.compose(new y.default().retain(me.length()-1).retain(1,{indent:Ae}))}function We(he,me){return te(me,`
`)||(z(he)||me.length()>0&&he.nextSibling&&z(he.nextSibling))&&me.insert(`
`),me}function Xe(he,me){if(z(he)&&he.nextElementSibling!=null&&!te(me,`

`)){var Se=he.offsetHeight+parseFloat(ne(he).marginTop)+parseFloat(ne(he).marginBottom);he.nextElementSibling.offsetTop>he.offsetTop+Se*1.5&&me.insert(`
`)}return me}function Ot(he,me){var Se={},Ae=he.style||{};return Ae.fontStyle&&ne(he).fontStyle==="italic"&&(Se.italic=!0),Ae.fontWeight&&(ne(he).fontWeight.startsWith("bold")||parseInt(ne(he).fontWeight)>=700)&&(Se.bold=!0),Object.keys(Se).length>0&&(me=W(me,Se)),parseFloat(Ae.textIndent||0)>0&&(me=new y.default().insert("	").concat(me)),me}function mt(he,me){var Se=he.data;if(he.parentNode.tagName==="O:P")return me.insert(Se.trim());if(Se.trim().length===0&&he.parentNode.classList.contains("ql-clipboard"))return me;if(!ne(he.parentNode).whiteSpace.startsWith("pre")){var Ae=function(Be,ze){return ze=ze.replace(/[^\u00a0]/g,""),ze.length<1&&Be?" ":ze};Se=Se.replace(/\r\n/g," ").replace(/\n/g," "),Se=Se.replace(/\s\s+/g,Ae.bind(Ae,!0)),(he.previousSibling==null&&z(he.parentNode)||he.previousSibling!=null&&z(he.previousSibling))&&(Se=Se.replace(/^\s+/,Ae.bind(Ae,!1))),(he.nextSibling==null&&z(he.parentNode)||he.nextSibling!=null&&z(he.nextSibling))&&(Se=Se.replace(/\s+$/,Ae.bind(Ae,!1)))}return me.insert(Se)}r.default=q,r.matchAttributor=se,r.matchBlot=pe,r.matchNewline=We,r.matchSpacing=Xe,r.matchText=mt},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function S(T,E){for(var w=0;w<E.length;w++){var b=E[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(T,b.key,b)}}return function(T,E,w){return E&&S(T.prototype,E),w&&S(T,w),T}}(),u=function S(T,E,w){T===null&&(T=Function.prototype);var b=Object.getOwnPropertyDescriptor(T,E);if(b===void 0){var k=Object.getPrototypeOf(T);return k===null?void 0:S(k,E,w)}else{if("value"in b)return b.value;var _=b.get;return _===void 0?void 0:_.call(w)}},f=o(6),h=m(f);function m(S){return S&&S.__esModule?S:{default:S}}function v(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function y(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function d(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}var g=function(S){d(T,S);function T(){return v(this,T),y(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,[{key:"optimize",value:function(w){u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,w),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return u(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),T}(h.default);g.blotName="bold",g.tagName=["STRONG","B"],r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var a=function(){function I(D,N){var $=[],G=!0,Z=!1,X=void 0;try{for(var ie=D[Symbol.iterator](),Y;!(G=(Y=ie.next()).done)&&($.push(Y.value),!(N&&$.length===N));G=!0);}catch(H){Z=!0,X=H}finally{try{!G&&ie.return&&ie.return()}finally{if(Z)throw X}}return $}return function(D,N){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return I(D,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function I(D,N){for(var $=0;$<N.length;$++){var G=N[$];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(D,G.key,G)}}return function(D,N,$){return N&&I(D.prototype,N),$&&I(D,$),D}}(),f=o(2),h=w(f),m=o(0),v=w(m),y=o(5),d=w(y),g=o(10),S=w(g),T=o(9),E=w(T);function w(I){return I&&I.__esModule?I:{default:I}}function b(I,D,N){return D in I?Object.defineProperty(I,D,{value:N,enumerable:!0,configurable:!0,writable:!0}):I[D]=N,I}function k(I,D){if(!(I instanceof D))throw new TypeError("Cannot call a class as a function")}function _(I,D){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:I}function L(I,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);I.prototype=Object.create(D&&D.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(I,D):I.__proto__=D)}var U=(0,S.default)("quill:toolbar"),P=function(I){L(D,I);function D(N,$){k(this,D);var G=_(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,N,$));if(Array.isArray(G.options.container)){var Z=document.createElement("div");M(Z,G.options.container),N.container.parentNode.insertBefore(Z,N.container),G.container=Z}else typeof G.options.container=="string"?G.container=document.querySelector(G.options.container):G.container=G.options.container;if(!(G.container instanceof HTMLElement)){var X;return X=U.error("Container required for toolbar",G.options),_(G,X)}return G.container.classList.add("ql-toolbar"),G.controls=[],G.handlers={},Object.keys(G.options.handlers).forEach(function(ie){G.addHandler(ie,G.options.handlers[ie])}),[].forEach.call(G.container.querySelectorAll("button, select"),function(ie){G.attach(ie)}),G.quill.on(d.default.events.EDITOR_CHANGE,function(ie,Y){ie===d.default.events.SELECTION_CHANGE&&G.update(Y)}),G.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var ie=G.quill.selection.getRange(),Y=a(ie,1),H=Y[0];G.update(H)}),G}return u(D,[{key:"addHandler",value:function($,G){this.handlers[$]=G}},{key:"attach",value:function($){var G=this,Z=[].find.call($.classList,function(ie){return ie.indexOf("ql-")===0});if(Z){if(Z=Z.slice(3),$.tagName==="BUTTON"&&$.setAttribute("type","button"),this.handlers[Z]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[Z]==null){U.warn("ignoring attaching to disabled format",Z,$);return}if(v.default.query(Z)==null){U.warn("ignoring attaching to nonexistent format",Z,$);return}}var X=$.tagName==="SELECT"?"change":"click";$.addEventListener(X,function(ie){var Y=void 0;if($.tagName==="SELECT"){if($.selectedIndex<0)return;var H=$.options[$.selectedIndex];H.hasAttribute("selected")?Y=!1:Y=H.value||!1}else $.classList.contains("ql-active")?Y=!1:Y=$.value||!$.hasAttribute("value"),ie.preventDefault();G.quill.focus();var j=G.quill.selection.getRange(),q=a(j,1),W=q[0];if(G.handlers[Z]!=null)G.handlers[Z].call(G,Y);else if(v.default.query(Z).prototype instanceof v.default.Embed){if(Y=prompt("Enter "+Z),!Y)return;G.quill.updateContents(new h.default().retain(W.index).delete(W.length).insert(b({},Z,Y)),d.default.sources.USER)}else G.quill.format(Z,Y,d.default.sources.USER);G.update(W)}),this.controls.push([Z,$])}}},{key:"update",value:function($){var G=$==null?{}:this.quill.getFormat($);this.controls.forEach(function(Z){var X=a(Z,2),ie=X[0],Y=X[1];if(Y.tagName==="SELECT"){var H=void 0;if($==null)H=null;else if(G[ie]==null)H=Y.querySelector("option[selected]");else if(!Array.isArray(G[ie])){var j=G[ie];typeof j=="string"&&(j=j.replace(/\"/g,'\\"')),H=Y.querySelector('option[value="'+j+'"]')}H==null?(Y.value="",Y.selectedIndex=-1):H.selected=!0}else if($==null)Y.classList.remove("ql-active");else if(Y.hasAttribute("value")){var q=G[ie]===Y.getAttribute("value")||G[ie]!=null&&G[ie].toString()===Y.getAttribute("value")||G[ie]==null&&!Y.getAttribute("value");Y.classList.toggle("ql-active",q)}else Y.classList.toggle("ql-active",G[ie]!=null)})}}]),D}(E.default);P.DEFAULTS={};function R(I,D,N){var $=document.createElement("button");$.setAttribute("type","button"),$.classList.add("ql-"+D),N!=null&&($.value=N),I.appendChild($)}function M(I,D){Array.isArray(D[0])||(D=[D]),D.forEach(function(N){var $=document.createElement("span");$.classList.add("ql-formats"),N.forEach(function(G){if(typeof G=="string")R($,G);else{var Z=Object.keys(G)[0],X=G[Z];Array.isArray(X)?x($,Z,X):R($,Z,X)}}),I.appendChild($)})}function x(I,D,N){var $=document.createElement("select");$.classList.add("ql-"+D),N.forEach(function(G){var Z=document.createElement("option");G!==!1?Z.setAttribute("value",G):Z.setAttribute("selected","selected"),$.appendChild(Z)}),I.appendChild($)}P.DEFAULTS={container:null,handlers:{clean:function(){var D=this,N=this.quill.getSelection();if(N!=null)if(N.length==0){var $=this.quill.getFormat();Object.keys($).forEach(function(G){v.default.query(G,v.default.Scope.INLINE)!=null&&D.quill.format(G,!1)})}else this.quill.removeFormat(N,d.default.sources.USER)},direction:function(D){var N=this.quill.getFormat().align;D==="rtl"&&N==null?this.quill.format("align","right",d.default.sources.USER):!D&&N==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",D,d.default.sources.USER)},indent:function(D){var N=this.quill.getSelection(),$=this.quill.getFormat(N),G=parseInt($.indent||0);if(D==="+1"||D==="-1"){var Z=D==="+1"?1:-1;$.direction==="rtl"&&(Z*=-1),this.quill.format("indent",G+Z,d.default.sources.USER)}},link:function(D){D===!0&&(D=prompt("Enter link URL:")),this.quill.format("link",D,d.default.sources.USER)},list:function(D){var N=this.quill.getSelection(),$=this.quill.getFormat(N);D==="check"?$.list==="checked"||$.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",D,d.default.sources.USER)}}},r.default=P,r.addControls=M},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function S(T,E){for(var w=0;w<E.length;w++){var b=E[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(T,b.key,b)}}return function(T,E,w){return E&&S(T.prototype,E),w&&S(T,w),T}}(),u=function S(T,E,w){T===null&&(T=Function.prototype);var b=Object.getOwnPropertyDescriptor(T,E);if(b===void 0){var k=Object.getPrototypeOf(T);return k===null?void 0:S(k,E,w)}else{if("value"in b)return b.value;var _=b.get;return _===void 0?void 0:_.call(w)}},f=o(28),h=m(f);function m(S){return S&&S.__esModule?S:{default:S}}function v(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function y(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function d(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}var g=function(S){d(T,S);function T(E,w){v(this,T);var b=y(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,E));return b.label.innerHTML=w,b.container.classList.add("ql-color-picker"),[].slice.call(b.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(k){k.classList.add("ql-primary")}),b}return a(T,[{key:"buildItem",value:function(w){var b=u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"buildItem",this).call(this,w);return b.style.backgroundColor=w.getAttribute("value")||"",b}},{key:"selectItem",value:function(w,b){u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"selectItem",this).call(this,w,b);var k=this.label.querySelector(".ql-color-label"),_=w&&w.getAttribute("data-value")||"";k&&(k.tagName==="line"?k.style.stroke=_:k.style.fill=_)}}]),T}(h.default);r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function S(T,E){for(var w=0;w<E.length;w++){var b=E[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(T,b.key,b)}}return function(T,E,w){return E&&S(T.prototype,E),w&&S(T,w),T}}(),u=function S(T,E,w){T===null&&(T=Function.prototype);var b=Object.getOwnPropertyDescriptor(T,E);if(b===void 0){var k=Object.getPrototypeOf(T);return k===null?void 0:S(k,E,w)}else{if("value"in b)return b.value;var _=b.get;return _===void 0?void 0:_.call(w)}},f=o(28),h=m(f);function m(S){return S&&S.__esModule?S:{default:S}}function v(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function y(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function d(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}var g=function(S){d(T,S);function T(E,w){v(this,T);var b=y(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,E));return b.container.classList.add("ql-icon-picker"),[].forEach.call(b.container.querySelectorAll(".ql-picker-item"),function(k){k.innerHTML=w[k.getAttribute("data-value")||""]}),b.defaultItem=b.container.querySelector(".ql-selected"),b.selectItem(b.defaultItem),b}return a(T,[{key:"selectItem",value:function(w,b){u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"selectItem",this).call(this,w,b),w=w||this.defaultItem,this.label.innerHTML=w.innerHTML}}]),T}(h.default);r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function h(m,v){for(var y=0;y<v.length;y++){var d=v[y];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(m,d.key,d)}}return function(m,v,y){return v&&h(m.prototype,v),y&&h(m,y),m}}();function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}var f=function(){function h(m,v){var y=this;u(this,h),this.quill=m,this.boundsContainer=v||document.body,this.root=m.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){y.root.style.marginTop=-1*y.quill.root.scrollTop+"px"}),this.hide()}return a(h,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(v){var y=v.left+v.width/2-this.root.offsetWidth/2,d=v.bottom+this.quill.root.scrollTop;this.root.style.left=y+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var g=this.boundsContainer.getBoundingClientRect(),S=this.root.getBoundingClientRect(),T=0;if(S.right>g.right&&(T=g.right-S.right,this.root.style.left=y+T+"px"),S.left<g.left&&(T=g.left-S.left,this.root.style.left=y+T+"px"),S.bottom>g.bottom){var E=S.bottom-S.top,w=v.bottom-v.top+E;this.root.style.top=d-w+"px",this.root.classList.add("ql-flip")}return T}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),h}();r.default=f},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function x(I,D){var N=[],$=!0,G=!1,Z=void 0;try{for(var X=I[Symbol.iterator](),ie;!($=(ie=X.next()).done)&&(N.push(ie.value),!(D&&N.length===D));$=!0);}catch(Y){G=!0,Z=Y}finally{try{!$&&X.return&&X.return()}finally{if(G)throw Z}}return N}return function(I,D){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return x(I,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function x(I,D,N){I===null&&(I=Function.prototype);var $=Object.getOwnPropertyDescriptor(I,D);if($===void 0){var G=Object.getPrototypeOf(I);return G===null?void 0:x(G,D,N)}else{if("value"in $)return $.value;var Z=$.get;return Z===void 0?void 0:Z.call(N)}},f=function(){function x(I,D){for(var N=0;N<D.length;N++){var $=D[N];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(I,$.key,$)}}return function(I,D,N){return D&&x(I.prototype,D),N&&x(I,N),I}}(),h=o(3),m=k(h),v=o(8),y=k(v),d=o(43),g=k(d),S=o(27),T=k(S),E=o(15),w=o(41),b=k(w);function k(x){return x&&x.__esModule?x:{default:x}}function _(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")}function L(x,I){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:x}function U(x,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(x,I):x.__proto__=I)}var P=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],R=function(x){U(I,x);function I(D,N){_(this,I),N.modules.toolbar!=null&&N.modules.toolbar.container==null&&(N.modules.toolbar.container=P);var $=L(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,D,N));return $.quill.container.classList.add("ql-snow"),$}return f(I,[{key:"extendToolbar",value:function(N){N.container.classList.add("ql-snow"),this.buildButtons([].slice.call(N.container.querySelectorAll("button")),b.default),this.buildPickers([].slice.call(N.container.querySelectorAll("select")),b.default),this.tooltip=new M(this.quill,this.options.bounds),N.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function($,G){N.handlers.link.call(N,!G.format.link)})}}]),I}(g.default);R.DEFAULTS=(0,m.default)(!0,{},g.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){if(I){var D=this.quill.getSelection();if(D==null||D.length==0)return;var N=this.quill.getText(D);/^\S+@\S+\.\S+$/.test(N)&&N.indexOf("mailto:")!==0&&(N="mailto:"+N);var $=this.quill.theme.tooltip;$.edit("link",N)}else this.quill.format("link",!1)}}}}});var M=function(x){U(I,x);function I(D,N){_(this,I);var $=L(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,D,N));return $.preview=$.root.querySelector("a.ql-preview"),$}return f(I,[{key:"listen",value:function(){var N=this;u(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function($){N.root.classList.contains("ql-editing")?N.save():N.edit("link",N.preview.textContent),$.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function($){if(N.linkRange!=null){var G=N.linkRange;N.restoreFocus(),N.quill.formatText(G,"link",!1,y.default.sources.USER),delete N.linkRange}$.preventDefault(),N.hide()}),this.quill.on(y.default.events.SELECTION_CHANGE,function($,G,Z){if($!=null){if($.length===0&&Z===y.default.sources.USER){var X=N.quill.scroll.descendant(T.default,$.index),ie=a(X,2),Y=ie[0],H=ie[1];if(Y!=null){N.linkRange=new E.Range($.index-H,Y.length());var j=T.default.formats(Y.domNode);N.preview.textContent=j,N.preview.setAttribute("href",j),N.show(),N.position(N.quill.getBounds(N.linkRange));return}}else delete N.linkRange;N.hide()}})}},{key:"show",value:function(){u(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),I}(d.BaseTooltip);M.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=R},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(29),u=ye(a),f=o(36),h=o(38),m=o(64),v=o(65),y=ye(v),d=o(66),g=ye(d),S=o(67),T=ye(S),E=o(37),w=o(26),b=o(39),k=o(40),_=o(56),L=ye(_),U=o(68),P=ye(U),R=o(27),M=ye(R),x=o(69),I=ye(x),D=o(70),N=ye(D),$=o(71),G=ye($),Z=o(72),X=ye(Z),ie=o(73),Y=ye(ie),H=o(13),j=ye(H),q=o(74),W=ye(q),ne=o(75),te=ye(ne),z=o(57),J=ye(z),oe=o(41),se=ye(oe),pe=o(28),Ie=ye(pe),De=o(59),Ve=ye(De),We=o(60),Xe=ye(We),Ot=o(61),mt=ye(Ot),he=o(108),me=ye(he),Se=o(62),Ae=ye(Se);function ye(Be){return Be&&Be.__esModule?Be:{default:Be}}u.default.register({"attributors/attribute/direction":h.DirectionAttribute,"attributors/class/align":f.AlignClass,"attributors/class/background":E.BackgroundClass,"attributors/class/color":w.ColorClass,"attributors/class/direction":h.DirectionClass,"attributors/class/font":b.FontClass,"attributors/class/size":k.SizeClass,"attributors/style/align":f.AlignStyle,"attributors/style/background":E.BackgroundStyle,"attributors/style/color":w.ColorStyle,"attributors/style/direction":h.DirectionStyle,"attributors/style/font":b.FontStyle,"attributors/style/size":k.SizeStyle},!0),u.default.register({"formats/align":f.AlignClass,"formats/direction":h.DirectionClass,"formats/indent":m.IndentClass,"formats/background":E.BackgroundStyle,"formats/color":w.ColorStyle,"formats/font":b.FontClass,"formats/size":k.SizeClass,"formats/blockquote":y.default,"formats/code-block":j.default,"formats/header":g.default,"formats/list":T.default,"formats/bold":L.default,"formats/code":H.Code,"formats/italic":P.default,"formats/link":M.default,"formats/script":I.default,"formats/strike":N.default,"formats/underline":G.default,"formats/image":X.default,"formats/video":Y.default,"formats/list/item":S.ListItem,"modules/formula":W.default,"modules/syntax":te.default,"modules/toolbar":J.default,"themes/bubble":me.default,"themes/snow":Ae.default,"ui/icons":se.default,"ui/picker":Ie.default,"ui/icon-picker":Xe.default,"ui/color-picker":Ve.default,"ui/tooltip":mt.default},!0),r.default=u.default},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var a=function(){function T(E,w){for(var b=0;b<w.length;b++){var k=w[b];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(E,k.key,k)}}return function(E,w,b){return w&&T(E.prototype,w),b&&T(E,b),E}}(),u=function T(E,w,b){E===null&&(E=Function.prototype);var k=Object.getOwnPropertyDescriptor(E,w);if(k===void 0){var _=Object.getPrototypeOf(E);return _===null?void 0:T(_,w,b)}else{if("value"in k)return k.value;var L=k.get;return L===void 0?void 0:L.call(b)}},f=o(0),h=m(f);function m(T){return T&&T.__esModule?T:{default:T}}function v(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}function y(T,E){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:T}function d(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}var g=function(T){d(E,T);function E(){return v(this,E),y(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"add",value:function(b,k){if(k==="+1"||k==="-1"){var _=this.value(b)||0;k=k==="+1"?_+1:_-1}return k===0?(this.remove(b),!0):u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"add",this).call(this,b,k)}},{key:"canAdd",value:function(b,k){return u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,b,k)||u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,b,parseInt(k))}},{key:"value",value:function(b){return parseInt(u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,b))||void 0}}]),E}(h.default.Attributor.Class),S=new g("indent","ql-indent",{scope:h.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=S},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(4),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function m(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function v(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var y=function(d){v(g,d);function g(){return h(this,g),m(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(u.default);y.blotName="blockquote",y.tagName="blockquote",r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function g(S,T){for(var E=0;E<T.length;E++){var w=T[E];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(S,w.key,w)}}return function(S,T,E){return T&&g(S.prototype,T),E&&g(S,E),S}}(),u=o(4),f=h(u);function h(g){return g&&g.__esModule?g:{default:g}}function m(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}function v(g,S){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:g}function y(g,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);g.prototype=Object.create(S&&S.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(g,S):g.__proto__=S)}var d=function(g){y(S,g);function S(){return m(this,S),v(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return a(S,null,[{key:"formats",value:function(E){return this.tagName.indexOf(E.tagName)+1}}]),S}(f.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],r.default=d},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var a=function(){function _(L,U){for(var P=0;P<U.length;P++){var R=U[P];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(L,R.key,R)}}return function(L,U,P){return U&&_(L.prototype,U),P&&_(L,P),L}}(),u=function _(L,U,P){L===null&&(L=Function.prototype);var R=Object.getOwnPropertyDescriptor(L,U);if(R===void 0){var M=Object.getPrototypeOf(L);return M===null?void 0:_(M,U,P)}else{if("value"in R)return R.value;var x=R.get;return x===void 0?void 0:x.call(P)}},f=o(0),h=g(f),m=o(4),v=g(m),y=o(25),d=g(y);function g(_){return _&&_.__esModule?_:{default:_}}function S(_,L,U){return L in _?Object.defineProperty(_,L,{value:U,enumerable:!0,configurable:!0,writable:!0}):_[L]=U,_}function T(_,L){if(!(_ instanceof L))throw new TypeError("Cannot call a class as a function")}function E(_,L){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:_}function w(_,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);_.prototype=Object.create(L&&L.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(_,L):_.__proto__=L)}var b=function(_){w(L,_);function L(){return T(this,L),E(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return a(L,[{key:"format",value:function(P,R){P===k.blotName&&!R?this.replaceWith(h.default.create(this.statics.scope)):u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"format",this).call(this,P,R)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(P,R){return this.parent.isolate(this.offset(this.parent),this.length()),P===this.parent.statics.blotName?(this.parent.replaceWith(P,R),this):(this.parent.unwrap(),u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"replaceWith",this).call(this,P,R))}}],[{key:"formats",value:function(P){return P.tagName===this.tagName?void 0:u(L.__proto__||Object.getPrototypeOf(L),"formats",this).call(this,P)}}]),L}(v.default);b.blotName="list-item",b.tagName="LI";var k=function(_){w(L,_),a(L,null,[{key:"create",value:function(P){var R=P==="ordered"?"OL":"UL",M=u(L.__proto__||Object.getPrototypeOf(L),"create",this).call(this,R);return(P==="checked"||P==="unchecked")&&M.setAttribute("data-checked",P==="checked"),M}},{key:"formats",value:function(P){if(P.tagName==="OL")return"ordered";if(P.tagName==="UL")return P.hasAttribute("data-checked")?P.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function L(U){T(this,L);var P=E(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,U)),R=function(x){if(x.target.parentNode===U){var I=P.statics.formats(U),D=h.default.find(x.target);I==="checked"?D.format("list","unchecked"):I==="unchecked"&&D.format("list","checked")}};return U.addEventListener("touchstart",R),U.addEventListener("mousedown",R),P}return a(L,[{key:"format",value:function(P,R){this.children.length>0&&this.children.tail.format(P,R)}},{key:"formats",value:function(){return S({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(P,R){if(P instanceof b)u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertBefore",this).call(this,P,R);else{var M=R==null?this.length():R.offset(this),x=this.split(M);x.parent.insertBefore(P,x)}}},{key:"optimize",value:function(P){u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"optimize",this).call(this,P);var R=this.next;R!=null&&R.prev===this&&R.statics.blotName===this.statics.blotName&&R.domNode.tagName===this.domNode.tagName&&R.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(R.moveChildren(this),R.remove())}},{key:"replace",value:function(P){if(P.statics.blotName!==this.statics.blotName){var R=h.default.create(this.statics.defaultChild);P.moveChildren(R),this.appendChild(R)}u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"replace",this).call(this,P)}}]),L}(d.default);k.blotName="list",k.scope=h.default.Scope.BLOCK_BLOT,k.tagName=["OL","UL"],k.defaultChild="list-item",k.allowedChildren=[b],r.ListItem=b,r.default=k},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(56),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function m(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function v(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var y=function(d){v(g,d);function g(){return h(this,g),m(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(u.default);y.blotName="italic",y.tagName=["EM","I"],r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function S(T,E){for(var w=0;w<E.length;w++){var b=E[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(T,b.key,b)}}return function(T,E,w){return E&&S(T.prototype,E),w&&S(T,w),T}}(),u=function S(T,E,w){T===null&&(T=Function.prototype);var b=Object.getOwnPropertyDescriptor(T,E);if(b===void 0){var k=Object.getPrototypeOf(T);return k===null?void 0:S(k,E,w)}else{if("value"in b)return b.value;var _=b.get;return _===void 0?void 0:_.call(w)}},f=o(6),h=m(f);function m(S){return S&&S.__esModule?S:{default:S}}function v(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function y(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function d(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}var g=function(S){d(T,S);function T(){return v(this,T),y(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,null,[{key:"create",value:function(w){return w==="super"?document.createElement("sup"):w==="sub"?document.createElement("sub"):u(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this,w)}},{key:"formats",value:function(w){if(w.tagName==="SUB")return"sub";if(w.tagName==="SUP")return"super"}}]),T}(h.default);g.blotName="script",g.tagName=["SUB","SUP"],r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(6),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function m(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function v(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var y=function(d){v(g,d);function g(){return h(this,g),m(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(u.default);y.blotName="strike",y.tagName="S",r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(6),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function m(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function v(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var y=function(d){v(g,d);function g(){return h(this,g),m(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(u.default);y.blotName="underline",y.tagName="U",r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function E(w,b){for(var k=0;k<b.length;k++){var _=b[k];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(w,_.key,_)}}return function(w,b,k){return b&&E(w.prototype,b),k&&E(w,k),w}}(),u=function E(w,b,k){w===null&&(w=Function.prototype);var _=Object.getOwnPropertyDescriptor(w,b);if(_===void 0){var L=Object.getPrototypeOf(w);return L===null?void 0:E(L,b,k)}else{if("value"in _)return _.value;var U=_.get;return U===void 0?void 0:U.call(k)}},f=o(0),h=v(f),m=o(27);function v(E){return E&&E.__esModule?E:{default:E}}function y(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}function d(E,w){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:E}function g(E,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);E.prototype=Object.create(w&&w.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(E,w):E.__proto__=w)}var S=["alt","height","width"],T=function(E){g(w,E);function w(){return y(this,w),d(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"format",value:function(k,_){S.indexOf(k)>-1?_?this.domNode.setAttribute(k,_):this.domNode.removeAttribute(k):u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,k,_)}}],[{key:"create",value:function(k){var _=u(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,k);return typeof k=="string"&&_.setAttribute("src",this.sanitize(k)),_}},{key:"formats",value:function(k){return S.reduce(function(_,L){return k.hasAttribute(L)&&(_[L]=k.getAttribute(L)),_},{})}},{key:"match",value:function(k){return/\.(jpe?g|gif|png)$/.test(k)||/^data:image\/.+;base64/.test(k)}},{key:"sanitize",value:function(k){return(0,m.sanitize)(k,["http","https","data"])?k:"//:0"}},{key:"value",value:function(k){return k.getAttribute("src")}}]),w}(h.default.Embed);T.blotName="image",T.tagName="IMG",r.default=T},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function E(w,b){for(var k=0;k<b.length;k++){var _=b[k];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(w,_.key,_)}}return function(w,b,k){return b&&E(w.prototype,b),k&&E(w,k),w}}(),u=function E(w,b,k){w===null&&(w=Function.prototype);var _=Object.getOwnPropertyDescriptor(w,b);if(_===void 0){var L=Object.getPrototypeOf(w);return L===null?void 0:E(L,b,k)}else{if("value"in _)return _.value;var U=_.get;return U===void 0?void 0:U.call(k)}},f=o(4),h=o(27),m=v(h);function v(E){return E&&E.__esModule?E:{default:E}}function y(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}function d(E,w){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:E}function g(E,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);E.prototype=Object.create(w&&w.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(E,w):E.__proto__=w)}var S=["height","width"],T=function(E){g(w,E);function w(){return y(this,w),d(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"format",value:function(k,_){S.indexOf(k)>-1?_?this.domNode.setAttribute(k,_):this.domNode.removeAttribute(k):u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,k,_)}}],[{key:"create",value:function(k){var _=u(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,k);return _.setAttribute("frameborder","0"),_.setAttribute("allowfullscreen",!0),_.setAttribute("src",this.sanitize(k)),_}},{key:"formats",value:function(k){return S.reduce(function(_,L){return k.hasAttribute(L)&&(_[L]=k.getAttribute(L)),_},{})}},{key:"sanitize",value:function(k){return m.default.sanitize(k)}},{key:"value",value:function(k){return k.getAttribute("src")}}]),w}(f.BlockEmbed);T.blotName="video",T.className="ql-video",T.tagName="IFRAME",r.default=T},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var a=function(){function k(_,L){for(var U=0;U<L.length;U++){var P=L[U];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}return function(_,L,U){return L&&k(_.prototype,L),U&&k(_,U),_}}(),u=function k(_,L,U){_===null&&(_=Function.prototype);var P=Object.getOwnPropertyDescriptor(_,L);if(P===void 0){var R=Object.getPrototypeOf(_);return R===null?void 0:k(R,L,U)}else{if("value"in P)return P.value;var M=P.get;return M===void 0?void 0:M.call(U)}},f=o(35),h=g(f),m=o(5),v=g(m),y=o(9),d=g(y);function g(k){return k&&k.__esModule?k:{default:k}}function S(k,_){if(!(k instanceof _))throw new TypeError("Cannot call a class as a function")}function T(k,_){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:k}function E(k,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);k.prototype=Object.create(_&&_.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(k,_):k.__proto__=_)}var w=function(k){E(_,k);function _(){return S(this,_),T(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,null,[{key:"create",value:function(U){var P=u(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,U);return typeof U=="string"&&(window.katex.render(U,P,{throwOnError:!1,errorColor:"#f00"}),P.setAttribute("data-value",U)),P}},{key:"value",value:function(U){return U.getAttribute("data-value")}}]),_}(h.default);w.blotName="formula",w.className="ql-formula",w.tagName="SPAN";var b=function(k){E(_,k),a(_,null,[{key:"register",value:function(){v.default.register(w,!0)}}]);function _(){S(this,_);var L=T(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return L}return _}(d.default);r.FormulaBlot=w,r.default=b},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var a=function(){function U(P,R){for(var M=0;M<R.length;M++){var x=R[M];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(P,x.key,x)}}return function(P,R,M){return R&&U(P.prototype,R),M&&U(P,M),P}}(),u=function U(P,R,M){P===null&&(P=Function.prototype);var x=Object.getOwnPropertyDescriptor(P,R);if(x===void 0){var I=Object.getPrototypeOf(P);return I===null?void 0:U(I,R,M)}else{if("value"in x)return x.value;var D=x.get;return D===void 0?void 0:D.call(M)}},f=o(0),h=T(f),m=o(5),v=T(m),y=o(9),d=T(y),g=o(13),S=T(g);function T(U){return U&&U.__esModule?U:{default:U}}function E(U,P){if(!(U instanceof P))throw new TypeError("Cannot call a class as a function")}function w(U,P){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:U}function b(U,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);U.prototype=Object.create(P&&P.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(U,P):U.__proto__=P)}var k=function(U){b(P,U);function P(){return E(this,P),w(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return a(P,[{key:"replaceWith",value:function(M){this.domNode.textContent=this.domNode.textContent,this.attach(),u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replaceWith",this).call(this,M)}},{key:"highlight",value:function(M){var x=this.domNode.textContent;this.cachedText!==x&&((x.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=M(x),this.domNode.normalize(),this.attach()),this.cachedText=x)}}]),P}(S.default);k.className="ql-syntax";var _=new h.default.Attributor.Class("token","hljs",{scope:h.default.Scope.INLINE}),L=function(U){b(P,U),a(P,null,[{key:"register",value:function(){v.default.register(_,!0),v.default.register(k,!0)}}]);function P(R,M){E(this,P);var x=w(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,R,M));if(typeof x.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var I=null;return x.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(I),I=setTimeout(function(){x.highlight(),I=null},x.options.interval)}),x.highlight(),x}return a(P,[{key:"highlight",value:function(){var M=this;if(!this.quill.selection.composing){this.quill.update(v.default.sources.USER);var x=this.quill.getSelection();this.quill.scroll.descendants(k).forEach(function(I){I.highlight(M.options.highlight)}),this.quill.update(v.default.sources.SILENT),x!=null&&this.quill.setSelection(x,v.default.sources.SILENT)}}}]),P}(d.default);L.DEFAULTS={highlight:function(){return window.hljs==null?null:function(U){var P=window.hljs.highlightAuto(U);return P.value}}(),interval:1e3},r.CodeBlock=k,r.CodeToken=_,r.default=L},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,r){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,r){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,r){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,r){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var a=function P(R,M,x){R===null&&(R=Function.prototype);var I=Object.getOwnPropertyDescriptor(R,M);if(I===void 0){var D=Object.getPrototypeOf(R);return D===null?void 0:P(D,M,x)}else{if("value"in I)return I.value;var N=I.get;return N===void 0?void 0:N.call(x)}},u=function(){function P(R,M){for(var x=0;x<M.length;x++){var I=M[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(R,I.key,I)}}return function(R,M,x){return M&&P(R.prototype,M),x&&P(R,x),R}}(),f=o(3),h=E(f),m=o(8),v=E(m),y=o(43),d=E(y),g=o(15),S=o(41),T=E(S);function E(P){return P&&P.__esModule?P:{default:P}}function w(P,R){if(!(P instanceof R))throw new TypeError("Cannot call a class as a function")}function b(P,R){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:P}function k(P,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);P.prototype=Object.create(R&&R.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(P,R):P.__proto__=R)}var _=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],L=function(P){k(R,P);function R(M,x){w(this,R),x.modules.toolbar!=null&&x.modules.toolbar.container==null&&(x.modules.toolbar.container=_);var I=b(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,M,x));return I.quill.container.classList.add("ql-bubble"),I}return u(R,[{key:"extendToolbar",value:function(x){this.tooltip=new U(this.quill,this.options.bounds),this.tooltip.root.appendChild(x.container),this.buildButtons([].slice.call(x.container.querySelectorAll("button")),T.default),this.buildPickers([].slice.call(x.container.querySelectorAll("select")),T.default)}}]),R}(d.default);L.DEFAULTS=(0,h.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(R){R?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var U=function(P){k(R,P);function R(M,x){w(this,R);var I=b(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,M,x));return I.quill.on(v.default.events.EDITOR_CHANGE,function(D,N,$,G){if(D===v.default.events.SELECTION_CHANGE)if(N!=null&&N.length>0&&G===v.default.sources.USER){I.show(),I.root.style.left="0px",I.root.style.width="",I.root.style.width=I.root.offsetWidth+"px";var Z=I.quill.getLines(N.index,N.length);if(Z.length===1)I.position(I.quill.getBounds(N));else{var X=Z[Z.length-1],ie=I.quill.getIndex(X),Y=Math.min(X.length()-1,N.index+N.length-ie),H=I.quill.getBounds(new g.Range(ie,Y));I.position(H)}}else document.activeElement!==I.textbox&&I.quill.hasFocus()&&I.hide()}),I}return u(R,[{key:"listen",value:function(){var x=this;a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){x.root.classList.remove("ql-editing")}),this.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!x.root.classList.contains("ql-hidden")){var I=x.quill.getSelection();I!=null&&x.position(x.quill.getBounds(I))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(x){var I=a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"position",this).call(this,x),D=this.root.querySelector(".ql-tooltip-arrow");if(D.style.marginLeft="",I===0)return I;D.style.marginLeft=-1*I-D.offsetWidth/2+"px"}}]),R}(y.BaseTooltip);U.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=U,r.default=L},function(t,r,o){t.exports=o(63)}]).default})}(Ic)),Ic.exports}var ur,bw;function $L(){if(bw)return ur;bw=1;var n=ur&&ur.__extends||function(){var v=function(y,d){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,S){g.__proto__=S}||function(g,S){for(var T in S)S.hasOwnProperty(T)&&(g[T]=S[T])},v(y,d)};return function(y,d){v(y,d);function g(){this.constructor=y}y.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}(),e=ur&&ur.__assign||function(){return e=Object.assign||function(v){for(var y,d=1,g=arguments.length;d<g;d++){y=arguments[d];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(v[S]=y[S])}return v},e.apply(this,arguments)},t=ur&&ur.__spreadArrays||function(){for(var v=0,y=0,d=arguments.length;y<d;y++)v+=arguments[y].length;for(var g=Array(v),S=0,y=0;y<d;y++)for(var T=arguments[y],E=0,w=T.length;E<w;E++,S++)g[S]=T[E];return g},r=ur&&ur.__importDefault||function(v){return v&&v.__esModule?v:{default:v}},o=r(Gc()),a=r(Pw()),u=r(qL()),f=r(zL()),h=function(v){n(y,v);function y(d){var g=v.call(this,d)||this;g.dirtyProps=["modules","formats","bounds","theme","children"],g.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],g.state={generation:0},g.selection=null,g.onEditorChange=function(T,E,w,b){var k,_,L,U;T==="text-change"?(_=(k=g).onEditorChangeText)===null||_===void 0||_.call(k,g.editor.root.innerHTML,E,b,g.unprivilegedEditor):T==="selection-change"&&((U=(L=g).onEditorChangeSelection)===null||U===void 0||U.call(L,E,b,g.unprivilegedEditor))};var S=g.isControlled()?d.value:d.defaultValue;return g.value=S??"",g}return y.prototype.validateProps=function(d){var g;if(o.default.Children.count(d.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(o.default.Children.count(d.children)){var S=o.default.Children.only(d.children);if(((g=S)===null||g===void 0?void 0:g.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&d.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},y.prototype.shouldComponentUpdate=function(d,g){var S=this,T;if(this.validateProps(d),!this.editor||this.state.generation!==g.generation)return!0;if("value"in d){var E=this.getEditorContents(),w=(T=d.value,T??"");this.isEqualValue(w,E)||this.setEditorContents(this.editor,w)}return d.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,d.readOnly),t(this.cleanProps,this.dirtyProps).some(function(b){return!u.default(d[b],S.props[b])})},y.prototype.shouldComponentRegenerate=function(d){var g=this;return this.dirtyProps.some(function(S){return!u.default(d[S],g.props[S])})},y.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},y.prototype.componentWillUnmount=function(){this.destroyEditor()},y.prototype.componentDidUpdate=function(d,g){var S=this;if(this.editor&&this.shouldComponentRegenerate(d)){var T=this.editor.getContents(),E=this.editor.getSelection();this.regenerationSnapshot={delta:T,selection:E},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==g.generation){var w=this.regenerationSnapshot,T=w.delta,b=w.selection;delete this.regenerationSnapshot,this.instantiateEditor();var k=this.editor;k.setContents(T),m(function(){return S.setEditorSelection(k,b)})}},y.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},y.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},y.prototype.isControlled=function(){return"value"in this.props},y.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},y.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},y.prototype.createEditor=function(d,g){var S=new f.default(d,g);return g.tabIndex!=null&&this.setEditorTabIndex(S,g.tabIndex),this.hookEditor(S),S},y.prototype.hookEditor=function(d){this.unprivilegedEditor=this.makeUnprivilegedEditor(d),d.on("editor-change",this.onEditorChange)},y.prototype.unhookEditor=function(d){d.off("editor-change",this.onEditorChange)},y.prototype.getEditorContents=function(){return this.value},y.prototype.getEditorSelection=function(){return this.selection},y.prototype.isDelta=function(d){return d&&d.ops},y.prototype.isEqualValue=function(d,g){return this.isDelta(d)&&this.isDelta(g)?u.default(d.ops,g.ops):u.default(d,g)},y.prototype.setEditorContents=function(d,g){var S=this;this.value=g;var T=this.getEditorSelection();typeof g=="string"?d.setContents(d.clipboard.convert(g)):d.setContents(g),m(function(){return S.setEditorSelection(d,T)})},y.prototype.setEditorSelection=function(d,g){if(this.selection=g,g){var S=d.getLength();g.index=Math.max(0,Math.min(g.index,S-1)),g.length=Math.max(0,Math.min(g.length,S-1-g.index)),d.setSelection(g)}},y.prototype.setEditorTabIndex=function(d,g){var S,T;!((T=(S=d)===null||S===void 0?void 0:S.scroll)===null||T===void 0)&&T.domNode&&(d.scroll.domNode.tabIndex=g)},y.prototype.setEditorReadOnly=function(d,g){g?d.disable():d.enable()},y.prototype.makeUnprivilegedEditor=function(d){var g=d;return{getHTML:function(){return g.root.innerHTML},getLength:g.getLength.bind(g),getText:g.getText.bind(g),getContents:g.getContents.bind(g),getSelection:g.getSelection.bind(g),getBounds:g.getBounds.bind(g)}},y.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var d=a.default.findDOMNode(this.editingArea);if(!d)throw new Error("Cannot find element for editing area");if(d.nodeType===3)throw new Error("Editing area cannot be a text node");return d},y.prototype.renderEditingArea=function(){var d=this,g=this.props,S=g.children,T=g.preserveWhitespace,E=this.state.generation,w={key:E,ref:function(b){d.editingArea=b}};return o.default.Children.count(S)?o.default.cloneElement(o.default.Children.only(S),w):T?o.default.createElement("pre",e({},w)):o.default.createElement("div",e({},w))},y.prototype.render=function(){var d;return o.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(d=this.props.className,d??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},y.prototype.onEditorChangeText=function(d,g,S,T){var E,w;if(this.editor){var b=this.isDelta(this.value)?T.getContents():T.getHTML();b!==this.getEditorContents()&&(this.lastDeltaChangeSet=g,this.value=b,(w=(E=this.props).onChange)===null||w===void 0||w.call(E,d,g,S,T))}},y.prototype.onEditorChangeSelection=function(d,g,S){var T,E,w,b,k,_;if(this.editor){var L=this.getEditorSelection(),U=!L&&d,P=L&&!d;u.default(d,L)||(this.selection=d,(E=(T=this.props).onChangeSelection)===null||E===void 0||E.call(T,d,g,S),U?(b=(w=this.props).onFocus)===null||b===void 0||b.call(w,d,g,S):P&&((_=(k=this.props).onBlur)===null||_===void 0||_.call(k,L,g,S)))}},y.prototype.focus=function(){this.editor&&this.editor.focus()},y.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},y.displayName="React Quill",y.Quill=f.default,y.defaultProps={theme:"snow",modules:{},readOnly:!1},y}(o.default.Component);function m(v){Promise.resolve().then(v)}return ur=h,ur}var HL=$L();const Aw=Nm(HL),dc=350,Iw=()=>{const[n,e]=de.useState(!1),[t,r]=Je.useState(!1),[o,a]=Je.useState(0),[u,f]=Je.useState(0),{cpf:h,login:m}=de.useContext(ci),[v,y]=Je.useState(""),[d,g]=Je.useState(!1),[S,T]=Je.useState(0),[E,w]=Je.useState(""),b=kl(),{id:k}=Fw(),[_,L]=de.useState({title:"",price:"",cpu:"",motherBoard:"",cpuText:"",storage:"",tower:"",adApproved:!1,font:"",memory:"",graphicsCard:"",cooling:"",amoutCables:"",ages:"",link:"",motherBoardText:"",customerCpf:"",images:[]});de.useEffect(()=>{(async()=>{if(k){const X=await FS("products",k);console.log("Objeto selecionado   ",X),X&&typeof X=="object"&&Object.keys(X).length>0&&L({title:X.title,price:X.price,cpu:X.cpu,motherBoard:X.motherBoard,adApproved:X.adApproved,cpuText:X.cpuText,storage:X.storage,tower:X.tower,font:X.font,memory:X.memory,graphicsCard:X.graphicsCard,cooling:X.cooling,amoutCables:X.amoutCables,ages:X.ages,link:X.link,customerCpf:h,motherBoardText:X.motherBoardText,images:X.images})}})()},[]);const U=Z=>{let{id:X,value:ie}=Z.target;X==="price"&&(ie=ie.replace(/\D/g,""),ie=(parseFloat(ie)/100).toFixed(2),ie=`R$ ${ie.replace(".",",")}`),X!=="title"&&X!=="ages"&&X!=="motherBoardText"&&X!=="cpuText"&&X!=="link"&&(ie=ie.toUpperCase()),L(Y=>({...Y,[X]:ie}))},P=async Z=>{const X=Z.target.files[0];if(X)try{await eD(X,T,w,L)}catch(ie){console.error("Erro no upload:",ie)}},R=(Z,X)=>{Z.replace(/<[^>]*>/g,"").length<=dc&&y(Z),L(Y=>({...Y,[X]:Z}))},M=Z=>{const X=v.replace(/<[^>]*>/g,"");Z==="cpuText"?a(X.length):Z==="motherBoardText"&&f(X.length),X.length,X.length>=dc&&event.key!=="Backspace"&&event.preventDefault()},x=()=>{if(n===!1){e(!0);return}e(!1),I()},I=Z=>{(!Z||typeof Z.preventDefault!="function")&&(Z={preventDefault:()=>{}}),Z.preventDefault(),_.price=_.price.replace("R$ ","").replace(",00","");const X=JSON.parse(localStorage.getItem("products"))||[];if(k){_.customerCpf=D(h),X[k]=_,Y2("products",k,_),b("/");return}_.customerCpf=D(h),X.push(_),US("products",_),L({id:"",title:"",price:"",cpu:"",motherBoard:"",storage:"",tower:"",cpuText:"",motherBoardText:"",font:"",graphicsCard:"",customerCpf:"",memory:"",cooling:"",amoutCables:"",ages:"",link:"",images:[]}),r(!0)},D=Z=>Z.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),N=Z=>{L(X=>({...X,images:X.images.filter((ie,Y)=>Y!==Z)}))},$=Z=>Z.length>6?Z.slice(0,6)+"...":Z,G=Z=>{if(k){if(Z){J2("products",k),g(!1),b("/");return}g(!0)}};return K.jsxs("div",{className:ot.productFormContainer,children:[t&&K.jsx(ea,{message:"Seu produto foi criado com sucesso. Ele será avaliado e em breve estará disponível para venda.",setClose:r,adress:"/"}),d&&K.jsx(xm,{defaultMessage:"Você está prestes a excluir esse card. Tem certeza que quer continuar",setCloseMessage:g,goOn:()=>G(!0)}),n&&K.jsx(xm,{defaultMessage:"Tem certeza que quer enviar os dados?",setCloseMessage:e,goOn:()=>x()}),K.jsx("h2",{children:"Formulário para máquinas Dragon"}),K.jsxs("form",{className:ot.formContainer,children:[K.jsxs("div",{className:ot.formRow,children:[K.jsxs("div",{className:ot.formGroup,children:[K.jsx("label",{htmlFor:"title",children:"Título/Aplicação:"}),K.jsxs("select",{id:"title",value:_.title,onChange:U,required:!0,children:[K.jsx("option",{value:"",children:"Selecione sua opção"}),K.jsx("option",{value:"Gamer",children:"Gamer"}),K.jsx("option",{value:"Office",children:"Office"}),K.jsx("option",{value:"Render",children:"Render"}),K.jsx("option",{value:"Doméstico",children:"Doméstico"}),K.jsx("option",{value:"Edição de Video",children:"Edição de Video"})]})]}),K.jsxs("div",{className:ot.formGroup,children:[K.jsx("label",{htmlFor:"price",children:"Preço:"}),K.jsx("input",{type:"text",required:!0,id:"price",value:_.price,onChange:U})]})]}),K.jsxs("div",{className:ot.formRow,children:[K.jsxs("div",{className:ot.formGroup,children:[K.jsx("label",{htmlFor:"processador",children:"CPU:"}),K.jsx("input",{type:"text",required:!0,id:"cpu",value:_.cpu,onChange:U})]}),K.jsxs("div",{className:ot.formGroup,children:[K.jsx("label",{htmlFor:"motherBoard",children:"Placa Mãe:"}),K.jsx("input",{type:"text",required:!0,id:"motherBoard",value:_.motherBoard,onChange:U})]})]}),K.jsxs("div",{className:ot.formRow,children:[K.jsxs("div",{className:ot.formGroup,children:[K.jsx("label",{htmlFor:"processador",children:"Memória:"}),K.jsx("input",{type:"text",required:!0,id:"memory",value:_.memory,onChange:U})]}),K.jsxs("div",{className:ot.formGroup,children:[K.jsx("label",{htmlFor:"motherBoard",children:"Refrigeração:"}),K.jsx("input",{type:"text",required:!0,id:"cooling",value:_.cooling,onChange:U})]})]}),K.jsxs("div",{className:ot.formRow,children:[K.jsxs("div",{className:ot.formGroup,children:[K.jsx("label",{htmlFor:"graphicsCard",children:"Placa de Video:"}),K.jsx("input",{type:"text",id:"graphicsCard",value:_.graphicsCard,onChange:U})]}),K.jsxs("div",{className:ot.formGroup,children:[K.jsx("label",{htmlFor:"font",children:"Fonte:"}),K.jsx("input",{type:"text",id:"font",value:_.font,onChange:U})]})]}),K.jsxs("div",{className:ot.formRow,children:[K.jsxs("div",{className:ot.formGroup,children:[K.jsx("label",{htmlFor:"quantidadeDeCabos",children:" Cabos:"}),K.jsx("input",{type:"text",id:"amoutCables",value:_.amoutCables,onChange:U})]}),K.jsxs("div",{className:ot.formGroup,children:[K.jsx("label",{htmlFor:"font",children:"Gabinete:"}),K.jsx("input",{type:"text",id:"tower",value:_.tower,onChange:U})]})]}),K.jsxs("div",{className:ot.formRow,children:[K.jsxs("div",{className:ot.formGroup,children:[K.jsx("label",{htmlFor:"quantidadeDeCabos",children:"Data da Compra"}),K.jsx("input",{type:"date",id:"ages",value:_.ages,onChange:U})]}),K.jsxs("div",{className:ot.formGroup,children:[K.jsx("label",{htmlFor:"images",children:"Imagens:"}),K.jsx("input",{type:"file",onChange:P}),K.jsx("progress",{value:S,max:"100"}),E&&K.jsx("img",{className:ot.imagePreview,src:E,alt:"Uploaded file"})]})]}),K.jsx("div",{className:ot.containerImages,children:_&&_.images&&_.images.length>0&&_.images.map((Z,X)=>K.jsx("div",{children:K.jsxs("div",{className:ot.imageItem,children:[K.jsx("p",{children:$(Z)}),K.jsx("button",{type:"button",onClick:()=>N(X),children:"X"})]})},X))}),K.jsxs("div",{className:ot.formTextareaColumn,children:[K.jsxs("div",{className:ot.textareaColumn,children:[K.jsx("label",{htmlFor:"motherBoardText",children:"ESPECIFICAÇÕES PLACA MÃE:"}),K.jsx(Aw,{id:"motherBoardText",className:ot.textField,value:_.motherBoardText,onChange:Z=>R(Z,"motherBoardText"),onKeyDown:()=>M("motherBoardText")}),K.jsxs("div",{className:ot.characterCounter,children:[u,"/",dc," caracteres"]})]}),K.jsxs("div",{className:ot.textareaColumn,children:[K.jsx("label",{htmlFor:"cpuText",children:"ESPECIFICAÇÕES CPU:"}),K.jsx(Aw,{id:"cpuText",className:ot.textField,value:_.cpuText,onChange:Z=>R(Z,"cpuText"),onKeyDown:()=>M("cpuText")}),K.jsxs("div",{className:ot.characterCounter,children:[o,"/",dc," caracteres"]})]})]}),K.jsxs("div",{className:ot.btnContainer,children:[K.jsx("button",{type:"button",onClick:x,children:"Salvar"}),K.jsx("button",{type:"button",onClick:()=>G(!1),disabled:k===void 0,children:"Excluir"})]}),K.jsx("div",{className:ot.formRow,children:m&&K.jsxs("div",{className:ot.formGroup,children:[K.jsx("label",{htmlFor:"adApproved",children:"Aprovar Anúncio:"}),K.jsx("input",{type:"checkbox",id:"adApproved",checked:_.adApproved,onChange:Z=>L(X=>({...X,adApproved:Z.target.checked}))}),K.jsx("span",{children:"Somente os inputs checados aparecerão na área de cliente."})]})})]})]})},WL="_header_17lp4_1",KL="_containerMessage_17lp4_7",GL="_nav_17lp4_14",QL="_navList_17lp4_19",XL="_logout_17lp4_42",il={header:WL,containerMessage:KL,nav:GL,navList:QL,logout:XL},YL=({setCloseMessage:n,message:e})=>{const t=kl(),[r,o]=Je.useState(!0),[a,u]=Je.useState(!1),[f,h]=Je.useState(!1),{setCpf:m,setCurrentCustomer:v}=de.useContext(ci),[y,d]=Je.useState(""),g=b=>{const k=b.target.value;d(k)},S=()=>{t("/register"),n(!1)},T=async()=>{if(!y||y.length!==11){alert("Por favor, insira um número de CPF válido ou registre-se.");return}if(y){const k=(await VS("customer")).filter(_=>_.cpf.replace(/[.-]/g,"")===y);k.length>0?(m(y),v(k),n(!1),t("/user-rules")):(h(!0),t("/register"))}},E=()=>{u(!0)},w=()=>{o(!1),n(!0)};return K.jsx("div",{className:Ar.container,children:K.jsxs("div",{className:Ar.geralContainerConfirmMessage,children:[r&&K.jsxs("div",{children:[K.jsx("div",{children:e&&K.jsx("h1",{children:e})}),K.jsxs("div",{className:Ar.containerBtn,children:[K.jsx("button",{onClick:w,children:"Sim"}),K.jsx("button",{onClick:E,children:"Não"})]})]}),K.jsxs("div",{className:Ar.geralContainerConfirmMessage,children:[a&&K.jsx(ea,{message:"Somente computadores comprados na Dragon podem ser comercializados nesse site",setClose:u,setCloseMessage:n}),f&&K.jsx(ea,{message:"O seu Número de CPF não foi encontrado, por favor cadastre-se",setClose:u,setCloseMessage:n})]}),"setClose=",u,!r&&K.jsxs("div",{className:Ar.containerCpf,children:[K.jsx("h1",{children:"Já vendeu pela Dragon Computadores? Se sim entre com seu cpf caso contrário, cadastre-se!"}),K.jsx("input",{type:"text",value:y,onChange:g,onBlur:T,maxLength:"11",placeholder:"Digite seu CPF"}),K.jsx("button",{className:Ar.submitCpfBtn,onClick:T,children:"Buscar CPF"}),K.jsx("p",{className:Ar.register,onClick:S,children:"Registre-se"})]}),";"]})})},JL="_container_m0n7h_1",ZL="_label_m0n7h_11",eM="_input_m0n7h_16",rm={container:JL,label:ZL,input:eM},tM="_containerCloseBtn_17j0j_1",nM="_closeButton_17j0j_5",Rw={containerCloseBtn:tM,closeButton:nM},JS=({setOpenClose:n})=>K.jsx("div",{className:Rw.containerCloseBtn,children:K.jsx("button",{className:Rw.closeButton,onClick:()=>n(!1),children:"x"})});JS.propTypes={setOpenClose:Wt.func.isRequired};const ZS=({setOpenClose:n})=>{const[e,t]=Je.useState(""),{setLogin:r}=de.useContext(ci);Je.useEffect(()=>{localStorage.getItem("login")==="true"?localStorage.removeItem("login"):localStorage.setItem("login","true")},[n]);const o=u=>{t(u.target.value)},a=u=>{u.preventDefault(),e==="1234"?(localStorage.setItem("login","true"),r(!0),n(!1)):alert("Incorrect password")};return K.jsxs("div",{className:rm.container,children:[K.jsx(JS,{setOpenClose:n}),K.jsx("h2",{children:"Please enter your password"}),K.jsxs("form",{onSubmit:a,children:[K.jsxs("label",{className:rm.label,children:["Password:",K.jsx("input",{type:"password",value:e,onChange:o,className:rm.input})]}),K.jsx("button",{type:"submit",children:"Submit"})]})]})};ZS.propTypes={setOpenClose:Wt.func.isRequired};const rM=()=>{const[n,e]=Je.useState(!1),[t,r]=Je.useState(!1),[o,a]=Je.useState(""),{login:u,setLogin:f}=de.useContext(ci),h=y=>{y.preventDefault(),e(!0),a("O seu computador foi comprado na Dragon Computadores")},m=()=>{r(!0)},v=()=>{localStorage.removeItem("login"),window.location.reload(),f(!1)};return K.jsxs("header",{className:il.header,children:[t&&K.jsx(ZS,{setOpenClose:r}),K.jsx("div",{className:il.containerMessage,children:n&&K.jsx(YL,{setCloseMessage:e,message:o})}),K.jsxs("nav",{className:il.nav,children:[K.jsxs("ul",{className:il.navList,children:[K.jsx("li",{children:K.jsx(Yc,{to:"/",children:"Vitrine"})}),K.jsx("li",{children:K.jsx("a",{href:"",onClick:h,children:"Quero Vender"})})]}),u?K.jsx("h3",{className:il.logout,onClick:v,children:"Logado"}):K.jsx("button",{onClick:m})]})]})},iM="_container_vrzjw_1",oM="_SingleProductBox_vrzjw_1",sM="_containerSideMenu_vrzjw_17",aM="_imageThumbnails_vrzjw_23",lM="_thumbnail_vrzjw_38",uM="_mainImage_vrzjw_51",cM="_zoomContainer_vrzjw_60",fM="_productDetails_vrzjw_85",hM="_priceContainer_vrzjw_93",dM="_mainItems_vrzjw_101",pM="_highlightPrice_vrzjw_106",mM="_title_vrzjw_109",gM="_price_vrzjw_93",yM="_hugeText_vrzjw_119",vM="_adminContainer_vrzjw_138",Jt={container:iM,SingleProductBox:oM,containerSideMenu:sM,imageThumbnails:aM,thumbnail:lM,mainImage:uM,zoomContainer:cM,productDetails:fM,priceContainer:hM,mainItems:dM,highlightPrice:pM,title:mM,price:gM,hugeText:yM,adminContainer:vM},_M="_container_lkqp9_1",EM="_card_lkqp9_13",wM="_containerBtn_lkqp9_20",TM="_closeButton_lkqp9_24",SM="_detail_lkqp9_33",Sr={container:_M,card:EM,containerBtn:wM,closeButton:TM,detail:SM},eb=({customer:n,setClose:e})=>{Array.isArray(n)&&(n=n[0]),Je.useEffect(()=>{console.log("Customer",n)},[n]);const t=r=>{navigator.clipboard.writeText(r),alert("Copied to clipboard: "+r)};return K.jsx("div",{className:Sr.container,children:K.jsxs("div",{className:Sr.card,children:[K.jsx("div",{className:Sr.containerBtn,children:K.jsx("button",{className:Sr.closeButton,onClick:()=>e(!1),children:"X"})}),n?K.jsxs("div",{children:[K.jsx("h2",{children:"Customer Details"}),K.jsxs("div",{className:Sr.detail,onClick:()=>t(n.cnpj),children:[K.jsx("strong",{children:"CNPJ:"})," ",n.cnpj]}),K.jsxs("div",{className:Sr.detail,onClick:()=>t(n.cpf),children:[K.jsx("strong",{children:"CPF:"})," ",n.cpf]}),K.jsxs("div",{className:Sr.detail,onClick:()=>t(n.email),children:[K.jsx("strong",{children:"Email:"})," ",n.email]}),K.jsxs("div",{className:Sr.detail,onClick:()=>t(n.name),children:[K.jsx("strong",{children:"Name:"})," ",n.name]}),K.jsxs("div",{className:Sr.detail,onClick:()=>t(n.phone),children:[K.jsx("strong",{children:"Phone:"})," ",n.phone]}),K.jsxs("div",{className:Sr.detail,onClick:()=>t(n.purchaseDate),children:[K.jsx("strong",{children:"Purchase Date:"})," ",n.purchaseDate]})]}):K.jsx("div",{children:"Loading..."})]})})};eb.propTypes={customer:Wt.shape({cnpj:Wt.string,cpf:Wt.string,email:Wt.string,name:Wt.string,phone:Wt.string,purchaseDate:Wt.string}).isRequired,setClose:Wt.func.isRequired};function kw(n){return n.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")}function bM(n){const e={day:"2-digit",month:"2-digit",year:"numeric"};return new Date(n).toLocaleDateString("pt-BR",e)}const AM=()=>{const[n,e]=Je.useState(""),{login:t}=de.useContext(ci),[r,o]=Je.useState({}),[a,u]=Je.useState([]),[f,h]=Je.useState({}),[m,v]=Je.useState(!1),[y,d]=Je.useState({backgroundPosition:"0% 0%"}),[g,S]=Je.useState(window.innerWidth<650),{id:T}=Fw();Je.useEffect(()=>{(async()=>{const _=await FS("products",T);if(_&&typeof _=="object"&&Object.keys(_).length>0){const{images:L}=_;e(L[0]),u(L),o(_)}})()},[T]),Je.useEffect(()=>{r&&(console.log("Objeto   null",r),qS("customer","cpf",r.customerCpf).then(k=>{h(k)}).catch(k=>{console.error("Erro ao buscar cliente:",k)}))},[r]),Je.useEffect(()=>(window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)}),[]);const E=k=>{const{left:_,top:L,width:U,height:P}=k.target.getBoundingClientRect(),R=(k.pageX-_)/U*100,M=(k.pageY-L)/P*100;d({backgroundPosition:`${R}% ${M}%`})},w=()=>{S(window.innerWidth<650)},b=()=>{v(!0)};return K.jsxs("div",{className:Jt.container,children:[K.jsxs("div",{className:Jt.SingleProductBox,children:[m&&K.jsx(eb,{customer:f,setClose:v}),K.jsx("div",{className:Jt.containerSideMenu,children:K.jsx("div",{className:Jt.imageThumbnails,children:a&&a.length>0&&a.map((k,_)=>K.jsx("div",{className:Jt.thumbnail,onClick:()=>e(k),children:K.jsx("img",{src:k,alt:`Thumbnail ${_+1}`})},_))})}),K.jsx("div",{className:Jt.mainImage,children:K.jsx("div",{className:Jt.zoomContainer,onMouseMove:E,style:{backgroundRepeat:"no-repeat",backgroundImage:`url(${n})`,backgroundPosition:y.backgroundPosition},children:K.jsx("img",{src:n,alt:"Selected"})})}),r&&K.jsxs("div",{className:Jt.productDetails,children:[K.jsxs("div",{className:Jt.priceContainer,children:[K.jsxs("div",{className:Jt.mainItems,children:[K.jsxs("h2",{children:["Processador: ",K.jsx("span",{children:r.cpu})]}),K.jsxs("h2",{children:["Placa Mãe:",K.jsx("span",{children:r.motherBoard})]}),K.jsxs("h2",{children:["Memória:",K.jsx("span",{children:r.memory})]})]}),K.jsxs("div",{className:Jt.highlightPrice,children:[K.jsx("h3",{className:Jt.title,children:r.title}),K.jsxs("h3",{className:Jt.price,children:["R$ ",r.price,",00"]})]})]}),K.jsxs("h2",{children:["Código do produto:",K.jsx("span",{children:r.id})]}),K.jsxs("h2",{children:["Placa de Video:",K.jsx("span",{children:r.graphicsCard})]}),K.jsxs("h2",{children:["fonte: ",K.jsx("span",{children:r.font})]}),K.jsxs("h2",{children:["gabinete:",K.jsx("span",{children:r.tower})]}),K.jsxs("h2",{children:["Refrigeração:",K.jsx("span",{children:r.cooling})]}),K.jsxs("h2",{children:["Cabos :",K.jsx("span",{children:r.amoutCables})]}),K.jsxs("h2",{children:["Data de compra :",K.jsx("span",{children:bM(r.ages)})]}),K.jsxs("h3",{children:["Descrição da Placa mãe :",K.jsx("div",{className:Jt.hugeText,children:K.jsx("span",{dangerouslySetInnerHTML:{__html:r.motherBoardText}})})]}),K.jsxs("h3",{children:["Descrição do processador :",K.jsx("div",{className:Jt.hugeText,children:K.jsx("span",{className:Jt.hugeText,dangerouslySetInnerHTML:{__html:r.cpuText}})})]})]})]}),!g&&t&&K.jsxs("div",{className:Jt.adminContainer,children:[" ",K.jsx("button",{children:K.jsx(Yc,{to:`/form/${r.id}`,children:"Edição administrador"})})," ",K.jsx("button",{onClick:b,children:"Detalhes do Cliente"})," "]})]})},IM="_container_9wpaw_2",RM="_form_9wpaw_6",kM="_inputContainer_9wpaw_10",ji={container:IM,form:RM,inputContainer:kM},CM=()=>{const[n,e]=Je.useState({name:"",email:"",phone:"",cpf:"",cnpj:"",purchaseDate:""}),[t,r]=Je.useState(!1),{setCpf:o,setCurrentCustomer:a}=de.useContext(ci),u=m=>{const{name:v,value:y}=m.target,d=f(v,y);if(v==="cpf"||v==="cnpj"||v==="phone"){e({...n,[v]:d});return}if(v==="purchaseDate"){const[g,S,T]=y.split("-"),E=`${T}-${S}-${g}`;e({...n,[v]:E})}e({...n,[v]:y})},f=(m,v)=>m==="cpf"?v.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2"):m==="cnpj"?v.replace(/\D/g,"").replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d{1,2})$/,"$1-$2"):m==="phone"?v.replace(/\D/g,"").replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{4,5})(\d{4})$/,"$1-$2"):v,h=async m=>{if(m.preventDefault(),n.cpf===""&&n.cnpj===""){alert("Por favor, preencha o campo CPF ou CNPJ.");return}o(n.cpf),a(n);try{const v=await US("customer",n);console.log("Document created with ID: ",v.id),r(!0),e({name:"",email:"",phone:"",cpf:"",cnpj:"",purchaseDate:""})}catch(v){console.error("Error adding document: ",v),alert("Ocorreu um erro ao criar o cadastro. Por favor, tente novamente.")}};return K.jsxs("div",{className:ji.container,children:[t&&K.jsx(ea,{message:"Seu cadastro foi criado com sucesso, agora vc pode cadastrar o seu produto",setClose:r,adress:"/user-rules"}),K.jsxs("form",{className:ji.form,onSubmit:h,children:[K.jsxs("div",{className:ji.inputContainer,children:[K.jsx("label",{children:"Name:"}),K.jsx("input",{required:!0,type:"text",name:"name",value:n.name,onChange:u})]}),K.jsxs("div",{className:ji.inputContainer,children:[K.jsx("label",{children:"Email:"}),K.jsx("input",{required:!0,type:"email",name:"email",value:n.email,onChange:u})]}),K.jsxs("div",{className:ji.inputContainer,children:[K.jsx("label",{children:"Phone:"}),K.jsx("input",{required:!0,type:"text",name:"phone",maxLength:"15",value:n.phone,onChange:u})]}),K.jsxs("div",{className:ji.inputContainer,children:[K.jsx("label",{children:"CPF:"}),K.jsx("input",{type:"text",name:"cpf",maxLength:"14",value:n.cpf,onChange:u})]}),K.jsxs("div",{className:ji.inputContainer,children:[K.jsx("label",{children:"CNPJ:"}),K.jsx("input",{type:"text",name:"cnpj",maxLength:"18",value:n.cnpj,onChange:u})]}),K.jsxs("div",{className:ji.inputContainer,children:[K.jsx("label",{children:"Data de Compra:"}),K.jsx("input",{required:!0,type:"date",name:"purchaseDate",value:n.purchaseDate,onChange:u})]}),K.jsx("button",{type:"submit",children:"Submit"})]})]})},PM="_containerRules_1avi3_1",OM="_acceptTerms_1avi3_21",Cw={containerRules:PM,acceptTerms:OM},xM=()=>{const[n,e]=Je.useState(!1),[t,r]=Je.useState(!1),{cpf:o}=de.useContext(ci),a=async u=>{const f=u.target.checked;e(f),console.log("CPF GLOBAL",o);let h;h=kw(o);let m=await qS("customer","cpf",h);m.acceptTerms=f,console.log("Cliente com checked",m),await Z2("customer","cpf",h,m)&&r(!0)};return K.jsxs("div",{className:Cw.containerRules,children:[t&&K.jsx(ea,{setClose:r,message:`O portador do número de CPF ${kw(o)} aceitou os termos de uso da Dragon Computadores`,adress:"/form"}),K.jsx("h2",{children:"Regras de Uso para Anunciantes na Plataforma Dragon Computadores"}),K.jsxs("ul",{children:["1. Objetivo:",K.jsx("li",{children:"Estabelecer as diretrizes e resposabilidades dos anunciantes que utilizam a plataforma da Dragon Computadores para divulgar e vender computadores usados."})]}),K.jsxs("ul",{children:["2. 2. Responsabilidades do Anunciante:",K.jsx("li",{children:"Veracidade das Informações: Todas as informações e imagens publicadas nos anúncios são de responsabilidade exclusiva do anunciante. A Dragon Computadores não se responsabiliza por dados incorretos ou enganosos."}),K.jsx("li",{children:"Atualização do Anúncio: O anunciante deve informar imediatamente a Dragon Computadores caso o item anunciado já tenha sido vendido por outros meios ou se não deseja mais disponibilizá-lo para venda. Anúncios desatualizados serão removidos após notificação."}),K.jsx("li",{children:"Avaliação Pós-Venda: Caso o item seja vendido através da plataforma, o anunciante deve trazer o computador para avaliação pela Dragon Computadores, conforme acordado previamente."})]}),K.jsxs("ul",{children:["3. Uso da Plataforma:",K.jsx("li",{children:"A Dragon Computadores disponibiliza a plataforma como um serviço de intermediação e será a única responsável por intermediar a comunicação e negociação entre anunciantes e compradores. Não haverá contato direto entre as partes."}),K.jsx("li",{children:"Restrição de Produtos: Apenas computadores que foram originalmente vendidos pela Dragon Computadores podem ser anunciados e comercializados na plataforma. É proibido anunciar produtos de outras marcas ou origens, ou qualquer item que não seja relacionado a computadores."})]}),K.jsxs("ul",{children:["4. Serviços de Avaliação:",K.jsx("li",{children:"A Dragon Computadores oferece o serviço de avaliação das condições dos equipamentos como parte do processo de venda."}),K.jsx("li",{children:"Itens de Armazenamento (HDs, SSDs, etc.): Por se tratarem de itens com vida útil limitada, não garantimos o funcionamento ou a durabilidade de itens de armazenamento. A avaliação desses itens será feita com base em testes técnicos, mas sem qualquer garantia futura."})]}),K.jsxs("ul",{children:["5. Responsabilidade da Dragon Computadores:",K.jsx("li",{children:"A Dragon Computadores atua como facilitadora, oferecendo a plataforma para divulgação dos anúncios e intermediando todo o processo de negociação, mas não se responsabiliza por: Qualquer problema relacionado à condição do produto anunciado (danos, defeitos, etc.), exceto conforme avaliado e informado durante o processo de avaliação. Conteúdo publicado pelos anunciantes (informações, imagens, etc.)."})]}),K.jsxs("ul",{children:["6. Penalidades por Descumprimento:",K.jsx("li",{children:"Anúncios que violarem estas regras, incluindo a divulgação de produtos não vendidos originalmente pela Dragon Computadores, serão removidos sem aviso prévio."}),K.jsx("li",{children:"Anunciantes que descumprirem as regras de forma reiterada poderão ter o acesso à plataforma suspenso ou bloqueado permanentemente."})]}),K.jsx("h2",{children:"7. Aceitação das Regras:"}),K.jsx("p",{children:"Ao utilizar a plataforma, o anunciante declara estar ciente e de acordo com todas as regras aqui estabelecidas, assumindo total responsabilidade pelo conteúdo de seus anúncios e pelas obrigações descritas."}),K.jsx("h2",{children:"8. Vigência e Alterações:"}),K.jsx("p",{children:"Estas regras entram em vigor a partir da data de publicação e podem ser alteradas a qualquer momento pela Dragon Computadores, com aviso prévio aos usuários."}),K.jsxs("div",{className:Cw.acceptTerms,children:[K.jsx("input",{type:"checkbox",id:"acceptTerms",name:"acceptTerms",checked:n,onChange:a}),K.jsx("label",{htmlFor:"acceptTerms",children:"Eu aceito os termos de uso para publicar o meu computador na vitrine da Dragon Computadores"})]})]})},tb=({children:n})=>{const[e,t]=Je.useState({}),[r,o]=Je.useState(""),[a,u]=Je.useState("");return K.jsx(ci.Provider,{value:{currentCustomer:e,setCurrentCustomer:t,cpf:r,setCpf:o,setLogin:u,login:a},children:n})};tb.propTypes={children:Wt.node.isRequired};const NM=()=>K.jsx(tb,{children:K.jsxs(AI,{basename:"/dragon.io",children:[K.jsx(rM,{}),K.jsxs(tI,{children:[K.jsx(No,{path:"/",element:K.jsx(tD,{})}),K.jsx(No,{path:"/form",element:K.jsx(Iw,{})}),K.jsx(No,{path:"/form/:id",element:K.jsx(Iw,{})}),K.jsx(No,{path:"/singleProduct/:id",element:K.jsx(AM,{})}),K.jsx(No,{path:"/register",element:K.jsx(CM,{})}),K.jsx(No,{path:"/user-rules",element:K.jsx(xM,{})})]})]})});fA.createRoot(document.getElementById("root")).render(K.jsx(de.StrictMode,{children:K.jsx(NM,{})}));
