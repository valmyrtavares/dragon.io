(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vh={exports:{}},za={},Fh={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function mA(){if(Tv)return Qe;Tv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.iterator;function d(j){return j===null||typeof j!="object"?null:(j=g&&j[g]||j["@@iterator"],typeof j=="function"?j:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,T={};function _(j,q,K){this.props=j,this.context=q,this.refs=T,this.updater=K||y}_.prototype.isReactComponent={},_.prototype.setState=function(j,q){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,q,"setState")},_.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function E(){}E.prototype=_.prototype;function S(j,q,K){this.props=j,this.context=q,this.refs=T,this.updater=K||y}var P=S.prototype=new E;P.constructor=S,w(P,_.prototype),P.isPureReactComponent=!0;var I=Array.isArray,M=Object.prototype.hasOwnProperty,F={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function R(j,q,K){var ee,Z={},z=null,X=null;if(q!=null)for(ee in q.ref!==void 0&&(X=q.ref),q.key!==void 0&&(z=""+q.key),q)M.call(q,ee)&&!O.hasOwnProperty(ee)&&(Z[ee]=q[ee]);var oe=arguments.length-2;if(oe===1)Z.children=K;else if(1<oe){for(var se=Array(oe),pe=0;pe<oe;pe++)se[pe]=arguments[pe+2];Z.children=se}if(j&&j.defaultProps)for(ee in oe=j.defaultProps,oe)Z[ee]===void 0&&(Z[ee]=oe[ee]);return{$$typeof:n,type:j,key:z,ref:X,props:Z,_owner:F.current}}function N(j,q){return{$$typeof:n,type:j.type,key:q,ref:j.ref,props:j.props,_owner:j._owner}}function k(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function b(j){var q={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(K){return q[K]})}var D=/\/+/g;function L(j,q){return typeof j=="object"&&j!==null&&j.key!=null?b(""+j.key):q.toString(36)}function $(j,q,K,ee,Z){var z=typeof j;(z==="undefined"||z==="boolean")&&(j=null);var X=!1;if(j===null)X=!0;else switch(z){case"string":case"number":X=!0;break;case"object":switch(j.$$typeof){case n:case e:X=!0}}if(X)return X=j,Z=Z(X),j=ee===""?"."+L(X,0):ee,I(Z)?(K="",j!=null&&(K=j.replace(D,"$&/")+"/"),$(Z,q,K,"",function(pe){return pe})):Z!=null&&(k(Z)&&(Z=N(Z,K+(!Z.key||X&&X.key===Z.key?"":(""+Z.key).replace(D,"$&/")+"/")+j)),q.push(Z)),1;if(X=0,ee=ee===""?".":ee+":",I(j))for(var oe=0;oe<j.length;oe++){z=j[oe];var se=ee+L(z,oe);X+=$(z,q,K,se,Z)}else if(se=d(j),typeof se=="function")for(j=se.call(j),oe=0;!(z=j.next()).done;)z=z.value,se=ee+L(z,oe++),X+=$(z,q,K,se,Z);else if(z==="object")throw q=String(j),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return X}function G(j,q,K){if(j==null)return j;var ee=[],Z=0;return $(j,ee,"","",function(z){return q.call(K,z,Z++)}),ee}function re(j){if(j._status===-1){var q=j._result;q=q(),q.then(function(K){(j._status===0||j._status===-1)&&(j._status=1,j._result=K)},function(K){(j._status===0||j._status===-1)&&(j._status=2,j._result=K)}),j._status===-1&&(j._status=0,j._result=q)}if(j._status===1)return j._result.default;throw j._result}var ne={current:null},ie={transition:null},Y={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:ie,ReactCurrentOwner:F};function H(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:G,forEach:function(j,q,K){G(j,function(){q.apply(this,arguments)},K)},count:function(j){var q=0;return G(j,function(){q++}),q},toArray:function(j){return G(j,function(q){return q})||[]},only:function(j){if(!k(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Qe.Component=_,Qe.Fragment=t,Qe.Profiler=o,Qe.PureComponent=S,Qe.StrictMode=r,Qe.Suspense=h,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Qe.act=H,Qe.cloneElement=function(j,q,K){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ee=w({},j.props),Z=j.key,z=j.ref,X=j._owner;if(q!=null){if(q.ref!==void 0&&(z=q.ref,X=F.current),q.key!==void 0&&(Z=""+q.key),j.type&&j.type.defaultProps)var oe=j.type.defaultProps;for(se in q)M.call(q,se)&&!O.hasOwnProperty(se)&&(ee[se]=q[se]===void 0&&oe!==void 0?oe[se]:q[se])}var se=arguments.length-2;if(se===1)ee.children=K;else if(1<se){oe=Array(se);for(var pe=0;pe<se;pe++)oe[pe]=arguments[pe+2];ee.children=oe}return{$$typeof:n,type:j.type,key:Z,ref:z,props:ee,_owner:X}},Qe.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},Qe.createElement=R,Qe.createFactory=function(j){var q=R.bind(null,j);return q.type=j,q},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(j){return{$$typeof:f,render:j}},Qe.isValidElement=k,Qe.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:re}},Qe.memo=function(j,q){return{$$typeof:m,type:j,compare:q===void 0?null:q}},Qe.startTransition=function(j){var q=ie.transition;ie.transition={};try{j()}finally{ie.transition=q}},Qe.unstable_act=H,Qe.useCallback=function(j,q){return ne.current.useCallback(j,q)},Qe.useContext=function(j){return ne.current.useContext(j)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(j){return ne.current.useDeferredValue(j)},Qe.useEffect=function(j,q){return ne.current.useEffect(j,q)},Qe.useId=function(){return ne.current.useId()},Qe.useImperativeHandle=function(j,q,K){return ne.current.useImperativeHandle(j,q,K)},Qe.useInsertionEffect=function(j,q){return ne.current.useInsertionEffect(j,q)},Qe.useLayoutEffect=function(j,q){return ne.current.useLayoutEffect(j,q)},Qe.useMemo=function(j,q){return ne.current.useMemo(j,q)},Qe.useReducer=function(j,q,K){return ne.current.useReducer(j,q,K)},Qe.useRef=function(j){return ne.current.useRef(j)},Qe.useState=function(j){return ne.current.useState(j)},Qe.useSyncExternalStore=function(j,q,K){return ne.current.useSyncExternalStore(j,q,K)},Qe.useTransition=function(){return ne.current.useTransition()},Qe.version="18.3.1",Qe}var Sv;function xc(){return Sv||(Sv=1,Fh.exports=mA()),Fh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function gA(){if(Av)return za;Av=1;var n=xc(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,m){var v,g={},d=null,y=null;m!==void 0&&(d=""+m),h.key!==void 0&&(d=""+h.key),h.ref!==void 0&&(y=h.ref);for(v in h)r.call(h,v)&&!a.hasOwnProperty(v)&&(g[v]=h[v]);if(f&&f.defaultProps)for(v in h=f.defaultProps,h)g[v]===void 0&&(g[v]=h[v]);return{$$typeof:e,type:f,key:d,ref:y,props:g,_owner:o.current}}return za.Fragment=t,za.jsx=u,za.jsxs=u,za}var Iv;function yA(){return Iv||(Iv=1,Vh.exports=gA()),Vh.exports}var W=yA(),de=xc();const ot=pm(de);var Bu={},Uh={exports:{}},wn={},qh={exports:{}},Bh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function vA(){return bv||(bv=1,function(n){function e(ie,Y){var H=ie.length;ie.push(Y);e:for(;0<H;){var j=H-1>>>1,q=ie[j];if(0<o(q,Y))ie[j]=Y,ie[H]=q,H=j;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var Y=ie[0],H=ie.pop();if(H!==Y){ie[0]=H;e:for(var j=0,q=ie.length,K=q>>>1;j<K;){var ee=2*(j+1)-1,Z=ie[ee],z=ee+1,X=ie[z];if(0>o(Z,H))z<q&&0>o(X,Z)?(ie[j]=X,ie[z]=H,j=z):(ie[j]=Z,ie[ee]=H,j=ee);else if(z<q&&0>o(X,H))ie[j]=X,ie[z]=H,j=z;else break e}}return Y}function o(ie,Y){var H=ie.sortIndex-Y.sortIndex;return H!==0?H:ie.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var h=[],m=[],v=1,g=null,d=3,y=!1,w=!1,T=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(ie){for(var Y=t(m);Y!==null;){if(Y.callback===null)r(m);else if(Y.startTime<=ie)r(m),Y.sortIndex=Y.expirationTime,e(h,Y);else break;Y=t(m)}}function I(ie){if(T=!1,P(ie),!w)if(t(h)!==null)w=!0,re(M);else{var Y=t(m);Y!==null&&ne(I,Y.startTime-ie)}}function M(ie,Y){w=!1,T&&(T=!1,E(R),R=-1),y=!0;var H=d;try{for(P(Y),g=t(h);g!==null&&(!(g.expirationTime>Y)||ie&&!b());){var j=g.callback;if(typeof j=="function"){g.callback=null,d=g.priorityLevel;var q=j(g.expirationTime<=Y);Y=n.unstable_now(),typeof q=="function"?g.callback=q:g===t(h)&&r(h),P(Y)}else r(h);g=t(h)}if(g!==null)var K=!0;else{var ee=t(m);ee!==null&&ne(I,ee.startTime-Y),K=!1}return K}finally{g=null,d=H,y=!1}}var F=!1,O=null,R=-1,N=5,k=-1;function b(){return!(n.unstable_now()-k<N)}function D(){if(O!==null){var ie=n.unstable_now();k=ie;var Y=!0;try{Y=O(!0,ie)}finally{Y?L():(F=!1,O=null)}}else F=!1}var L;if(typeof S=="function")L=function(){S(D)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,G=$.port2;$.port1.onmessage=D,L=function(){G.postMessage(null)}}else L=function(){_(D,0)};function re(ie){O=ie,F||(F=!0,L())}function ne(ie,Y){R=_(function(){ie(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){w||y||(w=!0,re(M))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ie){switch(d){case 1:case 2:case 3:var Y=3;break;default:Y=d}var H=d;d=Y;try{return ie()}finally{d=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,Y){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var H=d;d=ie;try{return Y()}finally{d=H}},n.unstable_scheduleCallback=function(ie,Y,H){var j=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?j+H:j):H=j,ie){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=H+q,ie={id:v++,callback:Y,priorityLevel:ie,startTime:H,expirationTime:q,sortIndex:-1},H>j?(ie.sortIndex=H,e(m,ie),t(h)===null&&ie===t(m)&&(T?(E(R),R=-1):T=!0,ne(I,H-j))):(ie.sortIndex=q,e(h,ie),w||y||(w=!0,re(M))),ie},n.unstable_shouldYield=b,n.unstable_wrapCallback=function(ie){var Y=d;return function(){var H=d;d=Y;try{return ie.apply(this,arguments)}finally{d=H}}}}(Bh)),Bh}var kv;function _A(){return kv||(kv=1,qh.exports=vA()),qh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function EA(){if(Rv)return wn;Rv=1;var n=xc(),e=_A();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},g={};function d(i){return h.call(g,i)?!0:h.call(v,i)?!1:m.test(i)?g[i]=!0:(v[i]=!0,!1)}function y(i,s,l,p){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return p?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function w(i,s,l,p){if(s===null||typeof s>"u"||y(i,s,l,p))return!0;if(p)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function T(i,s,l,p,A,x,U){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=p,this.attributeNamespace=A,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=x,this.removeEmptyString=U}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){_[i]=new T(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];_[s]=new T(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){_[i]=new T(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){_[i]=new T(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){_[i]=new T(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){_[i]=new T(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){_[i]=new T(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){_[i]=new T(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){_[i]=new T(i,5,!1,i.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function S(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(E,S);_[s]=new T(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(E,S);_[s]=new T(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(E,S);_[s]=new T(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){_[i]=new T(i,1,!1,i.toLowerCase(),null,!1,!1)}),_.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){_[i]=new T(i,1,!1,i.toLowerCase(),null,!0,!0)});function P(i,s,l,p){var A=_.hasOwnProperty(s)?_[s]:null;(A!==null?A.type!==0:p||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(w(s,l,A,p)&&(l=null),p||A===null?d(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):A.mustUseProperty?i[A.propertyName]=l===null?A.type===3?!1:"":l:(s=A.attributeName,p=A.attributeNamespace,l===null?i.removeAttribute(s):(A=A.type,l=A===3||A===4&&l===!0?"":""+l,p?i.setAttributeNS(p,s,l):i.setAttribute(s,l))))}var I=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),F=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),b=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),ie=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=ie&&i[ie]||i["@@iterator"],typeof i=="function"?i:null)}var H=Object.assign,j;function q(i){if(j===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);j=s&&s[1]||""}return`
`+j+i}var K=!1;function ee(i,s){if(!i||K)return"";K=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(ce){var p=ce}Reflect.construct(i,[],s)}else{try{s.call()}catch(ce){p=ce}i.call(s.prototype)}else{try{throw Error()}catch(ce){p=ce}i()}}catch(ce){if(ce&&p&&typeof ce.stack=="string"){for(var A=ce.stack.split(`
`),x=p.stack.split(`
`),U=A.length-1,Q=x.length-1;1<=U&&0<=Q&&A[U]!==x[Q];)Q--;for(;1<=U&&0<=Q;U--,Q--)if(A[U]!==x[Q]){if(U!==1||Q!==1)do if(U--,Q--,0>Q||A[U]!==x[Q]){var J=`
`+A[U].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=U&&0<=Q);break}}}finally{K=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?q(i):""}function Z(i){switch(i.tag){case 5:return q(i.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return i=ee(i.type,!1),i;case 11:return i=ee(i.type.render,!1),i;case 1:return i=ee(i.type,!0),i;default:return""}}function z(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case F:return"Portal";case N:return"Profiler";case R:return"StrictMode";case L:return"Suspense";case $:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case b:return(i.displayName||"Context")+".Consumer";case k:return(i._context.displayName||"Context")+".Provider";case D:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case G:return s=i.displayName||null,s!==null?s:z(i.type)||"Memo";case re:s=i._payload,i=i._init;try{return z(i(s))}catch{}}return null}function X(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function oe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function se(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function pe(i){var s=se(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),p=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var A=l.get,x=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return A.call(this)},set:function(U){p=""+U,x.call(this,U)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return p},setValue:function(U){p=""+U},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function be(i){i._valueTracker||(i._valueTracker=pe(i))}function De(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),p="";return i&&(p=se(i)?i.checked?"true":"false":i.value),i=p,i!==l?(s.setValue(i),!0):!1}function Ve(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ke(i,s){var l=s.checked;return H({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Ye(i,s){var l=s.defaultValue==null?"":s.defaultValue,p=s.checked!=null?s.checked:s.defaultChecked;l=oe(s.value!=null?s.value:l),i._wrapperState={initialChecked:p,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ct(i,s){s=s.checked,s!=null&&P(i,"checked",s,!1)}function mt(i,s){Ct(i,s);var l=oe(s.value),p=s.type;if(l!=null)p==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?me(i,s.type,l):s.hasOwnProperty("defaultValue")&&me(i,s.type,oe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function he(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var p=s.type;if(!(p!=="submit"&&p!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function me(i,s,l){(s!=="number"||Ve(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Se=Array.isArray;function Ie(i,s,l,p){if(i=i.options,s){s={};for(var A=0;A<l.length;A++)s["$"+l[A]]=!0;for(l=0;l<i.length;l++)A=s.hasOwnProperty("$"+i[l].value),i[l].selected!==A&&(i[l].selected=A),A&&p&&(i[l].defaultSelected=!0)}else{for(l=""+oe(l),s=null,A=0;A<i.length;A++){if(i[A].value===l){i[A].selected=!0,p&&(i[A].defaultSelected=!0);return}s!==null||i[A].disabled||(s=i[A])}s!==null&&(s.selected=!0)}}function ye(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return H({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Be(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Se(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:oe(l)}}function ze(i,s){var l=oe(s.value),p=oe(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),p!=null&&(i.defaultValue=""+p)}function We(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function st(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?st(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var nt,Zi=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,p,A){MSApp.execUnsafeLocalFunction(function(){return i(s,l,p,A)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(nt=nt||document.createElement("div"),nt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=nt.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ct(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Jt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eo=["Webkit","ms","Moz","O"];Object.keys(Jt).forEach(function(i){eo.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),Jt[s]=Jt[i]})});function ea(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Jt.hasOwnProperty(i)&&Jt[i]?(""+s).trim():s+"px"}function ta(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var p=l.indexOf("--")===0,A=ea(l,s[l],p);l==="float"&&(l="cssFloat"),p?i.setProperty(l,A):i[l]=A}}var na=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ra(i,s){if(s){if(na[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ia(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var to=null;function qo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Bo=null,Nn=null,ar=null;function zo(i){if(i=Ra(i)){if(typeof Bo!="function")throw Error(t(280));var s=i.stateNode;s&&(s=nu(s),Bo(i.stateNode,i.type,s))}}function lr(i){Nn?ar?ar.push(i):ar=[i]:Nn=i}function oa(){if(Nn){var i=Nn,s=ar;if(ar=Nn=null,zo(i),s)for(i=0;i<s.length;i++)zo(s[i])}}function no(i,s){return i(s)}function sa(){}var Lr=!1;function aa(i,s,l){if(Lr)return i(s,l);Lr=!0;try{return no(i,s,l)}finally{Lr=!1,(Nn!==null||ar!==null)&&(sa(),oa())}}function bt(i,s){var l=i.stateNode;if(l===null)return null;var p=nu(l);if(p===null)return null;l=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var $o=!1;if(f)try{var zn={};Object.defineProperty(zn,"passive",{get:function(){$o=!0}}),window.addEventListener("test",zn,zn),window.removeEventListener("test",zn,zn)}catch{$o=!1}function ro(i,s,l,p,A,x,U,Q,J){var ce=Array.prototype.slice.call(arguments,3);try{s.apply(l,ce)}catch(_e){this.onError(_e)}}var io=!1,Ho=null,$n=!1,la=null,hf={onError:function(i){io=!0,Ho=i}};function Ko(i,s,l,p,A,x,U,Q,J){io=!1,Ho=null,ro.apply(hf,arguments)}function kl(i,s,l,p,A,x,U,Q,J){if(Ko.apply(this,arguments),io){if(io){var ce=Ho;io=!1,Ho=null}else throw Error(t(198));$n||($n=!0,la=ce)}}function Hn(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function oo(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Kn(i){if(Hn(i)!==i)throw Error(t(188))}function Rl(i){var s=i.alternate;if(!s){if(s=Hn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,p=s;;){var A=l.return;if(A===null)break;var x=A.alternate;if(x===null){if(p=A.return,p!==null){l=p;continue}break}if(A.child===x.child){for(x=A.child;x;){if(x===l)return Kn(A),i;if(x===p)return Kn(A),s;x=x.sibling}throw Error(t(188))}if(l.return!==p.return)l=A,p=x;else{for(var U=!1,Q=A.child;Q;){if(Q===l){U=!0,l=A,p=x;break}if(Q===p){U=!0,p=A,l=x;break}Q=Q.sibling}if(!U){for(Q=x.child;Q;){if(Q===l){U=!0,l=x,p=A;break}if(Q===p){U=!0,p=x,l=A;break}Q=Q.sibling}if(!U)throw Error(t(189))}}if(l.alternate!==p)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function ua(i){return i=Rl(i),i!==null?Wo(i):null}function Wo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=Wo(i);if(s!==null)return s;i=i.sibling}return null}var Go=e.unstable_scheduleCallback,ca=e.unstable_cancelCallback,Cl=e.unstable_shouldYield,df=e.unstable_requestPaint,dt=e.unstable_now,Pl=e.unstable_getCurrentPriorityLevel,so=e.unstable_ImmediatePriority,ai=e.unstable_UserBlockingPriority,Dn=e.unstable_NormalPriority,fa=e.unstable_LowPriority,Ol=e.unstable_IdlePriority,ao=null,An=null;function xl(i){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(ao,i,void 0,(i.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:Dl,ha=Math.log,Nl=Math.LN2;function Dl(i){return i>>>=0,i===0?32:31-(ha(i)/Nl|0)|0}var Qo=64,Yo=4194304;function li(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function lo(i,s){var l=i.pendingLanes;if(l===0)return 0;var p=0,A=i.suspendedLanes,x=i.pingedLanes,U=l&268435455;if(U!==0){var Q=U&~A;Q!==0?p=li(Q):(x&=U,x!==0&&(p=li(x)))}else U=l&~A,U!==0?p=li(U):x!==0&&(p=li(x));if(p===0)return 0;if(s!==0&&s!==p&&!(s&A)&&(A=p&-p,x=s&-s,A>=x||A===16&&(x&4194240)!==0))return s;if(p&4&&(p|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=p;0<s;)l=31-un(s),A=1<<l,p|=i[l],s&=~A;return p}function pf(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mr(i,s){for(var l=i.suspendedLanes,p=i.pingedLanes,A=i.expirationTimes,x=i.pendingLanes;0<x;){var U=31-un(x),Q=1<<U,J=A[U];J===-1?(!(Q&l)||Q&p)&&(A[U]=pf(Q,s)):J<=s&&(i.expiredLanes|=Q),x&=~Q}}function In(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function uo(){var i=Qo;return Qo<<=1,!(Qo&4194240)&&(Qo=64),i}function ui(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function ci(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-un(s),i[s]=l}function ht(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<l;){var A=31-un(l),x=1<<A;s[A]=0,p[A]=-1,i[A]=-1,l&=~x}}function fi(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var p=31-un(l),A=1<<p;A&s|i[p]&s&&(i[p]|=s),l&=~A}}var Ze=0;function hi(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ll,Xo,Ml,jl,Vl,da=!1,ur=[],Ht=null,Wn=null,Gn=null,di=new Map,Ln=new Map,cr=[],mf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fl(i,s){switch(i){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":di.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ln.delete(s.pointerId)}}function pn(i,s,l,p,A,x){return i===null||i.nativeEvent!==x?(i={blockedOn:s,domEventName:l,eventSystemFlags:p,nativeEvent:x,targetContainers:[A]},s!==null&&(s=Ra(s),s!==null&&Xo(s)),i):(i.eventSystemFlags|=p,s=i.targetContainers,A!==null&&s.indexOf(A)===-1&&s.push(A),i)}function gf(i,s,l,p,A){switch(s){case"focusin":return Ht=pn(Ht,i,s,l,p,A),!0;case"dragenter":return Wn=pn(Wn,i,s,l,p,A),!0;case"mouseover":return Gn=pn(Gn,i,s,l,p,A),!0;case"pointerover":var x=A.pointerId;return di.set(x,pn(di.get(x)||null,i,s,l,p,A)),!0;case"gotpointercapture":return x=A.pointerId,Ln.set(x,pn(Ln.get(x)||null,i,s,l,p,A)),!0}return!1}function Ul(i){var s=mo(i.target);if(s!==null){var l=Hn(s);if(l!==null){if(s=l.tag,s===13){if(s=oo(l),s!==null){i.blockedOn=s,Vl(i.priority,function(){Ml(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function jr(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Jo(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var p=new l.constructor(l.type,l);to=p,l.target.dispatchEvent(p),to=null}else return s=Ra(l),s!==null&&Xo(s),i.blockedOn=l,!1;s.shift()}return!0}function co(i,s,l){jr(i)&&l.delete(s)}function ql(){da=!1,Ht!==null&&jr(Ht)&&(Ht=null),Wn!==null&&jr(Wn)&&(Wn=null),Gn!==null&&jr(Gn)&&(Gn=null),di.forEach(co),Ln.forEach(co)}function Qn(i,s){i.blockedOn===s&&(i.blockedOn=null,da||(da=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ql)))}function Yn(i){function s(A){return Qn(A,i)}if(0<ur.length){Qn(ur[0],i);for(var l=1;l<ur.length;l++){var p=ur[l];p.blockedOn===i&&(p.blockedOn=null)}}for(Ht!==null&&Qn(Ht,i),Wn!==null&&Qn(Wn,i),Gn!==null&&Qn(Gn,i),di.forEach(s),Ln.forEach(s),l=0;l<cr.length;l++)p=cr[l],p.blockedOn===i&&(p.blockedOn=null);for(;0<cr.length&&(l=cr[0],l.blockedOn===null);)Ul(l),l.blockedOn===null&&cr.shift()}var Vr=I.ReactCurrentBatchConfig,pi=!0;function vt(i,s,l,p){var A=Ze,x=Vr.transition;Vr.transition=null;try{Ze=1,pa(i,s,l,p)}finally{Ze=A,Vr.transition=x}}function yf(i,s,l,p){var A=Ze,x=Vr.transition;Vr.transition=null;try{Ze=4,pa(i,s,l,p)}finally{Ze=A,Vr.transition=x}}function pa(i,s,l,p){if(pi){var A=Jo(i,s,l,p);if(A===null)Rf(i,s,p,fo,l),Fl(i,p);else if(gf(A,i,s,l,p))p.stopPropagation();else if(Fl(i,p),s&4&&-1<mf.indexOf(i)){for(;A!==null;){var x=Ra(A);if(x!==null&&Ll(x),x=Jo(i,s,l,p),x===null&&Rf(i,s,p,fo,l),x===A)break;A=x}A!==null&&p.stopPropagation()}else Rf(i,s,p,null,l)}}var fo=null;function Jo(i,s,l,p){if(fo=null,i=qo(p),i=mo(i),i!==null)if(s=Hn(i),s===null)i=null;else if(l=s.tag,l===13){if(i=oo(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return fo=i,null}function ma(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pl()){case so:return 1;case ai:return 4;case Dn:case fa:return 16;case Ol:return 536870912;default:return 16}default:return 16}}var bn=null,Zo=null,mn=null;function ga(){if(mn)return mn;var i,s=Zo,l=s.length,p,A="value"in bn?bn.value:bn.textContent,x=A.length;for(i=0;i<l&&s[i]===A[i];i++);var U=l-i;for(p=1;p<=U&&s[l-p]===A[x-p];p++);return mn=A.slice(i,1<p?1-p:void 0)}function es(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function fr(){return!0}function ya(){return!1}function Kt(i){function s(l,p,A,x,U){this._reactName=l,this._targetInst=A,this.type=p,this.nativeEvent=x,this.target=U,this.currentTarget=null;for(var Q in i)i.hasOwnProperty(Q)&&(l=i[Q],this[Q]=l?l(x):x[Q]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?fr:ya,this.isPropagationStopped=ya,this}return H(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),s}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=Kt(Xn),hr=H({},Xn,{view:0,detail:0}),vf=Kt(hr),ns,Fr,mi,ho=H({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==mi&&(mi&&i.type==="mousemove"?(ns=i.screenX-mi.screenX,Fr=i.screenY-mi.screenY):Fr=ns=0,mi=i),ns)},movementY:function(i){return"movementY"in i?i.movementY:Fr}}),rs=Kt(ho),va=H({},ho,{dataTransfer:0}),Bl=Kt(va),is=H({},hr,{relatedTarget:0}),os=Kt(is),zl=H({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ur=Kt(zl),$l=H({},Xn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Hl=Kt($l),Kl=H({},Xn,{data:0}),_a=Kt(Kl),ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gl(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Wl[i])?!!s[i]:!1}function dr(){return Gl}var c=H({},hr,{key:function(i){if(i.key){var s=ss[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=es(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?cn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dr,charCode:function(i){return i.type==="keypress"?es(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?es(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),C=Kt(c),V=H({},ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B=Kt(V),ae=H({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dr}),fe=Kt(ae),Ae=H({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ft=Kt(Ae),Nt=H({},ho,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),et=Kt(Nt),Ft=[9,13,27,32],Pt=f&&"CompositionEvent"in window,Mn=null;f&&"documentMode"in document&&(Mn=document.documentMode);var kn=f&&"TextEvent"in window&&!Mn,po=f&&(!Pt||Mn&&8<Mn&&11>=Mn),as=" ",gg=!1;function yg(i,s){switch(i){case"keyup":return Ft.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ls=!1;function dS(i,s){switch(i){case"compositionend":return vg(s);case"keypress":return s.which!==32?null:(gg=!0,as);case"textInput":return i=s.data,i===as&&gg?null:i;default:return null}}function pS(i,s){if(ls)return i==="compositionend"||!Pt&&yg(i,s)?(i=ga(),mn=Zo=bn=null,ls=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return po&&s.locale!=="ko"?null:s.data;default:return null}}var mS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _g(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!mS[i.type]:s==="textarea"}function Eg(i,s,l,p){lr(p),s=Zl(s,"onChange"),0<s.length&&(l=new ts("onChange","change",null,l,p),i.push({event:l,listeners:s}))}var Ea=null,wa=null;function gS(i){Vg(i,0)}function Ql(i){var s=ds(i);if(De(s))return i}function yS(i,s){if(i==="change")return s}var wg=!1;if(f){var _f;if(f){var Ef="oninput"in document;if(!Ef){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),Ef=typeof Tg.oninput=="function"}_f=Ef}else _f=!1;wg=_f&&(!document.documentMode||9<document.documentMode)}function Sg(){Ea&&(Ea.detachEvent("onpropertychange",Ag),wa=Ea=null)}function Ag(i){if(i.propertyName==="value"&&Ql(wa)){var s=[];Eg(s,wa,i,qo(i)),aa(gS,s)}}function vS(i,s,l){i==="focusin"?(Sg(),Ea=s,wa=l,Ea.attachEvent("onpropertychange",Ag)):i==="focusout"&&Sg()}function _S(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ql(wa)}function ES(i,s){if(i==="click")return Ql(s)}function wS(i,s){if(i==="input"||i==="change")return Ql(s)}function TS(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Jn=typeof Object.is=="function"?Object.is:TS;function Ta(i,s){if(Jn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),p=Object.keys(s);if(l.length!==p.length)return!1;for(p=0;p<l.length;p++){var A=l[p];if(!h.call(s,A)||!Jn(i[A],s[A]))return!1}return!0}function Ig(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function bg(i,s){var l=Ig(i);i=0;for(var p;l;){if(l.nodeType===3){if(p=i+l.textContent.length,i<=s&&p>=s)return{node:l,offset:s-i};i=p}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ig(l)}}function kg(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?kg(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Rg(){for(var i=window,s=Ve();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Ve(i.document)}return s}function wf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function SS(i){var s=Rg(),l=i.focusedElem,p=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&kg(l.ownerDocument.documentElement,l)){if(p!==null&&wf(l)){if(s=p.start,i=p.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var A=l.textContent.length,x=Math.min(p.start,A);p=p.end===void 0?x:Math.min(p.end,A),!i.extend&&x>p&&(A=p,p=x,x=A),A=bg(l,x);var U=bg(l,p);A&&U&&(i.rangeCount!==1||i.anchorNode!==A.node||i.anchorOffset!==A.offset||i.focusNode!==U.node||i.focusOffset!==U.offset)&&(s=s.createRange(),s.setStart(A.node,A.offset),i.removeAllRanges(),x>p?(i.addRange(s),i.extend(U.node,U.offset)):(s.setEnd(U.node,U.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var AS=f&&"documentMode"in document&&11>=document.documentMode,us=null,Tf=null,Sa=null,Sf=!1;function Cg(i,s,l){var p=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Sf||us==null||us!==Ve(p)||(p=us,"selectionStart"in p&&wf(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Sa&&Ta(Sa,p)||(Sa=p,p=Zl(Tf,"onSelect"),0<p.length&&(s=new ts("onSelect","select",null,s,l),i.push({event:s,listeners:p}),s.target=us)))}function Yl(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var cs={animationend:Yl("Animation","AnimationEnd"),animationiteration:Yl("Animation","AnimationIteration"),animationstart:Yl("Animation","AnimationStart"),transitionend:Yl("Transition","TransitionEnd")},Af={},Pg={};f&&(Pg=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function Xl(i){if(Af[i])return Af[i];if(!cs[i])return i;var s=cs[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Pg)return Af[i]=s[l];return i}var Og=Xl("animationend"),xg=Xl("animationiteration"),Ng=Xl("animationstart"),Dg=Xl("transitionend"),Lg=new Map,Mg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(i,s){Lg.set(i,s),a(s,[i])}for(var If=0;If<Mg.length;If++){var bf=Mg[If],IS=bf.toLowerCase(),bS=bf[0].toUpperCase()+bf.slice(1);gi(IS,"on"+bS)}gi(Og,"onAnimationEnd"),gi(xg,"onAnimationIteration"),gi(Ng,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(Dg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Aa));function jg(i,s,l){var p=i.type||"unknown-event";i.currentTarget=l,kl(p,s,void 0,i),i.currentTarget=null}function Vg(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var p=i[l],A=p.event;p=p.listeners;e:{var x=void 0;if(s)for(var U=p.length-1;0<=U;U--){var Q=p[U],J=Q.instance,ce=Q.currentTarget;if(Q=Q.listener,J!==x&&A.isPropagationStopped())break e;jg(A,Q,ce),x=J}else for(U=0;U<p.length;U++){if(Q=p[U],J=Q.instance,ce=Q.currentTarget,Q=Q.listener,J!==x&&A.isPropagationStopped())break e;jg(A,Q,ce),x=J}}}if($n)throw i=la,$n=!1,la=null,i}function gt(i,s){var l=s[Df];l===void 0&&(l=s[Df]=new Set);var p=i+"__bubble";l.has(p)||(Fg(s,i,2,!1),l.add(p))}function kf(i,s,l){var p=0;s&&(p|=4),Fg(l,i,p,s)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function Ia(i){if(!i[Jl]){i[Jl]=!0,r.forEach(function(l){l!=="selectionchange"&&(kS.has(l)||kf(l,!1,i),kf(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Jl]||(s[Jl]=!0,kf("selectionchange",!1,s))}}function Fg(i,s,l,p){switch(ma(s)){case 1:var A=vt;break;case 4:A=yf;break;default:A=pa}l=A.bind(null,s,l,i),A=void 0,!$o||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(A=!0),p?A!==void 0?i.addEventListener(s,l,{capture:!0,passive:A}):i.addEventListener(s,l,!0):A!==void 0?i.addEventListener(s,l,{passive:A}):i.addEventListener(s,l,!1)}function Rf(i,s,l,p,A){var x=p;if(!(s&1)&&!(s&2)&&p!==null)e:for(;;){if(p===null)return;var U=p.tag;if(U===3||U===4){var Q=p.stateNode.containerInfo;if(Q===A||Q.nodeType===8&&Q.parentNode===A)break;if(U===4)for(U=p.return;U!==null;){var J=U.tag;if((J===3||J===4)&&(J=U.stateNode.containerInfo,J===A||J.nodeType===8&&J.parentNode===A))return;U=U.return}for(;Q!==null;){if(U=mo(Q),U===null)return;if(J=U.tag,J===5||J===6){p=x=U;continue e}Q=Q.parentNode}}p=p.return}aa(function(){var ce=x,_e=qo(l),we=[];e:{var ve=Lg.get(i);if(ve!==void 0){var ke=ts,Pe=i;switch(i){case"keypress":if(es(l)===0)break e;case"keydown":case"keyup":ke=C;break;case"focusin":Pe="focus",ke=os;break;case"focusout":Pe="blur",ke=os;break;case"beforeblur":case"afterblur":ke=os;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=rs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=Bl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=fe;break;case Og:case xg:case Ng:ke=Ur;break;case Dg:ke=ft;break;case"scroll":ke=vf;break;case"wheel":ke=et;break;case"copy":case"cut":case"paste":ke=Hl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=B}var Oe=(s&4)!==0,kt=!Oe&&i==="scroll",le=Oe?ve!==null?ve+"Capture":null:ve;Oe=[];for(var te=ce,ue;te!==null;){ue=te;var Te=ue.stateNode;if(ue.tag===5&&Te!==null&&(ue=Te,le!==null&&(Te=bt(te,le),Te!=null&&Oe.push(ba(te,Te,ue)))),kt)break;te=te.return}0<Oe.length&&(ve=new ke(ve,Pe,null,l,_e),we.push({event:ve,listeners:Oe}))}}if(!(s&7)){e:{if(ve=i==="mouseover"||i==="pointerover",ke=i==="mouseout"||i==="pointerout",ve&&l!==to&&(Pe=l.relatedTarget||l.fromElement)&&(mo(Pe)||Pe[qr]))break e;if((ke||ve)&&(ve=_e.window===_e?_e:(ve=_e.ownerDocument)?ve.defaultView||ve.parentWindow:window,ke?(Pe=l.relatedTarget||l.toElement,ke=ce,Pe=Pe?mo(Pe):null,Pe!==null&&(kt=Hn(Pe),Pe!==kt||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(ke=null,Pe=ce),ke!==Pe)){if(Oe=rs,Te="onMouseLeave",le="onMouseEnter",te="mouse",(i==="pointerout"||i==="pointerover")&&(Oe=B,Te="onPointerLeave",le="onPointerEnter",te="pointer"),kt=ke==null?ve:ds(ke),ue=Pe==null?ve:ds(Pe),ve=new Oe(Te,te+"leave",ke,l,_e),ve.target=kt,ve.relatedTarget=ue,Te=null,mo(_e)===ce&&(Oe=new Oe(le,te+"enter",Pe,l,_e),Oe.target=ue,Oe.relatedTarget=kt,Te=Oe),kt=Te,ke&&Pe)t:{for(Oe=ke,le=Pe,te=0,ue=Oe;ue;ue=fs(ue))te++;for(ue=0,Te=le;Te;Te=fs(Te))ue++;for(;0<te-ue;)Oe=fs(Oe),te--;for(;0<ue-te;)le=fs(le),ue--;for(;te--;){if(Oe===le||le!==null&&Oe===le.alternate)break t;Oe=fs(Oe),le=fs(le)}Oe=null}else Oe=null;ke!==null&&Ug(we,ve,ke,Oe,!1),Pe!==null&&kt!==null&&Ug(we,kt,Pe,Oe,!0)}}e:{if(ve=ce?ds(ce):window,ke=ve.nodeName&&ve.nodeName.toLowerCase(),ke==="select"||ke==="input"&&ve.type==="file")var xe=yS;else if(_g(ve))if(wg)xe=wS;else{xe=_S;var Le=vS}else(ke=ve.nodeName)&&ke.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(xe=ES);if(xe&&(xe=xe(i,ce))){Eg(we,xe,l,_e);break e}Le&&Le(i,ve,ce),i==="focusout"&&(Le=ve._wrapperState)&&Le.controlled&&ve.type==="number"&&me(ve,"number",ve.value)}switch(Le=ce?ds(ce):window,i){case"focusin":(_g(Le)||Le.contentEditable==="true")&&(us=Le,Tf=ce,Sa=null);break;case"focusout":Sa=Tf=us=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,Cg(we,l,_e);break;case"selectionchange":if(AS)break;case"keydown":case"keyup":Cg(we,l,_e)}var Me;if(Pt)e:{switch(i){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else ls?yg(i,l)&&(Ue="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ue="onCompositionStart");Ue&&(po&&l.locale!=="ko"&&(ls||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&ls&&(Me=ga()):(bn=_e,Zo="value"in bn?bn.value:bn.textContent,ls=!0)),Le=Zl(ce,Ue),0<Le.length&&(Ue=new _a(Ue,i,null,l,_e),we.push({event:Ue,listeners:Le}),Me?Ue.data=Me:(Me=vg(l),Me!==null&&(Ue.data=Me)))),(Me=kn?dS(i,l):pS(i,l))&&(ce=Zl(ce,"onBeforeInput"),0<ce.length&&(_e=new _a("onBeforeInput","beforeinput",null,l,_e),we.push({event:_e,listeners:ce}),_e.data=Me))}Vg(we,s)})}function ba(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Zl(i,s){for(var l=s+"Capture",p=[];i!==null;){var A=i,x=A.stateNode;A.tag===5&&x!==null&&(A=x,x=bt(i,l),x!=null&&p.unshift(ba(i,x,A)),x=bt(i,s),x!=null&&p.push(ba(i,x,A))),i=i.return}return p}function fs(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Ug(i,s,l,p,A){for(var x=s._reactName,U=[];l!==null&&l!==p;){var Q=l,J=Q.alternate,ce=Q.stateNode;if(J!==null&&J===p)break;Q.tag===5&&ce!==null&&(Q=ce,A?(J=bt(l,x),J!=null&&U.unshift(ba(l,J,Q))):A||(J=bt(l,x),J!=null&&U.push(ba(l,J,Q)))),l=l.return}U.length!==0&&i.push({event:s,listeners:U})}var RS=/\r\n?/g,CS=/\u0000|\uFFFD/g;function qg(i){return(typeof i=="string"?i:""+i).replace(RS,`
`).replace(CS,"")}function eu(i,s,l){if(s=qg(s),qg(i)!==s&&l)throw Error(t(425))}function tu(){}var Cf=null,Pf=null;function Of(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var xf=typeof setTimeout=="function"?setTimeout:void 0,PS=typeof clearTimeout=="function"?clearTimeout:void 0,Bg=typeof Promise=="function"?Promise:void 0,OS=typeof queueMicrotask=="function"?queueMicrotask:typeof Bg<"u"?function(i){return Bg.resolve(null).then(i).catch(xS)}:xf;function xS(i){setTimeout(function(){throw i})}function Nf(i,s){var l=s,p=0;do{var A=l.nextSibling;if(i.removeChild(l),A&&A.nodeType===8)if(l=A.data,l==="/$"){if(p===0){i.removeChild(A),Yn(s);return}p--}else l!=="$"&&l!=="$?"&&l!=="$!"||p++;l=A}while(l);Yn(s)}function yi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function zg(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var hs=Math.random().toString(36).slice(2),pr="__reactFiber$"+hs,ka="__reactProps$"+hs,qr="__reactContainer$"+hs,Df="__reactEvents$"+hs,NS="__reactListeners$"+hs,DS="__reactHandles$"+hs;function mo(i){var s=i[pr];if(s)return s;for(var l=i.parentNode;l;){if(s=l[qr]||l[pr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=zg(i);i!==null;){if(l=i[pr])return l;i=zg(i)}return s}i=l,l=i.parentNode}return null}function Ra(i){return i=i[pr]||i[qr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ds(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function nu(i){return i[ka]||null}var Lf=[],ps=-1;function vi(i){return{current:i}}function yt(i){0>ps||(i.current=Lf[ps],Lf[ps]=null,ps--)}function pt(i,s){ps++,Lf[ps]=i.current,i.current=s}var _i={},Zt=vi(_i),gn=vi(!1),go=_i;function ms(i,s){var l=i.type.contextTypes;if(!l)return _i;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===s)return p.__reactInternalMemoizedMaskedChildContext;var A={},x;for(x in l)A[x]=s[x];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=A),A}function yn(i){return i=i.childContextTypes,i!=null}function ru(){yt(gn),yt(Zt)}function $g(i,s,l){if(Zt.current!==_i)throw Error(t(168));pt(Zt,s),pt(gn,l)}function Hg(i,s,l){var p=i.stateNode;if(s=s.childContextTypes,typeof p.getChildContext!="function")return l;p=p.getChildContext();for(var A in p)if(!(A in s))throw Error(t(108,X(i)||"Unknown",A));return H({},l,p)}function iu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||_i,go=Zt.current,pt(Zt,i),pt(gn,gn.current),!0}function Kg(i,s,l){var p=i.stateNode;if(!p)throw Error(t(169));l?(i=Hg(i,s,go),p.__reactInternalMemoizedMergedChildContext=i,yt(gn),yt(Zt),pt(Zt,i)):yt(gn),pt(gn,l)}var Br=null,ou=!1,Mf=!1;function Wg(i){Br===null?Br=[i]:Br.push(i)}function LS(i){ou=!0,Wg(i)}function Ei(){if(!Mf&&Br!==null){Mf=!0;var i=0,s=Ze;try{var l=Br;for(Ze=1;i<l.length;i++){var p=l[i];do p=p(!0);while(p!==null)}Br=null,ou=!1}catch(A){throw Br!==null&&(Br=Br.slice(i+1)),Go(so,Ei),A}finally{Ze=s,Mf=!1}}return null}var gs=[],ys=0,su=null,au=0,jn=[],Vn=0,yo=null,zr=1,$r="";function vo(i,s){gs[ys++]=au,gs[ys++]=su,su=i,au=s}function Gg(i,s,l){jn[Vn++]=zr,jn[Vn++]=$r,jn[Vn++]=yo,yo=i;var p=zr;i=$r;var A=32-un(p)-1;p&=~(1<<A),l+=1;var x=32-un(s)+A;if(30<x){var U=A-A%5;x=(p&(1<<U)-1).toString(32),p>>=U,A-=U,zr=1<<32-un(s)+A|l<<A|p,$r=x+i}else zr=1<<x|l<<A|p,$r=i}function jf(i){i.return!==null&&(vo(i,1),Gg(i,1,0))}function Vf(i){for(;i===su;)su=gs[--ys],gs[ys]=null,au=gs[--ys],gs[ys]=null;for(;i===yo;)yo=jn[--Vn],jn[Vn]=null,$r=jn[--Vn],jn[Vn]=null,zr=jn[--Vn],jn[Vn]=null}var Rn=null,Cn=null,_t=!1,Zn=null;function Qg(i,s){var l=Bn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function Yg(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,Rn=i,Cn=yi(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,Rn=i,Cn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=yo!==null?{id:zr,overflow:$r}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Bn(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,Rn=i,Cn=null,!0):!1;default:return!1}}function Ff(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Uf(i){if(_t){var s=Cn;if(s){var l=s;if(!Yg(i,s)){if(Ff(i))throw Error(t(418));s=yi(l.nextSibling);var p=Rn;s&&Yg(i,s)?Qg(p,l):(i.flags=i.flags&-4097|2,_t=!1,Rn=i)}}else{if(Ff(i))throw Error(t(418));i.flags=i.flags&-4097|2,_t=!1,Rn=i}}}function Xg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Rn=i}function lu(i){if(i!==Rn)return!1;if(!_t)return Xg(i),_t=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Of(i.type,i.memoizedProps)),s&&(s=Cn)){if(Ff(i))throw Jg(),Error(t(418));for(;s;)Qg(i,s),s=yi(s.nextSibling)}if(Xg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){Cn=yi(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}Cn=null}}else Cn=Rn?yi(i.stateNode.nextSibling):null;return!0}function Jg(){for(var i=Cn;i;)i=yi(i.nextSibling)}function vs(){Cn=Rn=null,_t=!1}function qf(i){Zn===null?Zn=[i]:Zn.push(i)}var MS=I.ReactCurrentBatchConfig;function Ca(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var p=l.stateNode}if(!p)throw Error(t(147,i));var A=p,x=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===x?s.ref:(s=function(U){var Q=A.refs;U===null?delete Q[x]:Q[x]=U},s._stringRef=x,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function uu(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Zg(i){var s=i._init;return s(i._payload)}function ey(i){function s(le,te){if(i){var ue=le.deletions;ue===null?(le.deletions=[te],le.flags|=16):ue.push(te)}}function l(le,te){if(!i)return null;for(;te!==null;)s(le,te),te=te.sibling;return null}function p(le,te){for(le=new Map;te!==null;)te.key!==null?le.set(te.key,te):le.set(te.index,te),te=te.sibling;return le}function A(le,te){return le=Ri(le,te),le.index=0,le.sibling=null,le}function x(le,te,ue){return le.index=ue,i?(ue=le.alternate,ue!==null?(ue=ue.index,ue<te?(le.flags|=2,te):ue):(le.flags|=2,te)):(le.flags|=1048576,te)}function U(le){return i&&le.alternate===null&&(le.flags|=2),le}function Q(le,te,ue,Te){return te===null||te.tag!==6?(te=xh(ue,le.mode,Te),te.return=le,te):(te=A(te,ue),te.return=le,te)}function J(le,te,ue,Te){var xe=ue.type;return xe===O?_e(le,te,ue.props.children,Te,ue.key):te!==null&&(te.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===re&&Zg(xe)===te.type)?(Te=A(te,ue.props),Te.ref=Ca(le,te,ue),Te.return=le,Te):(Te=Nu(ue.type,ue.key,ue.props,null,le.mode,Te),Te.ref=Ca(le,te,ue),Te.return=le,Te)}function ce(le,te,ue,Te){return te===null||te.tag!==4||te.stateNode.containerInfo!==ue.containerInfo||te.stateNode.implementation!==ue.implementation?(te=Nh(ue,le.mode,Te),te.return=le,te):(te=A(te,ue.children||[]),te.return=le,te)}function _e(le,te,ue,Te,xe){return te===null||te.tag!==7?(te=bo(ue,le.mode,Te,xe),te.return=le,te):(te=A(te,ue),te.return=le,te)}function we(le,te,ue){if(typeof te=="string"&&te!==""||typeof te=="number")return te=xh(""+te,le.mode,ue),te.return=le,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case M:return ue=Nu(te.type,te.key,te.props,null,le.mode,ue),ue.ref=Ca(le,null,te),ue.return=le,ue;case F:return te=Nh(te,le.mode,ue),te.return=le,te;case re:var Te=te._init;return we(le,Te(te._payload),ue)}if(Se(te)||Y(te))return te=bo(te,le.mode,ue,null),te.return=le,te;uu(le,te)}return null}function ve(le,te,ue,Te){var xe=te!==null?te.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return xe!==null?null:Q(le,te,""+ue,Te);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case M:return ue.key===xe?J(le,te,ue,Te):null;case F:return ue.key===xe?ce(le,te,ue,Te):null;case re:return xe=ue._init,ve(le,te,xe(ue._payload),Te)}if(Se(ue)||Y(ue))return xe!==null?null:_e(le,te,ue,Te,null);uu(le,ue)}return null}function ke(le,te,ue,Te,xe){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return le=le.get(ue)||null,Q(te,le,""+Te,xe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case M:return le=le.get(Te.key===null?ue:Te.key)||null,J(te,le,Te,xe);case F:return le=le.get(Te.key===null?ue:Te.key)||null,ce(te,le,Te,xe);case re:var Le=Te._init;return ke(le,te,ue,Le(Te._payload),xe)}if(Se(Te)||Y(Te))return le=le.get(ue)||null,_e(te,le,Te,xe,null);uu(te,Te)}return null}function Pe(le,te,ue,Te){for(var xe=null,Le=null,Me=te,Ue=te=0,Bt=null;Me!==null&&Ue<ue.length;Ue++){Me.index>Ue?(Bt=Me,Me=null):Bt=Me.sibling;var at=ve(le,Me,ue[Ue],Te);if(at===null){Me===null&&(Me=Bt);break}i&&Me&&at.alternate===null&&s(le,Me),te=x(at,te,Ue),Le===null?xe=at:Le.sibling=at,Le=at,Me=Bt}if(Ue===ue.length)return l(le,Me),_t&&vo(le,Ue),xe;if(Me===null){for(;Ue<ue.length;Ue++)Me=we(le,ue[Ue],Te),Me!==null&&(te=x(Me,te,Ue),Le===null?xe=Me:Le.sibling=Me,Le=Me);return _t&&vo(le,Ue),xe}for(Me=p(le,Me);Ue<ue.length;Ue++)Bt=ke(Me,le,Ue,ue[Ue],Te),Bt!==null&&(i&&Bt.alternate!==null&&Me.delete(Bt.key===null?Ue:Bt.key),te=x(Bt,te,Ue),Le===null?xe=Bt:Le.sibling=Bt,Le=Bt);return i&&Me.forEach(function(Ci){return s(le,Ci)}),_t&&vo(le,Ue),xe}function Oe(le,te,ue,Te){var xe=Y(ue);if(typeof xe!="function")throw Error(t(150));if(ue=xe.call(ue),ue==null)throw Error(t(151));for(var Le=xe=null,Me=te,Ue=te=0,Bt=null,at=ue.next();Me!==null&&!at.done;Ue++,at=ue.next()){Me.index>Ue?(Bt=Me,Me=null):Bt=Me.sibling;var Ci=ve(le,Me,at.value,Te);if(Ci===null){Me===null&&(Me=Bt);break}i&&Me&&Ci.alternate===null&&s(le,Me),te=x(Ci,te,Ue),Le===null?xe=Ci:Le.sibling=Ci,Le=Ci,Me=Bt}if(at.done)return l(le,Me),_t&&vo(le,Ue),xe;if(Me===null){for(;!at.done;Ue++,at=ue.next())at=we(le,at.value,Te),at!==null&&(te=x(at,te,Ue),Le===null?xe=at:Le.sibling=at,Le=at);return _t&&vo(le,Ue),xe}for(Me=p(le,Me);!at.done;Ue++,at=ue.next())at=ke(Me,le,Ue,at.value,Te),at!==null&&(i&&at.alternate!==null&&Me.delete(at.key===null?Ue:at.key),te=x(at,te,Ue),Le===null?xe=at:Le.sibling=at,Le=at);return i&&Me.forEach(function(pA){return s(le,pA)}),_t&&vo(le,Ue),xe}function kt(le,te,ue,Te){if(typeof ue=="object"&&ue!==null&&ue.type===O&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case M:e:{for(var xe=ue.key,Le=te;Le!==null;){if(Le.key===xe){if(xe=ue.type,xe===O){if(Le.tag===7){l(le,Le.sibling),te=A(Le,ue.props.children),te.return=le,le=te;break e}}else if(Le.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===re&&Zg(xe)===Le.type){l(le,Le.sibling),te=A(Le,ue.props),te.ref=Ca(le,Le,ue),te.return=le,le=te;break e}l(le,Le);break}else s(le,Le);Le=Le.sibling}ue.type===O?(te=bo(ue.props.children,le.mode,Te,ue.key),te.return=le,le=te):(Te=Nu(ue.type,ue.key,ue.props,null,le.mode,Te),Te.ref=Ca(le,te,ue),Te.return=le,le=Te)}return U(le);case F:e:{for(Le=ue.key;te!==null;){if(te.key===Le)if(te.tag===4&&te.stateNode.containerInfo===ue.containerInfo&&te.stateNode.implementation===ue.implementation){l(le,te.sibling),te=A(te,ue.children||[]),te.return=le,le=te;break e}else{l(le,te);break}else s(le,te);te=te.sibling}te=Nh(ue,le.mode,Te),te.return=le,le=te}return U(le);case re:return Le=ue._init,kt(le,te,Le(ue._payload),Te)}if(Se(ue))return Pe(le,te,ue,Te);if(Y(ue))return Oe(le,te,ue,Te);uu(le,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,te!==null&&te.tag===6?(l(le,te.sibling),te=A(te,ue),te.return=le,le=te):(l(le,te),te=xh(ue,le.mode,Te),te.return=le,le=te),U(le)):l(le,te)}return kt}var _s=ey(!0),ty=ey(!1),cu=vi(null),fu=null,Es=null,Bf=null;function zf(){Bf=Es=fu=null}function $f(i){var s=cu.current;yt(cu),i._currentValue=s}function Hf(i,s,l){for(;i!==null;){var p=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),i===l)break;i=i.return}}function ws(i,s){fu=i,Bf=Es=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(vn=!0),i.firstContext=null)}function Fn(i){var s=i._currentValue;if(Bf!==i)if(i={context:i,memoizedValue:s,next:null},Es===null){if(fu===null)throw Error(t(308));Es=i,fu.dependencies={lanes:0,firstContext:i}}else Es=Es.next=i;return s}var _o=null;function Kf(i){_o===null?_o=[i]:_o.push(i)}function ny(i,s,l,p){var A=s.interleaved;return A===null?(l.next=l,Kf(s)):(l.next=A.next,A.next=l),s.interleaved=l,Hr(i,p)}function Hr(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var wi=!1;function Wf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ry(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Kr(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Ti(i,s,l){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,rt&2){var A=p.pending;return A===null?s.next=s:(s.next=A.next,A.next=s),p.pending=s,Hr(i,l)}return A=p.interleaved,A===null?(s.next=s,Kf(p)):(s.next=A.next,A.next=s),p.interleaved=s,Hr(i,l)}function hu(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var p=s.lanes;p&=i.pendingLanes,l|=p,s.lanes=l,fi(i,l)}}function iy(i,s){var l=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,l===p)){var A=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var U={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};x===null?A=x=U:x=x.next=U,l=l.next}while(l!==null);x===null?A=x=s:x=x.next=s}else A=x=s;l={baseState:p.baseState,firstBaseUpdate:A,lastBaseUpdate:x,shared:p.shared,effects:p.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function du(i,s,l,p){var A=i.updateQueue;wi=!1;var x=A.firstBaseUpdate,U=A.lastBaseUpdate,Q=A.shared.pending;if(Q!==null){A.shared.pending=null;var J=Q,ce=J.next;J.next=null,U===null?x=ce:U.next=ce,U=J;var _e=i.alternate;_e!==null&&(_e=_e.updateQueue,Q=_e.lastBaseUpdate,Q!==U&&(Q===null?_e.firstBaseUpdate=ce:Q.next=ce,_e.lastBaseUpdate=J))}if(x!==null){var we=A.baseState;U=0,_e=ce=J=null,Q=x;do{var ve=Q.lane,ke=Q.eventTime;if((p&ve)===ve){_e!==null&&(_e=_e.next={eventTime:ke,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var Pe=i,Oe=Q;switch(ve=s,ke=l,Oe.tag){case 1:if(Pe=Oe.payload,typeof Pe=="function"){we=Pe.call(ke,we,ve);break e}we=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Oe.payload,ve=typeof Pe=="function"?Pe.call(ke,we,ve):Pe,ve==null)break e;we=H({},we,ve);break e;case 2:wi=!0}}Q.callback!==null&&Q.lane!==0&&(i.flags|=64,ve=A.effects,ve===null?A.effects=[Q]:ve.push(Q))}else ke={eventTime:ke,lane:ve,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},_e===null?(ce=_e=ke,J=we):_e=_e.next=ke,U|=ve;if(Q=Q.next,Q===null){if(Q=A.shared.pending,Q===null)break;ve=Q,Q=ve.next,ve.next=null,A.lastBaseUpdate=ve,A.shared.pending=null}}while(!0);if(_e===null&&(J=we),A.baseState=J,A.firstBaseUpdate=ce,A.lastBaseUpdate=_e,s=A.shared.interleaved,s!==null){A=s;do U|=A.lane,A=A.next;while(A!==s)}else x===null&&(A.shared.lanes=0);To|=U,i.lanes=U,i.memoizedState=we}}function oy(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var p=i[s],A=p.callback;if(A!==null){if(p.callback=null,p=l,typeof A!="function")throw Error(t(191,A));A.call(p)}}}var Pa={},mr=vi(Pa),Oa=vi(Pa),xa=vi(Pa);function Eo(i){if(i===Pa)throw Error(t(174));return i}function Gf(i,s){switch(pt(xa,s),pt(Oa,i),pt(mr,Pa),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ut(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=ut(s,i)}yt(mr),pt(mr,s)}function Ts(){yt(mr),yt(Oa),yt(xa)}function sy(i){Eo(xa.current);var s=Eo(mr.current),l=ut(s,i.type);s!==l&&(pt(Oa,i),pt(mr,l))}function Qf(i){Oa.current===i&&(yt(mr),yt(Oa))}var wt=vi(0);function pu(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Yf=[];function Xf(){for(var i=0;i<Yf.length;i++)Yf[i]._workInProgressVersionPrimary=null;Yf.length=0}var mu=I.ReactCurrentDispatcher,Jf=I.ReactCurrentBatchConfig,wo=0,Tt=null,Dt=null,Ut=null,gu=!1,Na=!1,Da=0,jS=0;function en(){throw Error(t(321))}function Zf(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Jn(i[l],s[l]))return!1;return!0}function eh(i,s,l,p,A,x){if(wo=x,Tt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,mu.current=i===null||i.memoizedState===null?qS:BS,i=l(p,A),Na){x=0;do{if(Na=!1,Da=0,25<=x)throw Error(t(301));x+=1,Ut=Dt=null,s.updateQueue=null,mu.current=zS,i=l(p,A)}while(Na)}if(mu.current=_u,s=Dt!==null&&Dt.next!==null,wo=0,Ut=Dt=Tt=null,gu=!1,s)throw Error(t(300));return i}function th(){var i=Da!==0;return Da=0,i}function gr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Tt.memoizedState=Ut=i:Ut=Ut.next=i,Ut}function Un(){if(Dt===null){var i=Tt.alternate;i=i!==null?i.memoizedState:null}else i=Dt.next;var s=Ut===null?Tt.memoizedState:Ut.next;if(s!==null)Ut=s,Dt=i;else{if(i===null)throw Error(t(310));Dt=i,i={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Ut===null?Tt.memoizedState=Ut=i:Ut=Ut.next=i}return Ut}function La(i,s){return typeof s=="function"?s(i):s}function nh(i){var s=Un(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var p=Dt,A=p.baseQueue,x=l.pending;if(x!==null){if(A!==null){var U=A.next;A.next=x.next,x.next=U}p.baseQueue=A=x,l.pending=null}if(A!==null){x=A.next,p=p.baseState;var Q=U=null,J=null,ce=x;do{var _e=ce.lane;if((wo&_e)===_e)J!==null&&(J=J.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),p=ce.hasEagerState?ce.eagerState:i(p,ce.action);else{var we={lane:_e,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};J===null?(Q=J=we,U=p):J=J.next=we,Tt.lanes|=_e,To|=_e}ce=ce.next}while(ce!==null&&ce!==x);J===null?U=p:J.next=Q,Jn(p,s.memoizedState)||(vn=!0),s.memoizedState=p,s.baseState=U,s.baseQueue=J,l.lastRenderedState=p}if(i=l.interleaved,i!==null){A=i;do x=A.lane,Tt.lanes|=x,To|=x,A=A.next;while(A!==i)}else A===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function rh(i){var s=Un(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var p=l.dispatch,A=l.pending,x=s.memoizedState;if(A!==null){l.pending=null;var U=A=A.next;do x=i(x,U.action),U=U.next;while(U!==A);Jn(x,s.memoizedState)||(vn=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),l.lastRenderedState=x}return[x,p]}function ay(){}function ly(i,s){var l=Tt,p=Un(),A=s(),x=!Jn(p.memoizedState,A);if(x&&(p.memoizedState=A,vn=!0),p=p.queue,ih(fy.bind(null,l,p,i),[i]),p.getSnapshot!==s||x||Ut!==null&&Ut.memoizedState.tag&1){if(l.flags|=2048,Ma(9,cy.bind(null,l,p,A,s),void 0,null),qt===null)throw Error(t(349));wo&30||uy(l,s,A)}return A}function uy(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Tt.updateQueue,s===null?(s={lastEffect:null,stores:null},Tt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function cy(i,s,l,p){s.value=l,s.getSnapshot=p,hy(s)&&dy(i)}function fy(i,s,l){return l(function(){hy(s)&&dy(i)})}function hy(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Jn(i,l)}catch{return!0}}function dy(i){var s=Hr(i,1);s!==null&&rr(s,i,1,-1)}function py(i){var s=gr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:i},s.queue=i,i=i.dispatch=US.bind(null,Tt,i),[s.memoizedState,i]}function Ma(i,s,l,p){return i={tag:i,create:s,destroy:l,deps:p,next:null},s=Tt.updateQueue,s===null?(s={lastEffect:null,stores:null},Tt.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(p=l.next,l.next=i,i.next=p,s.lastEffect=i)),i}function my(){return Un().memoizedState}function yu(i,s,l,p){var A=gr();Tt.flags|=i,A.memoizedState=Ma(1|s,l,void 0,p===void 0?null:p)}function vu(i,s,l,p){var A=Un();p=p===void 0?null:p;var x=void 0;if(Dt!==null){var U=Dt.memoizedState;if(x=U.destroy,p!==null&&Zf(p,U.deps)){A.memoizedState=Ma(s,l,x,p);return}}Tt.flags|=i,A.memoizedState=Ma(1|s,l,x,p)}function gy(i,s){return yu(8390656,8,i,s)}function ih(i,s){return vu(2048,8,i,s)}function yy(i,s){return vu(4,2,i,s)}function vy(i,s){return vu(4,4,i,s)}function _y(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Ey(i,s,l){return l=l!=null?l.concat([i]):null,vu(4,4,_y.bind(null,s,i),l)}function oh(){}function wy(i,s){var l=Un();s=s===void 0?null:s;var p=l.memoizedState;return p!==null&&s!==null&&Zf(s,p[1])?p[0]:(l.memoizedState=[i,s],i)}function Ty(i,s){var l=Un();s=s===void 0?null:s;var p=l.memoizedState;return p!==null&&s!==null&&Zf(s,p[1])?p[0]:(i=i(),l.memoizedState=[i,s],i)}function Sy(i,s,l){return wo&21?(Jn(l,s)||(l=uo(),Tt.lanes|=l,To|=l,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,vn=!0),i.memoizedState=l)}function VS(i,s){var l=Ze;Ze=l!==0&&4>l?l:4,i(!0);var p=Jf.transition;Jf.transition={};try{i(!1),s()}finally{Ze=l,Jf.transition=p}}function Ay(){return Un().memoizedState}function FS(i,s,l){var p=bi(i);if(l={lane:p,action:l,hasEagerState:!1,eagerState:null,next:null},Iy(i))by(s,l);else if(l=ny(i,s,l,p),l!==null){var A=hn();rr(l,i,p,A),ky(l,s,p)}}function US(i,s,l){var p=bi(i),A={lane:p,action:l,hasEagerState:!1,eagerState:null,next:null};if(Iy(i))by(s,A);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var U=s.lastRenderedState,Q=x(U,l);if(A.hasEagerState=!0,A.eagerState=Q,Jn(Q,U)){var J=s.interleaved;J===null?(A.next=A,Kf(s)):(A.next=J.next,J.next=A),s.interleaved=A;return}}catch{}finally{}l=ny(i,s,A,p),l!==null&&(A=hn(),rr(l,i,p,A),ky(l,s,p))}}function Iy(i){var s=i.alternate;return i===Tt||s!==null&&s===Tt}function by(i,s){Na=gu=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function ky(i,s,l){if(l&4194240){var p=s.lanes;p&=i.pendingLanes,l|=p,s.lanes=l,fi(i,l)}}var _u={readContext:Fn,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},qS={readContext:Fn,useCallback:function(i,s){return gr().memoizedState=[i,s===void 0?null:s],i},useContext:Fn,useEffect:gy,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,yu(4194308,4,_y.bind(null,s,i),l)},useLayoutEffect:function(i,s){return yu(4194308,4,i,s)},useInsertionEffect:function(i,s){return yu(4,2,i,s)},useMemo:function(i,s){var l=gr();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var p=gr();return s=l!==void 0?l(s):s,p.memoizedState=p.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},p.queue=i,i=i.dispatch=FS.bind(null,Tt,i),[p.memoizedState,i]},useRef:function(i){var s=gr();return i={current:i},s.memoizedState=i},useState:py,useDebugValue:oh,useDeferredValue:function(i){return gr().memoizedState=i},useTransition:function(){var i=py(!1),s=i[0];return i=VS.bind(null,i[1]),gr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var p=Tt,A=gr();if(_t){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),qt===null)throw Error(t(349));wo&30||uy(p,s,l)}A.memoizedState=l;var x={value:l,getSnapshot:s};return A.queue=x,gy(fy.bind(null,p,x,i),[i]),p.flags|=2048,Ma(9,cy.bind(null,p,x,l,s),void 0,null),l},useId:function(){var i=gr(),s=qt.identifierPrefix;if(_t){var l=$r,p=zr;l=(p&~(1<<32-un(p)-1)).toString(32)+l,s=":"+s+"R"+l,l=Da++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=jS++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},BS={readContext:Fn,useCallback:wy,useContext:Fn,useEffect:ih,useImperativeHandle:Ey,useInsertionEffect:yy,useLayoutEffect:vy,useMemo:Ty,useReducer:nh,useRef:my,useState:function(){return nh(La)},useDebugValue:oh,useDeferredValue:function(i){var s=Un();return Sy(s,Dt.memoizedState,i)},useTransition:function(){var i=nh(La)[0],s=Un().memoizedState;return[i,s]},useMutableSource:ay,useSyncExternalStore:ly,useId:Ay,unstable_isNewReconciler:!1},zS={readContext:Fn,useCallback:wy,useContext:Fn,useEffect:ih,useImperativeHandle:Ey,useInsertionEffect:yy,useLayoutEffect:vy,useMemo:Ty,useReducer:rh,useRef:my,useState:function(){return rh(La)},useDebugValue:oh,useDeferredValue:function(i){var s=Un();return Dt===null?s.memoizedState=i:Sy(s,Dt.memoizedState,i)},useTransition:function(){var i=rh(La)[0],s=Un().memoizedState;return[i,s]},useMutableSource:ay,useSyncExternalStore:ly,useId:Ay,unstable_isNewReconciler:!1};function er(i,s){if(i&&i.defaultProps){s=H({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function sh(i,s,l,p){s=i.memoizedState,l=l(p,s),l=l==null?s:H({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Eu={isMounted:function(i){return(i=i._reactInternals)?Hn(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var p=hn(),A=bi(i),x=Kr(p,A);x.payload=s,l!=null&&(x.callback=l),s=Ti(i,x,A),s!==null&&(rr(s,i,A,p),hu(s,i,A))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var p=hn(),A=bi(i),x=Kr(p,A);x.tag=1,x.payload=s,l!=null&&(x.callback=l),s=Ti(i,x,A),s!==null&&(rr(s,i,A,p),hu(s,i,A))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=hn(),p=bi(i),A=Kr(l,p);A.tag=2,s!=null&&(A.callback=s),s=Ti(i,A,p),s!==null&&(rr(s,i,p,l),hu(s,i,p))}};function Ry(i,s,l,p,A,x,U){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,x,U):s.prototype&&s.prototype.isPureReactComponent?!Ta(l,p)||!Ta(A,x):!0}function Cy(i,s,l){var p=!1,A=_i,x=s.contextType;return typeof x=="object"&&x!==null?x=Fn(x):(A=yn(s)?go:Zt.current,p=s.contextTypes,x=(p=p!=null)?ms(i,A):_i),s=new s(l,x),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Eu,i.stateNode=s,s._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=A,i.__reactInternalMemoizedMaskedChildContext=x),s}function Py(i,s,l,p){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,p),s.state!==i&&Eu.enqueueReplaceState(s,s.state,null)}function ah(i,s,l,p){var A=i.stateNode;A.props=l,A.state=i.memoizedState,A.refs={},Wf(i);var x=s.contextType;typeof x=="object"&&x!==null?A.context=Fn(x):(x=yn(s)?go:Zt.current,A.context=ms(i,x)),A.state=i.memoizedState,x=s.getDerivedStateFromProps,typeof x=="function"&&(sh(i,s,x,l),A.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(s=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),s!==A.state&&Eu.enqueueReplaceState(A,A.state,null),du(i,l,A,p),A.state=i.memoizedState),typeof A.componentDidMount=="function"&&(i.flags|=4194308)}function Ss(i,s){try{var l="",p=s;do l+=Z(p),p=p.return;while(p);var A=l}catch(x){A=`
Error generating stack: `+x.message+`
`+x.stack}return{value:i,source:s,stack:A,digest:null}}function lh(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function uh(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var $S=typeof WeakMap=="function"?WeakMap:Map;function Oy(i,s,l){l=Kr(-1,l),l.tag=3,l.payload={element:null};var p=s.value;return l.callback=function(){ku||(ku=!0,Ah=p),uh(i,s)},l}function xy(i,s,l){l=Kr(-1,l),l.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var A=s.value;l.payload=function(){return p(A)},l.callback=function(){uh(i,s)}}var x=i.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(l.callback=function(){uh(i,s),typeof p!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var U=s.stack;this.componentDidCatch(s.value,{componentStack:U!==null?U:""})}),l}function Ny(i,s,l){var p=i.pingCache;if(p===null){p=i.pingCache=new $S;var A=new Set;p.set(s,A)}else A=p.get(s),A===void 0&&(A=new Set,p.set(s,A));A.has(l)||(A.add(l),i=iA.bind(null,i,s,l),s.then(i,i))}function Dy(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Ly(i,s,l,p,A){return i.mode&1?(i.flags|=65536,i.lanes=A,i):(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Kr(-1,1),s.tag=2,Ti(l,s,1))),l.lanes|=1),i)}var HS=I.ReactCurrentOwner,vn=!1;function fn(i,s,l,p){s.child=i===null?ty(s,null,l,p):_s(s,i.child,l,p)}function My(i,s,l,p,A){l=l.render;var x=s.ref;return ws(s,A),p=eh(i,s,l,p,x,A),l=th(),i!==null&&!vn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~A,Wr(i,s,A)):(_t&&l&&jf(s),s.flags|=1,fn(i,s,p,A),s.child)}function jy(i,s,l,p,A){if(i===null){var x=l.type;return typeof x=="function"&&!Oh(x)&&x.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=x,Vy(i,s,x,p,A)):(i=Nu(l.type,null,p,s,s.mode,A),i.ref=s.ref,i.return=s,s.child=i)}if(x=i.child,!(i.lanes&A)){var U=x.memoizedProps;if(l=l.compare,l=l!==null?l:Ta,l(U,p)&&i.ref===s.ref)return Wr(i,s,A)}return s.flags|=1,i=Ri(x,p),i.ref=s.ref,i.return=s,s.child=i}function Vy(i,s,l,p,A){if(i!==null){var x=i.memoizedProps;if(Ta(x,p)&&i.ref===s.ref)if(vn=!1,s.pendingProps=p=x,(i.lanes&A)!==0)i.flags&131072&&(vn=!0);else return s.lanes=i.lanes,Wr(i,s,A)}return ch(i,s,l,p,A)}function Fy(i,s,l){var p=s.pendingProps,A=p.children,x=i!==null?i.memoizedState:null;if(p.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(Is,Pn),Pn|=l;else{if(!(l&1073741824))return i=x!==null?x.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,pt(Is,Pn),Pn|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=x!==null?x.baseLanes:l,pt(Is,Pn),Pn|=p}else x!==null?(p=x.baseLanes|l,s.memoizedState=null):p=l,pt(Is,Pn),Pn|=p;return fn(i,s,A,l),s.child}function Uy(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function ch(i,s,l,p,A){var x=yn(l)?go:Zt.current;return x=ms(s,x),ws(s,A),l=eh(i,s,l,p,x,A),p=th(),i!==null&&!vn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~A,Wr(i,s,A)):(_t&&p&&jf(s),s.flags|=1,fn(i,s,l,A),s.child)}function qy(i,s,l,p,A){if(yn(l)){var x=!0;iu(s)}else x=!1;if(ws(s,A),s.stateNode===null)Tu(i,s),Cy(s,l,p),ah(s,l,p,A),p=!0;else if(i===null){var U=s.stateNode,Q=s.memoizedProps;U.props=Q;var J=U.context,ce=l.contextType;typeof ce=="object"&&ce!==null?ce=Fn(ce):(ce=yn(l)?go:Zt.current,ce=ms(s,ce));var _e=l.getDerivedStateFromProps,we=typeof _e=="function"||typeof U.getSnapshotBeforeUpdate=="function";we||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Q!==p||J!==ce)&&Py(s,U,p,ce),wi=!1;var ve=s.memoizedState;U.state=ve,du(s,p,U,A),J=s.memoizedState,Q!==p||ve!==J||gn.current||wi?(typeof _e=="function"&&(sh(s,l,_e,p),J=s.memoizedState),(Q=wi||Ry(s,l,Q,p,ve,J,ce))?(we||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(s.flags|=4194308)):(typeof U.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=J),U.props=p,U.state=J,U.context=ce,p=Q):(typeof U.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{U=s.stateNode,ry(i,s),Q=s.memoizedProps,ce=s.type===s.elementType?Q:er(s.type,Q),U.props=ce,we=s.pendingProps,ve=U.context,J=l.contextType,typeof J=="object"&&J!==null?J=Fn(J):(J=yn(l)?go:Zt.current,J=ms(s,J));var ke=l.getDerivedStateFromProps;(_e=typeof ke=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Q!==we||ve!==J)&&Py(s,U,p,J),wi=!1,ve=s.memoizedState,U.state=ve,du(s,p,U,A);var Pe=s.memoizedState;Q!==we||ve!==Pe||gn.current||wi?(typeof ke=="function"&&(sh(s,l,ke,p),Pe=s.memoizedState),(ce=wi||Ry(s,l,ce,p,ve,Pe,J)||!1)?(_e||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(p,Pe,J),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(p,Pe,J)),typeof U.componentDidUpdate=="function"&&(s.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof U.componentDidUpdate!="function"||Q===i.memoizedProps&&ve===i.memoizedState||(s.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Q===i.memoizedProps&&ve===i.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=Pe),U.props=p,U.state=Pe,U.context=J,p=ce):(typeof U.componentDidUpdate!="function"||Q===i.memoizedProps&&ve===i.memoizedState||(s.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Q===i.memoizedProps&&ve===i.memoizedState||(s.flags|=1024),p=!1)}return fh(i,s,l,p,x,A)}function fh(i,s,l,p,A,x){Uy(i,s);var U=(s.flags&128)!==0;if(!p&&!U)return A&&Kg(s,l,!1),Wr(i,s,x);p=s.stateNode,HS.current=s;var Q=U&&typeof l.getDerivedStateFromError!="function"?null:p.render();return s.flags|=1,i!==null&&U?(s.child=_s(s,i.child,null,x),s.child=_s(s,null,Q,x)):fn(i,s,Q,x),s.memoizedState=p.state,A&&Kg(s,l,!0),s.child}function By(i){var s=i.stateNode;s.pendingContext?$g(i,s.pendingContext,s.pendingContext!==s.context):s.context&&$g(i,s.context,!1),Gf(i,s.containerInfo)}function zy(i,s,l,p,A){return vs(),qf(A),s.flags|=256,fn(i,s,l,p),s.child}var hh={dehydrated:null,treeContext:null,retryLane:0};function dh(i){return{baseLanes:i,cachePool:null,transitions:null}}function $y(i,s,l){var p=s.pendingProps,A=wt.current,x=!1,U=(s.flags&128)!==0,Q;if((Q=U)||(Q=i!==null&&i.memoizedState===null?!1:(A&2)!==0),Q?(x=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(A|=1),pt(wt,A&1),i===null)return Uf(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(U=p.children,i=p.fallback,x?(p=s.mode,x=s.child,U={mode:"hidden",children:U},!(p&1)&&x!==null?(x.childLanes=0,x.pendingProps=U):x=Du(U,p,0,null),i=bo(i,p,l,null),x.return=s,i.return=s,x.sibling=i,s.child=x,s.child.memoizedState=dh(l),s.memoizedState=hh,i):ph(s,U));if(A=i.memoizedState,A!==null&&(Q=A.dehydrated,Q!==null))return KS(i,s,U,p,Q,A,l);if(x){x=p.fallback,U=s.mode,A=i.child,Q=A.sibling;var J={mode:"hidden",children:p.children};return!(U&1)&&s.child!==A?(p=s.child,p.childLanes=0,p.pendingProps=J,s.deletions=null):(p=Ri(A,J),p.subtreeFlags=A.subtreeFlags&14680064),Q!==null?x=Ri(Q,x):(x=bo(x,U,l,null),x.flags|=2),x.return=s,p.return=s,p.sibling=x,s.child=p,p=x,x=s.child,U=i.child.memoizedState,U=U===null?dh(l):{baseLanes:U.baseLanes|l,cachePool:null,transitions:U.transitions},x.memoizedState=U,x.childLanes=i.childLanes&~l,s.memoizedState=hh,p}return x=i.child,i=x.sibling,p=Ri(x,{mode:"visible",children:p.children}),!(s.mode&1)&&(p.lanes=l),p.return=s,p.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=p,s.memoizedState=null,p}function ph(i,s){return s=Du({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function wu(i,s,l,p){return p!==null&&qf(p),_s(s,i.child,null,l),i=ph(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function KS(i,s,l,p,A,x,U){if(l)return s.flags&256?(s.flags&=-257,p=lh(Error(t(422))),wu(i,s,U,p)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(x=p.fallback,A=s.mode,p=Du({mode:"visible",children:p.children},A,0,null),x=bo(x,A,U,null),x.flags|=2,p.return=s,x.return=s,p.sibling=x,s.child=p,s.mode&1&&_s(s,i.child,null,U),s.child.memoizedState=dh(U),s.memoizedState=hh,x);if(!(s.mode&1))return wu(i,s,U,null);if(A.data==="$!"){if(p=A.nextSibling&&A.nextSibling.dataset,p)var Q=p.dgst;return p=Q,x=Error(t(419)),p=lh(x,p,void 0),wu(i,s,U,p)}if(Q=(U&i.childLanes)!==0,vn||Q){if(p=qt,p!==null){switch(U&-U){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=A&(p.suspendedLanes|U)?0:A,A!==0&&A!==x.retryLane&&(x.retryLane=A,Hr(i,A),rr(p,i,A,-1))}return Ph(),p=lh(Error(t(421))),wu(i,s,U,p)}return A.data==="$?"?(s.flags|=128,s.child=i.child,s=oA.bind(null,i),A._reactRetry=s,null):(i=x.treeContext,Cn=yi(A.nextSibling),Rn=s,_t=!0,Zn=null,i!==null&&(jn[Vn++]=zr,jn[Vn++]=$r,jn[Vn++]=yo,zr=i.id,$r=i.overflow,yo=s),s=ph(s,p.children),s.flags|=4096,s)}function Hy(i,s,l){i.lanes|=s;var p=i.alternate;p!==null&&(p.lanes|=s),Hf(i.return,s,l)}function mh(i,s,l,p,A){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:l,tailMode:A}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=l,x.tailMode=A)}function Ky(i,s,l){var p=s.pendingProps,A=p.revealOrder,x=p.tail;if(fn(i,s,p.children,l),p=wt.current,p&2)p=p&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Hy(i,l,s);else if(i.tag===19)Hy(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(pt(wt,p),!(s.mode&1))s.memoizedState=null;else switch(A){case"forwards":for(l=s.child,A=null;l!==null;)i=l.alternate,i!==null&&pu(i)===null&&(A=l),l=l.sibling;l=A,l===null?(A=s.child,s.child=null):(A=l.sibling,l.sibling=null),mh(s,!1,A,l,x);break;case"backwards":for(l=null,A=s.child,s.child=null;A!==null;){if(i=A.alternate,i!==null&&pu(i)===null){s.child=A;break}i=A.sibling,A.sibling=l,l=A,A=i}mh(s,!0,l,null,x);break;case"together":mh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Tu(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Wr(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),To|=s.lanes,!(l&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=Ri(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Ri(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function WS(i,s,l){switch(s.tag){case 3:By(s),vs();break;case 5:sy(s);break;case 1:yn(s.type)&&iu(s);break;case 4:Gf(s,s.stateNode.containerInfo);break;case 10:var p=s.type._context,A=s.memoizedProps.value;pt(cu,p._currentValue),p._currentValue=A;break;case 13:if(p=s.memoizedState,p!==null)return p.dehydrated!==null?(pt(wt,wt.current&1),s.flags|=128,null):l&s.child.childLanes?$y(i,s,l):(pt(wt,wt.current&1),i=Wr(i,s,l),i!==null?i.sibling:null);pt(wt,wt.current&1);break;case 19:if(p=(l&s.childLanes)!==0,i.flags&128){if(p)return Ky(i,s,l);s.flags|=128}if(A=s.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),pt(wt,wt.current),p)break;return null;case 22:case 23:return s.lanes=0,Fy(i,s,l)}return Wr(i,s,l)}var Wy,gh,Gy,Qy;Wy=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},gh=function(){},Gy=function(i,s,l,p){var A=i.memoizedProps;if(A!==p){i=s.stateNode,Eo(mr.current);var x=null;switch(l){case"input":A=Ke(i,A),p=Ke(i,p),x=[];break;case"select":A=H({},A,{value:void 0}),p=H({},p,{value:void 0}),x=[];break;case"textarea":A=ye(i,A),p=ye(i,p),x=[];break;default:typeof A.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=tu)}ra(l,p);var U;l=null;for(ce in A)if(!p.hasOwnProperty(ce)&&A.hasOwnProperty(ce)&&A[ce]!=null)if(ce==="style"){var Q=A[ce];for(U in Q)Q.hasOwnProperty(U)&&(l||(l={}),l[U]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(o.hasOwnProperty(ce)?x||(x=[]):(x=x||[]).push(ce,null));for(ce in p){var J=p[ce];if(Q=A!=null?A[ce]:void 0,p.hasOwnProperty(ce)&&J!==Q&&(J!=null||Q!=null))if(ce==="style")if(Q){for(U in Q)!Q.hasOwnProperty(U)||J&&J.hasOwnProperty(U)||(l||(l={}),l[U]="");for(U in J)J.hasOwnProperty(U)&&Q[U]!==J[U]&&(l||(l={}),l[U]=J[U])}else l||(x||(x=[]),x.push(ce,l)),l=J;else ce==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,Q=Q?Q.__html:void 0,J!=null&&Q!==J&&(x=x||[]).push(ce,J)):ce==="children"?typeof J!="string"&&typeof J!="number"||(x=x||[]).push(ce,""+J):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(o.hasOwnProperty(ce)?(J!=null&&ce==="onScroll"&&gt("scroll",i),x||Q===J||(x=[])):(x=x||[]).push(ce,J))}l&&(x=x||[]).push("style",l);var ce=x;(s.updateQueue=ce)&&(s.flags|=4)}},Qy=function(i,s,l,p){l!==p&&(s.flags|=4)};function ja(i,s){if(!_t)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function tn(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,p=0;if(s)for(var A=i.child;A!==null;)l|=A.lanes|A.childLanes,p|=A.subtreeFlags&14680064,p|=A.flags&14680064,A.return=i,A=A.sibling;else for(A=i.child;A!==null;)l|=A.lanes|A.childLanes,p|=A.subtreeFlags,p|=A.flags,A.return=i,A=A.sibling;return i.subtreeFlags|=p,i.childLanes=l,s}function GS(i,s,l){var p=s.pendingProps;switch(Vf(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(s),null;case 1:return yn(s.type)&&ru(),tn(s),null;case 3:return p=s.stateNode,Ts(),yt(gn),yt(Zt),Xf(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(lu(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Zn!==null&&(kh(Zn),Zn=null))),gh(i,s),tn(s),null;case 5:Qf(s);var A=Eo(xa.current);if(l=s.type,i!==null&&s.stateNode!=null)Gy(i,s,l,p,A),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!p){if(s.stateNode===null)throw Error(t(166));return tn(s),null}if(i=Eo(mr.current),lu(s)){p=s.stateNode,l=s.type;var x=s.memoizedProps;switch(p[pr]=s,p[ka]=x,i=(s.mode&1)!==0,l){case"dialog":gt("cancel",p),gt("close",p);break;case"iframe":case"object":case"embed":gt("load",p);break;case"video":case"audio":for(A=0;A<Aa.length;A++)gt(Aa[A],p);break;case"source":gt("error",p);break;case"img":case"image":case"link":gt("error",p),gt("load",p);break;case"details":gt("toggle",p);break;case"input":Ye(p,x),gt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!x.multiple},gt("invalid",p);break;case"textarea":Be(p,x),gt("invalid",p)}ra(l,x),A=null;for(var U in x)if(x.hasOwnProperty(U)){var Q=x[U];U==="children"?typeof Q=="string"?p.textContent!==Q&&(x.suppressHydrationWarning!==!0&&eu(p.textContent,Q,i),A=["children",Q]):typeof Q=="number"&&p.textContent!==""+Q&&(x.suppressHydrationWarning!==!0&&eu(p.textContent,Q,i),A=["children",""+Q]):o.hasOwnProperty(U)&&Q!=null&&U==="onScroll"&&gt("scroll",p)}switch(l){case"input":be(p),he(p,x,!0);break;case"textarea":be(p),We(p);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(p.onclick=tu)}p=A,s.updateQueue=p,p!==null&&(s.flags|=4)}else{U=A.nodeType===9?A:A.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=st(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=U.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=U.createElement(l,{is:p.is}):(i=U.createElement(l),l==="select"&&(U=i,p.multiple?U.multiple=!0:p.size&&(U.size=p.size))):i=U.createElementNS(i,l),i[pr]=s,i[ka]=p,Wy(i,s,!1,!1),s.stateNode=i;e:{switch(U=ia(l,p),l){case"dialog":gt("cancel",i),gt("close",i),A=p;break;case"iframe":case"object":case"embed":gt("load",i),A=p;break;case"video":case"audio":for(A=0;A<Aa.length;A++)gt(Aa[A],i);A=p;break;case"source":gt("error",i),A=p;break;case"img":case"image":case"link":gt("error",i),gt("load",i),A=p;break;case"details":gt("toggle",i),A=p;break;case"input":Ye(i,p),A=Ke(i,p),gt("invalid",i);break;case"option":A=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},A=H({},p,{value:void 0}),gt("invalid",i);break;case"textarea":Be(i,p),A=ye(i,p),gt("invalid",i);break;default:A=p}ra(l,A),Q=A;for(x in Q)if(Q.hasOwnProperty(x)){var J=Q[x];x==="style"?ta(i,J):x==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&Zi(i,J)):x==="children"?typeof J=="string"?(l!=="textarea"||J!=="")&&ct(i,J):typeof J=="number"&&ct(i,""+J):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?J!=null&&x==="onScroll"&&gt("scroll",i):J!=null&&P(i,x,J,U))}switch(l){case"input":be(i),he(i,p,!1);break;case"textarea":be(i),We(i);break;case"option":p.value!=null&&i.setAttribute("value",""+oe(p.value));break;case"select":i.multiple=!!p.multiple,x=p.value,x!=null?Ie(i,!!p.multiple,x,!1):p.defaultValue!=null&&Ie(i,!!p.multiple,p.defaultValue,!0);break;default:typeof A.onClick=="function"&&(i.onclick=tu)}switch(l){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return tn(s),null;case 6:if(i&&s.stateNode!=null)Qy(i,s,i.memoizedProps,p);else{if(typeof p!="string"&&s.stateNode===null)throw Error(t(166));if(l=Eo(xa.current),Eo(mr.current),lu(s)){if(p=s.stateNode,l=s.memoizedProps,p[pr]=s,(x=p.nodeValue!==l)&&(i=Rn,i!==null))switch(i.tag){case 3:eu(p.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&eu(p.nodeValue,l,(i.mode&1)!==0)}x&&(s.flags|=4)}else p=(l.nodeType===9?l:l.ownerDocument).createTextNode(p),p[pr]=s,s.stateNode=p}return tn(s),null;case 13:if(yt(wt),p=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(_t&&Cn!==null&&s.mode&1&&!(s.flags&128))Jg(),vs(),s.flags|=98560,x=!1;else if(x=lu(s),p!==null&&p.dehydrated!==null){if(i===null){if(!x)throw Error(t(318));if(x=s.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[pr]=s}else vs(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;tn(s),x=!1}else Zn!==null&&(kh(Zn),Zn=null),x=!0;if(!x)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(s.child.flags|=8192,s.mode&1&&(i===null||wt.current&1?Lt===0&&(Lt=3):Ph())),s.updateQueue!==null&&(s.flags|=4),tn(s),null);case 4:return Ts(),gh(i,s),i===null&&Ia(s.stateNode.containerInfo),tn(s),null;case 10:return $f(s.type._context),tn(s),null;case 17:return yn(s.type)&&ru(),tn(s),null;case 19:if(yt(wt),x=s.memoizedState,x===null)return tn(s),null;if(p=(s.flags&128)!==0,U=x.rendering,U===null)if(p)ja(x,!1);else{if(Lt!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(U=pu(i),U!==null){for(s.flags|=128,ja(x,!1),p=U.updateQueue,p!==null&&(s.updateQueue=p,s.flags|=4),s.subtreeFlags=0,p=l,l=s.child;l!==null;)x=l,i=p,x.flags&=14680066,U=x.alternate,U===null?(x.childLanes=0,x.lanes=i,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=U.childLanes,x.lanes=U.lanes,x.child=U.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=U.memoizedProps,x.memoizedState=U.memoizedState,x.updateQueue=U.updateQueue,x.type=U.type,i=U.dependencies,x.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return pt(wt,wt.current&1|2),s.child}i=i.sibling}x.tail!==null&&dt()>bs&&(s.flags|=128,p=!0,ja(x,!1),s.lanes=4194304)}else{if(!p)if(i=pu(U),i!==null){if(s.flags|=128,p=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),ja(x,!0),x.tail===null&&x.tailMode==="hidden"&&!U.alternate&&!_t)return tn(s),null}else 2*dt()-x.renderingStartTime>bs&&l!==1073741824&&(s.flags|=128,p=!0,ja(x,!1),s.lanes=4194304);x.isBackwards?(U.sibling=s.child,s.child=U):(l=x.last,l!==null?l.sibling=U:s.child=U,x.last=U)}return x.tail!==null?(s=x.tail,x.rendering=s,x.tail=s.sibling,x.renderingStartTime=dt(),s.sibling=null,l=wt.current,pt(wt,p?l&1|2:l&1),s):(tn(s),null);case 22:case 23:return Ch(),p=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(s.flags|=8192),p&&s.mode&1?Pn&1073741824&&(tn(s),s.subtreeFlags&6&&(s.flags|=8192)):tn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function QS(i,s){switch(Vf(s),s.tag){case 1:return yn(s.type)&&ru(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ts(),yt(gn),yt(Zt),Xf(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return Qf(s),null;case 13:if(yt(wt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));vs()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return yt(wt),null;case 4:return Ts(),null;case 10:return $f(s.type._context),null;case 22:case 23:return Ch(),null;case 24:return null;default:return null}}var Su=!1,nn=!1,YS=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function As(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(p){It(i,s,p)}else l.current=null}function yh(i,s,l){try{l()}catch(p){It(i,s,p)}}var Yy=!1;function XS(i,s){if(Cf=pi,i=Rg(),wf(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var p=l.getSelection&&l.getSelection();if(p&&p.rangeCount!==0){l=p.anchorNode;var A=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var U=0,Q=-1,J=-1,ce=0,_e=0,we=i,ve=null;t:for(;;){for(var ke;we!==l||A!==0&&we.nodeType!==3||(Q=U+A),we!==x||p!==0&&we.nodeType!==3||(J=U+p),we.nodeType===3&&(U+=we.nodeValue.length),(ke=we.firstChild)!==null;)ve=we,we=ke;for(;;){if(we===i)break t;if(ve===l&&++ce===A&&(Q=U),ve===x&&++_e===p&&(J=U),(ke=we.nextSibling)!==null)break;we=ve,ve=we.parentNode}we=ke}l=Q===-1||J===-1?null:{start:Q,end:J}}else l=null}l=l||{start:0,end:0}}else l=null;for(Pf={focusedElem:i,selectionRange:l},pi=!1,Ce=s;Ce!==null;)if(s=Ce,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Ce=i;else for(;Ce!==null;){s=Ce;try{var Pe=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Oe=Pe.memoizedProps,kt=Pe.memoizedState,le=s.stateNode,te=le.getSnapshotBeforeUpdate(s.elementType===s.type?Oe:er(s.type,Oe),kt);le.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var ue=s.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Te){It(s,s.return,Te)}if(i=s.sibling,i!==null){i.return=s.return,Ce=i;break}Ce=s.return}return Pe=Yy,Yy=!1,Pe}function Va(i,s,l){var p=s.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var A=p=p.next;do{if((A.tag&i)===i){var x=A.destroy;A.destroy=void 0,x!==void 0&&yh(s,l,x)}A=A.next}while(A!==p)}}function Au(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var p=l.create;l.destroy=p()}l=l.next}while(l!==s)}}function vh(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function Xy(i){var s=i.alternate;s!==null&&(i.alternate=null,Xy(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[pr],delete s[ka],delete s[Df],delete s[NS],delete s[DS])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Jy(i){return i.tag===5||i.tag===3||i.tag===4}function Zy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Jy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function _h(i,s,l){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=tu));else if(p!==4&&(i=i.child,i!==null))for(_h(i,s,l),i=i.sibling;i!==null;)_h(i,s,l),i=i.sibling}function Eh(i,s,l){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(Eh(i,s,l),i=i.sibling;i!==null;)Eh(i,s,l),i=i.sibling}var Wt=null,tr=!1;function Si(i,s,l){for(l=l.child;l!==null;)ev(i,s,l),l=l.sibling}function ev(i,s,l){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(ao,l)}catch{}switch(l.tag){case 5:nn||As(l,s);case 6:var p=Wt,A=tr;Wt=null,Si(i,s,l),Wt=p,tr=A,Wt!==null&&(tr?(i=Wt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Wt.removeChild(l.stateNode));break;case 18:Wt!==null&&(tr?(i=Wt,l=l.stateNode,i.nodeType===8?Nf(i.parentNode,l):i.nodeType===1&&Nf(i,l),Yn(i)):Nf(Wt,l.stateNode));break;case 4:p=Wt,A=tr,Wt=l.stateNode.containerInfo,tr=!0,Si(i,s,l),Wt=p,tr=A;break;case 0:case 11:case 14:case 15:if(!nn&&(p=l.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){A=p=p.next;do{var x=A,U=x.destroy;x=x.tag,U!==void 0&&(x&2||x&4)&&yh(l,s,U),A=A.next}while(A!==p)}Si(i,s,l);break;case 1:if(!nn&&(As(l,s),p=l.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=l.memoizedProps,p.state=l.memoizedState,p.componentWillUnmount()}catch(Q){It(l,s,Q)}Si(i,s,l);break;case 21:Si(i,s,l);break;case 22:l.mode&1?(nn=(p=nn)||l.memoizedState!==null,Si(i,s,l),nn=p):Si(i,s,l);break;default:Si(i,s,l)}}function tv(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new YS),s.forEach(function(p){var A=sA.bind(null,i,p);l.has(p)||(l.add(p),p.then(A,A))})}}function nr(i,s){var l=s.deletions;if(l!==null)for(var p=0;p<l.length;p++){var A=l[p];try{var x=i,U=s,Q=U;e:for(;Q!==null;){switch(Q.tag){case 5:Wt=Q.stateNode,tr=!1;break e;case 3:Wt=Q.stateNode.containerInfo,tr=!0;break e;case 4:Wt=Q.stateNode.containerInfo,tr=!0;break e}Q=Q.return}if(Wt===null)throw Error(t(160));ev(x,U,A),Wt=null,tr=!1;var J=A.alternate;J!==null&&(J.return=null),A.return=null}catch(ce){It(A,s,ce)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)nv(s,i),s=s.sibling}function nv(i,s){var l=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(nr(s,i),yr(i),p&4){try{Va(3,i,i.return),Au(3,i)}catch(Oe){It(i,i.return,Oe)}try{Va(5,i,i.return)}catch(Oe){It(i,i.return,Oe)}}break;case 1:nr(s,i),yr(i),p&512&&l!==null&&As(l,l.return);break;case 5:if(nr(s,i),yr(i),p&512&&l!==null&&As(l,l.return),i.flags&32){var A=i.stateNode;try{ct(A,"")}catch(Oe){It(i,i.return,Oe)}}if(p&4&&(A=i.stateNode,A!=null)){var x=i.memoizedProps,U=l!==null?l.memoizedProps:x,Q=i.type,J=i.updateQueue;if(i.updateQueue=null,J!==null)try{Q==="input"&&x.type==="radio"&&x.name!=null&&Ct(A,x),ia(Q,U);var ce=ia(Q,x);for(U=0;U<J.length;U+=2){var _e=J[U],we=J[U+1];_e==="style"?ta(A,we):_e==="dangerouslySetInnerHTML"?Zi(A,we):_e==="children"?ct(A,we):P(A,_e,we,ce)}switch(Q){case"input":mt(A,x);break;case"textarea":ze(A,x);break;case"select":var ve=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!x.multiple;var ke=x.value;ke!=null?Ie(A,!!x.multiple,ke,!1):ve!==!!x.multiple&&(x.defaultValue!=null?Ie(A,!!x.multiple,x.defaultValue,!0):Ie(A,!!x.multiple,x.multiple?[]:"",!1))}A[ka]=x}catch(Oe){It(i,i.return,Oe)}}break;case 6:if(nr(s,i),yr(i),p&4){if(i.stateNode===null)throw Error(t(162));A=i.stateNode,x=i.memoizedProps;try{A.nodeValue=x}catch(Oe){It(i,i.return,Oe)}}break;case 3:if(nr(s,i),yr(i),p&4&&l!==null&&l.memoizedState.isDehydrated)try{Yn(s.containerInfo)}catch(Oe){It(i,i.return,Oe)}break;case 4:nr(s,i),yr(i);break;case 13:nr(s,i),yr(i),A=i.child,A.flags&8192&&(x=A.memoizedState!==null,A.stateNode.isHidden=x,!x||A.alternate!==null&&A.alternate.memoizedState!==null||(Sh=dt())),p&4&&tv(i);break;case 22:if(_e=l!==null&&l.memoizedState!==null,i.mode&1?(nn=(ce=nn)||_e,nr(s,i),nn=ce):nr(s,i),yr(i),p&8192){if(ce=i.memoizedState!==null,(i.stateNode.isHidden=ce)&&!_e&&i.mode&1)for(Ce=i,_e=i.child;_e!==null;){for(we=Ce=_e;Ce!==null;){switch(ve=Ce,ke=ve.child,ve.tag){case 0:case 11:case 14:case 15:Va(4,ve,ve.return);break;case 1:As(ve,ve.return);var Pe=ve.stateNode;if(typeof Pe.componentWillUnmount=="function"){p=ve,l=ve.return;try{s=p,Pe.props=s.memoizedProps,Pe.state=s.memoizedState,Pe.componentWillUnmount()}catch(Oe){It(p,l,Oe)}}break;case 5:As(ve,ve.return);break;case 22:if(ve.memoizedState!==null){ov(we);continue}}ke!==null?(ke.return=ve,Ce=ke):ov(we)}_e=_e.sibling}e:for(_e=null,we=i;;){if(we.tag===5){if(_e===null){_e=we;try{A=we.stateNode,ce?(x=A.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(Q=we.stateNode,J=we.memoizedProps.style,U=J!=null&&J.hasOwnProperty("display")?J.display:null,Q.style.display=ea("display",U))}catch(Oe){It(i,i.return,Oe)}}}else if(we.tag===6){if(_e===null)try{we.stateNode.nodeValue=ce?"":we.memoizedProps}catch(Oe){It(i,i.return,Oe)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===i)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===i)break e;for(;we.sibling===null;){if(we.return===null||we.return===i)break e;_e===we&&(_e=null),we=we.return}_e===we&&(_e=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:nr(s,i),yr(i),p&4&&tv(i);break;case 21:break;default:nr(s,i),yr(i)}}function yr(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(Jy(l)){var p=l;break e}l=l.return}throw Error(t(160))}switch(p.tag){case 5:var A=p.stateNode;p.flags&32&&(ct(A,""),p.flags&=-33);var x=Zy(i);Eh(i,x,A);break;case 3:case 4:var U=p.stateNode.containerInfo,Q=Zy(i);_h(i,Q,U);break;default:throw Error(t(161))}}catch(J){It(i,i.return,J)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function JS(i,s,l){Ce=i,rv(i)}function rv(i,s,l){for(var p=(i.mode&1)!==0;Ce!==null;){var A=Ce,x=A.child;if(A.tag===22&&p){var U=A.memoizedState!==null||Su;if(!U){var Q=A.alternate,J=Q!==null&&Q.memoizedState!==null||nn;Q=Su;var ce=nn;if(Su=U,(nn=J)&&!ce)for(Ce=A;Ce!==null;)U=Ce,J=U.child,U.tag===22&&U.memoizedState!==null?sv(A):J!==null?(J.return=U,Ce=J):sv(A);for(;x!==null;)Ce=x,rv(x),x=x.sibling;Ce=A,Su=Q,nn=ce}iv(i)}else A.subtreeFlags&8772&&x!==null?(x.return=A,Ce=x):iv(i)}}function iv(i){for(;Ce!==null;){var s=Ce;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:nn||Au(5,s);break;case 1:var p=s.stateNode;if(s.flags&4&&!nn)if(l===null)p.componentDidMount();else{var A=s.elementType===s.type?l.memoizedProps:er(s.type,l.memoizedProps);p.componentDidUpdate(A,l.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var x=s.updateQueue;x!==null&&oy(s,x,p);break;case 3:var U=s.updateQueue;if(U!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}oy(s,U,l)}break;case 5:var Q=s.stateNode;if(l===null&&s.flags&4){l=Q;var J=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&l.focus();break;case"img":J.src&&(l.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var ce=s.alternate;if(ce!==null){var _e=ce.memoizedState;if(_e!==null){var we=_e.dehydrated;we!==null&&Yn(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}nn||s.flags&512&&vh(s)}catch(ve){It(s,s.return,ve)}}if(s===i){Ce=null;break}if(l=s.sibling,l!==null){l.return=s.return,Ce=l;break}Ce=s.return}}function ov(i){for(;Ce!==null;){var s=Ce;if(s===i){Ce=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Ce=l;break}Ce=s.return}}function sv(i){for(;Ce!==null;){var s=Ce;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Au(4,s)}catch(J){It(s,l,J)}break;case 1:var p=s.stateNode;if(typeof p.componentDidMount=="function"){var A=s.return;try{p.componentDidMount()}catch(J){It(s,A,J)}}var x=s.return;try{vh(s)}catch(J){It(s,x,J)}break;case 5:var U=s.return;try{vh(s)}catch(J){It(s,U,J)}}}catch(J){It(s,s.return,J)}if(s===i){Ce=null;break}var Q=s.sibling;if(Q!==null){Q.return=s.return,Ce=Q;break}Ce=s.return}}var ZS=Math.ceil,Iu=I.ReactCurrentDispatcher,wh=I.ReactCurrentOwner,qn=I.ReactCurrentBatchConfig,rt=0,qt=null,Ot=null,Gt=0,Pn=0,Is=vi(0),Lt=0,Fa=null,To=0,bu=0,Th=0,Ua=null,_n=null,Sh=0,bs=1/0,Gr=null,ku=!1,Ah=null,Ai=null,Ru=!1,Ii=null,Cu=0,qa=0,Ih=null,Pu=-1,Ou=0;function hn(){return rt&6?dt():Pu!==-1?Pu:Pu=dt()}function bi(i){return i.mode&1?rt&2&&Gt!==0?Gt&-Gt:MS.transition!==null?(Ou===0&&(Ou=uo()),Ou):(i=Ze,i!==0||(i=window.event,i=i===void 0?16:ma(i.type)),i):1}function rr(i,s,l,p){if(50<qa)throw qa=0,Ih=null,Error(t(185));ci(i,l,p),(!(rt&2)||i!==qt)&&(i===qt&&(!(rt&2)&&(bu|=l),Lt===4&&ki(i,Gt)),En(i,p),l===1&&rt===0&&!(s.mode&1)&&(bs=dt()+500,ou&&Ei()))}function En(i,s){var l=i.callbackNode;Mr(i,s);var p=lo(i,i===qt?Gt:0);if(p===0)l!==null&&ca(l),i.callbackNode=null,i.callbackPriority=0;else if(s=p&-p,i.callbackPriority!==s){if(l!=null&&ca(l),s===1)i.tag===0?LS(lv.bind(null,i)):Wg(lv.bind(null,i)),OS(function(){!(rt&6)&&Ei()}),l=null;else{switch(hi(p)){case 1:l=so;break;case 4:l=ai;break;case 16:l=Dn;break;case 536870912:l=Ol;break;default:l=Dn}l=gv(l,av.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function av(i,s){if(Pu=-1,Ou=0,rt&6)throw Error(t(327));var l=i.callbackNode;if(ks()&&i.callbackNode!==l)return null;var p=lo(i,i===qt?Gt:0);if(p===0)return null;if(p&30||p&i.expiredLanes||s)s=xu(i,p);else{s=p;var A=rt;rt|=2;var x=cv();(qt!==i||Gt!==s)&&(Gr=null,bs=dt()+500,Ao(i,s));do try{nA();break}catch(Q){uv(i,Q)}while(!0);zf(),Iu.current=x,rt=A,Ot!==null?s=0:(qt=null,Gt=0,s=Lt)}if(s!==0){if(s===2&&(A=In(i),A!==0&&(p=A,s=bh(i,A))),s===1)throw l=Fa,Ao(i,0),ki(i,p),En(i,dt()),l;if(s===6)ki(i,p);else{if(A=i.current.alternate,!(p&30)&&!eA(A)&&(s=xu(i,p),s===2&&(x=In(i),x!==0&&(p=x,s=bh(i,x))),s===1))throw l=Fa,Ao(i,0),ki(i,p),En(i,dt()),l;switch(i.finishedWork=A,i.finishedLanes=p,s){case 0:case 1:throw Error(t(345));case 2:Io(i,_n,Gr);break;case 3:if(ki(i,p),(p&130023424)===p&&(s=Sh+500-dt(),10<s)){if(lo(i,0)!==0)break;if(A=i.suspendedLanes,(A&p)!==p){hn(),i.pingedLanes|=i.suspendedLanes&A;break}i.timeoutHandle=xf(Io.bind(null,i,_n,Gr),s);break}Io(i,_n,Gr);break;case 4:if(ki(i,p),(p&4194240)===p)break;for(s=i.eventTimes,A=-1;0<p;){var U=31-un(p);x=1<<U,U=s[U],U>A&&(A=U),p&=~x}if(p=A,p=dt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*ZS(p/1960))-p,10<p){i.timeoutHandle=xf(Io.bind(null,i,_n,Gr),p);break}Io(i,_n,Gr);break;case 5:Io(i,_n,Gr);break;default:throw Error(t(329))}}}return En(i,dt()),i.callbackNode===l?av.bind(null,i):null}function bh(i,s){var l=Ua;return i.current.memoizedState.isDehydrated&&(Ao(i,s).flags|=256),i=xu(i,s),i!==2&&(s=_n,_n=l,s!==null&&kh(s)),i}function kh(i){_n===null?_n=i:_n.push.apply(_n,i)}function eA(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var p=0;p<l.length;p++){var A=l[p],x=A.getSnapshot;A=A.value;try{if(!Jn(x(),A))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ki(i,s){for(s&=~Th,s&=~bu,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-un(s),p=1<<l;i[l]=-1,s&=~p}}function lv(i){if(rt&6)throw Error(t(327));ks();var s=lo(i,0);if(!(s&1))return En(i,dt()),null;var l=xu(i,s);if(i.tag!==0&&l===2){var p=In(i);p!==0&&(s=p,l=bh(i,p))}if(l===1)throw l=Fa,Ao(i,0),ki(i,s),En(i,dt()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Io(i,_n,Gr),En(i,dt()),null}function Rh(i,s){var l=rt;rt|=1;try{return i(s)}finally{rt=l,rt===0&&(bs=dt()+500,ou&&Ei())}}function So(i){Ii!==null&&Ii.tag===0&&!(rt&6)&&ks();var s=rt;rt|=1;var l=qn.transition,p=Ze;try{if(qn.transition=null,Ze=1,i)return i()}finally{Ze=p,qn.transition=l,rt=s,!(rt&6)&&Ei()}}function Ch(){Pn=Is.current,yt(Is)}function Ao(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,PS(l)),Ot!==null)for(l=Ot.return;l!==null;){var p=l;switch(Vf(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&ru();break;case 3:Ts(),yt(gn),yt(Zt),Xf();break;case 5:Qf(p);break;case 4:Ts();break;case 13:yt(wt);break;case 19:yt(wt);break;case 10:$f(p.type._context);break;case 22:case 23:Ch()}l=l.return}if(qt=i,Ot=i=Ri(i.current,null),Gt=Pn=s,Lt=0,Fa=null,Th=bu=To=0,_n=Ua=null,_o!==null){for(s=0;s<_o.length;s++)if(l=_o[s],p=l.interleaved,p!==null){l.interleaved=null;var A=p.next,x=l.pending;if(x!==null){var U=x.next;x.next=A,p.next=U}l.pending=p}_o=null}return i}function uv(i,s){do{var l=Ot;try{if(zf(),mu.current=_u,gu){for(var p=Tt.memoizedState;p!==null;){var A=p.queue;A!==null&&(A.pending=null),p=p.next}gu=!1}if(wo=0,Ut=Dt=Tt=null,Na=!1,Da=0,wh.current=null,l===null||l.return===null){Lt=1,Fa=s,Ot=null;break}e:{var x=i,U=l.return,Q=l,J=s;if(s=Gt,Q.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var ce=J,_e=Q,we=_e.tag;if(!(_e.mode&1)&&(we===0||we===11||we===15)){var ve=_e.alternate;ve?(_e.updateQueue=ve.updateQueue,_e.memoizedState=ve.memoizedState,_e.lanes=ve.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var ke=Dy(U);if(ke!==null){ke.flags&=-257,Ly(ke,U,Q,x,s),ke.mode&1&&Ny(x,ce,s),s=ke,J=ce;var Pe=s.updateQueue;if(Pe===null){var Oe=new Set;Oe.add(J),s.updateQueue=Oe}else Pe.add(J);break e}else{if(!(s&1)){Ny(x,ce,s),Ph();break e}J=Error(t(426))}}else if(_t&&Q.mode&1){var kt=Dy(U);if(kt!==null){!(kt.flags&65536)&&(kt.flags|=256),Ly(kt,U,Q,x,s),qf(Ss(J,Q));break e}}x=J=Ss(J,Q),Lt!==4&&(Lt=2),Ua===null?Ua=[x]:Ua.push(x),x=U;do{switch(x.tag){case 3:x.flags|=65536,s&=-s,x.lanes|=s;var le=Oy(x,J,s);iy(x,le);break e;case 1:Q=J;var te=x.type,ue=x.stateNode;if(!(x.flags&128)&&(typeof te.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(Ai===null||!Ai.has(ue)))){x.flags|=65536,s&=-s,x.lanes|=s;var Te=xy(x,Q,s);iy(x,Te);break e}}x=x.return}while(x!==null)}hv(l)}catch(xe){s=xe,Ot===l&&l!==null&&(Ot=l=l.return);continue}break}while(!0)}function cv(){var i=Iu.current;return Iu.current=_u,i===null?_u:i}function Ph(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),qt===null||!(To&268435455)&&!(bu&268435455)||ki(qt,Gt)}function xu(i,s){var l=rt;rt|=2;var p=cv();(qt!==i||Gt!==s)&&(Gr=null,Ao(i,s));do try{tA();break}catch(A){uv(i,A)}while(!0);if(zf(),rt=l,Iu.current=p,Ot!==null)throw Error(t(261));return qt=null,Gt=0,Lt}function tA(){for(;Ot!==null;)fv(Ot)}function nA(){for(;Ot!==null&&!Cl();)fv(Ot)}function fv(i){var s=mv(i.alternate,i,Pn);i.memoizedProps=i.pendingProps,s===null?hv(i):Ot=s,wh.current=null}function hv(i){var s=i;do{var l=s.alternate;if(i=s.return,s.flags&32768){if(l=QS(l,s),l!==null){l.flags&=32767,Ot=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Lt=6,Ot=null;return}}else if(l=GS(l,s,Pn),l!==null){Ot=l;return}if(s=s.sibling,s!==null){Ot=s;return}Ot=s=i}while(s!==null);Lt===0&&(Lt=5)}function Io(i,s,l){var p=Ze,A=qn.transition;try{qn.transition=null,Ze=1,rA(i,s,l,p)}finally{qn.transition=A,Ze=p}return null}function rA(i,s,l,p){do ks();while(Ii!==null);if(rt&6)throw Error(t(327));l=i.finishedWork;var A=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var x=l.lanes|l.childLanes;if(ht(i,x),i===qt&&(Ot=qt=null,Gt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Ru||(Ru=!0,gv(Dn,function(){return ks(),null})),x=(l.flags&15990)!==0,l.subtreeFlags&15990||x){x=qn.transition,qn.transition=null;var U=Ze;Ze=1;var Q=rt;rt|=4,wh.current=null,XS(i,l),nv(l,i),SS(Pf),pi=!!Cf,Pf=Cf=null,i.current=l,JS(l),df(),rt=Q,Ze=U,qn.transition=x}else i.current=l;if(Ru&&(Ru=!1,Ii=i,Cu=A),x=i.pendingLanes,x===0&&(Ai=null),xl(l.stateNode),En(i,dt()),s!==null)for(p=i.onRecoverableError,l=0;l<s.length;l++)A=s[l],p(A.value,{componentStack:A.stack,digest:A.digest});if(ku)throw ku=!1,i=Ah,Ah=null,i;return Cu&1&&i.tag!==0&&ks(),x=i.pendingLanes,x&1?i===Ih?qa++:(qa=0,Ih=i):qa=0,Ei(),null}function ks(){if(Ii!==null){var i=hi(Cu),s=qn.transition,l=Ze;try{if(qn.transition=null,Ze=16>i?16:i,Ii===null)var p=!1;else{if(i=Ii,Ii=null,Cu=0,rt&6)throw Error(t(331));var A=rt;for(rt|=4,Ce=i.current;Ce!==null;){var x=Ce,U=x.child;if(Ce.flags&16){var Q=x.deletions;if(Q!==null){for(var J=0;J<Q.length;J++){var ce=Q[J];for(Ce=ce;Ce!==null;){var _e=Ce;switch(_e.tag){case 0:case 11:case 15:Va(8,_e,x)}var we=_e.child;if(we!==null)we.return=_e,Ce=we;else for(;Ce!==null;){_e=Ce;var ve=_e.sibling,ke=_e.return;if(Xy(_e),_e===ce){Ce=null;break}if(ve!==null){ve.return=ke,Ce=ve;break}Ce=ke}}}var Pe=x.alternate;if(Pe!==null){var Oe=Pe.child;if(Oe!==null){Pe.child=null;do{var kt=Oe.sibling;Oe.sibling=null,Oe=kt}while(Oe!==null)}}Ce=x}}if(x.subtreeFlags&2064&&U!==null)U.return=x,Ce=U;else e:for(;Ce!==null;){if(x=Ce,x.flags&2048)switch(x.tag){case 0:case 11:case 15:Va(9,x,x.return)}var le=x.sibling;if(le!==null){le.return=x.return,Ce=le;break e}Ce=x.return}}var te=i.current;for(Ce=te;Ce!==null;){U=Ce;var ue=U.child;if(U.subtreeFlags&2064&&ue!==null)ue.return=U,Ce=ue;else e:for(U=te;Ce!==null;){if(Q=Ce,Q.flags&2048)try{switch(Q.tag){case 0:case 11:case 15:Au(9,Q)}}catch(xe){It(Q,Q.return,xe)}if(Q===U){Ce=null;break e}var Te=Q.sibling;if(Te!==null){Te.return=Q.return,Ce=Te;break e}Ce=Q.return}}if(rt=A,Ei(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(ao,i)}catch{}p=!0}return p}finally{Ze=l,qn.transition=s}}return!1}function dv(i,s,l){s=Ss(l,s),s=Oy(i,s,1),i=Ti(i,s,1),s=hn(),i!==null&&(ci(i,1,s),En(i,s))}function It(i,s,l){if(i.tag===3)dv(i,i,l);else for(;s!==null;){if(s.tag===3){dv(s,i,l);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ai===null||!Ai.has(p))){i=Ss(l,i),i=xy(s,i,1),s=Ti(s,i,1),i=hn(),s!==null&&(ci(s,1,i),En(s,i));break}}s=s.return}}function iA(i,s,l){var p=i.pingCache;p!==null&&p.delete(s),s=hn(),i.pingedLanes|=i.suspendedLanes&l,qt===i&&(Gt&l)===l&&(Lt===4||Lt===3&&(Gt&130023424)===Gt&&500>dt()-Sh?Ao(i,0):Th|=l),En(i,s)}function pv(i,s){s===0&&(i.mode&1?(s=Yo,Yo<<=1,!(Yo&130023424)&&(Yo=4194304)):s=1);var l=hn();i=Hr(i,s),i!==null&&(ci(i,s,l),En(i,l))}function oA(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),pv(i,l)}function sA(i,s){var l=0;switch(i.tag){case 13:var p=i.stateNode,A=i.memoizedState;A!==null&&(l=A.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(s),pv(i,l)}var mv;mv=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||gn.current)vn=!0;else{if(!(i.lanes&l)&&!(s.flags&128))return vn=!1,WS(i,s,l);vn=!!(i.flags&131072)}else vn=!1,_t&&s.flags&1048576&&Gg(s,au,s.index);switch(s.lanes=0,s.tag){case 2:var p=s.type;Tu(i,s),i=s.pendingProps;var A=ms(s,Zt.current);ws(s,l),A=eh(null,s,p,i,A,l);var x=th();return s.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,yn(p)?(x=!0,iu(s)):x=!1,s.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,Wf(s),A.updater=Eu,s.stateNode=A,A._reactInternals=s,ah(s,p,i,l),s=fh(null,s,p,!0,x,l)):(s.tag=0,_t&&x&&jf(s),fn(null,s,A,l),s=s.child),s;case 16:p=s.elementType;e:{switch(Tu(i,s),i=s.pendingProps,A=p._init,p=A(p._payload),s.type=p,A=s.tag=lA(p),i=er(p,i),A){case 0:s=ch(null,s,p,i,l);break e;case 1:s=qy(null,s,p,i,l);break e;case 11:s=My(null,s,p,i,l);break e;case 14:s=jy(null,s,p,er(p.type,i),l);break e}throw Error(t(306,p,""))}return s;case 0:return p=s.type,A=s.pendingProps,A=s.elementType===p?A:er(p,A),ch(i,s,p,A,l);case 1:return p=s.type,A=s.pendingProps,A=s.elementType===p?A:er(p,A),qy(i,s,p,A,l);case 3:e:{if(By(s),i===null)throw Error(t(387));p=s.pendingProps,x=s.memoizedState,A=x.element,ry(i,s),du(s,p,null,l);var U=s.memoizedState;if(p=U.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){A=Ss(Error(t(423)),s),s=zy(i,s,p,l,A);break e}else if(p!==A){A=Ss(Error(t(424)),s),s=zy(i,s,p,l,A);break e}else for(Cn=yi(s.stateNode.containerInfo.firstChild),Rn=s,_t=!0,Zn=null,l=ty(s,null,p,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(vs(),p===A){s=Wr(i,s,l);break e}fn(i,s,p,l)}s=s.child}return s;case 5:return sy(s),i===null&&Uf(s),p=s.type,A=s.pendingProps,x=i!==null?i.memoizedProps:null,U=A.children,Of(p,A)?U=null:x!==null&&Of(p,x)&&(s.flags|=32),Uy(i,s),fn(i,s,U,l),s.child;case 6:return i===null&&Uf(s),null;case 13:return $y(i,s,l);case 4:return Gf(s,s.stateNode.containerInfo),p=s.pendingProps,i===null?s.child=_s(s,null,p,l):fn(i,s,p,l),s.child;case 11:return p=s.type,A=s.pendingProps,A=s.elementType===p?A:er(p,A),My(i,s,p,A,l);case 7:return fn(i,s,s.pendingProps,l),s.child;case 8:return fn(i,s,s.pendingProps.children,l),s.child;case 12:return fn(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(p=s.type._context,A=s.pendingProps,x=s.memoizedProps,U=A.value,pt(cu,p._currentValue),p._currentValue=U,x!==null)if(Jn(x.value,U)){if(x.children===A.children&&!gn.current){s=Wr(i,s,l);break e}}else for(x=s.child,x!==null&&(x.return=s);x!==null;){var Q=x.dependencies;if(Q!==null){U=x.child;for(var J=Q.firstContext;J!==null;){if(J.context===p){if(x.tag===1){J=Kr(-1,l&-l),J.tag=2;var ce=x.updateQueue;if(ce!==null){ce=ce.shared;var _e=ce.pending;_e===null?J.next=J:(J.next=_e.next,_e.next=J),ce.pending=J}}x.lanes|=l,J=x.alternate,J!==null&&(J.lanes|=l),Hf(x.return,l,s),Q.lanes|=l;break}J=J.next}}else if(x.tag===10)U=x.type===s.type?null:x.child;else if(x.tag===18){if(U=x.return,U===null)throw Error(t(341));U.lanes|=l,Q=U.alternate,Q!==null&&(Q.lanes|=l),Hf(U,l,s),U=x.sibling}else U=x.child;if(U!==null)U.return=x;else for(U=x;U!==null;){if(U===s){U=null;break}if(x=U.sibling,x!==null){x.return=U.return,U=x;break}U=U.return}x=U}fn(i,s,A.children,l),s=s.child}return s;case 9:return A=s.type,p=s.pendingProps.children,ws(s,l),A=Fn(A),p=p(A),s.flags|=1,fn(i,s,p,l),s.child;case 14:return p=s.type,A=er(p,s.pendingProps),A=er(p.type,A),jy(i,s,p,A,l);case 15:return Vy(i,s,s.type,s.pendingProps,l);case 17:return p=s.type,A=s.pendingProps,A=s.elementType===p?A:er(p,A),Tu(i,s),s.tag=1,yn(p)?(i=!0,iu(s)):i=!1,ws(s,l),Cy(s,p,A),ah(s,p,A,l),fh(null,s,p,!0,i,l);case 19:return Ky(i,s,l);case 22:return Fy(i,s,l)}throw Error(t(156,s.tag))};function gv(i,s){return Go(i,s)}function aA(i,s,l,p){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(i,s,l,p){return new aA(i,s,l,p)}function Oh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function lA(i){if(typeof i=="function")return Oh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===D)return 11;if(i===G)return 14}return 2}function Ri(i,s){var l=i.alternate;return l===null?(l=Bn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Nu(i,s,l,p,A,x){var U=2;if(p=i,typeof i=="function")Oh(i)&&(U=1);else if(typeof i=="string")U=5;else e:switch(i){case O:return bo(l.children,A,x,s);case R:U=8,A|=8;break;case N:return i=Bn(12,l,s,A|2),i.elementType=N,i.lanes=x,i;case L:return i=Bn(13,l,s,A),i.elementType=L,i.lanes=x,i;case $:return i=Bn(19,l,s,A),i.elementType=$,i.lanes=x,i;case ne:return Du(l,A,x,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:U=10;break e;case b:U=9;break e;case D:U=11;break e;case G:U=14;break e;case re:U=16,p=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=Bn(U,l,s,A),s.elementType=i,s.type=p,s.lanes=x,s}function bo(i,s,l,p){return i=Bn(7,i,p,s),i.lanes=l,i}function Du(i,s,l,p){return i=Bn(22,i,p,s),i.elementType=ne,i.lanes=l,i.stateNode={isHidden:!1},i}function xh(i,s,l){return i=Bn(6,i,null,s),i.lanes=l,i}function Nh(i,s,l){return s=Bn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function uA(i,s,l,p,A){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ui(0),this.expirationTimes=ui(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.identifierPrefix=p,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function Dh(i,s,l,p,A,x,U,Q,J){return i=new uA(i,s,l,Q,J),s===1?(s=1,x===!0&&(s|=8)):s=0,x=Bn(3,null,null,s),i.current=x,x.stateNode=i,x.memoizedState={element:p,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wf(x),i}function cA(i,s,l){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:p==null?null:""+p,children:i,containerInfo:s,implementation:l}}function yv(i){if(!i)return _i;i=i._reactInternals;e:{if(Hn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(yn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(yn(l))return Hg(i,l,s)}return s}function vv(i,s,l,p,A,x,U,Q,J){return i=Dh(l,p,!0,i,A,x,U,Q,J),i.context=yv(null),l=i.current,p=hn(),A=bi(l),x=Kr(p,A),x.callback=s??null,Ti(l,x,A),i.current.lanes=A,ci(i,A,p),En(i,p),i}function Lu(i,s,l,p){var A=s.current,x=hn(),U=bi(A);return l=yv(l),s.context===null?s.context=l:s.pendingContext=l,s=Kr(x,U),s.payload={element:i},p=p===void 0?null:p,p!==null&&(s.callback=p),i=Ti(A,s,U),i!==null&&(rr(i,A,U,x),hu(i,A,U)),U}function Mu(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function _v(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Lh(i,s){_v(i,s),(i=i.alternate)&&_v(i,s)}var Ev=typeof reportError=="function"?reportError:function(i){console.error(i)};function Mh(i){this._internalRoot=i}ju.prototype.render=Mh.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));Lu(i,s,null,null)},ju.prototype.unmount=Mh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;So(function(){Lu(null,i,null,null)}),s[qr]=null}};function ju(i){this._internalRoot=i}ju.prototype.unstable_scheduleHydration=function(i){if(i){var s=jl();i={blockedOn:null,target:i,priority:s};for(var l=0;l<cr.length&&s!==0&&s<cr[l].priority;l++);cr.splice(l,0,i),l===0&&Ul(i)}};function jh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Vu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function wv(){}function fA(i,s,l,p,A){if(A){if(typeof p=="function"){var x=p;p=function(){var ce=Mu(U);x.call(ce)}}var U=vv(s,p,i,0,null,!1,!1,"",wv);return i._reactRootContainer=U,i[qr]=U.current,Ia(i.nodeType===8?i.parentNode:i),So(),U}for(;A=i.lastChild;)i.removeChild(A);if(typeof p=="function"){var Q=p;p=function(){var ce=Mu(J);Q.call(ce)}}var J=Dh(i,0,!1,null,null,!1,!1,"",wv);return i._reactRootContainer=J,i[qr]=J.current,Ia(i.nodeType===8?i.parentNode:i),So(function(){Lu(s,J,l,p)}),J}function Fu(i,s,l,p,A){var x=l._reactRootContainer;if(x){var U=x;if(typeof A=="function"){var Q=A;A=function(){var J=Mu(U);Q.call(J)}}Lu(s,U,i,A)}else U=fA(l,s,i,A,p);return Mu(U)}Ll=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=li(s.pendingLanes);l!==0&&(fi(s,l|1),En(s,dt()),!(rt&6)&&(bs=dt()+500,Ei()))}break;case 13:So(function(){var p=Hr(i,1);if(p!==null){var A=hn();rr(p,i,1,A)}}),Lh(i,1)}},Xo=function(i){if(i.tag===13){var s=Hr(i,134217728);if(s!==null){var l=hn();rr(s,i,134217728,l)}Lh(i,134217728)}},Ml=function(i){if(i.tag===13){var s=bi(i),l=Hr(i,s);if(l!==null){var p=hn();rr(l,i,s,p)}Lh(i,s)}},jl=function(){return Ze},Vl=function(i,s){var l=Ze;try{return Ze=i,s()}finally{Ze=l}},Bo=function(i,s,l){switch(s){case"input":if(mt(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var p=l[s];if(p!==i&&p.form===i.form){var A=nu(p);if(!A)throw Error(t(90));De(p),mt(p,A)}}}break;case"textarea":ze(i,l);break;case"select":s=l.value,s!=null&&Ie(i,!!l.multiple,s,!1)}},no=Rh,sa=So;var hA={usingClientEntryPoint:!1,Events:[Ra,ds,nu,lr,oa,Rh]},Ba={findFiberByHostInstance:mo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dA={bundleType:Ba.bundleType,version:Ba.version,rendererPackageName:Ba.rendererPackageName,rendererConfig:Ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ua(i),i===null?null:i.stateNode},findFiberByHostInstance:Ba.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uu.isDisabled&&Uu.supportsFiber)try{ao=Uu.inject(dA),An=Uu}catch{}}return wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hA,wn.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jh(s))throw Error(t(200));return cA(i,s,null,l)},wn.createRoot=function(i,s){if(!jh(i))throw Error(t(299));var l=!1,p="",A=Ev;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=Dh(i,1,!1,null,null,l,!1,p,A),i[qr]=s.current,Ia(i.nodeType===8?i.parentNode:i),new Mh(s)},wn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=ua(s),i=i===null?null:i.stateNode,i},wn.flushSync=function(i){return So(i)},wn.hydrate=function(i,s,l){if(!Vu(s))throw Error(t(200));return Fu(null,i,s,!0,l)},wn.hydrateRoot=function(i,s,l){if(!jh(i))throw Error(t(405));var p=l!=null&&l.hydratedSources||null,A=!1,x="",U=Ev;if(l!=null&&(l.unstable_strictMode===!0&&(A=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(U=l.onRecoverableError)),s=vv(s,null,i,1,l??null,A,!1,x,U),i[qr]=s.current,Ia(i),p)for(i=0;i<p.length;i++)l=p[i],A=l._getVersion,A=A(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,A]:s.mutableSourceEagerHydrationData.push(l,A);return new ju(s)},wn.render=function(i,s,l){if(!Vu(s))throw Error(t(200));return Fu(null,i,s,!1,l)},wn.unmountComponentAtNode=function(i){if(!Vu(i))throw Error(t(40));return i._reactRootContainer?(So(function(){Fu(null,null,i,!1,function(){i._reactRootContainer=null,i[qr]=null})}),!0):!1},wn.unstable_batchedUpdates=Rh,wn.unstable_renderSubtreeIntoContainer=function(i,s,l,p){if(!Vu(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Fu(i,s,l,!1,p)},wn.version="18.3.1-next-f1338f8080-20240426",wn}var Cv;function r0(){if(Cv)return Uh.exports;Cv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Uh.exports=EA(),Uh.exports}var Pv;function wA(){if(Pv)return Bu;Pv=1;var n=r0();return Bu.createRoot=n.createRoot,Bu.hydrateRoot=n.hydrateRoot,Bu}var TA=wA(),$a={},Ov;function SA(){if(Ov)return $a;Ov=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.parse=u,$a.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const d=function(){};return d.prototype=Object.create(null),d})();function u(d,y){const w=new a,T=d.length;if(T<2)return w;const _=(y==null?void 0:y.decode)||v;let E=0;do{const S=d.indexOf("=",E);if(S===-1)break;const P=d.indexOf(";",E),I=P===-1?T:P;if(S>I){E=d.lastIndexOf(";",S-1)+1;continue}const M=f(d,E,S),F=h(d,S,M),O=d.slice(M,F);if(w[O]===void 0){let R=f(d,S+1,I),N=h(d,I,R);const k=_(d.slice(R,N));w[O]=k}E=I+1}while(E<T);return w}function f(d,y,w){do{const T=d.charCodeAt(y);if(T!==32&&T!==9)return y}while(++y<w);return w}function h(d,y,w){for(;y>w;){const T=d.charCodeAt(--y);if(T!==32&&T!==9)return y+1}return w}function m(d,y,w){const T=(w==null?void 0:w.encode)||encodeURIComponent;if(!n.test(d))throw new TypeError(`argument name is invalid: ${d}`);const _=T(y);if(!e.test(_))throw new TypeError(`argument val is invalid: ${y}`);let E=d+"="+_;if(!w)return E;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);E+="; Max-Age="+w.maxAge}if(w.domain){if(!t.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);E+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);E+="; Path="+w.path}if(w.expires){if(!g(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);E+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(E+="; HttpOnly"),w.secure&&(E+="; Secure"),w.partitioned&&(E+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return E}function v(d){if(d.indexOf("%")===-1)return d;try{return decodeURIComponent(d)}catch{return d}}function g(d){return o.call(d)==="[object Date]"}return $a}SA();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xv="popstate";function AA(n={}){function e(r,o){let{pathname:a,search:u,hash:f}=r.location;return Up("",{pathname:a,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:il(o)}return bA(e,t,null,n)}function St(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function kr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IA(){return Math.random().toString(36).substring(2,10)}function Nv(n,e){return{usr:n.state,key:n.key,idx:e}}function Up(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ks(e):e,state:t,key:e&&e.key||r||IA()}}function il({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ks(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function bA(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,f="POP",h=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function g(){f="POP";let _=v(),E=_==null?null:_-m;m=_,h&&h({action:f,location:T.location,delta:E})}function d(_,E){f="PUSH";let S=Up(T.location,_,E);m=v()+1;let P=Nv(S,m),I=T.createHref(S);try{u.pushState(P,"",I)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;o.location.assign(I)}a&&h&&h({action:f,location:T.location,delta:1})}function y(_,E){f="REPLACE";let S=Up(T.location,_,E);m=v();let P=Nv(S,m),I=T.createHref(S);u.replaceState(P,"",I),a&&h&&h({action:f,location:T.location,delta:0})}function w(_){let E=o.location.origin!=="null"?o.location.origin:o.location.href,S=typeof _=="string"?_:il(_);return S=S.replace(/ $/,"%20"),St(E,`No window.location.(origin|href) available to create URL for href: ${S}`),new URL(S,E)}let T={get action(){return f},get location(){return n(o,u)},listen(_){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(xv,g),h=_,()=>{o.removeEventListener(xv,g),h=null}},createHref(_){return e(o,_)},createURL:w,encodeLocation(_){let E=w(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:d,replace:y,go(_){return u.go(_)}};return T}function i0(n,e,t="/"){return kA(n,e,t,!1)}function kA(n,e,t,r){let o=typeof e=="string"?Ks(e):e,a=Bi(o.pathname||"/",t);if(a==null)return null;let u=o0(n);RA(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let m=FA(a);f=jA(u[h],m,r)}return f}function o0(n,e=[],t=[],r=""){let o=(a,u,f)=>{let h={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(St(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let m=Jr([r,h.relativePath]),v=t.concat(h);a.children&&a.children.length>0&&(St(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),o0(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:LA(m,a.index),routesMeta:v})};return n.forEach((a,u)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))o(a,u);else for(let h of s0(a.path))o(a,u,h)}),e}function s0(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=s0(r.join("/")),f=[];return f.push(...u.map(h=>h===""?a:[a,h].join("/"))),o&&f.push(...u),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function RA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:MA(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var CA=/^:[\w-]+$/,PA=3,OA=2,xA=1,NA=10,DA=-2,Dv=n=>n==="*";function LA(n,e){let t=n.split("/"),r=t.length;return t.some(Dv)&&(r+=DA),e&&(r+=OA),t.filter(o=>!Dv(o)).reduce((o,a)=>o+(CA.test(a)?PA:a===""?xA:NA),r)}function MA(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function jA(n,e,t=!1){let{routesMeta:r}=n,o={},a="/",u=[];for(let f=0;f<r.length;++f){let h=r[f],m=f===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",g=cc({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},v),d=h.route;if(!g&&m&&t&&!r[r.length-1].route.index&&(g=cc({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!g)return null;Object.assign(o,g.params),u.push({params:o,pathname:Jr([a,g.pathname]),pathnameBase:zA(Jr([a,g.pathnameBase])),route:d}),g.pathnameBase!=="/"&&(a=Jr([a,g.pathnameBase]))}return u}function cc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=VA(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:r.reduce((m,{paramName:v,isOptional:g},d)=>{if(v==="*"){let w=f[d]||"";u=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const y=f[d];return g&&!y?m[v]=void 0:m[v]=(y||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function VA(n,e=!1,t=!0){kr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(r.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function FA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Bi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function UA(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?Ks(n):n;return{pathname:t?t.startsWith("/")?t:qA(t,e):e,search:$A(r),hash:HA(o)}}function qA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function zh(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function a0(n){let e=BA(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function l0(n,e,t,r=!1){let o;typeof n=="string"?o=Ks(n):(o={...n},St(!o.pathname||!o.pathname.includes("?"),zh("?","pathname","search",o)),St(!o.pathname||!o.pathname.includes("#"),zh("#","pathname","hash",o)),St(!o.search||!o.search.includes("#"),zh("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,f;if(u==null)f=t;else{let g=e.length-1;if(!r&&u.startsWith("..")){let d=u.split("/");for(;d[0]==="..";)d.shift(),g-=1;o.pathname=d.join("/")}f=g>=0?e[g]:"/"}let h=UA(o,f),m=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(m||v)&&(h.pathname+="/"),h}var Jr=n=>n.join("/").replace(/\/\/+/g,"/"),zA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),$A=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,HA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function KA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var u0=["POST","PUT","PATCH","DELETE"];new Set(u0);var WA=["GET",...u0];new Set(WA);var Ws=de.createContext(null);Ws.displayName="DataRouter";var Nc=de.createContext(null);Nc.displayName="DataRouterState";var c0=de.createContext({isTransitioning:!1});c0.displayName="ViewTransition";var GA=de.createContext(new Map);GA.displayName="Fetchers";var QA=de.createContext(null);QA.displayName="Await";var Or=de.createContext(null);Or.displayName="Navigation";var dl=de.createContext(null);dl.displayName="Location";var xr=de.createContext({outlet:null,matches:[],isDataRoute:!1});xr.displayName="Route";var mm=de.createContext(null);mm.displayName="RouteError";function YA(n,{relative:e}={}){St(pl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=de.useContext(Or),{hash:o,pathname:a,search:u}=gl(n,{relative:e}),f=a;return t!=="/"&&(f=a==="/"?t:Jr([t,a])),r.createHref({pathname:f,search:u,hash:o})}function pl(){return de.useContext(dl)!=null}function jo(){return St(pl(),"useLocation() may be used only in the context of a <Router> component."),de.useContext(dl).location}var f0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function h0(n){de.useContext(Or).static||de.useLayoutEffect(n)}function ml(){let{isDataRoute:n}=de.useContext(xr);return n?uI():XA()}function XA(){St(pl(),"useNavigate() may be used only in the context of a <Router> component.");let n=de.useContext(Ws),{basename:e,navigator:t}=de.useContext(Or),{matches:r}=de.useContext(xr),{pathname:o}=jo(),a=JSON.stringify(a0(r)),u=de.useRef(!1);return h0(()=>{u.current=!0}),de.useCallback((h,m={})=>{if(kr(u.current,f0),!u.current)return;if(typeof h=="number"){t.go(h);return}let v=l0(h,JSON.parse(a),o,m.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Jr([e,v.pathname])),(m.replace?t.replace:t.push)(v,m.state,m)},[e,t,a,o,n])}de.createContext(null);function d0(){let{matches:n}=de.useContext(xr),e=n[n.length-1];return e?e.params:{}}function gl(n,{relative:e}={}){let{matches:t}=de.useContext(xr),{pathname:r}=jo(),o=JSON.stringify(a0(t));return de.useMemo(()=>l0(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function JA(n,e){return p0(n,e)}function p0(n,e,t,r){var E;St(pl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=de.useContext(Or),{matches:a}=de.useContext(xr),u=a[a.length-1],f=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",v=u&&u.route;{let S=v&&v.path||"";m0(h,!v||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let g=jo(),d;if(e){let S=typeof e=="string"?Ks(e):e;St(m==="/"||((E=S.pathname)==null?void 0:E.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${S.pathname}" was given in the \`location\` prop.`),d=S}else d=g;let y=d.pathname||"/",w=y;if(m!=="/"){let S=m.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let T=i0(n,{pathname:w});kr(v||T!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),kr(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=rI(T&&T.map(S=>Object.assign({},S,{params:Object.assign({},f,S.params),pathname:Jr([m,o.encodeLocation?o.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?m:Jr([m,o.encodeLocation?o.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,t,r);return e&&_?de.createElement(dl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},_):_}function ZA(){let n=lI(),e=KA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=de.createElement(de.Fragment,null,de.createElement("p",null," Hey developer "),de.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",de.createElement("code",{style:a},"ErrorBoundary")," or"," ",de.createElement("code",{style:a},"errorElement")," prop on your route.")),de.createElement(de.Fragment,null,de.createElement("h2",null,"Unexpected Application Error!"),de.createElement("h3",{style:{fontStyle:"italic"}},e),t?de.createElement("pre",{style:o},t):null,u)}var eI=de.createElement(ZA,null),tI=class extends de.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?de.createElement(xr.Provider,{value:this.props.routeContext},de.createElement(mm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nI({routeContext:n,match:e,children:t}){let r=de.useContext(Ws);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),de.createElement(xr.Provider,{value:n},t)}function rI(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let h=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);St(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,f=-1;if(t)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:v,errors:g}=t,d=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!g||g[m.route.id]===void 0);if(m.route.lazy||d){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((h,m,v)=>{let g,d=!1,y=null,w=null;t&&(g=a&&m.route.id?a[m.route.id]:void 0,y=m.route.errorElement||eI,u&&(f<0&&v===0?(m0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,w=null):f===v&&(d=!0,w=m.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,v+1)),_=()=>{let E;return g?E=y:d?E=w:m.route.Component?E=de.createElement(m.route.Component,null):m.route.element?E=m.route.element:E=h,de.createElement(nI,{match:m,routeContext:{outlet:h,matches:T,isDataRoute:t!=null},children:E})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?de.createElement(tI,{location:t.location,revalidation:t.revalidation,component:y,error:g,children:_(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):_()},null)}function gm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iI(n){let e=de.useContext(Ws);return St(e,gm(n)),e}function oI(n){let e=de.useContext(Nc);return St(e,gm(n)),e}function sI(n){let e=de.useContext(xr);return St(e,gm(n)),e}function ym(n){let e=sI(n),t=e.matches[e.matches.length-1];return St(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function aI(){return ym("useRouteId")}function lI(){var r;let n=de.useContext(mm),e=oI("useRouteError"),t=ym("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function uI(){let{router:n}=iI("useNavigate"),e=ym("useNavigate"),t=de.useRef(!1);return h0(()=>{t.current=!0}),de.useCallback(async(o,a={})=>{kr(t.current,f0),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var Lv={};function m0(n,e,t){!e&&!Lv[n]&&(Lv[n]=!0,kr(!1,t))}de.memo(cI);function cI({routes:n,future:e,state:t}){return p0(n,void 0,t,e)}function ko(n){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fI({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:a=!1}){St(!pl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=de.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=Ks(t));let{pathname:h="/",search:m="",hash:v="",state:g=null,key:d="default"}=t,y=de.useMemo(()=>{let w=Bi(h,u);return w==null?null:{location:{pathname:w,search:m,hash:v,state:g,key:d},navigationType:r}},[u,h,m,v,g,d,r]);return kr(y!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:de.createElement(Or.Provider,{value:f},de.createElement(dl.Provider,{children:e,value:y}))}function hI({children:n,location:e}){return JA(qp(n),e)}function qp(n,e=[]){let t=[];return de.Children.forEach(n,(r,o)=>{if(!de.isValidElement(r))return;let a=[...e,o];if(r.type===de.Fragment){t.push.apply(t,qp(r.props.children,a));return}St(r.type===ko,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=qp(r.props.children,a)),t.push(u)}),t}var Xu="get",Ju="application/x-www-form-urlencoded";function Dc(n){return n!=null&&typeof n.tagName=="string"}function dI(n){return Dc(n)&&n.tagName.toLowerCase()==="button"}function pI(n){return Dc(n)&&n.tagName.toLowerCase()==="form"}function mI(n){return Dc(n)&&n.tagName.toLowerCase()==="input"}function gI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function yI(n,e){return n.button===0&&(!e||e==="_self")&&!gI(n)}var zu=null;function vI(){if(zu===null)try{new FormData(document.createElement("form"),0),zu=!1}catch{zu=!0}return zu}var _I=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $h(n){return n!=null&&!_I.has(n)?(kr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ju}"`),null):n}function EI(n,e){let t,r,o,a,u;if(pI(n)){let f=n.getAttribute("action");r=f?Bi(f,e):null,t=n.getAttribute("method")||Xu,o=$h(n.getAttribute("enctype"))||Ju,a=new FormData(n)}else if(dI(n)||mI(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||f.getAttribute("action");if(r=h?Bi(h,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Xu,o=$h(n.getAttribute("formenctype"))||$h(f.getAttribute("enctype"))||Ju,a=new FormData(f,n),!vI()){let{name:m,type:v,value:g}=n;if(v==="image"){let d=m?`${m}.`:"";a.append(`${d}x`,"0"),a.append(`${d}y`,"0")}else m&&a.append(m,g)}}else{if(Dc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Xu,r=null,o=Ju,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:u}}function vm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function wI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function SI(n,e,t){let r=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await wI(a,t);return u.links?u.links():[]}return[]}));return kI(r.flat(1).filter(TI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Mv(n,e,t,r,o,a){let u=(h,m)=>t[m]?h.route.id!==t[m].route.id:!0,f=(h,m)=>{var v;return t[m].pathname!==h.pathname||((v=t[m].route.path)==null?void 0:v.endsWith("*"))&&t[m].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,m)=>u(h,m)||f(h,m)):a==="data"?e.filter((h,m)=>{var g;let v=r.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(u(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let d=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function AI(n,e){return II(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let o=[r.module];return r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function II(n){return[...new Set(n)]}function bI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function kI(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let a=JSON.stringify(bI(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}function RI(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function CI(){let n=de.useContext(Ws);return vm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function PI(){let n=de.useContext(Nc);return vm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var _m=de.createContext(void 0);_m.displayName="FrameworkContext";function g0(){let n=de.useContext(_m);return vm(n,"You must render this element inside a <HydratedRouter> element"),n}function OI(n,e){let t=de.useContext(_m),[r,o]=de.useState(!1),[a,u]=de.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:v,onTouchStart:g}=e,d=de.useRef(null);de.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let T=E=>{E.forEach(S=>{u(S.isIntersecting)})},_=new IntersectionObserver(T,{threshold:.5});return d.current&&_.observe(d.current),()=>{_.disconnect()}}},[n]),de.useEffect(()=>{if(r){let T=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(T)}}},[r]);let y=()=>{o(!0)},w=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,d,{}]:[a,d,{onFocus:Ha(f,y),onBlur:Ha(h,w),onMouseEnter:Ha(m,y),onMouseLeave:Ha(v,w),onTouchStart:Ha(g,y)}]:[!1,d,{}]}function Ha(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function xI({page:n,...e}){let{router:t}=CI(),r=de.useMemo(()=>i0(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?de.createElement(DI,{page:n,matches:r,...e}):null}function NI(n){let{manifest:e,routeModules:t}=g0(),[r,o]=de.useState([]);return de.useEffect(()=>{let a=!1;return SI(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),r}function DI({page:n,matches:e,...t}){let r=jo(),{manifest:o,routeModules:a}=g0(),{loaderData:u,matches:f}=PI(),h=de.useMemo(()=>Mv(n,e,f,o,r,"data"),[n,e,f,o,r]),m=de.useMemo(()=>Mv(n,e,f,o,r,"assets"),[n,e,f,o,r]),v=de.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let y=new Set,w=!1;if(e.forEach(_=>{var S;let E=o.routes[_.route.id];!E||!E.hasLoader||(!h.some(P=>P.route.id===_.route.id)&&_.route.id in u&&((S=a[_.route.id])!=null&&S.shouldRevalidate)||E.hasClientLoader?w=!0:y.add(_.route.id))}),y.size===0)return[];let T=RI(n);return w&&y.size>0&&T.searchParams.set("_routes",e.filter(_=>y.has(_.route.id)).map(_=>_.route.id).join(",")),[T.pathname+T.search]},[u,r,o,h,e,n,a]),g=de.useMemo(()=>AI(m,o),[m,o]),d=NI(m);return de.createElement(de.Fragment,null,v.map(y=>de.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...t})),g.map(y=>de.createElement("link",{key:y,rel:"modulepreload",href:y,...t})),d.map(({key:y,link:w})=>de.createElement("link",{key:y,...w})))}function LI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var y0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{y0&&(window.__reactRouterVersion="7.1.3")}catch{}function MI({basename:n,children:e,window:t}){let r=de.useRef();r.current==null&&(r.current=AA({window:t,v5Compat:!0}));let o=r.current,[a,u]=de.useState({action:o.action,location:o.location}),f=de.useCallback(h=>{de.startTransition(()=>u(h))},[u]);return de.useLayoutEffect(()=>o.listen(f),[o,f]),de.createElement(fI,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var v0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lc=de.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:f,target:h,to:m,preventScrollReset:v,viewTransition:g,...d},y){let{basename:w}=de.useContext(Or),T=typeof m=="string"&&v0.test(m),_,E=!1;if(typeof m=="string"&&T&&(_=m,y0))try{let N=new URL(window.location.href),k=m.startsWith("//")?new URL(N.protocol+m):new URL(m),b=Bi(k.pathname,w);k.origin===N.origin&&b!=null?m=b+k.search+k.hash:E=!0}catch{kr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=YA(m,{relative:o}),[P,I,M]=OI(r,d),F=UI(m,{replace:u,state:f,target:h,preventScrollReset:v,relative:o,viewTransition:g});function O(N){e&&e(N),N.defaultPrevented||F(N)}let R=de.createElement("a",{...d,...M,href:_||S,onClick:E||a?e:O,ref:LI(y,I),target:h,"data-discover":!T&&t==="render"?"true":void 0});return P&&!T?de.createElement(de.Fragment,null,R,de.createElement(xI,{page:S})):R});Lc.displayName="Link";var jI=de.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:f,children:h,...m},v){let g=gl(u,{relative:m.relative}),d=jo(),y=de.useContext(Nc),{navigator:w,basename:T}=de.useContext(Or),_=y!=null&&HI(g)&&f===!0,E=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,S=d.pathname,P=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(S=S.toLowerCase(),P=P?P.toLowerCase():null,E=E.toLowerCase()),P&&T&&(P=Bi(P,T)||P);const I=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let M=S===E||!o&&S.startsWith(E)&&S.charAt(I)==="/",F=P!=null&&(P===E||!o&&P.startsWith(E)&&P.charAt(E.length)==="/"),O={isActive:M,isPending:F,isTransitioning:_},R=M?e:void 0,N;typeof r=="function"?N=r(O):N=[r,M?"active":null,F?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(O):a;return de.createElement(Lc,{...m,"aria-current":R,className:N,ref:v,style:k,to:u,viewTransition:f},typeof h=="function"?h(O):h)});jI.displayName="NavLink";var VI=de.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:a,method:u=Xu,action:f,onSubmit:h,relative:m,preventScrollReset:v,viewTransition:g,...d},y)=>{let w=zI(),T=$I(f,{relative:m}),_=u.toLowerCase()==="get"?"get":"post",E=typeof f=="string"&&v0.test(f),S=P=>{if(h&&h(P),P.defaultPrevented)return;P.preventDefault();let I=P.nativeEvent.submitter,M=(I==null?void 0:I.getAttribute("formmethod"))||u;w(I||P.currentTarget,{fetcherKey:e,method:M,navigate:t,replace:o,state:a,relative:m,preventScrollReset:v,viewTransition:g})};return de.createElement("form",{ref:y,method:_,action:T,onSubmit:r?h:S,...d,"data-discover":!E&&n==="render"?"true":void 0})});VI.displayName="Form";function FI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _0(n){let e=de.useContext(Ws);return St(e,FI(n)),e}function UI(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:u}={}){let f=ml(),h=jo(),m=gl(n,{relative:a});return de.useCallback(v=>{if(yI(v,e)){v.preventDefault();let g=t!==void 0?t:il(h)===il(m);f(n,{replace:g,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[h,f,m,t,r,e,n,o,a,u])}var qI=0,BI=()=>`__${String(++qI)}__`;function zI(){let{router:n}=_0("useSubmit"),{basename:e}=de.useContext(Or),t=aI();return de.useCallback(async(r,o={})=>{let{action:a,method:u,encType:f,formData:h,body:m}=EI(r,e);if(o.navigate===!1){let v=o.fetcherKey||BI();await n.fetch(v,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function $I(n,{relative:e}={}){let{basename:t}=de.useContext(Or),r=de.useContext(xr);St(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...gl(n||".",{relative:e})},u=jo();if(n==null){a.search=u.search;let f=new URLSearchParams(a.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(g=>g).forEach(g=>f.append("index",g));let v=f.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Jr([t,a.pathname])),il(a)}function HI(n,e={}){let t=de.useContext(c0);St(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=_0("useViewTransitionState"),o=gl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Bi(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Bi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return cc(o.pathname,u)!=null||cc(o.pathname,a)!=null}new TextEncoder;const KI="_showcaseContainer_rjbh0_1",WI="_productsGrid_rjbh0_12",GI="_imageContainer_rjbh0_17",QI="_productCard_rjbh0_29",YI="_title_rjbh0_40",XI="_price_rjbh0_46",JI="_containerImages_rjbh0_64",ZI="_scrollContainer_rjbh0_85",Pi={showcaseContainer:KI,productsGrid:WI,imageContainer:GI,productCard:QI,title:YI,price:XI,containerImages:JI,scrollContainer:ZI,"product-image":"_product-image_rjbh0_116"},oi=ot.createContext(),eb=()=>{};var jv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},tb=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],f=n[t++],h=((o&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},w0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,f=u?n[o+1]:0,h=o+2<n.length,m=h?n[o+2]:0,v=a>>2,g=(a&3)<<4|f>>4;let d=(f&15)<<2|m>>6,y=m&63;h||(y=64,u||(d=64)),r.push(t[v],t[g],t[d],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(E0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):tb(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const g=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||f==null||m==null||g==null)throw new nb;const d=a<<2|f>>4;if(r.push(d),m!==64){const y=f<<4&240|m>>2;if(r.push(y),g!==64){const w=m<<6&192|g;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class nb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rb=function(n){const e=E0(n);return w0.encodeByteArray(e,!0)},fc=function(n){return rb(n).replace(/\./g,"")},T0=function(n){try{return w0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=()=>ib().__FIREBASE_DEFAULTS__,sb=()=>{if(typeof process>"u"||typeof jv>"u")return;const n=jv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ab=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&T0(n[1]);return e&&JSON.parse(e)},Mc=()=>{try{return eb()||ob()||sb()||ab()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},S0=n=>{var e,t;return(t=(e=Mc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},A0=n=>{const e=S0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},I0=()=>{var n;return(n=Mc())===null||n===void 0?void 0:n.config},b0=n=>{var e;return(e=Mc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[fc(JSON.stringify(t)),fc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ub(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function cb(){var n;const e=(n=Mc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hb(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function db(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pb(){const n=ln();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function mb(){return!cb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gb(){try{return typeof indexedDB=="object"}catch{return!1}}function yb(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="FirebaseError";class Nr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=vb,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yl.prototype.create)}}class yl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?_b(a,r):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new Nr(o,f,r)}}function _b(n,e){return n.replace(Eb,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Eb=/\{\$([^}]+)}/g;function wb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Oo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(Vv(a)&&Vv(u)){if(!Oo(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function Vv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tb(n,e){const t=new Sb(n,e);return t.subscribe.bind(t)}class Sb{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Ab(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Hh),o.error===void 0&&(o.error=Hh),o.complete===void 0&&(o.complete=Hh);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ab(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Hh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(n){return n&&n._delegate?n._delegate:n}class zi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new lb;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kb(e))try{this.getOrInitializeService({instanceIdentifier:Ro})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ro){return this.instances.has(e)}getOptions(e=Ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);r===f&&u.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bb(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ro){return this.component?this.component.multipleInstances?e:Ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bb(n){return n===Ro?void 0:n}function kb(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ib(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Xe||(Xe={}));const Cb={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},Pb=Xe.INFO,Ob={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},xb=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=Ob[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Em{constructor(e){this.name=e,this._logLevel=Pb,this._logHandler=xb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Cb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const Nb=(n,e)=>e.some(t=>n instanceof t);let Fv,Uv;function Db(){return Fv||(Fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lb(){return Uv||(Uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R0=new WeakMap,Bp=new WeakMap,C0=new WeakMap,Kh=new WeakMap,wm=new WeakMap;function Mb(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Vi(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&R0.set(t,n)}).catch(()=>{}),wm.set(e,n),e}function jb(n){if(Bp.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Bp.set(n,e)}let zp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Bp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||C0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Vb(n){zp=n(zp)}function Fb(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Wh(this),e,...t);return C0.set(r,e.sort?e.sort():[e]),Vi(r)}:Lb().includes(n)?function(...e){return n.apply(Wh(this),e),Vi(R0.get(this))}:function(...e){return Vi(n.apply(Wh(this),e))}}function Ub(n){return typeof n=="function"?Fb(n):(n instanceof IDBTransaction&&jb(n),Nb(n,Db())?new Proxy(n,zp):n)}function Vi(n){if(n instanceof IDBRequest)return Mb(n);if(Kh.has(n))return Kh.get(n);const e=Ub(n);return e!==n&&(Kh.set(n,e),wm.set(e,n)),e}const Wh=n=>wm.get(n);function qb(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),f=Vi(u);return r&&u.addEventListener("upgradeneeded",h=>{r(Vi(u.result),h.oldVersion,h.newVersion,Vi(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{a&&h.addEventListener("close",()=>a()),o&&h.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const Bb=["get","getKey","getAll","getAllKeys","count"],zb=["put","add","delete","clear"],Gh=new Map;function qv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Gh.get(e))return Gh.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=zb.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Bb.includes(t)))return;const a=async function(u,...f){const h=this.transaction(u,o?"readwrite":"readonly");let m=h.store;return r&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),o&&h.done]))[0]};return Gh.set(e,a),a}Vb(n=>({...n,get:(e,t,r)=>qv(e,t)||n.get(e,t,r),has:(e,t)=>!!qv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Hb(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Hb(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $p="@firebase/app",Bv="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new Em("@firebase/app"),Kb="@firebase/app-compat",Wb="@firebase/analytics-compat",Gb="@firebase/analytics",Qb="@firebase/app-check-compat",Yb="@firebase/app-check",Xb="@firebase/auth",Jb="@firebase/auth-compat",Zb="@firebase/database",ek="@firebase/data-connect",tk="@firebase/database-compat",nk="@firebase/functions",rk="@firebase/functions-compat",ik="@firebase/installations",ok="@firebase/installations-compat",sk="@firebase/messaging",ak="@firebase/messaging-compat",lk="@firebase/performance",uk="@firebase/performance-compat",ck="@firebase/remote-config",fk="@firebase/remote-config-compat",hk="@firebase/storage",dk="@firebase/storage-compat",pk="@firebase/firestore",mk="@firebase/vertexai",gk="@firebase/firestore-compat",yk="firebase",vk="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="[DEFAULT]",_k={[$p]:"fire-core",[Kb]:"fire-core-compat",[Gb]:"fire-analytics",[Wb]:"fire-analytics-compat",[Yb]:"fire-app-check",[Qb]:"fire-app-check-compat",[Xb]:"fire-auth",[Jb]:"fire-auth-compat",[Zb]:"fire-rtdb",[ek]:"fire-data-connect",[tk]:"fire-rtdb-compat",[nk]:"fire-fn",[rk]:"fire-fn-compat",[ik]:"fire-iid",[ok]:"fire-iid-compat",[sk]:"fire-fcm",[ak]:"fire-fcm-compat",[lk]:"fire-perf",[uk]:"fire-perf-compat",[ck]:"fire-rc",[fk]:"fire-rc-compat",[hk]:"fire-gcs",[dk]:"fire-gcs-compat",[pk]:"fire-fst",[gk]:"fire-fst-compat",[mk]:"fire-vertex","fire-js":"fire-js",[yk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new Map,Ek=new Map,Kp=new Map;function zv(n,e){try{n.container.addComponent(e)}catch(t){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function xo(n){const e=n.name;if(Kp.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;Kp.set(e,n);for(const t of hc.values())zv(t,n);for(const t of Ek.values())zv(t,n);return!0}function jc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function or(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fi=new yl("app","Firebase",wk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=vk;function P0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Hp,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Fi.create("bad-app-name",{appName:String(o)});if(t||(t=I0()),!t)throw Fi.create("no-options");const a=hc.get(o);if(a){if(Oo(t,a.options)&&Oo(r,a.config))return a;throw Fi.create("duplicate-app",{appName:o})}const u=new Rb(o);for(const h of Kp.values())u.addComponent(h);const f=new Tk(t,r,u);return hc.set(o,f),f}function Tm(n=Hp){const e=hc.get(n);if(!e&&n===Hp&&I0())return P0();if(!e)throw Fi.create("no-app",{appName:n});return e}function wr(n,e,t){var r;let o=(r=_k[n])!==null&&r!==void 0?r:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${o}" with version "${e}":`];a&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(f.join(" "));return}xo(new zi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="firebase-heartbeat-database",Ak=1,ol="firebase-heartbeat-store";let Qh=null;function O0(){return Qh||(Qh=qb(Sk,Ak,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ol)}catch(t){console.warn(t)}}}}).catch(n=>{throw Fi.create("idb-open",{originalErrorMessage:n.message})})),Qh}async function Ik(n){try{const t=(await O0()).transaction(ol),r=await t.objectStore(ol).get(x0(n));return await t.done,r}catch(e){if(e instanceof Nr)ei.warn(e.message);else{const t=Fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ei.warn(t.message)}}}async function $v(n,e){try{const r=(await O0()).transaction(ol,"readwrite");await r.objectStore(ol).put(e,x0(n)),await r.done}catch(t){if(t instanceof Nr)ei.warn(t.message);else{const r=Fi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ei.warn(r.message)}}}function x0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=1024,kk=30;class Rk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Pk(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Hv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>kk){const u=Ok(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ei.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Hv(),{heartbeatsToSend:r,unsentEntries:o}=Ck(this._heartbeatsCache.heartbeats),a=fc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ei.warn(t),""}}}function Hv(){return new Date().toISOString().substring(0,10)}function Ck(n,e=bk){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),Kv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Kv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Pk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gb()?yb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Ik(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return $v(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return $v(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Kv(n){return fc(JSON.stringify({version:2,heartbeats:n})).length}function Ok(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(n){xo(new zi("platform-logger",e=>new $b(e),"PRIVATE")),xo(new zi("heartbeat",e=>new Rk(e),"PRIVATE")),wr($p,Bv,n),wr($p,Bv,"esm2017"),wr("fire-js","")}xk("");var Nk="firebase",Dk="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wr(Nk,Dk,"app");function Sm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function N0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Lk=N0,D0=new yl("auth","Firebase",N0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=new Em("@firebase/auth");function Mk(n,...e){dc.logLevel<=Xe.WARN&&dc.warn(`Auth (${Vo}): ${n}`,...e)}function Zu(n,...e){dc.logLevel<=Xe.ERROR&&dc.error(`Auth (${Vo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(n,...e){throw Am(n,...e)}function Tr(n,...e){return Am(n,...e)}function L0(n,e,t){const r=Object.assign(Object.assign({},Lk()),{[e]:t});return new yl("auth","Firebase",r).create(e,{appName:n.name})}function Po(n){return L0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Am(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return D0.create(n,...e)}function qe(n,e,...t){if(!n)throw Am(e,...t)}function Qr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Zu(e),new Error(e)}function ni(n,e){n||Qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function jk(){return Wv()==="http:"||Wv()==="https:"}function Wv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jk()||hb()||"connection"in navigator)?navigator.onLine:!0}function Fk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,t){this.shortDelay=e,this.longDelay=t,ni(t>e,"Short delay should be less than long delay!"),this.isMobile=ub()||db()}get(){return Vk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(n,e){ni(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk=new _l(3e4,6e4);function bm(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Gs(n,e,t,r,o={}){return j0(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const f=vl(Object.assign({key:n.config.apiKey},u)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:h},a);return fb()||(m.referrerPolicy="no-referrer"),M0.fetch()(V0(n,n.config.apiHost,t,f),m)})}async function j0(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Uk),e);try{const o=new zk(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw $u(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[h,m]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw $u(n,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw $u(n,"email-already-in-use",u);if(h==="USER_DISABLED")throw $u(n,"user-disabled",u);const v=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw L0(n,v,m);ti(n,v)}}catch(o){if(o instanceof Nr)throw o;ti(n,"network-request-failed",{message:String(o)})}}async function Bk(n,e,t,r,o={}){const a=await Gs(n,e,t,r,o);return"mfaPendingCredential"in a&&ti(n,"multi-factor-auth-required",{_serverResponse:a}),a}function V0(n,e,t,r){const o=`${e}${t}?${r}`;return n.config.emulator?Im(n.config,o):`${n.config.apiScheme}://${o}`}class zk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Tr(this.auth,"network-request-failed")),qk.get())})}}function $u(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Tr(n,e,r);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $k(n,e){return Gs(n,"POST","/v1/accounts:delete",e)}async function F0(n,e){return Gs(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Hk(n,e=!1){const t=dn(n),r=await t.getIdToken(e),o=km(r);qe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:r,authTime:Za(Yh(o.auth_time)),issuedAtTime:Za(Yh(o.iat)),expirationTime:Za(Yh(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Yh(n){return Number(n)*1e3}function km(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Zu("JWT malformed, contained fewer than 3 sections"),null;try{const o=T0(t);return o?JSON.parse(o):(Zu("Failed to decode base64 JWT payload"),null)}catch(o){return Zu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Gv(n){const e=km(n);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Nr&&Kk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Kk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Za(this.lastLoginAt),this.creationTime=Za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(n){var e;const t=n.auth,r=await n.getIdToken(),o=await sl(n,F0(t,{idToken:r}));qe(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?U0(a.providerUserInfo):[],f=Qk(n.providerData,u),h=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(f!=null&&f.length),v=h?m:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new Gp(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,g)}async function Gk(n){const e=dn(n);await pc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Qk(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function U0(n){return n.map(e=>{var{providerId:t}=e,r=Sm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(n,e){const t=await j0(n,{},async()=>{const r=vl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=V0(n,o,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",M0.fetch()(u,{method:"POST",headers:f,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Xk(n,e){return Gs(n,"POST","/v2/accounts:revokeToken",bm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Gv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const t=Gv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await Yk(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new Ns;return r&&(qe(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(qe(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(qe(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ns,this.toJSON())}_performRefresh(){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(n,e){qe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Yr{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,a=Sm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Gp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await sl(this,this.stsTokenManager.getToken(this.auth,e));return qe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Hk(this,e)}reload(){return Gk(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await pc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(Po(this.auth));const e=await this.getIdToken();return await sl(this,$k(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,a,u,f,h,m,v;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,d=(o=t.email)!==null&&o!==void 0?o:void 0,y=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,w=(u=t.photoURL)!==null&&u!==void 0?u:void 0,T=(f=t.tenantId)!==null&&f!==void 0?f:void 0,_=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,E=(m=t.createdAt)!==null&&m!==void 0?m:void 0,S=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:P,emailVerified:I,isAnonymous:M,providerData:F,stsTokenManager:O}=t;qe(P&&O,e,"internal-error");const R=Ns.fromJSON(this.name,O);qe(typeof P=="string",e,"internal-error"),Oi(g,e.name),Oi(d,e.name),qe(typeof I=="boolean",e,"internal-error"),qe(typeof M=="boolean",e,"internal-error"),Oi(y,e.name),Oi(w,e.name),Oi(T,e.name),Oi(_,e.name),Oi(E,e.name),Oi(S,e.name);const N=new Yr({uid:P,auth:e,email:d,emailVerified:I,displayName:g,isAnonymous:M,photoURL:w,phoneNumber:y,tenantId:T,stsTokenManager:R,createdAt:E,lastLoginAt:S});return F&&Array.isArray(F)&&(N.providerData=F.map(k=>Object.assign({},k))),_&&(N._redirectEventId=_),N}static async _fromIdTokenResponse(e,t,r=!1){const o=new Ns;o.updateFromServerResponse(t);const a=new Yr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await pc(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];qe(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?U0(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),f=new Ns;f.updateFromIdToken(r);const h=new Yr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Gp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=new Map;function Xr(n){ni(n instanceof Function,"Expected a class definition");let e=Qv.get(n);return e?(ni(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Qv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}q0.type="NONE";const Yv=q0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(n,e,t){return`firebase:${n}:${e}:${t}`}class Ds{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=ec(this.userKey,o.apiKey,a),this.fullPersistenceKey=ec("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ds(Xr(Yv),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||Xr(Yv);const u=ec(r,e.config.apiKey,e.name);let f=null;for(const m of t)try{const v=await m._get(u);if(v){const g=Yr._fromJSON(e,v);m!==a&&(f=g),a=m;break}}catch{}const h=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Ds(a,e,r):(a=h[0],f&&await a._set(u,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new Ds(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(H0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(B0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(W0(e))return"Blackberry";if(G0(e))return"Webos";if(z0(e))return"Safari";if((e.includes("chrome/")||$0(e))&&!e.includes("edge/"))return"Chrome";if(K0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function B0(n=ln()){return/firefox\//i.test(n)}function z0(n=ln()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $0(n=ln()){return/crios\//i.test(n)}function H0(n=ln()){return/iemobile/i.test(n)}function K0(n=ln()){return/android/i.test(n)}function W0(n=ln()){return/blackberry/i.test(n)}function G0(n=ln()){return/webos/i.test(n)}function Rm(n=ln()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Jk(n=ln()){var e;return Rm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Zk(){return pb()&&document.documentMode===10}function Q0(n=ln()){return Rm(n)||K0(n)||G0(n)||W0(n)||/windows phone/i.test(n)||H0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(n,e=[]){let t;switch(n){case"Browser":t=Xv(ln());break;case"Worker":t=`${Xv(ln())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Vo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,f)=>{try{const h=e(a);u(h)}catch(h){f(h)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(n,e={}){return Gs(n,"GET","/v2/passwordPolicy",bm(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=6;class rR{constructor(e){var t,r,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:nR,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,a,u,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(o=h.containsLowercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jv(this),this.idTokenSubscription=new Jv(this),this.beforeStateQueue=new eR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=D0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Xr(t)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await Ds.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await F0(this,{idToken:e}),r=await Yr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(or(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===f)&&(h!=null&&h.user)&&(o=h.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await pc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Fk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(Po(this));const t=e?dn(e):null;return t&&qe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(Po(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(Po(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tR(this),t=new rR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Xk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Xr(e)||this._popupRedirectResolver;qe(t,this,"argument-error"),this.redirectPersistenceManager=await Ds.create(this,[Xr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,o);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Y0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Mk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Cm(n){return dn(n)}class Jv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Tb(t=>this.observer=t)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oR(n){Pm=n}function sR(n){return Pm.loadJS(n)}function aR(){return Pm.gapiScript}function lR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(n,e){const t=jc(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Oo(a,e??{}))return o;ti(o,"already-initialized")}return t.initialize({options:e})}function cR(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Xr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function fR(n,e,t){const r=Cm(n);qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=X0(e),{host:u,port:f}=hR(e),h=f===null?"":`:${f}`,m={url:`${a}//${u}${h}/`},v=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),qe(Oo(m,r.config.emulator)&&Oo(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,dR()}function X0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function hR(n){const e=X0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:Zv(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:Zv(u)}}}function Zv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function dR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,t){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ls(n,e){return Bk(n,"POST","/v1/accounts:signInWithIdp",bm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR="http://localhost";class No extends J0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new No(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ti("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,a=Sm(t,["providerId","signInMethod"]);if(!r||!o)return null;const u=new No(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ls(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ls(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ls(e,t)}buildRequest(){const e={requestUri:pR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends Z0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends El{constructor(){super("facebook.com")}static credential(e){return No._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends El{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return No._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Di.credential(t,r)}catch{return null}}}Di.GOOGLE_SIGN_IN_METHOD="google.com";Di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends El{constructor(){super("github.com")}static credential(e){return No._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.GITHUB_SIGN_IN_METHOD="github.com";Li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends El{constructor(){super("twitter.com")}static credential(e,t){return No._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Mi.credential(t,r)}catch{return null}}}Mi.TWITTER_SIGN_IN_METHOD="twitter.com";Mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await Yr._fromIdTokenResponse(e,r,o),u=e_(r);return new js({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=e_(r);return new js({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function e_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends Nr{constructor(e,t,r,o){var a;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,mc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new mc(e,t,r,o)}}function ew(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?mc._fromErrorAndOperation(n,a,e,r):a})}async function mR(n,e,t=!1){const r=await sl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return js._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(n,e,t=!1){const{auth:r}=n;if(or(r.app))return Promise.reject(Po(r));const o="reauthenticate";try{const a=await sl(n,ew(r,o,e,n),t);qe(a.idToken,r,"internal-error");const u=km(a.idToken);qe(u,r,"internal-error");const{sub:f}=u;return qe(n.uid===f,r,"user-mismatch"),js._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ti(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(n,e,t=!1){if(or(n.app))return Promise.reject(Po(n));const r="signIn",o=await ew(n,r,e),a=await js._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}function vR(n,e,t,r){return dn(n).onIdTokenChanged(e,t,r)}function _R(n,e,t){return dn(n).beforeAuthStateChanged(e,t)}const gc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gc,"1"),this.storage.removeItem(gc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=1e3,wR=10;class nw extends tw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Q0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,h)=>{this.notifyListeners(u,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);Zk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,wR):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},ER)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}nw.type="LOCAL";const TR=nw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw extends tw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rw.type="SESSION";const iw=rw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Vc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const f=Array.from(u).map(async m=>m(t.origin,a)),h=await SR(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((f,h)=>{const m=Om("",20);o.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(g){const d=g;if(d.data.eventId===m)switch(d.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(d.data.response);break;default:clearTimeout(v),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return window}function IR(n){Sr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}async function bR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function RR(){return ow()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="firebaseLocalStorageDb",CR=1,yc="firebaseLocalStorage",aw="fbase_key";class wl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Fc(n,e){return n.transaction([yc],e?"readwrite":"readonly").objectStore(yc)}function PR(){const n=indexedDB.deleteDatabase(sw);return new wl(n).toPromise()}function Qp(){const n=indexedDB.open(sw,CR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(yc,{keyPath:aw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(yc)?e(r):(r.close(),await PR(),e(await Qp()))})})}async function t_(n,e,t){const r=Fc(n,!0).put({[aw]:e,value:t});return new wl(r).toPromise()}async function OR(n,e){const t=Fc(n,!1).get(e),r=await new wl(t).toPromise();return r===void 0?null:r.value}function n_(n,e){const t=Fc(n,!0).delete(e);return new wl(t).toPromise()}const xR=800,NR=3;class lw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>NR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ow()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vc._getInstance(RR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await bR(),!this.activeServiceWorker)return;this.sender=new AR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qp();return await t_(e,gc,"1"),await n_(e,gc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>t_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>OR(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>n_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Fc(o,!1).getAll();return new wl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lw.type="LOCAL";const DR=lw;new _l(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(n,e){return e?Xr(e):(qe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm extends J0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ls(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ls(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ls(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function MR(n){return yR(n.auth,new xm(n),n.bypassAuthState)}function jR(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),gR(t,new xm(n),n.bypassAuthState)}async function VR(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),mR(t,new xm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:f}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MR;case"linkViaPopup":case"linkViaRedirect":return VR;case"reauthViaPopup":case"reauthViaRedirect":return jR;default:ti(this.auth,"internal-error")}}resolve(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=new _l(2e3,1e4);class xs extends uw{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,xs.currentPopupAction&&xs.currentPopupAction.cancel(),xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){ni(this.filter.length===1,"Popup operations only handle one event");const e=Om();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FR.get())};e()}}xs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="pendingRedirect",tc=new Map;class qR extends uw{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=tc.get(this.auth._key());if(!e){try{const r=await BR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}tc.set(this.auth._key(),e)}return this.bypassAuthState||tc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BR(n,e){const t=HR(e),r=$R(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function zR(n,e){tc.set(n._key(),e)}function $R(n){return Xr(n._redirectPersistence)}function HR(n){return ec(UR,n.config.apiKey,n.name)}async function KR(n,e,t=!1){if(or(n.app))return Promise.reject(Po(n));const r=Cm(n),o=LR(r,e),u=await new qR(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=10*60*1e3;class GR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!cw(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Tr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WR&&this.cachedEventUids.clear(),this.cachedEventUids.has(r_(e))}saveEventToCache(e){this.cachedEventUids.add(r_(e)),this.lastProcessedEventTime=Date.now()}}function r_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function cw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function QR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(n,e={}){return Gs(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JR=/^https?/;async function ZR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await YR(n);for(const t of e)try{if(eC(t))return}catch{}ti(n,"unauthorized-domain")}function eC(n){const e=Wp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!JR.test(t))return!1;if(XR.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=new _l(3e4,6e4);function i_(){const n=Sr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function nC(n){return new Promise((e,t)=>{var r,o,a;function u(){i_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{i_(),t(Tr(n,"network-request-failed"))},timeout:tC.get()})}if(!((o=(r=Sr().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Sr().gapi)===null||a===void 0)&&a.load)u();else{const f=lR("iframefcb");return Sr()[f]=()=>{gapi.load?u():t(Tr(n,"network-request-failed"))},sR(`${aR()}?onload=${f}`).catch(h=>t(h))}}).catch(e=>{throw nc=null,e})}let nc=null;function rC(n){return nc=nc||nC(n),nc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=new _l(5e3,15e3),oC="__/auth/iframe",sC="emulator/auth/iframe",aC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uC(n){const e=n.config;qe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Im(e,sC):`https://${n.config.authDomain}/${oC}`,r={apiKey:e.apiKey,appName:n.name,v:Vo},o=lC.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${vl(r).slice(1)}`}async function cC(n){const e=await rC(n),t=Sr().gapi;return qe(t,n,"internal-error"),e.open({where:document.body,url:uC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aC,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=Tr(n,"network-request-failed"),f=Sr().setTimeout(()=>{a(u)},iC.get());function h(){Sr().clearTimeout(f),o(r)}r.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hC=500,dC=600,pC="_blank",mC="http://localhost";class o_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gC(n,e,t,r=hC,o=dC){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const h=Object.assign(Object.assign({},fC),{width:r.toString(),height:o.toString(),top:a,left:u}),m=ln().toLowerCase();t&&(f=$0(m)?pC:t),B0(m)&&(e=e||mC,h.scrollbars="yes");const v=Object.entries(h).reduce((d,[y,w])=>`${d}${y}=${w},`,"");if(Jk(m)&&f!=="_self")return yC(e||"",f),new o_(null);const g=window.open(e||"",f,v);qe(g,n,"popup-blocked");try{g.focus()}catch{}return new o_(g)}function yC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="__/auth/handler",_C="emulator/auth/handler",EC=encodeURIComponent("fac");async function s_(n,e,t,r,o,a){qe(n.config.authDomain,n,"auth-domain-config-required"),qe(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Vo,eventId:o};if(e instanceof Z0){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",wb(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,g]of Object.entries({}))u[v]=g}if(e instanceof El){const v=e.getScopes().filter(g=>g!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const h=await n._getAppCheckToken(),m=h?`#${EC}=${encodeURIComponent(h)}`:"";return`${wC(n)}?${vl(f).slice(1)}${m}`}function wC({config:n}){return n.emulator?Im(n,_C):`https://${n.authDomain}/${vC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh="webStorageSupport";class TC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iw,this._completeRedirectFn=KR,this._overrideRedirectResult=zR}async _openPopup(e,t,r,o){var a;ni((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await s_(e,t,r,Wp(),o);return gC(e,u,Om())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await s_(e,t,r,Wp(),o);return IR(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(ni(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await cC(e),r=new GR(e);return t.register("authEvent",o=>(qe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xh,{type:Xh},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Xh];u!==void 0&&t(!!u),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ZR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Q0()||z0()||Rm()}}const SC=TC;var a_="@firebase/auth",l_="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bC(n){xo(new zi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;qe(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y0(n)},m=new iR(r,o,a,h);return cR(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),xo(new zi("auth-internal",e=>{const t=Cm(e.getProvider("auth").getImmediate());return(r=>new AC(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(a_,l_,IC(n)),wr(a_,l_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=5*60,RC=b0("authIdTokenMaxAge")||kC;let u_=null;const CC=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>RC)return;const o=t==null?void 0:t.token;u_!==o&&(u_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function PC(n=Tm()){const e=jc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=uR(n,{popupRedirectResolver:SC,persistence:[DR,TR,iw]}),r=b0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=CC(a.toString());_R(t,u,()=>u(t.currentUser)),vR(t,f=>u(f))}}const o=S0("auth");return o&&fR(t,`http://${o}`),t}function OC(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}oR({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=Tr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",OC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bC("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="firebasestorage.googleapis.com",xC="storageBucket",NC=2*60*1e3,DC=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Nr{constructor(e,t,r=0){super(Jh(e),`Firebase Storage: ${t} (${Jh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Dr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Jh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rr||(Rr={}));function Jh(n){return"storage/"+n}function LC(){const n="An unknown error occurred, please check the error payload for server response.";return new Dr(Rr.UNKNOWN,n)}function MC(){return new Dr(Rr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jC(){return new Dr(Rr.CANCELED,"User canceled the upload/download.")}function VC(n){return new Dr(Rr.INVALID_URL,"Invalid URL '"+n+"'.")}function FC(n){return new Dr(Rr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function c_(n){return new Dr(Rr.INVALID_ARGUMENT,n)}function hw(){return new Dr(Rr.APP_DELETED,"The Firebase app was deleted.")}function UC(n){return new Dr(Rr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=sr.makeFromUrl(e,t)}catch{return new sr(e,"")}if(r.path==="")return r;throw FC(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+o+u,"i"),h={bucket:1,path:3};function m(I){I.path_=decodeURIComponent(I.path)}const v="v[A-Za-z0-9_]+",g=t.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",y=new RegExp(`^https?://${g}/${v}/b/${o}/o${d}`,"i"),w={bucket:1,path:3},T=t===fw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,_="([^?#]*)",E=new RegExp(`^https?://${T}/${o}/${_}`,"i"),P=[{regex:f,indices:h,postModify:a},{regex:y,indices:w,postModify:m},{regex:E,indices:{bucket:1,path:2},postModify:m}];for(let I=0;I<P.length;I++){const M=P[I],F=M.regex.exec(e);if(F){const O=F[M.indices.bucket];let R=F[M.indices.path];R||(R=""),r=new sr(O,R),M.postModify(r);break}}if(r==null)throw VC(e);return r}}class qC{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(n,e,t){let r=1,o=null,a=null,u=!1,f=0;function h(){return f===2}let m=!1;function v(..._){m||(m=!0,e.apply(null,_))}function g(_){o=setTimeout(()=>{o=null,n(y,h())},_)}function d(){a&&clearTimeout(a)}function y(_,...E){if(m){d();return}if(_){d(),v.call(null,_,...E);return}if(h()||u){d(),v.call(null,_,...E);return}r<64&&(r*=2);let P;f===1?(f=2,P=0):P=(r+Math.random())*1e3,g(P)}let w=!1;function T(_){w||(w=!0,d(),!m&&(o!==null?(_||(f=2),clearTimeout(o),g(0)):_||(f=1)))}return g(0),a=setTimeout(()=>{u=!0,T(!0)},t),T}function zC(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(n){return n!==void 0}function f_(n,e,t,r){if(r<e)throw c_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw c_(`Invalid value for '${n}'. Expected ${t} or less.`)}function HC(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const o=e(r)+"="+e(n[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var vc;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(vc||(vc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,t,r,o,a,u,f,h,m,v,g,d=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=h,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=g,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,w)=>{this.resolve_=y,this.reject_=w,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Hu(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=f=>{const h=f.loaded,m=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const f=a.getErrorCode()===vc.NO_ERROR,h=a.getStatus();if(!f||KC(h,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===vc.ABORT;r(!1,new Hu(!1,null,v));return}const m=this.successCodes_.indexOf(h)!==-1;r(!0,new Hu(m,a))})},t=(r,o)=>{const a=this.resolve_,u=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const h=this.callback_(f,f.getResponse());$C(h)?a(h):a()}catch(h){u(h)}else if(f!==null){const h=LC();h.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,h)):u(h)}else if(o.canceled){const h=this.appDelete_?hw():jC();u(h)}else{const h=MC();u(h)}};this.canceled_?t(!1,new Hu(!1,null,!0)):this.backoffId_=BC(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zC(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hu{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function GC(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function QC(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function YC(n,e){e&&(n["X-Firebase-GMPID"]=e)}function XC(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function JC(n,e,t,r,o,a,u=!0){const f=HC(n.urlParams),h=n.url+f,m=Object.assign({},n.headers);return YC(m,e),GC(m,t),QC(m,a),XC(m,r),new WC(h,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function eP(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,t){this._service=e,t instanceof sr?this._location=t:this._location=sr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new _c(e,t)}get root(){const e=new sr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eP(this._location.path)}get storage(){return this._service}get parent(){const e=ZC(this._location.path);if(e===null)return null;const t=new sr(this._location.bucket,e);return new _c(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw UC(e)}}function h_(n,e){const t=e==null?void 0:e[xC];return t==null?null:sr.makeFromBucketSpec(t,n)}function tP(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:k0(o,n.app.options.projectId))}class nP{constructor(e,t,r,o,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=fw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=NC,this._maxUploadRetryTime=DC,this._requests=new Set,o!=null?this._bucket=sr.makeFromBucketSpec(o,this._host):this._bucket=h_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=sr.makeFromBucketSpec(this._url,e):this._bucket=h_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){f_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){f_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _c(this,e)}_makeRequest(e,t,r,o,a=!0){if(this._deleted)return new qC(hw());{const u=JC(e,this._appId,r,o,t,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const d_="@firebase/storage",p_="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="storage";function rP(n=Tm(),e){n=dn(n);const r=jc(n,dw).getImmediate({identifier:e}),o=A0("storage");return o&&iP(r,...o),r}function iP(n,e,t,r={}){tP(n,e,t,r)}function oP(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new nP(t,r,o,e,Vo)}function sP(){xo(new zi(dw,oP,"PUBLIC").setMultipleInstances(!0)),wr(d_,p_,""),wr(d_,p_,"esm2017")}sP();const aP={apiKey:"AIzaSyAkiymbxr2eTiM0DGSUmIkI2bqT3jBt1zs",authDomain:"dragon-computers.firebaseapp.com",projectId:"dragon-computers",storageBucket:"dragon-computers.firebasestorage.app",messagingSenderId:"439889480116",appId:"1:439889480116:web:4e288f14e42526cf390ae1"},Nm=P0(aP);PC(Nm);rP(Nm);var m_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ui,pw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function N(){}N.prototype=R.prototype,O.D=R.prototype,O.prototype=new N,O.prototype.constructor=O,O.C=function(k,b,D){for(var L=Array(arguments.length-2),$=2;$<arguments.length;$++)L[$-2]=arguments[$];return R.prototype[b].apply(k,L)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,N){N||(N=0);var k=Array(16);if(typeof R=="string")for(var b=0;16>b;++b)k[b]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(b=0;16>b;++b)k[b]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=O.g[0],N=O.g[1],b=O.g[2];var D=O.g[3],L=R+(D^N&(b^D))+k[0]+3614090360&4294967295;R=N+(L<<7&4294967295|L>>>25),L=D+(b^R&(N^b))+k[1]+3905402710&4294967295,D=R+(L<<12&4294967295|L>>>20),L=b+(N^D&(R^N))+k[2]+606105819&4294967295,b=D+(L<<17&4294967295|L>>>15),L=N+(R^b&(D^R))+k[3]+3250441966&4294967295,N=b+(L<<22&4294967295|L>>>10),L=R+(D^N&(b^D))+k[4]+4118548399&4294967295,R=N+(L<<7&4294967295|L>>>25),L=D+(b^R&(N^b))+k[5]+1200080426&4294967295,D=R+(L<<12&4294967295|L>>>20),L=b+(N^D&(R^N))+k[6]+2821735955&4294967295,b=D+(L<<17&4294967295|L>>>15),L=N+(R^b&(D^R))+k[7]+4249261313&4294967295,N=b+(L<<22&4294967295|L>>>10),L=R+(D^N&(b^D))+k[8]+1770035416&4294967295,R=N+(L<<7&4294967295|L>>>25),L=D+(b^R&(N^b))+k[9]+2336552879&4294967295,D=R+(L<<12&4294967295|L>>>20),L=b+(N^D&(R^N))+k[10]+4294925233&4294967295,b=D+(L<<17&4294967295|L>>>15),L=N+(R^b&(D^R))+k[11]+2304563134&4294967295,N=b+(L<<22&4294967295|L>>>10),L=R+(D^N&(b^D))+k[12]+1804603682&4294967295,R=N+(L<<7&4294967295|L>>>25),L=D+(b^R&(N^b))+k[13]+4254626195&4294967295,D=R+(L<<12&4294967295|L>>>20),L=b+(N^D&(R^N))+k[14]+2792965006&4294967295,b=D+(L<<17&4294967295|L>>>15),L=N+(R^b&(D^R))+k[15]+1236535329&4294967295,N=b+(L<<22&4294967295|L>>>10),L=R+(b^D&(N^b))+k[1]+4129170786&4294967295,R=N+(L<<5&4294967295|L>>>27),L=D+(N^b&(R^N))+k[6]+3225465664&4294967295,D=R+(L<<9&4294967295|L>>>23),L=b+(R^N&(D^R))+k[11]+643717713&4294967295,b=D+(L<<14&4294967295|L>>>18),L=N+(D^R&(b^D))+k[0]+3921069994&4294967295,N=b+(L<<20&4294967295|L>>>12),L=R+(b^D&(N^b))+k[5]+3593408605&4294967295,R=N+(L<<5&4294967295|L>>>27),L=D+(N^b&(R^N))+k[10]+38016083&4294967295,D=R+(L<<9&4294967295|L>>>23),L=b+(R^N&(D^R))+k[15]+3634488961&4294967295,b=D+(L<<14&4294967295|L>>>18),L=N+(D^R&(b^D))+k[4]+3889429448&4294967295,N=b+(L<<20&4294967295|L>>>12),L=R+(b^D&(N^b))+k[9]+568446438&4294967295,R=N+(L<<5&4294967295|L>>>27),L=D+(N^b&(R^N))+k[14]+3275163606&4294967295,D=R+(L<<9&4294967295|L>>>23),L=b+(R^N&(D^R))+k[3]+4107603335&4294967295,b=D+(L<<14&4294967295|L>>>18),L=N+(D^R&(b^D))+k[8]+1163531501&4294967295,N=b+(L<<20&4294967295|L>>>12),L=R+(b^D&(N^b))+k[13]+2850285829&4294967295,R=N+(L<<5&4294967295|L>>>27),L=D+(N^b&(R^N))+k[2]+4243563512&4294967295,D=R+(L<<9&4294967295|L>>>23),L=b+(R^N&(D^R))+k[7]+1735328473&4294967295,b=D+(L<<14&4294967295|L>>>18),L=N+(D^R&(b^D))+k[12]+2368359562&4294967295,N=b+(L<<20&4294967295|L>>>12),L=R+(N^b^D)+k[5]+4294588738&4294967295,R=N+(L<<4&4294967295|L>>>28),L=D+(R^N^b)+k[8]+2272392833&4294967295,D=R+(L<<11&4294967295|L>>>21),L=b+(D^R^N)+k[11]+1839030562&4294967295,b=D+(L<<16&4294967295|L>>>16),L=N+(b^D^R)+k[14]+4259657740&4294967295,N=b+(L<<23&4294967295|L>>>9),L=R+(N^b^D)+k[1]+2763975236&4294967295,R=N+(L<<4&4294967295|L>>>28),L=D+(R^N^b)+k[4]+1272893353&4294967295,D=R+(L<<11&4294967295|L>>>21),L=b+(D^R^N)+k[7]+4139469664&4294967295,b=D+(L<<16&4294967295|L>>>16),L=N+(b^D^R)+k[10]+3200236656&4294967295,N=b+(L<<23&4294967295|L>>>9),L=R+(N^b^D)+k[13]+681279174&4294967295,R=N+(L<<4&4294967295|L>>>28),L=D+(R^N^b)+k[0]+3936430074&4294967295,D=R+(L<<11&4294967295|L>>>21),L=b+(D^R^N)+k[3]+3572445317&4294967295,b=D+(L<<16&4294967295|L>>>16),L=N+(b^D^R)+k[6]+76029189&4294967295,N=b+(L<<23&4294967295|L>>>9),L=R+(N^b^D)+k[9]+3654602809&4294967295,R=N+(L<<4&4294967295|L>>>28),L=D+(R^N^b)+k[12]+3873151461&4294967295,D=R+(L<<11&4294967295|L>>>21),L=b+(D^R^N)+k[15]+530742520&4294967295,b=D+(L<<16&4294967295|L>>>16),L=N+(b^D^R)+k[2]+3299628645&4294967295,N=b+(L<<23&4294967295|L>>>9),L=R+(b^(N|~D))+k[0]+4096336452&4294967295,R=N+(L<<6&4294967295|L>>>26),L=D+(N^(R|~b))+k[7]+1126891415&4294967295,D=R+(L<<10&4294967295|L>>>22),L=b+(R^(D|~N))+k[14]+2878612391&4294967295,b=D+(L<<15&4294967295|L>>>17),L=N+(D^(b|~R))+k[5]+4237533241&4294967295,N=b+(L<<21&4294967295|L>>>11),L=R+(b^(N|~D))+k[12]+1700485571&4294967295,R=N+(L<<6&4294967295|L>>>26),L=D+(N^(R|~b))+k[3]+2399980690&4294967295,D=R+(L<<10&4294967295|L>>>22),L=b+(R^(D|~N))+k[10]+4293915773&4294967295,b=D+(L<<15&4294967295|L>>>17),L=N+(D^(b|~R))+k[1]+2240044497&4294967295,N=b+(L<<21&4294967295|L>>>11),L=R+(b^(N|~D))+k[8]+1873313359&4294967295,R=N+(L<<6&4294967295|L>>>26),L=D+(N^(R|~b))+k[15]+4264355552&4294967295,D=R+(L<<10&4294967295|L>>>22),L=b+(R^(D|~N))+k[6]+2734768916&4294967295,b=D+(L<<15&4294967295|L>>>17),L=N+(D^(b|~R))+k[13]+1309151649&4294967295,N=b+(L<<21&4294967295|L>>>11),L=R+(b^(N|~D))+k[4]+4149444226&4294967295,R=N+(L<<6&4294967295|L>>>26),L=D+(N^(R|~b))+k[11]+3174756917&4294967295,D=R+(L<<10&4294967295|L>>>22),L=b+(R^(D|~N))+k[2]+718787259&4294967295,b=D+(L<<15&4294967295|L>>>17),L=N+(D^(b|~R))+k[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(b+(L<<21&4294967295|L>>>11))&4294967295,O.g[2]=O.g[2]+b&4294967295,O.g[3]=O.g[3]+D&4294967295}r.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var N=R-this.blockSize,k=this.B,b=this.h,D=0;D<R;){if(b==0)for(;D<=N;)o(this,O,D),D+=this.blockSize;if(typeof O=="string"){for(;D<R;)if(k[b++]=O.charCodeAt(D++),b==this.blockSize){o(this,k),b=0;break}}else for(;D<R;)if(k[b++]=O[D++],b==this.blockSize){o(this,k),b=0;break}}this.h=b,this.o+=R},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var N=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=N&255,N/=256;for(this.u(O),O=Array(16),R=N=0;4>R;++R)for(var k=0;32>k;k+=8)O[N++]=this.g[R]>>>k&255;return O};function a(O,R){var N=f;return Object.prototype.hasOwnProperty.call(N,O)?N[O]:N[O]=R(O)}function u(O,R){this.h=R;for(var N=[],k=!0,b=O.length-1;0<=b;b--){var D=O[b]|0;k&&D==R||(N[b]=D,k=!1)}this.g=N}var f={};function h(O){return-128<=O&&128>O?a(O,function(R){return new u([R|0],0>R?-1:0)}):new u([O|0],0>O?-1:0)}function m(O){if(isNaN(O)||!isFinite(O))return g;if(0>O)return _(m(-O));for(var R=[],N=1,k=0;O>=N;k++)R[k]=O/N|0,N*=4294967296;return new u(R,0)}function v(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return _(v(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=m(Math.pow(R,8)),k=g,b=0;b<O.length;b+=8){var D=Math.min(8,O.length-b),L=parseInt(O.substring(b,b+D),R);8>D?(D=m(Math.pow(R,D)),k=k.j(D).add(m(L))):(k=k.j(N),k=k.add(m(L)))}return k}var g=h(0),d=h(1),y=h(16777216);n=u.prototype,n.m=function(){if(T(this))return-_(this).m();for(var O=0,R=1,N=0;N<this.g.length;N++){var k=this.i(N);O+=(0<=k?k:4294967296+k)*R,R*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(w(this))return"0";if(T(this))return"-"+_(this).toString(O);for(var R=m(Math.pow(O,6)),N=this,k="";;){var b=I(N,R).g;N=E(N,b.j(R));var D=((0<N.g.length?N.g[0]:N.h)>>>0).toString(O);if(N=b,w(N))return D+k;for(;6>D.length;)D="0"+D;k=D+k}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function w(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function T(O){return O.h==-1}n.l=function(O){return O=E(this,O),T(O)?-1:w(O)?0:1};function _(O){for(var R=O.g.length,N=[],k=0;k<R;k++)N[k]=~O.g[k];return new u(N,~O.h).add(d)}n.abs=function(){return T(this)?_(this):this},n.add=function(O){for(var R=Math.max(this.g.length,O.g.length),N=[],k=0,b=0;b<=R;b++){var D=k+(this.i(b)&65535)+(O.i(b)&65535),L=(D>>>16)+(this.i(b)>>>16)+(O.i(b)>>>16);k=L>>>16,D&=65535,L&=65535,N[b]=L<<16|D}return new u(N,N[N.length-1]&-2147483648?-1:0)};function E(O,R){return O.add(_(R))}n.j=function(O){if(w(this)||w(O))return g;if(T(this))return T(O)?_(this).j(_(O)):_(_(this).j(O));if(T(O))return _(this.j(_(O)));if(0>this.l(y)&&0>O.l(y))return m(this.m()*O.m());for(var R=this.g.length+O.g.length,N=[],k=0;k<2*R;k++)N[k]=0;for(k=0;k<this.g.length;k++)for(var b=0;b<O.g.length;b++){var D=this.i(k)>>>16,L=this.i(k)&65535,$=O.i(b)>>>16,G=O.i(b)&65535;N[2*k+2*b]+=L*G,S(N,2*k+2*b),N[2*k+2*b+1]+=D*G,S(N,2*k+2*b+1),N[2*k+2*b+1]+=L*$,S(N,2*k+2*b+1),N[2*k+2*b+2]+=D*$,S(N,2*k+2*b+2)}for(k=0;k<R;k++)N[k]=N[2*k+1]<<16|N[2*k];for(k=R;k<2*R;k++)N[k]=0;return new u(N,0)};function S(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function P(O,R){this.g=O,this.h=R}function I(O,R){if(w(R))throw Error("division by zero");if(w(O))return new P(g,g);if(T(O))return R=I(_(O),R),new P(_(R.g),_(R.h));if(T(R))return R=I(O,_(R)),new P(_(R.g),R.h);if(30<O.g.length){if(T(O)||T(R))throw Error("slowDivide_ only works with positive integers.");for(var N=d,k=R;0>=k.l(O);)N=M(N),k=M(k);var b=F(N,1),D=F(k,1);for(k=F(k,2),N=F(N,2);!w(k);){var L=D.add(k);0>=L.l(O)&&(b=b.add(N),D=L),k=F(k,1),N=F(N,1)}return R=E(O,b.j(R)),new P(b,R)}for(b=g;0<=O.l(R);){for(N=Math.max(1,Math.floor(O.m()/R.m())),k=Math.ceil(Math.log(N)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),D=m(N),L=D.j(R);T(L)||0<L.l(O);)N-=k,D=m(N),L=D.j(R);w(D)&&(D=d),b=b.add(D),O=E(O,L)}return new P(b,O)}n.A=function(O){return I(this,O).h},n.and=function(O){for(var R=Math.max(this.g.length,O.g.length),N=[],k=0;k<R;k++)N[k]=this.i(k)&O.i(k);return new u(N,this.h&O.h)},n.or=function(O){for(var R=Math.max(this.g.length,O.g.length),N=[],k=0;k<R;k++)N[k]=this.i(k)|O.i(k);return new u(N,this.h|O.h)},n.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),N=[],k=0;k<R;k++)N[k]=this.i(k)^O.i(k);return new u(N,this.h^O.h)};function M(O){for(var R=O.g.length+1,N=[],k=0;k<R;k++)N[k]=O.i(k)<<1|O.i(k-1)>>>31;return new u(N,O.h)}function F(O,R){var N=R>>5;R%=32;for(var k=O.g.length-N,b=[],D=0;D<k;D++)b[D]=0<R?O.i(D+N)>>>R|O.i(D+N+1)<<32-R:O.i(D+N);return new u(b,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,pw=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Ui=u}).apply(typeof m_<"u"?m_:typeof self<"u"?self:typeof window<"u"?window:{});var Ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mw,Wa,gw,rc,Yp,yw,vw,_w;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,C,V){return c==Array.prototype||c==Object.prototype||(c[C]=V.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ku=="object"&&Ku];for(var C=0;C<c.length;++C){var V=c[C];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var r=t(this);function o(c,C){if(C)e:{var V=r;c=c.split(".");for(var B=0;B<c.length-1;B++){var ae=c[B];if(!(ae in V))break e;V=V[ae]}c=c[c.length-1],B=V[c],C=C(B),C!=B&&C!=null&&e(V,c,{configurable:!0,writable:!0,value:C})}}function a(c,C){c instanceof String&&(c+="");var V=0,B=!1,ae={next:function(){if(!B&&V<c.length){var fe=V++;return{value:C(fe,c[fe]),done:!1}}return B=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}o("Array.prototype.values",function(c){return c||function(){return a(this,function(C,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function h(c){var C=typeof c;return C=C!="object"?C:c?Array.isArray(c)?"array":C:"null",C=="array"||C=="object"&&typeof c.length=="number"}function m(c){var C=typeof c;return C=="object"&&c!=null||C=="function"}function v(c,C,V){return c.call.apply(c.bind,arguments)}function g(c,C,V){if(!c)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,B),c.apply(C,ae)}}return function(){return c.apply(C,arguments)}}function d(c,C,V){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:g,d.apply(null,arguments)}function y(c,C){var V=Array.prototype.slice.call(arguments,1);return function(){var B=V.slice();return B.push.apply(B,arguments),c.apply(this,B)}}function w(c,C){function V(){}V.prototype=C.prototype,c.aa=C.prototype,c.prototype=new V,c.prototype.constructor=c,c.Qb=function(B,ae,fe){for(var Ae=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)Ae[ft-2]=arguments[ft];return C.prototype[ae].apply(B,Ae)}}function T(c){const C=c.length;if(0<C){const V=Array(C);for(let B=0;B<C;B++)V[B]=c[B];return V}return[]}function _(c,C){for(let V=1;V<arguments.length;V++){const B=arguments[V];if(h(B)){const ae=c.length||0,fe=B.length||0;c.length=ae+fe;for(let Ae=0;Ae<fe;Ae++)c[ae+Ae]=B[Ae]}else c.push(B)}}class E{constructor(C,V){this.i=C,this.j=V,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function S(c){return/^[\s\xa0]*$/.test(c)}function P(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function I(c){return I[" "](c),c}I[" "]=function(){};var M=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function F(c,C,V){for(const B in c)C.call(V,c[B],B,c)}function O(c,C){for(const V in c)C.call(void 0,c[V],V,c)}function R(c){const C={};for(const V in c)C[V]=c[V];return C}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,C){let V,B;for(let ae=1;ae<arguments.length;ae++){B=arguments[ae];for(V in B)c[V]=B[V];for(let fe=0;fe<N.length;fe++)V=N[fe],Object.prototype.hasOwnProperty.call(B,V)&&(c[V]=B[V])}}function b(c){var C=1;c=c.split(":");const V=[];for(;0<C&&c.length;)V.push(c.shift()),C--;return c.length&&V.push(c.join(":")),V}function D(c){f.setTimeout(()=>{throw c},0)}function L(){var c=Y;let C=null;return c.g&&(C=c.g,c.g=c.g.next,c.g||(c.h=null),C.next=null),C}class ${constructor(){this.h=this.g=null}add(C,V){const B=G.get();B.set(C,V),this.h?this.h.next=B:this.g=B,this.h=B}}var G=new E(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(C,V){this.h=C,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,ie=!1,Y=new $,H=()=>{const c=f.Promise.resolve(void 0);ne=()=>{c.then(j)}};var j=()=>{for(var c;c=L();){try{c.h.call(c.g)}catch(V){D(V)}var C=G;C.j(c),100>C.h&&(C.h++,c.next=C.g,C.g=c)}ie=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(c,C){this.type=c,this.g=this.target=C,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,C=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const V=()=>{};f.addEventListener("test",V,C),f.removeEventListener("test",V,C)}catch{}return c}();function Z(c,C){if(K.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var V=this.type=c.type,B=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=C,C=c.relatedTarget){if(M){e:{try{I(C.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(C=null)}}else V=="mouseover"?C=c.fromElement:V=="mouseout"&&(C=c.toElement);this.relatedTarget=C,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:z[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Z.aa.h.call(this)}}w(Z,K);var z={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var X="closure_listenable_"+(1e6*Math.random()|0),oe=0;function se(c,C,V,B,ae){this.listener=c,this.proxy=null,this.src=C,this.type=V,this.capture=!!B,this.ha=ae,this.key=++oe,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function be(c){this.src=c,this.g={},this.h=0}be.prototype.add=function(c,C,V,B,ae){var fe=c.toString();c=this.g[fe],c||(c=this.g[fe]=[],this.h++);var Ae=Ve(c,C,B,ae);return-1<Ae?(C=c[Ae],V||(C.fa=!1)):(C=new se(C,this.src,fe,!!B,ae),C.fa=V,c.push(C)),C};function De(c,C){var V=C.type;if(V in c.g){var B=c.g[V],ae=Array.prototype.indexOf.call(B,C,void 0),fe;(fe=0<=ae)&&Array.prototype.splice.call(B,ae,1),fe&&(pe(C),c.g[V].length==0&&(delete c.g[V],c.h--))}}function Ve(c,C,V,B){for(var ae=0;ae<c.length;++ae){var fe=c[ae];if(!fe.da&&fe.listener==C&&fe.capture==!!V&&fe.ha==B)return ae}return-1}var Ke="closure_lm_"+(1e6*Math.random()|0),Ye={};function Ct(c,C,V,B,ae){if(Array.isArray(C)){for(var fe=0;fe<C.length;fe++)Ct(c,C[fe],V,B,ae);return null}return V=We(V),c&&c[X]?c.K(C,V,m(B)?!!B.capture:!1,ae):mt(c,C,V,!1,B,ae)}function mt(c,C,V,B,ae,fe){if(!C)throw Error("Invalid event type");var Ae=m(ae)?!!ae.capture:!!ae,ft=Be(c);if(ft||(c[Ke]=ft=new be(c)),V=ft.add(C,V,B,Ae,fe),V.proxy)return V;if(B=he(),V.proxy=B,B.src=c,B.listener=V,c.addEventListener)ee||(ae=Ae),ae===void 0&&(ae=!1),c.addEventListener(C.toString(),B,ae);else if(c.attachEvent)c.attachEvent(Ie(C.toString()),B);else if(c.addListener&&c.removeListener)c.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return V}function he(){function c(V){return C.call(c.src,c.listener,V)}const C=ye;return c}function me(c,C,V,B,ae){if(Array.isArray(C))for(var fe=0;fe<C.length;fe++)me(c,C[fe],V,B,ae);else B=m(B)?!!B.capture:!!B,V=We(V),c&&c[X]?(c=c.i,C=String(C).toString(),C in c.g&&(fe=c.g[C],V=Ve(fe,V,B,ae),-1<V&&(pe(fe[V]),Array.prototype.splice.call(fe,V,1),fe.length==0&&(delete c.g[C],c.h--)))):c&&(c=Be(c))&&(C=c.g[C.toString()],c=-1,C&&(c=Ve(C,V,B,ae)),(V=-1<c?C[c]:null)&&Se(V))}function Se(c){if(typeof c!="number"&&c&&!c.da){var C=c.src;if(C&&C[X])De(C.i,c);else{var V=c.type,B=c.proxy;C.removeEventListener?C.removeEventListener(V,B,c.capture):C.detachEvent?C.detachEvent(Ie(V),B):C.addListener&&C.removeListener&&C.removeListener(B),(V=Be(C))?(De(V,c),V.h==0&&(V.src=null,C[Ke]=null)):pe(c)}}}function Ie(c){return c in Ye?Ye[c]:Ye[c]="on"+c}function ye(c,C){if(c.da)c=!0;else{C=new Z(C,this);var V=c.listener,B=c.ha||c.src;c.fa&&Se(c),c=V.call(B,C)}return c}function Be(c){return c=c[Ke],c instanceof be?c:null}var ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function We(c){return typeof c=="function"?c:(c[ze]||(c[ze]=function(C){return c.handleEvent(C)}),c[ze])}function st(){q.call(this),this.i=new be(this),this.M=this,this.F=null}w(st,q),st.prototype[X]=!0,st.prototype.removeEventListener=function(c,C,V,B){me(this,c,C,V,B)};function ut(c,C){var V,B=c.F;if(B)for(V=[];B;B=B.F)V.push(B);if(c=c.M,B=C.type||C,typeof C=="string")C=new K(C,c);else if(C instanceof K)C.target=C.target||c;else{var ae=C;C=new K(B,c),k(C,ae)}if(ae=!0,V)for(var fe=V.length-1;0<=fe;fe--){var Ae=C.g=V[fe];ae=nt(Ae,B,!0,C)&&ae}if(Ae=C.g=c,ae=nt(Ae,B,!0,C)&&ae,ae=nt(Ae,B,!1,C)&&ae,V)for(fe=0;fe<V.length;fe++)Ae=C.g=V[fe],ae=nt(Ae,B,!1,C)&&ae}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var c=this.i,C;for(C in c.g){for(var V=c.g[C],B=0;B<V.length;B++)pe(V[B]);delete c.g[C],c.h--}}this.F=null},st.prototype.K=function(c,C,V,B){return this.i.add(String(c),C,!1,V,B)},st.prototype.L=function(c,C,V,B){return this.i.add(String(c),C,!0,V,B)};function nt(c,C,V,B){if(C=c.i.g[String(C)],!C)return!0;C=C.concat();for(var ae=!0,fe=0;fe<C.length;++fe){var Ae=C[fe];if(Ae&&!Ae.da&&Ae.capture==V){var ft=Ae.listener,Nt=Ae.ha||Ae.src;Ae.fa&&De(c.i,Ae),ae=ft.call(Nt,B)!==!1&&ae}}return ae&&!B.defaultPrevented}function Zi(c,C,V){if(typeof c=="function")V&&(c=d(c,V));else if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:f.setTimeout(c,C||0)}function ct(c){c.g=Zi(()=>{c.g=null,c.i&&(c.i=!1,ct(c))},c.l);const C=c.h;c.h=null,c.m.apply(null,C)}class Jt extends q{constructor(C,V){super(),this.m=C,this.l=V,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:ct(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eo(c){q.call(this),this.h=c,this.g={}}w(eo,q);var ea=[];function ta(c){F(c.g,function(C,V){this.g.hasOwnProperty(V)&&Se(C)},c),c.g={}}eo.prototype.N=function(){eo.aa.N.call(this),ta(this)},eo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var na=f.JSON.stringify,ra=f.JSON.parse,ia=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function to(){}to.prototype.h=null;function qo(c){return c.h||(c.h=c.i())}function Bo(){}var Nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ar(){K.call(this,"d")}w(ar,K);function zo(){K.call(this,"c")}w(zo,K);var lr={},oa=null;function no(){return oa=oa||new st}lr.La="serverreachability";function sa(c){K.call(this,lr.La,c)}w(sa,K);function Lr(c){const C=no();ut(C,new sa(C))}lr.STAT_EVENT="statevent";function aa(c,C){K.call(this,lr.STAT_EVENT,c),this.stat=C}w(aa,K);function bt(c){const C=no();ut(C,new aa(C,c))}lr.Ma="timingevent";function $o(c,C){K.call(this,lr.Ma,c),this.size=C}w($o,K);function zn(c,C){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},C)}function ro(){this.g=!0}ro.prototype.xa=function(){this.g=!1};function io(c,C,V,B,ae,fe){c.info(function(){if(c.g)if(fe)for(var Ae="",ft=fe.split("&"),Nt=0;Nt<ft.length;Nt++){var et=ft[Nt].split("=");if(1<et.length){var Ft=et[0];et=et[1];var Pt=Ft.split("_");Ae=2<=Pt.length&&Pt[1]=="type"?Ae+(Ft+"="+et+"&"):Ae+(Ft+"=redacted&")}}else Ae=null;else Ae=fe;return"XMLHTTP REQ ("+B+") [attempt "+ae+"]: "+C+`
`+V+`
`+Ae})}function Ho(c,C,V,B,ae,fe,Ae){c.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+ae+"]: "+C+`
`+V+`
`+fe+" "+Ae})}function $n(c,C,V,B){c.info(function(){return"XMLHTTP TEXT ("+C+"): "+hf(c,V)+(B?" "+B:"")})}function la(c,C){c.info(function(){return"TIMEOUT: "+C})}ro.prototype.info=function(){};function hf(c,C){if(!c.g)return C;if(!C)return null;try{var V=JSON.parse(C);if(V){for(c=0;c<V.length;c++)if(Array.isArray(V[c])){var B=V[c];if(!(2>B.length)){var ae=B[1];if(Array.isArray(ae)&&!(1>ae.length)){var fe=ae[0];if(fe!="noop"&&fe!="stop"&&fe!="close")for(var Ae=1;Ae<ae.length;Ae++)ae[Ae]=""}}}}return na(V)}catch{return C}}var Ko={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hn;function oo(){}w(oo,to),oo.prototype.g=function(){return new XMLHttpRequest},oo.prototype.i=function(){return{}},Hn=new oo;function Kn(c,C,V,B){this.j=c,this.i=C,this.l=V,this.R=B||1,this.U=new eo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rl}function Rl(){this.i=null,this.g="",this.h=!1}var ua={},Wo={};function Go(c,C,V){c.L=1,c.v=fi(In(C)),c.m=V,c.P=!0,ca(c,null)}function ca(c,C){c.F=Date.now(),dt(c),c.A=In(c.v);var V=c.A,B=c.R;Array.isArray(B)||(B=[String(B)]),di(V.i,"t",B),c.C=0,V=c.j.J,c.h=new Rl,c.g=Kl(c.j,V?C:null,!c.m),0<c.O&&(c.M=new Jt(d(c.Y,c,c.g),c.O)),C=c.U,V=c.g,B=c.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(ea[0]=ae.toString()),ae=ea);for(var fe=0;fe<ae.length;fe++){var Ae=Ct(V,ae[fe],B||C.handleEvent,!1,C.h||C);if(!Ae)break;C.g[Ae.key]=Ae}C=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,C)):(c.u="GET",c.g.ea(c.A,c.u,null,C)),Lr(),io(c.i,c.u,c.A,c.l,c.R,c.m)}Kn.prototype.ca=function(c){c=c.target;const C=this.M;C&&mn(c)==3?C.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)e:{const Pt=mn(this.g);var C=this.g.Ba();const Mn=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||ga(this.g)))){this.J||Pt!=4||C==7||(C==8||0>=Mn?Lr(3):Lr(2)),so(this);var V=this.g.Z();this.X=V;t:if(Cl(this)){var B=ga(this.g);c="";var ae=B.length,fe=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dn(this),ai(this);var Ae="";break t}this.h.i=new f.TextDecoder}for(C=0;C<ae;C++)this.h.h=!0,c+=this.h.i.decode(B[C],{stream:!(fe&&C==ae-1)});B.length=0,this.h.g+=c,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=V==200,Ho(this.i,this.u,this.A,this.l,this.R,Pt,V),this.o){if(this.T&&!this.K){t:{if(this.g){var ft,Nt=this.g;if((ft=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(ft)){var et=ft;break t}}et=null}if(V=et)$n(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fa(this,V);else{this.o=!1,this.s=3,bt(12),Dn(this),ai(this);break e}}if(this.P){V=!0;let kn;for(;!this.J&&this.C<Ae.length;)if(kn=df(this,Ae),kn==Wo){Pt==4&&(this.s=4,bt(14),V=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==ua){this.s=4,bt(15),$n(this.i,this.l,Ae,"[Invalid Chunk]"),V=!1;break}else $n(this.i,this.l,kn,null),fa(this,kn);if(Cl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||Ae.length!=0||this.h.h||(this.s=1,bt(16),V=!1),this.o=this.o&&V,!V)$n(this.i,this.l,Ae,"[Invalid Chunked Response]"),Dn(this),ai(this);else if(0<Ae.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),va(Ft),Ft.M=!0,bt(11))}}else $n(this.i,this.l,Ae,null),fa(this,Ae);Pt==4&&Dn(this),this.o&&!this.J&&(Pt==4?os(this.j,this):(this.o=!1,dt(this)))}else es(this.g),V==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),Dn(this),ai(this)}}}catch{}finally{}};function Cl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function df(c,C){var V=c.C,B=C.indexOf(`
`,V);return B==-1?Wo:(V=Number(C.substring(V,B)),isNaN(V)?ua:(B+=1,B+V>C.length?Wo:(C=C.slice(B,B+V),c.C=B+V,C)))}Kn.prototype.cancel=function(){this.J=!0,Dn(this)};function dt(c){c.S=Date.now()+c.I,Pl(c,c.I)}function Pl(c,C){if(c.B!=null)throw Error("WatchDog timer not null");c.B=zn(d(c.ba,c),C)}function so(c){c.B&&(f.clearTimeout(c.B),c.B=null)}Kn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(la(this.i,this.A),this.L!=2&&(Lr(),bt(17)),Dn(this),this.s=2,ai(this)):Pl(this,this.S-c)};function ai(c){c.j.G==0||c.J||os(c.j,c)}function Dn(c){so(c);var C=c.M;C&&typeof C.ma=="function"&&C.ma(),c.M=null,ta(c.U),c.g&&(C=c.g,c.g=null,C.abort(),C.ma())}function fa(c,C){try{var V=c.j;if(V.G!=0&&(V.g==c||un(V.h,c))){if(!c.K&&un(V.h,c)&&V.G==3){try{var B=V.Da.g.parse(C)}catch{B=null}if(Array.isArray(B)&&B.length==3){var ae=B;if(ae[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<c.F)is(V),Xn(V);else break e;rs(V),bt(18)}}else V.za=ae[1],0<V.za-V.T&&37500>ae[2]&&V.F&&V.v==0&&!V.C&&(V.C=zn(d(V.Za,V),6e3));if(1>=xl(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else Ur(V,11)}else if((c.K||V.g==c)&&is(V),!S(C))for(ae=V.Da.g.parse(C),C=0;C<ae.length;C++){let et=ae[C];if(V.T=et[0],et=et[1],V.G==2)if(et[0]=="c"){V.K=et[1],V.ia=et[2];const Ft=et[3];Ft!=null&&(V.la=Ft,V.j.info("VER="+V.la));const Pt=et[4];Pt!=null&&(V.Aa=Pt,V.j.info("SVER="+V.Aa));const Mn=et[5];Mn!=null&&typeof Mn=="number"&&0<Mn&&(B=1.5*Mn,V.L=B,V.j.info("backChannelRequestTimeoutMs_="+B)),B=V;const kn=c.g;if(kn){const po=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(po){var fe=B.h;fe.g||po.indexOf("spdy")==-1&&po.indexOf("quic")==-1&&po.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(ha(fe,fe.h),fe.h=null))}if(B.D){const as=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;as&&(B.ya=as,ht(B.I,B.D,as))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-c.F,V.j.info("Handshake RTT: "+V.R+"ms")),B=V;var Ae=c;if(B.qa=Hl(B,B.J?B.ia:null,B.W),Ae.K){Nl(B.h,Ae);var ft=Ae,Nt=B.L;Nt&&(ft.I=Nt),ft.B&&(so(ft),dt(ft)),B.g=Ae}else ho(B);0<V.i.length&&hr(V)}else et[0]!="stop"&&et[0]!="close"||Ur(V,7);else V.G==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?Ur(V,7):Kt(V):et[0]!="noop"&&V.l&&V.l.ta(et),V.v=0)}}Lr(4)}catch{}}var Ol=class{constructor(c,C){this.g=c,this.map=C}};function ao(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function An(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function xl(c){return c.h?1:c.g?c.g.size:0}function un(c,C){return c.h?c.h==C:c.g?c.g.has(C):!1}function ha(c,C){c.g?c.g.add(C):c.h=C}function Nl(c,C){c.h&&c.h==C?c.h=null:c.g&&c.g.has(C)&&c.g.delete(C)}ao.prototype.cancel=function(){if(this.i=Dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Dl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let C=c.i;for(const V of c.g.values())C=C.concat(V.D);return C}return T(c.i)}function Qo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(h(c)){for(var C=[],V=c.length,B=0;B<V;B++)C.push(c[B]);return C}C=[],V=0;for(B in c)C[V++]=c[B];return C}function Yo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(h(c)||typeof c=="string"){var C=[];c=c.length;for(var V=0;V<c;V++)C.push(V);return C}C=[],V=0;for(const B in c)C[V++]=B;return C}}}function li(c,C){if(c.forEach&&typeof c.forEach=="function")c.forEach(C,void 0);else if(h(c)||typeof c=="string")Array.prototype.forEach.call(c,C,void 0);else for(var V=Yo(c),B=Qo(c),ae=B.length,fe=0;fe<ae;fe++)C.call(void 0,B[fe],V&&V[fe],c)}var lo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pf(c,C){if(c){c=c.split("&");for(var V=0;V<c.length;V++){var B=c[V].indexOf("="),ae=null;if(0<=B){var fe=c[V].substring(0,B);ae=c[V].substring(B+1)}else fe=c[V];C(fe,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Mr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Mr){this.h=c.h,uo(this,c.j),this.o=c.o,this.g=c.g,ui(this,c.s),this.l=c.l;var C=c.i,V=new ur;V.i=C.i,C.g&&(V.g=new Map(C.g),V.h=C.h),ci(this,V),this.m=c.m}else c&&(C=String(c).match(lo))?(this.h=!1,uo(this,C[1]||"",!0),this.o=Ze(C[2]||""),this.g=Ze(C[3]||"",!0),ui(this,C[4]),this.l=Ze(C[5]||"",!0),ci(this,C[6]||"",!0),this.m=Ze(C[7]||"")):(this.h=!1,this.i=new ur(null,this.h))}Mr.prototype.toString=function(){var c=[],C=this.j;C&&c.push(hi(C,Xo,!0),":");var V=this.g;return(V||C=="file")&&(c.push("//"),(C=this.o)&&c.push(hi(C,Xo,!0),"@"),c.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&c.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&c.push("/"),c.push(hi(V,V.charAt(0)=="/"?jl:Ml,!0))),(V=this.i.toString())&&c.push("?",V),(V=this.m)&&c.push("#",hi(V,da)),c.join("")};function In(c){return new Mr(c)}function uo(c,C,V){c.j=V?Ze(C,!0):C,c.j&&(c.j=c.j.replace(/:$/,""))}function ui(c,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);c.s=C}else c.s=null}function ci(c,C,V){C instanceof ur?(c.i=C,cr(c.i,c.h)):(V||(C=hi(C,Vl)),c.i=new ur(C,c.h))}function ht(c,C,V){c.i.set(C,V)}function fi(c){return ht(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ze(c,C){return c?C?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function hi(c,C,V){return typeof c=="string"?(c=encodeURI(c).replace(C,Ll),V&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ll(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Xo=/[#\/\?@]/g,Ml=/[#\?:]/g,jl=/[#\?]/g,Vl=/[#\?@]/g,da=/#/g;function ur(c,C){this.h=this.g=null,this.i=c||null,this.j=!!C}function Ht(c){c.g||(c.g=new Map,c.h=0,c.i&&pf(c.i,function(C,V){c.add(decodeURIComponent(C.replace(/\+/g," ")),V)}))}n=ur.prototype,n.add=function(c,C){Ht(this),this.i=null,c=Ln(this,c);var V=this.g.get(c);return V||this.g.set(c,V=[]),V.push(C),this.h+=1,this};function Wn(c,C){Ht(c),C=Ln(c,C),c.g.has(C)&&(c.i=null,c.h-=c.g.get(C).length,c.g.delete(C))}function Gn(c,C){return Ht(c),C=Ln(c,C),c.g.has(C)}n.forEach=function(c,C){Ht(this),this.g.forEach(function(V,B){V.forEach(function(ae){c.call(C,ae,B,this)},this)},this)},n.na=function(){Ht(this);const c=Array.from(this.g.values()),C=Array.from(this.g.keys()),V=[];for(let B=0;B<C.length;B++){const ae=c[B];for(let fe=0;fe<ae.length;fe++)V.push(C[B])}return V},n.V=function(c){Ht(this);let C=[];if(typeof c=="string")Gn(this,c)&&(C=C.concat(this.g.get(Ln(this,c))));else{c=Array.from(this.g.values());for(let V=0;V<c.length;V++)C=C.concat(c[V])}return C},n.set=function(c,C){return Ht(this),this.i=null,c=Ln(this,c),Gn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[C]),this.h+=1,this},n.get=function(c,C){return c?(c=this.V(c),0<c.length?String(c[0]):C):C};function di(c,C,V){Wn(c,C),0<V.length&&(c.i=null,c.g.set(Ln(c,C),T(V)),c.h+=V.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],C=Array.from(this.g.keys());for(var V=0;V<C.length;V++){var B=C[V];const fe=encodeURIComponent(String(B)),Ae=this.V(B);for(B=0;B<Ae.length;B++){var ae=fe;Ae[B]!==""&&(ae+="="+encodeURIComponent(String(Ae[B]))),c.push(ae)}}return this.i=c.join("&")};function Ln(c,C){return C=String(C),c.j&&(C=C.toLowerCase()),C}function cr(c,C){C&&!c.j&&(Ht(c),c.i=null,c.g.forEach(function(V,B){var ae=B.toLowerCase();B!=ae&&(Wn(this,B),di(this,ae,V))},c)),c.j=C}function mf(c,C){const V=new ro;if(f.Image){const B=new Image;B.onload=y(pn,V,"TestLoadImage: loaded",!0,C,B),B.onerror=y(pn,V,"TestLoadImage: error",!1,C,B),B.onabort=y(pn,V,"TestLoadImage: abort",!1,C,B),B.ontimeout=y(pn,V,"TestLoadImage: timeout",!1,C,B),f.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=c}else C(!1)}function Fl(c,C){const V=new ro,B=new AbortController,ae=setTimeout(()=>{B.abort(),pn(V,"TestPingServer: timeout",!1,C)},1e4);fetch(c,{signal:B.signal}).then(fe=>{clearTimeout(ae),fe.ok?pn(V,"TestPingServer: ok",!0,C):pn(V,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(ae),pn(V,"TestPingServer: error",!1,C)})}function pn(c,C,V,B,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),B(V)}catch{}}function gf(){this.g=new ia}function Ul(c,C,V){const B=V||"";try{li(c,function(ae,fe){let Ae=ae;m(ae)&&(Ae=na(ae)),C.push(B+fe+"="+encodeURIComponent(Ae))})}catch(ae){throw C.push(B+"type="+encodeURIComponent("_badmap")),ae}}function jr(c){this.l=c.Ub||null,this.j=c.eb||!1}w(jr,to),jr.prototype.g=function(){return new co(this.l,this.j)},jr.prototype.i=function(c){return function(){return c}}({});function co(c,C){st.call(this),this.D=c,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(co,st),n=co.prototype,n.open=function(c,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=C,this.readyState=1,Yn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(C.body=c),(this.D||f).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ql(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ql(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var C=c.value?c.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!c.done}))&&(this.response=this.responseText+=C)}c.done?Qn(this):Yn(this),this.readyState==3&&ql(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Qn(this))},n.Qa=function(c){this.g&&(this.response=c,Qn(this))},n.ga=function(){this.g&&Qn(this)};function Qn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Yn(c)}n.setRequestHeader=function(c,C){this.u.append(c,C)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],C=this.h.entries();for(var V=C.next();!V.done;)V=V.value,c.push(V[0]+": "+V[1]),V=C.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(co.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Vr(c){let C="";return F(c,function(V,B){C+=B,C+=":",C+=V,C+=`\r
`}),C}function pi(c,C,V){e:{for(B in V){var B=!1;break e}B=!0}B||(V=Vr(V),typeof c=="string"?V!=null&&encodeURIComponent(String(V)):ht(c,C,V))}function vt(c){st.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(vt,st);var yf=/^https?$/i,pa=["POST","PUT"];n=vt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,C,V,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);C=C?C.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hn.g(),this.v=this.o?qo(this.o):qo(Hn),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(C,String(c),!0),this.B=!1}catch(fe){fo(this,fe);return}if(c=V||"",V=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var ae in B)V.set(ae,B[ae]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const fe of B.keys())V.set(fe,B.get(fe));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(V.keys()).find(fe=>fe.toLowerCase()=="content-type"),ae=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(pa,C,void 0))||B||ae||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Ae]of V)this.g.setRequestHeader(fe,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zo(this),this.u=!0,this.g.send(c),this.u=!1}catch(fe){fo(this,fe)}};function fo(c,C){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=C,c.m=5,Jo(c),bn(c)}function Jo(c){c.A||(c.A=!0,ut(c,"complete"),ut(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ut(this,"complete"),ut(this,"abort"),bn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bn(this,!0)),vt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ma(this):this.bb())},n.bb=function(){ma(this)};function ma(c){if(c.h&&typeof u<"u"&&(!c.v[1]||mn(c)!=4||c.Z()!=2)){if(c.u&&mn(c)==4)Zi(c.Ea,0,c);else if(ut(c,"readystatechange"),mn(c)==4){c.h=!1;try{const Ae=c.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var V;if(!(V=C)){var B;if(B=Ae===0){var ae=String(c.D).match(lo)[1]||null;!ae&&f.self&&f.self.location&&(ae=f.self.location.protocol.slice(0,-1)),B=!yf.test(ae?ae.toLowerCase():"")}V=B}if(V)ut(c,"complete"),ut(c,"success");else{c.m=6;try{var fe=2<mn(c)?c.g.statusText:""}catch{fe=""}c.l=fe+" ["+c.Z()+"]",Jo(c)}}finally{bn(c)}}}}function bn(c,C){if(c.g){Zo(c);const V=c.g,B=c.v[0]?()=>{}:null;c.g=null,c.v=null,C||ut(c,"ready");try{V.onreadystatechange=B}catch{}}}function Zo(c){c.I&&(f.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function mn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var C=this.g.responseText;return c&&C.indexOf(c)==0&&(C=C.substring(c.length)),ra(C)}};function ga(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function es(c){const C={};c=(c.g&&2<=mn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<c.length;B++){if(S(c[B]))continue;var V=b(c[B]);const ae=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const fe=C[ae]||[];C[ae]=fe,fe.push(V)}O(C,function(B){return B.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fr(c,C,V){return V&&V.internalChannelParams&&V.internalChannelParams[c]||C}function ya(c){this.Aa=0,this.i=[],this.j=new ro,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fr("baseRetryDelayMs",5e3,c),this.cb=fr("retryDelaySeedMs",1e4,c),this.Wa=fr("forwardChannelMaxRetries",2,c),this.wa=fr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ao(c&&c.concurrentRequestLimit),this.Da=new gf,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ya.prototype,n.la=8,n.G=1,n.connect=function(c,C,V,B){bt(0),this.W=c,this.H=C||{},V&&B!==void 0&&(this.H.OSID=V,this.H.OAID=B),this.F=this.X,this.I=Hl(this,null,this.W),hr(this)};function Kt(c){if(ts(c),c.G==3){var C=c.U++,V=In(c.I);if(ht(V,"SID",c.K),ht(V,"RID",C),ht(V,"TYPE","terminate"),Fr(c,V),C=new Kn(c,c.j,C),C.L=2,C.v=fi(In(V)),V=!1,f.navigator&&f.navigator.sendBeacon)try{V=f.navigator.sendBeacon(C.v.toString(),"")}catch{}!V&&f.Image&&(new Image().src=C.v,V=!0),V||(C.g=Kl(C.j,null),C.g.ea(C.v)),C.F=Date.now(),dt(C)}$l(c)}function Xn(c){c.g&&(va(c),c.g.cancel(),c.g=null)}function ts(c){Xn(c),c.u&&(f.clearTimeout(c.u),c.u=null),is(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function hr(c){if(!An(c.h)&&!c.s){c.s=!0;var C=c.Ga;ne||H(),ie||(ne(),ie=!0),Y.add(C,c),c.B=0}}function vf(c,C){return xl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=C.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=zn(d(c.Ga,c,C),zl(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const ae=new Kn(this,this.j,c);let fe=this.o;if(this.S&&(fe?(fe=R(fe),k(fe,this.S)):fe=this.S),this.m!==null||this.O||(ae.H=fe,fe=null),this.P)e:{for(var C=0,V=0;V<this.i.length;V++){t:{var B=this.i[V];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(C+=B,4096<C){C=V;break e}if(C===4096||V===this.i.length-1){C=V+1;break e}}C=1e3}else C=1e3;C=mi(this,ae,C),V=In(this.I),ht(V,"RID",c),ht(V,"CVER",22),this.D&&ht(V,"X-HTTP-Session-Id",this.D),Fr(this,V),fe&&(this.O?C="headers="+encodeURIComponent(String(Vr(fe)))+"&"+C:this.m&&pi(V,this.m,fe)),ha(this.h,ae),this.Ua&&ht(V,"TYPE","init"),this.P?(ht(V,"$req",C),ht(V,"SID","null"),ae.T=!0,Go(ae,V,null)):Go(ae,V,C),this.G=2}}else this.G==3&&(c?ns(this,c):this.i.length==0||An(this.h)||ns(this))};function ns(c,C){var V;C?V=C.l:V=c.U++;const B=In(c.I);ht(B,"SID",c.K),ht(B,"RID",V),ht(B,"AID",c.T),Fr(c,B),c.m&&c.o&&pi(B,c.m,c.o),V=new Kn(c,c.j,V,c.B+1),c.m===null&&(V.H=c.o),C&&(c.i=C.D.concat(c.i)),C=mi(c,V,1e3),V.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ha(c.h,V),Go(V,B,C)}function Fr(c,C){c.H&&F(c.H,function(V,B){ht(C,B,V)}),c.l&&li({},function(V,B){ht(C,B,V)})}function mi(c,C,V){V=Math.min(c.i.length,V);var B=c.l?d(c.l.Na,c.l,c):null;e:{var ae=c.i;let fe=-1;for(;;){const Ae=["count="+V];fe==-1?0<V?(fe=ae[0].g,Ae.push("ofs="+fe)):fe=0:Ae.push("ofs="+fe);let ft=!0;for(let Nt=0;Nt<V;Nt++){let et=ae[Nt].g;const Ft=ae[Nt].map;if(et-=fe,0>et)fe=Math.max(0,ae[Nt].g-100),ft=!1;else try{Ul(Ft,Ae,"req"+et+"_")}catch{B&&B(Ft)}}if(ft){B=Ae.join("&");break e}}}return c=c.i.splice(0,V),C.D=c,B}function ho(c){if(!c.g&&!c.u){c.Y=1;var C=c.Fa;ne||H(),ie||(ne(),ie=!0),Y.add(C,c),c.v=0}}function rs(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=zn(d(c.Fa,c),zl(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Bl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=zn(d(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),Xn(this),Bl(this))};function va(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function Bl(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var C=In(c.qa);ht(C,"RID","rpc"),ht(C,"SID",c.K),ht(C,"AID",c.T),ht(C,"CI",c.F?"0":"1"),!c.F&&c.ja&&ht(C,"TO",c.ja),ht(C,"TYPE","xmlhttp"),Fr(c,C),c.m&&c.o&&pi(C,c.m,c.o),c.L&&(c.g.I=c.L);var V=c.g;c=c.ia,V.L=1,V.v=fi(In(C)),V.m=null,V.P=!0,ca(V,c)}n.Za=function(){this.C!=null&&(this.C=null,Xn(this),rs(this),bt(19))};function is(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function os(c,C){var V=null;if(c.g==C){is(c),va(c),c.g=null;var B=2}else if(un(c.h,C))V=C.D,Nl(c.h,C),B=1;else return;if(c.G!=0){if(C.o)if(B==1){V=C.m?C.m.length:0,C=Date.now()-C.F;var ae=c.B;B=no(),ut(B,new $o(B,V)),hr(c)}else ho(c);else if(ae=C.s,ae==3||ae==0&&0<C.X||!(B==1&&vf(c,C)||B==2&&rs(c)))switch(V&&0<V.length&&(C=c.h,C.i=C.i.concat(V)),ae){case 1:Ur(c,5);break;case 4:Ur(c,10);break;case 3:Ur(c,6);break;default:Ur(c,2)}}}function zl(c,C){let V=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(V*=2),V*C}function Ur(c,C){if(c.j.info("Error code "+C),C==2){var V=d(c.fb,c),B=c.Xa;const ae=!B;B=new Mr(B||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||uo(B,"https"),fi(B),ae?mf(B.toString(),V):Fl(B.toString(),V)}else bt(2);c.G=0,c.l&&c.l.sa(C),$l(c),ts(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function $l(c){if(c.G=0,c.ka=[],c.l){const C=Dl(c.h);(C.length!=0||c.i.length!=0)&&(_(c.ka,C),_(c.ka,c.i),c.h.i.length=0,T(c.i),c.i.length=0),c.l.ra()}}function Hl(c,C,V){var B=V instanceof Mr?In(V):new Mr(V);if(B.g!="")C&&(B.g=C+"."+B.g),ui(B,B.s);else{var ae=f.location;B=ae.protocol,C=C?C+"."+ae.hostname:ae.hostname,ae=+ae.port;var fe=new Mr(null);B&&uo(fe,B),C&&(fe.g=C),ae&&ui(fe,ae),V&&(fe.l=V),B=fe}return V=c.D,C=c.ya,V&&C&&ht(B,V,C),ht(B,"VER",c.la),Fr(c,B),B}function Kl(c,C,V){if(C&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=c.Ca&&!c.pa?new vt(new jr({eb:V})):new vt(c.pa),C.Ha(c.J),C}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function _a(){}n=_a.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ss(){}ss.prototype.g=function(c,C){return new cn(c,C)};function cn(c,C){st.call(this),this.g=new ya(C),this.l=c,this.h=C&&C.messageUrlParams||null,c=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(c?c["X-WebChannel-Content-Type"]=C.messageContentType:c={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(c?c["X-WebChannel-Client-Profile"]=C.va:c={"X-WebChannel-Client-Profile":C.va}),this.g.S=c,(c=C&&C.Sb)&&!S(c)&&(this.g.m=c),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!S(C)&&(this.g.D=C,c=this.h,c!==null&&C in c&&(c=this.h,C in c&&delete c[C])),this.j=new dr(this)}w(cn,st),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Kt(this.g)},cn.prototype.o=function(c){var C=this.g;if(typeof c=="string"){var V={};V.__data__=c,c=V}else this.u&&(V={},V.__data__=na(c),c=V);C.i.push(new Ol(C.Ya++,c)),C.G==3&&hr(C)},cn.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,cn.aa.N.call(this)};function Wl(c){ar.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var C=c.__sm__;if(C){e:{for(const V in C){c=V;break e}c=void 0}(this.i=c)&&(c=this.i,C=C!==null&&c in C?C[c]:void 0),this.data=C}else this.data=c}w(Wl,ar);function Gl(){zo.call(this),this.status=1}w(Gl,zo);function dr(c){this.g=c}w(dr,_a),dr.prototype.ua=function(){ut(this.g,"a")},dr.prototype.ta=function(c){ut(this.g,new Wl(c))},dr.prototype.sa=function(c){ut(this.g,new Gl)},dr.prototype.ra=function(){ut(this.g,"b")},ss.prototype.createWebChannel=ss.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,_w=function(){return new ss},vw=function(){return no()},yw=lr,Yp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ko.NO_ERROR=0,Ko.TIMEOUT=8,Ko.HTTP_ERROR=6,rc=Ko,kl.COMPLETE="complete",gw=kl,Bo.EventType=Nn,Nn.OPEN="a",Nn.CLOSE="b",Nn.ERROR="c",Nn.MESSAGE="d",st.prototype.listen=st.prototype.K,Wa=Bo,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,mw=vt}).apply(typeof Ku<"u"?Ku:typeof self<"u"?self:typeof window<"u"?window:{});const g_="@firebase/firestore",y_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qs="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=new Em("@firebase/firestore");function Rs(){return Do.logLevel}function Re(n,...e){if(Do.logLevel<=Xe.DEBUG){const t=e.map(Dm);Do.debug(`Firestore (${Qs}): ${n}`,...t)}}function ri(n,...e){if(Do.logLevel<=Xe.ERROR){const t=e.map(Dm);Do.error(`Firestore (${Qs}): ${n}`,...t)}}function Vs(n,...e){if(Do.logLevel<=Xe.WARN){const t=e.map(Dm);Do.warn(`Firestore (${Qs}): ${n}`,...t)}}function Dm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(n="Unexpected state"){const e=`FIRESTORE (${Qs}) INTERNAL ASSERTION FAILED: `+n;throw ri(e),new Error(e)}function lt(n,e){n||Fe()}function He(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Nr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(sn.UNAUTHENTICATED))}shutdown(){}}class uP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class cP{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){lt(this.o===void 0);let r=this.i;const o=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Zr,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await o(this.currentUser)})},f=h=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>f(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Zr)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lt(typeof r.accessToken=="string"),new Ew(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string"),new sn(e)}}class fP{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class hP{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new fP(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class v_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dP{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,or(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){lt(this.o===void 0);const r=a=>{a.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,Re("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new v_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(lt(typeof t.token=="string"),this.R=t.token,new v_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=pP(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Ge(n,e){return n<e?-1:n>e?1:0}function Xp(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),o=e.codePointAt(t);if(r!==o){if(r<128&&o<128)return Ge(r,o);{const a=ww(),u=mP(a.encode(__(n,t)),a.encode(__(e,t)));return u!==0?u:Ge(r,o)}}t+=r>65535?2:1}return Ge(n.length,e.length)}function __(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function mP(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ge(n[t],e[t]);return Ge(n.length,e.length)}function Fs(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=-62135596800,w_=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*w_);return new jt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<E_)throw new Ne(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/w_}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-E_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new jt(0,0))}static max(){return new $e(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="__name__";class _r{constructor(e,t,r){t===void 0?t=0:t>e.length&&Fe(),r===void 0?r=e.length-t:r>e.length-t&&Fe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=_r.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Ge(e.length,t.length)}static compareSegments(e,t){const r=_r.isNumericId(e),o=_r.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?_r.extractNumericId(e).compare(_r.extractNumericId(t)):Xp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ui.fromString(e.substring(4,e.length-2))}}class Et extends _r{construct(e,t,r){return new Et(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(Ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Et(t)}static emptyPath(){return new Et([])}}const gP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends _r{construct(e,t,r){return new Yt(e,t,r)}static isValidIdentifier(e){return gP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===T_}static keyField(){return new Yt([T_])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new Ne(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new Ne(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ne(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(r+=f,o++):(a(),o++)}if(a(),u)throw new Ne(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(t)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(Et.fromString(e))}static fromName(e){return new je(Et.fromString(e).popFirst(5))}static empty(){return new je(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new Et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=-1;function yP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=$e.fromTimestamp(r===1e9?new jt(t+1,0):new jt(t,r));return new $i(o,je.empty(),e)}function vP(n){return new $i(n.readTime,n.key,al)}class $i{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new $i($e.min(),je.empty(),al)}static max(){return new $i($e.max(),je.empty(),al)}}function _P(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=je.comparator(n.documentKey,e.documentKey),t!==0?t:Ge(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ys(n){if(n.code!==Ee.FAILED_PRECONDITION||n.message!==EP)throw n;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ge((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ge?t:ge.resolve(t)}catch(t){return ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.reject(t)}static resolve(e){return new ge((t,r)=>{t(e)})}static reject(e){return new ge((t,r)=>{r(e)})}static waitFor(e){return new ge((t,r)=>{let o=0,a=0,u=!1;e.forEach(f=>{++o,f.next(()=>{++a,u&&a===o&&t()},h=>r(h))}),u=!0,a===o&&t()})}static or(e){let t=ge.resolve(!1);for(const r of e)t=t.next(o=>o?ge.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new ge((r,o)=>{const a=e.length,u=new Array(a);let f=0;for(let h=0;h<a;h++){const m=h;t(e[m]).next(v=>{u[m]=v,++f,f===a&&r(u)},v=>o(v))}})}static doWhile(e,t){return new ge((r,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):r()};a()})}}function TP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Xs(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Uc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=-1;function qc(n){return n==null}function Ec(n){return n===0&&1/n==-1/0}function SP(n){return typeof n=="number"&&Number.isInteger(n)&&!Ec(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="";function AP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=S_(e)),e=IP(n.get(t),e);return S_(e)}function IP(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case Sw:t+="";break;default:t+=a}}return t}function S_(n){return n+Sw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Xi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Aw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,t){this.comparator=e,this.root=t||Qt.EMPTY}insert(e,t){return new At(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wu(this.root,e,this.comparator,!0)}}class Wu{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Qt.RED,this.left=o??Qt.EMPTY,this.right=a??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Qt(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(e,t,r,o,a){return this}insert(e,t,r){return new Qt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new I_(this.data.getIterator())}getIteratorFrom(e){return new I_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class I_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new On([])}unionWith(e){let t=new Vt(Yt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new On(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fs(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Iw("Invalid base64 string: "+a):a}}(e);return new Xt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Xt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const bP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(n){if(lt(!!n),typeof n=="string"){let e=0;const t=bP.exec(n);if(lt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(n.seconds),nanos:Rt(n.nanos)}}function Rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ki(n){return typeof n=="string"?Xt.fromBase64String(n):Xt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="server_timestamp",kw="__type__",Rw="__previous_value__",Cw="__local_write_time__";function Mm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[kw])===null||t===void 0?void 0:t.stringValue)===bw}function Bc(n){const e=n.mapValue.fields[Rw];return Mm(e)?Bc(e):e}function ll(n){const e=Hi(n.mapValue.fields[Cw].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,t,r,o,a,u,f,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=m}}const wc="(default)";class ul{constructor(e,t){this.projectId=e,this.database=t||wc}static empty(){return new ul("","")}get isDefaultDatabase(){return this.database===wc}isEqual(e){return e instanceof ul&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="__type__",Ow="__max__",Gu={mapValue:{fields:{__type__:{stringValue:Ow}}}},xw="__vector__",Tc="value";function Wi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Mm(n)?4:CP(n)?9007199254740991:RP(n)?10:11:Fe()}function Cr(n,e){if(n===e)return!0;const t=Wi(n);if(t!==Wi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ll(n).isEqual(ll(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Hi(o.timestampValue),f=Hi(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Ki(o.bytesValue).isEqual(Ki(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return Rt(o.geoPointValue.latitude)===Rt(a.geoPointValue.latitude)&&Rt(o.geoPointValue.longitude)===Rt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Rt(o.integerValue)===Rt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Rt(o.doubleValue),f=Rt(a.doubleValue);return u===f?Ec(u)===Ec(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return Fs(n.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},f=a.mapValue.fields||{};if(A_(u)!==A_(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!Cr(u[h],f[h])))return!1;return!0}(n,e);default:return Fe()}}function cl(n,e){return(n.values||[]).find(t=>Cr(t,e))!==void 0}function Us(n,e){if(n===e)return 0;const t=Wi(n),r=Wi(e);if(t!==r)return Ge(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(n.booleanValue,e.booleanValue);case 2:return function(a,u){const f=Rt(a.integerValue||a.doubleValue),h=Rt(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1}(n,e);case 3:return b_(n.timestampValue,e.timestampValue);case 4:return b_(ll(n),ll(e));case 5:return Xp(n.stringValue,e.stringValue);case 6:return function(a,u){const f=Ki(a),h=Ki(u);return f.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),h=u.split("/");for(let m=0;m<f.length&&m<h.length;m++){const v=Ge(f[m],h[m]);if(v!==0)return v}return Ge(f.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const f=Ge(Rt(a.latitude),Rt(u.latitude));return f!==0?f:Ge(Rt(a.longitude),Rt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return k_(n.arrayValue,e.arrayValue);case 10:return function(a,u){var f,h,m,v;const g=a.fields||{},d=u.fields||{},y=(f=g[Tc])===null||f===void 0?void 0:f.arrayValue,w=(h=d[Tc])===null||h===void 0?void 0:h.arrayValue,T=Ge(((m=y==null?void 0:y.values)===null||m===void 0?void 0:m.length)||0,((v=w==null?void 0:w.values)===null||v===void 0?void 0:v.length)||0);return T!==0?T:k_(y,w)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Gu.mapValue&&u===Gu.mapValue)return 0;if(a===Gu.mapValue)return 1;if(u===Gu.mapValue)return-1;const f=a.fields||{},h=Object.keys(f),m=u.fields||{},v=Object.keys(m);h.sort(),v.sort();for(let g=0;g<h.length&&g<v.length;++g){const d=Xp(h[g],v[g]);if(d!==0)return d;const y=Us(f[h[g]],m[v[g]]);if(y!==0)return y}return Ge(h.length,v.length)}(n.mapValue,e.mapValue);default:throw Fe()}}function b_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ge(n,e);const t=Hi(n),r=Hi(e),o=Ge(t.seconds,r.seconds);return o!==0?o:Ge(t.nanos,r.nanos)}function k_(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=Us(t[o],r[o]);if(a)return a}return Ge(t.length,r.length)}function qs(n){return Jp(n)}function Jp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Hi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ki(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return je.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=Jp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${Jp(t.fields[u])}`;return o+"}"}(n.mapValue):Fe()}function ic(n){switch(Wi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bc(n);return e?16+ic(e):16;case 5:return 2*n.stringValue.length;case 6:return Ki(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+ic(a),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return Xi(r.fields,(a,u)=>{o+=a.length+ic(u)}),o}(n.mapValue);default:throw Fe()}}function Zp(n){return!!n&&"integerValue"in n}function jm(n){return!!n&&"arrayValue"in n}function R_(n){return!!n&&"nullValue"in n}function C_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function oc(n){return!!n&&"mapValue"in n}function RP(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Pw])===null||t===void 0?void 0:t.stringValue)===xw}function el(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Xi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=el(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=el(n.arrayValue.values[t]);return e}return Object.assign({},n)}function CP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Ow}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!oc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=el(t)}setAll(e){let t=Yt.emptyPath(),r={},o=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,r,o),r={},o=[],t=f.popLast()}u?r[f.lastSegment()]=el(u):o.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());oc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];oc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Xi(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new Sn(el(this.value))}}function Nw(n){const e=[];return Xi(n.fields,(t,r)=>{const o=new Yt([t]);if(oc(r)){const a=Nw(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,t,r,o,a,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new an(e,0,$e.min(),$e.min(),$e.min(),Sn.empty(),0)}static newFoundDocument(e,t,r,o){return new an(e,1,t,$e.min(),r,o,0)}static newNoDocument(e,t){return new an(e,2,t,$e.min(),$e.min(),Sn.empty(),0)}static newUnknownDocument(e,t){return new an(e,3,t,$e.min(),$e.min(),Sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,t){this.position=e,this.inclusive=t}}function P_(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=je.comparator(je.fromName(u.referenceValue),t.key):r=Us(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function O_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Cr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t="asc"){this.field=e,this.dir=t}}function PP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{}class Mt extends Dw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new xP(e,t,r):t==="array-contains"?new LP(e,r):t==="in"?new MP(e,r):t==="not-in"?new jP(e,r):t==="array-contains-any"?new VP(e,r):new Mt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new NP(e,r):new DP(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Us(t,this.value)):t!==null&&Wi(this.value)===Wi(t)&&this.matchesComparison(Us(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pr extends Dw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Pr(e,t)}matches(e){return Lw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Lw(n){return n.op==="and"}function Mw(n){return OP(n)&&Lw(n)}function OP(n){for(const e of n.filters)if(e instanceof Pr)return!1;return!0}function em(n){if(n instanceof Mt)return n.field.canonicalString()+n.op.toString()+qs(n.value);if(Mw(n))return n.filters.map(e=>em(e)).join(",");{const e=n.filters.map(t=>em(t)).join(",");return`${n.op}(${e})`}}function jw(n,e){return n instanceof Mt?function(r,o){return o instanceof Mt&&r.op===o.op&&r.field.isEqual(o.field)&&Cr(r.value,o.value)}(n,e):n instanceof Pr?function(r,o){return o instanceof Pr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,f)=>a&&jw(u,o.filters[f]),!0):!1}(n,e):void Fe()}function Vw(n){return n instanceof Mt?function(t){return`${t.field.canonicalString()} ${t.op} ${qs(t.value)}`}(n):n instanceof Pr?function(t){return t.op.toString()+" {"+t.getFilters().map(Vw).join(" ,")+"}"}(n):"Filter"}class xP extends Mt{constructor(e,t,r){super(e,t,r),this.key=je.fromName(r.referenceValue)}matches(e){const t=je.comparator(e.key,this.key);return this.matchesComparison(t)}}class NP extends Mt{constructor(e,t){super(e,"in",t),this.keys=Fw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class DP extends Mt{constructor(e,t){super(e,"not-in",t),this.keys=Fw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Fw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>je.fromName(r.referenceValue))}class LP extends Mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jm(t)&&cl(t.arrayValue,this.value)}}class MP extends Mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&cl(this.value.arrayValue,t)}}class jP extends Mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!cl(this.value.arrayValue,t)}}class VP extends Mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>cl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,t=null,r=[],o=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=f,this.le=null}}function x_(n,e=null,t=[],r=[],o=null,a=null,u=null){return new FP(n,e,t,r,o,a,u)}function Vm(n){const e=He(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>em(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),qc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>qs(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>qs(r)).join(",")),e.le=t}return e.le}function Fm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!PP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!jw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!O_(n.startAt,e.startAt)&&O_(n.endAt,e.endAt)}function tm(n){return je.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t=null,r=[],o=[],a=null,u="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function UP(n,e,t,r,o,a,u,f){return new zc(n,e,t,r,o,a,u,f)}function Um(n){return new zc(n)}function N_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function qP(n){return n.collectionGroup!==null}function tl(n){const e=He(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Vt(Yt.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new Ac(a,r))}),t.has(Yt.keyField().canonicalString())||e.he.push(new Ac(Yt.keyField(),r))}return e.he}function Ar(n){const e=He(n);return e.Pe||(e.Pe=BP(e,tl(n))),e.Pe}function BP(n,e){if(n.limitType==="F")return x_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Ac(o.field,a)});const t=n.endAt?new Sc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Sc(n.startAt.position,n.startAt.inclusive):null;return x_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function nm(n,e,t){return new zc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $c(n,e){return Fm(Ar(n),Ar(e))&&n.limitType===e.limitType}function Uw(n){return`${Vm(Ar(n))}|lt:${n.limitType}`}function Cs(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>Vw(o)).join(", ")}]`),qc(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>qs(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>qs(o)).join(",")),`Target(${r})`}(Ar(n))}; limitType=${n.limitType})`}function Hc(n,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):je.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,o){for(const a of tl(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(u,f,h){const m=P_(u,f,h);return u.inclusive?m<=0:m<0}(r.startAt,tl(r),o)||r.endAt&&!function(u,f,h){const m=P_(u,f,h);return u.inclusive?m>=0:m>0}(r.endAt,tl(r),o))}(n,e)}function zP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function qw(n){return(e,t)=>{let r=!1;for(const o of tl(n)){const a=$P(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function $P(n,e,t){const r=n.field.isKeyField()?je.comparator(e.key,t.key):function(a,u,f){const h=u.data.field(a),m=f.data.field(a);return h!==null&&m!==null?Us(h,m):Fe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Xi(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return Aw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=new At(je.comparator);function ii(){return HP}const Bw=new At(je.comparator);function Ga(...n){let e=Bw;for(const t of n)e=e.insert(t.key,t);return e}function zw(n){let e=Bw;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Co(){return nl()}function $w(){return nl()}function nl(){return new Fo(n=>n.toString(),(n,e)=>n.isEqual(e))}const KP=new At(je.comparator),WP=new Vt(je.comparator);function Je(...n){let e=WP;for(const t of n)e=e.add(t);return e}const GP=new Vt(Ge);function QP(){return GP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ec(e)?"-0":e}}function Hw(n){return{integerValue:""+n}}function YP(n,e){return SP(e)?Hw(e):qm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(){this._=void 0}}function XP(n,e,t){return n instanceof Ic?function(o,a){const u={fields:{[kw]:{stringValue:bw},[Cw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Mm(a)&&(a=Bc(a)),a&&(u.fields[Rw]=a),{mapValue:u}}(t,e):n instanceof fl?Ww(n,e):n instanceof hl?Gw(n,e):function(o,a){const u=Kw(o,a),f=D_(u)+D_(o.Ie);return Zp(u)&&Zp(o.Ie)?Hw(f):qm(o.serializer,f)}(n,e)}function JP(n,e,t){return n instanceof fl?Ww(n,e):n instanceof hl?Gw(n,e):t}function Kw(n,e){return n instanceof bc?function(r){return Zp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Ic extends Kc{}class fl extends Kc{constructor(e){super(),this.elements=e}}function Ww(n,e){const t=Qw(e);for(const r of n.elements)t.some(o=>Cr(o,r))||t.push(r);return{arrayValue:{values:t}}}class hl extends Kc{constructor(e){super(),this.elements=e}}function Gw(n,e){let t=Qw(e);for(const r of n.elements)t=t.filter(o=>!Cr(o,r));return{arrayValue:{values:t}}}class bc extends Kc{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function D_(n){return Rt(n.integerValue||n.doubleValue)}function Qw(n){return jm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function ZP(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof fl&&o instanceof fl||r instanceof hl&&o instanceof hl?Fs(r.elements,o.elements,Cr):r instanceof bc&&o instanceof bc?Cr(r.Ie,o.Ie):r instanceof Ic&&o instanceof Ic}(n.transform,e.transform)}class eO{constructor(e,t){this.version=e,this.transformResults=t}}class Ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Wc{}function Yw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Jw(n.key,Ir.none()):new Tl(n.key,n.data,Ir.none());{const t=n.data,r=Sn.empty();let o=new Vt(Yt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new Ji(n.key,r,new On(o.toArray()),Ir.none())}}function tO(n,e,t){n instanceof Tl?function(o,a,u){const f=o.value.clone(),h=M_(o.fieldTransforms,a,u.transformResults);f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Ji?function(o,a,u){if(!sc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const f=M_(o.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(Xw(o)),h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function rl(n,e,t,r){return n instanceof Tl?function(a,u,f,h){if(!sc(a.precondition,u))return f;const m=a.value.clone(),v=j_(a.fieldTransforms,h,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ji?function(a,u,f,h){if(!sc(a.precondition,u))return f;const m=j_(a.fieldTransforms,h,u),v=u.data;return v.setAll(Xw(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(a,u,f){return sc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function nO(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=Kw(r.transform,o||null);a!=null&&(t===null&&(t=Sn.empty()),t.set(r.field,a))}return t||null}function L_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Fs(r,o,(a,u)=>ZP(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Tl extends Wc{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ji extends Wc{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Xw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function M_(n,e,t){const r=new Map;lt(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,f=e.data.field(a.field);r.set(a.field,JP(u,f,t[o]))}return r}function j_(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,XP(a,u,e))}return r}class Jw extends Wc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rO extends Wc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&tO(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=rl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=rl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=$w();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(o.key)?null:f;const h=Yw(u,f);h!==null&&r.set(o.key,h),u.isValidDocument()||u.convertToNoDocument($e.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Je())}isEqual(e){return this.batchId===e.batchId&&Fs(this.mutations,e.mutations,(t,r)=>L_(t,r))&&Fs(this.baseMutations,e.baseMutations,(t,r)=>L_(t,r))}}class Bm{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){lt(e.mutations.length===r.length);let o=function(){return KP}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new Bm(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,tt;function aO(n){switch(n){case Ee.OK:return Fe();case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0;default:return Fe()}}function Zw(n){if(n===void 0)return ri("GRPC error has no .code"),Ee.UNKNOWN;switch(n){case xt.OK:return Ee.OK;case xt.CANCELLED:return Ee.CANCELLED;case xt.UNKNOWN:return Ee.UNKNOWN;case xt.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case xt.INTERNAL:return Ee.INTERNAL;case xt.UNAVAILABLE:return Ee.UNAVAILABLE;case xt.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case xt.NOT_FOUND:return Ee.NOT_FOUND;case xt.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case xt.ABORTED:return Ee.ABORTED;case xt.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case xt.DATA_LOSS:return Ee.DATA_LOSS;default:return Fe()}}(tt=xt||(xt={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=new Ui([4294967295,4294967295],0);function V_(n){const e=ww().encode(n),t=new pw;return t.update(e),new Uint8Array(t.digest())}function F_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ui([t,r],0),new Ui([o,a],0)]}class zm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Qa(`Invalid padding: ${t}`);if(r<0)throw new Qa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qa(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Qa(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ui.fromNumber(this.Ee)}Ae(e,t,r){let o=e.add(t.multiply(Ui.fromNumber(r)));return o.compare(lO)===1&&(o=new Ui([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=V_(e),[r,o]=F_(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(r,o,a);if(!this.Re(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new zm(a,o,t);return r.forEach(f=>u.insert(f)),u}insert(e){if(this.Ee===0)return;const t=V_(e),[r,o]=F_(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(r,o,a);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Qa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Sl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Gc($e.min(),o,new At(Ge),ii(),Je())}}class Sl{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Sl(r,t,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,t,r,o){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=o}}class eT{constructor(e,t){this.targetId=e,this.ge=t}}class tT{constructor(e,t,r=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class U_{constructor(){this.pe=0,this.ye=q_(),this.we=Xt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Je(),t=Je(),r=Je();return this.ye.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Fe()}}),new Sl(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=q_()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,lt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class uO{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ii(),this.$e=Qu(),this.Ue=Qu(),this.Ke=new At(Ge)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Fe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,r=e.ge.count,o=this.Xe(t);if(o){const a=o.target;if(tm(a))if(r===0){const u=new je(a.path);this.ze(t,u,an.newNoDocument(u,$e.min()))}else lt(r===1);else{const u=this.et(t);if(u!==r){const f=this.tt(e),h=f?this.nt(f,e,u):1;if(h!==0){this.Ye(t);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,f;try{u=Ki(r).toUint8Array()}catch(h){if(h instanceof Iw)return Vs("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new zm(u,o,a)}catch(h){return Vs(h instanceof Qa?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.Ee===0?null:f}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let o=0;return r.forEach(a=>{const u=this.ke.it(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,a,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((a,u)=>{const f=this.Xe(u);if(f){if(a.current&&tm(f.target)){const h=new je(f.target.path);this._t(h).has(u)||this.ut(u,h)||this.ze(u,h,an.newNoDocument(h,e))}a.ve&&(t.set(u,a.Fe()),a.Me())}});let r=Je();this.Ue.forEach((a,u)=>{let f=!0;u.forEachWhile(h=>{const m=this.Xe(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(a))}),this.Qe.forEach((a,u)=>u.setReadTime(e));const o=new Gc(e,t,this.Ke,this.Qe,r);return this.Qe=ii(),this.$e=Qu(),this.Ue=Qu(),this.Ke=new At(Ge),o}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new U_,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Vt(Ge),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Vt(Ge),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Re("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new U_),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Qu(){return new At(je.comparator)}function q_(){return new At(je.comparator)}const cO={asc:"ASCENDING",desc:"DESCENDING"},fO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hO={and:"AND",or:"OR"};class dO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rm(n,e){return n.useProto3Json||qc(e)?e:{value:e}}function kc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function pO(n,e){return kc(n,e.toTimestamp())}function br(n){return lt(!!n),$e.fromTimestamp(function(t){const r=Hi(t);return new jt(r.seconds,r.nanos)}(n))}function $m(n,e){return im(n,e).canonicalString()}function im(n,e){const t=function(o){return new Et(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function rT(n){const e=Et.fromString(n);return lt(lT(e)),e}function om(n,e){return $m(n.databaseId,e.path)}function Zh(n,e){const t=rT(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new je(oT(t))}function iT(n,e){return $m(n.databaseId,e)}function mO(n){const e=rT(n);return e.length===4?Et.emptyPath():oT(e)}function sm(n){return new Et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function oT(n){return lt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function B_(n,e,t){return{name:om(n,e),fields:t.value.mapValue.fields}}function gO(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(lt(v===void 0||typeof v=="string"),Xt.fromBase64String(v||"")):(lt(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Xt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(m){const v=m.code===void 0?Ee.UNKNOWN:Zw(m.code);return new Ne(v,m.message||"")}(u);t=new tT(r,o,a,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Zh(n,r.document.name),a=br(r.document.updateTime),u=r.document.createTime?br(r.document.createTime):$e.min(),f=new Sn({mapValue:{fields:r.document.fields}}),h=an.newFoundDocument(o,a,u,f),m=r.targetIds||[],v=r.removedTargetIds||[];t=new ac(m,v,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Zh(n,r.document),a=r.readTime?br(r.readTime):$e.min(),u=an.newNoDocument(o,a),f=r.removedTargetIds||[];t=new ac([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Zh(n,r.document),a=r.removedTargetIds||[];t=new ac([],a,o,null)}else{if(!("filter"in e))return Fe();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new sO(o,a),f=r.targetId;t=new eT(f,u)}}return t}function yO(n,e){let t;if(e instanceof Tl)t={update:B_(n,e.key,e.value)};else if(e instanceof Jw)t={delete:om(n,e.key)};else if(e instanceof Ji)t={update:B_(n,e.key,e.data),updateMask:bO(e.fieldMask)};else{if(!(e instanceof rO))return Fe();t={verify:om(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const f=u.transform;if(f instanceof Ic)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof fl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof hl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof bc)return{fieldPath:u.field.canonicalString(),increment:f.Ie};throw Fe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:pO(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Fe()}(n,e.precondition)),t}function vO(n,e){return n&&n.length>0?(lt(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?br(o.updateTime):br(a);return u.isEqual($e.min())&&(u=br(a)),new eO(u,o.transformResults||[])}(t,e))):[]}function _O(n,e){return{documents:[iT(n,e.path)]}}function EO(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=iT(n,o);const a=function(m){if(m.length!==0)return aT(Pr.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(v=>function(d){return{field:Ps(d.field),direction:SO(d.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=rm(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:o}}function wO(n){let e=mO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){lt(r===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(g){const d=sT(g);return d instanceof Pr&&Mw(d)?d.getFilters():[d]}(t.where));let u=[];t.orderBy&&(u=function(g){return g.map(d=>function(w){return new Ac(Os(w.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(d))}(t.orderBy));let f=null;t.limit&&(f=function(g){let d;return d=typeof g=="object"?g.value:g,qc(d)?null:d}(t.limit));let h=null;t.startAt&&(h=function(g){const d=!!g.before,y=g.values||[];return new Sc(y,d)}(t.startAt));let m=null;return t.endAt&&(m=function(g){const d=!g.before,y=g.values||[];return new Sc(y,d)}(t.endAt)),UP(e,o,u,a,f,"F",h,m)}function TO(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function sT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Os(t.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Os(t.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Os(t.unaryFilter.field);return Mt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Os(t.unaryFilter.field);return Mt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}(n):n.fieldFilter!==void 0?function(t){return Mt.create(Os(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Pr.create(t.compositeFilter.filters.map(r=>sT(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Fe()}}(t.compositeFilter.op))}(n):Fe()}function SO(n){return cO[n]}function AO(n){return fO[n]}function IO(n){return hO[n]}function Ps(n){return{fieldPath:n.canonicalString()}}function Os(n){return Yt.fromServerFormat(n.fieldPath)}function aT(n){return n instanceof Mt?function(t){if(t.op==="=="){if(C_(t.value))return{unaryFilter:{field:Ps(t.field),op:"IS_NAN"}};if(R_(t.value))return{unaryFilter:{field:Ps(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(C_(t.value))return{unaryFilter:{field:Ps(t.field),op:"IS_NOT_NAN"}};if(R_(t.value))return{unaryFilter:{field:Ps(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(t.field),op:AO(t.op),value:t.value}}}(n):n instanceof Pr?function(t){const r=t.getFilters().map(o=>aT(o));return r.length===1?r[0]:{compositeFilter:{op:IO(t.op),filters:r}}}(n):Fe()}function bO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,t,r,o,a=$e.min(),u=$e.min(),f=Xt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e){this.Tt=e}}function RO(n){const e=wO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?nm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this.Tn=new PO}addToCollectionParentIndex(e,t){return this.Tn.add(t),ge.resolve()}getCollectionParents(e,t){return ge.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ge.resolve()}deleteFieldIndex(e,t){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,t){return ge.resolve()}getDocumentsMatchingTarget(e,t){return ge.resolve(null)}getIndexType(e,t){return ge.resolve(0)}getFieldIndexes(e,t){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,t){return ge.resolve($i.min())}getMinOffsetFromCollectionGroup(e,t){return ge.resolve($i.min())}updateCollectionGroup(e,t,r){return ge.resolve()}updateIndexEntries(e,t){return ge.resolve()}}class PO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Vt(Et.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Vt(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uT=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(uT,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Bs(0)}static Kn(){return new Bs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="LruGarbageCollector",OO=1048576;function H_([n,e],[t,r]){const o=Ge(n,t);return o===0?Ge(e,r):o}class xO{constructor(e){this.Hn=e,this.buffer=new Vt(H_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();H_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class NO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Re($_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Xs(t)?Re($_,"Ignoring IndexedDB error during garbage collection: ",t):await Ys(t)}await this.er(3e5)})}}class DO{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ge.resolve(Uc.ae);const r=new xO(t);return this.tr.forEachTarget(e,o=>r.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>r.Zn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(z_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),z_):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,o,a,u,f,h,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),o=this.params.maximumSequenceNumbersToCollect):o=g,u=Date.now(),this.nthSequenceNumber(e,o))).next(g=>(r=g,f=Date.now(),this.removeTargets(e,r,t))).next(g=>(a=g,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(m=Date.now(),Rs()<=Xe.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${a} targets in `+(h-f)+`ms
	Removed ${g} documents in `+(m-h)+`ms
Total Duration: ${m-v}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:g})))}}function LO(n,e){return new DO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.changes=new Fo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ge.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&rl(r.mutation,o,On.empty(),jt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Je()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Je()){const o=Co();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let u=Ga();return a.forEach((f,h)=>{u=u.insert(f,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Co();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Je()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,o){let a=ii();const u=nl(),f=function(){return nl()}();return t.forEach((h,m)=>{const v=r.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof Ji)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),rl(v.mutation,m,v.mutation.getFieldMask(),jt.now())):u.set(m.key,On.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>{var g;return f.set(m,new jO(v,(g=u.get(m))!==null&&g!==void 0?g:null))}),f))}recalculateAndSaveOverlays(e,t){const r=nl();let o=new At((u,f)=>u-f),a=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(h=>{const m=t.get(h);if(m===null)return;let v=r.get(h)||On.empty();v=f.applyToLocalView(m,v),r.set(h,v);const g=(o.get(f.batchId)||Je()).add(h);o=o.insert(f.batchId,g)})}).next(()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),m=h.key,v=h.value,g=$w();v.forEach(d=>{if(!a.has(d)){const y=Yw(t.get(d),r.get(d));y!==null&&g.set(d,y),a=a.add(d)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,g))}return ge.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(u){return je.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):qP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):ge.resolve(Co());let f=al,h=a;return u.next(m=>ge.forEach(m,(v,g)=>(f<g.largestBatchId&&(f=g.largestBatchId),a.get(v)?ge.resolve():this.remoteDocumentCache.getEntry(e,v).next(d=>{h=h.insert(v,d)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,h,m,Je())).next(v=>({batchId:f,changes:zw(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new je(t)).next(r=>{let o=Ga();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=Ga();return this.indexManager.getCollectionParents(e,a).next(f=>ge.forEach(f,h=>{const m=function(g,d){return new zc(d,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(v=>{v.forEach((g,d)=>{u=u.insert(g,d)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o))).next(u=>{a.forEach((h,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,an.newInvalidDocument(v)))});let f=Ga();return u.forEach((h,m)=>{const v=a.get(h);v!==void 0&&rl(v.mutation,m,On.empty(),jt.now()),Hc(t,m)&&(f=f.insert(h,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ge.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:br(o.createTime)}}(t)),ge.resolve()}getNamedQuery(e,t){return ge.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:RO(o.bundledQuery),readTime:br(o.readTime)}}(t)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.overlays=new At(je.comparator),this.Rr=new Map}getOverlay(e,t){return ge.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Co();return ge.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.Et(e,t,a)}),ge.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Rr.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),ge.resolve()}getOverlaysForCollection(e,t,r){const o=Co(),a=t.length+1,u=new je(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,m=h.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&h.largestBatchId>r&&o.set(h.getKey(),h)}return ge.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new At((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let v=a.get(m.largestBatchId);v===null&&(v=Co(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const f=Co(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((m,v)=>f.set(m,v)),!(f.size()>=o)););return ge.resolve(f)}Et(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.Rr.get(o.largestBatchId).delete(r.key);this.Rr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new oO(t,r));let a=this.Rr.get(t);a===void 0&&(a=Je(),this.Rr.set(t,a)),this.Rr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(){this.Vr=new Vt(zt.mr),this.gr=new Vt(zt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new zt(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new zt(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new je(new Et([])),r=new zt(t,e),o=new zt(t,e+1),a=[];return this.gr.forEachInRange([r,o],u=>{this.wr(u),a.push(u.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new je(new Et([])),r=new zt(t,e),o=new zt(t,e+1);let a=Je();return this.gr.forEachInRange([r,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new zt(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return je.comparator(e.key,t.key)||Ge(e.Cr,t.Cr)}static pr(e,t){return Ge(e.Cr,t.Cr)||je.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Vt(zt.mr)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new iO(a,t,r,o);this.mutationQueue.push(u);for(const f of o)this.Mr=this.Mr.add(new zt(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ge.resolve(u)}lookupMutationBatch(e,t){return ge.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Nr(r),a=o<0?0:o;return ge.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?Lm:this.Fr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new zt(t,0),o=new zt(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,o],u=>{const f=this.Or(u.Cr);a.push(f)}),ge.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vt(Ge);return t.forEach(o=>{const a=new zt(o,0),u=new zt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,u],f=>{r=r.add(f.Cr)})}),ge.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;je.isDocumentKey(a)||(a=a.child(""));const u=new zt(new je(a),0);let f=new Vt(Ge);return this.Mr.forEachWhile(h=>{const m=h.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(f=f.add(h.Cr)),!0)},u),ge.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(r=>{const o=this.Or(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){lt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ge.forEach(t.mutations,o=>{const a=new zt(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new zt(t,0),o=this.Mr.firstAfterOrEqual(r);return ge.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.kr=e,this.docs=function(){return new At(je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ge.resolve(r?r.document.mutableCopy():an.newInvalidDocument(t))}getEntries(e,t){let r=ii();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():an.newInvalidDocument(o))}),ge.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=ii();const u=t.path,f=new je(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:m,value:{document:v}}=h.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||_P(vP(v),r)<=0||(o.has(v.key)||Hc(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ge.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Fe()}qr(e,t){return ge.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new $O(this)}getSize(e){return ge.resolve(this.size)}}class $O extends MO{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(r)}),ge.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.persistence=e,this.Qr=new Fo(t=>Vm(t),Fm),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Hm,this.targetCount=0,this.Kr=Bs.Un()}forEachTarget(e,t){return this.Qr.forEach((r,o)=>t(o)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ge.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Bs(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ge.resolve()}updateTargetData(e,t){return this.zn(t),ge.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.Qr.forEach((u,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.Qr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),ge.waitFor(a).next(()=>o)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ge.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),ge.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),ge.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),ge.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return ge.resolve(r)}containsKey(e,t){return ge.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Uc(0),this.zr=!1,this.zr=!0,this.jr=new qO,this.referenceDelegate=e(this),this.Hr=new HO(this),this.indexManager=new CO,this.remoteDocumentCache=function(o){return new zO(o)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new kO(t),this.Yr=new FO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new UO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new BO(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){Re("MemoryPersistence","Starting transaction:",e);const o=new KO(this.Gr.next());return this.referenceDelegate.Zr(),r(o).next(a=>this.referenceDelegate.Xr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}ei(e,t){return ge.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class KO extends wP{constructor(e){super(),this.currentSequenceNumber=e}}class Km{constructor(e){this.persistence=e,this.ti=new Hm,this.ni=null}static ri(e){return new Km(e)}get ii(){if(this.ni)return this.ni;throw Fe()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ge.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ge.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.ii,r=>{const o=je.fromPath(r);return this.si(e,o).next(a=>{a||t.removeEntry(o,$e.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ge.or([()=>ge.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Rc{constructor(e,t){this.persistence=e,this.oi=new Fo(r=>AP(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=LO(this,t)}static ri(e,t){return new Rc(e,t)}Zr(){}Xr(e){return ge.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ge.forEach(this.oi,(r,o)=>this.ar(e,r,o).next(a=>a?ge.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.qr(e,u=>this.ar(e,u,t).next(f=>{f||(r++,a.removeEntry(u,$e.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ge.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ge.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ge.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ic(e.data.value)),t}ar(e,t,r){return ge.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return ge.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=o}static Yi(e,t){let r=Je(),o=Je();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Wm(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return mb()?8:TP(ln())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.rs(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ss(e,t,o,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new WO;return this._s(e,t,u).next(f=>{if(a.result=f,this.Xi)return this.us(e,t,u,f.size)})}).next(()=>a.result)}us(e,t,r,o){return r.documentReadCount<this.es?(Rs()<=Xe.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",Cs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ge.resolve()):(Rs()<=Xe.DEBUG&&Re("QueryEngine","Query:",Cs(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ts*o?(Rs()<=Xe.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",Cs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(t))):ge.resolve())}rs(e,t){if(N_(t))return ge.resolve(null);let r=Ar(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=nm(t,null,"F"),r=Ar(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Je(...a);return this.ns.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(h=>{const m=this.cs(t,f);return this.ls(t,m,u,h.readTime)?this.rs(e,nm(t,null,"F")):this.hs(e,m,t,h)}))})))}ss(e,t,r,o){return N_(t)||o.isEqual($e.min())?ge.resolve(null):this.ns.getDocuments(e,r).next(a=>{const u=this.cs(t,a);return this.ls(t,u,r,o)?ge.resolve(null):(Rs()<=Xe.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Cs(t)),this.hs(e,u,t,yP(o,al)).next(f=>f))})}cs(e,t){let r=new Vt(qw(e));return t.forEach((o,a)=>{Hc(e,a)&&(r=r.add(a))}),r}ls(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}_s(e,t,r){return Rs()<=Xe.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",Cs(t)),this.ns.getDocumentsMatchingQuery(e,t,$i.min(),r)}hs(e,t,r,o){return this.ns.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="LocalStore",QO=3e8;class YO{constructor(e,t,r,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new At(Ge),this.Is=new Fo(a=>Vm(a),Fm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function XO(n,e,t,r){return new YO(n,e,t,r)}async function fT(n,e){const t=He(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],f=[];let h=Je();for(const m of o){u.push(m.batchId);for(const v of m.mutations)h=h.add(v.key)}for(const m of a){f.push(m.batchId);for(const v of m.mutations)h=h.add(v.key)}return t.localDocuments.getDocuments(r,h).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:f}))})})}function JO(n,e){const t=He(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,h,m,v){const g=m.batch,d=g.keys();let y=ge.resolve();return d.forEach(w=>{y=y.next(()=>v.getEntry(h,w)).next(T=>{const _=m.docVersions.get(w);lt(_!==null),T.version.compareTo(_)<0&&(g.applyToRemoteDocument(T,m),T.isValidDocument()&&(T.setReadTime(m.commitVersion),v.addEntry(T)))})}),y.next(()=>f.mutationQueue.removeMutationBatch(h,g))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let h=Je();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(h=h.add(f.batch.mutations[m].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function hT(n){const e=He(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function ZO(n,e){const t=He(n),r=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const f=[];e.targetChanges.forEach((v,g)=>{const d=o.get(g);if(!d)return;f.push(t.Hr.removeMatchingKeys(a,v.removedDocuments,g).next(()=>t.Hr.addMatchingKeys(a,v.addedDocuments,g)));let y=d.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?y=y.withResumeToken(Xt.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):v.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(v.resumeToken,r)),o=o.insert(g,y),function(T,_,E){return T.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=QO?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(d,y,v)&&f.push(t.Hr.updateTargetData(a,y))});let h=ii(),m=Je();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),f.push(ex(a,u,e.documentUpdates).next(v=>{h=v.Vs,m=v.fs})),!r.isEqual($e.min())){const v=t.Hr.getLastRemoteSnapshotVersion(a).next(g=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(v)}return ge.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,m)).next(()=>h)}).then(a=>(t.Ts=o,a))}function ex(n,e,t){let r=Je(),o=Je();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=ii();return t.forEach((f,h)=>{const m=a.get(f);h.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(f)),h.isNoDocument()&&h.version.isEqual($e.min())?(e.removeEntry(f,h.readTime),u=u.insert(f,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),u=u.insert(f,h)):Re(Gm,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",h.version)}),{Vs:u,fs:o}})}function tx(n,e){const t=He(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Lm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nx(n,e){const t=He(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Hr.getTargetData(r,e).next(a=>a?(o=a,ge.resolve(o)):t.Hr.allocateTargetId(r).next(u=>(o=new ji(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ts.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function am(n,e,t){const r=He(n),o=r.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!Xs(u))throw u;Re(Gm,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(o.target)}function K_(n,e,t){const r=He(n);let o=$e.min(),a=Je();return r.persistence.runTransaction("Execute query","readwrite",u=>function(h,m,v){const g=He(h),d=g.Is.get(v);return d!==void 0?ge.resolve(g.Ts.get(d)):g.Hr.getTargetData(m,v)}(r,u,Ar(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,f.targetId).next(h=>{a=h})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?o:$e.min(),t?a:Je())).next(f=>(rx(r,zP(e),f),{documents:f,gs:a})))}function rx(n,e,t){let r=n.Es.get(e)||$e.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Es.set(e,r)}class W_{constructor(){this.activeTargetIds=QP()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ix{constructor(){this.ho=new W_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new W_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="ConnectivityMonitor";class Q_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Re(G_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Re(G_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu=null;function lm(){return Yu===null?Yu=function(){return 268435456+Math.round(2147483648*Math.random())}():Yu++,"0x"+Yu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed="RestConnection",sx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ax{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${o}`,this.wo=this.databaseId.database===wc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}So(e,t,r,o,a){const u=lm(),f=this.bo(e,t.toUriEncodedString());Re(ed,`Sending RPC '${e}' ${u}:`,f,r);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,o,a),this.vo(e,f,h,r).then(m=>(Re(ed,`Received RPC '${e}' ${u}: `,m),m),m=>{throw Vs(ed,`RPC '${e}' ${u} failed with error: `,m,"url: ",f,"request:",r),m})}Co(e,t,r,o,a,u){return this.So(e,t,r,o,a)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),r&&r.headers.forEach((o,a)=>e[a]=o)}bo(e,t){const r=sx[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class ux extends ax{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,o){const a=lm();return new Promise((u,f)=>{const h=new mw;h.setWithCredentials(!0),h.listenOnce(gw.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case rc.NO_ERROR:const v=h.getResponseJson();Re(rn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case rc.TIMEOUT:Re(rn,`RPC '${e}' ${a} timed out`),f(new Ne(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case rc.HTTP_ERROR:const g=h.getStatus();if(Re(rn,`RPC '${e}' ${a} failed with status:`,g,"response text:",h.getResponseText()),g>0){let d=h.getResponseJson();Array.isArray(d)&&(d=d[0]);const y=d==null?void 0:d.error;if(y&&y.status&&y.message){const w=function(_){const E=_.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(E)>=0?E:Ee.UNKNOWN}(y.status);f(new Ne(w,y.message))}else f(new Ne(Ee.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Ne(Ee.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{Re(rn,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(o);Re(rn,`RPC '${e}' ${a} sending request:`,o),h.send(t,"POST",m,r,15)})}Wo(e,t,r){const o=lm(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=_w(),f=vw(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const v=a.join("");Re(rn,`Creating RPC '${e}' stream ${o}: ${v}`,h);const g=u.createWebChannel(v,h);let d=!1,y=!1;const w=new lx({Fo:_=>{y?Re(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,_):(d||(Re(rn,`Opening RPC '${e}' stream ${o} transport.`),g.open(),d=!0),Re(rn,`RPC '${e}' stream ${o} sending:`,_),g.send(_))},Mo:()=>g.close()}),T=(_,E,S)=>{_.listen(E,P=>{try{S(P)}catch(I){setTimeout(()=>{throw I},0)}})};return T(g,Wa.EventType.OPEN,()=>{y||(Re(rn,`RPC '${e}' stream ${o} transport opened.`),w.Qo())}),T(g,Wa.EventType.CLOSE,()=>{y||(y=!0,Re(rn,`RPC '${e}' stream ${o} transport closed`),w.Uo())}),T(g,Wa.EventType.ERROR,_=>{y||(y=!0,Vs(rn,`RPC '${e}' stream ${o} transport errored:`,_),w.Uo(new Ne(Ee.UNAVAILABLE,"The operation could not be completed")))}),T(g,Wa.EventType.MESSAGE,_=>{var E;if(!y){const S=_.data[0];lt(!!S);const P=S,I=(P==null?void 0:P.error)||((E=P[0])===null||E===void 0?void 0:E.error);if(I){Re(rn,`RPC '${e}' stream ${o} received error:`,I);const M=I.status;let F=function(N){const k=xt[N];if(k!==void 0)return Zw(k)}(M),O=I.message;F===void 0&&(F=Ee.INTERNAL,O="Unknown error status: "+M+" with message "+I.message),y=!0,w.Uo(new Ne(F,O)),g.close()}else Re(rn,`RPC '${e}' stream ${o} received:`,S),w.Ko(S)}}),T(f,yw.STAT_EVENT,_=>{_.stat===Yp.PROXY?Re(rn,`RPC '${e}' stream ${o} detected buffering proxy`):_.stat===Yp.NOPROXY&&Re(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{w.$o()},0),w}}function td(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(n){return new dO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=o,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-r);o>0&&Re("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="PersistentStream";class pT{constructor(e,t,r,o,a,u,f,h){this.Ti=e,this.n_=r,this.r_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new dT(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Ee.RESOURCE_EXHAUSTED?(ri(t.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.i_===t&&this.V_(r,o)},r=>{e(()=>{const o=new Ne(Ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(o)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{r(()=>this.m_(o))}),this.stream.onMessage(o=>{r(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Re(Y_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Re(Y_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cx extends pT{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=gO(this.serializer,e),r=function(a){if(!("targetChange"in a))return $e.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?$e.min():u.readTime?br(u.readTime):$e.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=sm(this.serializer),t.addTarget=function(a,u){let f;const h=u.target;if(f=tm(h)?{documents:_O(a,h)}:{query:EO(a,h).ht},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=nT(a,u.resumeToken);const m=rm(a,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo($e.min())>0){f.readTime=kc(a,u.snapshotVersion.toTimestamp());const m=rm(a,u.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const r=TO(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=sm(this.serializer),t.removeTarget=e,this.I_(t)}}class fx extends pT{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return lt(!!e.streamToken),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=vO(e.writeResults,e.commitTime),r=br(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=sm(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>yO(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{}class dx extends hx{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Ne(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.So(e,im(t,r),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ne(Ee.UNKNOWN,a.toString())})}Co(e,t,r,o,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Co(e,im(t,r),o,u,f,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ne(Ee.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class px{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ri(t),this.N_=!1):Re("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="RemoteStore";class mx{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(u=>{r.enqueueAndForget(async()=>{Uo(this)&&(Re(Lo,"Restarting streams for network reachability change."),await async function(h){const m=He(h);m.W_.add(4),await Al(m),m.j_.set("Unknown"),m.W_.delete(4),await Yc(m)}(this))})}),this.j_=new px(r,o)}}async function Yc(n){if(Uo(n))for(const e of n.G_)await e(!0)}async function Al(n){for(const e of n.G_)await e(!1)}function mT(n,e){const t=He(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Jm(t)?Xm(t):Js(t).c_()&&Ym(t,e))}function Qm(n,e){const t=He(n),r=Js(t);t.K_.delete(e),r.c_()&&gT(t,e),t.K_.size===0&&(r.c_()?r.P_():Uo(t)&&t.j_.set("Unknown"))}function Ym(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Js(n).y_(e)}function gT(n,e){n.H_.Ne(e),Js(n).w_(e)}function Xm(n){n.H_=new uO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Js(n).start(),n.j_.B_()}function Jm(n){return Uo(n)&&!Js(n).u_()&&n.K_.size>0}function Uo(n){return He(n).W_.size===0}function yT(n){n.H_=void 0}async function gx(n){n.j_.set("Online")}async function yx(n){n.K_.forEach((e,t)=>{Ym(n,e)})}async function vx(n,e){yT(n),Jm(n)?(n.j_.q_(e),Xm(n)):n.j_.set("Unknown")}async function _x(n,e,t){if(n.j_.set("Online"),e instanceof tT&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const f of a.targetIds)o.K_.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.K_.delete(f),o.H_.removeTarget(f))}(n,e)}catch(r){Re(Lo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cc(n,r)}else if(e instanceof ac?n.H_.We(e):e instanceof eT?n.H_.Ze(e):n.H_.je(e),!t.isEqual($e.min()))try{const r=await hT(n.localStore);t.compareTo(r)>=0&&await function(a,u){const f=a.H_.ot(u);return f.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const v=a.K_.get(m);v&&a.K_.set(m,v.withResumeToken(h.resumeToken,u))}}),f.targetMismatches.forEach((h,m)=>{const v=a.K_.get(h);if(!v)return;a.K_.set(h,v.withResumeToken(Xt.EMPTY_BYTE_STRING,v.snapshotVersion)),gT(a,h);const g=new ji(v.target,h,m,v.sequenceNumber);Ym(a,g)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(r){Re(Lo,"Failed to raise snapshot:",r),await Cc(n,r)}}async function Cc(n,e,t){if(!Xs(e))throw e;n.W_.add(1),await Al(n),n.j_.set("Offline"),t||(t=()=>hT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Re(Lo,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Yc(n)})}function vT(n,e){return e().catch(t=>Cc(n,t,e))}async function Xc(n){const e=He(n),t=Gi(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:Lm;for(;Ex(e);)try{const o=await tx(e.localStore,r);if(o===null){e.U_.length===0&&t.P_();break}r=o.batchId,wx(e,o)}catch(o){await Cc(e,o)}_T(e)&&ET(e)}function Ex(n){return Uo(n)&&n.U_.length<10}function wx(n,e){n.U_.push(e);const t=Gi(n);t.c_()&&t.S_&&t.b_(e.mutations)}function _T(n){return Uo(n)&&!Gi(n).u_()&&n.U_.length>0}function ET(n){Gi(n).start()}async function Tx(n){Gi(n).C_()}async function Sx(n){const e=Gi(n);for(const t of n.U_)e.b_(t.mutations)}async function Ax(n,e,t){const r=n.U_.shift(),o=Bm.from(r,e,t);await vT(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Xc(n)}async function Ix(n,e){e&&Gi(n).S_&&await async function(r,o){if(function(u){return aO(u)&&u!==Ee.ABORTED}(o.code)){const a=r.U_.shift();Gi(r).h_(),await vT(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Xc(r)}}(n,e),_T(n)&&ET(n)}async function X_(n,e){const t=He(n);t.asyncQueue.verifyOperationInProgress(),Re(Lo,"RemoteStore received new credentials");const r=Uo(t);t.W_.add(3),await Al(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Yc(t)}async function bx(n,e){const t=He(n);e?(t.W_.delete(2),await Yc(t)):e||(t.W_.add(2),await Al(t),t.j_.set("Unknown"))}function Js(n){return n.J_||(n.J_=function(t,r,o){const a=He(t);return a.M_(),new cx(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:gx.bind(null,n),No:yx.bind(null,n),Lo:vx.bind(null,n),p_:_x.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Jm(n)?Xm(n):n.j_.set("Unknown")):(await n.J_.stop(),yT(n))})),n.J_}function Gi(n){return n.Y_||(n.Y_=function(t,r,o){const a=He(t);return a.M_(),new fx(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:Tx.bind(null,n),Lo:Ix.bind(null,n),D_:Sx.bind(null,n),v_:Ax.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Xc(n)):(await n.Y_.stop(),n.U_.length>0&&(Re(Lo,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,f=new Zm(e,t,u,o,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(n,e){if(ri("AsyncQueue",`${e}: ${n}`),Xs(n))return new Ne(Ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{static emptySet(e){return new Ms(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||je.comparator(t.key,r.key):(t,r)=>je.comparator(t.key,r.key),this.keyedMap=Ga(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ms)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ms;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(){this.Z_=new At(je.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Fe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class zs{constructor(e,t,r,o,a,u,f,h,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new zs(e,t,Ms.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$c(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Rx{constructor(){this.queries=Z_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const o=He(t),a=o.queries;o.queries=Z_(),a.forEach((u,f)=>{for(const h of f.ta)h.onError(r)})})(this,new Ne(Ee.ABORTED,"Firestore shutting down"))}}function Z_(){return new Fo(n=>Uw(n),$c)}async function wT(n,e){const t=He(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.na()&&e.ra()&&(r=2):(a=new kx,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await t.onListen(o,!0);break;case 1:a.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const f=eg(u,`Initialization of query '${Cs(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&tg(t)}async function TT(n,e){const t=He(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.ta.indexOf(e);u>=0&&(a.ta.splice(u,1),a.ta.length===0?o=e.ra()?0:1:!a.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Cx(n,e){const t=He(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const f of u.ta)f.oa(o)&&(r=!0);u.ea=o}}r&&tg(t)}function Px(n,e,t){const r=He(n),o=r.queries.get(e);if(o)for(const a of o.ta)a.onError(t);r.queries.delete(e)}function tg(n){n.ia.forEach(e=>{e.next()})}var um,eE;(eE=um||(um={}))._a="default",eE.Cache="cache";class ST{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new zs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){this.key=e}}class IT{constructor(e){this.key=e}}class Ox{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Je(),this.mutatedKeys=Je(),this.ya=qw(e),this.wa=new Ms(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new J_,o=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,f=!1;const h=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,g)=>{const d=o.get(v),y=Hc(this.query,g)?g:null,w=!!d&&this.mutatedKeys.has(d.key),T=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let _=!1;d&&y?d.data.isEqual(y.data)?w!==T&&(r.track({type:3,doc:y}),_=!0):this.va(d,y)||(r.track({type:2,doc:y}),_=!0,(h&&this.ya(y,h)>0||m&&this.ya(y,m)<0)&&(f=!0)):!d&&y?(r.track({type:0,doc:y}),_=!0):d&&!y&&(r.track({type:1,doc:d}),_=!0,(h||m)&&(f=!0)),_&&(y?(u=u.add(y),a=T?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{wa:u,Da:r,ls:f,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((v,g)=>function(y,w){const T=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return T(y)-T(w)}(v.type,g.type)||this.ya(v.doc,g.doc)),this.Ca(r),o=o!=null&&o;const f=t&&!o?this.Fa():[],h=this.pa.size===0&&this.current&&!o?1:0,m=h!==this.ga;return this.ga=h,u.length!==0||m?{snapshot:new zs(this.query,e.wa,a,u,e.mutatedKeys,h===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new J_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Je(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new IT(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new AT(r))}),t}Oa(e){this.fa=e.gs,this.pa=Je();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return zs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ng="SyncEngine";class xx{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Nx{constructor(e){this.key=e,this.Ba=!1}}class Dx{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Fo(f=>Uw(f),$c),this.qa=new Map,this.Qa=new Set,this.$a=new At(je.comparator),this.Ua=new Map,this.Ka=new Hm,this.Wa={},this.Ga=new Map,this.za=Bs.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Lx(n,e,t=!0){const r=OT(n);let o;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Na()):o=await bT(r,e,t,!0),o}async function Mx(n,e){const t=OT(n);await bT(t,e,!0,!1)}async function bT(n,e,t,r){const o=await nx(n.localStore,Ar(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let f;return r&&(f=await jx(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&mT(n.remoteStore,o),f}async function jx(n,e,t,r,o){n.Ha=(g,d,y)=>async function(T,_,E,S){let P=_.view.ba(E);P.ls&&(P=await K_(T.localStore,_.query,!1).then(({documents:O})=>_.view.ba(O,P)));const I=S&&S.targetChanges.get(_.targetId),M=S&&S.targetMismatches.get(_.targetId)!=null,F=_.view.applyChanges(P,T.isPrimaryClient,I,M);return nE(T,_.targetId,F.Ma),F.snapshot}(n,g,d,y);const a=await K_(n.localStore,e,!0),u=new Ox(e,a.gs),f=u.ba(a.documents),h=Sl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=u.applyChanges(f,n.isPrimaryClient,h);nE(n,t,m.Ma);const v=new xx(e,t,u);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),m.snapshot}async function Vx(n,e,t){const r=He(n),o=r.ka.get(e),a=r.qa.get(o.targetId);if(a.length>1)return r.qa.set(o.targetId,a.filter(u=>!$c(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await am(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Qm(r.remoteStore,o.targetId),cm(r,o.targetId)}).catch(Ys)):(cm(r,o.targetId),await am(r.localStore,o.targetId,!0))}async function Fx(n,e){const t=He(n),r=t.ka.get(e),o=t.qa.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Qm(t.remoteStore,r.targetId))}async function Ux(n,e,t){const r=Wx(n);try{const o=await function(u,f){const h=He(u),m=jt.now(),v=f.reduce((y,w)=>y.add(w.key),Je());let g,d;return h.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=ii(),T=Je();return h.ds.getEntries(y,v).next(_=>{w=_,w.forEach((E,S)=>{S.isValidDocument()||(T=T.add(E))})}).next(()=>h.localDocuments.getOverlayedDocuments(y,w)).next(_=>{g=_;const E=[];for(const S of f){const P=nO(S,g.get(S.key).overlayedDocument);P!=null&&E.push(new Ji(S.key,P,Nw(P.value.mapValue),Ir.exists(!0)))}return h.mutationQueue.addMutationBatch(y,m,E,f)}).next(_=>{d=_;const E=_.applyToLocalDocumentSet(g,T);return h.documentOverlayCache.saveOverlays(y,_.batchId,E)})}).then(()=>({batchId:d.batchId,changes:zw(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,f,h){let m=u.Wa[u.currentUser.toKey()];m||(m=new At(Ge)),m=m.insert(f,h),u.Wa[u.currentUser.toKey()]=m}(r,o.batchId,t),await Il(r,o.changes),await Xc(r.remoteStore)}catch(o){const a=eg(o,"Failed to persist write");t.reject(a)}}async function kT(n,e){const t=He(n);try{const r=await ZO(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Ua.get(a);u&&(lt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Ba=!0:o.modifiedDocuments.size>0?lt(u.Ba):o.removedDocuments.size>0&&(lt(u.Ba),u.Ba=!1))}),await Il(t,r,e)}catch(r){await Ys(r)}}function tE(n,e,t){const r=He(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.ka.forEach((a,u)=>{const f=u.view.sa(e);f.snapshot&&o.push(f.snapshot)}),function(u,f){const h=He(u);h.onlineState=f;let m=!1;h.queries.forEach((v,g)=>{for(const d of g.ta)d.sa(f)&&(m=!0)}),m&&tg(h)}(r.eventManager,e),o.length&&r.La.p_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qx(n,e,t){const r=He(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Ua.get(e),a=o&&o.key;if(a){let u=new At(je.comparator);u=u.insert(a,an.newNoDocument(a,$e.min()));const f=Je().add(a),h=new Gc($e.min(),new Map,new At(Ge),u,f);await kT(r,h),r.$a=r.$a.remove(a),r.Ua.delete(e),rg(r)}else await am(r.localStore,e,!1).then(()=>cm(r,e,t)).catch(Ys)}async function Bx(n,e){const t=He(n),r=e.batch.batchId;try{const o=await JO(t.localStore,e);CT(t,r,null),RT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Il(t,o)}catch(o){await Ys(o)}}async function zx(n,e,t){const r=He(n);try{const o=await function(u,f){const h=He(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return h.mutationQueue.lookupMutationBatch(m,f).next(g=>(lt(g!==null),v=g.keys(),h.mutationQueue.removeMutationBatch(m,g))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,v,f)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>h.localDocuments.getDocuments(m,v))})}(r.localStore,e);CT(r,e,t),RT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Il(r,o)}catch(o){await Ys(o)}}function RT(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function CT(n,e,t){const r=He(n);let o=r.Wa[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Wa[r.currentUser.toKey()]=o}}function cm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||PT(n,r)})}function PT(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Qm(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),rg(n))}function nE(n,e,t){for(const r of t)r instanceof AT?(n.Ka.addReference(r.key,e),$x(n,r)):r instanceof IT?(Re(ng,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||PT(n,r.key)):Fe()}function $x(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(Re(ng,"New document in limbo: "+t),n.Qa.add(r),rg(n))}function rg(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new je(Et.fromString(e)),r=n.za.next();n.Ua.set(r,new Nx(t)),n.$a=n.$a.insert(t,r),mT(n.remoteStore,new ji(Ar(Um(t.path)),r,"TargetPurposeLimboResolution",Uc.ae))}}async function Il(n,e,t){const r=He(n),o=[],a=[],u=[];r.ka.isEmpty()||(r.ka.forEach((f,h)=>{u.push(r.Ha(h,e,t).then(m=>{var v;if((m||t)&&r.isPrimaryClient){const g=m?!m.fromCache:(v=t==null?void 0:t.targetChanges.get(h.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(m){o.push(m);const g=Wm.Yi(h.targetId,m);a.push(g)}}))}),await Promise.all(u),r.La.p_(o),await async function(h,m){const v=He(h);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>ge.forEach(m,d=>ge.forEach(d.Hi,y=>v.persistence.referenceDelegate.addReference(g,d.targetId,y)).next(()=>ge.forEach(d.Ji,y=>v.persistence.referenceDelegate.removeReference(g,d.targetId,y)))))}catch(g){if(!Xs(g))throw g;Re(Gm,"Failed to update sequence numbers: "+g)}for(const g of m){const d=g.targetId;if(!g.fromCache){const y=v.Ts.get(d),w=y.snapshotVersion,T=y.withLastLimboFreeSnapshotVersion(w);v.Ts=v.Ts.insert(d,T)}}}(r.localStore,a))}async function Hx(n,e){const t=He(n);if(!t.currentUser.isEqual(e)){Re(ng,"User change. New user:",e.toKey());const r=await fT(t.localStore,e);t.currentUser=e,function(a,u){a.Ga.forEach(f=>{f.forEach(h=>{h.reject(new Ne(Ee.CANCELLED,u))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Il(t,r.Rs)}}function Kx(n,e){const t=He(n),r=t.Ua.get(e);if(r&&r.Ba)return Je().add(r.key);{let o=Je();const a=t.qa.get(e);if(!a)return o;for(const u of a){const f=t.ka.get(u);o=o.unionWith(f.view.Sa)}return o}}function OT(n){const e=He(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qx.bind(null,e),e.La.p_=Cx.bind(null,e.eventManager),e.La.Ja=Px.bind(null,e.eventManager),e}function Wx(n){const e=He(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zx.bind(null,e),e}class Pc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return XO(this.persistence,new GO,e.initialUser,this.serializer)}Xa(e){return new cT(Km.ri,this.serializer)}Za(e){return new ix}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pc.provider={build:()=>new Pc};class Gx extends Pc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){lt(this.persistence.referenceDelegate instanceof Rc);const r=this.persistence.referenceDelegate.garbageCollector;return new NO(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new cT(r=>Rc.ri(r,t),this.serializer)}}class fm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hx.bind(null,this.syncEngine),await bx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Rx}()}createDatastore(e){const t=Qc(e.databaseInfo.databaseId),r=function(a){return new ux(a)}(e.databaseInfo);return function(a,u,f,h){return new dx(a,u,f,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,a,u,f){return new mx(r,o,a,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>tE(this.syncEngine,t,0),function(){return Q_.D()?new Q_:new ox}())}createSyncEngine(e,t){return function(o,a,u,f,h,m,v){const g=new Dx(o,a,u,f,h,m);return v&&(g.ja=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=He(o);Re(Lo,"RemoteStore shutting down."),a.W_.add(5),await Al(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}fm.provider={build:()=>new fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="FirestoreClient";class Qx{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=Tw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{Re(Qi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Re(Qi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=eg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function nd(n,e){n.asyncQueue.verifyOperationInProgress(),Re(Qi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await fT(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function rE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Yx(n);Re(Qi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>X_(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>X_(e.remoteStore,o)),n._onlineComponents=e}async function Yx(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Re(Qi,"Using user provided OfflineComponentProvider");try{await nd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Ee.FAILED_PRECONDITION||o.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Vs("Error using user provided cache. Falling back to memory cache: "+t),await nd(n,new Pc)}}else Re(Qi,"Using default OfflineComponentProvider"),await nd(n,new Gx(void 0));return n._offlineComponents}async function NT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Re(Qi,"Using user provided OnlineComponentProvider"),await rE(n,n._uninitializedComponentsProvider._online)):(Re(Qi,"Using default OnlineComponentProvider"),await rE(n,new fm))),n._onlineComponents}function Xx(n){return NT(n).then(e=>e.syncEngine)}async function DT(n){const e=await NT(n),t=e.eventManager;return t.onListen=Lx.bind(null,e.syncEngine),t.onUnlisten=Vx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Mx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Fx.bind(null,e.syncEngine),t}function Jx(n,e,t={}){const r=new Zr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,h,m){const v=new xT({next:d=>{v.su(),u.enqueueAndForget(()=>TT(a,g));const y=d.docs.has(f);!y&&d.fromCache?m.reject(new Ne(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&d.fromCache&&h&&h.source==="server"?m.reject(new Ne(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(d)},error:d=>m.reject(d)}),g=new ST(Um(f.path),v,{includeMetadataChanges:!0,Ta:!0});return wT(a,g)}(await DT(n),n.asyncQueue,e,t,r)),r.promise}function Zx(n,e,t={}){const r=new Zr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,h,m){const v=new xT({next:d=>{v.su(),u.enqueueAndForget(()=>TT(a,g)),d.fromCache&&h.source==="server"?m.reject(new Ne(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(d)},error:d=>m.reject(d)}),g=new ST(f,v,{includeMetadataChanges:!0,Ta:!0});return wT(a,g)}(await DT(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(n,e,t){if(!t)throw new Ne(Ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function eN(n,e,t,r){if(e===!0&&r===!0)throw new Ne(Ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function oE(n){if(!je.isDocumentKey(n))throw new Ne(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sE(n){if(je.isDocumentKey(n))throw new Ne(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ig(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Fe()}function Yi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ig(n);throw new Ne(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="firestore.googleapis.com",aE=!0;class lE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jT,this.ssl=aE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:aE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OO)throw new Ne(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ne(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ne(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ne(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jc{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lP;switch(r.type){case"firstParty":return new hP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=iE.get(t);r&&(Re("ComponentProvider","Removing Datastore"),iE.delete(t),r.terminate())}(this),Promise.resolve()}}function tN(n,e,t,r={}){var o;const a=(n=Yi(n,Jc))._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;a.host!==jT&&a.host!==f&&Vs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:f,ssl:!1,emulatorOptions:r});if(!Oo(h,u)&&(n._setSettings(h),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=sn.MOCK_USER;else{m=k0(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ne(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new sn(g)}n._authCredentials=new uP(new Ew(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zc(this.firestore,e,this._query)}}class xn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class qi extends Zc{constructor(e,t,r){super(e,t,Um(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new je(e))}withConverter(e){return new qi(this.firestore,e,this._path)}}function ef(n,e,...t){if(n=dn(n),MT("collection","path",e),n instanceof Jc){const r=Et.fromString(e,...t);return sE(r),new qi(n,null,r)}{if(!(n instanceof xn||n instanceof qi))throw new Ne(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Et.fromString(e,...t));return sE(r),new qi(n.firestore,null,r)}}function tf(n,e,...t){if(n=dn(n),arguments.length===1&&(e=Tw.newId()),MT("doc","path",e),n instanceof Jc){const r=Et.fromString(e,...t);return oE(r),new xn(n,null,new je(r))}{if(!(n instanceof xn||n instanceof qi))throw new Ne(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Et.fromString(e,...t));return oE(r),new xn(n.firestore,n instanceof qi?n.converter:null,new je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="AsyncQueue";class cE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new dT(this,"async_queue_retry"),this.Su=()=>{const r=td();r&&Re(uE,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=td();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=td();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Zr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Xs(e))throw e;Re(uE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const o=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(r);throw ri("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Zm.createAndSchedule(this,e,t,r,a=>this.Fu(a));return this.fu.push(o),o}Du(){this.gu&&Fe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class bl extends Jc{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new cE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cE(e),this._firestoreClient=void 0,await e}}}function nN(n,e){const t=typeof n=="object"?n:Tm(),r=typeof n=="string"?n:wc,o=jc(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=A0("firestore");a&&tN(o,...a)}return o}function og(n){if(n._terminated)throw new Ne(Ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||rN(n),n._firestoreClient}function rN(n){var e,t,r;const o=n._freezeSettings(),a=function(f,h,m,v){return new kP(f,h,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,LT(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new Qx(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(f){const h=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $s(Xt.fromBase64String(e))}catch(t){throw new Ne(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $s(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ne(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=/^__.*__$/;class oN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ji(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tl(e,this.data,t,this.fieldTransforms)}}class VT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ji(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function FT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class ug{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new ug(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:r,Qu:!1});return o.$u(e),o}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:r,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Oc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(FT(this.Lu)&&iN.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class sN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Qc(e)}ju(e,t,r,o=!1){return new ug({Lu:e,methodName:t,zu:r,path:Yt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UT(n){const e=n._freezeSettings(),t=Qc(n._databaseId);return new sN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function aN(n,e,t,r,o,a={}){const u=n.ju(a.merge||a.mergeFields?2:0,e,t,o);cg("Data must be an object, but it was:",u,r);const f=qT(r,u);let h,m;if(a.merge)h=new On(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const g of a.mergeFields){const d=hm(e,g,t);if(!u.contains(d))throw new Ne(Ee.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);zT(v,d)||v.push(d)}h=new On(v),m=u.fieldTransforms.filter(g=>h.covers(g.field))}else h=null,m=u.fieldTransforms;return new oN(new Sn(f),h,m)}class rf extends sg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rf}}function lN(n,e,t,r){const o=n.ju(1,e,t);cg("Data must be an object, but it was:",o,r);const a=[],u=Sn.empty();Xi(r,(h,m)=>{const v=fg(e,h,t);m=dn(m);const g=o.Uu(v);if(m instanceof rf)a.push(v);else{const d=of(m,g);d!=null&&(a.push(v),u.set(v,d))}});const f=new On(a);return new VT(u,f,o.fieldTransforms)}function uN(n,e,t,r,o,a){const u=n.ju(1,e,t),f=[hm(e,r,t)],h=[o];if(a.length%2!=0)throw new Ne(Ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<a.length;d+=2)f.push(hm(e,a[d])),h.push(a[d+1]);const m=[],v=Sn.empty();for(let d=f.length-1;d>=0;--d)if(!zT(m,f[d])){const y=f[d];let w=h[d];w=dn(w);const T=u.Uu(y);if(w instanceof rf)m.push(y);else{const _=of(w,T);_!=null&&(m.push(y),v.set(y,_))}}const g=new On(m);return new VT(v,g,u.fieldTransforms)}function of(n,e){if(BT(n=dn(n)))return cg("Unsupported field value:",e,n),qT(n,e);if(n instanceof sg)return function(r,o){if(!FT(o.Lu))throw o.Wu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,o){const a=[];let u=0;for(const f of r){let h=of(f,o.Ku(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,o){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return YP(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=jt.fromDate(r);return{timestampValue:kc(o.serializer,a)}}if(r instanceof jt){const a=new jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kc(o.serializer,a)}}if(r instanceof ag)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $s)return{bytesValue:nT(o.serializer,r._byteString)};if(r instanceof xn){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:$m(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof lg)return function(u,f){return{mapValue:{fields:{[Pw]:{stringValue:xw},[Tc]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw f.Wu("VectorValues must only contain numeric values.");return qm(f.serializer,m)})}}}}}}(r,o);throw o.Wu(`Unsupported field value: ${ig(r)}`)}(n,e)}function qT(n,e){const t={};return Aw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xi(n,(r,o)=>{const a=of(o,e.qu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function BT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof jt||n instanceof ag||n instanceof $s||n instanceof xn||n instanceof sg||n instanceof lg)}function cg(n,e,t){if(!BT(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const r=ig(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function hm(n,e,t){if((e=dn(e))instanceof nf)return e._internalPath;if(typeof e=="string")return fg(n,e);throw Oc("Field path arguments must be of type string or ",n,!1,void 0,t)}const cN=new RegExp("[~\\*/\\[\\]]");function fg(n,e,t){if(e.search(cN)>=0)throw Oc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new nf(...e.split("."))._internalPath}catch{throw Oc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Oc(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${r}`),u&&(h+=` in document ${o}`),h+=")"),new Ne(Ee.INVALID_ARGUMENT,f+n+h)}function zT(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(HT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class fN extends $T{data(){return super.data()}}function HT(n,e){return typeof e=="string"?fg(n,e):e instanceof nf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ne(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dN{convertValue(e,t="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Xi(e,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,o;const a=(o=(r=(t=e.fields)===null||t===void 0?void 0:t[Tc].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(u=>Rt(u.doubleValue));return new lg(a)}convertGeoPoint(e){return new ag(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Bc(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ll(e));default:return null}}convertTimestamp(e){const t=Hi(e);return new jt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Et.fromString(e);lt(lT(r));const o=new ul(r.get(1),r.get(3)),a=new je(r.popFirst(5));return o.isEqual(t)||ri(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class KT extends $T{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(HT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class lc extends KT{data(e={}){return super.data(e)}}class mN{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ya(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new lc(this._firestore,this._userDataWriter,r.key,r,new Ya(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(f=>{const h=new lc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ya(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const h=new lc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ya(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return f.type!==0&&(m=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:gN(f.type),doc:h,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function gN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(n){n=Yi(n,xn);const e=Yi(n.firestore,bl);return Jx(og(e),n._key).then(t=>_N(e,n,t))}class WT extends dN{constructor(e){super(),this.firestore=e}convertBytes(e){return new $s(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,t)}}function hg(n){n=Yi(n,Zc);const e=Yi(n.firestore,bl),t=og(e),r=new WT(e);return hN(n._query),Zx(t,n._query).then(o=>new mN(e,r,n,o))}function GT(n,e,t,...r){n=Yi(n,xn);const o=Yi(n.firestore,bl),a=UT(o);let u;return u=typeof(e=dn(e))=="string"||e instanceof nf?uN(a,"updateDoc",n._key,e,t,r):lN(a,"updateDoc",n._key,e),QT(o,[u.toMutation(n._key,Ir.exists(!0))])}function vN(n,e){const t=Yi(n.firestore,bl),r=tf(n),o=pN(n.converter,e);return QT(t,[aN(UT(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,Ir.exists(!1))]).then(()=>r)}function QT(n,e){return function(r,o){const a=new Zr;return r.asyncQueue.enqueueAndForget(async()=>Ux(await Xx(r),o,a)),a.promise}(og(n),e)}function _N(n,e,t){const r=t.docs.get(e._key),o=new WT(n);return new KT(n,o,e._key,r,new Ya(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Qs=o})(Vo),xo(new zi("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),f=new bl(new cP(r.getProvider("auth-internal")),new dP(u,r.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ne(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ul(m.options.projectId,v)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),wr(g_,y_,e),wr(g_,y_,"esm2017")})();const Mo=nN(Nm);async function YT(n){const e=ef(Mo,n),t=await hg(e);let r=[];return t.forEach(o=>{r.push({...o.data(),id:o.id})}),r}async function XT(n,e){const t=ef(Mo,n);return(await vN(t,e)).id}async function EN(n,e,t){const r=tf(Mo,n,e);return await GT(r,t),`Document with ID ${e} updated successfully.`}async function JT(n,e){const t=tf(Mo,n,e),r=await yN(t);if(r.exists())return{...r.data(),id:r.id};throw new Error(`No document found with ID ${e} in collection ${n}`)}async function wN(n,e,t){const r=ef(Mo,n),o=await hg(r);let a=null;if(o.forEach(u=>{u.data()[e]===t&&(a={...u.data(),id:u.id})}),a)return a;throw new Error(`No document found in collection ${n} with ${e} equal to ${t}`)}async function TN(n,e,t,r){const o=ef(Mo,n),a=await hg(o);let u=null;if(a.forEach(f=>{f.data()[e]===t&&(u=f.id)}),u){const f=tf(Mo,n,u);return await GT(f,r),`Document with ${e} equal to ${t} updated successfully.`}else throw new Error(`No document found in collection ${n} with ${e} equal to ${t}`)}const SN=()=>{const[n,e]=de.useState([]),t=ml(),{login:r}=de.useContext(oi);de.useEffect(()=>{o()},[]),de.useEffect(()=>{o()},[r]);const o=async()=>{const u=await YT("products");if(console.log("produtos com id  ",u),u&&u.length>0)if(r)e(u);else{const f=u.filter(h=>h.adApproved===!0);e(f);return}},a=u=>{console.log("Qual  oproduto   ",u),t(`/singleProduct/${u}`)};return W.jsxs("div",{className:Pi.showcaseContainer,children:[W.jsx("h1",{children:"Vitrine de Produtos"}),W.jsx("div",{className:Pi.scrollContainer,children:n.length>0?W.jsx("div",{className:Pi.productsGrid,children:n.map((u,f)=>W.jsxs("div",{className:Pi.productCard,onClick:()=>a(u.id),children:[W.jsx("div",{className:Pi.imageContainer,children:W.jsx("img",{src:u.images[0],alt:`Produto ${f+1}`,className:Pi.productImage})}),W.jsx("h3",{className:Pi.title,children:u.title}),W.jsxs("h3",{className:Pi.price,children:["R$ ",u.price,",00"]})]},f))}):W.jsx("p",{children:"Nenhum produto encontrado no localStorage."})})]})},AN="_productFormContainer_ksjuj_3",IN="_formContainer_ksjuj_3",bN="_formRow_ksjuj_8",kN="_formGroup_ksjuj_11",RN="_formTextareaColumn_ksjuj_15",CN="_textareaColumn_ksjuj_18",PN="_linkAddImgContainer_ksjuj_22",ON="_linkField_ksjuj_26",xN="_btn_ksjuj_26",NN="_containerImages_ksjuj_30",DN="_btnContainer_ksjuj_33",LN="_textField_ksjuj_94",MN="_imageItem_ksjuj_152",it={productFormContainer:AN,formContainer:IN,formRow:bN,formGroup:kN,formTextareaColumn:RN,textareaColumn:CN,linkAddImgContainer:PN,linkField:ON,btn:xN,containerImages:NN,btnContainer:DN,textField:LN,imageItem:MN},jN="_container_if0ca_1",VN="_geralContainerConfirmMessage_if0ca_18",FN="_containerBtn_if0ca_24",UN="_containerCpf_if0ca_31",qN="_submitCpfBtn_if0ca_40",BN="_register_if0ca_67",Er={container:jN,geralContainerConfirmMessage:VN,containerBtn:FN,containerCpf:UN,submitCpfBtn:qN,register:BN};var rd={exports:{}},id,fE;function zN(){if(fE)return id;fE=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return id=n,id}var od,hE;function $N(){if(hE)return od;hE=1;var n=zN();function e(){}function t(){}return t.resetWarningCache=e,od=function(){function r(u,f,h,m,v,g){if(g!==n){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}r.isRequired=r;function o(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},od}var dE;function HN(){return dE||(dE=1,rd.exports=$N()()),rd.exports}var KN=HN();const $t=pm(KN),dm=({setCloseMessage:n,defaultMessage:e,goOn:t})=>W.jsx("div",{className:Er.container,children:W.jsxs("div",{className:Er.geralContainerConfirmMessage,children:[W.jsxs("div",{children:[" ",W.jsx("h1",{children:e})]}),W.jsxs("div",{className:Er.containerBtn,children:[W.jsx("button",{onClick:t,children:"Sim"}),W.jsx("button",{onClick:()=>n(!1),children:"No"})]})]})});dm.propTypes={setCloseMessage:$t.func.isRequired,defaultMessage:$t.string.isRequired,goOn:$t.func.isRequired};const WN="_container_l88h6_1",GN="_messageBox_l88h6_13",pE={container:WN,messageBox:GN},Hs=({message:n,setClose:e,setCloseMessage:t,adress:r})=>{const o=ml();return ot.useEffect(()=>{const a=setTimeout(()=>{e&&e(!1),t&&t(!1),r&&o(r)},4e3);return()=>clearTimeout(a)},[o]),W.jsx("div",{className:pE.container,children:W.jsx("div",{className:pE.messageBox,children:n})})};Hs.propTypes={message:$t.string.isRequired,adress:$t.string,setCloseMessage:$t.func,setClose:$t.func.isRequired};var sd,mE;function QN(){if(mE)return sd;mE=1;function n(){this.__data__=[],this.size=0}return sd=n,sd}var ad,gE;function ZT(){if(gE)return ad;gE=1;function n(e,t){return e===t||e!==e&&t!==t}return ad=n,ad}var ld,yE;function sf(){if(yE)return ld;yE=1;var n=ZT();function e(t,r){for(var o=t.length;o--;)if(n(t[o][0],r))return o;return-1}return ld=e,ld}var ud,vE;function YN(){if(vE)return ud;vE=1;var n=sf(),e=Array.prototype,t=e.splice;function r(o){var a=this.__data__,u=n(a,o);if(u<0)return!1;var f=a.length-1;return u==f?a.pop():t.call(a,u,1),--this.size,!0}return ud=r,ud}var cd,_E;function XN(){if(_E)return cd;_E=1;var n=sf();function e(t){var r=this.__data__,o=n(r,t);return o<0?void 0:r[o][1]}return cd=e,cd}var fd,EE;function JN(){if(EE)return fd;EE=1;var n=sf();function e(t){return n(this.__data__,t)>-1}return fd=e,fd}var hd,wE;function ZN(){if(wE)return hd;wE=1;var n=sf();function e(t,r){var o=this.__data__,a=n(o,t);return a<0?(++this.size,o.push([t,r])):o[a][1]=r,this}return hd=e,hd}var dd,TE;function af(){if(TE)return dd;TE=1;var n=QN(),e=YN(),t=XN(),r=JN(),o=ZN();function a(u){var f=-1,h=u==null?0:u.length;for(this.clear();++f<h;){var m=u[f];this.set(m[0],m[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,dd=a,dd}var pd,SE;function e2(){if(SE)return pd;SE=1;var n=af();function e(){this.__data__=new n,this.size=0}return pd=e,pd}var md,AE;function t2(){if(AE)return md;AE=1;function n(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}return md=n,md}var gd,IE;function n2(){if(IE)return gd;IE=1;function n(e){return this.__data__.get(e)}return gd=n,gd}var yd,bE;function r2(){if(bE)return yd;bE=1;function n(e){return this.__data__.has(e)}return yd=n,yd}var vd,kE;function eS(){if(kE)return vd;kE=1;var n=typeof qu=="object"&&qu&&qu.Object===Object&&qu;return vd=n,vd}var _d,RE;function si(){if(RE)return _d;RE=1;var n=eS(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return _d=t,_d}var Ed,CE;function dg(){if(CE)return Ed;CE=1;var n=si(),e=n.Symbol;return Ed=e,Ed}var wd,PE;function i2(){if(PE)return wd;PE=1;var n=dg(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,o=n?n.toStringTag:void 0;function a(u){var f=t.call(u,o),h=u[o];try{u[o]=void 0;var m=!0}catch{}var v=r.call(u);return m&&(f?u[o]=h:delete u[o]),v}return wd=a,wd}var Td,OE;function o2(){if(OE)return Td;OE=1;var n=Object.prototype,e=n.toString;function t(r){return e.call(r)}return Td=t,Td}var Sd,xE;function lf(){if(xE)return Sd;xE=1;var n=dg(),e=i2(),t=o2(),r="[object Null]",o="[object Undefined]",a=n?n.toStringTag:void 0;function u(f){return f==null?f===void 0?o:r:a&&a in Object(f)?e(f):t(f)}return Sd=u,Sd}var Ad,NE;function tS(){if(NE)return Ad;NE=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return Ad=n,Ad}var Id,DE;function nS(){if(DE)return Id;DE=1;var n=lf(),e=tS(),t="[object AsyncFunction]",r="[object Function]",o="[object GeneratorFunction]",a="[object Proxy]";function u(f){if(!e(f))return!1;var h=n(f);return h==r||h==o||h==t||h==a}return Id=u,Id}var bd,LE;function s2(){if(LE)return bd;LE=1;var n=si(),e=n["__core-js_shared__"];return bd=e,bd}var kd,ME;function a2(){if(ME)return kd;ME=1;var n=s2(),e=function(){var r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function t(r){return!!e&&e in r}return kd=t,kd}var Rd,jE;function rS(){if(jE)return Rd;jE=1;var n=Function.prototype,e=n.toString;function t(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Rd=t,Rd}var Cd,VE;function l2(){if(VE)return Cd;VE=1;var n=nS(),e=a2(),t=tS(),r=rS(),o=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,u=Function.prototype,f=Object.prototype,h=u.toString,m=f.hasOwnProperty,v=RegExp("^"+h.call(m).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(d){if(!t(d)||e(d))return!1;var y=n(d)?v:a;return y.test(r(d))}return Cd=g,Cd}var Pd,FE;function u2(){if(FE)return Pd;FE=1;function n(e,t){return e==null?void 0:e[t]}return Pd=n,Pd}var Od,UE;function Zs(){if(UE)return Od;UE=1;var n=l2(),e=u2();function t(r,o){var a=e(r,o);return n(a)?a:void 0}return Od=t,Od}var xd,qE;function pg(){if(qE)return xd;qE=1;var n=Zs(),e=si(),t=n(e,"Map");return xd=t,xd}var Nd,BE;function uf(){if(BE)return Nd;BE=1;var n=Zs(),e=n(Object,"create");return Nd=e,Nd}var Dd,zE;function c2(){if(zE)return Dd;zE=1;var n=uf();function e(){this.__data__=n?n(null):{},this.size=0}return Dd=e,Dd}var Ld,$E;function f2(){if($E)return Ld;$E=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return Ld=n,Ld}var Md,HE;function h2(){if(HE)return Md;HE=1;var n=uf(),e="__lodash_hash_undefined__",t=Object.prototype,r=t.hasOwnProperty;function o(a){var u=this.__data__;if(n){var f=u[a];return f===e?void 0:f}return r.call(u,a)?u[a]:void 0}return Md=o,Md}var jd,KE;function d2(){if(KE)return jd;KE=1;var n=uf(),e=Object.prototype,t=e.hasOwnProperty;function r(o){var a=this.__data__;return n?a[o]!==void 0:t.call(a,o)}return jd=r,jd}var Vd,WE;function p2(){if(WE)return Vd;WE=1;var n=uf(),e="__lodash_hash_undefined__";function t(r,o){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=n&&o===void 0?e:o,this}return Vd=t,Vd}var Fd,GE;function m2(){if(GE)return Fd;GE=1;var n=c2(),e=f2(),t=h2(),r=d2(),o=p2();function a(u){var f=-1,h=u==null?0:u.length;for(this.clear();++f<h;){var m=u[f];this.set(m[0],m[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,Fd=a,Fd}var Ud,QE;function g2(){if(QE)return Ud;QE=1;var n=m2(),e=af(),t=pg();function r(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return Ud=r,Ud}var qd,YE;function y2(){if(YE)return qd;YE=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return qd=n,qd}var Bd,XE;function cf(){if(XE)return Bd;XE=1;var n=y2();function e(t,r){var o=t.__data__;return n(r)?o[typeof r=="string"?"string":"hash"]:o.map}return Bd=e,Bd}var zd,JE;function v2(){if(JE)return zd;JE=1;var n=cf();function e(t){var r=n(this,t).delete(t);return this.size-=r?1:0,r}return zd=e,zd}var $d,ZE;function _2(){if(ZE)return $d;ZE=1;var n=cf();function e(t){return n(this,t).get(t)}return $d=e,$d}var Hd,e1;function E2(){if(e1)return Hd;e1=1;var n=cf();function e(t){return n(this,t).has(t)}return Hd=e,Hd}var Kd,t1;function w2(){if(t1)return Kd;t1=1;var n=cf();function e(t,r){var o=n(this,t),a=o.size;return o.set(t,r),this.size+=o.size==a?0:1,this}return Kd=e,Kd}var Wd,n1;function iS(){if(n1)return Wd;n1=1;var n=g2(),e=v2(),t=_2(),r=E2(),o=w2();function a(u){var f=-1,h=u==null?0:u.length;for(this.clear();++f<h;){var m=u[f];this.set(m[0],m[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,Wd=a,Wd}var Gd,r1;function T2(){if(r1)return Gd;r1=1;var n=af(),e=pg(),t=iS(),r=200;function o(a,u){var f=this.__data__;if(f instanceof n){var h=f.__data__;if(!e||h.length<r-1)return h.push([a,u]),this.size=++f.size,this;f=this.__data__=new t(h)}return f.set(a,u),this.size=f.size,this}return Gd=o,Gd}var Qd,i1;function S2(){if(i1)return Qd;i1=1;var n=af(),e=e2(),t=t2(),r=n2(),o=r2(),a=T2();function u(f){var h=this.__data__=new n(f);this.size=h.size}return u.prototype.clear=e,u.prototype.delete=t,u.prototype.get=r,u.prototype.has=o,u.prototype.set=a,Qd=u,Qd}var Yd,o1;function A2(){if(o1)return Yd;o1=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return Yd=e,Yd}var Xd,s1;function I2(){if(s1)return Xd;s1=1;function n(e){return this.__data__.has(e)}return Xd=n,Xd}var Jd,a1;function b2(){if(a1)return Jd;a1=1;var n=iS(),e=A2(),t=I2();function r(o){var a=-1,u=o==null?0:o.length;for(this.__data__=new n;++a<u;)this.add(o[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=t,Jd=r,Jd}var Zd,l1;function k2(){if(l1)return Zd;l1=1;function n(e,t){for(var r=-1,o=e==null?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}return Zd=n,Zd}var ep,u1;function R2(){if(u1)return ep;u1=1;function n(e,t){return e.has(t)}return ep=n,ep}var tp,c1;function oS(){if(c1)return tp;c1=1;var n=b2(),e=k2(),t=R2(),r=1,o=2;function a(u,f,h,m,v,g){var d=h&r,y=u.length,w=f.length;if(y!=w&&!(d&&w>y))return!1;var T=g.get(u),_=g.get(f);if(T&&_)return T==f&&_==u;var E=-1,S=!0,P=h&o?new n:void 0;for(g.set(u,f),g.set(f,u);++E<y;){var I=u[E],M=f[E];if(m)var F=d?m(M,I,E,f,u,g):m(I,M,E,u,f,g);if(F!==void 0){if(F)continue;S=!1;break}if(P){if(!e(f,function(O,R){if(!t(P,R)&&(I===O||v(I,O,h,m,g)))return P.push(R)})){S=!1;break}}else if(!(I===M||v(I,M,h,m,g))){S=!1;break}}return g.delete(u),g.delete(f),S}return tp=a,tp}var np,f1;function C2(){if(f1)return np;f1=1;var n=si(),e=n.Uint8Array;return np=e,np}var rp,h1;function P2(){if(h1)return rp;h1=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(o,a){r[++t]=[a,o]}),r}return rp=n,rp}var ip,d1;function O2(){if(d1)return ip;d1=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r}return ip=n,ip}var op,p1;function x2(){if(p1)return op;p1=1;var n=dg(),e=C2(),t=ZT(),r=oS(),o=P2(),a=O2(),u=1,f=2,h="[object Boolean]",m="[object Date]",v="[object Error]",g="[object Map]",d="[object Number]",y="[object RegExp]",w="[object Set]",T="[object String]",_="[object Symbol]",E="[object ArrayBuffer]",S="[object DataView]",P=n?n.prototype:void 0,I=P?P.valueOf:void 0;function M(F,O,R,N,k,b,D){switch(R){case S:if(F.byteLength!=O.byteLength||F.byteOffset!=O.byteOffset)return!1;F=F.buffer,O=O.buffer;case E:return!(F.byteLength!=O.byteLength||!b(new e(F),new e(O)));case h:case m:case d:return t(+F,+O);case v:return F.name==O.name&&F.message==O.message;case y:case T:return F==O+"";case g:var L=o;case w:var $=N&u;if(L||(L=a),F.size!=O.size&&!$)return!1;var G=D.get(F);if(G)return G==O;N|=f,D.set(F,O);var re=r(L(F),L(O),N,k,b,D);return D.delete(F),re;case _:if(I)return I.call(F)==I.call(O)}return!1}return op=M,op}var sp,m1;function N2(){if(m1)return sp;m1=1;function n(e,t){for(var r=-1,o=t.length,a=e.length;++r<o;)e[a+r]=t[r];return e}return sp=n,sp}var ap,g1;function mg(){if(g1)return ap;g1=1;var n=Array.isArray;return ap=n,ap}var lp,y1;function D2(){if(y1)return lp;y1=1;var n=N2(),e=mg();function t(r,o,a){var u=o(r);return e(r)?u:n(u,a(r))}return lp=t,lp}var up,v1;function L2(){if(v1)return up;v1=1;function n(e,t){for(var r=-1,o=e==null?0:e.length,a=0,u=[];++r<o;){var f=e[r];t(f,r,e)&&(u[a++]=f)}return u}return up=n,up}var cp,_1;function M2(){if(_1)return cp;_1=1;function n(){return[]}return cp=n,cp}var fp,E1;function j2(){if(E1)return fp;E1=1;var n=L2(),e=M2(),t=Object.prototype,r=t.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(u){return u==null?[]:(u=Object(u),n(o(u),function(f){return r.call(u,f)}))}:e;return fp=a,fp}var hp,w1;function V2(){if(w1)return hp;w1=1;function n(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}return hp=n,hp}var dp,T1;function ff(){if(T1)return dp;T1=1;function n(e){return e!=null&&typeof e=="object"}return dp=n,dp}var pp,S1;function F2(){if(S1)return pp;S1=1;var n=lf(),e=ff(),t="[object Arguments]";function r(o){return e(o)&&n(o)==t}return pp=r,pp}var mp,A1;function U2(){if(A1)return mp;A1=1;var n=F2(),e=ff(),t=Object.prototype,r=t.hasOwnProperty,o=t.propertyIsEnumerable,a=n(function(){return arguments}())?n:function(u){return e(u)&&r.call(u,"callee")&&!o.call(u,"callee")};return mp=a,mp}var Xa={exports:{}},gp,I1;function q2(){if(I1)return gp;I1=1;function n(){return!1}return gp=n,gp}Xa.exports;var b1;function sS(){return b1||(b1=1,function(n,e){var t=si(),r=q2(),o=e&&!e.nodeType&&e,a=o&&!0&&n&&!n.nodeType&&n,u=a&&a.exports===o,f=u?t.Buffer:void 0,h=f?f.isBuffer:void 0,m=h||r;n.exports=m}(Xa,Xa.exports)),Xa.exports}var yp,k1;function B2(){if(k1)return yp;k1=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(r,o){var a=typeof r;return o=o??n,!!o&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<o}return yp=t,yp}var vp,R1;function aS(){if(R1)return vp;R1=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return vp=e,vp}var _p,C1;function z2(){if(C1)return _p;C1=1;var n=lf(),e=aS(),t=ff(),r="[object Arguments]",o="[object Array]",a="[object Boolean]",u="[object Date]",f="[object Error]",h="[object Function]",m="[object Map]",v="[object Number]",g="[object Object]",d="[object RegExp]",y="[object Set]",w="[object String]",T="[object WeakMap]",_="[object ArrayBuffer]",E="[object DataView]",S="[object Float32Array]",P="[object Float64Array]",I="[object Int8Array]",M="[object Int16Array]",F="[object Int32Array]",O="[object Uint8Array]",R="[object Uint8ClampedArray]",N="[object Uint16Array]",k="[object Uint32Array]",b={};b[S]=b[P]=b[I]=b[M]=b[F]=b[O]=b[R]=b[N]=b[k]=!0,b[r]=b[o]=b[_]=b[a]=b[E]=b[u]=b[f]=b[h]=b[m]=b[v]=b[g]=b[d]=b[y]=b[w]=b[T]=!1;function D(L){return t(L)&&e(L.length)&&!!b[n(L)]}return _p=D,_p}var Ep,P1;function $2(){if(P1)return Ep;P1=1;function n(e){return function(t){return e(t)}}return Ep=n,Ep}var Ja={exports:{}};Ja.exports;var O1;function H2(){return O1||(O1=1,function(n,e){var t=eS(),r=e&&!e.nodeType&&e,o=r&&!0&&n&&!n.nodeType&&n,a=o&&o.exports===r,u=a&&t.process,f=function(){try{var h=o&&o.require&&o.require("util").types;return h||u&&u.binding&&u.binding("util")}catch{}}();n.exports=f}(Ja,Ja.exports)),Ja.exports}var wp,x1;function lS(){if(x1)return wp;x1=1;var n=z2(),e=$2(),t=H2(),r=t&&t.isTypedArray,o=r?e(r):n;return wp=o,wp}var Tp,N1;function K2(){if(N1)return Tp;N1=1;var n=V2(),e=U2(),t=mg(),r=sS(),o=B2(),a=lS(),u=Object.prototype,f=u.hasOwnProperty;function h(m,v){var g=t(m),d=!g&&e(m),y=!g&&!d&&r(m),w=!g&&!d&&!y&&a(m),T=g||d||y||w,_=T?n(m.length,String):[],E=_.length;for(var S in m)(v||f.call(m,S))&&!(T&&(S=="length"||y&&(S=="offset"||S=="parent")||w&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||o(S,E)))&&_.push(S);return _}return Tp=h,Tp}var Sp,D1;function W2(){if(D1)return Sp;D1=1;var n=Object.prototype;function e(t){var r=t&&t.constructor,o=typeof r=="function"&&r.prototype||n;return t===o}return Sp=e,Sp}var Ap,L1;function G2(){if(L1)return Ap;L1=1;function n(e,t){return function(r){return e(t(r))}}return Ap=n,Ap}var Ip,M1;function Q2(){if(M1)return Ip;M1=1;var n=G2(),e=n(Object.keys,Object);return Ip=e,Ip}var bp,j1;function Y2(){if(j1)return bp;j1=1;var n=W2(),e=Q2(),t=Object.prototype,r=t.hasOwnProperty;function o(a){if(!n(a))return e(a);var u=[];for(var f in Object(a))r.call(a,f)&&f!="constructor"&&u.push(f);return u}return bp=o,bp}var kp,V1;function X2(){if(V1)return kp;V1=1;var n=nS(),e=aS();function t(r){return r!=null&&e(r.length)&&!n(r)}return kp=t,kp}var Rp,F1;function J2(){if(F1)return Rp;F1=1;var n=K2(),e=Y2(),t=X2();function r(o){return t(o)?n(o):e(o)}return Rp=r,Rp}var Cp,U1;function Z2(){if(U1)return Cp;U1=1;var n=D2(),e=j2(),t=J2();function r(o){return n(o,t,e)}return Cp=r,Cp}var Pp,q1;function eD(){if(q1)return Pp;q1=1;var n=Z2(),e=1,t=Object.prototype,r=t.hasOwnProperty;function o(a,u,f,h,m,v){var g=f&e,d=n(a),y=d.length,w=n(u),T=w.length;if(y!=T&&!g)return!1;for(var _=y;_--;){var E=d[_];if(!(g?E in u:r.call(u,E)))return!1}var S=v.get(a),P=v.get(u);if(S&&P)return S==u&&P==a;var I=!0;v.set(a,u),v.set(u,a);for(var M=g;++_<y;){E=d[_];var F=a[E],O=u[E];if(h)var R=g?h(O,F,E,u,a,v):h(F,O,E,a,u,v);if(!(R===void 0?F===O||m(F,O,f,h,v):R)){I=!1;break}M||(M=E=="constructor")}if(I&&!M){var N=a.constructor,k=u.constructor;N!=k&&"constructor"in a&&"constructor"in u&&!(typeof N=="function"&&N instanceof N&&typeof k=="function"&&k instanceof k)&&(I=!1)}return v.delete(a),v.delete(u),I}return Pp=o,Pp}var Op,B1;function tD(){if(B1)return Op;B1=1;var n=Zs(),e=si(),t=n(e,"DataView");return Op=t,Op}var xp,z1;function nD(){if(z1)return xp;z1=1;var n=Zs(),e=si(),t=n(e,"Promise");return xp=t,xp}var Np,$1;function rD(){if($1)return Np;$1=1;var n=Zs(),e=si(),t=n(e,"Set");return Np=t,Np}var Dp,H1;function iD(){if(H1)return Dp;H1=1;var n=Zs(),e=si(),t=n(e,"WeakMap");return Dp=t,Dp}var Lp,K1;function oD(){if(K1)return Lp;K1=1;var n=tD(),e=pg(),t=nD(),r=rD(),o=iD(),a=lf(),u=rS(),f="[object Map]",h="[object Object]",m="[object Promise]",v="[object Set]",g="[object WeakMap]",d="[object DataView]",y=u(n),w=u(e),T=u(t),_=u(r),E=u(o),S=a;return(n&&S(new n(new ArrayBuffer(1)))!=d||e&&S(new e)!=f||t&&S(t.resolve())!=m||r&&S(new r)!=v||o&&S(new o)!=g)&&(S=function(P){var I=a(P),M=I==h?P.constructor:void 0,F=M?u(M):"";if(F)switch(F){case y:return d;case w:return f;case T:return m;case _:return v;case E:return g}return I}),Lp=S,Lp}var Mp,W1;function sD(){if(W1)return Mp;W1=1;var n=S2(),e=oS(),t=x2(),r=eD(),o=oD(),a=mg(),u=sS(),f=lS(),h=1,m="[object Arguments]",v="[object Array]",g="[object Object]",d=Object.prototype,y=d.hasOwnProperty;function w(T,_,E,S,P,I){var M=a(T),F=a(_),O=M?v:o(T),R=F?v:o(_);O=O==m?g:O,R=R==m?g:R;var N=O==g,k=R==g,b=O==R;if(b&&u(T)){if(!u(_))return!1;M=!0,N=!1}if(b&&!N)return I||(I=new n),M||f(T)?e(T,_,E,S,P,I):t(T,_,O,E,S,P,I);if(!(E&h)){var D=N&&y.call(T,"__wrapped__"),L=k&&y.call(_,"__wrapped__");if(D||L){var $=D?T.value():T,G=L?_.value():_;return I||(I=new n),P($,G,E,S,I)}}return b?(I||(I=new n),r(T,_,E,S,P,I)):!1}return Mp=w,Mp}var jp,G1;function aD(){if(G1)return jp;G1=1;var n=sD(),e=ff();function t(r,o,a,u,f){return r===o?!0:r==null||o==null||!e(r)&&!e(o)?r!==r&&o!==o:n(r,o,a,u,t,f)}return jp=t,jp}var Vp,Q1;function lD(){if(Q1)return Vp;Q1=1;var n=aD();function e(t,r){return n(t,r)}return Vp=e,Vp}var uc={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var uD=uc.exports,Y1;function cD(){return Y1||(Y1=1,function(n,e){(function(r,o){n.exports=o()})(typeof self<"u"?self:uD,function(){return function(t){var r={};function o(a){if(r[a])return r[a].exports;var u=r[a]={i:a,l:!1,exports:{}};return t[a].call(u.exports,u,u.exports,o),u.l=!0,u.exports}return o.m=t,o.c=r,o.d=function(a,u,f){o.o(a,u)||Object.defineProperty(a,u,{configurable:!1,enumerable:!0,get:f})},o.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(u,"a",u),u},o.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},o.p="",o(o.s=109)}([function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(17),u=o(18),f=o(19),h=o(45),m=o(46),v=o(47),g=o(48),d=o(49),y=o(12),w=o(32),T=o(33),_=o(31),E=o(1),S={Scope:E.Scope,create:E.create,find:E.find,query:E.query,register:E.register,Container:a.default,Format:u.default,Leaf:f.default,Embed:g.default,Scroll:h.default,Block:v.default,Inline:m.default,Text:d.default,Attributor:{Attribute:y.default,Class:w.default,Style:T.default,Store:_.default}};r.default=S},function(t,r,o){var a=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,S){E.__proto__=S}||function(E,S){for(var P in S)S.hasOwnProperty(P)&&(E[P]=S[P])};return function(E,S){_(E,S);function P(){this.constructor=E}E.prototype=S===null?Object.create(S):(P.prototype=S.prototype,new P)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=function(_){a(E,_);function E(S){var P=this;return S="[Parchment] "+S,P=_.call(this,S)||this,P.message=S,P.name=P.constructor.name,P}return E}(Error);r.ParchmentError=u;var f={},h={},m={},v={};r.DATA_KEY="__blot";var g;(function(_){_[_.TYPE=3]="TYPE",_[_.LEVEL=12]="LEVEL",_[_.ATTRIBUTE=13]="ATTRIBUTE",_[_.BLOT=14]="BLOT",_[_.INLINE=7]="INLINE",_[_.BLOCK=11]="BLOCK",_[_.BLOCK_BLOT=10]="BLOCK_BLOT",_[_.INLINE_BLOT=6]="INLINE_BLOT",_[_.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",_[_.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",_[_.ANY=15]="ANY"})(g=r.Scope||(r.Scope={}));function d(_,E){var S=w(_);if(S==null)throw new u("Unable to create "+_+" blot");var P=S,I=_ instanceof Node||_.nodeType===Node.TEXT_NODE?_:P.create(E);return new P(I,E)}r.create=d;function y(_,E){return E===void 0&&(E=!1),_==null?null:_[r.DATA_KEY]!=null?_[r.DATA_KEY].blot:E?y(_.parentNode,E):null}r.find=y;function w(_,E){E===void 0&&(E=g.ANY);var S;if(typeof _=="string")S=v[_]||f[_];else if(_ instanceof Text||_.nodeType===Node.TEXT_NODE)S=v.text;else if(typeof _=="number")_&g.LEVEL&g.BLOCK?S=v.block:_&g.LEVEL&g.INLINE&&(S=v.inline);else if(_ instanceof HTMLElement){var P=(_.getAttribute("class")||"").split(/\s+/);for(var I in P)if(S=h[P[I]],S)break;S=S||m[_.tagName]}return S==null?null:E&g.LEVEL&S.scope&&E&g.TYPE&S.scope?S:null}r.query=w;function T(){for(var _=[],E=0;E<arguments.length;E++)_[E]=arguments[E];if(_.length>1)return _.map(function(I){return T(I)});var S=_[0];if(typeof S.blotName!="string"&&typeof S.attrName!="string")throw new u("Invalid definition");if(S.blotName==="abstract")throw new u("Cannot register abstract class");if(v[S.blotName||S.attrName]=S,typeof S.keyName=="string")f[S.keyName]=S;else if(S.className!=null&&(h[S.className]=S),S.tagName!=null){Array.isArray(S.tagName)?S.tagName=S.tagName.map(function(I){return I.toUpperCase()}):S.tagName=S.tagName.toUpperCase();var P=Array.isArray(S.tagName)?S.tagName:[S.tagName];P.forEach(function(I){(m[I]==null||S.className==null)&&(m[I]=S)})}return S}r.register=T},function(t,r,o){var a=o(51),u=o(11),f=o(3),h=o(20),m="\0",v=function(g){Array.isArray(g)?this.ops=g:g!=null&&Array.isArray(g.ops)?this.ops=g.ops:this.ops=[]};v.prototype.insert=function(g,d){var y={};return g.length===0?this:(y.insert=g,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(y.attributes=d),this.push(y))},v.prototype.delete=function(g){return g<=0?this:this.push({delete:g})},v.prototype.retain=function(g,d){if(g<=0)return this;var y={retain:g};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(y.attributes=d),this.push(y)},v.prototype.push=function(g){var d=this.ops.length,y=this.ops[d-1];if(g=f(!0,{},g),typeof y=="object"){if(typeof g.delete=="number"&&typeof y.delete=="number")return this.ops[d-1]={delete:y.delete+g.delete},this;if(typeof y.delete=="number"&&g.insert!=null&&(d-=1,y=this.ops[d-1],typeof y!="object"))return this.ops.unshift(g),this;if(u(g.attributes,y.attributes)){if(typeof g.insert=="string"&&typeof y.insert=="string")return this.ops[d-1]={insert:y.insert+g.insert},typeof g.attributes=="object"&&(this.ops[d-1].attributes=g.attributes),this;if(typeof g.retain=="number"&&typeof y.retain=="number")return this.ops[d-1]={retain:y.retain+g.retain},typeof g.attributes=="object"&&(this.ops[d-1].attributes=g.attributes),this}}return d===this.ops.length?this.ops.push(g):this.ops.splice(d,0,g),this},v.prototype.chop=function(){var g=this.ops[this.ops.length-1];return g&&g.retain&&!g.attributes&&this.ops.pop(),this},v.prototype.filter=function(g){return this.ops.filter(g)},v.prototype.forEach=function(g){this.ops.forEach(g)},v.prototype.map=function(g){return this.ops.map(g)},v.prototype.partition=function(g){var d=[],y=[];return this.forEach(function(w){var T=g(w)?d:y;T.push(w)}),[d,y]},v.prototype.reduce=function(g,d){return this.ops.reduce(g,d)},v.prototype.changeLength=function(){return this.reduce(function(g,d){return d.insert?g+h.length(d):d.delete?g-d.delete:g},0)},v.prototype.length=function(){return this.reduce(function(g,d){return g+h.length(d)},0)},v.prototype.slice=function(g,d){g=g||0,typeof d!="number"&&(d=1/0);for(var y=[],w=h.iterator(this.ops),T=0;T<d&&w.hasNext();){var _;T<g?_=w.next(g-T):(_=w.next(d-T),y.push(_)),T+=h.length(_)}return new v(y)},v.prototype.compose=function(g){var d=h.iterator(this.ops),y=h.iterator(g.ops),w=[],T=y.peek();if(T!=null&&typeof T.retain=="number"&&T.attributes==null){for(var _=T.retain;d.peekType()==="insert"&&d.peekLength()<=_;)_-=d.peekLength(),w.push(d.next());T.retain-_>0&&y.next(T.retain-_)}for(var E=new v(w);d.hasNext()||y.hasNext();)if(y.peekType()==="insert")E.push(y.next());else if(d.peekType()==="delete")E.push(d.next());else{var S=Math.min(d.peekLength(),y.peekLength()),P=d.next(S),I=y.next(S);if(typeof I.retain=="number"){var M={};typeof P.retain=="number"?M.retain=S:M.insert=P.insert;var F=h.attributes.compose(P.attributes,I.attributes,typeof P.retain=="number");if(F&&(M.attributes=F),E.push(M),!y.hasNext()&&u(E.ops[E.ops.length-1],M)){var O=new v(d.rest());return E.concat(O).chop()}}else typeof I.delete=="number"&&typeof P.retain=="number"&&E.push(I)}return E.chop()},v.prototype.concat=function(g){var d=new v(this.ops.slice());return g.ops.length>0&&(d.push(g.ops[0]),d.ops=d.ops.concat(g.ops.slice(1))),d},v.prototype.diff=function(g,d){if(this.ops===g.ops)return new v;var y=[this,g].map(function(S){return S.map(function(P){if(P.insert!=null)return typeof P.insert=="string"?P.insert:m;var I=S===g?"on":"with";throw new Error("diff() called "+I+" non-document")}).join("")}),w=new v,T=a(y[0],y[1],d),_=h.iterator(this.ops),E=h.iterator(g.ops);return T.forEach(function(S){for(var P=S[1].length;P>0;){var I=0;switch(S[0]){case a.INSERT:I=Math.min(E.peekLength(),P),w.push(E.next(I));break;case a.DELETE:I=Math.min(P,_.peekLength()),_.next(I),w.delete(I);break;case a.EQUAL:I=Math.min(_.peekLength(),E.peekLength(),P);var M=_.next(I),F=E.next(I);u(M.insert,F.insert)?w.retain(I,h.attributes.diff(M.attributes,F.attributes)):w.push(F).delete(I);break}P-=I}}),w.chop()},v.prototype.eachLine=function(g,d){d=d||`
`;for(var y=h.iterator(this.ops),w=new v,T=0;y.hasNext();){if(y.peekType()!=="insert")return;var _=y.peek(),E=h.length(_)-y.peekLength(),S=typeof _.insert=="string"?_.insert.indexOf(d,E)-E:-1;if(S<0)w.push(y.next());else if(S>0)w.push(y.next(S));else{if(g(w,y.next(1).attributes||{},T)===!1)return;T+=1,w=new v}}w.length()>0&&g(w,{},T)},v.prototype.transform=function(g,d){if(d=!!d,typeof g=="number")return this.transformPosition(g,d);for(var y=h.iterator(this.ops),w=h.iterator(g.ops),T=new v;y.hasNext()||w.hasNext();)if(y.peekType()==="insert"&&(d||w.peekType()!=="insert"))T.retain(h.length(y.next()));else if(w.peekType()==="insert")T.push(w.next());else{var _=Math.min(y.peekLength(),w.peekLength()),E=y.next(_),S=w.next(_);if(E.delete)continue;S.delete?T.push(S):T.retain(_,h.attributes.transform(E.attributes,S.attributes,d))}return T.chop()},v.prototype.transformPosition=function(g,d){d=!!d;for(var y=h.iterator(this.ops),w=0;y.hasNext()&&w<=g;){var T=y.peekLength(),_=y.peekType();if(y.next(),_==="delete"){g-=Math.min(T,g-w);continue}else _==="insert"&&(w<g||!d)&&(g+=T);w+=T}return g},t.exports=v},function(t,r){var o=Object.prototype.hasOwnProperty,a=Object.prototype.toString,u=Object.defineProperty,f=Object.getOwnPropertyDescriptor,h=function(y){return typeof Array.isArray=="function"?Array.isArray(y):a.call(y)==="[object Array]"},m=function(y){if(!y||a.call(y)!=="[object Object]")return!1;var w=o.call(y,"constructor"),T=y.constructor&&y.constructor.prototype&&o.call(y.constructor.prototype,"isPrototypeOf");if(y.constructor&&!w&&!T)return!1;var _;for(_ in y);return typeof _>"u"||o.call(y,_)},v=function(y,w){u&&w.name==="__proto__"?u(y,w.name,{enumerable:!0,configurable:!0,value:w.newValue,writable:!0}):y[w.name]=w.newValue},g=function(y,w){if(w==="__proto__")if(o.call(y,w)){if(f)return f(y,w).value}else return;return y[w]};t.exports=function d(){var y,w,T,_,E,S,P=arguments[0],I=1,M=arguments.length,F=!1;for(typeof P=="boolean"&&(F=P,P=arguments[1]||{},I=2),(P==null||typeof P!="object"&&typeof P!="function")&&(P={});I<M;++I)if(y=arguments[I],y!=null)for(w in y)T=g(P,w),_=g(y,w),P!==_&&(F&&_&&(m(_)||(E=h(_)))?(E?(E=!1,S=T&&h(T)?T:[]):S=T&&m(T)?T:{},v(P,{name:w,newValue:d(F,S,_)})):typeof _<"u"&&v(P,{name:w,newValue:_}));return P}},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var a=function(){function b(D,L){for(var $=0;$<L.length;$++){var G=L[$];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(D,G.key,G)}}return function(D,L,$){return L&&b(D.prototype,L),$&&b(D,$),D}}(),u=function b(D,L,$){D===null&&(D=Function.prototype);var G=Object.getOwnPropertyDescriptor(D,L);if(G===void 0){var re=Object.getPrototypeOf(D);return re===null?void 0:b(re,L,$)}else{if("value"in G)return G.value;var ne=G.get;return ne===void 0?void 0:ne.call($)}},f=o(3),h=P(f),m=o(2),v=P(m),g=o(0),d=P(g),y=o(16),w=P(y),T=o(6),_=P(T),E=o(7),S=P(E);function P(b){return b&&b.__esModule?b:{default:b}}function I(b,D){if(!(b instanceof D))throw new TypeError("Cannot call a class as a function")}function M(b,D){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:b}function F(b,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);b.prototype=Object.create(D&&D.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(b,D):b.__proto__=D)}var O=1,R=function(b){F(D,b);function D(){return I(this,D),M(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return a(D,[{key:"attach",value:function(){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new v.default().insert(this.value(),(0,h.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function($,G){var re=d.default.query($,d.default.Scope.BLOCK_ATTRIBUTE);re!=null&&this.attributes.attribute(re,G)}},{key:"formatAt",value:function($,G,re,ne){this.format(re,ne)}},{key:"insertAt",value:function($,G,re){if(typeof G=="string"&&G.endsWith(`
`)){var ne=d.default.create(N.blotName);this.parent.insertBefore(ne,$===0?this:this.next),ne.insertAt(0,G.slice(0,-1))}else u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,$,G,re)}}]),D}(d.default.Embed);R.scope=d.default.Scope.BLOCK_BLOT;var N=function(b){F(D,b);function D(L){I(this,D);var $=M(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,L));return $.cache={},$}return a(D,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function($,G){return G.length()===0?$:$.insert(G.value(),k(G))},new v.default).insert(`
`,k(this))),this.cache.delta}},{key:"deleteAt",value:function($,G){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"deleteAt",this).call(this,$,G),this.cache={}}},{key:"formatAt",value:function($,G,re,ne){G<=0||(d.default.query(re,d.default.Scope.BLOCK)?$+G===this.length()&&this.format(re,ne):u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"formatAt",this).call(this,$,Math.min(G,this.length()-$-1),re,ne),this.cache={})}},{key:"insertAt",value:function($,G,re){if(re!=null)return u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,$,G,re);if(G.length!==0){var ne=G.split(`
`),ie=ne.shift();ie.length>0&&($<this.length()-1||this.children.tail==null?u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,Math.min($,this.length()-1),ie):this.children.tail.insertAt(this.children.tail.length(),ie),this.cache={});var Y=this;ne.reduce(function(H,j){return Y=Y.split(H,!0),Y.insertAt(0,j),j.length},$+ie.length)}}},{key:"insertBefore",value:function($,G){var re=this.children.head;u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertBefore",this).call(this,$,G),re instanceof w.default&&re.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"length",this).call(this)+O),this.cache.length}},{key:"moveChildren",value:function($,G){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"moveChildren",this).call(this,$,G),this.cache={}}},{key:"optimize",value:function($){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,$),this.cache={}}},{key:"path",value:function($){return u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"path",this).call(this,$,!0)}},{key:"removeChild",value:function($){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"removeChild",this).call(this,$),this.cache={}}},{key:"split",value:function($){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(G&&($===0||$>=this.length()-O)){var re=this.clone();return $===0?(this.parent.insertBefore(re,this),this):(this.parent.insertBefore(re,this.next),re)}else{var ne=u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"split",this).call(this,$,G);return this.cache={},ne}}}]),D}(d.default.Block);N.blotName="block",N.tagName="P",N.defaultChild="break",N.allowedChildren=[_.default,d.default.Embed,S.default];function k(b){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return b==null||(typeof b.formats=="function"&&(D=(0,h.default)(D,b.formats())),b.parent==null||b.parent.blotName=="scroll"||b.parent.statics.scope!==b.statics.scope)?D:k(b.parent,D)}r.bubbleFormats=k,r.BlockEmbed=R,r.default=N},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},u=function(){function Y(H,j){var q=[],K=!0,ee=!1,Z=void 0;try{for(var z=H[Symbol.iterator](),X;!(K=(X=z.next()).done)&&(q.push(X.value),!(j&&q.length===j));K=!0);}catch(oe){ee=!0,Z=oe}finally{try{!K&&z.return&&z.return()}finally{if(ee)throw Z}}return q}return function(H,j){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return Y(H,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function Y(H,j){for(var q=0;q<j.length;q++){var K=j[q];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(H,K.key,K)}}return function(H,j,q){return j&&Y(H.prototype,j),q&&Y(H,q),H}}();o(50);var h=o(2),m=k(h),v=o(14),g=k(v),d=o(8),y=k(d),w=o(9),T=k(w),_=o(0),E=k(_),S=o(15),P=k(S),I=o(3),M=k(I),F=o(10),O=k(F),R=o(34),N=k(R);function k(Y){return Y&&Y.__esModule?Y:{default:Y}}function b(Y,H,j){return H in Y?Object.defineProperty(Y,H,{value:j,enumerable:!0,configurable:!0,writable:!0}):Y[H]=j,Y}function D(Y,H){if(!(Y instanceof H))throw new TypeError("Cannot call a class as a function")}var L=(0,O.default)("quill"),$=function(){f(Y,null,[{key:"debug",value:function(j){j===!0&&(j="log"),O.default.level(j)}},{key:"find",value:function(j){return j.__quill||E.default.find(j)}},{key:"import",value:function(j){return this.imports[j]==null&&L.error("Cannot import "+j+". Are you sure it was registered?"),this.imports[j]}},{key:"register",value:function(j,q){var K=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof j!="string"){var Z=j.attrName||j.blotName;typeof Z=="string"?this.register("formats/"+Z,j,q):Object.keys(j).forEach(function(z){K.register(z,j[z],q)})}else this.imports[j]!=null&&!ee&&L.warn("Overwriting "+j+" with",q),this.imports[j]=q,(j.startsWith("blots/")||j.startsWith("formats/"))&&q.blotName!=="abstract"?E.default.register(q):j.startsWith("modules")&&typeof q.register=="function"&&q.register()}}]);function Y(H){var j=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(D(this,Y),this.options=G(H,q),this.container=this.options.container,this.container==null)return L.error("Invalid Quill container",H);this.options.debug&&Y.debug(this.options.debug);var K=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new y.default,this.scroll=E.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new g.default(this.scroll),this.selection=new P.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(y.default.events.EDITOR_CHANGE,function(Z){Z===y.default.events.TEXT_CHANGE&&j.root.classList.toggle("ql-blank",j.editor.isBlank())}),this.emitter.on(y.default.events.SCROLL_UPDATE,function(Z,z){var X=j.selection.lastRange,oe=X&&X.length===0?X.index:void 0;re.call(j,function(){return j.editor.update(null,z,oe)},Z)});var ee=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+K+"<p><br></p></div>");this.setContents(ee),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return f(Y,[{key:"addContainer",value:function(j){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof j=="string"){var K=j;j=document.createElement("div"),j.classList.add(K)}return this.container.insertBefore(j,q),j}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(j,q,K){var ee=this,Z=ne(j,q,K),z=u(Z,4);return j=z[0],q=z[1],K=z[3],re.call(this,function(){return ee.editor.deleteText(j,q)},K,j,-1*q)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(j),this.container.classList.toggle("ql-disabled",!j)}},{key:"focus",value:function(){var j=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=j,this.scrollIntoView()}},{key:"format",value:function(j,q){var K=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;return re.call(this,function(){var Z=K.getSelection(!0),z=new m.default;if(Z==null)return z;if(E.default.query(j,E.default.Scope.BLOCK))z=K.editor.formatLine(Z.index,Z.length,b({},j,q));else{if(Z.length===0)return K.selection.format(j,q),z;z=K.editor.formatText(Z.index,Z.length,b({},j,q))}return K.setSelection(Z,y.default.sources.SILENT),z},ee)}},{key:"formatLine",value:function(j,q,K,ee,Z){var z=this,X=void 0,oe=ne(j,q,K,ee,Z),se=u(oe,4);return j=se[0],q=se[1],X=se[2],Z=se[3],re.call(this,function(){return z.editor.formatLine(j,q,X)},Z,j,0)}},{key:"formatText",value:function(j,q,K,ee,Z){var z=this,X=void 0,oe=ne(j,q,K,ee,Z),se=u(oe,4);return j=se[0],q=se[1],X=se[2],Z=se[3],re.call(this,function(){return z.editor.formatText(j,q,X)},Z,j,0)}},{key:"getBounds",value:function(j){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=void 0;typeof j=="number"?K=this.selection.getBounds(j,q):K=this.selection.getBounds(j.index,j.length);var ee=this.container.getBoundingClientRect();return{bottom:K.bottom-ee.top,height:K.height,left:K.left-ee.left,right:K.right-ee.left,top:K.top-ee.top,width:K.width}}},{key:"getContents",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-j,K=ne(j,q),ee=u(K,2);return j=ee[0],q=ee[1],this.editor.getContents(j,q)}},{key:"getFormat",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof j=="number"?this.editor.getFormat(j,q):this.editor.getFormat(j.index,j.length)}},{key:"getIndex",value:function(j){return j.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(j){return this.scroll.leaf(j)}},{key:"getLine",value:function(j){return this.scroll.line(j)}},{key:"getLines",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof j!="number"?this.scroll.lines(j.index,j.length):this.scroll.lines(j,q)}},{key:"getModule",value:function(j){return this.theme.modules[j]}},{key:"getSelection",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return j&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-j,K=ne(j,q),ee=u(K,2);return j=ee[0],q=ee[1],this.editor.getText(j,q)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(j,q,K){var ee=this,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Y.sources.API;return re.call(this,function(){return ee.editor.insertEmbed(j,q,K)},Z,j)}},{key:"insertText",value:function(j,q,K,ee,Z){var z=this,X=void 0,oe=ne(j,0,K,ee,Z),se=u(oe,4);return j=se[0],X=se[2],Z=se[3],re.call(this,function(){return z.editor.insertText(j,q,X)},Z,j,q.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(j,q,K){this.clipboard.dangerouslyPasteHTML(j,q,K)}},{key:"removeFormat",value:function(j,q,K){var ee=this,Z=ne(j,q,K),z=u(Z,4);return j=z[0],q=z[1],K=z[3],re.call(this,function(){return ee.editor.removeFormat(j,q)},K,j)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(j){var q=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API;return re.call(this,function(){j=new m.default(j);var ee=q.getLength(),Z=q.editor.deleteText(0,ee),z=q.editor.applyDelta(j),X=z.ops[z.ops.length-1];X!=null&&typeof X.insert=="string"&&X.insert[X.insert.length-1]===`
`&&(q.editor.deleteText(q.getLength()-1,1),z.delete(1));var oe=Z.compose(z);return oe},K)}},{key:"setSelection",value:function(j,q,K){if(j==null)this.selection.setRange(null,q||Y.sources.API);else{var ee=ne(j,q,K),Z=u(ee,4);j=Z[0],q=Z[1],K=Z[3],this.selection.setRange(new S.Range(j,q),K),K!==y.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(j){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API,K=new m.default().insert(j);return this.setContents(K,q)}},{key:"update",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.default.sources.USER,q=this.scroll.update(j);return this.selection.update(j),q}},{key:"updateContents",value:function(j){var q=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API;return re.call(this,function(){return j=new m.default(j),q.editor.applyDelta(j,K)},K,!0)}}]),Y}();$.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},$.events=y.default.events,$.sources=y.default.sources,$.version="1.3.7",$.imports={delta:m.default,parchment:E.default,"core/module":T.default,"core/theme":N.default};function G(Y,H){if(H=(0,M.default)(!0,{container:Y,modules:{clipboard:!0,keyboard:!0,history:!0}},H),!H.theme||H.theme===$.DEFAULTS.theme)H.theme=N.default;else if(H.theme=$.import("themes/"+H.theme),H.theme==null)throw new Error("Invalid theme "+H.theme+". Did you register it?");var j=(0,M.default)(!0,{},H.theme.DEFAULTS);[j,H].forEach(function(ee){ee.modules=ee.modules||{},Object.keys(ee.modules).forEach(function(Z){ee.modules[Z]===!0&&(ee.modules[Z]={})})});var q=Object.keys(j.modules).concat(Object.keys(H.modules)),K=q.reduce(function(ee,Z){var z=$.import("modules/"+Z);return z==null?L.error("Cannot load "+Z+" module. Are you sure you registered it?"):ee[Z]=z.DEFAULTS||{},ee},{});return H.modules!=null&&H.modules.toolbar&&H.modules.toolbar.constructor!==Object&&(H.modules.toolbar={container:H.modules.toolbar}),H=(0,M.default)(!0,{},$.DEFAULTS,{modules:K},j,H),["bounds","container","scrollingContainer"].forEach(function(ee){typeof H[ee]=="string"&&(H[ee]=document.querySelector(H[ee]))}),H.modules=Object.keys(H.modules).reduce(function(ee,Z){return H.modules[Z]&&(ee[Z]=H.modules[Z]),ee},{}),H}function re(Y,H,j,q){if(this.options.strict&&!this.isEnabled()&&H===y.default.sources.USER)return new m.default;var K=j==null?null:this.getSelection(),ee=this.editor.delta,Z=Y();if(K!=null&&(j===!0&&(j=K.index),q==null?K=ie(K,Z,H):q!==0&&(K=ie(K,j,q,H)),this.setSelection(K,y.default.sources.SILENT)),Z.length()>0){var z,X=[y.default.events.TEXT_CHANGE,Z,ee,H];if((z=this.emitter).emit.apply(z,[y.default.events.EDITOR_CHANGE].concat(X)),H!==y.default.sources.SILENT){var oe;(oe=this.emitter).emit.apply(oe,X)}}return Z}function ne(Y,H,j,q,K){var ee={};return typeof Y.index=="number"&&typeof Y.length=="number"?typeof H!="number"?(K=q,q=j,j=H,H=Y.length,Y=Y.index):(H=Y.length,Y=Y.index):typeof H!="number"&&(K=q,q=j,j=H,H=0),(typeof j>"u"?"undefined":a(j))==="object"?(ee=j,K=q):typeof j=="string"&&(q!=null?ee[j]=q:K=j),K=K||y.default.sources.API,[Y,H,ee,K]}function ie(Y,H,j,q){if(Y==null)return null;var K=void 0,ee=void 0;if(H instanceof m.default){var Z=[Y.index,Y.index+Y.length].map(function(se){return H.transformPosition(se,q!==y.default.sources.USER)}),z=u(Z,2);K=z[0],ee=z[1]}else{var X=[Y.index,Y.index+Y.length].map(function(se){return se<H||se===H&&q===y.default.sources.USER?se:j>=0?se+j:Math.max(H,se+j)}),oe=u(X,2);K=oe[0],ee=oe[1]}return new S.Range(K,ee-K)}r.expandConfig=G,r.overload=ne,r.default=$},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function _(E,S){for(var P=0;P<S.length;P++){var I=S[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}return function(E,S,P){return S&&_(E.prototype,S),P&&_(E,P),E}}(),u=function _(E,S,P){E===null&&(E=Function.prototype);var I=Object.getOwnPropertyDescriptor(E,S);if(I===void 0){var M=Object.getPrototypeOf(E);return M===null?void 0:_(M,S,P)}else{if("value"in I)return I.value;var F=I.get;return F===void 0?void 0:F.call(P)}},f=o(7),h=g(f),m=o(0),v=g(m);function g(_){return _&&_.__esModule?_:{default:_}}function d(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}function y(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:_}function w(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}var T=function(_){w(E,_);function E(){return d(this,E),y(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"formatAt",value:function(P,I,M,F){if(E.compare(this.statics.blotName,M)<0&&v.default.query(M,v.default.Scope.BLOT)){var O=this.isolate(P,I);F&&O.wrap(M,F)}else u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,P,I,M,F)}},{key:"optimize",value:function(P){if(u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,P),this.parent instanceof E&&E.compare(this.statics.blotName,this.parent.statics.blotName)>0){var I=this.parent.isolate(this.offset(),this.length());this.moveChildren(I),I.wrap(this)}}}],[{key:"compare",value:function(P,I){var M=E.order.indexOf(P),F=E.order.indexOf(I);return M>=0||F>=0?M-F:P===I?0:P<I?-1:1}}]),E}(v.default.Inline);T.allowedChildren=[T,v.default.Embed,h.default],T.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=T},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function m(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var g=function(d){v(y,d);function y(){return h(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(u.default.Text);r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function S(P,I){for(var M=0;M<I.length;M++){var F=I[M];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(P,F.key,F)}}return function(P,I,M){return I&&S(P.prototype,I),M&&S(P,M),P}}(),u=function S(P,I,M){P===null&&(P=Function.prototype);var F=Object.getOwnPropertyDescriptor(P,I);if(F===void 0){var O=Object.getPrototypeOf(P);return O===null?void 0:S(O,I,M)}else{if("value"in F)return F.value;var R=F.get;return R===void 0?void 0:R.call(M)}},f=o(54),h=g(f),m=o(10),v=g(m);function g(S){return S&&S.__esModule?S:{default:S}}function d(S,P){if(!(S instanceof P))throw new TypeError("Cannot call a class as a function")}function y(S,P){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:S}function w(S,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);S.prototype=Object.create(P&&P.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(S,P):S.__proto__=P)}var T=(0,v.default)("quill:events"),_=["selectionchange","mousedown","mouseup","click"];_.forEach(function(S){document.addEventListener(S,function(){for(var P=arguments.length,I=Array(P),M=0;M<P;M++)I[M]=arguments[M];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(F){if(F.__quill&&F.__quill.emitter){var O;(O=F.__quill.emitter).handleDOM.apply(O,I)}})})});var E=function(S){w(P,S);function P(){d(this,P);var I=y(this,(P.__proto__||Object.getPrototypeOf(P)).call(this));return I.listeners={},I.on("error",T.error),I}return a(P,[{key:"emit",value:function(){T.log.apply(T,arguments),u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(M){for(var F=arguments.length,O=Array(F>1?F-1:0),R=1;R<F;R++)O[R-1]=arguments[R];(this.listeners[M.type]||[]).forEach(function(N){var k=N.node,b=N.handler;(M.target===k||k.contains(M.target))&&b.apply(void 0,[M].concat(O))})}},{key:"listenDOM",value:function(M,F,O){this.listeners[M]||(this.listeners[M]=[]),this.listeners[M].push({node:F,handler:O})}}]),P}(h.default);E.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},E.sources={API:"api",SILENT:"silent",USER:"user"},r.default=E},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});function a(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}var u=function f(h){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,f),this.quill=h,this.options=m};u.DEFAULTS={},r.default=u},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=["error","warn","log","info"],u="warn";function f(m){if(a.indexOf(m)<=a.indexOf(u)){for(var v,g=arguments.length,d=Array(g>1?g-1:0),y=1;y<g;y++)d[y-1]=arguments[y];(v=console)[m].apply(v,d)}}function h(m){return a.reduce(function(v,g){return v[g]=f.bind(console,g,m),v},{})}f.level=h.level=function(m){u=m},r.default=h},function(t,r,o){var a=Array.prototype.slice,u=o(52),f=o(53),h=t.exports=function(d,y,w){return w||(w={}),d===y?!0:d instanceof Date&&y instanceof Date?d.getTime()===y.getTime():!d||!y||typeof d!="object"&&typeof y!="object"?w.strict?d===y:d==y:g(d,y,w)};function m(d){return d==null}function v(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function g(d,y,w){var T,_;if(m(d)||m(y)||d.prototype!==y.prototype)return!1;if(f(d))return f(y)?(d=a.call(d),y=a.call(y),h(d,y,w)):!1;if(v(d)){if(!v(y)||d.length!==y.length)return!1;for(T=0;T<d.length;T++)if(d[T]!==y[T])return!1;return!0}try{var E=u(d),S=u(y)}catch{return!1}if(E.length!=S.length)return!1;for(E.sort(),S.sort(),T=E.length-1;T>=0;T--)if(E[T]!=S[T])return!1;for(T=E.length-1;T>=0;T--)if(_=E[T],!h(d[_],y[_],w))return!1;return typeof d==typeof y}},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(1),u=function(){function f(h,m,v){v===void 0&&(v={}),this.attrName=h,this.keyName=m;var g=a.Scope.TYPE&a.Scope.ATTRIBUTE;v.scope!=null?this.scope=v.scope&a.Scope.LEVEL|g:this.scope=a.Scope.ATTRIBUTE,v.whitelist!=null&&(this.whitelist=v.whitelist)}return f.keys=function(h){return[].map.call(h.attributes,function(m){return m.name})},f.prototype.add=function(h,m){return this.canAdd(h,m)?(h.setAttribute(this.keyName,m),!0):!1},f.prototype.canAdd=function(h,m){var v=a.query(h,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return v==null?!1:this.whitelist==null?!0:typeof m=="string"?this.whitelist.indexOf(m.replace(/["']/g,""))>-1:this.whitelist.indexOf(m)>-1},f.prototype.remove=function(h){h.removeAttribute(this.keyName)},f.prototype.value=function(h){var m=h.getAttribute(this.keyName);return this.canAdd(h,m)&&m?m:""},f}();r.default=u},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var a=function(){function R(N,k){var b=[],D=!0,L=!1,$=void 0;try{for(var G=N[Symbol.iterator](),re;!(D=(re=G.next()).done)&&(b.push(re.value),!(k&&b.length===k));D=!0);}catch(ne){L=!0,$=ne}finally{try{!D&&G.return&&G.return()}finally{if(L)throw $}}return b}return function(N,k){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return R(N,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function R(N,k){for(var b=0;b<k.length;b++){var D=k[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}}return function(N,k,b){return k&&R(N.prototype,k),b&&R(N,b),N}}(),f=function R(N,k,b){N===null&&(N=Function.prototype);var D=Object.getOwnPropertyDescriptor(N,k);if(D===void 0){var L=Object.getPrototypeOf(N);return L===null?void 0:R(L,k,b)}else{if("value"in D)return D.value;var $=D.get;return $===void 0?void 0:$.call(b)}},h=o(2),m=S(h),v=o(0),g=S(v),d=o(4),y=S(d),w=o(6),T=S(w),_=o(7),E=S(_);function S(R){return R&&R.__esModule?R:{default:R}}function P(R,N){if(!(R instanceof N))throw new TypeError("Cannot call a class as a function")}function I(R,N){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:R}function M(R,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);R.prototype=Object.create(N&&N.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(R,N):R.__proto__=N)}var F=function(R){M(N,R);function N(){return P(this,N),I(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return N}(T.default);F.blotName="code",F.tagName="CODE";var O=function(R){M(N,R);function N(){return P(this,N),I(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return u(N,[{key:"delta",value:function(){var b=this,D=this.domNode.textContent;return D.endsWith(`
`)&&(D=D.slice(0,-1)),D.split(`
`).reduce(function(L,$){return L.insert($).insert(`
`,b.formats())},new m.default)}},{key:"format",value:function(b,D){if(!(b===this.statics.blotName&&D)){var L=this.descendant(E.default,this.length()-1),$=a(L,1),G=$[0];G!=null&&G.deleteAt(G.length()-1,1),f(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,b,D)}}},{key:"formatAt",value:function(b,D,L,$){if(D!==0&&!(g.default.query(L,g.default.Scope.BLOCK)==null||L===this.statics.blotName&&$===this.statics.formats(this.domNode))){var G=this.newlineIndex(b);if(!(G<0||G>=b+D)){var re=this.newlineIndex(b,!0)+1,ne=G-re+1,ie=this.isolate(re,ne),Y=ie.next;ie.format(L,$),Y instanceof N&&Y.formatAt(0,b-re+D-ne,L,$)}}}},{key:"insertAt",value:function(b,D,L){if(L==null){var $=this.descendant(E.default,b),G=a($,2),re=G[0],ne=G[1];re.insertAt(ne,D)}}},{key:"length",value:function(){var b=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?b:b+1}},{key:"newlineIndex",value:function(b){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(D)return this.domNode.textContent.slice(0,b).lastIndexOf(`
`);var L=this.domNode.textContent.slice(b).indexOf(`
`);return L>-1?b+L:-1}},{key:"optimize",value:function(b){this.domNode.textContent.endsWith(`
`)||this.appendChild(g.default.create("text",`
`)),f(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,b);var D=this.next;D!=null&&D.prev===this&&D.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===D.statics.formats(D.domNode)&&(D.optimize(b),D.moveChildren(this),D.remove())}},{key:"replace",value:function(b){f(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replace",this).call(this,b),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(D){var L=g.default.find(D);L==null?D.parentNode.removeChild(D):L instanceof g.default.Embed?L.remove():L.unwrap()})}}],[{key:"create",value:function(b){var D=f(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,b);return D.setAttribute("spellcheck",!1),D}},{key:"formats",value:function(){return!0}}]),N}(y.default);O.blotName="code-block",O.tagName="PRE",O.TAB="  ",r.Code=F,r.default=O},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},u=function(){function Y(H,j){var q=[],K=!0,ee=!1,Z=void 0;try{for(var z=H[Symbol.iterator](),X;!(K=(X=z.next()).done)&&(q.push(X.value),!(j&&q.length===j));K=!0);}catch(oe){ee=!0,Z=oe}finally{try{!K&&z.return&&z.return()}finally{if(ee)throw Z}}return q}return function(H,j){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return Y(H,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function Y(H,j){for(var q=0;q<j.length;q++){var K=j[q];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(H,K.key,K)}}return function(H,j,q){return j&&Y(H.prototype,j),q&&Y(H,q),H}}(),h=o(2),m=D(h),v=o(20),g=D(v),d=o(0),y=D(d),w=o(13),T=D(w),_=o(24),E=D(_),S=o(4),P=D(S),I=o(16),M=D(I),F=o(21),O=D(F),R=o(11),N=D(R),k=o(3),b=D(k);function D(Y){return Y&&Y.__esModule?Y:{default:Y}}function L(Y,H,j){return H in Y?Object.defineProperty(Y,H,{value:j,enumerable:!0,configurable:!0,writable:!0}):Y[H]=j,Y}function $(Y,H){if(!(Y instanceof H))throw new TypeError("Cannot call a class as a function")}var G=/^[ -~]*$/,re=function(){function Y(H){$(this,Y),this.scroll=H,this.delta=this.getDelta()}return f(Y,[{key:"applyDelta",value:function(j){var q=this,K=!1;this.scroll.update();var ee=this.scroll.length();return this.scroll.batchStart(),j=ie(j),j.reduce(function(Z,z){var X=z.retain||z.delete||z.insert.length||1,oe=z.attributes||{};if(z.insert!=null){if(typeof z.insert=="string"){var se=z.insert;se.endsWith(`
`)&&K&&(K=!1,se=se.slice(0,-1)),Z>=ee&&!se.endsWith(`
`)&&(K=!0),q.scroll.insertAt(Z,se);var pe=q.scroll.line(Z),be=u(pe,2),De=be[0],Ve=be[1],Ke=(0,b.default)({},(0,S.bubbleFormats)(De));if(De instanceof P.default){var Ye=De.descendant(y.default.Leaf,Ve),Ct=u(Ye,1),mt=Ct[0];Ke=(0,b.default)(Ke,(0,S.bubbleFormats)(mt))}oe=g.default.attributes.diff(Ke,oe)||{}}else if(a(z.insert)==="object"){var he=Object.keys(z.insert)[0];if(he==null)return Z;q.scroll.insertAt(Z,he,z.insert[he])}ee+=X}return Object.keys(oe).forEach(function(me){q.scroll.formatAt(Z,X,me,oe[me])}),Z+X},0),j.reduce(function(Z,z){return typeof z.delete=="number"?(q.scroll.deleteAt(Z,z.delete),Z):Z+(z.retain||z.insert.length||1)},0),this.scroll.batchEnd(),this.update(j)}},{key:"deleteText",value:function(j,q){return this.scroll.deleteAt(j,q),this.update(new m.default().retain(j).delete(q))}},{key:"formatLine",value:function(j,q){var K=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(ee).forEach(function(Z){if(!(K.scroll.whitelist!=null&&!K.scroll.whitelist[Z])){var z=K.scroll.lines(j,Math.max(q,1)),X=q;z.forEach(function(oe){var se=oe.length();if(!(oe instanceof T.default))oe.format(Z,ee[Z]);else{var pe=j-oe.offset(K.scroll),be=oe.newlineIndex(pe+X)-pe+1;oe.formatAt(pe,be,Z,ee[Z])}X-=se})}}),this.scroll.optimize(),this.update(new m.default().retain(j).retain(q,(0,O.default)(ee)))}},{key:"formatText",value:function(j,q){var K=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(ee).forEach(function(Z){K.scroll.formatAt(j,q,Z,ee[Z])}),this.update(new m.default().retain(j).retain(q,(0,O.default)(ee)))}},{key:"getContents",value:function(j,q){return this.delta.slice(j,j+q)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(j,q){return j.concat(q.delta())},new m.default)}},{key:"getFormat",value:function(j){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=[],ee=[];q===0?this.scroll.path(j).forEach(function(z){var X=u(z,1),oe=X[0];oe instanceof P.default?K.push(oe):oe instanceof y.default.Leaf&&ee.push(oe)}):(K=this.scroll.lines(j,q),ee=this.scroll.descendants(y.default.Leaf,j,q));var Z=[K,ee].map(function(z){if(z.length===0)return{};for(var X=(0,S.bubbleFormats)(z.shift());Object.keys(X).length>0;){var oe=z.shift();if(oe==null)return X;X=ne((0,S.bubbleFormats)(oe),X)}return X});return b.default.apply(b.default,Z)}},{key:"getText",value:function(j,q){return this.getContents(j,q).filter(function(K){return typeof K.insert=="string"}).map(function(K){return K.insert}).join("")}},{key:"insertEmbed",value:function(j,q,K){return this.scroll.insertAt(j,q,K),this.update(new m.default().retain(j).insert(L({},q,K)))}},{key:"insertText",value:function(j,q){var K=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return q=q.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(j,q),Object.keys(ee).forEach(function(Z){K.scroll.formatAt(j,q.length,Z,ee[Z])}),this.update(new m.default().retain(j).insert(q,(0,O.default)(ee)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var j=this.scroll.children.head;return j.statics.blotName!==P.default.blotName||j.children.length>1?!1:j.children.head instanceof M.default}},{key:"removeFormat",value:function(j,q){var K=this.getText(j,q),ee=this.scroll.line(j+q),Z=u(ee,2),z=Z[0],X=Z[1],oe=0,se=new m.default;z!=null&&(z instanceof T.default?oe=z.newlineIndex(X)-X+1:oe=z.length()-X,se=z.delta().slice(X,X+oe-1).insert(`
`));var pe=this.getContents(j,q+oe),be=pe.diff(new m.default().insert(K).concat(se)),De=new m.default().retain(j).concat(be);return this.applyDelta(De)}},{key:"update",value:function(j){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ee=this.delta;if(q.length===1&&q[0].type==="characterData"&&q[0].target.data.match(G)&&y.default.find(q[0].target)){var Z=y.default.find(q[0].target),z=(0,S.bubbleFormats)(Z),X=Z.offset(this.scroll),oe=q[0].oldValue.replace(E.default.CONTENTS,""),se=new m.default().insert(oe),pe=new m.default().insert(Z.value()),be=new m.default().retain(X).concat(se.diff(pe,K));j=be.reduce(function(De,Ve){return Ve.insert?De.insert(Ve.insert,z):De.push(Ve)},new m.default),this.delta=ee.compose(j)}else this.delta=this.getDelta(),(!j||!(0,N.default)(ee.compose(j),this.delta))&&(j=ee.diff(this.delta,K));return j}}]),Y}();function ne(Y,H){return Object.keys(H).reduce(function(j,q){return Y[q]==null||(H[q]===Y[q]?j[q]=H[q]:Array.isArray(H[q])?H[q].indexOf(Y[q])<0&&(j[q]=H[q].concat([Y[q]])):j[q]=[H[q],Y[q]]),j},{})}function ie(Y){return Y.reduce(function(H,j){if(j.insert===1){var q=(0,O.default)(j.attributes);return delete q.image,H.insert({image:j.attributes.image},q)}if(j.attributes!=null&&(j.attributes.list===!0||j.attributes.bullet===!0)&&(j=(0,O.default)(j),j.attributes.list?j.attributes.list="ordered":(j.attributes.list="bullet",delete j.attributes.bullet)),typeof j.insert=="string"){var K=j.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return H.insert(K,j.attributes)}return H.push(j)},new m.default)}r.default=re},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var a=function(){function R(N,k){var b=[],D=!0,L=!1,$=void 0;try{for(var G=N[Symbol.iterator](),re;!(D=(re=G.next()).done)&&(b.push(re.value),!(k&&b.length===k));D=!0);}catch(ne){L=!0,$=ne}finally{try{!D&&G.return&&G.return()}finally{if(L)throw $}}return b}return function(N,k){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return R(N,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function R(N,k){for(var b=0;b<k.length;b++){var D=k[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}}return function(N,k,b){return k&&R(N.prototype,k),b&&R(N,b),N}}(),f=o(0),h=E(f),m=o(21),v=E(m),g=o(11),d=E(g),y=o(8),w=E(y),T=o(10),_=E(T);function E(R){return R&&R.__esModule?R:{default:R}}function S(R){if(Array.isArray(R)){for(var N=0,k=Array(R.length);N<R.length;N++)k[N]=R[N];return k}else return Array.from(R)}function P(R,N){if(!(R instanceof N))throw new TypeError("Cannot call a class as a function")}var I=(0,_.default)("quill:selection"),M=function R(N){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;P(this,R),this.index=N,this.length=k},F=function(){function R(N,k){var b=this;P(this,R),this.emitter=k,this.scroll=N,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=h.default.create("cursor",this),this.lastRange=this.savedRange=new M(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){b.mouseDown||setTimeout(b.update.bind(b,w.default.sources.USER),1)}),this.emitter.on(w.default.events.EDITOR_CHANGE,function(D,L){D===w.default.events.TEXT_CHANGE&&L.length()>0&&b.update(w.default.sources.SILENT)}),this.emitter.on(w.default.events.SCROLL_BEFORE_UPDATE,function(){if(b.hasFocus()){var D=b.getNativeRange();D!=null&&D.start.node!==b.cursor.textNode&&b.emitter.once(w.default.events.SCROLL_UPDATE,function(){try{b.setNativeRange(D.start.node,D.start.offset,D.end.node,D.end.offset)}catch{}})}}),this.emitter.on(w.default.events.SCROLL_OPTIMIZE,function(D,L){if(L.range){var $=L.range,G=$.startNode,re=$.startOffset,ne=$.endNode,ie=$.endOffset;b.setNativeRange(G,re,ne,ie)}}),this.update(w.default.sources.SILENT)}return u(R,[{key:"handleComposition",value:function(){var k=this;this.root.addEventListener("compositionstart",function(){k.composing=!0}),this.root.addEventListener("compositionend",function(){if(k.composing=!1,k.cursor.parent){var b=k.cursor.restore();if(!b)return;setTimeout(function(){k.setNativeRange(b.startNode,b.startOffset,b.endNode,b.endOffset)},1)}})}},{key:"handleDragging",value:function(){var k=this;this.emitter.listenDOM("mousedown",document.body,function(){k.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){k.mouseDown=!1,k.update(w.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(k,b){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[k])){this.scroll.update();var D=this.getNativeRange();if(!(D==null||!D.native.collapsed||h.default.query(k,h.default.Scope.BLOCK))){if(D.start.node!==this.cursor.textNode){var L=h.default.find(D.start.node,!1);if(L==null)return;if(L instanceof h.default.Leaf){var $=L.split(D.start.offset);L.parent.insertBefore(this.cursor,$)}else L.insertBefore(this.cursor,D.start.node);this.cursor.attach()}this.cursor.format(k,b),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(k){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=this.scroll.length();k=Math.min(k,D-1),b=Math.min(k+b,D-1)-k;var L=void 0,$=this.scroll.leaf(k),G=a($,2),re=G[0],ne=G[1];if(re==null)return null;var ie=re.position(ne,!0),Y=a(ie,2);L=Y[0],ne=Y[1];var H=document.createRange();if(b>0){H.setStart(L,ne);var j=this.scroll.leaf(k+b),q=a(j,2);if(re=q[0],ne=q[1],re==null)return null;var K=re.position(ne,!0),ee=a(K,2);return L=ee[0],ne=ee[1],H.setEnd(L,ne),H.getBoundingClientRect()}else{var Z="left",z=void 0;return L instanceof Text?(ne<L.data.length?(H.setStart(L,ne),H.setEnd(L,ne+1)):(H.setStart(L,ne-1),H.setEnd(L,ne),Z="right"),z=H.getBoundingClientRect()):(z=re.domNode.getBoundingClientRect(),ne>0&&(Z="right")),{bottom:z.top+z.height,height:z.height,left:z[Z],right:z[Z],top:z.top,width:0}}}},{key:"getNativeRange",value:function(){var k=document.getSelection();if(k==null||k.rangeCount<=0)return null;var b=k.getRangeAt(0);if(b==null)return null;var D=this.normalizeNative(b);return I.info("getNativeRange",D),D}},{key:"getRange",value:function(){var k=this.getNativeRange();if(k==null)return[null,null];var b=this.normalizedToRange(k);return[b,k]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(k){var b=this,D=[[k.start.node,k.start.offset]];k.native.collapsed||D.push([k.end.node,k.end.offset]);var L=D.map(function(re){var ne=a(re,2),ie=ne[0],Y=ne[1],H=h.default.find(ie,!0),j=H.offset(b.scroll);return Y===0?j:H instanceof h.default.Container?j+H.length():j+H.index(ie,Y)}),$=Math.min(Math.max.apply(Math,S(L)),this.scroll.length()-1),G=Math.min.apply(Math,[$].concat(S(L)));return new M(G,$-G)}},{key:"normalizeNative",value:function(k){if(!O(this.root,k.startContainer)||!k.collapsed&&!O(this.root,k.endContainer))return null;var b={start:{node:k.startContainer,offset:k.startOffset},end:{node:k.endContainer,offset:k.endOffset},native:k};return[b.start,b.end].forEach(function(D){for(var L=D.node,$=D.offset;!(L instanceof Text)&&L.childNodes.length>0;)if(L.childNodes.length>$)L=L.childNodes[$],$=0;else if(L.childNodes.length===$)L=L.lastChild,$=L instanceof Text?L.data.length:L.childNodes.length+1;else break;D.node=L,D.offset=$}),b}},{key:"rangeToNative",value:function(k){var b=this,D=k.collapsed?[k.index]:[k.index,k.index+k.length],L=[],$=this.scroll.length();return D.forEach(function(G,re){G=Math.min($-1,G);var ne=void 0,ie=b.scroll.leaf(G),Y=a(ie,2),H=Y[0],j=Y[1],q=H.position(j,re!==0),K=a(q,2);ne=K[0],j=K[1],L.push(ne,j)}),L.length<2&&(L=L.concat(L)),L}},{key:"scrollIntoView",value:function(k){var b=this.lastRange;if(b!=null){var D=this.getBounds(b.index,b.length);if(D!=null){var L=this.scroll.length()-1,$=this.scroll.line(Math.min(b.index,L)),G=a($,1),re=G[0],ne=re;if(b.length>0){var ie=this.scroll.line(Math.min(b.index+b.length,L)),Y=a(ie,1);ne=Y[0]}if(!(re==null||ne==null)){var H=k.getBoundingClientRect();D.top<H.top?k.scrollTop-=H.top-D.top:D.bottom>H.bottom&&(k.scrollTop+=D.bottom-H.bottom)}}}}},{key:"setNativeRange",value:function(k,b){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k,L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:b,$=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(I.info("setNativeRange",k,b,D,L),!(k!=null&&(this.root.parentNode==null||k.parentNode==null||D.parentNode==null))){var G=document.getSelection();if(G!=null)if(k!=null){this.hasFocus()||this.root.focus();var re=(this.getNativeRange()||{}).native;if(re==null||$||k!==re.startContainer||b!==re.startOffset||D!==re.endContainer||L!==re.endOffset){k.tagName=="BR"&&(b=[].indexOf.call(k.parentNode.childNodes,k),k=k.parentNode),D.tagName=="BR"&&(L=[].indexOf.call(D.parentNode.childNodes,D),D=D.parentNode);var ne=document.createRange();ne.setStart(k,b),ne.setEnd(D,L),G.removeAllRanges(),G.addRange(ne)}}else G.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(k){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w.default.sources.API;if(typeof b=="string"&&(D=b,b=!1),I.info("setRange",k),k!=null){var L=this.rangeToNative(k);this.setNativeRange.apply(this,S(L).concat([b]))}else this.setNativeRange(null);this.update(D)}},{key:"update",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w.default.sources.USER,b=this.lastRange,D=this.getRange(),L=a(D,2),$=L[0],G=L[1];if(this.lastRange=$,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(b,this.lastRange)){var re;!this.composing&&G!=null&&G.native.collapsed&&G.start.node!==this.cursor.textNode&&this.cursor.restore();var ne=[w.default.events.SELECTION_CHANGE,(0,v.default)(this.lastRange),(0,v.default)(b),k];if((re=this.emitter).emit.apply(re,[w.default.events.EDITOR_CHANGE].concat(ne)),k!==w.default.sources.SILENT){var ie;(ie=this.emitter).emit.apply(ie,ne)}}}}]),R}();function O(R,N){try{N.parentNode}catch{return!1}return N instanceof Text&&(N=N.parentNode),R.contains(N)}r.Range=M,r.default=F},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function w(T,_){for(var E=0;E<_.length;E++){var S=_[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,_,E){return _&&w(T.prototype,_),E&&w(T,E),T}}(),u=function w(T,_,E){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,_);if(S===void 0){var P=Object.getPrototypeOf(T);return P===null?void 0:w(P,_,E)}else{if("value"in S)return S.value;var I=S.get;return I===void 0?void 0:I.call(E)}},f=o(0),h=m(f);function m(w){return w&&w.__esModule?w:{default:w}}function v(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function g(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:w}function d(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}var y=function(w){d(T,w);function T(){return v(this,T),g(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,[{key:"insertInto",value:function(E,S){E.children.length===0?u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertInto",this).call(this,E,S):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),T}(h.default.Embed);y.blotName="break",y.tagName="BR",r.default=y},function(t,r,o){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var w in y)y.hasOwnProperty(w)&&(d[w]=y[w])};return function(d,y){g(d,y);function w(){this.constructor=d}d.prototype=y===null?Object.create(y):(w.prototype=y.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(44),f=o(30),h=o(1),m=function(g){a(d,g);function d(y){var w=g.call(this,y)||this;return w.build(),w}return d.prototype.appendChild=function(y){this.insertBefore(y)},d.prototype.attach=function(){g.prototype.attach.call(this),this.children.forEach(function(y){y.attach()})},d.prototype.build=function(){var y=this;this.children=new u.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(w){try{var T=v(w);y.insertBefore(T,y.children.head||void 0)}catch(_){if(_ instanceof h.ParchmentError)return;throw _}})},d.prototype.deleteAt=function(y,w){if(y===0&&w===this.length())return this.remove();this.children.forEachAt(y,w,function(T,_,E){T.deleteAt(_,E)})},d.prototype.descendant=function(y,w){var T=this.children.find(w),_=T[0],E=T[1];return y.blotName==null&&y(_)||y.blotName!=null&&_ instanceof y?[_,E]:_ instanceof d?_.descendant(y,E):[null,-1]},d.prototype.descendants=function(y,w,T){w===void 0&&(w=0),T===void 0&&(T=Number.MAX_VALUE);var _=[],E=T;return this.children.forEachAt(w,T,function(S,P,I){(y.blotName==null&&y(S)||y.blotName!=null&&S instanceof y)&&_.push(S),S instanceof d&&(_=_.concat(S.descendants(y,P,E))),E-=I}),_},d.prototype.detach=function(){this.children.forEach(function(y){y.detach()}),g.prototype.detach.call(this)},d.prototype.formatAt=function(y,w,T,_){this.children.forEachAt(y,w,function(E,S,P){E.formatAt(S,P,T,_)})},d.prototype.insertAt=function(y,w,T){var _=this.children.find(y),E=_[0],S=_[1];if(E)E.insertAt(S,w,T);else{var P=T==null?h.create("text",w):h.create(w,T);this.appendChild(P)}},d.prototype.insertBefore=function(y,w){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(T){return y instanceof T}))throw new h.ParchmentError("Cannot insert "+y.statics.blotName+" into "+this.statics.blotName);y.insertInto(this,w)},d.prototype.length=function(){return this.children.reduce(function(y,w){return y+w.length()},0)},d.prototype.moveChildren=function(y,w){this.children.forEach(function(T){y.insertBefore(T,w)})},d.prototype.optimize=function(y){if(g.prototype.optimize.call(this,y),this.children.length===0)if(this.statics.defaultChild!=null){var w=h.create(this.statics.defaultChild);this.appendChild(w),w.optimize(y)}else this.remove()},d.prototype.path=function(y,w){w===void 0&&(w=!1);var T=this.children.find(y,w),_=T[0],E=T[1],S=[[this,y]];return _ instanceof d?S.concat(_.path(E,w)):(_!=null&&S.push([_,E]),S)},d.prototype.removeChild=function(y){this.children.remove(y)},d.prototype.replace=function(y){y instanceof d&&y.moveChildren(this),g.prototype.replace.call(this,y)},d.prototype.split=function(y,w){if(w===void 0&&(w=!1),!w){if(y===0)return this;if(y===this.length())return this.next}var T=this.clone();return this.parent.insertBefore(T,this.next),this.children.forEachAt(y,this.length(),function(_,E,S){_=_.split(E,w),T.appendChild(_)}),T},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(y,w){var T=this,_=[],E=[];y.forEach(function(S){S.target===T.domNode&&S.type==="childList"&&(_.push.apply(_,S.addedNodes),E.push.apply(E,S.removedNodes))}),E.forEach(function(S){if(!(S.parentNode!=null&&S.tagName!=="IFRAME"&&document.body.compareDocumentPosition(S)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var P=h.find(S);P!=null&&(P.domNode.parentNode==null||P.domNode.parentNode===T.domNode)&&P.detach()}}),_.filter(function(S){return S.parentNode==T.domNode}).sort(function(S,P){return S===P?0:S.compareDocumentPosition(P)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(S){var P=null;S.nextSibling!=null&&(P=h.find(S.nextSibling));var I=v(S);(I.next!=P||I.next==null)&&(I.parent!=null&&I.parent.removeChild(T),T.insertBefore(I,P||void 0))})},d}(f.default);function v(g){var d=h.find(g);if(d==null)try{d=h.create(g)}catch{d=h.create(h.Scope.INLINE),[].slice.call(g.childNodes).forEach(function(w){d.domNode.appendChild(w)}),g.parentNode&&g.parentNode.replaceChild(d.domNode,g),d.attach()}return d}r.default=m},function(t,r,o){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var w in y)y.hasOwnProperty(w)&&(d[w]=y[w])};return function(d,y){g(d,y);function w(){this.constructor=d}d.prototype=y===null?Object.create(y):(w.prototype=y.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(12),f=o(31),h=o(17),m=o(1),v=function(g){a(d,g);function d(y){var w=g.call(this,y)||this;return w.attributes=new f.default(w.domNode),w}return d.formats=function(y){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return y.tagName.toLowerCase()},d.prototype.format=function(y,w){var T=m.query(y);T instanceof u.default?this.attributes.attribute(T,w):w&&T!=null&&(y!==this.statics.blotName||this.formats()[y]!==w)&&this.replaceWith(y,w)},d.prototype.formats=function(){var y=this.attributes.values(),w=this.statics.formats(this.domNode);return w!=null&&(y[this.statics.blotName]=w),y},d.prototype.replaceWith=function(y,w){var T=g.prototype.replaceWith.call(this,y,w);return this.attributes.copy(T),T},d.prototype.update=function(y,w){var T=this;g.prototype.update.call(this,y,w),y.some(function(_){return _.target===T.domNode&&_.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(y,w){var T=g.prototype.wrap.call(this,y,w);return T instanceof d&&T.statics.scope===this.statics.scope&&this.attributes.move(T),T},d}(h.default);r.default=v},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var d in g)g.hasOwnProperty(d)&&(v[d]=g[d])};return function(v,g){m(v,g);function d(){this.constructor=v}v.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(30),f=o(1),h=function(m){a(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.value=function(g){return!0},v.prototype.index=function(g,d){return this.domNode===g||this.domNode.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},v.prototype.position=function(g,d){var y=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return g>0&&(y+=1),[this.parent.domNode,y]},v.prototype.value=function(){var g;return g={},g[this.statics.blotName]=this.statics.value(this.domNode)||!0,g},v.scope=f.Scope.INLINE_BLOT,v}(u.default);r.default=h},function(t,r,o){var a=o(11),u=o(3),f={attributes:{compose:function(m,v,g){typeof m!="object"&&(m={}),typeof v!="object"&&(v={});var d=u(!0,{},v);g||(d=Object.keys(d).reduce(function(w,T){return d[T]!=null&&(w[T]=d[T]),w},{}));for(var y in m)m[y]!==void 0&&v[y]===void 0&&(d[y]=m[y]);return Object.keys(d).length>0?d:void 0},diff:function(m,v){typeof m!="object"&&(m={}),typeof v!="object"&&(v={});var g=Object.keys(m).concat(Object.keys(v)).reduce(function(d,y){return a(m[y],v[y])||(d[y]=v[y]===void 0?null:v[y]),d},{});return Object.keys(g).length>0?g:void 0},transform:function(m,v,g){if(typeof m!="object")return v;if(typeof v=="object"){if(!g)return v;var d=Object.keys(v).reduce(function(y,w){return m[w]===void 0&&(y[w]=v[w]),y},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(m){return new h(m)},length:function(m){return typeof m.delete=="number"?m.delete:typeof m.retain=="number"?m.retain:typeof m.insert=="string"?m.insert.length:1}};function h(m){this.ops=m,this.index=0,this.offset=0}h.prototype.hasNext=function(){return this.peekLength()<1/0},h.prototype.next=function(m){m||(m=1/0);var v=this.ops[this.index];if(v){var g=this.offset,d=f.length(v);if(m>=d-g?(m=d-g,this.index+=1,this.offset=0):this.offset+=m,typeof v.delete=="number")return{delete:m};var y={};return v.attributes&&(y.attributes=v.attributes),typeof v.retain=="number"?y.retain=m:typeof v.insert=="string"?y.insert=v.insert.substr(g,m):y.insert=v.insert,y}else return{retain:1/0}},h.prototype.peek=function(){return this.ops[this.index]},h.prototype.peekLength=function(){return this.ops[this.index]?f.length(this.ops[this.index])-this.offset:1/0},h.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},h.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var m=this.offset,v=this.index,g=this.next(),d=this.ops.slice(this.index);return this.offset=m,this.index=v,[g].concat(d)}else return[]},t.exports=f},function(t,r){var o=function(){function a(T,_){return _!=null&&T instanceof _}var u;try{u=Map}catch{u=function(){}}var f;try{f=Set}catch{f=function(){}}var h;try{h=Promise}catch{h=function(){}}function m(T,_,E,S,P){typeof _=="object"&&(E=_.depth,S=_.prototype,P=_.includeNonEnumerable,_=_.circular);var I=[],M=[],F=typeof Buffer<"u";typeof _>"u"&&(_=!0),typeof E>"u"&&(E=1/0);function O(R,N){if(R===null)return null;if(N===0)return R;var k,b;if(typeof R!="object")return R;if(a(R,u))k=new u;else if(a(R,f))k=new f;else if(a(R,h))k=new h(function(H,j){R.then(function(q){H(O(q,N-1))},function(q){j(O(q,N-1))})});else if(m.__isArray(R))k=[];else if(m.__isRegExp(R))k=new RegExp(R.source,w(R)),R.lastIndex&&(k.lastIndex=R.lastIndex);else if(m.__isDate(R))k=new Date(R.getTime());else{if(F&&Buffer.isBuffer(R))return Buffer.allocUnsafe?k=Buffer.allocUnsafe(R.length):k=new Buffer(R.length),R.copy(k),k;a(R,Error)?k=Object.create(R):typeof S>"u"?(b=Object.getPrototypeOf(R),k=Object.create(b)):(k=Object.create(S),b=S)}if(_){var D=I.indexOf(R);if(D!=-1)return M[D];I.push(R),M.push(k)}a(R,u)&&R.forEach(function(H,j){var q=O(j,N-1),K=O(H,N-1);k.set(q,K)}),a(R,f)&&R.forEach(function(H){var j=O(H,N-1);k.add(j)});for(var L in R){var $;b&&($=Object.getOwnPropertyDescriptor(b,L)),!($&&$.set==null)&&(k[L]=O(R[L],N-1))}if(Object.getOwnPropertySymbols)for(var G=Object.getOwnPropertySymbols(R),L=0;L<G.length;L++){var re=G[L],ne=Object.getOwnPropertyDescriptor(R,re);ne&&!ne.enumerable&&!P||(k[re]=O(R[re],N-1),ne.enumerable||Object.defineProperty(k,re,{enumerable:!1}))}if(P)for(var ie=Object.getOwnPropertyNames(R),L=0;L<ie.length;L++){var Y=ie[L],ne=Object.getOwnPropertyDescriptor(R,Y);ne&&ne.enumerable||(k[Y]=O(R[Y],N-1),Object.defineProperty(k,Y,{enumerable:!1}))}return k}return O(T,E)}m.clonePrototype=function(_){if(_===null)return null;var E=function(){};return E.prototype=_,new E};function v(T){return Object.prototype.toString.call(T)}m.__objToStr=v;function g(T){return typeof T=="object"&&v(T)==="[object Date]"}m.__isDate=g;function d(T){return typeof T=="object"&&v(T)==="[object Array]"}m.__isArray=d;function y(T){return typeof T=="object"&&v(T)==="[object RegExp]"}m.__isRegExp=y;function w(T){var _="";return T.global&&(_+="g"),T.ignoreCase&&(_+="i"),T.multiline&&(_+="m"),_}return m.__getRegExpFlags=w,m}();typeof t=="object"&&t.exports&&(t.exports=o)},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function k(b,D){var L=[],$=!0,G=!1,re=void 0;try{for(var ne=b[Symbol.iterator](),ie;!($=(ie=ne.next()).done)&&(L.push(ie.value),!(D&&L.length===D));$=!0);}catch(Y){G=!0,re=Y}finally{try{!$&&ne.return&&ne.return()}finally{if(G)throw re}}return L}return function(b,D){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return k(b,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function k(b,D){for(var L=0;L<D.length;L++){var $=D[L];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(b,$.key,$)}}return function(b,D,L){return D&&k(b.prototype,D),L&&k(b,L),b}}(),f=function k(b,D,L){b===null&&(b=Function.prototype);var $=Object.getOwnPropertyDescriptor(b,D);if($===void 0){var G=Object.getPrototypeOf(b);return G===null?void 0:k(G,D,L)}else{if("value"in $)return $.value;var re=$.get;return re===void 0?void 0:re.call(L)}},h=o(0),m=I(h),v=o(8),g=I(v),d=o(4),y=I(d),w=o(16),T=I(w),_=o(13),E=I(_),S=o(25),P=I(S);function I(k){return k&&k.__esModule?k:{default:k}}function M(k,b){if(!(k instanceof b))throw new TypeError("Cannot call a class as a function")}function F(k,b){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:k}function O(k,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);k.prototype=Object.create(b&&b.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(k,b):k.__proto__=b)}function R(k){return k instanceof y.default||k instanceof d.BlockEmbed}var N=function(k){O(b,k);function b(D,L){M(this,b);var $=F(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,D));return $.emitter=L.emitter,Array.isArray(L.whitelist)&&($.whitelist=L.whitelist.reduce(function(G,re){return G[re]=!0,G},{})),$.domNode.addEventListener("DOMNodeInserted",function(){}),$.optimize(),$.enable(),$}return u(b,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(L,$){var G=this.line(L),re=a(G,2),ne=re[0],ie=re[1],Y=this.line(L+$),H=a(Y,1),j=H[0];if(f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"deleteAt",this).call(this,L,$),j!=null&&ne!==j&&ie>0){if(ne instanceof d.BlockEmbed||j instanceof d.BlockEmbed){this.optimize();return}if(ne instanceof E.default){var q=ne.newlineIndex(ne.length(),!0);if(q>-1&&(ne=ne.split(q+1),ne===j)){this.optimize();return}}else if(j instanceof E.default){var K=j.newlineIndex(0);K>-1&&j.split(K+1)}var ee=j.children.head instanceof T.default?null:j.children.head;ne.moveChildren(j,ee),ne.remove()}this.optimize()}},{key:"enable",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",L)}},{key:"formatAt",value:function(L,$,G,re){this.whitelist!=null&&!this.whitelist[G]||(f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,L,$,G,re),this.optimize())}},{key:"insertAt",value:function(L,$,G){if(!(G!=null&&this.whitelist!=null&&!this.whitelist[$])){if(L>=this.length())if(G==null||m.default.query($,m.default.Scope.BLOCK)==null){var re=m.default.create(this.statics.defaultChild);this.appendChild(re),G==null&&$.endsWith(`
`)&&($=$.slice(0,-1)),re.insertAt(0,$,G)}else{var ne=m.default.create($,G);this.appendChild(ne)}else f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertAt",this).call(this,L,$,G);this.optimize()}}},{key:"insertBefore",value:function(L,$){if(L.statics.scope===m.default.Scope.INLINE_BLOT){var G=m.default.create(this.statics.defaultChild);G.appendChild(L),L=G}f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertBefore",this).call(this,L,$)}},{key:"leaf",value:function(L){return this.path(L).pop()||[null,-1]}},{key:"line",value:function(L){return L===this.length()?this.line(L-1):this.descendant(R,L)}},{key:"lines",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,G=function re(ne,ie,Y){var H=[],j=Y;return ne.children.forEachAt(ie,Y,function(q,K,ee){R(q)?H.push(q):q instanceof m.default.Container&&(H=H.concat(re(q,K,j))),j-=ee}),H};return G(this,L,$)}},{key:"optimize",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,L,$),L.length>0&&this.emitter.emit(g.default.events.SCROLL_OPTIMIZE,L,$))}},{key:"path",value:function(L){return f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"path",this).call(this,L).slice(1)}},{key:"update",value:function(L){if(this.batch!==!0){var $=g.default.sources.USER;typeof L=="string"&&($=L),Array.isArray(L)||(L=this.observer.takeRecords()),L.length>0&&this.emitter.emit(g.default.events.SCROLL_BEFORE_UPDATE,$,L),f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"update",this).call(this,L.concat([])),L.length>0&&this.emitter.emit(g.default.events.SCROLL_UPDATE,$,L)}}}]),b}(m.default.Scroll);N.blotName="scroll",N.className="ql-editor",N.tagName="DIV",N.defaultChild="block",N.allowedChildren=[y.default,d.BlockEmbed,P.default],r.default=N},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},u=function(){function z(X,oe){var se=[],pe=!0,be=!1,De=void 0;try{for(var Ve=X[Symbol.iterator](),Ke;!(pe=(Ke=Ve.next()).done)&&(se.push(Ke.value),!(oe&&se.length===oe));pe=!0);}catch(Ye){be=!0,De=Ye}finally{try{!pe&&Ve.return&&Ve.return()}finally{if(be)throw De}}return se}return function(X,oe){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return z(X,oe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function z(X,oe){for(var se=0;se<oe.length;se++){var pe=oe[se];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(X,pe.key,pe)}}return function(X,oe,se){return oe&&z(X.prototype,oe),se&&z(X,se),X}}(),h=o(21),m=k(h),v=o(11),g=k(v),d=o(3),y=k(d),w=o(2),T=k(w),_=o(20),E=k(_),S=o(0),P=k(S),I=o(5),M=k(I),F=o(10),O=k(F),R=o(9),N=k(R);function k(z){return z&&z.__esModule?z:{default:z}}function b(z,X,oe){return X in z?Object.defineProperty(z,X,{value:oe,enumerable:!0,configurable:!0,writable:!0}):z[X]=oe,z}function D(z,X){if(!(z instanceof X))throw new TypeError("Cannot call a class as a function")}function L(z,X){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X&&(typeof X=="object"||typeof X=="function")?X:z}function $(z,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof X);z.prototype=Object.create(X&&X.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf(z,X):z.__proto__=X)}var G=(0,O.default)("quill:keyboard"),re=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",ne=function(z){$(X,z),f(X,null,[{key:"match",value:function(se,pe){return pe=Z(pe),["altKey","ctrlKey","metaKey","shiftKey"].some(function(be){return!!pe[be]!==se[be]&&pe[be]!==null})?!1:pe.key===(se.which||se.keyCode)}}]);function X(oe,se){D(this,X);var pe=L(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,oe,se));return pe.bindings={},Object.keys(pe.options.bindings).forEach(function(be){be==="list autofill"&&oe.scroll.whitelist!=null&&!oe.scroll.whitelist.list||pe.options.bindings[be]&&pe.addBinding(pe.options.bindings[be])}),pe.addBinding({key:X.keys.ENTER,shiftKey:null},q),pe.addBinding({key:X.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(pe.addBinding({key:X.keys.BACKSPACE},{collapsed:!0},Y),pe.addBinding({key:X.keys.DELETE},{collapsed:!0},H)):(pe.addBinding({key:X.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},Y),pe.addBinding({key:X.keys.DELETE},{collapsed:!0,suffix:/^.?$/},H)),pe.addBinding({key:X.keys.BACKSPACE},{collapsed:!1},j),pe.addBinding({key:X.keys.DELETE},{collapsed:!1},j),pe.addBinding({key:X.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},Y),pe.listen(),pe}return f(X,[{key:"addBinding",value:function(se){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},De=Z(se);if(De==null||De.key==null)return G.warn("Attempted to add invalid keyboard binding",De);typeof pe=="function"&&(pe={handler:pe}),typeof be=="function"&&(be={handler:be}),De=(0,y.default)(De,pe,be),this.bindings[De.key]=this.bindings[De.key]||[],this.bindings[De.key].push(De)}},{key:"listen",value:function(){var se=this;this.quill.root.addEventListener("keydown",function(pe){if(!pe.defaultPrevented){var be=pe.which||pe.keyCode,De=(se.bindings[be]||[]).filter(function(ct){return X.match(pe,ct)});if(De.length!==0){var Ve=se.quill.getSelection();if(!(Ve==null||!se.quill.hasFocus())){var Ke=se.quill.getLine(Ve.index),Ye=u(Ke,2),Ct=Ye[0],mt=Ye[1],he=se.quill.getLeaf(Ve.index),me=u(he,2),Se=me[0],Ie=me[1],ye=Ve.length===0?[Se,Ie]:se.quill.getLeaf(Ve.index+Ve.length),Be=u(ye,2),ze=Be[0],We=Be[1],st=Se instanceof P.default.Text?Se.value().slice(0,Ie):"",ut=ze instanceof P.default.Text?ze.value().slice(We):"",nt={collapsed:Ve.length===0,empty:Ve.length===0&&Ct.length()<=1,format:se.quill.getFormat(Ve),offset:mt,prefix:st,suffix:ut},Zi=De.some(function(ct){if(ct.collapsed!=null&&ct.collapsed!==nt.collapsed||ct.empty!=null&&ct.empty!==nt.empty||ct.offset!=null&&ct.offset!==nt.offset)return!1;if(Array.isArray(ct.format)){if(ct.format.every(function(Jt){return nt.format[Jt]==null}))return!1}else if(a(ct.format)==="object"&&!Object.keys(ct.format).every(function(Jt){return ct.format[Jt]===!0?nt.format[Jt]!=null:ct.format[Jt]===!1?nt.format[Jt]==null:(0,g.default)(ct.format[Jt],nt.format[Jt])}))return!1;return ct.prefix!=null&&!ct.prefix.test(nt.prefix)||ct.suffix!=null&&!ct.suffix.test(nt.suffix)?!1:ct.handler.call(se,Ve,nt)!==!0});Zi&&pe.preventDefault()}}}})}}]),X}(N.default);ne.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},ne.DEFAULTS={bindings:{bold:ee("bold"),italic:ee("italic"),underline:ee("underline"),indent:{key:ne.keys.TAB,format:["blockquote","indent","list"],handler:function(X,oe){if(oe.collapsed&&oe.offset!==0)return!0;this.quill.format("indent","+1",M.default.sources.USER)}},outdent:{key:ne.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(X,oe){if(oe.collapsed&&oe.offset!==0)return!0;this.quill.format("indent","-1",M.default.sources.USER)}},"outdent backspace":{key:ne.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(X,oe){oe.format.indent!=null?this.quill.format("indent","-1",M.default.sources.USER):oe.format.list!=null&&this.quill.format("list",!1,M.default.sources.USER)}},"indent code-block":K(!0),"outdent code-block":K(!1),"remove tab":{key:ne.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(X){this.quill.deleteText(X.index-1,1,M.default.sources.USER)}},tab:{key:ne.keys.TAB,handler:function(X){this.quill.history.cutoff();var oe=new T.default().retain(X.index).delete(X.length).insert("	");this.quill.updateContents(oe,M.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(X.index+1,M.default.sources.SILENT)}},"list empty enter":{key:ne.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(X,oe){this.quill.format("list",!1,M.default.sources.USER),oe.format.indent&&this.quill.format("indent",!1,M.default.sources.USER)}},"checklist enter":{key:ne.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(X){var oe=this.quill.getLine(X.index),se=u(oe,2),pe=se[0],be=se[1],De=(0,y.default)({},pe.formats(),{list:"checked"}),Ve=new T.default().retain(X.index).insert(`
`,De).retain(pe.length()-be-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ve,M.default.sources.USER),this.quill.setSelection(X.index+1,M.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:ne.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(X,oe){var se=this.quill.getLine(X.index),pe=u(se,2),be=pe[0],De=pe[1],Ve=new T.default().retain(X.index).insert(`
`,oe.format).retain(be.length()-De-1).retain(1,{header:null});this.quill.updateContents(Ve,M.default.sources.USER),this.quill.setSelection(X.index+1,M.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(X,oe){var se=oe.prefix.length,pe=this.quill.getLine(X.index),be=u(pe,2),De=be[0],Ve=be[1];if(Ve>se)return!0;var Ke=void 0;switch(oe.prefix.trim()){case"[]":case"[ ]":Ke="unchecked";break;case"[x]":Ke="checked";break;case"-":case"*":Ke="bullet";break;default:Ke="ordered"}this.quill.insertText(X.index," ",M.default.sources.USER),this.quill.history.cutoff();var Ye=new T.default().retain(X.index-Ve).delete(se+1).retain(De.length()-2-Ve).retain(1,{list:Ke});this.quill.updateContents(Ye,M.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(X.index-se,M.default.sources.SILENT)}},"code exit":{key:ne.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(X){var oe=this.quill.getLine(X.index),se=u(oe,2),pe=se[0],be=se[1],De=new T.default().retain(X.index+pe.length()-be-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(De,M.default.sources.USER)}},"embed left":ie(ne.keys.LEFT,!1),"embed left shift":ie(ne.keys.LEFT,!0),"embed right":ie(ne.keys.RIGHT,!1),"embed right shift":ie(ne.keys.RIGHT,!0)}};function ie(z,X){var oe,se=z===ne.keys.LEFT?"prefix":"suffix";return oe={key:z,shiftKey:X,altKey:null},b(oe,se,/^$/),b(oe,"handler",function(be){var De=be.index;z===ne.keys.RIGHT&&(De+=be.length+1);var Ve=this.quill.getLeaf(De),Ke=u(Ve,1),Ye=Ke[0];return Ye instanceof P.default.Embed?(z===ne.keys.LEFT?X?this.quill.setSelection(be.index-1,be.length+1,M.default.sources.USER):this.quill.setSelection(be.index-1,M.default.sources.USER):X?this.quill.setSelection(be.index,be.length+1,M.default.sources.USER):this.quill.setSelection(be.index+be.length+1,M.default.sources.USER),!1):!0}),oe}function Y(z,X){if(!(z.index===0||this.quill.getLength()<=1)){var oe=this.quill.getLine(z.index),se=u(oe,1),pe=se[0],be={};if(X.offset===0){var De=this.quill.getLine(z.index-1),Ve=u(De,1),Ke=Ve[0];if(Ke!=null&&Ke.length()>1){var Ye=pe.formats(),Ct=this.quill.getFormat(z.index-1,1);be=E.default.attributes.diff(Ye,Ct)||{}}}var mt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(X.prefix)?2:1;this.quill.deleteText(z.index-mt,mt,M.default.sources.USER),Object.keys(be).length>0&&this.quill.formatLine(z.index-mt,mt,be,M.default.sources.USER),this.quill.focus()}}function H(z,X){var oe=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(X.suffix)?2:1;if(!(z.index>=this.quill.getLength()-oe)){var se={},pe=0,be=this.quill.getLine(z.index),De=u(be,1),Ve=De[0];if(X.offset>=Ve.length()-1){var Ke=this.quill.getLine(z.index+1),Ye=u(Ke,1),Ct=Ye[0];if(Ct){var mt=Ve.formats(),he=this.quill.getFormat(z.index,1);se=E.default.attributes.diff(mt,he)||{},pe=Ct.length()}}this.quill.deleteText(z.index,oe,M.default.sources.USER),Object.keys(se).length>0&&this.quill.formatLine(z.index+pe-1,oe,se,M.default.sources.USER)}}function j(z){var X=this.quill.getLines(z),oe={};if(X.length>1){var se=X[0].formats(),pe=X[X.length-1].formats();oe=E.default.attributes.diff(pe,se)||{}}this.quill.deleteText(z,M.default.sources.USER),Object.keys(oe).length>0&&this.quill.formatLine(z.index,1,oe,M.default.sources.USER),this.quill.setSelection(z.index,M.default.sources.SILENT),this.quill.focus()}function q(z,X){var oe=this;z.length>0&&this.quill.scroll.deleteAt(z.index,z.length);var se=Object.keys(X.format).reduce(function(pe,be){return P.default.query(be,P.default.Scope.BLOCK)&&!Array.isArray(X.format[be])&&(pe[be]=X.format[be]),pe},{});this.quill.insertText(z.index,`
`,se,M.default.sources.USER),this.quill.setSelection(z.index+1,M.default.sources.SILENT),this.quill.focus(),Object.keys(X.format).forEach(function(pe){se[pe]==null&&(Array.isArray(X.format[pe])||pe!=="link"&&oe.quill.format(pe,X.format[pe],M.default.sources.USER))})}function K(z){return{key:ne.keys.TAB,shiftKey:!z,format:{"code-block":!0},handler:function(oe){var se=P.default.query("code-block"),pe=oe.index,be=oe.length,De=this.quill.scroll.descendant(se,pe),Ve=u(De,2),Ke=Ve[0],Ye=Ve[1];if(Ke!=null){var Ct=this.quill.getIndex(Ke),mt=Ke.newlineIndex(Ye,!0)+1,he=Ke.newlineIndex(Ct+Ye+be),me=Ke.domNode.textContent.slice(mt,he).split(`
`);Ye=0,me.forEach(function(Se,Ie){z?(Ke.insertAt(mt+Ye,se.TAB),Ye+=se.TAB.length,Ie===0?pe+=se.TAB.length:be+=se.TAB.length):Se.startsWith(se.TAB)&&(Ke.deleteAt(mt+Ye,se.TAB.length),Ye-=se.TAB.length,Ie===0?pe-=se.TAB.length:be-=se.TAB.length),Ye+=Se.length+1}),this.quill.update(M.default.sources.USER),this.quill.setSelection(pe,be,M.default.sources.SILENT)}}}}function ee(z){return{key:z[0].toUpperCase(),shortKey:!0,handler:function(oe,se){this.quill.format(z,!se.format[z],M.default.sources.USER)}}}function Z(z){if(typeof z=="string"||typeof z=="number")return Z({key:z});if((typeof z>"u"?"undefined":a(z))==="object"&&(z=(0,m.default)(z,!1)),typeof z.key=="string")if(ne.keys[z.key.toUpperCase()]!=null)z.key=ne.keys[z.key.toUpperCase()];else if(z.key.length===1)z.key=z.key.toUpperCase().charCodeAt(0);else return null;return z.shortKey&&(z[re]=z.shortKey,delete z.shortKey),z}r.default=ne,r.SHORTKEY=re},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function E(S,P){var I=[],M=!0,F=!1,O=void 0;try{for(var R=S[Symbol.iterator](),N;!(M=(N=R.next()).done)&&(I.push(N.value),!(P&&I.length===P));M=!0);}catch(k){F=!0,O=k}finally{try{!M&&R.return&&R.return()}finally{if(F)throw O}}return I}return function(S,P){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return E(S,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function E(S,P,I){S===null&&(S=Function.prototype);var M=Object.getOwnPropertyDescriptor(S,P);if(M===void 0){var F=Object.getPrototypeOf(S);return F===null?void 0:E(F,P,I)}else{if("value"in M)return M.value;var O=M.get;return O===void 0?void 0:O.call(I)}},f=function(){function E(S,P){for(var I=0;I<P.length;I++){var M=P[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(S,M.key,M)}}return function(S,P,I){return P&&E(S.prototype,P),I&&E(S,I),S}}(),h=o(0),m=d(h),v=o(7),g=d(v);function d(E){return E&&E.__esModule?E:{default:E}}function y(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function w(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function T(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var _=function(E){T(S,E),f(S,null,[{key:"value",value:function(){}}]);function S(P,I){y(this,S);var M=w(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,P));return M.selection=I,M.textNode=document.createTextNode(S.CONTENTS),M.domNode.appendChild(M.textNode),M._length=0,M}return f(S,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(I,M){if(this._length!==0)return u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,I,M);for(var F=this,O=0;F!=null&&F.statics.scope!==m.default.Scope.BLOCK_BLOT;)O+=F.offset(F.parent),F=F.parent;F!=null&&(this._length=S.CONTENTS.length,F.optimize(),F.formatAt(O,S.CONTENTS.length,I,M),this._length=0)}},{key:"index",value:function(I,M){return I===this.textNode?0:u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"index",this).call(this,I,M)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var I=this.textNode,M=this.selection.getNativeRange(),F=void 0,O=void 0,R=void 0;if(M!=null&&M.start.node===I&&M.end.node===I){var N=[I,M.start.offset,M.end.offset];F=N[0],O=N[1],R=N[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==S.CONTENTS){var k=this.textNode.data.split(S.CONTENTS).join("");this.next instanceof g.default?(F=this.next.domNode,this.next.insertAt(0,k),this.textNode.data=S.CONTENTS):(this.textNode.data=k,this.parent.insertBefore(m.default.create(this.textNode),this),this.textNode=document.createTextNode(S.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),O!=null){var b=[O,R].map(function(L){return Math.max(0,Math.min(F.data.length,L-1))}),D=a(b,2);return O=D[0],R=D[1],{startNode:F,startOffset:O,endNode:F,endOffset:R}}}}},{key:"update",value:function(I,M){var F=this;if(I.some(function(R){return R.type==="characterData"&&R.target===F.textNode})){var O=this.restore();O&&(M.range=O)}}},{key:"value",value:function(){return""}}]),S}(m.default.Embed);_.blotName="cursor",_.className="ql-cursor",_.tagName="span",_.CONTENTS="\uFEFF",r.default=_},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),u=m(a),f=o(4),h=m(f);function m(w){return w&&w.__esModule?w:{default:w}}function v(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function g(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:w}function d(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}var y=function(w){d(T,w);function T(){return v(this,T),g(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return T}(u.default.Container);y.allowedChildren=[h.default,f.BlockEmbed,y],r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var a=function(){function _(E,S){for(var P=0;P<S.length;P++){var I=S[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}return function(E,S,P){return S&&_(E.prototype,S),P&&_(E,P),E}}(),u=function _(E,S,P){E===null&&(E=Function.prototype);var I=Object.getOwnPropertyDescriptor(E,S);if(I===void 0){var M=Object.getPrototypeOf(E);return M===null?void 0:_(M,S,P)}else{if("value"in I)return I.value;var F=I.get;return F===void 0?void 0:F.call(P)}},f=o(0),h=m(f);function m(_){return _&&_.__esModule?_:{default:_}}function v(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}function g(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:_}function d(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}var y=function(_){d(E,_);function E(){return v(this,E),g(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"value",value:function(P){var I=u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,P);return I.startsWith("rgb(")?(I=I.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+I.split(",").map(function(M){return("00"+parseInt(M).toString(16)).slice(-2)}).join("")):I}}]),E}(h.default.Attributor.Style),w=new h.default.Attributor.Class("color","ql-color",{scope:h.default.Scope.INLINE}),T=new y("color","color",{scope:h.default.Scope.INLINE});r.ColorAttributor=y,r.ColorClass=w,r.ColorStyle=T},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var a=function(){function T(_,E){for(var S=0;S<E.length;S++){var P=E[S];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}return function(_,E,S){return E&&T(_.prototype,E),S&&T(_,S),_}}(),u=function T(_,E,S){_===null&&(_=Function.prototype);var P=Object.getOwnPropertyDescriptor(_,E);if(P===void 0){var I=Object.getPrototypeOf(_);return I===null?void 0:T(I,E,S)}else{if("value"in P)return P.value;var M=P.get;return M===void 0?void 0:M.call(S)}},f=o(6),h=m(f);function m(T){return T&&T.__esModule?T:{default:T}}function v(T,_){if(!(T instanceof _))throw new TypeError("Cannot call a class as a function")}function g(T,_){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:T}function d(T,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);T.prototype=Object.create(_&&_.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(T,_):T.__proto__=_)}var y=function(T){d(_,T);function _(){return v(this,_),g(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"format",value:function(S,P){if(S!==this.statics.blotName||!P)return u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,S,P);P=this.constructor.sanitize(P),this.domNode.setAttribute("href",P)}}],[{key:"create",value:function(S){var P=u(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,S);return S=this.sanitize(S),P.setAttribute("href",S),P.setAttribute("rel","noopener noreferrer"),P.setAttribute("target","_blank"),P}},{key:"formats",value:function(S){return S.getAttribute("href")}},{key:"sanitize",value:function(S){return w(S,this.PROTOCOL_WHITELIST)?S:this.SANITIZED_URL}}]),_}(h.default);y.blotName="link",y.tagName="A",y.SANITIZED_URL="about:blank",y.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function w(T,_){var E=document.createElement("a");E.href=T;var S=E.href.slice(0,E.href.indexOf(":"));return _.indexOf(S)>-1}r.default=y,r.sanitize=w},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},u=function(){function _(E,S){for(var P=0;P<S.length;P++){var I=S[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}return function(E,S,P){return S&&_(E.prototype,S),P&&_(E,P),E}}(),f=o(23),h=g(f),m=o(107),v=g(m);function g(_){return _&&_.__esModule?_:{default:_}}function d(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}var y=0;function w(_,E){_.setAttribute(E,_.getAttribute(E)!=="true")}var T=function(){function _(E){var S=this;d(this,_),this.select=E,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){S.togglePicker()}),this.label.addEventListener("keydown",function(P){switch(P.keyCode){case h.default.keys.ENTER:S.togglePicker();break;case h.default.keys.ESCAPE:S.escape(),P.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return u(_,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),w(this.label,"aria-expanded"),w(this.options,"aria-hidden")}},{key:"buildItem",value:function(S){var P=this,I=document.createElement("span");return I.tabIndex="0",I.setAttribute("role","button"),I.classList.add("ql-picker-item"),S.hasAttribute("value")&&I.setAttribute("data-value",S.getAttribute("value")),S.textContent&&I.setAttribute("data-label",S.textContent),I.addEventListener("click",function(){P.selectItem(I,!0)}),I.addEventListener("keydown",function(M){switch(M.keyCode){case h.default.keys.ENTER:P.selectItem(I,!0),M.preventDefault();break;case h.default.keys.ESCAPE:P.escape(),M.preventDefault();break}}),I}},{key:"buildLabel",value:function(){var S=document.createElement("span");return S.classList.add("ql-picker-label"),S.innerHTML=v.default,S.tabIndex="0",S.setAttribute("role","button"),S.setAttribute("aria-expanded","false"),this.container.appendChild(S),S}},{key:"buildOptions",value:function(){var S=this,P=document.createElement("span");P.classList.add("ql-picker-options"),P.setAttribute("aria-hidden","true"),P.tabIndex="-1",P.id="ql-picker-options-"+y,y+=1,this.label.setAttribute("aria-controls",P.id),this.options=P,[].slice.call(this.select.options).forEach(function(I){var M=S.buildItem(I);P.appendChild(M),I.selected===!0&&S.selectItem(M)}),this.container.appendChild(P)}},{key:"buildPicker",value:function(){var S=this;[].slice.call(this.select.attributes).forEach(function(P){S.container.setAttribute(P.name,P.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var S=this;this.close(),setTimeout(function(){return S.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(S){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,I=this.container.querySelector(".ql-selected");if(S!==I&&(I!=null&&I.classList.remove("ql-selected"),S!=null&&(S.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(S.parentNode.children,S),S.hasAttribute("data-value")?this.label.setAttribute("data-value",S.getAttribute("data-value")):this.label.removeAttribute("data-value"),S.hasAttribute("data-label")?this.label.setAttribute("data-label",S.getAttribute("data-label")):this.label.removeAttribute("data-label"),P))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var M=document.createEvent("Event");M.initEvent("change",!0,!0),this.select.dispatchEvent(M)}this.close()}}},{key:"update",value:function(){var S=void 0;if(this.select.selectedIndex>-1){var P=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];S=this.select.options[this.select.selectedIndex],this.selectItem(P)}else this.selectItem(null);var I=S!=null&&S!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",I)}}]),_}();r.default=T},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),u=G(a),f=o(5),h=G(f),m=o(4),v=G(m),g=o(16),d=G(g),y=o(25),w=G(y),T=o(24),_=G(T),E=o(35),S=G(E),P=o(6),I=G(P),M=o(22),F=G(M),O=o(7),R=G(O),N=o(55),k=G(N),b=o(42),D=G(b),L=o(23),$=G(L);function G(re){return re&&re.__esModule?re:{default:re}}h.default.register({"blots/block":v.default,"blots/block/embed":m.BlockEmbed,"blots/break":d.default,"blots/container":w.default,"blots/cursor":_.default,"blots/embed":S.default,"blots/inline":I.default,"blots/scroll":F.default,"blots/text":R.default,"modules/clipboard":k.default,"modules/history":D.default,"modules/keyboard":$.default}),u.default.register(v.default,d.default,_.default,I.default,F.default,R.default),r.default=h.default},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(1),u=function(){function f(h){this.domNode=h,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(f.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),f.create=function(h){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var m;return Array.isArray(this.tagName)?(typeof h=="string"&&(h=h.toUpperCase(),parseInt(h).toString()===h&&(h=parseInt(h))),typeof h=="number"?m=document.createElement(this.tagName[h-1]):this.tagName.indexOf(h)>-1?m=document.createElement(h):m=document.createElement(this.tagName[0])):m=document.createElement(this.tagName),this.className&&m.classList.add(this.className),m},f.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},f.prototype.clone=function(){var h=this.domNode.cloneNode(!1);return a.create(h)},f.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},f.prototype.deleteAt=function(h,m){var v=this.isolate(h,m);v.remove()},f.prototype.formatAt=function(h,m,v,g){var d=this.isolate(h,m);if(a.query(v,a.Scope.BLOT)!=null&&g)d.wrap(v,g);else if(a.query(v,a.Scope.ATTRIBUTE)!=null){var y=a.create(this.statics.scope);d.wrap(y),y.format(v,g)}},f.prototype.insertAt=function(h,m,v){var g=v==null?a.create("text",m):a.create(m,v),d=this.split(h);this.parent.insertBefore(g,d)},f.prototype.insertInto=function(h,m){m===void 0&&(m=null),this.parent!=null&&this.parent.children.remove(this);var v=null;h.children.insertBefore(this,m),m!=null&&(v=m.domNode),(this.domNode.parentNode!=h.domNode||this.domNode.nextSibling!=v)&&h.domNode.insertBefore(this.domNode,v),this.parent=h,this.attach()},f.prototype.isolate=function(h,m){var v=this.split(h);return v.split(m),v},f.prototype.length=function(){return 1},f.prototype.offset=function(h){return h===void 0&&(h=this.parent),this.parent==null||this==h?0:this.parent.children.offset(this)+this.parent.offset(h)},f.prototype.optimize=function(h){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},f.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},f.prototype.replace=function(h){h.parent!=null&&(h.parent.insertBefore(this,h.next),h.remove())},f.prototype.replaceWith=function(h,m){var v=typeof h=="string"?a.create(h,m):h;return v.replace(this),v},f.prototype.split=function(h,m){return h===0?this:this.next},f.prototype.update=function(h,m){},f.prototype.wrap=function(h,m){var v=typeof h=="string"?a.create(h,m):h;return this.parent!=null&&this.parent.insertBefore(v,this.next),v.appendChild(this),v},f.blotName="abstract",f}();r.default=u},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(12),u=o(32),f=o(33),h=o(1),m=function(){function v(g){this.attributes={},this.domNode=g,this.build()}return v.prototype.attribute=function(g,d){d?g.add(this.domNode,d)&&(g.value(this.domNode)!=null?this.attributes[g.attrName]=g:delete this.attributes[g.attrName]):(g.remove(this.domNode),delete this.attributes[g.attrName])},v.prototype.build=function(){var g=this;this.attributes={};var d=a.default.keys(this.domNode),y=u.default.keys(this.domNode),w=f.default.keys(this.domNode);d.concat(y).concat(w).forEach(function(T){var _=h.query(T,h.Scope.ATTRIBUTE);_ instanceof a.default&&(g.attributes[_.attrName]=_)})},v.prototype.copy=function(g){var d=this;Object.keys(this.attributes).forEach(function(y){var w=d.attributes[y].value(d.domNode);g.format(y,w)})},v.prototype.move=function(g){var d=this;this.copy(g),Object.keys(this.attributes).forEach(function(y){d.attributes[y].remove(d.domNode)}),this.attributes={}},v.prototype.values=function(){var g=this;return Object.keys(this.attributes).reduce(function(d,y){return d[y]=g.attributes[y].value(g.domNode),d},{})},v}();r.default=m},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var d in g)g.hasOwnProperty(d)&&(v[d]=g[d])};return function(v,g){m(v,g);function d(){this.constructor=v}v.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(12);function f(m,v){var g=m.getAttribute("class")||"";return g.split(/\s+/).filter(function(d){return d.indexOf(v+"-")===0})}var h=function(m){a(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.keys=function(g){return(g.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},v.prototype.add=function(g,d){return this.canAdd(g,d)?(this.remove(g),g.classList.add(this.keyName+"-"+d),!0):!1},v.prototype.remove=function(g){var d=f(g,this.keyName);d.forEach(function(y){g.classList.remove(y)}),g.classList.length===0&&g.removeAttribute("class")},v.prototype.value=function(g){var d=f(g,this.keyName)[0]||"",y=d.slice(this.keyName.length+1);return this.canAdd(g,y)?y:""},v}(u.default);r.default=h},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var d in g)g.hasOwnProperty(d)&&(v[d]=g[d])};return function(v,g){m(v,g);function d(){this.constructor=v}v.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(12);function f(m){var v=m.split("-"),g=v.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return v[0]+g}var h=function(m){a(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.keys=function(g){return(g.getAttribute("style")||"").split(";").map(function(d){var y=d.split(":");return y[0].trim()})},v.prototype.add=function(g,d){return this.canAdd(g,d)?(g.style[f(this.keyName)]=d,!0):!1},v.prototype.remove=function(g){g.style[f(this.keyName)]="",g.getAttribute("style")||g.removeAttribute("style")},v.prototype.value=function(g){var d=g.style[f(this.keyName)];return this.canAdd(g,d)?d:""},v}(u.default);r.default=h},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function h(m,v){for(var g=0;g<v.length;g++){var d=v[g];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(m,d.key,d)}}return function(m,v,g){return v&&h(m.prototype,v),g&&h(m,g),m}}();function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}var f=function(){function h(m,v){u(this,h),this.quill=m,this.options=v,this.modules={}}return a(h,[{key:"init",value:function(){var v=this;Object.keys(this.options.modules).forEach(function(g){v.modules[g]==null&&v.addModule(g)})}},{key:"addModule",value:function(v){var g=this.quill.constructor.import("modules/"+v);return this.modules[v]=new g(this.quill,this.options.modules[v]||{}),this.modules[v]}}]),h}();f.DEFAULTS={modules:{}},f.themes={default:f},r.default=f},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function E(S,P){for(var I=0;I<P.length;I++){var M=P[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(S,M.key,M)}}return function(S,P,I){return P&&E(S.prototype,P),I&&E(S,I),S}}(),u=function E(S,P,I){S===null&&(S=Function.prototype);var M=Object.getOwnPropertyDescriptor(S,P);if(M===void 0){var F=Object.getPrototypeOf(S);return F===null?void 0:E(F,P,I)}else{if("value"in M)return M.value;var O=M.get;return O===void 0?void 0:O.call(I)}},f=o(0),h=g(f),m=o(7),v=g(m);function g(E){return E&&E.__esModule?E:{default:E}}function d(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function y(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function w(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var T="\uFEFF",_=function(E){w(S,E);function S(P){d(this,S);var I=y(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,P));return I.contentNode=document.createElement("span"),I.contentNode.setAttribute("contenteditable",!1),[].slice.call(I.domNode.childNodes).forEach(function(M){I.contentNode.appendChild(M)}),I.leftGuard=document.createTextNode(T),I.rightGuard=document.createTextNode(T),I.domNode.appendChild(I.leftGuard),I.domNode.appendChild(I.contentNode),I.domNode.appendChild(I.rightGuard),I}return a(S,[{key:"index",value:function(I,M){return I===this.leftGuard?0:I===this.rightGuard?1:u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"index",this).call(this,I,M)}},{key:"restore",value:function(I){var M=void 0,F=void 0,O=I.data.split(T).join("");if(I===this.leftGuard)if(this.prev instanceof v.default){var R=this.prev.length();this.prev.insertAt(R,O),M={startNode:this.prev.domNode,startOffset:R+O.length}}else F=document.createTextNode(O),this.parent.insertBefore(h.default.create(F),this),M={startNode:F,startOffset:O.length};else I===this.rightGuard&&(this.next instanceof v.default?(this.next.insertAt(0,O),M={startNode:this.next.domNode,startOffset:O.length}):(F=document.createTextNode(O),this.parent.insertBefore(h.default.create(F),this.next),M={startNode:F,startOffset:O.length}));return I.data=T,M}},{key:"update",value:function(I,M){var F=this;I.forEach(function(O){if(O.type==="characterData"&&(O.target===F.leftGuard||O.target===F.rightGuard)){var R=F.restore(O.target);R&&(M.range=R)}})}}]),S}(h.default.Embed);r.default=_},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var a=o(0),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}var h={scope:u.default.Scope.BLOCK,whitelist:["right","center","justify"]},m=new u.default.Attributor.Attribute("align","align",h),v=new u.default.Attributor.Class("align","ql-align",h),g=new u.default.Attributor.Style("align","text-align",h);r.AlignAttribute=m,r.AlignClass=v,r.AlignStyle=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var a=o(0),u=h(a),f=o(26);function h(g){return g&&g.__esModule?g:{default:g}}var m=new u.default.Attributor.Class("background","ql-bg",{scope:u.default.Scope.INLINE}),v=new f.ColorAttributor("background","background-color",{scope:u.default.Scope.INLINE});r.BackgroundClass=m,r.BackgroundStyle=v},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var a=o(0),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}var h={scope:u.default.Scope.BLOCK,whitelist:["rtl"]},m=new u.default.Attributor.Attribute("direction","dir",h),v=new u.default.Attributor.Class("direction","ql-direction",h),g=new u.default.Attributor.Style("direction","direction",h);r.DirectionAttribute=m,r.DirectionClass=v,r.DirectionStyle=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var a=function(){function E(S,P){for(var I=0;I<P.length;I++){var M=P[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(S,M.key,M)}}return function(S,P,I){return P&&E(S.prototype,P),I&&E(S,I),S}}(),u=function E(S,P,I){S===null&&(S=Function.prototype);var M=Object.getOwnPropertyDescriptor(S,P);if(M===void 0){var F=Object.getPrototypeOf(S);return F===null?void 0:E(F,P,I)}else{if("value"in M)return M.value;var O=M.get;return O===void 0?void 0:O.call(I)}},f=o(0),h=m(f);function m(E){return E&&E.__esModule?E:{default:E}}function v(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function g(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function d(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var y={scope:h.default.Scope.INLINE,whitelist:["serif","monospace"]},w=new h.default.Attributor.Class("font","ql-font",y),T=function(E){d(S,E);function S(){return v(this,S),g(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return a(S,[{key:"value",value:function(I){return u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"value",this).call(this,I).replace(/["']/g,"")}}]),S}(h.default.Attributor.Style),_=new T("font","font-family",y);r.FontStyle=_,r.FontClass=w},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var a=o(0),u=f(a);function f(v){return v&&v.__esModule?v:{default:v}}var h=new u.default.Attributor.Class("size","ql-size",{scope:u.default.Scope.INLINE,whitelist:["small","large","huge"]}),m=new u.default.Attributor.Style("size","font-size",{scope:u.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=h,r.SizeStyle=m},function(t,r,o){t.exports={align:{"":o(76),center:o(77),right:o(78),justify:o(79)},background:o(80),blockquote:o(81),bold:o(82),clean:o(83),code:o(58),"code-block":o(58),color:o(84),direction:{"":o(85),rtl:o(86)},float:{center:o(87),full:o(88),left:o(89),right:o(90)},formula:o(91),header:{1:o(92),2:o(93)},italic:o(94),image:o(95),indent:{"+1":o(96),"-1":o(97)},link:o(98),list:{ordered:o(99),bullet:o(100),check:o(101)},script:{sub:o(102),super:o(103)},strike:o(104),underline:o(105),video:o(106)}},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var a=function(){function P(I,M){for(var F=0;F<M.length;F++){var O=M[F];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(I,O.key,O)}}return function(I,M,F){return M&&P(I.prototype,M),F&&P(I,F),I}}(),u=o(0),f=d(u),h=o(5),m=d(h),v=o(9),g=d(v);function d(P){return P&&P.__esModule?P:{default:P}}function y(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}function w(P,I){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:P}function T(P,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);P.prototype=Object.create(I&&I.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(P,I):P.__proto__=I)}var _=function(P){T(I,P);function I(M,F){y(this,I);var O=w(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,M,F));return O.lastRecorded=0,O.ignoreChange=!1,O.clear(),O.quill.on(m.default.events.EDITOR_CHANGE,function(R,N,k,b){R!==m.default.events.TEXT_CHANGE||O.ignoreChange||(!O.options.userOnly||b===m.default.sources.USER?O.record(N,k):O.transform(N))}),O.quill.keyboard.addBinding({key:"Z",shortKey:!0},O.undo.bind(O)),O.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},O.redo.bind(O)),/Win/i.test(navigator.platform)&&O.quill.keyboard.addBinding({key:"Y",shortKey:!0},O.redo.bind(O)),O}return a(I,[{key:"change",value:function(F,O){if(this.stack[F].length!==0){var R=this.stack[F].pop();this.stack[O].push(R),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(R[F],m.default.sources.USER),this.ignoreChange=!1;var N=S(R[F]);this.quill.setSelection(N)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(F,O){if(F.ops.length!==0){this.stack.redo=[];var R=this.quill.getContents().diff(O),N=Date.now();if(this.lastRecorded+this.options.delay>N&&this.stack.undo.length>0){var k=this.stack.undo.pop();R=R.compose(k.undo),F=k.redo.compose(F)}else this.lastRecorded=N;this.stack.undo.push({redo:F,undo:R}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(F){this.stack.undo.forEach(function(O){O.undo=F.transform(O.undo,!0),O.redo=F.transform(O.redo,!0)}),this.stack.redo.forEach(function(O){O.undo=F.transform(O.undo,!0),O.redo=F.transform(O.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),I}(g.default);_.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function E(P){var I=P.ops[P.ops.length-1];return I==null?!1:I.insert!=null?typeof I.insert=="string"&&I.insert.endsWith(`
`):I.attributes!=null?Object.keys(I.attributes).some(function(M){return f.default.query(M,f.default.Scope.BLOCK)!=null}):!1}function S(P){var I=P.reduce(function(F,O){return F+=O.delete||0,F},0),M=P.length()-I;return E(P)&&(M-=1),M}r.default=_,r.getLastChangeIndex=S},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var a=function(){function q(K,ee){for(var Z=0;Z<ee.length;Z++){var z=ee[Z];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(K,z.key,z)}}return function(K,ee,Z){return ee&&q(K.prototype,ee),Z&&q(K,Z),K}}(),u=function q(K,ee,Z){K===null&&(K=Function.prototype);var z=Object.getOwnPropertyDescriptor(K,ee);if(z===void 0){var X=Object.getPrototypeOf(K);return X===null?void 0:q(X,ee,Z)}else{if("value"in z)return z.value;var oe=z.get;return oe===void 0?void 0:oe.call(Z)}},f=o(3),h=N(f),m=o(2),v=N(m),g=o(8),d=N(g),y=o(23),w=N(y),T=o(34),_=N(T),E=o(59),S=N(E),P=o(60),I=N(P),M=o(28),F=N(M),O=o(61),R=N(O);function N(q){return q&&q.__esModule?q:{default:q}}function k(q,K){if(!(q instanceof K))throw new TypeError("Cannot call a class as a function")}function b(q,K){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:q}function D(q,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);q.prototype=Object.create(K&&K.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(q,K):q.__proto__=K)}var L=[!1,"center","right","justify"],$=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],G=[!1,"serif","monospace"],re=["1","2","3",!1],ne=["small",!1,"large","huge"],ie=function(q){D(K,q);function K(ee,Z){k(this,K);var z=b(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,ee,Z)),X=function oe(se){if(!document.body.contains(ee.root))return document.body.removeEventListener("click",oe);z.tooltip!=null&&!z.tooltip.root.contains(se.target)&&document.activeElement!==z.tooltip.textbox&&!z.quill.hasFocus()&&z.tooltip.hide(),z.pickers!=null&&z.pickers.forEach(function(pe){pe.container.contains(se.target)||pe.close()})};return ee.emitter.listenDOM("click",document.body,X),z}return a(K,[{key:"addModule",value:function(Z){var z=u(K.prototype.__proto__||Object.getPrototypeOf(K.prototype),"addModule",this).call(this,Z);return Z==="toolbar"&&this.extendToolbar(z),z}},{key:"buildButtons",value:function(Z,z){Z.forEach(function(X){var oe=X.getAttribute("class")||"";oe.split(/\s+/).forEach(function(se){if(se.startsWith("ql-")&&(se=se.slice(3),z[se]!=null))if(se==="direction")X.innerHTML=z[se][""]+z[se].rtl;else if(typeof z[se]=="string")X.innerHTML=z[se];else{var pe=X.value||"";pe!=null&&z[se][pe]&&(X.innerHTML=z[se][pe])}})})}},{key:"buildPickers",value:function(Z,z){var X=this;this.pickers=Z.map(function(se){if(se.classList.contains("ql-align"))return se.querySelector("option")==null&&j(se,L),new I.default(se,z.align);if(se.classList.contains("ql-background")||se.classList.contains("ql-color")){var pe=se.classList.contains("ql-background")?"background":"color";return se.querySelector("option")==null&&j(se,$,pe==="background"?"#ffffff":"#000000"),new S.default(se,z[pe])}else return se.querySelector("option")==null&&(se.classList.contains("ql-font")?j(se,G):se.classList.contains("ql-header")?j(se,re):se.classList.contains("ql-size")&&j(se,ne)),new F.default(se)});var oe=function(){X.pickers.forEach(function(pe){pe.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,oe)}}]),K}(_.default);ie.DEFAULTS=(0,h.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var K=this,ee=this.container.querySelector("input.ql-image[type=file]");ee==null&&(ee=document.createElement("input"),ee.setAttribute("type","file"),ee.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ee.classList.add("ql-image"),ee.addEventListener("change",function(){if(ee.files!=null&&ee.files[0]!=null){var Z=new FileReader;Z.onload=function(z){var X=K.quill.getSelection(!0);K.quill.updateContents(new v.default().retain(X.index).delete(X.length).insert({image:z.target.result}),d.default.sources.USER),K.quill.setSelection(X.index+1,d.default.sources.SILENT),ee.value=""},Z.readAsDataURL(ee.files[0])}}),this.container.appendChild(ee)),ee.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Y=function(q){D(K,q);function K(ee,Z){k(this,K);var z=b(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,ee,Z));return z.textbox=z.root.querySelector('input[type="text"]'),z.listen(),z}return a(K,[{key:"listen",value:function(){var Z=this;this.textbox.addEventListener("keydown",function(z){w.default.match(z,"enter")?(Z.save(),z.preventDefault()):w.default.match(z,"escape")&&(Z.cancel(),z.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),z!=null?this.textbox.value=z:Z!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Z)||""),this.root.setAttribute("data-mode",Z)}},{key:"restoreFocus",value:function(){var Z=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Z}},{key:"save",value:function(){var Z=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var z=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Z,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Z,d.default.sources.USER)),this.quill.root.scrollTop=z;break}case"video":Z=H(Z);case"formula":{if(!Z)break;var X=this.quill.getSelection(!0);if(X!=null){var oe=X.index+X.length;this.quill.insertEmbed(oe,this.root.getAttribute("data-mode"),Z,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(oe+1," ",d.default.sources.USER),this.quill.setSelection(oe+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),K}(R.default);function H(q){var K=q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return K?(K[1]||"https")+"://www.youtube.com/embed/"+K[2]+"?showinfo=0":(K=q.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(K[1]||"https")+"://player.vimeo.com/video/"+K[2]+"/":q}function j(q,K){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;K.forEach(function(Z){var z=document.createElement("option");Z===ee?z.setAttribute("selected","selected"):z.setAttribute("value",Z),q.appendChild(z)})}r.BaseTooltip=Y,r.default=ie},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function u(){this.head=this.tail=null,this.length=0}return u.prototype.append=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];this.insertBefore(f[0],null),f.length>1&&this.append.apply(this,f.slice(1))},u.prototype.contains=function(f){for(var h,m=this.iterator();h=m();)if(h===f)return!0;return!1},u.prototype.insertBefore=function(f,h){f&&(f.next=h,h!=null?(f.prev=h.prev,h.prev!=null&&(h.prev.next=f),h.prev=f,h===this.head&&(this.head=f)):this.tail!=null?(this.tail.next=f,f.prev=this.tail,this.tail=f):(f.prev=null,this.head=this.tail=f),this.length+=1)},u.prototype.offset=function(f){for(var h=0,m=this.head;m!=null;){if(m===f)return h;h+=m.length(),m=m.next}return-1},u.prototype.remove=function(f){this.contains(f)&&(f.prev!=null&&(f.prev.next=f.next),f.next!=null&&(f.next.prev=f.prev),f===this.head&&(this.head=f.next),f===this.tail&&(this.tail=f.prev),this.length-=1)},u.prototype.iterator=function(f){return f===void 0&&(f=this.head),function(){var h=f;return f!=null&&(f=f.next),h}},u.prototype.find=function(f,h){h===void 0&&(h=!1);for(var m,v=this.iterator();m=v();){var g=m.length();if(f<g||h&&f===g&&(m.next==null||m.next.length()!==0))return[m,f];f-=g}return[null,0]},u.prototype.forEach=function(f){for(var h,m=this.iterator();h=m();)f(h)},u.prototype.forEachAt=function(f,h,m){if(!(h<=0))for(var v=this.find(f),g=v[0],d=v[1],y,w=f-d,T=this.iterator(g);(y=T())&&w<f+h;){var _=y.length();f>w?m(y,f-w,Math.min(h,w+_-f)):m(y,0,Math.min(_,f+h-w)),w+=_}},u.prototype.map=function(f){return this.reduce(function(h,m){return h.push(f(m)),h},[])},u.prototype.reduce=function(f,h){for(var m,v=this.iterator();m=v();)h=f(h,m);return h},u}();r.default=a},function(t,r,o){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var w in y)y.hasOwnProperty(w)&&(d[w]=y[w])};return function(d,y){g(d,y);function w(){this.constructor=d}d.prototype=y===null?Object.create(y):(w.prototype=y.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(17),f=o(1),h={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},m=100,v=function(g){a(d,g);function d(y){var w=g.call(this,y)||this;return w.scroll=w,w.observer=new MutationObserver(function(T){w.update(T)}),w.observer.observe(w.domNode,h),w.attach(),w}return d.prototype.detach=function(){g.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(y,w){this.update(),y===0&&w===this.length()?this.children.forEach(function(T){T.remove()}):g.prototype.deleteAt.call(this,y,w)},d.prototype.formatAt=function(y,w,T,_){this.update(),g.prototype.formatAt.call(this,y,w,T,_)},d.prototype.insertAt=function(y,w,T){this.update(),g.prototype.insertAt.call(this,y,w,T)},d.prototype.optimize=function(y,w){var T=this;y===void 0&&(y=[]),w===void 0&&(w={}),g.prototype.optimize.call(this,w);for(var _=[].slice.call(this.observer.takeRecords());_.length>0;)y.push(_.pop());for(var E=function(M,F){F===void 0&&(F=!0),!(M==null||M===T)&&M.domNode.parentNode!=null&&(M.domNode[f.DATA_KEY].mutations==null&&(M.domNode[f.DATA_KEY].mutations=[]),F&&E(M.parent))},S=function(M){M.domNode[f.DATA_KEY]==null||M.domNode[f.DATA_KEY].mutations==null||(M instanceof u.default&&M.children.forEach(S),M.optimize(w))},P=y,I=0;P.length>0;I+=1){if(I>=m)throw new Error("[Parchment] Maximum optimize iterations reached");for(P.forEach(function(M){var F=f.find(M.target,!0);F!=null&&(F.domNode===M.target&&(M.type==="childList"?(E(f.find(M.previousSibling,!1)),[].forEach.call(M.addedNodes,function(O){var R=f.find(O,!1);E(R,!1),R instanceof u.default&&R.children.forEach(function(N){E(N,!1)})})):M.type==="attributes"&&E(F.prev)),E(F))}),this.children.forEach(S),P=[].slice.call(this.observer.takeRecords()),_=P.slice();_.length>0;)y.push(_.pop())}},d.prototype.update=function(y,w){var T=this;w===void 0&&(w={}),y=y||this.observer.takeRecords(),y.map(function(_){var E=f.find(_.target,!0);return E==null?null:E.domNode[f.DATA_KEY].mutations==null?(E.domNode[f.DATA_KEY].mutations=[_],E):(E.domNode[f.DATA_KEY].mutations.push(_),null)}).forEach(function(_){_==null||_===T||_.domNode[f.DATA_KEY]==null||_.update(_.domNode[f.DATA_KEY].mutations||[],w)}),this.domNode[f.DATA_KEY].mutations!=null&&g.prototype.update.call(this,this.domNode[f.DATA_KEY].mutations,w),this.optimize(y,w)},d.blotName="scroll",d.defaultChild="block",d.scope=f.Scope.BLOCK_BLOT,d.tagName="DIV",d}(u.default);r.default=v},function(t,r,o){var a=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var y in d)d.hasOwnProperty(y)&&(g[y]=d[y])};return function(g,d){v(g,d);function y(){this.constructor=g}g.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(18),f=o(1);function h(v,g){if(Object.keys(v).length!==Object.keys(g).length)return!1;for(var d in v)if(v[d]!==g[d])return!1;return!0}var m=function(v){a(g,v);function g(){return v!==null&&v.apply(this,arguments)||this}return g.formats=function(d){if(d.tagName!==g.tagName)return v.formats.call(this,d)},g.prototype.format=function(d,y){var w=this;d===this.statics.blotName&&!y?(this.children.forEach(function(T){T instanceof u.default||(T=T.wrap(g.blotName,!0)),w.attributes.copy(T)}),this.unwrap()):v.prototype.format.call(this,d,y)},g.prototype.formatAt=function(d,y,w,T){if(this.formats()[w]!=null||f.query(w,f.Scope.ATTRIBUTE)){var _=this.isolate(d,y);_.format(w,T)}else v.prototype.formatAt.call(this,d,y,w,T)},g.prototype.optimize=function(d){v.prototype.optimize.call(this,d);var y=this.formats();if(Object.keys(y).length===0)return this.unwrap();var w=this.next;w instanceof g&&w.prev===this&&h(y,w.formats())&&(w.moveChildren(this),w.remove())},g.blotName="inline",g.scope=f.Scope.INLINE_BLOT,g.tagName="SPAN",g}(u.default);r.default=m},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var d in g)g.hasOwnProperty(d)&&(v[d]=g[d])};return function(v,g){m(v,g);function d(){this.constructor=v}v.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(18),f=o(1),h=function(m){a(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.formats=function(g){var d=f.query(v.blotName).tagName;if(g.tagName!==d)return m.formats.call(this,g)},v.prototype.format=function(g,d){f.query(g,f.Scope.BLOCK)!=null&&(g===this.statics.blotName&&!d?this.replaceWith(v.blotName):m.prototype.format.call(this,g,d))},v.prototype.formatAt=function(g,d,y,w){f.query(y,f.Scope.BLOCK)!=null?this.format(y,w):m.prototype.formatAt.call(this,g,d,y,w)},v.prototype.insertAt=function(g,d,y){if(y==null||f.query(d,f.Scope.INLINE)!=null)m.prototype.insertAt.call(this,g,d,y);else{var w=this.split(g),T=f.create(d,y);w.parent.insertBefore(T,w)}},v.prototype.update=function(g,d){navigator.userAgent.match(/Trident/)?this.build():m.prototype.update.call(this,g,d)},v.blotName="block",v.scope=f.Scope.BLOCK_BLOT,v.tagName="P",v}(u.default);r.default=h},function(t,r,o){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var g in v)v.hasOwnProperty(g)&&(m[g]=v[g])};return function(m,v){h(m,v);function g(){this.constructor=m}m.prototype=v===null?Object.create(v):(g.prototype=v.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(19),f=function(h){a(m,h);function m(){return h!==null&&h.apply(this,arguments)||this}return m.formats=function(v){},m.prototype.format=function(v,g){h.prototype.formatAt.call(this,0,this.length(),v,g)},m.prototype.formatAt=function(v,g,d,y){v===0&&g===this.length()?this.format(d,y):h.prototype.formatAt.call(this,v,g,d,y)},m.prototype.formats=function(){return this.statics.formats(this.domNode)},m}(u.default);r.default=f},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var d in g)g.hasOwnProperty(d)&&(v[d]=g[d])};return function(v,g){m(v,g);function d(){this.constructor=v}v.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(19),f=o(1),h=function(m){a(v,m);function v(g){var d=m.call(this,g)||this;return d.text=d.statics.value(d.domNode),d}return v.create=function(g){return document.createTextNode(g)},v.value=function(g){var d=g.data;return d.normalize&&(d=d.normalize()),d},v.prototype.deleteAt=function(g,d){this.domNode.data=this.text=this.text.slice(0,g)+this.text.slice(g+d)},v.prototype.index=function(g,d){return this.domNode===g?d:-1},v.prototype.insertAt=function(g,d,y){y==null?(this.text=this.text.slice(0,g)+d+this.text.slice(g),this.domNode.data=this.text):m.prototype.insertAt.call(this,g,d,y)},v.prototype.length=function(){return this.text.length},v.prototype.optimize=function(g){m.prototype.optimize.call(this,g),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof v&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},v.prototype.position=function(g,d){return[this.domNode,g]},v.prototype.split=function(g,d){if(d===void 0&&(d=!1),!d){if(g===0)return this;if(g===this.length())return this.next}var y=f.create(this.domNode.splitText(g));return this.parent.insertBefore(y,this.next),this.text=this.statics.value(this.domNode),y},v.prototype.update=function(g,d){var y=this;g.some(function(w){return w.type==="characterData"&&w.target===y.domNode})&&(this.text=this.statics.value(this.domNode))},v.prototype.value=function(){return this.text},v.blotName="text",v.scope=f.Scope.INLINE_BLOT,v}(u.default);r.default=h},function(t,r,o){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var u=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(f,h){return arguments.length>1&&!this.contains(f)==!h?h:u.call(this,f)}}String.prototype.startsWith||(String.prototype.startsWith=function(f,h){return h=h||0,this.substr(h,f.length)===f}),String.prototype.endsWith||(String.prototype.endsWith=function(f,h){var m=this.toString();(typeof h!="number"||!isFinite(h)||Math.floor(h)!==h||h>m.length)&&(h=m.length),h-=f.length;var v=m.indexOf(f,h);return v!==-1&&v===h}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(h){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof h!="function")throw new TypeError("predicate must be a function");for(var m=Object(this),v=m.length>>>0,g=arguments[1],d,y=0;y<v;y++)if(d=m[y],h.call(g,d,y,m))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,r){var o=-1,a=1,u=0;function f(I,M,F){if(I==M)return I?[[u,I]]:[];(F<0||I.length<F)&&(F=null);var O=g(I,M),R=I.substring(0,O);I=I.substring(O),M=M.substring(O),O=d(I,M);var N=I.substring(I.length-O);I=I.substring(0,I.length-O),M=M.substring(0,M.length-O);var k=h(I,M);return R&&k.unshift([u,R]),N&&k.push([u,N]),w(k),F!=null&&(k=E(k,F)),k=S(k),k}function h(I,M){var F;if(!I)return[[a,M]];if(!M)return[[o,I]];var O=I.length>M.length?I:M,R=I.length>M.length?M:I,N=O.indexOf(R);if(N!=-1)return F=[[a,O.substring(0,N)],[u,R],[a,O.substring(N+R.length)]],I.length>M.length&&(F[0][0]=F[2][0]=o),F;if(R.length==1)return[[o,I],[a,M]];var k=y(I,M);if(k){var b=k[0],D=k[1],L=k[2],$=k[3],G=k[4],re=f(b,L),ne=f(D,$);return re.concat([[u,G]],ne)}return m(I,M)}function m(I,M){for(var F=I.length,O=M.length,R=Math.ceil((F+O)/2),N=R,k=2*R,b=new Array(k),D=new Array(k),L=0;L<k;L++)b[L]=-1,D[L]=-1;b[N+1]=0,D[N+1]=0;for(var $=F-O,G=$%2!=0,re=0,ne=0,ie=0,Y=0,H=0;H<R;H++){for(var j=-H+re;j<=H-ne;j+=2){var q=N+j,K;j==-H||j!=H&&b[q-1]<b[q+1]?K=b[q+1]:K=b[q-1]+1;for(var ee=K-j;K<F&&ee<O&&I.charAt(K)==M.charAt(ee);)K++,ee++;if(b[q]=K,K>F)ne+=2;else if(ee>O)re+=2;else if(G){var Z=N+$-j;if(Z>=0&&Z<k&&D[Z]!=-1){var z=F-D[Z];if(K>=z)return v(I,M,K,ee)}}}for(var X=-H+ie;X<=H-Y;X+=2){var Z=N+X,z;X==-H||X!=H&&D[Z-1]<D[Z+1]?z=D[Z+1]:z=D[Z-1]+1;for(var oe=z-X;z<F&&oe<O&&I.charAt(F-z-1)==M.charAt(O-oe-1);)z++,oe++;if(D[Z]=z,z>F)Y+=2;else if(oe>O)ie+=2;else if(!G){var q=N+$-X;if(q>=0&&q<k&&b[q]!=-1){var K=b[q],ee=N+K-q;if(z=F-z,K>=z)return v(I,M,K,ee)}}}}return[[o,I],[a,M]]}function v(I,M,F,O){var R=I.substring(0,F),N=M.substring(0,O),k=I.substring(F),b=M.substring(O),D=f(R,N),L=f(k,b);return D.concat(L)}function g(I,M){if(!I||!M||I.charAt(0)!=M.charAt(0))return 0;for(var F=0,O=Math.min(I.length,M.length),R=O,N=0;F<R;)I.substring(N,R)==M.substring(N,R)?(F=R,N=F):O=R,R=Math.floor((O-F)/2+F);return R}function d(I,M){if(!I||!M||I.charAt(I.length-1)!=M.charAt(M.length-1))return 0;for(var F=0,O=Math.min(I.length,M.length),R=O,N=0;F<R;)I.substring(I.length-R,I.length-N)==M.substring(M.length-R,M.length-N)?(F=R,N=F):O=R,R=Math.floor((O-F)/2+F);return R}function y(I,M){var F=I.length>M.length?I:M,O=I.length>M.length?M:I;if(F.length<4||O.length*2<F.length)return null;function R(ne,ie,Y){for(var H=ne.substring(Y,Y+Math.floor(ne.length/4)),j=-1,q="",K,ee,Z,z;(j=ie.indexOf(H,j+1))!=-1;){var X=g(ne.substring(Y),ie.substring(j)),oe=d(ne.substring(0,Y),ie.substring(0,j));q.length<oe+X&&(q=ie.substring(j-oe,j)+ie.substring(j,j+X),K=ne.substring(0,Y-oe),ee=ne.substring(Y+X),Z=ie.substring(0,j-oe),z=ie.substring(j+X))}return q.length*2>=ne.length?[K,ee,Z,z,q]:null}var N=R(F,O,Math.ceil(F.length/4)),k=R(F,O,Math.ceil(F.length/2)),b;if(!N&&!k)return null;k?N?b=N[4].length>k[4].length?N:k:b=k:b=N;var D,L,$,G;I.length>M.length?(D=b[0],L=b[1],$=b[2],G=b[3]):($=b[0],G=b[1],D=b[2],L=b[3]);var re=b[4];return[D,L,$,G,re]}function w(I){I.push([u,""]);for(var M=0,F=0,O=0,R="",N="",k;M<I.length;)switch(I[M][0]){case a:O++,N+=I[M][1],M++;break;case o:F++,R+=I[M][1],M++;break;case u:F+O>1?(F!==0&&O!==0&&(k=g(N,R),k!==0&&(M-F-O>0&&I[M-F-O-1][0]==u?I[M-F-O-1][1]+=N.substring(0,k):(I.splice(0,0,[u,N.substring(0,k)]),M++),N=N.substring(k),R=R.substring(k)),k=d(N,R),k!==0&&(I[M][1]=N.substring(N.length-k)+I[M][1],N=N.substring(0,N.length-k),R=R.substring(0,R.length-k))),F===0?I.splice(M-O,F+O,[a,N]):O===0?I.splice(M-F,F+O,[o,R]):I.splice(M-F-O,F+O,[o,R],[a,N]),M=M-F-O+(F?1:0)+(O?1:0)+1):M!==0&&I[M-1][0]==u?(I[M-1][1]+=I[M][1],I.splice(M,1)):M++,O=0,F=0,R="",N="";break}I[I.length-1][1]===""&&I.pop();var b=!1;for(M=1;M<I.length-1;)I[M-1][0]==u&&I[M+1][0]==u&&(I[M][1].substring(I[M][1].length-I[M-1][1].length)==I[M-1][1]?(I[M][1]=I[M-1][1]+I[M][1].substring(0,I[M][1].length-I[M-1][1].length),I[M+1][1]=I[M-1][1]+I[M+1][1],I.splice(M-1,1),b=!0):I[M][1].substring(0,I[M+1][1].length)==I[M+1][1]&&(I[M-1][1]+=I[M+1][1],I[M][1]=I[M][1].substring(I[M+1][1].length)+I[M+1][1],I.splice(M+1,1),b=!0)),M++;b&&w(I)}var T=f;T.INSERT=a,T.DELETE=o,T.EQUAL=u,t.exports=T;function _(I,M){if(M===0)return[u,I];for(var F=0,O=0;O<I.length;O++){var R=I[O];if(R[0]===o||R[0]===u){var N=F+R[1].length;if(M===N)return[O+1,I];if(M<N){I=I.slice();var k=M-F,b=[R[0],R[1].slice(0,k)],D=[R[0],R[1].slice(k)];return I.splice(O,1,b,D),[O+1,I]}else F=N}}throw new Error("cursor_pos is out of bounds!")}function E(I,M){var F=_(I,M),O=F[1],R=F[0],N=O[R],k=O[R+1];if(N==null)return I;if(N[0]!==u)return I;if(k!=null&&N[1]+k[1]===k[1]+N[1])return O.splice(R,2,k,N),P(O,R,2);if(k!=null&&k[1].indexOf(N[1])===0){O.splice(R,2,[k[0],N[1]],[0,N[1]]);var b=k[1].slice(N[1].length);return b.length>0&&O.splice(R+2,0,[k[0],b]),P(O,R,3)}else return I}function S(I){for(var M=!1,F=function(k){return k.charCodeAt(0)>=56320&&k.charCodeAt(0)<=57343},O=function(k){return k.charCodeAt(k.length-1)>=55296&&k.charCodeAt(k.length-1)<=56319},R=2;R<I.length;R+=1)I[R-2][0]===u&&O(I[R-2][1])&&I[R-1][0]===o&&F(I[R-1][1])&&I[R][0]===a&&F(I[R][1])&&(M=!0,I[R-1][1]=I[R-2][1].slice(-1)+I[R-1][1],I[R][1]=I[R-2][1].slice(-1)+I[R][1],I[R-2][1]=I[R-2][1].slice(0,-1));if(!M)return I;for(var N=[],R=0;R<I.length;R+=1)I[R][1].length>0&&N.push(I[R]);return N}function P(I,M,F){for(var O=M+F-1;O>=0&&O>=M-1;O--)if(O+1<I.length){var R=I[O],N=I[O+1];R[0]===N[1]&&I.splice(O,2,[R[0],R[1]+N[1]])}return I}},function(t,r){r=t.exports=typeof Object.keys=="function"?Object.keys:o,r.shim=o;function o(a){var u=[];for(var f in a)u.push(f);return u}},function(t,r){var o=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=t.exports=o?a:u,r.supported=a;function a(f){return Object.prototype.toString.call(f)=="[object Arguments]"}r.unsupported=u;function u(f){return f&&typeof f=="object"&&typeof f.length=="number"&&Object.prototype.hasOwnProperty.call(f,"callee")&&!Object.prototype.propertyIsEnumerable.call(f,"callee")||!1}},function(t,r){var o=Object.prototype.hasOwnProperty,a="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(a=!1));function f(m,v,g){this.fn=m,this.context=v,this.once=g||!1}function h(){this._events=new u,this._eventsCount=0}h.prototype.eventNames=function(){var v=[],g,d;if(this._eventsCount===0)return v;for(d in g=this._events)o.call(g,d)&&v.push(a?d.slice(1):d);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(g)):v},h.prototype.listeners=function(v,g){var d=a?a+v:v,y=this._events[d];if(g)return!!y;if(!y)return[];if(y.fn)return[y.fn];for(var w=0,T=y.length,_=new Array(T);w<T;w++)_[w]=y[w].fn;return _},h.prototype.emit=function(v,g,d,y,w,T){var _=a?a+v:v;if(!this._events[_])return!1;var E=this._events[_],S=arguments.length,P,I;if(E.fn){switch(E.once&&this.removeListener(v,E.fn,void 0,!0),S){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,g),!0;case 3:return E.fn.call(E.context,g,d),!0;case 4:return E.fn.call(E.context,g,d,y),!0;case 5:return E.fn.call(E.context,g,d,y,w),!0;case 6:return E.fn.call(E.context,g,d,y,w,T),!0}for(I=1,P=new Array(S-1);I<S;I++)P[I-1]=arguments[I];E.fn.apply(E.context,P)}else{var M=E.length,F;for(I=0;I<M;I++)switch(E[I].once&&this.removeListener(v,E[I].fn,void 0,!0),S){case 1:E[I].fn.call(E[I].context);break;case 2:E[I].fn.call(E[I].context,g);break;case 3:E[I].fn.call(E[I].context,g,d);break;case 4:E[I].fn.call(E[I].context,g,d,y);break;default:if(!P)for(F=1,P=new Array(S-1);F<S;F++)P[F-1]=arguments[F];E[I].fn.apply(E[I].context,P)}}return!0},h.prototype.on=function(v,g,d){var y=new f(g,d||this),w=a?a+v:v;return this._events[w]?this._events[w].fn?this._events[w]=[this._events[w],y]:this._events[w].push(y):(this._events[w]=y,this._eventsCount++),this},h.prototype.once=function(v,g,d){var y=new f(g,d||this,!0),w=a?a+v:v;return this._events[w]?this._events[w].fn?this._events[w]=[this._events[w],y]:this._events[w].push(y):(this._events[w]=y,this._eventsCount++),this},h.prototype.removeListener=function(v,g,d,y){var w=a?a+v:v;if(!this._events[w])return this;if(!g)return--this._eventsCount===0?this._events=new u:delete this._events[w],this;var T=this._events[w];if(T.fn)T.fn===g&&(!y||T.once)&&(!d||T.context===d)&&(--this._eventsCount===0?this._events=new u:delete this._events[w]);else{for(var _=0,E=[],S=T.length;_<S;_++)(T[_].fn!==g||y&&!T[_].once||d&&T[_].context!==d)&&E.push(T[_]);E.length?this._events[w]=E.length===1?E[0]:E:--this._eventsCount===0?this._events=new u:delete this._events[w]}return this},h.prototype.removeAllListeners=function(v){var g;return v?(g=a?a+v:v,this._events[g]&&(--this._eventsCount===0?this._events=new u:delete this._events[g])):(this._events=new u,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prototype.setMaxListeners=function(){return this},h.prefixed=a,h.EventEmitter=h,typeof t<"u"&&(t.exports=h)},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(he){return typeof he}:function(he){return he&&typeof Symbol=="function"&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he},u=function(){function he(me,Se){var Ie=[],ye=!0,Be=!1,ze=void 0;try{for(var We=me[Symbol.iterator](),st;!(ye=(st=We.next()).done)&&(Ie.push(st.value),!(Se&&Ie.length===Se));ye=!0);}catch(ut){Be=!0,ze=ut}finally{try{!ye&&We.return&&We.return()}finally{if(Be)throw ze}}return Ie}return function(me,Se){if(Array.isArray(me))return me;if(Symbol.iterator in Object(me))return he(me,Se);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function he(me,Se){for(var Ie=0;Ie<Se.length;Ie++){var ye=Se[Ie];ye.enumerable=ye.enumerable||!1,ye.configurable=!0,"value"in ye&&(ye.writable=!0),Object.defineProperty(me,ye.key,ye)}}return function(me,Se,Ie){return Se&&he(me.prototype,Se),Ie&&he(me,Ie),me}}(),h=o(3),m=D(h),v=o(2),g=D(v),d=o(0),y=D(d),w=o(5),T=D(w),_=o(10),E=D(_),S=o(9),P=D(S),I=o(36),M=o(37),F=o(13),O=D(F),R=o(26),N=o(38),k=o(39),b=o(40);function D(he){return he&&he.__esModule?he:{default:he}}function L(he,me,Se){return me in he?Object.defineProperty(he,me,{value:Se,enumerable:!0,configurable:!0,writable:!0}):he[me]=Se,he}function $(he,me){if(!(he instanceof me))throw new TypeError("Cannot call a class as a function")}function G(he,me){if(!he)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me&&(typeof me=="object"||typeof me=="function")?me:he}function re(he,me){if(typeof me!="function"&&me!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof me);he.prototype=Object.create(me&&me.prototype,{constructor:{value:he,enumerable:!1,writable:!0,configurable:!0}}),me&&(Object.setPrototypeOf?Object.setPrototypeOf(he,me):he.__proto__=me)}var ne=(0,E.default)("quill:clipboard"),ie="__ql-matcher",Y=[[Node.TEXT_NODE,mt],[Node.TEXT_NODE,Ke],["br",be],[Node.ELEMENT_NODE,Ke],[Node.ELEMENT_NODE,pe],[Node.ELEMENT_NODE,Ye],[Node.ELEMENT_NODE,se],[Node.ELEMENT_NODE,Ct],["li",Ve],["b",oe.bind(oe,"bold")],["i",oe.bind(oe,"italic")],["style",De]],H=[I.AlignAttribute,N.DirectionAttribute].reduce(function(he,me){return he[me.keyName]=me,he},{}),j=[I.AlignStyle,M.BackgroundStyle,R.ColorStyle,N.DirectionStyle,k.FontStyle,b.SizeStyle].reduce(function(he,me){return he[me.keyName]=me,he},{}),q=function(he){re(me,he);function me(Se,Ie){$(this,me);var ye=G(this,(me.__proto__||Object.getPrototypeOf(me)).call(this,Se,Ie));return ye.quill.root.addEventListener("paste",ye.onPaste.bind(ye)),ye.container=ye.quill.addContainer("ql-clipboard"),ye.container.setAttribute("contenteditable",!0),ye.container.setAttribute("tabindex",-1),ye.matchers=[],Y.concat(ye.options.matchers).forEach(function(Be){var ze=u(Be,2),We=ze[0],st=ze[1];!Ie.matchVisual&&st===Ye||ye.addMatcher(We,st)}),ye}return f(me,[{key:"addMatcher",value:function(Ie,ye){this.matchers.push([Ie,ye])}},{key:"convert",value:function(Ie){if(typeof Ie=="string")return this.container.innerHTML=Ie.replace(/\>\r?\n +\</g,"><"),this.convert();var ye=this.quill.getFormat(this.quill.selection.savedRange.index);if(ye[O.default.blotName]){var Be=this.container.innerText;return this.container.innerHTML="",new g.default().insert(Be,L({},O.default.blotName,ye[O.default.blotName]))}var ze=this.prepareMatching(),We=u(ze,2),st=We[0],ut=We[1],nt=X(this.container,st,ut);return Z(nt,`
`)&&nt.ops[nt.ops.length-1].attributes==null&&(nt=nt.compose(new g.default().retain(nt.length()-1).delete(1))),ne.log("convert",this.container.innerHTML,nt),this.container.innerHTML="",nt}},{key:"dangerouslyPasteHTML",value:function(Ie,ye){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T.default.sources.API;if(typeof Ie=="string")this.quill.setContents(this.convert(Ie),ye),this.quill.setSelection(0,T.default.sources.SILENT);else{var ze=this.convert(ye);this.quill.updateContents(new g.default().retain(Ie).concat(ze),Be),this.quill.setSelection(Ie+ze.length(),T.default.sources.SILENT)}}},{key:"onPaste",value:function(Ie){var ye=this;if(!(Ie.defaultPrevented||!this.quill.isEnabled())){var Be=this.quill.getSelection(),ze=new g.default().retain(Be.index),We=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(T.default.sources.SILENT),setTimeout(function(){ze=ze.concat(ye.convert()).delete(Be.length),ye.quill.updateContents(ze,T.default.sources.USER),ye.quill.setSelection(ze.length()-Be.length,T.default.sources.SILENT),ye.quill.scrollingContainer.scrollTop=We,ye.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Ie=this,ye=[],Be=[];return this.matchers.forEach(function(ze){var We=u(ze,2),st=We[0],ut=We[1];switch(st){case Node.TEXT_NODE:Be.push(ut);break;case Node.ELEMENT_NODE:ye.push(ut);break;default:[].forEach.call(Ie.container.querySelectorAll(st),function(nt){nt[ie]=nt[ie]||[],nt[ie].push(ut)});break}}),[ye,Be]}}]),me}(P.default);q.DEFAULTS={matchers:[],matchVisual:!0};function K(he,me,Se){return(typeof me>"u"?"undefined":a(me))==="object"?Object.keys(me).reduce(function(Ie,ye){return K(Ie,ye,me[ye])},he):he.reduce(function(Ie,ye){return ye.attributes&&ye.attributes[me]?Ie.push(ye):Ie.insert(ye.insert,(0,m.default)({},L({},me,Se),ye.attributes))},new g.default)}function ee(he){if(he.nodeType!==Node.ELEMENT_NODE)return{};var me="__ql-computed-style";return he[me]||(he[me]=window.getComputedStyle(he))}function Z(he,me){for(var Se="",Ie=he.ops.length-1;Ie>=0&&Se.length<me.length;--Ie){var ye=he.ops[Ie];if(typeof ye.insert!="string")break;Se=ye.insert+Se}return Se.slice(-1*me.length)===me}function z(he){if(he.childNodes.length===0)return!1;var me=ee(he);return["block","list-item"].indexOf(me.display)>-1}function X(he,me,Se){return he.nodeType===he.TEXT_NODE?Se.reduce(function(Ie,ye){return ye(he,Ie)},new g.default):he.nodeType===he.ELEMENT_NODE?[].reduce.call(he.childNodes||[],function(Ie,ye){var Be=X(ye,me,Se);return ye.nodeType===he.ELEMENT_NODE&&(Be=me.reduce(function(ze,We){return We(ye,ze)},Be),Be=(ye[ie]||[]).reduce(function(ze,We){return We(ye,ze)},Be)),Ie.concat(Be)},new g.default):new g.default}function oe(he,me,Se){return K(Se,he,!0)}function se(he,me){var Se=y.default.Attributor.Attribute.keys(he),Ie=y.default.Attributor.Class.keys(he),ye=y.default.Attributor.Style.keys(he),Be={};return Se.concat(Ie).concat(ye).forEach(function(ze){var We=y.default.query(ze,y.default.Scope.ATTRIBUTE);We!=null&&(Be[We.attrName]=We.value(he),Be[We.attrName])||(We=H[ze],We!=null&&(We.attrName===ze||We.keyName===ze)&&(Be[We.attrName]=We.value(he)||void 0),We=j[ze],We!=null&&(We.attrName===ze||We.keyName===ze)&&(We=j[ze],Be[We.attrName]=We.value(he)||void 0))}),Object.keys(Be).length>0&&(me=K(me,Be)),me}function pe(he,me){var Se=y.default.query(he);if(Se==null)return me;if(Se.prototype instanceof y.default.Embed){var Ie={},ye=Se.value(he);ye!=null&&(Ie[Se.blotName]=ye,me=new g.default().insert(Ie,Se.formats(he)))}else typeof Se.formats=="function"&&(me=K(me,Se.blotName,Se.formats(he)));return me}function be(he,me){return Z(me,`
`)||me.insert(`
`),me}function De(){return new g.default}function Ve(he,me){var Se=y.default.query(he);if(Se==null||Se.blotName!=="list-item"||!Z(me,`
`))return me;for(var Ie=-1,ye=he.parentNode;!ye.classList.contains("ql-clipboard");)(y.default.query(ye)||{}).blotName==="list"&&(Ie+=1),ye=ye.parentNode;return Ie<=0?me:me.compose(new g.default().retain(me.length()-1).retain(1,{indent:Ie}))}function Ke(he,me){return Z(me,`
`)||(z(he)||me.length()>0&&he.nextSibling&&z(he.nextSibling))&&me.insert(`
`),me}function Ye(he,me){if(z(he)&&he.nextElementSibling!=null&&!Z(me,`

`)){var Se=he.offsetHeight+parseFloat(ee(he).marginTop)+parseFloat(ee(he).marginBottom);he.nextElementSibling.offsetTop>he.offsetTop+Se*1.5&&me.insert(`
`)}return me}function Ct(he,me){var Se={},Ie=he.style||{};return Ie.fontStyle&&ee(he).fontStyle==="italic"&&(Se.italic=!0),Ie.fontWeight&&(ee(he).fontWeight.startsWith("bold")||parseInt(ee(he).fontWeight)>=700)&&(Se.bold=!0),Object.keys(Se).length>0&&(me=K(me,Se)),parseFloat(Ie.textIndent||0)>0&&(me=new g.default().insert("	").concat(me)),me}function mt(he,me){var Se=he.data;if(he.parentNode.tagName==="O:P")return me.insert(Se.trim());if(Se.trim().length===0&&he.parentNode.classList.contains("ql-clipboard"))return me;if(!ee(he.parentNode).whiteSpace.startsWith("pre")){var Ie=function(Be,ze){return ze=ze.replace(/[^\u00a0]/g,""),ze.length<1&&Be?" ":ze};Se=Se.replace(/\r\n/g," ").replace(/\n/g," "),Se=Se.replace(/\s\s+/g,Ie.bind(Ie,!0)),(he.previousSibling==null&&z(he.parentNode)||he.previousSibling!=null&&z(he.previousSibling))&&(Se=Se.replace(/^\s+/,Ie.bind(Ie,!1))),(he.nextSibling==null&&z(he.parentNode)||he.nextSibling!=null&&z(he.nextSibling))&&(Se=Se.replace(/\s+$/,Ie.bind(Ie,!1)))}return me.insert(Se)}r.default=q,r.matchAttributor=se,r.matchBlot=pe,r.matchNewline=Ke,r.matchSpacing=Ye,r.matchText=mt},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function w(T,_){for(var E=0;E<_.length;E++){var S=_[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,_,E){return _&&w(T.prototype,_),E&&w(T,E),T}}(),u=function w(T,_,E){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,_);if(S===void 0){var P=Object.getPrototypeOf(T);return P===null?void 0:w(P,_,E)}else{if("value"in S)return S.value;var I=S.get;return I===void 0?void 0:I.call(E)}},f=o(6),h=m(f);function m(w){return w&&w.__esModule?w:{default:w}}function v(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function g(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:w}function d(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}var y=function(w){d(T,w);function T(){return v(this,T),g(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,[{key:"optimize",value:function(E){u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,E),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return u(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),T}(h.default);y.blotName="bold",y.tagName=["STRONG","B"],r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var a=function(){function b(D,L){var $=[],G=!0,re=!1,ne=void 0;try{for(var ie=D[Symbol.iterator](),Y;!(G=(Y=ie.next()).done)&&($.push(Y.value),!(L&&$.length===L));G=!0);}catch(H){re=!0,ne=H}finally{try{!G&&ie.return&&ie.return()}finally{if(re)throw ne}}return $}return function(D,L){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return b(D,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function b(D,L){for(var $=0;$<L.length;$++){var G=L[$];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(D,G.key,G)}}return function(D,L,$){return L&&b(D.prototype,L),$&&b(D,$),D}}(),f=o(2),h=E(f),m=o(0),v=E(m),g=o(5),d=E(g),y=o(10),w=E(y),T=o(9),_=E(T);function E(b){return b&&b.__esModule?b:{default:b}}function S(b,D,L){return D in b?Object.defineProperty(b,D,{value:L,enumerable:!0,configurable:!0,writable:!0}):b[D]=L,b}function P(b,D){if(!(b instanceof D))throw new TypeError("Cannot call a class as a function")}function I(b,D){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:b}function M(b,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);b.prototype=Object.create(D&&D.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(b,D):b.__proto__=D)}var F=(0,w.default)("quill:toolbar"),O=function(b){M(D,b);function D(L,$){P(this,D);var G=I(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,L,$));if(Array.isArray(G.options.container)){var re=document.createElement("div");N(re,G.options.container),L.container.parentNode.insertBefore(re,L.container),G.container=re}else typeof G.options.container=="string"?G.container=document.querySelector(G.options.container):G.container=G.options.container;if(!(G.container instanceof HTMLElement)){var ne;return ne=F.error("Container required for toolbar",G.options),I(G,ne)}return G.container.classList.add("ql-toolbar"),G.controls=[],G.handlers={},Object.keys(G.options.handlers).forEach(function(ie){G.addHandler(ie,G.options.handlers[ie])}),[].forEach.call(G.container.querySelectorAll("button, select"),function(ie){G.attach(ie)}),G.quill.on(d.default.events.EDITOR_CHANGE,function(ie,Y){ie===d.default.events.SELECTION_CHANGE&&G.update(Y)}),G.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var ie=G.quill.selection.getRange(),Y=a(ie,1),H=Y[0];G.update(H)}),G}return u(D,[{key:"addHandler",value:function($,G){this.handlers[$]=G}},{key:"attach",value:function($){var G=this,re=[].find.call($.classList,function(ie){return ie.indexOf("ql-")===0});if(re){if(re=re.slice(3),$.tagName==="BUTTON"&&$.setAttribute("type","button"),this.handlers[re]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[re]==null){F.warn("ignoring attaching to disabled format",re,$);return}if(v.default.query(re)==null){F.warn("ignoring attaching to nonexistent format",re,$);return}}var ne=$.tagName==="SELECT"?"change":"click";$.addEventListener(ne,function(ie){var Y=void 0;if($.tagName==="SELECT"){if($.selectedIndex<0)return;var H=$.options[$.selectedIndex];H.hasAttribute("selected")?Y=!1:Y=H.value||!1}else $.classList.contains("ql-active")?Y=!1:Y=$.value||!$.hasAttribute("value"),ie.preventDefault();G.quill.focus();var j=G.quill.selection.getRange(),q=a(j,1),K=q[0];if(G.handlers[re]!=null)G.handlers[re].call(G,Y);else if(v.default.query(re).prototype instanceof v.default.Embed){if(Y=prompt("Enter "+re),!Y)return;G.quill.updateContents(new h.default().retain(K.index).delete(K.length).insert(S({},re,Y)),d.default.sources.USER)}else G.quill.format(re,Y,d.default.sources.USER);G.update(K)}),this.controls.push([re,$])}}},{key:"update",value:function($){var G=$==null?{}:this.quill.getFormat($);this.controls.forEach(function(re){var ne=a(re,2),ie=ne[0],Y=ne[1];if(Y.tagName==="SELECT"){var H=void 0;if($==null)H=null;else if(G[ie]==null)H=Y.querySelector("option[selected]");else if(!Array.isArray(G[ie])){var j=G[ie];typeof j=="string"&&(j=j.replace(/\"/g,'\\"')),H=Y.querySelector('option[value="'+j+'"]')}H==null?(Y.value="",Y.selectedIndex=-1):H.selected=!0}else if($==null)Y.classList.remove("ql-active");else if(Y.hasAttribute("value")){var q=G[ie]===Y.getAttribute("value")||G[ie]!=null&&G[ie].toString()===Y.getAttribute("value")||G[ie]==null&&!Y.getAttribute("value");Y.classList.toggle("ql-active",q)}else Y.classList.toggle("ql-active",G[ie]!=null)})}}]),D}(_.default);O.DEFAULTS={};function R(b,D,L){var $=document.createElement("button");$.setAttribute("type","button"),$.classList.add("ql-"+D),L!=null&&($.value=L),b.appendChild($)}function N(b,D){Array.isArray(D[0])||(D=[D]),D.forEach(function(L){var $=document.createElement("span");$.classList.add("ql-formats"),L.forEach(function(G){if(typeof G=="string")R($,G);else{var re=Object.keys(G)[0],ne=G[re];Array.isArray(ne)?k($,re,ne):R($,re,ne)}}),b.appendChild($)})}function k(b,D,L){var $=document.createElement("select");$.classList.add("ql-"+D),L.forEach(function(G){var re=document.createElement("option");G!==!1?re.setAttribute("value",G):re.setAttribute("selected","selected"),$.appendChild(re)}),b.appendChild($)}O.DEFAULTS={container:null,handlers:{clean:function(){var D=this,L=this.quill.getSelection();if(L!=null)if(L.length==0){var $=this.quill.getFormat();Object.keys($).forEach(function(G){v.default.query(G,v.default.Scope.INLINE)!=null&&D.quill.format(G,!1)})}else this.quill.removeFormat(L,d.default.sources.USER)},direction:function(D){var L=this.quill.getFormat().align;D==="rtl"&&L==null?this.quill.format("align","right",d.default.sources.USER):!D&&L==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",D,d.default.sources.USER)},indent:function(D){var L=this.quill.getSelection(),$=this.quill.getFormat(L),G=parseInt($.indent||0);if(D==="+1"||D==="-1"){var re=D==="+1"?1:-1;$.direction==="rtl"&&(re*=-1),this.quill.format("indent",G+re,d.default.sources.USER)}},link:function(D){D===!0&&(D=prompt("Enter link URL:")),this.quill.format("link",D,d.default.sources.USER)},list:function(D){var L=this.quill.getSelection(),$=this.quill.getFormat(L);D==="check"?$.list==="checked"||$.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",D,d.default.sources.USER)}}},r.default=O,r.addControls=N},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function w(T,_){for(var E=0;E<_.length;E++){var S=_[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,_,E){return _&&w(T.prototype,_),E&&w(T,E),T}}(),u=function w(T,_,E){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,_);if(S===void 0){var P=Object.getPrototypeOf(T);return P===null?void 0:w(P,_,E)}else{if("value"in S)return S.value;var I=S.get;return I===void 0?void 0:I.call(E)}},f=o(28),h=m(f);function m(w){return w&&w.__esModule?w:{default:w}}function v(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function g(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:w}function d(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}var y=function(w){d(T,w);function T(_,E){v(this,T);var S=g(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,_));return S.label.innerHTML=E,S.container.classList.add("ql-color-picker"),[].slice.call(S.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(P){P.classList.add("ql-primary")}),S}return a(T,[{key:"buildItem",value:function(E){var S=u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"buildItem",this).call(this,E);return S.style.backgroundColor=E.getAttribute("value")||"",S}},{key:"selectItem",value:function(E,S){u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"selectItem",this).call(this,E,S);var P=this.label.querySelector(".ql-color-label"),I=E&&E.getAttribute("data-value")||"";P&&(P.tagName==="line"?P.style.stroke=I:P.style.fill=I)}}]),T}(h.default);r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function w(T,_){for(var E=0;E<_.length;E++){var S=_[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,_,E){return _&&w(T.prototype,_),E&&w(T,E),T}}(),u=function w(T,_,E){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,_);if(S===void 0){var P=Object.getPrototypeOf(T);return P===null?void 0:w(P,_,E)}else{if("value"in S)return S.value;var I=S.get;return I===void 0?void 0:I.call(E)}},f=o(28),h=m(f);function m(w){return w&&w.__esModule?w:{default:w}}function v(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function g(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:w}function d(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}var y=function(w){d(T,w);function T(_,E){v(this,T);var S=g(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,_));return S.container.classList.add("ql-icon-picker"),[].forEach.call(S.container.querySelectorAll(".ql-picker-item"),function(P){P.innerHTML=E[P.getAttribute("data-value")||""]}),S.defaultItem=S.container.querySelector(".ql-selected"),S.selectItem(S.defaultItem),S}return a(T,[{key:"selectItem",value:function(E,S){u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"selectItem",this).call(this,E,S),E=E||this.defaultItem,this.label.innerHTML=E.innerHTML}}]),T}(h.default);r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function h(m,v){for(var g=0;g<v.length;g++){var d=v[g];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(m,d.key,d)}}return function(m,v,g){return v&&h(m.prototype,v),g&&h(m,g),m}}();function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}var f=function(){function h(m,v){var g=this;u(this,h),this.quill=m,this.boundsContainer=v||document.body,this.root=m.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){g.root.style.marginTop=-1*g.quill.root.scrollTop+"px"}),this.hide()}return a(h,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(v){var g=v.left+v.width/2-this.root.offsetWidth/2,d=v.bottom+this.quill.root.scrollTop;this.root.style.left=g+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var y=this.boundsContainer.getBoundingClientRect(),w=this.root.getBoundingClientRect(),T=0;if(w.right>y.right&&(T=y.right-w.right,this.root.style.left=g+T+"px"),w.left<y.left&&(T=y.left-w.left,this.root.style.left=g+T+"px"),w.bottom>y.bottom){var _=w.bottom-w.top,E=v.bottom-v.top+_;this.root.style.top=d-E+"px",this.root.classList.add("ql-flip")}return T}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),h}();r.default=f},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function k(b,D){var L=[],$=!0,G=!1,re=void 0;try{for(var ne=b[Symbol.iterator](),ie;!($=(ie=ne.next()).done)&&(L.push(ie.value),!(D&&L.length===D));$=!0);}catch(Y){G=!0,re=Y}finally{try{!$&&ne.return&&ne.return()}finally{if(G)throw re}}return L}return function(b,D){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return k(b,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function k(b,D,L){b===null&&(b=Function.prototype);var $=Object.getOwnPropertyDescriptor(b,D);if($===void 0){var G=Object.getPrototypeOf(b);return G===null?void 0:k(G,D,L)}else{if("value"in $)return $.value;var re=$.get;return re===void 0?void 0:re.call(L)}},f=function(){function k(b,D){for(var L=0;L<D.length;L++){var $=D[L];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(b,$.key,$)}}return function(b,D,L){return D&&k(b.prototype,D),L&&k(b,L),b}}(),h=o(3),m=P(h),v=o(8),g=P(v),d=o(43),y=P(d),w=o(27),T=P(w),_=o(15),E=o(41),S=P(E);function P(k){return k&&k.__esModule?k:{default:k}}function I(k,b){if(!(k instanceof b))throw new TypeError("Cannot call a class as a function")}function M(k,b){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:k}function F(k,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);k.prototype=Object.create(b&&b.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(k,b):k.__proto__=b)}var O=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],R=function(k){F(b,k);function b(D,L){I(this,b),L.modules.toolbar!=null&&L.modules.toolbar.container==null&&(L.modules.toolbar.container=O);var $=M(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,D,L));return $.quill.container.classList.add("ql-snow"),$}return f(b,[{key:"extendToolbar",value:function(L){L.container.classList.add("ql-snow"),this.buildButtons([].slice.call(L.container.querySelectorAll("button")),S.default),this.buildPickers([].slice.call(L.container.querySelectorAll("select")),S.default),this.tooltip=new N(this.quill,this.options.bounds),L.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function($,G){L.handlers.link.call(L,!G.format.link)})}}]),b}(y.default);R.DEFAULTS=(0,m.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(b){if(b){var D=this.quill.getSelection();if(D==null||D.length==0)return;var L=this.quill.getText(D);/^\S+@\S+\.\S+$/.test(L)&&L.indexOf("mailto:")!==0&&(L="mailto:"+L);var $=this.quill.theme.tooltip;$.edit("link",L)}else this.quill.format("link",!1)}}}}});var N=function(k){F(b,k);function b(D,L){I(this,b);var $=M(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,D,L));return $.preview=$.root.querySelector("a.ql-preview"),$}return f(b,[{key:"listen",value:function(){var L=this;u(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function($){L.root.classList.contains("ql-editing")?L.save():L.edit("link",L.preview.textContent),$.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function($){if(L.linkRange!=null){var G=L.linkRange;L.restoreFocus(),L.quill.formatText(G,"link",!1,g.default.sources.USER),delete L.linkRange}$.preventDefault(),L.hide()}),this.quill.on(g.default.events.SELECTION_CHANGE,function($,G,re){if($!=null){if($.length===0&&re===g.default.sources.USER){var ne=L.quill.scroll.descendant(T.default,$.index),ie=a(ne,2),Y=ie[0],H=ie[1];if(Y!=null){L.linkRange=new _.Range($.index-H,Y.length());var j=T.default.formats(Y.domNode);L.preview.textContent=j,L.preview.setAttribute("href",j),L.show(),L.position(L.quill.getBounds(L.linkRange));return}}else delete L.linkRange;L.hide()}})}},{key:"show",value:function(){u(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),b}(d.BaseTooltip);N.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=R},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(29),u=ye(a),f=o(36),h=o(38),m=o(64),v=o(65),g=ye(v),d=o(66),y=ye(d),w=o(67),T=ye(w),_=o(37),E=o(26),S=o(39),P=o(40),I=o(56),M=ye(I),F=o(68),O=ye(F),R=o(27),N=ye(R),k=o(69),b=ye(k),D=o(70),L=ye(D),$=o(71),G=ye($),re=o(72),ne=ye(re),ie=o(73),Y=ye(ie),H=o(13),j=ye(H),q=o(74),K=ye(q),ee=o(75),Z=ye(ee),z=o(57),X=ye(z),oe=o(41),se=ye(oe),pe=o(28),be=ye(pe),De=o(59),Ve=ye(De),Ke=o(60),Ye=ye(Ke),Ct=o(61),mt=ye(Ct),he=o(108),me=ye(he),Se=o(62),Ie=ye(Se);function ye(Be){return Be&&Be.__esModule?Be:{default:Be}}u.default.register({"attributors/attribute/direction":h.DirectionAttribute,"attributors/class/align":f.AlignClass,"attributors/class/background":_.BackgroundClass,"attributors/class/color":E.ColorClass,"attributors/class/direction":h.DirectionClass,"attributors/class/font":S.FontClass,"attributors/class/size":P.SizeClass,"attributors/style/align":f.AlignStyle,"attributors/style/background":_.BackgroundStyle,"attributors/style/color":E.ColorStyle,"attributors/style/direction":h.DirectionStyle,"attributors/style/font":S.FontStyle,"attributors/style/size":P.SizeStyle},!0),u.default.register({"formats/align":f.AlignClass,"formats/direction":h.DirectionClass,"formats/indent":m.IndentClass,"formats/background":_.BackgroundStyle,"formats/color":E.ColorStyle,"formats/font":S.FontClass,"formats/size":P.SizeClass,"formats/blockquote":g.default,"formats/code-block":j.default,"formats/header":y.default,"formats/list":T.default,"formats/bold":M.default,"formats/code":H.Code,"formats/italic":O.default,"formats/link":N.default,"formats/script":b.default,"formats/strike":L.default,"formats/underline":G.default,"formats/image":ne.default,"formats/video":Y.default,"formats/list/item":w.ListItem,"modules/formula":K.default,"modules/syntax":Z.default,"modules/toolbar":X.default,"themes/bubble":me.default,"themes/snow":Ie.default,"ui/icons":se.default,"ui/picker":be.default,"ui/icon-picker":Ye.default,"ui/color-picker":Ve.default,"ui/tooltip":mt.default},!0),r.default=u.default},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var a=function(){function T(_,E){for(var S=0;S<E.length;S++){var P=E[S];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}return function(_,E,S){return E&&T(_.prototype,E),S&&T(_,S),_}}(),u=function T(_,E,S){_===null&&(_=Function.prototype);var P=Object.getOwnPropertyDescriptor(_,E);if(P===void 0){var I=Object.getPrototypeOf(_);return I===null?void 0:T(I,E,S)}else{if("value"in P)return P.value;var M=P.get;return M===void 0?void 0:M.call(S)}},f=o(0),h=m(f);function m(T){return T&&T.__esModule?T:{default:T}}function v(T,_){if(!(T instanceof _))throw new TypeError("Cannot call a class as a function")}function g(T,_){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:T}function d(T,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);T.prototype=Object.create(_&&_.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(T,_):T.__proto__=_)}var y=function(T){d(_,T);function _(){return v(this,_),g(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"add",value:function(S,P){if(P==="+1"||P==="-1"){var I=this.value(S)||0;P=P==="+1"?I+1:I-1}return P===0?(this.remove(S),!0):u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"add",this).call(this,S,P)}},{key:"canAdd",value:function(S,P){return u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,S,P)||u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,S,parseInt(P))}},{key:"value",value:function(S){return parseInt(u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,S))||void 0}}]),_}(h.default.Attributor.Class),w=new y("indent","ql-indent",{scope:h.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=w},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(4),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function m(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var g=function(d){v(y,d);function y(){return h(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(u.default);g.blotName="blockquote",g.tagName="blockquote",r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function y(w,T){for(var _=0;_<T.length;_++){var E=T[_];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,T,_){return T&&y(w.prototype,T),_&&y(w,_),w}}(),u=o(4),f=h(u);function h(y){return y&&y.__esModule?y:{default:y}}function m(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function v(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function g(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var d=function(y){g(w,y);function w(){return m(this,w),v(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,null,[{key:"formats",value:function(_){return this.tagName.indexOf(_.tagName)+1}}]),w}(f.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],r.default=d},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var a=function(){function I(M,F){for(var O=0;O<F.length;O++){var R=F[O];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(M,R.key,R)}}return function(M,F,O){return F&&I(M.prototype,F),O&&I(M,O),M}}(),u=function I(M,F,O){M===null&&(M=Function.prototype);var R=Object.getOwnPropertyDescriptor(M,F);if(R===void 0){var N=Object.getPrototypeOf(M);return N===null?void 0:I(N,F,O)}else{if("value"in R)return R.value;var k=R.get;return k===void 0?void 0:k.call(O)}},f=o(0),h=y(f),m=o(4),v=y(m),g=o(25),d=y(g);function y(I){return I&&I.__esModule?I:{default:I}}function w(I,M,F){return M in I?Object.defineProperty(I,M,{value:F,enumerable:!0,configurable:!0,writable:!0}):I[M]=F,I}function T(I,M){if(!(I instanceof M))throw new TypeError("Cannot call a class as a function")}function _(I,M){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:I}function E(I,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);I.prototype=Object.create(M&&M.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(I,M):I.__proto__=M)}var S=function(I){E(M,I);function M(){return T(this,M),_(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return a(M,[{key:"format",value:function(O,R){O===P.blotName&&!R?this.replaceWith(h.default.create(this.statics.scope)):u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"format",this).call(this,O,R)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(O,R){return this.parent.isolate(this.offset(this.parent),this.length()),O===this.parent.statics.blotName?(this.parent.replaceWith(O,R),this):(this.parent.unwrap(),u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"replaceWith",this).call(this,O,R))}}],[{key:"formats",value:function(O){return O.tagName===this.tagName?void 0:u(M.__proto__||Object.getPrototypeOf(M),"formats",this).call(this,O)}}]),M}(v.default);S.blotName="list-item",S.tagName="LI";var P=function(I){E(M,I),a(M,null,[{key:"create",value:function(O){var R=O==="ordered"?"OL":"UL",N=u(M.__proto__||Object.getPrototypeOf(M),"create",this).call(this,R);return(O==="checked"||O==="unchecked")&&N.setAttribute("data-checked",O==="checked"),N}},{key:"formats",value:function(O){if(O.tagName==="OL")return"ordered";if(O.tagName==="UL")return O.hasAttribute("data-checked")?O.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function M(F){T(this,M);var O=_(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,F)),R=function(k){if(k.target.parentNode===F){var b=O.statics.formats(F),D=h.default.find(k.target);b==="checked"?D.format("list","unchecked"):b==="unchecked"&&D.format("list","checked")}};return F.addEventListener("touchstart",R),F.addEventListener("mousedown",R),O}return a(M,[{key:"format",value:function(O,R){this.children.length>0&&this.children.tail.format(O,R)}},{key:"formats",value:function(){return w({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(O,R){if(O instanceof S)u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertBefore",this).call(this,O,R);else{var N=R==null?this.length():R.offset(this),k=this.split(N);k.parent.insertBefore(O,k)}}},{key:"optimize",value:function(O){u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,O);var R=this.next;R!=null&&R.prev===this&&R.statics.blotName===this.statics.blotName&&R.domNode.tagName===this.domNode.tagName&&R.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(R.moveChildren(this),R.remove())}},{key:"replace",value:function(O){if(O.statics.blotName!==this.statics.blotName){var R=h.default.create(this.statics.defaultChild);O.moveChildren(R),this.appendChild(R)}u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"replace",this).call(this,O)}}]),M}(d.default);P.blotName="list",P.scope=h.default.Scope.BLOCK_BLOT,P.tagName=["OL","UL"],P.defaultChild="list-item",P.allowedChildren=[S],r.ListItem=S,r.default=P},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(56),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function m(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var g=function(d){v(y,d);function y(){return h(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(u.default);g.blotName="italic",g.tagName=["EM","I"],r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function w(T,_){for(var E=0;E<_.length;E++){var S=_[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,_,E){return _&&w(T.prototype,_),E&&w(T,E),T}}(),u=function w(T,_,E){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,_);if(S===void 0){var P=Object.getPrototypeOf(T);return P===null?void 0:w(P,_,E)}else{if("value"in S)return S.value;var I=S.get;return I===void 0?void 0:I.call(E)}},f=o(6),h=m(f);function m(w){return w&&w.__esModule?w:{default:w}}function v(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function g(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:w}function d(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}var y=function(w){d(T,w);function T(){return v(this,T),g(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,null,[{key:"create",value:function(E){return E==="super"?document.createElement("sup"):E==="sub"?document.createElement("sub"):u(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this,E)}},{key:"formats",value:function(E){if(E.tagName==="SUB")return"sub";if(E.tagName==="SUP")return"super"}}]),T}(h.default);y.blotName="script",y.tagName=["SUB","SUP"],r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(6),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function m(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var g=function(d){v(y,d);function y(){return h(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(u.default);g.blotName="strike",g.tagName="S",r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(6),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function m(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var g=function(d){v(y,d);function y(){return h(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(u.default);g.blotName="underline",g.tagName="U",r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function _(E,S){for(var P=0;P<S.length;P++){var I=S[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}return function(E,S,P){return S&&_(E.prototype,S),P&&_(E,P),E}}(),u=function _(E,S,P){E===null&&(E=Function.prototype);var I=Object.getOwnPropertyDescriptor(E,S);if(I===void 0){var M=Object.getPrototypeOf(E);return M===null?void 0:_(M,S,P)}else{if("value"in I)return I.value;var F=I.get;return F===void 0?void 0:F.call(P)}},f=o(0),h=v(f),m=o(27);function v(_){return _&&_.__esModule?_:{default:_}}function g(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}function d(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:_}function y(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}var w=["alt","height","width"],T=function(_){y(E,_);function E(){return g(this,E),d(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"format",value:function(P,I){w.indexOf(P)>-1?I?this.domNode.setAttribute(P,I):this.domNode.removeAttribute(P):u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,P,I)}}],[{key:"create",value:function(P){var I=u(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,P);return typeof P=="string"&&I.setAttribute("src",this.sanitize(P)),I}},{key:"formats",value:function(P){return w.reduce(function(I,M){return P.hasAttribute(M)&&(I[M]=P.getAttribute(M)),I},{})}},{key:"match",value:function(P){return/\.(jpe?g|gif|png)$/.test(P)||/^data:image\/.+;base64/.test(P)}},{key:"sanitize",value:function(P){return(0,m.sanitize)(P,["http","https","data"])?P:"//:0"}},{key:"value",value:function(P){return P.getAttribute("src")}}]),E}(h.default.Embed);T.blotName="image",T.tagName="IMG",r.default=T},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function _(E,S){for(var P=0;P<S.length;P++){var I=S[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}return function(E,S,P){return S&&_(E.prototype,S),P&&_(E,P),E}}(),u=function _(E,S,P){E===null&&(E=Function.prototype);var I=Object.getOwnPropertyDescriptor(E,S);if(I===void 0){var M=Object.getPrototypeOf(E);return M===null?void 0:_(M,S,P)}else{if("value"in I)return I.value;var F=I.get;return F===void 0?void 0:F.call(P)}},f=o(4),h=o(27),m=v(h);function v(_){return _&&_.__esModule?_:{default:_}}function g(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}function d(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:_}function y(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}var w=["height","width"],T=function(_){y(E,_);function E(){return g(this,E),d(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"format",value:function(P,I){w.indexOf(P)>-1?I?this.domNode.setAttribute(P,I):this.domNode.removeAttribute(P):u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,P,I)}}],[{key:"create",value:function(P){var I=u(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,P);return I.setAttribute("frameborder","0"),I.setAttribute("allowfullscreen",!0),I.setAttribute("src",this.sanitize(P)),I}},{key:"formats",value:function(P){return w.reduce(function(I,M){return P.hasAttribute(M)&&(I[M]=P.getAttribute(M)),I},{})}},{key:"sanitize",value:function(P){return m.default.sanitize(P)}},{key:"value",value:function(P){return P.getAttribute("src")}}]),E}(f.BlockEmbed);T.blotName="video",T.className="ql-video",T.tagName="IFRAME",r.default=T},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var a=function(){function P(I,M){for(var F=0;F<M.length;F++){var O=M[F];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(I,O.key,O)}}return function(I,M,F){return M&&P(I.prototype,M),F&&P(I,F),I}}(),u=function P(I,M,F){I===null&&(I=Function.prototype);var O=Object.getOwnPropertyDescriptor(I,M);if(O===void 0){var R=Object.getPrototypeOf(I);return R===null?void 0:P(R,M,F)}else{if("value"in O)return O.value;var N=O.get;return N===void 0?void 0:N.call(F)}},f=o(35),h=y(f),m=o(5),v=y(m),g=o(9),d=y(g);function y(P){return P&&P.__esModule?P:{default:P}}function w(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}function T(P,I){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:P}function _(P,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);P.prototype=Object.create(I&&I.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(P,I):P.__proto__=I)}var E=function(P){_(I,P);function I(){return w(this,I),T(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return a(I,null,[{key:"create",value:function(F){var O=u(I.__proto__||Object.getPrototypeOf(I),"create",this).call(this,F);return typeof F=="string"&&(window.katex.render(F,O,{throwOnError:!1,errorColor:"#f00"}),O.setAttribute("data-value",F)),O}},{key:"value",value:function(F){return F.getAttribute("data-value")}}]),I}(h.default);E.blotName="formula",E.className="ql-formula",E.tagName="SPAN";var S=function(P){_(I,P),a(I,null,[{key:"register",value:function(){v.default.register(E,!0)}}]);function I(){w(this,I);var M=T(this,(I.__proto__||Object.getPrototypeOf(I)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return M}return I}(d.default);r.FormulaBlot=E,r.default=S},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var a=function(){function F(O,R){for(var N=0;N<R.length;N++){var k=R[N];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(O,k.key,k)}}return function(O,R,N){return R&&F(O.prototype,R),N&&F(O,N),O}}(),u=function F(O,R,N){O===null&&(O=Function.prototype);var k=Object.getOwnPropertyDescriptor(O,R);if(k===void 0){var b=Object.getPrototypeOf(O);return b===null?void 0:F(b,R,N)}else{if("value"in k)return k.value;var D=k.get;return D===void 0?void 0:D.call(N)}},f=o(0),h=T(f),m=o(5),v=T(m),g=o(9),d=T(g),y=o(13),w=T(y);function T(F){return F&&F.__esModule?F:{default:F}}function _(F,O){if(!(F instanceof O))throw new TypeError("Cannot call a class as a function")}function E(F,O){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:F}function S(F,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);F.prototype=Object.create(O&&O.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(F,O):F.__proto__=O)}var P=function(F){S(O,F);function O(){return _(this,O),E(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return a(O,[{key:"replaceWith",value:function(N){this.domNode.textContent=this.domNode.textContent,this.attach(),u(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replaceWith",this).call(this,N)}},{key:"highlight",value:function(N){var k=this.domNode.textContent;this.cachedText!==k&&((k.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=N(k),this.domNode.normalize(),this.attach()),this.cachedText=k)}}]),O}(w.default);P.className="ql-syntax";var I=new h.default.Attributor.Class("token","hljs",{scope:h.default.Scope.INLINE}),M=function(F){S(O,F),a(O,null,[{key:"register",value:function(){v.default.register(I,!0),v.default.register(P,!0)}}]);function O(R,N){_(this,O);var k=E(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,R,N));if(typeof k.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var b=null;return k.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(b),b=setTimeout(function(){k.highlight(),b=null},k.options.interval)}),k.highlight(),k}return a(O,[{key:"highlight",value:function(){var N=this;if(!this.quill.selection.composing){this.quill.update(v.default.sources.USER);var k=this.quill.getSelection();this.quill.scroll.descendants(P).forEach(function(b){b.highlight(N.options.highlight)}),this.quill.update(v.default.sources.SILENT),k!=null&&this.quill.setSelection(k,v.default.sources.SILENT)}}}]),O}(d.default);M.DEFAULTS={highlight:function(){return window.hljs==null?null:function(F){var O=window.hljs.highlightAuto(F);return O.value}}(),interval:1e3},r.CodeBlock=P,r.CodeToken=I,r.default=M},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,r){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,r){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,r){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,r){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var a=function O(R,N,k){R===null&&(R=Function.prototype);var b=Object.getOwnPropertyDescriptor(R,N);if(b===void 0){var D=Object.getPrototypeOf(R);return D===null?void 0:O(D,N,k)}else{if("value"in b)return b.value;var L=b.get;return L===void 0?void 0:L.call(k)}},u=function(){function O(R,N){for(var k=0;k<N.length;k++){var b=N[k];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(R,b.key,b)}}return function(R,N,k){return N&&O(R.prototype,N),k&&O(R,k),R}}(),f=o(3),h=_(f),m=o(8),v=_(m),g=o(43),d=_(g),y=o(15),w=o(41),T=_(w);function _(O){return O&&O.__esModule?O:{default:O}}function E(O,R){if(!(O instanceof R))throw new TypeError("Cannot call a class as a function")}function S(O,R){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:O}function P(O,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);O.prototype=Object.create(R&&R.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(O,R):O.__proto__=R)}var I=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],M=function(O){P(R,O);function R(N,k){E(this,R),k.modules.toolbar!=null&&k.modules.toolbar.container==null&&(k.modules.toolbar.container=I);var b=S(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,N,k));return b.quill.container.classList.add("ql-bubble"),b}return u(R,[{key:"extendToolbar",value:function(k){this.tooltip=new F(this.quill,this.options.bounds),this.tooltip.root.appendChild(k.container),this.buildButtons([].slice.call(k.container.querySelectorAll("button")),T.default),this.buildPickers([].slice.call(k.container.querySelectorAll("select")),T.default)}}]),R}(d.default);M.DEFAULTS=(0,h.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(R){R?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var F=function(O){P(R,O);function R(N,k){E(this,R);var b=S(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,N,k));return b.quill.on(v.default.events.EDITOR_CHANGE,function(D,L,$,G){if(D===v.default.events.SELECTION_CHANGE)if(L!=null&&L.length>0&&G===v.default.sources.USER){b.show(),b.root.style.left="0px",b.root.style.width="",b.root.style.width=b.root.offsetWidth+"px";var re=b.quill.getLines(L.index,L.length);if(re.length===1)b.position(b.quill.getBounds(L));else{var ne=re[re.length-1],ie=b.quill.getIndex(ne),Y=Math.min(ne.length()-1,L.index+L.length-ie),H=b.quill.getBounds(new y.Range(ie,Y));b.position(H)}}else document.activeElement!==b.textbox&&b.quill.hasFocus()&&b.hide()}),b}return u(R,[{key:"listen",value:function(){var k=this;a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){k.root.classList.remove("ql-editing")}),this.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!k.root.classList.contains("ql-hidden")){var b=k.quill.getSelection();b!=null&&k.position(k.quill.getBounds(b))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(k){var b=a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"position",this).call(this,k),D=this.root.querySelector(".ql-tooltip-arrow");if(D.style.marginLeft="",b===0)return b;D.style.marginLeft=-1*b-D.offsetWidth/2+"px"}}]),R}(g.BaseTooltip);F.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=F,r.default=M},function(t,r,o){t.exports=o(63)}]).default})}(uc)),uc.exports}var ir,X1;function fD(){if(X1)return ir;X1=1;var n=ir&&ir.__extends||function(){var v=function(g,d){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,w){y.__proto__=w}||function(y,w){for(var T in w)w.hasOwnProperty(T)&&(y[T]=w[T])},v(g,d)};return function(g,d){v(g,d);function y(){this.constructor=g}g.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}}(),e=ir&&ir.__assign||function(){return e=Object.assign||function(v){for(var g,d=1,y=arguments.length;d<y;d++){g=arguments[d];for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&(v[w]=g[w])}return v},e.apply(this,arguments)},t=ir&&ir.__spreadArrays||function(){for(var v=0,g=0,d=arguments.length;g<d;g++)v+=arguments[g].length;for(var y=Array(v),w=0,g=0;g<d;g++)for(var T=arguments[g],_=0,E=T.length;_<E;_++,w++)y[w]=T[_];return y},r=ir&&ir.__importDefault||function(v){return v&&v.__esModule?v:{default:v}},o=r(xc()),a=r(r0()),u=r(lD()),f=r(cD()),h=function(v){n(g,v);function g(d){var y=v.call(this,d)||this;y.dirtyProps=["modules","formats","bounds","theme","children"],y.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],y.state={generation:0},y.selection=null,y.onEditorChange=function(T,_,E,S){var P,I,M,F;T==="text-change"?(I=(P=y).onEditorChangeText)===null||I===void 0||I.call(P,y.editor.root.innerHTML,_,S,y.unprivilegedEditor):T==="selection-change"&&((F=(M=y).onEditorChangeSelection)===null||F===void 0||F.call(M,_,S,y.unprivilegedEditor))};var w=y.isControlled()?d.value:d.defaultValue;return y.value=w??"",y}return g.prototype.validateProps=function(d){var y;if(o.default.Children.count(d.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(o.default.Children.count(d.children)){var w=o.default.Children.only(d.children);if(((y=w)===null||y===void 0?void 0:y.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&d.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},g.prototype.shouldComponentUpdate=function(d,y){var w=this,T;if(this.validateProps(d),!this.editor||this.state.generation!==y.generation)return!0;if("value"in d){var _=this.getEditorContents(),E=(T=d.value,T??"");this.isEqualValue(E,_)||this.setEditorContents(this.editor,E)}return d.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,d.readOnly),t(this.cleanProps,this.dirtyProps).some(function(S){return!u.default(d[S],w.props[S])})},g.prototype.shouldComponentRegenerate=function(d){var y=this;return this.dirtyProps.some(function(w){return!u.default(d[w],y.props[w])})},g.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},g.prototype.componentWillUnmount=function(){this.destroyEditor()},g.prototype.componentDidUpdate=function(d,y){var w=this;if(this.editor&&this.shouldComponentRegenerate(d)){var T=this.editor.getContents(),_=this.editor.getSelection();this.regenerationSnapshot={delta:T,selection:_},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==y.generation){var E=this.regenerationSnapshot,T=E.delta,S=E.selection;delete this.regenerationSnapshot,this.instantiateEditor();var P=this.editor;P.setContents(T),m(function(){return w.setEditorSelection(P,S)})}},g.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},g.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},g.prototype.isControlled=function(){return"value"in this.props},g.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},g.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},g.prototype.createEditor=function(d,y){var w=new f.default(d,y);return y.tabIndex!=null&&this.setEditorTabIndex(w,y.tabIndex),this.hookEditor(w),w},g.prototype.hookEditor=function(d){this.unprivilegedEditor=this.makeUnprivilegedEditor(d),d.on("editor-change",this.onEditorChange)},g.prototype.unhookEditor=function(d){d.off("editor-change",this.onEditorChange)},g.prototype.getEditorContents=function(){return this.value},g.prototype.getEditorSelection=function(){return this.selection},g.prototype.isDelta=function(d){return d&&d.ops},g.prototype.isEqualValue=function(d,y){return this.isDelta(d)&&this.isDelta(y)?u.default(d.ops,y.ops):u.default(d,y)},g.prototype.setEditorContents=function(d,y){var w=this;this.value=y;var T=this.getEditorSelection();typeof y=="string"?d.setContents(d.clipboard.convert(y)):d.setContents(y),m(function(){return w.setEditorSelection(d,T)})},g.prototype.setEditorSelection=function(d,y){if(this.selection=y,y){var w=d.getLength();y.index=Math.max(0,Math.min(y.index,w-1)),y.length=Math.max(0,Math.min(y.length,w-1-y.index)),d.setSelection(y)}},g.prototype.setEditorTabIndex=function(d,y){var w,T;!((T=(w=d)===null||w===void 0?void 0:w.scroll)===null||T===void 0)&&T.domNode&&(d.scroll.domNode.tabIndex=y)},g.prototype.setEditorReadOnly=function(d,y){y?d.disable():d.enable()},g.prototype.makeUnprivilegedEditor=function(d){var y=d;return{getHTML:function(){return y.root.innerHTML},getLength:y.getLength.bind(y),getText:y.getText.bind(y),getContents:y.getContents.bind(y),getSelection:y.getSelection.bind(y),getBounds:y.getBounds.bind(y)}},g.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var d=a.default.findDOMNode(this.editingArea);if(!d)throw new Error("Cannot find element for editing area");if(d.nodeType===3)throw new Error("Editing area cannot be a text node");return d},g.prototype.renderEditingArea=function(){var d=this,y=this.props,w=y.children,T=y.preserveWhitespace,_=this.state.generation,E={key:_,ref:function(S){d.editingArea=S}};return o.default.Children.count(w)?o.default.cloneElement(o.default.Children.only(w),E):T?o.default.createElement("pre",e({},E)):o.default.createElement("div",e({},E))},g.prototype.render=function(){var d;return o.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(d=this.props.className,d??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},g.prototype.onEditorChangeText=function(d,y,w,T){var _,E;if(this.editor){var S=this.isDelta(this.value)?T.getContents():T.getHTML();S!==this.getEditorContents()&&(this.lastDeltaChangeSet=y,this.value=S,(E=(_=this.props).onChange)===null||E===void 0||E.call(_,d,y,w,T))}},g.prototype.onEditorChangeSelection=function(d,y,w){var T,_,E,S,P,I;if(this.editor){var M=this.getEditorSelection(),F=!M&&d,O=M&&!d;u.default(d,M)||(this.selection=d,(_=(T=this.props).onChangeSelection)===null||_===void 0||_.call(T,d,y,w),F?(S=(E=this.props).onFocus)===null||S===void 0||S.call(E,d,y,w):O&&((I=(P=this.props).onBlur)===null||I===void 0||I.call(P,M,y,w)))}},g.prototype.focus=function(){this.editor&&this.editor.focus()},g.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},g.displayName="React Quill",g.Quill=f.default,g.defaultProps={theme:"snow",modules:{},readOnly:!1},g}(o.default.Component);function m(v){Promise.resolve().then(v)}return ir=h,ir}var hD=fD();const J1=pm(hD),Z1=350,e0=()=>{const[n,e]=de.useState(!1),[t,r]=ot.useState(!1),{cpf:o,login:a}=de.useContext(oi),[u,f]=ot.useState(""),[h,m]=ot.useState(!1),v=ml(),{id:g}=d0(),[d,y]=de.useState({title:"",price:"",cpu:"",motherBoard:"",cpuText:"",storage:"",tower:"",adApproved:!1,font:"",memory:"",graphicsCard:"",cooling:"",amoutCables:"",ages:"",link:"",motherBoardText:"",customerCpf:"",images:[]});de.useEffect(()=>{(async()=>{if(g){const k=await JT("products",g);console.log("Objeto selecionado   ",k),k&&typeof k=="object"&&Object.keys(k).length>0&&y({title:k.title,price:k.price,cpu:k.cpu,motherBoard:k.motherBoard,adApproved:k.adApproved,cpuText:k.cpuText,storage:k.storage,tower:k.tower,font:k.font,memory:k.memory,graphicsCard:k.graphicsCard,cooling:k.cooling,amoutCables:k.amoutCables,ages:k.ages,link:k.link,customerCpf:o,motherBoardText:k.motherBoardText,images:k.images})}})()},[]);const w=N=>{let{id:k,value:b}=N.target;k==="price"&&(b=b.replace(/\D/g,""),b=(parseFloat(b)/100).toFixed(2),b=`R$ ${b.replace(".",",")}`),k!=="title"&&k!=="ages"&&k!=="motherBoardText"&&k!=="cpuText"&&k!=="link"&&(b=b.toUpperCase()),y(D=>({...D,[k]:b}))},T=(N,k)=>{N.replace(/<[^>]*>/g,"").length<=Z1&&f(N),y(D=>({...D,[k]:N}))},_=N=>{u.replace(/<[^>]*>/g,"").length>=Z1&&N.key!=="Backspace"&&N.preventDefault()},E=N=>{const k=Array.from(N.target.files);y(b=>({...b,images:k}))},S=()=>{if(n===!1){e(!0);return}e(!1),P()},P=N=>{(!N||typeof N.preventDefault!="function")&&(N={preventDefault:()=>{}}),N.preventDefault(),d.price=d.price.replace("R$ ","").replace(",00","");const k=JSON.parse(localStorage.getItem("products"))||[];if(g){d.customerCpf=I(o),k[g]=d,EN("products",g,d),v("/");return}d.customerCpf=I(o),k.push(d),XT("products",d),y({id:"",title:"",price:"",cpu:"",motherBoard:"",storage:"",tower:"",cpuText:"",motherBoardText:"",font:"",graphicsCard:"",customerCpf:"",memory:"",cooling:"",amoutCables:"",ages:"",link:"",images:[]}),r(!0)},I=N=>N.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),M=()=>{d.link.trim()!==""&&y(N=>({...N,images:[...N.images,d.link],link:""}))},F=N=>{y(k=>({...k,images:k.images.filter((b,D)=>D!==N)}))},O=N=>N.length>6?N.slice(0,6)+"...":N,R=N=>{const k=JSON.parse(localStorage.getItem("products"))||[];if(g){if(N){k.splice(g,1),localStorage.setItem("products",JSON.stringify(k)),m(!1),v("/");return}m(!0)}};return W.jsxs("div",{className:it.productFormContainer,children:[t&&W.jsx(Hs,{message:"Seu produto foi criado com sucesso. Ele ser avaliado e em breve estar disponvel para venda.",setClose:r,adress:"/"}),h&&W.jsx(dm,{defaultMessage:"Voc est prestes a excluir esse card. Tem certeza que quer continuar",setCloseMessage:m,goOn:()=>R(!0)}),n&&W.jsx(dm,{defaultMessage:"Tem certeza que quer enviar os dados?",setCloseMessage:e,goOn:()=>S()}),W.jsx("h2",{children:"Formulrio para mquinas Dragon"}),W.jsxs("form",{className:it.formContainer,children:[W.jsxs("div",{className:it.formRow,children:[W.jsxs("div",{className:it.formGroup,children:[W.jsx("label",{htmlFor:"title",children:"Ttulo/Aplicao:"}),W.jsxs("select",{id:"title",value:d.title,onChange:w,required:!0,children:[W.jsx("option",{value:"",children:"Selecione sua opo"}),W.jsx("option",{value:"Gamer",children:"Gamer"}),W.jsx("option",{value:"Office",children:"Office"}),W.jsx("option",{value:"Render",children:"Render"}),W.jsx("option",{value:"Domstico",children:"Domstico"}),W.jsx("option",{value:"Edio de Video",children:"Edio de Video"})]})]}),W.jsxs("div",{className:it.formGroup,children:[W.jsx("label",{htmlFor:"price",children:"Preo:"}),W.jsx("input",{type:"text",required:!0,id:"price",value:d.price,onChange:w})]})]}),W.jsxs("div",{className:it.formRow,children:[W.jsxs("div",{className:it.formGroup,children:[W.jsx("label",{htmlFor:"processador",children:"CPU:"}),W.jsx("input",{type:"text",required:!0,id:"cpu",value:d.cpu,onChange:w})]}),W.jsxs("div",{className:it.formGroup,children:[W.jsx("label",{htmlFor:"motherBoard",children:"Placa Me:"}),W.jsx("input",{type:"text",required:!0,id:"motherBoard",value:d.motherBoard,onChange:w})]})]}),W.jsxs("div",{className:it.formRow,children:[W.jsxs("div",{className:it.formGroup,children:[W.jsx("label",{htmlFor:"processador",children:"Memria:"}),W.jsx("input",{type:"text",required:!0,id:"memory",value:d.memory,onChange:w})]}),W.jsxs("div",{className:it.formGroup,children:[W.jsx("label",{htmlFor:"motherBoard",children:"Refrigerao:"}),W.jsx("input",{type:"text",required:!0,id:"cooling",value:d.cooling,onChange:w})]})]}),W.jsxs("div",{className:it.formRow,children:[W.jsxs("div",{className:it.formGroup,children:[W.jsx("label",{htmlFor:"graphicsCard",children:"Placa de Video:"}),W.jsx("input",{type:"text",id:"graphicsCard",value:d.graphicsCard,onChange:w})]}),W.jsxs("div",{className:it.formGroup,children:[W.jsx("label",{htmlFor:"font",children:"Fonte:"}),W.jsx("input",{type:"text",id:"font",value:d.font,onChange:w})]})]}),W.jsxs("div",{className:it.formRow,children:[W.jsxs("div",{className:it.formGroup,children:[W.jsx("label",{htmlFor:"quantidadeDeCabos",children:" Cabos:"}),W.jsx("input",{type:"text",id:"amoutCables",value:d.amoutCables,onChange:w})]}),W.jsxs("div",{className:it.formGroup,children:[W.jsx("label",{htmlFor:"font",children:"Gabinete:"}),W.jsx("input",{type:"text",id:"tower",value:d.tower,onChange:w})]})]}),W.jsxs("div",{className:it.formRow,children:[W.jsxs("div",{className:it.formGroup,children:[W.jsx("label",{htmlFor:"quantidadeDeCabos",children:"Data da Compra"}),W.jsx("input",{type:"date",id:"ages",value:d.ages,onChange:w})]}),W.jsxs("div",{className:it.formGroup,children:[W.jsx("label",{htmlFor:"images",children:"Imagens:"}),W.jsx("input",{type:"file",id:"images",multiple:!0,onChange:E})]})]}),W.jsxs("div",{className:it.linkAddImgContainer,children:[W.jsxs("div",{className:it.linkField,children:[W.jsx("label",{htmlFor:"idade",children:"Link da imagem:"}),W.jsx("input",{type:"text",id:"link",value:d.link,onChange:w})]}),W.jsx("div",{className:it.btn,children:W.jsx("button",{type:"button",onClick:M,children:"Adicione imagem"})})]}),W.jsx("div",{className:it.containerImages,children:d&&d.images&&d.images.length>0&&d.images.map((N,k)=>W.jsx("div",{children:W.jsxs("div",{className:it.imageItem,children:[W.jsx("p",{children:O(N)}),W.jsx("button",{type:"button",onClick:()=>F(k),children:"X"})]})},k))}),W.jsxs("div",{className:it.formTextareaColumn,children:[W.jsxs("div",{className:it.textareaColumn,children:[W.jsx("label",{htmlFor:"motherBoardText",children:"ESPECIFICAES PLACA ME:"}),W.jsx(J1,{id:"motherBoardText",className:it.textField,value:d.motherBoardText,onChange:N=>T(N,"motherBoardText"),onKeyDown:_})]}),W.jsxs("div",{className:it.textareaColumn,children:[W.jsx("label",{htmlFor:"cpuText",children:"ESPECIFICAES CPU:"}),W.jsx(J1,{id:"cpuText",className:it.textField,value:d.cpuText,onChange:N=>T(N,"cpuText"),onKeyDown:_})]})]}),W.jsxs("div",{className:it.btnContainer,children:[W.jsx("button",{type:"button",onClick:S,children:"Salvar"}),W.jsx("button",{type:"button",onClick:()=>R(!1),disabled:g===void 0,children:"Excluir"})]}),W.jsx("div",{className:it.formRow,children:a&&W.jsxs("div",{className:it.formGroup,children:[W.jsx("label",{htmlFor:"adApproved",children:"Aprovar Anncio:"}),W.jsx("input",{type:"checkbox",id:"adApproved",checked:d.adApproved,onChange:N=>y(k=>({...k,adApproved:N.target.checked}))}),W.jsx("span",{children:"Somente os inputs checados aparecero na rea de cliente."})]})})]})]})},dD="_header_17lp4_1",pD="_containerMessage_17lp4_7",mD="_nav_17lp4_14",gD="_navList_17lp4_19",yD="_logout_17lp4_42",Ka={header:dD,containerMessage:pD,nav:mD,navList:gD,logout:yD},vD=({setCloseMessage:n,message:e})=>{const t=ml(),[r,o]=ot.useState(!0),[a,u]=ot.useState(!1),[f,h]=ot.useState(!1),{setCpf:m,setCurrentCustomer:v}=de.useContext(oi),[g,d]=ot.useState(""),y=S=>{const P=S.target.value;d(P)},w=()=>{t("/register"),n(!1)},T=async()=>{if(!g||g.length!==11){alert("Por favor, insira um nmero de CPF vlido ou registre-se.");return}if(g){const P=(await YT("customer")).filter(I=>I.cpf.replace(/[.-]/g,"")===g);P.length>0?(m(g),v(P),n(!1),t("/user-rules")):(h(!0),t("/register"))}},_=()=>{u(!0)},E=()=>{o(!1),n(!0)};return W.jsx("div",{className:Er.container,children:W.jsxs("div",{className:Er.geralContainerConfirmMessage,children:[r&&W.jsxs("div",{children:[W.jsx("div",{children:e&&W.jsx("h1",{children:e})}),W.jsxs("div",{className:Er.containerBtn,children:[W.jsx("button",{onClick:E,children:"Sim"}),W.jsx("button",{onClick:_,children:"No"})]})]}),W.jsxs("div",{className:Er.geralContainerConfirmMessage,children:[a&&W.jsx(Hs,{message:"Somente computadores comprados na Dragon podem ser comercializados nesse site",setClose:u,setCloseMessage:n}),f&&W.jsx(Hs,{message:"O seu Nmero de CPF no foi encontrado, por favor cadastre-se",setClose:u,setCloseMessage:n})]}),"setClose=",u,!r&&W.jsxs("div",{className:Er.containerCpf,children:[W.jsx("h1",{children:"J vendeu pela Dragon Computadores? Se sim entre com seu cpf caso contrrio, cadastre-se!"}),W.jsx("input",{type:"text",value:g,onChange:y,onBlur:T,maxLength:"11",placeholder:"Digite seu CPF"}),W.jsx("button",{className:Er.submitCpfBtn,onClick:T,children:"Buscar CPF"}),W.jsx("p",{className:Er.register,onClick:w,children:"Registre-se"})]}),";"]})})},_D="_container_m0n7h_1",ED="_label_m0n7h_11",wD="_input_m0n7h_16",Fp={container:_D,label:ED,input:wD},TD="_containerCloseBtn_17j0j_1",SD="_closeButton_17j0j_5",t0={containerCloseBtn:TD,closeButton:SD},uS=({setOpenClose:n})=>W.jsx("div",{className:t0.containerCloseBtn,children:W.jsx("button",{className:t0.closeButton,onClick:()=>n(!1),children:"x"})});uS.propTypes={setOpenClose:$t.func.isRequired};const cS=({setOpenClose:n})=>{const[e,t]=ot.useState(""),{setLogin:r}=de.useContext(oi);ot.useEffect(()=>{localStorage.getItem("login")==="true"?localStorage.removeItem("login"):localStorage.setItem("login","true")},[n]);const o=u=>{t(u.target.value)},a=u=>{u.preventDefault(),e==="1234"?(localStorage.setItem("login","true"),r(!0),n(!1)):alert("Incorrect password")};return W.jsxs("div",{className:Fp.container,children:[W.jsx(uS,{setOpenClose:n}),W.jsx("h2",{children:"Please enter your password"}),W.jsxs("form",{onSubmit:a,children:[W.jsxs("label",{className:Fp.label,children:["Password:",W.jsx("input",{type:"password",value:e,onChange:o,className:Fp.input})]}),W.jsx("button",{type:"submit",children:"Submit"})]})]})};cS.propTypes={setOpenClose:$t.func.isRequired};const AD=()=>{const[n,e]=ot.useState(!1),[t,r]=ot.useState(!1),[o,a]=ot.useState(""),{login:u,setLogin:f}=de.useContext(oi),h=g=>{g.preventDefault(),e(!0),a("O seu computador foi comprado na Dragon Computadores")},m=()=>{r(!0)},v=()=>{localStorage.removeItem("login"),window.location.reload(),f(!1)};return W.jsxs("header",{className:Ka.header,children:[t&&W.jsx(cS,{setOpenClose:r}),W.jsx("div",{className:Ka.containerMessage,children:n&&W.jsx(vD,{setCloseMessage:e,message:o})}),W.jsxs("nav",{className:Ka.nav,children:[W.jsxs("ul",{className:Ka.navList,children:[W.jsx("li",{children:W.jsx(Lc,{to:"/",children:"Vitrine"})}),W.jsx("li",{children:W.jsx("a",{href:"",onClick:h,children:"Quero Vender"})})]}),u?W.jsx("h3",{className:Ka.logout,onClick:v,children:"Logado"}):W.jsx("button",{onClick:m})]})]})},ID="_SingleProductBox_riln0_1",bD="_containerSideMenu_riln0_17",kD="_adminContainer_riln0_23",RD="_imageThumbnails_riln0_33",CD="_thumbnail_riln0_48",PD="_mainImage_riln0_61",OD="_zoomContainer_riln0_70",xD="_productDetails_riln0_96",ND="_priceContainer_riln0_104",DD="_mainItems_riln0_112",LD="_highlightPrice_riln0_117",MD="_title_riln0_120",jD="_price_riln0_104",VD="_hugeText_riln0_130",on={SingleProductBox:ID,containerSideMenu:bD,adminContainer:kD,imageThumbnails:RD,thumbnail:CD,mainImage:PD,zoomContainer:OD,productDetails:xD,priceContainer:ND,mainItems:DD,highlightPrice:LD,title:MD,price:jD,hugeText:VD},FD="_container_lkqp9_1",UD="_card_lkqp9_13",qD="_containerBtn_lkqp9_20",BD="_closeButton_lkqp9_24",zD="_detail_lkqp9_33",vr={container:FD,card:UD,containerBtn:qD,closeButton:BD,detail:zD},fS=({customer:n,setClose:e})=>{Array.isArray(n)&&(n=n[0]),ot.useEffect(()=>{console.log("Customer",n)},[n]);const t=r=>{navigator.clipboard.writeText(r),alert("Copied to clipboard: "+r)};return W.jsx("div",{className:vr.container,children:W.jsxs("div",{className:vr.card,children:[W.jsx("div",{className:vr.containerBtn,children:W.jsx("button",{className:vr.closeButton,onClick:()=>e(!1),children:"X"})}),n?W.jsxs("div",{children:[W.jsx("h2",{children:"Customer Details"}),W.jsxs("div",{className:vr.detail,onClick:()=>t(n.cnpj),children:[W.jsx("strong",{children:"CNPJ:"})," ",n.cnpj]}),W.jsxs("div",{className:vr.detail,onClick:()=>t(n.cpf),children:[W.jsx("strong",{children:"CPF:"})," ",n.cpf]}),W.jsxs("div",{className:vr.detail,onClick:()=>t(n.email),children:[W.jsx("strong",{children:"Email:"})," ",n.email]}),W.jsxs("div",{className:vr.detail,onClick:()=>t(n.name),children:[W.jsx("strong",{children:"Name:"})," ",n.name]}),W.jsxs("div",{className:vr.detail,onClick:()=>t(n.phone),children:[W.jsx("strong",{children:"Phone:"})," ",n.phone]}),W.jsxs("div",{className:vr.detail,onClick:()=>t(n.purchaseDate),children:[W.jsx("strong",{children:"Purchase Date:"})," ",n.purchaseDate]})]}):W.jsx("div",{children:"Loading..."})]})})};fS.propTypes={customer:$t.shape({cnpj:$t.string,cpf:$t.string,email:$t.string,name:$t.string,phone:$t.string,purchaseDate:$t.string}).isRequired,setClose:$t.func.isRequired};const $D=()=>{const[n,e]=ot.useState(""),{login:t}=de.useContext(oi),[r,o]=ot.useState({}),[a,u]=ot.useState([]),[f,h]=ot.useState([]),[m,v]=ot.useState({}),[g,d]=ot.useState(!1),[y,w]=ot.useState({backgroundPosition:"0% 0%"}),[T,_]=ot.useState(window.innerWidth<650),{id:E}=d0();ot.useEffect(()=>{const M=async()=>{const R=await JT("products",E);if(R&&typeof R=="object"&&Object.keys(R).length>0){const{images:N}=R;e(N[0]),u(N),o(R)}},F=localStorage.getItem("customer"),O=JSON.parse(F);h(O),M()},[E]);const S=M=>{const{left:F,top:O,width:R,height:N}=M.target.getBoundingClientRect(),k=(M.pageX-F)/R*100,b=(M.pageY-O)/N*100;w({backgroundPosition:`${k}% ${b}%`})};ot.useEffect(()=>{r&&console.log("Objeto   null",r)},[r]),ot.useEffect(()=>(window.addEventListener("resize",P),()=>{window.removeEventListener("resize",P)}),[]);const P=()=>{_(window.innerWidth<650)},I=()=>{const M=f.filter(F=>F.cpf===r.customerCpf);v(M[0]),d(!0)};return W.jsxs("div",{className:on.SingleProductBox,children:[g&&W.jsx(fS,{customer:m,setClose:d}),W.jsxs("div",{className:on.containerSideMenu,children:[W.jsx("div",{className:on.imageThumbnails,children:a&&a.length>0&&a.map((M,F)=>W.jsx("div",{className:on.thumbnail,onClick:()=>e(M),children:W.jsx("img",{src:M,alt:`Thumbnail ${F+1}`})},F))}),!T&&t&&W.jsxs("div",{className:on.adminContainer,children:[" ",W.jsx("button",{children:W.jsx(Lc,{to:`/form/${r.id}`,children:"Edio administrador"})})," ",W.jsx("button",{onClick:I,children:"Detalhes do Cliente"})," "]})]}),W.jsx("div",{className:on.mainImage,children:W.jsx("div",{className:on.zoomContainer,onMouseMove:S,style:{backgroundRepeat:"no-repeat",backgroundImage:`url(${n})`,backgroundPosition:y.backgroundPosition},children:W.jsx("img",{src:n,alt:"Selected"})})}),r&&W.jsxs("div",{className:on.productDetails,children:[W.jsxs("div",{className:on.priceContainer,children:[W.jsxs("div",{className:on.mainItems,children:[W.jsxs("h2",{children:["Processador: ",W.jsx("span",{children:r.cpu})]}),W.jsxs("h2",{children:["Placa Me:",W.jsx("span",{children:r.motherBoard})]}),W.jsxs("h2",{children:["Memria:",W.jsx("span",{children:r.memory})]})]}),W.jsxs("div",{className:on.highlightPrice,children:[W.jsx("h3",{className:on.title,children:r.title}),W.jsxs("h3",{className:on.price,children:["R$ ",r.price,",00"]})]})]}),W.jsxs("h2",{children:["Cdigo do produto:",W.jsx("span",{children:r.id})]}),W.jsxs("h2",{children:["Placa de Video:",W.jsx("span",{children:r.graphicsCard})]}),W.jsxs("h2",{children:["fonte: ",W.jsx("span",{children:r.font})]}),W.jsxs("h2",{children:["gabinete:",W.jsx("span",{children:r.tower})]}),W.jsxs("h2",{children:["Refrigerao:",W.jsx("span",{children:r.cooling})]}),W.jsxs("h2",{children:["Cabos :",W.jsx("span",{children:r.amoutCables})]}),W.jsxs("h2",{children:["Ano :",W.jsx("span",{children:r.ages})]}),W.jsxs("h3",{children:["Descrio da Placa me :",W.jsx("div",{className:on.hugeText,children:W.jsx("span",{dangerouslySetInnerHTML:{__html:r.motherBoardText}})})]}),W.jsxs("h3",{children:["Descrio do processador :",W.jsx("div",{className:on.hugeText,children:W.jsx("span",{className:on.hugeText,dangerouslySetInnerHTML:{__html:r.cpuText}})})]})]})]})},HD="_container_9wpaw_2",KD="_form_9wpaw_6",WD="_inputContainer_9wpaw_10",xi={container:HD,form:KD,inputContainer:WD},GD=()=>{const[n,e]=ot.useState({name:"",email:"",phone:"",cpf:"",cnpj:"",purchaseDate:""}),[t,r]=ot.useState(!1),{setCpf:o,setCurrentCustomer:a}=de.useContext(oi),u=m=>{const{name:v,value:g}=m.target,d=f(v,g);if(v==="cpf"||v==="cnpj"||v==="phone"){e({...n,[v]:d});return}if(v==="purchaseDate"){const[y,w,T]=g.split("-"),_=`${T}-${w}-${y}`;e({...n,[v]:_})}e({...n,[v]:g})},f=(m,v)=>m==="cpf"?v.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2"):m==="cnpj"?v.replace(/\D/g,"").replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d{1,2})$/,"$1-$2"):m==="phone"?v.replace(/\D/g,"").replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{4,5})(\d{4})$/,"$1-$2"):v,h=async m=>{if(m.preventDefault(),n.cpf===""&&n.cnpj===""){alert("Por favor, preencha o campo CPF ou CNPJ.");return}o(n.cpf),a(n);try{const v=await XT("customer",n);console.log("Document created with ID: ",v.id),r(!0),e({name:"",email:"",phone:"",cpf:"",cnpj:"",purchaseDate:""})}catch(v){console.error("Error adding document: ",v),alert("Ocorreu um erro ao criar o cadastro. Por favor, tente novamente.")}};return W.jsxs("div",{className:xi.container,children:[t&&W.jsx(Hs,{message:"Seu cadastro foi criado com sucesso, agora vc pode cadastrar o seu produto",setClose:r,adress:"/user-rules"}),W.jsxs("form",{className:xi.form,onSubmit:h,children:[W.jsxs("div",{className:xi.inputContainer,children:[W.jsx("label",{children:"Name:"}),W.jsx("input",{required:!0,type:"text",name:"name",value:n.name,onChange:u})]}),W.jsxs("div",{className:xi.inputContainer,children:[W.jsx("label",{children:"Email:"}),W.jsx("input",{required:!0,type:"email",name:"email",value:n.email,onChange:u})]}),W.jsxs("div",{className:xi.inputContainer,children:[W.jsx("label",{children:"Phone:"}),W.jsx("input",{required:!0,type:"text",name:"phone",maxLength:"15",value:n.phone,onChange:u})]}),W.jsxs("div",{className:xi.inputContainer,children:[W.jsx("label",{children:"CPF:"}),W.jsx("input",{type:"text",name:"cpf",maxLength:"14",value:n.cpf,onChange:u})]}),W.jsxs("div",{className:xi.inputContainer,children:[W.jsx("label",{children:"CNPJ:"}),W.jsx("input",{type:"text",name:"cnpj",maxLength:"18",value:n.cnpj,onChange:u})]}),W.jsxs("div",{className:xi.inputContainer,children:[W.jsx("label",{children:"Data de Compra:"}),W.jsx("input",{required:!0,type:"date",name:"purchaseDate",value:n.purchaseDate,onChange:u})]}),W.jsx("button",{type:"submit",children:"Submit"})]})]})},QD="_containerRules_1avi3_1",YD="_acceptTerms_1avi3_21",n0={containerRules:QD,acceptTerms:YD};function XD(n){return n.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")}const JD=()=>{const[n,e]=ot.useState(!1),[t,r]=ot.useState(!1),{cpf:o}=de.useContext(oi),a=async u=>{const f=u.target.checked;e(f),console.log("CPF GLOBAL",o);let h;h=XD(o);let m=await wN("customer","cpf",h);m.acceptTerms=f,console.log("Cliente com checked",m),await TN("customer","cpf",h,m)&&r(!0)};return W.jsxs("div",{className:n0.containerRules,children:[t&&W.jsx(Hs,{setClose:r,message:`O portador do nmero de CPF ${o} aceitou os termos de uso da Dragon Computadores`,adress:"/form"}),W.jsx("h2",{children:"Regras de Uso para Anunciantes na Plataforma Dragon Computadores"}),W.jsxs("ul",{children:["1. Objetivo:",W.jsx("li",{children:"Estabelecer as diretrizes e resposabilidades dos anunciantes que utilizam a plataforma da Dragon Computadores para divulgar e vender computadores usados."})]}),W.jsxs("ul",{children:["2. 2. Responsabilidades do Anunciante:",W.jsx("li",{children:"Veracidade das Informaes: Todas as informaes e imagens publicadas nos anncios so de responsabilidade exclusiva do anunciante. A Dragon Computadores no se responsabiliza por dados incorretos ou enganosos."}),W.jsx("li",{children:"Atualizao do Anncio: O anunciante deve informar imediatamente a Dragon Computadores caso o item anunciado j tenha sido vendido por outros meios ou se no deseja mais disponibiliz-lo para venda. Anncios desatualizados sero removidos aps notificao."}),W.jsx("li",{children:"Avaliao Ps-Venda: Caso o item seja vendido atravs da plataforma, o anunciante deve trazer o computador para avaliao pela Dragon Computadores, conforme acordado previamente."})]}),W.jsxs("ul",{children:["3. Uso da Plataforma:",W.jsx("li",{children:"A Dragon Computadores disponibiliza a plataforma como um servio de intermediao e ser a nica responsvel por intermediar a comunicao e negociao entre anunciantes e compradores. No haver contato direto entre as partes."}),W.jsx("li",{children:"Restrio de Produtos: Apenas computadores que foram originalmente vendidos pela Dragon Computadores podem ser anunciados e comercializados na plataforma.  proibido anunciar produtos de outras marcas ou origens, ou qualquer item que no seja relacionado a computadores."})]}),W.jsxs("ul",{children:["4. Servios de Avaliao:",W.jsx("li",{children:"A Dragon Computadores oferece o servio de avaliao das condies dos equipamentos como parte do processo de venda."}),W.jsx("li",{children:"Itens de Armazenamento (HDs, SSDs, etc.): Por se tratarem de itens com vida til limitada, no garantimos o funcionamento ou a durabilidade de itens de armazenamento. A avaliao desses itens ser feita com base em testes tcnicos, mas sem qualquer garantia futura."})]}),W.jsxs("ul",{children:["5. Responsabilidade da Dragon Computadores:",W.jsx("li",{children:"A Dragon Computadores atua como facilitadora, oferecendo a plataforma para divulgao dos anncios e intermediando todo o processo de negociao, mas no se responsabiliza por: Qualquer problema relacionado  condio do produto anunciado (danos, defeitos, etc.), exceto conforme avaliado e informado durante o processo de avaliao. Contedo publicado pelos anunciantes (informaes, imagens, etc.)."})]}),W.jsxs("ul",{children:["6. Penalidades por Descumprimento:",W.jsx("li",{children:"Anncios que violarem estas regras, incluindo a divulgao de produtos no vendidos originalmente pela Dragon Computadores, sero removidos sem aviso prvio."}),W.jsx("li",{children:"Anunciantes que descumprirem as regras de forma reiterada podero ter o acesso  plataforma suspenso ou bloqueado permanentemente."})]}),W.jsx("h2",{children:"7. Aceitao das Regras:"}),W.jsx("p",{children:"Ao utilizar a plataforma, o anunciante declara estar ciente e de acordo com todas as regras aqui estabelecidas, assumindo total responsabilidade pelo contedo de seus anncios e pelas obrigaes descritas."}),W.jsx("h2",{children:"8. Vigncia e Alteraes:"}),W.jsx("p",{children:"Estas regras entram em vigor a partir da data de publicao e podem ser alteradas a qualquer momento pela Dragon Computadores, com aviso prvio aos usurios."}),W.jsxs("div",{className:n0.acceptTerms,children:[W.jsx("input",{type:"checkbox",id:"acceptTerms",name:"acceptTerms",checked:n,onChange:a}),W.jsx("label",{htmlFor:"acceptTerms",children:"Eu aceito os termos de uso para publicar o meu computador na vitrine da Dragon Computadores"})]})]})},hS=({children:n})=>{const[e,t]=ot.useState({}),[r,o]=ot.useState(""),[a,u]=ot.useState("");return W.jsx(oi.Provider,{value:{currentCustomer:e,setCurrentCustomer:t,cpf:r,setCpf:o,setLogin:u,login:a},children:n})};hS.propTypes={children:$t.node.isRequired};const ZD=()=>W.jsx(hS,{children:W.jsxs(MI,{basename:"/dragon.io",children:[W.jsx(AD,{}),W.jsxs(hI,{children:[W.jsx(ko,{path:"/",element:W.jsx(SN,{})}),W.jsx(ko,{path:"/form",element:W.jsx(e0,{})}),W.jsx(ko,{path:"/form/:id",element:W.jsx(e0,{})}),W.jsx(ko,{path:"/singleProduct/:id",element:W.jsx($D,{})}),W.jsx(ko,{path:"/register",element:W.jsx(GD,{})}),W.jsx(ko,{path:"/user-rules",element:W.jsx(JD,{})})]})]})});TA.createRoot(document.getElementById("root")).render(W.jsx(de.StrictMode,{children:W.jsx(ZD,{})}));
