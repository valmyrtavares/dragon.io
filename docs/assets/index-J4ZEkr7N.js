(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zh={exports:{}},el={},ed={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function nA(){if(Kv)return Qe;Kv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.iterator;function d(j){return j===null||typeof j!="object"?null:(j=g&&j[g]||j["@@iterator"],typeof j=="function"?j:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function _(j,q,W){this.props=j,this.context=q,this.refs=w,this.updater=W||y}_.prototype.isReactComponent={},_.prototype.setState=function(j,q){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,q,"setState")},_.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function E(){}E.prototype=_.prototype;function T(j,q,W){this.props=j,this.context=q,this.refs=w,this.updater=W||y}var k=T.prototype=new E;k.constructor=T,b(k,_.prototype),k.isPureReactComponent=!0;var S=Array.isArray,L=Object.prototype.hasOwnProperty,U={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function I(j,q,W){var ee,Z={},$=null,Y=null;if(q!=null)for(ee in q.ref!==void 0&&(Y=q.ref),q.key!==void 0&&($=""+q.key),q)L.call(q,ee)&&!O.hasOwnProperty(ee)&&(Z[ee]=q[ee]);var oe=arguments.length-2;if(oe===1)Z.children=W;else if(1<oe){for(var se=Array(oe),pe=0;pe<oe;pe++)se[pe]=arguments[pe+2];Z.children=se}if(j&&j.defaultProps)for(ee in oe=j.defaultProps,oe)Z[ee]===void 0&&(Z[ee]=oe[ee]);return{$$typeof:n,type:j,key:$,ref:Y,props:Z,_owner:U.current}}function M(j,q){return{$$typeof:n,type:j.type,key:q,ref:j.ref,props:j.props,_owner:j._owner}}function N(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function R(j){var q={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(W){return q[W]})}var D=/\/+/g;function C(j,q){return typeof j=="object"&&j!==null&&j.key!=null?R(""+j.key):q.toString(36)}function z(j,q,W,ee,Z){var $=typeof j;($==="undefined"||$==="boolean")&&(j=null);var Y=!1;if(j===null)Y=!0;else switch($){case"string":case"number":Y=!0;break;case"object":switch(j.$$typeof){case n:case e:Y=!0}}if(Y)return Y=j,Z=Z(Y),j=ee===""?"."+C(Y,0):ee,S(Z)?(W="",j!=null&&(W=j.replace(D,"$&/")+"/"),z(Z,q,W,"",function(pe){return pe})):Z!=null&&(N(Z)&&(Z=M(Z,W+(!Z.key||Y&&Y.key===Z.key?"":(""+Z.key).replace(D,"$&/")+"/")+j)),q.push(Z)),1;if(Y=0,ee=ee===""?".":ee+":",S(j))for(var oe=0;oe<j.length;oe++){$=j[oe];var se=ee+C($,oe);Y+=z($,q,W,se,Z)}else if(se=d(j),typeof se=="function")for(j=se.call(j),oe=0;!($=j.next()).done;)$=$.value,se=ee+C($,oe++),Y+=z($,q,W,se,Z);else if($==="object")throw q=String(j),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Y}function G(j,q,W){if(j==null)return j;var ee=[],Z=0;return z(j,ee,"","",function($){return q.call(W,$,Z++)}),ee}function re(j){if(j._status===-1){var q=j._result;q=q(),q.then(function(W){(j._status===0||j._status===-1)&&(j._status=1,j._result=W)},function(W){(j._status===0||j._status===-1)&&(j._status=2,j._result=W)}),j._status===-1&&(j._status=0,j._result=q)}if(j._status===1)return j._result.default;throw j._result}var ne={current:null},ie={transition:null},X={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:ie,ReactCurrentOwner:U};function H(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:G,forEach:function(j,q,W){G(j,function(){q.apply(this,arguments)},W)},count:function(j){var q=0;return G(j,function(){q++}),q},toArray:function(j){return G(j,function(q){return q})||[]},only:function(j){if(!N(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Qe.Component=_,Qe.Fragment=t,Qe.Profiler=o,Qe.PureComponent=T,Qe.StrictMode=r,Qe.Suspense=h,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Qe.act=H,Qe.cloneElement=function(j,q,W){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ee=b({},j.props),Z=j.key,$=j.ref,Y=j._owner;if(q!=null){if(q.ref!==void 0&&($=q.ref,Y=U.current),q.key!==void 0&&(Z=""+q.key),j.type&&j.type.defaultProps)var oe=j.type.defaultProps;for(se in q)L.call(q,se)&&!O.hasOwnProperty(se)&&(ee[se]=q[se]===void 0&&oe!==void 0?oe[se]:q[se])}var se=arguments.length-2;if(se===1)ee.children=W;else if(1<se){oe=Array(se);for(var pe=0;pe<se;pe++)oe[pe]=arguments[pe+2];ee.children=oe}return{$$typeof:n,type:j.type,key:Z,ref:$,props:ee,_owner:Y}},Qe.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},Qe.createElement=I,Qe.createFactory=function(j){var q=I.bind(null,j);return q.type=j,q},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(j){return{$$typeof:f,render:j}},Qe.isValidElement=N,Qe.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:re}},Qe.memo=function(j,q){return{$$typeof:m,type:j,compare:q===void 0?null:q}},Qe.startTransition=function(j){var q=ie.transition;ie.transition={};try{j()}finally{ie.transition=q}},Qe.unstable_act=H,Qe.useCallback=function(j,q){return ne.current.useCallback(j,q)},Qe.useContext=function(j){return ne.current.useContext(j)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(j){return ne.current.useDeferredValue(j)},Qe.useEffect=function(j,q){return ne.current.useEffect(j,q)},Qe.useId=function(){return ne.current.useId()},Qe.useImperativeHandle=function(j,q,W){return ne.current.useImperativeHandle(j,q,W)},Qe.useInsertionEffect=function(j,q){return ne.current.useInsertionEffect(j,q)},Qe.useLayoutEffect=function(j,q){return ne.current.useLayoutEffect(j,q)},Qe.useMemo=function(j,q){return ne.current.useMemo(j,q)},Qe.useReducer=function(j,q,W){return ne.current.useReducer(j,q,W)},Qe.useRef=function(j){return ne.current.useRef(j)},Qe.useState=function(j){return ne.current.useState(j)},Qe.useSyncExternalStore=function(j,q,W){return ne.current.useSyncExternalStore(j,q,W)},Qe.useTransition=function(){return ne.current.useTransition()},Qe.version="18.3.1",Qe}var Gv;function Kc(){return Gv||(Gv=1,ed.exports=nA()),ed.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function rA(){if(Qv)return el;Qv=1;var n=Kc(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,m){var v,g={},d=null,y=null;m!==void 0&&(d=""+m),h.key!==void 0&&(d=""+h.key),h.ref!==void 0&&(y=h.ref);for(v in h)r.call(h,v)&&!a.hasOwnProperty(v)&&(g[v]=h[v]);if(f&&f.defaultProps)for(v in h=f.defaultProps,h)g[v]===void 0&&(g[v]=h[v]);return{$$typeof:e,type:f,key:d,ref:y,props:g,_owner:o.current}}return el.Fragment=t,el.jsx=u,el.jsxs=u,el}var Xv;function iA(){return Xv||(Xv=1,Zh.exports=rA()),Zh.exports}var K=iA(),de=Kc();const et=xm(de);var rc={},td={exports:{}},Sn={},nd={exports:{}},rd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function oA(){return Yv||(Yv=1,function(n){function e(ie,X){var H=ie.length;ie.push(X);e:for(;0<H;){var j=H-1>>>1,q=ie[j];if(0<o(q,X))ie[j]=X,ie[H]=q,H=j;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var X=ie[0],H=ie.pop();if(H!==X){ie[0]=H;e:for(var j=0,q=ie.length,W=q>>>1;j<W;){var ee=2*(j+1)-1,Z=ie[ee],$=ee+1,Y=ie[$];if(0>o(Z,H))$<q&&0>o(Y,Z)?(ie[j]=Y,ie[$]=H,j=$):(ie[j]=Z,ie[ee]=H,j=ee);else if($<q&&0>o(Y,H))ie[j]=Y,ie[$]=H,j=$;else break e}}return X}function o(ie,X){var H=ie.sortIndex-X.sortIndex;return H!==0?H:ie.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var h=[],m=[],v=1,g=null,d=3,y=!1,b=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(ie){for(var X=t(m);X!==null;){if(X.callback===null)r(m);else if(X.startTime<=ie)r(m),X.sortIndex=X.expirationTime,e(h,X);else break;X=t(m)}}function S(ie){if(w=!1,k(ie),!b)if(t(h)!==null)b=!0,re(L);else{var X=t(m);X!==null&&ne(S,X.startTime-ie)}}function L(ie,X){b=!1,w&&(w=!1,E(I),I=-1),y=!0;var H=d;try{for(k(X),g=t(h);g!==null&&(!(g.expirationTime>X)||ie&&!R());){var j=g.callback;if(typeof j=="function"){g.callback=null,d=g.priorityLevel;var q=j(g.expirationTime<=X);X=n.unstable_now(),typeof q=="function"?g.callback=q:g===t(h)&&r(h),k(X)}else r(h);g=t(h)}if(g!==null)var W=!0;else{var ee=t(m);ee!==null&&ne(S,ee.startTime-X),W=!1}return W}finally{g=null,d=H,y=!1}}var U=!1,O=null,I=-1,M=5,N=-1;function R(){return!(n.unstable_now()-N<M)}function D(){if(O!==null){var ie=n.unstable_now();N=ie;var X=!0;try{X=O(!0,ie)}finally{X?C():(U=!1,O=null)}}else U=!1}var C;if(typeof T=="function")C=function(){T(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,G=z.port2;z.port1.onmessage=D,C=function(){G.postMessage(null)}}else C=function(){_(D,0)};function re(ie){O=ie,U||(U=!0,C())}function ne(ie,X){I=_(function(){ie(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){b||y||(b=!0,re(L))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ie){switch(d){case 1:case 2:case 3:var X=3;break;default:X=d}var H=d;d=X;try{return ie()}finally{d=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,X){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var H=d;d=ie;try{return X()}finally{d=H}},n.unstable_scheduleCallback=function(ie,X,H){var j=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?j+H:j):H=j,ie){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=H+q,ie={id:v++,callback:X,priorityLevel:ie,startTime:H,expirationTime:q,sortIndex:-1},H>j?(ie.sortIndex=H,e(m,ie),t(h)===null&&ie===t(m)&&(w?(E(I),I=-1):w=!0,ne(S,H-j))):(ie.sortIndex=q,e(h,ie),b||y||(b=!0,re(L))),ie},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(ie){var X=d;return function(){var H=d;d=X;try{return ie.apply(this,arguments)}finally{d=H}}}}(rd)),rd}var Jv;function sA(){return Jv||(Jv=1,nd.exports=oA()),nd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function aA(){if(Zv)return Sn;Zv=1;var n=Kc(),e=sA();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},g={};function d(i){return h.call(g,i)?!0:h.call(v,i)?!1:m.test(i)?g[i]=!0:(v[i]=!0,!1)}function y(i,s,l,p){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return p?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b(i,s,l,p){if(s===null||typeof s>"u"||y(i,s,l,p))return!0;if(p)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function w(i,s,l,p,A,x,F){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=p,this.attributeNamespace=A,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=x,this.removeEmptyString=F}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){_[i]=new w(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];_[s]=new w(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){_[i]=new w(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){_[i]=new w(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){_[i]=new w(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){_[i]=new w(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){_[i]=new w(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){_[i]=new w(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){_[i]=new w(i,5,!1,i.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function T(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(E,T);_[s]=new w(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(E,T);_[s]=new w(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(E,T);_[s]=new w(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){_[i]=new w(i,1,!1,i.toLowerCase(),null,!1,!1)}),_.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){_[i]=new w(i,1,!1,i.toLowerCase(),null,!0,!0)});function k(i,s,l,p){var A=_.hasOwnProperty(s)?_[s]:null;(A!==null?A.type!==0:p||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(b(s,l,A,p)&&(l=null),p||A===null?d(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):A.mustUseProperty?i[A.propertyName]=l===null?A.type===3?!1:"":l:(s=A.attributeName,p=A.attributeNamespace,l===null?i.removeAttribute(s):(A=A.type,l=A===3||A===4&&l===!0?"":""+l,p?i.setAttributeNS(p,s,l):i.setAttribute(s,l))))}var S=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),U=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),R=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),ie=Symbol.iterator;function X(i){return i===null||typeof i!="object"?null:(i=ie&&i[ie]||i["@@iterator"],typeof i=="function"?i:null)}var H=Object.assign,j;function q(i){if(j===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);j=s&&s[1]||""}return`
`+j+i}var W=!1;function ee(i,s){if(!i||W)return"";W=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(ce){var p=ce}Reflect.construct(i,[],s)}else{try{s.call()}catch(ce){p=ce}i.call(s.prototype)}else{try{throw Error()}catch(ce){p=ce}i()}}catch(ce){if(ce&&p&&typeof ce.stack=="string"){for(var A=ce.stack.split(`
`),x=p.stack.split(`
`),F=A.length-1,Q=x.length-1;1<=F&&0<=Q&&A[F]!==x[Q];)Q--;for(;1<=F&&0<=Q;F--,Q--)if(A[F]!==x[Q]){if(F!==1||Q!==1)do if(F--,Q--,0>Q||A[F]!==x[Q]){var J=`
`+A[F].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=F&&0<=Q);break}}}finally{W=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?q(i):""}function Z(i){switch(i.tag){case 5:return q(i.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return i=ee(i.type,!1),i;case 11:return i=ee(i.type.render,!1),i;case 1:return i=ee(i.type,!0),i;default:return""}}function $(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case U:return"Portal";case M:return"Profiler";case I:return"StrictMode";case C:return"Suspense";case z:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case R:return(i.displayName||"Context")+".Consumer";case N:return(i._context.displayName||"Context")+".Provider";case D:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case G:return s=i.displayName||null,s!==null?s:$(i.type)||"Memo";case re:s=i._payload,i=i._init;try{return $(i(s))}catch{}}return null}function Y(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function oe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function se(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function pe(i){var s=se(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),p=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var A=l.get,x=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return A.call(this)},set:function(F){p=""+F,x.call(this,F)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return p},setValue:function(F){p=""+F},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ie(i){i._valueTracker||(i._valueTracker=pe(i))}function De(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),p="";return i&&(p=se(i)?i.checked?"true":"false":i.value),i=p,i!==l?(s.setValue(i),!0):!1}function Ve(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function We(i,s){var l=s.checked;return H({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Xe(i,s){var l=s.defaultValue==null?"":s.defaultValue,p=s.checked!=null?s.checked:s.defaultChecked;l=oe(s.value!=null?s.value:l),i._wrapperState={initialChecked:p,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ot(i,s){s=s.checked,s!=null&&k(i,"checked",s,!1)}function mt(i,s){Ot(i,s);var l=oe(s.value),p=s.type;if(l!=null)p==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?me(i,s.type,l):s.hasOwnProperty("defaultValue")&&me(i,s.type,oe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function he(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var p=s.type;if(!(p!=="submit"&&p!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function me(i,s,l){(s!=="number"||Ve(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var be=Array.isArray;function Ae(i,s,l,p){if(i=i.options,s){s={};for(var A=0;A<l.length;A++)s["$"+l[A]]=!0;for(l=0;l<i.length;l++)A=s.hasOwnProperty("$"+i[l].value),i[l].selected!==A&&(i[l].selected=A),A&&p&&(i[l].defaultSelected=!0)}else{for(l=""+oe(l),s=null,A=0;A<i.length;A++){if(i[A].value===l){i[A].selected=!0,p&&(i[A].defaultSelected=!0);return}s!==null||i[A].disabled||(s=i[A])}s!==null&&(s.selected=!0)}}function ye(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return H({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Be(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(be(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:oe(l)}}function ze(i,s){var l=oe(s.value),p=oe(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),p!=null&&(i.defaultValue=""+p)}function Ke(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function ot(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?ot(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var rt,oo=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,p,A){MSApp.execUnsafeLocalFunction(function(){return i(s,l,p,A)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(rt=rt||document.createElement("div"),rt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=rt.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ct(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var nn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},so=["Webkit","ms","Moz","O"];Object.keys(nn).forEach(function(i){so.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),nn[s]=nn[i]})});function fa(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||nn.hasOwnProperty(i)&&nn[i]?(""+s).trim():s+"px"}function ha(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var p=l.indexOf("--")===0,A=fa(l,s[l],p);l==="float"&&(l="cssFloat"),p?i.setProperty(l,A):i[l]=A}}var da=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pa(i,s){if(s){if(da[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ma(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ao=null;function Go(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Qo=null,Vn=null,hr=null;function Xo(i){if(i=Ua(i)){if(typeof Qo!="function")throw Error(t(280));var s=i.stateNode;s&&(s=yu(s),Qo(i.stateNode,i.type,s))}}function dr(i){Vn?hr?hr.push(i):hr=[i]:Vn=i}function ga(){if(Vn){var i=Vn,s=hr;if(hr=Vn=null,Xo(i),s)for(i=0;i<s.length;i++)Xo(s[i])}}function lo(i,s){return i(s)}function ya(){}var Vr=!1;function va(i,s,l){if(Vr)return i(s,l);Vr=!0;try{return lo(i,s,l)}finally{Vr=!1,(Vn!==null||hr!==null)&&(ya(),ga())}}function kt(i,s){var l=i.stateNode;if(l===null)return null;var p=yu(l);if(p===null)return null;l=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Yo=!1;if(f)try{var Gn={};Object.defineProperty(Gn,"passive",{get:function(){Yo=!0}}),window.addEventListener("test",Gn,Gn),window.removeEventListener("test",Gn,Gn)}catch{Yo=!1}function uo(i,s,l,p,A,x,F,Q,J){var ce=Array.prototype.slice.call(arguments,3);try{s.apply(l,ce)}catch(_e){this.onError(_e)}}var co=!1,Jo=null,Qn=!1,_a=null,Rf={onError:function(i){co=!0,Jo=i}};function Zo(i,s,l,p,A,x,F,Q,J){co=!1,Jo=null,uo.apply(Rf,arguments)}function Bl(i,s,l,p,A,x,F,Q,J){if(Zo.apply(this,arguments),co){if(co){var ce=Jo;co=!1,Jo=null}else throw Error(t(198));Qn||(Qn=!0,_a=ce)}}function Xn(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function fo(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Yn(i){if(Xn(i)!==i)throw Error(t(188))}function zl(i){var s=i.alternate;if(!s){if(s=Xn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,p=s;;){var A=l.return;if(A===null)break;var x=A.alternate;if(x===null){if(p=A.return,p!==null){l=p;continue}break}if(A.child===x.child){for(x=A.child;x;){if(x===l)return Yn(A),i;if(x===p)return Yn(A),s;x=x.sibling}throw Error(t(188))}if(l.return!==p.return)l=A,p=x;else{for(var F=!1,Q=A.child;Q;){if(Q===l){F=!0,l=A,p=x;break}if(Q===p){F=!0,p=A,l=x;break}Q=Q.sibling}if(!F){for(Q=x.child;Q;){if(Q===l){F=!0,l=x,p=A;break}if(Q===p){F=!0,p=x,l=A;break}Q=Q.sibling}if(!F)throw Error(t(189))}}if(l.alternate!==p)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function Ea(i){return i=zl(i),i!==null?es(i):null}function es(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=es(i);if(s!==null)return s;i=i.sibling}return null}var ts=e.unstable_scheduleCallback,wa=e.unstable_cancelCallback,$l=e.unstable_shouldYield,kf=e.unstable_requestPaint,dt=e.unstable_now,Hl=e.unstable_getCurrentPriorityLevel,ho=e.unstable_ImmediatePriority,hi=e.unstable_UserBlockingPriority,Un=e.unstable_NormalPriority,Ta=e.unstable_LowPriority,Wl=e.unstable_IdlePriority,po=null,kn=null;function Kl(i){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(po,i,void 0,(i.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:Ql,ba=Math.log,Gl=Math.LN2;function Ql(i){return i>>>=0,i===0?32:31-(ba(i)/Gl|0)|0}var ns=64,rs=4194304;function di(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function mo(i,s){var l=i.pendingLanes;if(l===0)return 0;var p=0,A=i.suspendedLanes,x=i.pingedLanes,F=l&268435455;if(F!==0){var Q=F&~A;Q!==0?p=di(Q):(x&=F,x!==0&&(p=di(x)))}else F=l&~A,F!==0?p=di(F):x!==0&&(p=di(x));if(p===0)return 0;if(s!==0&&s!==p&&!(s&A)&&(A=p&-p,x=s&-s,A>=x||A===16&&(x&4194240)!==0))return s;if(p&4&&(p|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=p;0<s;)l=31-hn(s),A=1<<l,p|=i[l],s&=~A;return p}function Cf(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ur(i,s){for(var l=i.suspendedLanes,p=i.pingedLanes,A=i.expirationTimes,x=i.pendingLanes;0<x;){var F=31-hn(x),Q=1<<F,J=A[F];J===-1?(!(Q&l)||Q&p)&&(A[F]=Cf(Q,s)):J<=s&&(i.expiredLanes|=Q),x&=~Q}}function Cn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function go(){var i=ns;return ns<<=1,!(ns&4194240)&&(ns=64),i}function pi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function mi(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-hn(s),i[s]=l}function ht(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<l;){var A=31-hn(l),x=1<<A;s[A]=0,p[A]=-1,i[A]=-1,l&=~x}}function gi(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var p=31-hn(l),A=1<<p;A&s|i[p]&s&&(i[p]|=s),l&=~A}}var Ze=0;function yi(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Xl,is,Yl,Jl,Zl,Sa=!1,pr=[],Gt=null,Jn=null,Zn=null,vi=new Map,Fn=new Map,mr=[],Pf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eu(i,s){switch(i){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":vi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fn.delete(s.pointerId)}}function yn(i,s,l,p,A,x){return i===null||i.nativeEvent!==x?(i={blockedOn:s,domEventName:l,eventSystemFlags:p,nativeEvent:x,targetContainers:[A]},s!==null&&(s=Ua(s),s!==null&&is(s)),i):(i.eventSystemFlags|=p,s=i.targetContainers,A!==null&&s.indexOf(A)===-1&&s.push(A),i)}function Of(i,s,l,p,A){switch(s){case"focusin":return Gt=yn(Gt,i,s,l,p,A),!0;case"dragenter":return Jn=yn(Jn,i,s,l,p,A),!0;case"mouseover":return Zn=yn(Zn,i,s,l,p,A),!0;case"pointerover":var x=A.pointerId;return vi.set(x,yn(vi.get(x)||null,i,s,l,p,A)),!0;case"gotpointercapture":return x=A.pointerId,Fn.set(x,yn(Fn.get(x)||null,i,s,l,p,A)),!0}return!1}function tu(i){var s=wo(i.target);if(s!==null){var l=Xn(s);if(l!==null){if(s=l.tag,s===13){if(s=fo(l),s!==null){i.blockedOn=s,Zl(i.priority,function(){Yl(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Fr(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=os(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var p=new l.constructor(l.type,l);ao=p,l.target.dispatchEvent(p),ao=null}else return s=Ua(l),s!==null&&is(s),i.blockedOn=l,!1;s.shift()}return!0}function yo(i,s,l){Fr(i)&&l.delete(s)}function nu(){Sa=!1,Gt!==null&&Fr(Gt)&&(Gt=null),Jn!==null&&Fr(Jn)&&(Jn=null),Zn!==null&&Fr(Zn)&&(Zn=null),vi.forEach(yo),Fn.forEach(yo)}function er(i,s){i.blockedOn===s&&(i.blockedOn=null,Sa||(Sa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nu)))}function tr(i){function s(A){return er(A,i)}if(0<pr.length){er(pr[0],i);for(var l=1;l<pr.length;l++){var p=pr[l];p.blockedOn===i&&(p.blockedOn=null)}}for(Gt!==null&&er(Gt,i),Jn!==null&&er(Jn,i),Zn!==null&&er(Zn,i),vi.forEach(s),Fn.forEach(s),l=0;l<mr.length;l++)p=mr[l],p.blockedOn===i&&(p.blockedOn=null);for(;0<mr.length&&(l=mr[0],l.blockedOn===null);)tu(l),l.blockedOn===null&&mr.shift()}var qr=S.ReactCurrentBatchConfig,_i=!0;function _t(i,s,l,p){var A=Ze,x=qr.transition;qr.transition=null;try{Ze=1,Aa(i,s,l,p)}finally{Ze=A,qr.transition=x}}function xf(i,s,l,p){var A=Ze,x=qr.transition;qr.transition=null;try{Ze=4,Aa(i,s,l,p)}finally{Ze=A,qr.transition=x}}function Aa(i,s,l,p){if(_i){var A=os(i,s,l,p);if(A===null)zf(i,s,p,vo,l),eu(i,p);else if(Of(A,i,s,l,p))p.stopPropagation();else if(eu(i,p),s&4&&-1<Pf.indexOf(i)){for(;A!==null;){var x=Ua(A);if(x!==null&&Xl(x),x=os(i,s,l,p),x===null&&zf(i,s,p,vo,l),x===A)break;A=x}A!==null&&p.stopPropagation()}else zf(i,s,p,null,l)}}var vo=null;function os(i,s,l,p){if(vo=null,i=Go(p),i=wo(i),i!==null)if(s=Xn(i),s===null)i=null;else if(l=s.tag,l===13){if(i=fo(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return vo=i,null}function Ia(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hl()){case ho:return 1;case hi:return 4;case Un:case Ta:return 16;case Wl:return 536870912;default:return 16}default:return 16}}var Pn=null,ss=null,vn=null;function Ra(){if(vn)return vn;var i,s=ss,l=s.length,p,A="value"in Pn?Pn.value:Pn.textContent,x=A.length;for(i=0;i<l&&s[i]===A[i];i++);var F=l-i;for(p=1;p<=F&&s[l-p]===A[x-p];p++);return vn=A.slice(i,1<p?1-p:void 0)}function as(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function gr(){return!0}function ka(){return!1}function Qt(i){function s(l,p,A,x,F){this._reactName=l,this._targetInst=A,this.type=p,this.nativeEvent=x,this.target=F,this.currentTarget=null;for(var Q in i)i.hasOwnProperty(Q)&&(l=i[Q],this[Q]=l?l(x):x[Q]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?gr:ka,this.isPropagationStopped=ka,this}return H(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),s}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=Qt(nr),yr=H({},nr,{view:0,detail:0}),Nf=Qt(yr),us,Br,Ei,_o=H({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ei&&(Ei&&i.type==="mousemove"?(us=i.screenX-Ei.screenX,Br=i.screenY-Ei.screenY):Br=us=0,Ei=i),us)},movementY:function(i){return"movementY"in i?i.movementY:Br}}),cs=Qt(_o),Ca=H({},_o,{dataTransfer:0}),ru=Qt(Ca),fs=H({},yr,{relatedTarget:0}),hs=Qt(fs),iu=H({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),zr=Qt(iu),ou=H({},nr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),su=Qt(ou),au=H({},nr,{data:0}),Pa=Qt(au),ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=lu[i])?!!s[i]:!1}function vr(){return uu}var c=H({},yr,{key:function(i){if(i.key){var s=ds[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=as(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?dn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(i){return i.type==="keypress"?as(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?as(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),P=Qt(c),V=H({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B=Qt(V),ae=H({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),fe=Qt(ae),Se=H({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ft=Qt(Se),Lt=H({},_o,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),tt=Qt(Lt),qt=[9,13,27,32],xt=f&&"CompositionEvent"in window,qn=null;f&&"documentMode"in document&&(qn=document.documentMode);var On=f&&"TextEvent"in window&&!qn,Eo=f&&(!xt||qn&&8<qn&&11>=qn),ps=" ",qg=!1;function Bg(i,s){switch(i){case"keyup":return qt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ms=!1;function eS(i,s){switch(i){case"compositionend":return zg(s);case"keypress":return s.which!==32?null:(qg=!0,ps);case"textInput":return i=s.data,i===ps&&qg?null:i;default:return null}}function tS(i,s){if(ms)return i==="compositionend"||!xt&&Bg(i,s)?(i=Ra(),vn=ss=Pn=null,ms=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Eo&&s.locale!=="ko"?null:s.data;default:return null}}var nS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $g(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!nS[i.type]:s==="textarea"}function Hg(i,s,l,p){dr(p),s=pu(s,"onChange"),0<s.length&&(l=new ls("onChange","change",null,l,p),i.push({event:l,listeners:s}))}var Oa=null,xa=null;function rS(i){uy(i,0)}function cu(i){var s=Es(i);if(De(s))return i}function iS(i,s){if(i==="change")return s}var Wg=!1;if(f){var Df;if(f){var Lf="oninput"in document;if(!Lf){var Kg=document.createElement("div");Kg.setAttribute("oninput","return;"),Lf=typeof Kg.oninput=="function"}Df=Lf}else Df=!1;Wg=Df&&(!document.documentMode||9<document.documentMode)}function Gg(){Oa&&(Oa.detachEvent("onpropertychange",Qg),xa=Oa=null)}function Qg(i){if(i.propertyName==="value"&&cu(xa)){var s=[];Hg(s,xa,i,Go(i)),va(rS,s)}}function oS(i,s,l){i==="focusin"?(Gg(),Oa=s,xa=l,Oa.attachEvent("onpropertychange",Qg)):i==="focusout"&&Gg()}function sS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return cu(xa)}function aS(i,s){if(i==="click")return cu(s)}function lS(i,s){if(i==="input"||i==="change")return cu(s)}function uS(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var rr=typeof Object.is=="function"?Object.is:uS;function Na(i,s){if(rr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),p=Object.keys(s);if(l.length!==p.length)return!1;for(p=0;p<l.length;p++){var A=l[p];if(!h.call(s,A)||!rr(i[A],s[A]))return!1}return!0}function Xg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Yg(i,s){var l=Xg(i);i=0;for(var p;l;){if(l.nodeType===3){if(p=i+l.textContent.length,i<=s&&p>=s)return{node:l,offset:s-i};i=p}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Xg(l)}}function Jg(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Jg(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Zg(){for(var i=window,s=Ve();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Ve(i.document)}return s}function Mf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function cS(i){var s=Zg(),l=i.focusedElem,p=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&Jg(l.ownerDocument.documentElement,l)){if(p!==null&&Mf(l)){if(s=p.start,i=p.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var A=l.textContent.length,x=Math.min(p.start,A);p=p.end===void 0?x:Math.min(p.end,A),!i.extend&&x>p&&(A=p,p=x,x=A),A=Yg(l,x);var F=Yg(l,p);A&&F&&(i.rangeCount!==1||i.anchorNode!==A.node||i.anchorOffset!==A.offset||i.focusNode!==F.node||i.focusOffset!==F.offset)&&(s=s.createRange(),s.setStart(A.node,A.offset),i.removeAllRanges(),x>p?(i.addRange(s),i.extend(F.node,F.offset)):(s.setEnd(F.node,F.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var fS=f&&"documentMode"in document&&11>=document.documentMode,gs=null,jf=null,Da=null,Vf=!1;function ey(i,s,l){var p=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Vf||gs==null||gs!==Ve(p)||(p=gs,"selectionStart"in p&&Mf(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Da&&Na(Da,p)||(Da=p,p=pu(jf,"onSelect"),0<p.length&&(s=new ls("onSelect","select",null,s,l),i.push({event:s,listeners:p}),s.target=gs)))}function fu(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var ys={animationend:fu("Animation","AnimationEnd"),animationiteration:fu("Animation","AnimationIteration"),animationstart:fu("Animation","AnimationStart"),transitionend:fu("Transition","TransitionEnd")},Uf={},ty={};f&&(ty=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function hu(i){if(Uf[i])return Uf[i];if(!ys[i])return i;var s=ys[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in ty)return Uf[i]=s[l];return i}var ny=hu("animationend"),ry=hu("animationiteration"),iy=hu("animationstart"),oy=hu("transitionend"),sy=new Map,ay="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(i,s){sy.set(i,s),a(s,[i])}for(var Ff=0;Ff<ay.length;Ff++){var qf=ay[Ff],hS=qf.toLowerCase(),dS=qf[0].toUpperCase()+qf.slice(1);wi(hS,"on"+dS)}wi(ny,"onAnimationEnd"),wi(ry,"onAnimationIteration"),wi(iy,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(oy,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pS=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function ly(i,s,l){var p=i.type||"unknown-event";i.currentTarget=l,Bl(p,s,void 0,i),i.currentTarget=null}function uy(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var p=i[l],A=p.event;p=p.listeners;e:{var x=void 0;if(s)for(var F=p.length-1;0<=F;F--){var Q=p[F],J=Q.instance,ce=Q.currentTarget;if(Q=Q.listener,J!==x&&A.isPropagationStopped())break e;ly(A,Q,ce),x=J}else for(F=0;F<p.length;F++){if(Q=p[F],J=Q.instance,ce=Q.currentTarget,Q=Q.listener,J!==x&&A.isPropagationStopped())break e;ly(A,Q,ce),x=J}}}if(Qn)throw i=_a,Qn=!1,_a=null,i}function gt(i,s){var l=s[Qf];l===void 0&&(l=s[Qf]=new Set);var p=i+"__bubble";l.has(p)||(cy(s,i,2,!1),l.add(p))}function Bf(i,s,l){var p=0;s&&(p|=4),cy(l,i,p,s)}var du="_reactListening"+Math.random().toString(36).slice(2);function Ma(i){if(!i[du]){i[du]=!0,r.forEach(function(l){l!=="selectionchange"&&(pS.has(l)||Bf(l,!1,i),Bf(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[du]||(s[du]=!0,Bf("selectionchange",!1,s))}}function cy(i,s,l,p){switch(Ia(s)){case 1:var A=_t;break;case 4:A=xf;break;default:A=Aa}l=A.bind(null,s,l,i),A=void 0,!Yo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(A=!0),p?A!==void 0?i.addEventListener(s,l,{capture:!0,passive:A}):i.addEventListener(s,l,!0):A!==void 0?i.addEventListener(s,l,{passive:A}):i.addEventListener(s,l,!1)}function zf(i,s,l,p,A){var x=p;if(!(s&1)&&!(s&2)&&p!==null)e:for(;;){if(p===null)return;var F=p.tag;if(F===3||F===4){var Q=p.stateNode.containerInfo;if(Q===A||Q.nodeType===8&&Q.parentNode===A)break;if(F===4)for(F=p.return;F!==null;){var J=F.tag;if((J===3||J===4)&&(J=F.stateNode.containerInfo,J===A||J.nodeType===8&&J.parentNode===A))return;F=F.return}for(;Q!==null;){if(F=wo(Q),F===null)return;if(J=F.tag,J===5||J===6){p=x=F;continue e}Q=Q.parentNode}}p=p.return}va(function(){var ce=x,_e=Go(l),we=[];e:{var ve=sy.get(i);if(ve!==void 0){var Re=ls,Pe=i;switch(i){case"keypress":if(as(l)===0)break e;case"keydown":case"keyup":Re=P;break;case"focusin":Pe="focus",Re=hs;break;case"focusout":Pe="blur",Re=hs;break;case"beforeblur":case"afterblur":Re=hs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=cs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=fe;break;case ny:case ry:case iy:Re=zr;break;case oy:Re=ft;break;case"scroll":Re=Nf;break;case"wheel":Re=tt;break;case"copy":case"cut":case"paste":Re=su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=B}var Oe=(s&4)!==0,Ct=!Oe&&i==="scroll",le=Oe?ve!==null?ve+"Capture":null:ve;Oe=[];for(var te=ce,ue;te!==null;){ue=te;var Te=ue.stateNode;if(ue.tag===5&&Te!==null&&(ue=Te,le!==null&&(Te=kt(te,le),Te!=null&&Oe.push(ja(te,Te,ue)))),Ct)break;te=te.return}0<Oe.length&&(ve=new Re(ve,Pe,null,l,_e),we.push({event:ve,listeners:Oe}))}}if(!(s&7)){e:{if(ve=i==="mouseover"||i==="pointerover",Re=i==="mouseout"||i==="pointerout",ve&&l!==ao&&(Pe=l.relatedTarget||l.fromElement)&&(wo(Pe)||Pe[$r]))break e;if((Re||ve)&&(ve=_e.window===_e?_e:(ve=_e.ownerDocument)?ve.defaultView||ve.parentWindow:window,Re?(Pe=l.relatedTarget||l.toElement,Re=ce,Pe=Pe?wo(Pe):null,Pe!==null&&(Ct=Xn(Pe),Pe!==Ct||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(Re=null,Pe=ce),Re!==Pe)){if(Oe=cs,Te="onMouseLeave",le="onMouseEnter",te="mouse",(i==="pointerout"||i==="pointerover")&&(Oe=B,Te="onPointerLeave",le="onPointerEnter",te="pointer"),Ct=Re==null?ve:Es(Re),ue=Pe==null?ve:Es(Pe),ve=new Oe(Te,te+"leave",Re,l,_e),ve.target=Ct,ve.relatedTarget=ue,Te=null,wo(_e)===ce&&(Oe=new Oe(le,te+"enter",Pe,l,_e),Oe.target=ue,Oe.relatedTarget=Ct,Te=Oe),Ct=Te,Re&&Pe)t:{for(Oe=Re,le=Pe,te=0,ue=Oe;ue;ue=vs(ue))te++;for(ue=0,Te=le;Te;Te=vs(Te))ue++;for(;0<te-ue;)Oe=vs(Oe),te--;for(;0<ue-te;)le=vs(le),ue--;for(;te--;){if(Oe===le||le!==null&&Oe===le.alternate)break t;Oe=vs(Oe),le=vs(le)}Oe=null}else Oe=null;Re!==null&&fy(we,ve,Re,Oe,!1),Pe!==null&&Ct!==null&&fy(we,Ct,Pe,Oe,!0)}}e:{if(ve=ce?Es(ce):window,Re=ve.nodeName&&ve.nodeName.toLowerCase(),Re==="select"||Re==="input"&&ve.type==="file")var xe=iS;else if($g(ve))if(Wg)xe=lS;else{xe=sS;var Le=oS}else(Re=ve.nodeName)&&Re.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(xe=aS);if(xe&&(xe=xe(i,ce))){Hg(we,xe,l,_e);break e}Le&&Le(i,ve,ce),i==="focusout"&&(Le=ve._wrapperState)&&Le.controlled&&ve.type==="number"&&me(ve,"number",ve.value)}switch(Le=ce?Es(ce):window,i){case"focusin":($g(Le)||Le.contentEditable==="true")&&(gs=Le,jf=ce,Da=null);break;case"focusout":Da=jf=gs=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,ey(we,l,_e);break;case"selectionchange":if(fS)break;case"keydown":case"keyup":ey(we,l,_e)}var Me;if(xt)e:{switch(i){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else ms?Bg(i,l)&&(Fe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Fe="onCompositionStart");Fe&&(Eo&&l.locale!=="ko"&&(ms||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&ms&&(Me=Ra()):(Pn=_e,ss="value"in Pn?Pn.value:Pn.textContent,ms=!0)),Le=pu(ce,Fe),0<Le.length&&(Fe=new Pa(Fe,i,null,l,_e),we.push({event:Fe,listeners:Le}),Me?Fe.data=Me:(Me=zg(l),Me!==null&&(Fe.data=Me)))),(Me=On?eS(i,l):tS(i,l))&&(ce=pu(ce,"onBeforeInput"),0<ce.length&&(_e=new Pa("onBeforeInput","beforeinput",null,l,_e),we.push({event:_e,listeners:ce}),_e.data=Me))}uy(we,s)})}function ja(i,s,l){return{instance:i,listener:s,currentTarget:l}}function pu(i,s){for(var l=s+"Capture",p=[];i!==null;){var A=i,x=A.stateNode;A.tag===5&&x!==null&&(A=x,x=kt(i,l),x!=null&&p.unshift(ja(i,x,A)),x=kt(i,s),x!=null&&p.push(ja(i,x,A))),i=i.return}return p}function vs(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function fy(i,s,l,p,A){for(var x=s._reactName,F=[];l!==null&&l!==p;){var Q=l,J=Q.alternate,ce=Q.stateNode;if(J!==null&&J===p)break;Q.tag===5&&ce!==null&&(Q=ce,A?(J=kt(l,x),J!=null&&F.unshift(ja(l,J,Q))):A||(J=kt(l,x),J!=null&&F.push(ja(l,J,Q)))),l=l.return}F.length!==0&&i.push({event:s,listeners:F})}var mS=/\r\n?/g,gS=/\u0000|\uFFFD/g;function hy(i){return(typeof i=="string"?i:""+i).replace(mS,`
`).replace(gS,"")}function mu(i,s,l){if(s=hy(s),hy(i)!==s&&l)throw Error(t(425))}function gu(){}var $f=null,Hf=null;function Wf(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Kf=typeof setTimeout=="function"?setTimeout:void 0,yS=typeof clearTimeout=="function"?clearTimeout:void 0,dy=typeof Promise=="function"?Promise:void 0,vS=typeof queueMicrotask=="function"?queueMicrotask:typeof dy<"u"?function(i){return dy.resolve(null).then(i).catch(_S)}:Kf;function _S(i){setTimeout(function(){throw i})}function Gf(i,s){var l=s,p=0;do{var A=l.nextSibling;if(i.removeChild(l),A&&A.nodeType===8)if(l=A.data,l==="/$"){if(p===0){i.removeChild(A),tr(s);return}p--}else l!=="$"&&l!=="$?"&&l!=="$!"||p++;l=A}while(l);tr(s)}function Ti(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function py(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var _s=Math.random().toString(36).slice(2),_r="__reactFiber$"+_s,Va="__reactProps$"+_s,$r="__reactContainer$"+_s,Qf="__reactEvents$"+_s,ES="__reactListeners$"+_s,wS="__reactHandles$"+_s;function wo(i){var s=i[_r];if(s)return s;for(var l=i.parentNode;l;){if(s=l[$r]||l[_r]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=py(i);i!==null;){if(l=i[_r])return l;i=py(i)}return s}i=l,l=i.parentNode}return null}function Ua(i){return i=i[_r]||i[$r],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Es(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function yu(i){return i[Va]||null}var Xf=[],ws=-1;function bi(i){return{current:i}}function yt(i){0>ws||(i.current=Xf[ws],Xf[ws]=null,ws--)}function pt(i,s){ws++,Xf[ws]=i.current,i.current=s}var Si={},rn=bi(Si),_n=bi(!1),To=Si;function Ts(i,s){var l=i.type.contextTypes;if(!l)return Si;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===s)return p.__reactInternalMemoizedMaskedChildContext;var A={},x;for(x in l)A[x]=s[x];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=A),A}function En(i){return i=i.childContextTypes,i!=null}function vu(){yt(_n),yt(rn)}function my(i,s,l){if(rn.current!==Si)throw Error(t(168));pt(rn,s),pt(_n,l)}function gy(i,s,l){var p=i.stateNode;if(s=s.childContextTypes,typeof p.getChildContext!="function")return l;p=p.getChildContext();for(var A in p)if(!(A in s))throw Error(t(108,Y(i)||"Unknown",A));return H({},l,p)}function _u(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Si,To=rn.current,pt(rn,i),pt(_n,_n.current),!0}function yy(i,s,l){var p=i.stateNode;if(!p)throw Error(t(169));l?(i=gy(i,s,To),p.__reactInternalMemoizedMergedChildContext=i,yt(_n),yt(rn),pt(rn,i)):yt(_n),pt(_n,l)}var Hr=null,Eu=!1,Yf=!1;function vy(i){Hr===null?Hr=[i]:Hr.push(i)}function TS(i){Eu=!0,vy(i)}function Ai(){if(!Yf&&Hr!==null){Yf=!0;var i=0,s=Ze;try{var l=Hr;for(Ze=1;i<l.length;i++){var p=l[i];do p=p(!0);while(p!==null)}Hr=null,Eu=!1}catch(A){throw Hr!==null&&(Hr=Hr.slice(i+1)),ts(ho,Ai),A}finally{Ze=s,Yf=!1}}return null}var bs=[],Ss=0,wu=null,Tu=0,Bn=[],zn=0,bo=null,Wr=1,Kr="";function So(i,s){bs[Ss++]=Tu,bs[Ss++]=wu,wu=i,Tu=s}function _y(i,s,l){Bn[zn++]=Wr,Bn[zn++]=Kr,Bn[zn++]=bo,bo=i;var p=Wr;i=Kr;var A=32-hn(p)-1;p&=~(1<<A),l+=1;var x=32-hn(s)+A;if(30<x){var F=A-A%5;x=(p&(1<<F)-1).toString(32),p>>=F,A-=F,Wr=1<<32-hn(s)+A|l<<A|p,Kr=x+i}else Wr=1<<x|l<<A|p,Kr=i}function Jf(i){i.return!==null&&(So(i,1),_y(i,1,0))}function Zf(i){for(;i===wu;)wu=bs[--Ss],bs[Ss]=null,Tu=bs[--Ss],bs[Ss]=null;for(;i===bo;)bo=Bn[--zn],Bn[zn]=null,Kr=Bn[--zn],Bn[zn]=null,Wr=Bn[--zn],Bn[zn]=null}var xn=null,Nn=null,Et=!1,ir=null;function Ey(i,s){var l=Kn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function wy(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,xn=i,Nn=Ti(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,xn=i,Nn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=bo!==null?{id:Wr,overflow:Kr}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Kn(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,xn=i,Nn=null,!0):!1;default:return!1}}function eh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function th(i){if(Et){var s=Nn;if(s){var l=s;if(!wy(i,s)){if(eh(i))throw Error(t(418));s=Ti(l.nextSibling);var p=xn;s&&wy(i,s)?Ey(p,l):(i.flags=i.flags&-4097|2,Et=!1,xn=i)}}else{if(eh(i))throw Error(t(418));i.flags=i.flags&-4097|2,Et=!1,xn=i}}}function Ty(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xn=i}function bu(i){if(i!==xn)return!1;if(!Et)return Ty(i),Et=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Wf(i.type,i.memoizedProps)),s&&(s=Nn)){if(eh(i))throw by(),Error(t(418));for(;s;)Ey(i,s),s=Ti(s.nextSibling)}if(Ty(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){Nn=Ti(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}Nn=null}}else Nn=xn?Ti(i.stateNode.nextSibling):null;return!0}function by(){for(var i=Nn;i;)i=Ti(i.nextSibling)}function As(){Nn=xn=null,Et=!1}function nh(i){ir===null?ir=[i]:ir.push(i)}var bS=S.ReactCurrentBatchConfig;function Fa(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var p=l.stateNode}if(!p)throw Error(t(147,i));var A=p,x=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===x?s.ref:(s=function(F){var Q=A.refs;F===null?delete Q[x]:Q[x]=F},s._stringRef=x,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Su(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Sy(i){var s=i._init;return s(i._payload)}function Ay(i){function s(le,te){if(i){var ue=le.deletions;ue===null?(le.deletions=[te],le.flags|=16):ue.push(te)}}function l(le,te){if(!i)return null;for(;te!==null;)s(le,te),te=te.sibling;return null}function p(le,te){for(le=new Map;te!==null;)te.key!==null?le.set(te.key,te):le.set(te.index,te),te=te.sibling;return le}function A(le,te){return le=Ni(le,te),le.index=0,le.sibling=null,le}function x(le,te,ue){return le.index=ue,i?(ue=le.alternate,ue!==null?(ue=ue.index,ue<te?(le.flags|=2,te):ue):(le.flags|=2,te)):(le.flags|=1048576,te)}function F(le){return i&&le.alternate===null&&(le.flags|=2),le}function Q(le,te,ue,Te){return te===null||te.tag!==6?(te=Kh(ue,le.mode,Te),te.return=le,te):(te=A(te,ue),te.return=le,te)}function J(le,te,ue,Te){var xe=ue.type;return xe===O?_e(le,te,ue.props.children,Te,ue.key):te!==null&&(te.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===re&&Sy(xe)===te.type)?(Te=A(te,ue.props),Te.ref=Fa(le,te,ue),Te.return=le,Te):(Te=Gu(ue.type,ue.key,ue.props,null,le.mode,Te),Te.ref=Fa(le,te,ue),Te.return=le,Te)}function ce(le,te,ue,Te){return te===null||te.tag!==4||te.stateNode.containerInfo!==ue.containerInfo||te.stateNode.implementation!==ue.implementation?(te=Gh(ue,le.mode,Te),te.return=le,te):(te=A(te,ue.children||[]),te.return=le,te)}function _e(le,te,ue,Te,xe){return te===null||te.tag!==7?(te=xo(ue,le.mode,Te,xe),te.return=le,te):(te=A(te,ue),te.return=le,te)}function we(le,te,ue){if(typeof te=="string"&&te!==""||typeof te=="number")return te=Kh(""+te,le.mode,ue),te.return=le,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case L:return ue=Gu(te.type,te.key,te.props,null,le.mode,ue),ue.ref=Fa(le,null,te),ue.return=le,ue;case U:return te=Gh(te,le.mode,ue),te.return=le,te;case re:var Te=te._init;return we(le,Te(te._payload),ue)}if(be(te)||X(te))return te=xo(te,le.mode,ue,null),te.return=le,te;Su(le,te)}return null}function ve(le,te,ue,Te){var xe=te!==null?te.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return xe!==null?null:Q(le,te,""+ue,Te);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case L:return ue.key===xe?J(le,te,ue,Te):null;case U:return ue.key===xe?ce(le,te,ue,Te):null;case re:return xe=ue._init,ve(le,te,xe(ue._payload),Te)}if(be(ue)||X(ue))return xe!==null?null:_e(le,te,ue,Te,null);Su(le,ue)}return null}function Re(le,te,ue,Te,xe){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return le=le.get(ue)||null,Q(te,le,""+Te,xe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case L:return le=le.get(Te.key===null?ue:Te.key)||null,J(te,le,Te,xe);case U:return le=le.get(Te.key===null?ue:Te.key)||null,ce(te,le,Te,xe);case re:var Le=Te._init;return Re(le,te,ue,Le(Te._payload),xe)}if(be(Te)||X(Te))return le=le.get(ue)||null,_e(te,le,Te,xe,null);Su(te,Te)}return null}function Pe(le,te,ue,Te){for(var xe=null,Le=null,Me=te,Fe=te=0,$t=null;Me!==null&&Fe<ue.length;Fe++){Me.index>Fe?($t=Me,Me=null):$t=Me.sibling;var st=ve(le,Me,ue[Fe],Te);if(st===null){Me===null&&(Me=$t);break}i&&Me&&st.alternate===null&&s(le,Me),te=x(st,te,Fe),Le===null?xe=st:Le.sibling=st,Le=st,Me=$t}if(Fe===ue.length)return l(le,Me),Et&&So(le,Fe),xe;if(Me===null){for(;Fe<ue.length;Fe++)Me=we(le,ue[Fe],Te),Me!==null&&(te=x(Me,te,Fe),Le===null?xe=Me:Le.sibling=Me,Le=Me);return Et&&So(le,Fe),xe}for(Me=p(le,Me);Fe<ue.length;Fe++)$t=Re(Me,le,Fe,ue[Fe],Te),$t!==null&&(i&&$t.alternate!==null&&Me.delete($t.key===null?Fe:$t.key),te=x($t,te,Fe),Le===null?xe=$t:Le.sibling=$t,Le=$t);return i&&Me.forEach(function(Di){return s(le,Di)}),Et&&So(le,Fe),xe}function Oe(le,te,ue,Te){var xe=X(ue);if(typeof xe!="function")throw Error(t(150));if(ue=xe.call(ue),ue==null)throw Error(t(151));for(var Le=xe=null,Me=te,Fe=te=0,$t=null,st=ue.next();Me!==null&&!st.done;Fe++,st=ue.next()){Me.index>Fe?($t=Me,Me=null):$t=Me.sibling;var Di=ve(le,Me,st.value,Te);if(Di===null){Me===null&&(Me=$t);break}i&&Me&&Di.alternate===null&&s(le,Me),te=x(Di,te,Fe),Le===null?xe=Di:Le.sibling=Di,Le=Di,Me=$t}if(st.done)return l(le,Me),Et&&So(le,Fe),xe;if(Me===null){for(;!st.done;Fe++,st=ue.next())st=we(le,st.value,Te),st!==null&&(te=x(st,te,Fe),Le===null?xe=st:Le.sibling=st,Le=st);return Et&&So(le,Fe),xe}for(Me=p(le,Me);!st.done;Fe++,st=ue.next())st=Re(Me,le,Fe,st.value,Te),st!==null&&(i&&st.alternate!==null&&Me.delete(st.key===null?Fe:st.key),te=x(st,te,Fe),Le===null?xe=st:Le.sibling=st,Le=st);return i&&Me.forEach(function(tA){return s(le,tA)}),Et&&So(le,Fe),xe}function Ct(le,te,ue,Te){if(typeof ue=="object"&&ue!==null&&ue.type===O&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case L:e:{for(var xe=ue.key,Le=te;Le!==null;){if(Le.key===xe){if(xe=ue.type,xe===O){if(Le.tag===7){l(le,Le.sibling),te=A(Le,ue.props.children),te.return=le,le=te;break e}}else if(Le.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===re&&Sy(xe)===Le.type){l(le,Le.sibling),te=A(Le,ue.props),te.ref=Fa(le,Le,ue),te.return=le,le=te;break e}l(le,Le);break}else s(le,Le);Le=Le.sibling}ue.type===O?(te=xo(ue.props.children,le.mode,Te,ue.key),te.return=le,le=te):(Te=Gu(ue.type,ue.key,ue.props,null,le.mode,Te),Te.ref=Fa(le,te,ue),Te.return=le,le=Te)}return F(le);case U:e:{for(Le=ue.key;te!==null;){if(te.key===Le)if(te.tag===4&&te.stateNode.containerInfo===ue.containerInfo&&te.stateNode.implementation===ue.implementation){l(le,te.sibling),te=A(te,ue.children||[]),te.return=le,le=te;break e}else{l(le,te);break}else s(le,te);te=te.sibling}te=Gh(ue,le.mode,Te),te.return=le,le=te}return F(le);case re:return Le=ue._init,Ct(le,te,Le(ue._payload),Te)}if(be(ue))return Pe(le,te,ue,Te);if(X(ue))return Oe(le,te,ue,Te);Su(le,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,te!==null&&te.tag===6?(l(le,te.sibling),te=A(te,ue),te.return=le,le=te):(l(le,te),te=Kh(ue,le.mode,Te),te.return=le,le=te),F(le)):l(le,te)}return Ct}var Is=Ay(!0),Iy=Ay(!1),Au=bi(null),Iu=null,Rs=null,rh=null;function ih(){rh=Rs=Iu=null}function oh(i){var s=Au.current;yt(Au),i._currentValue=s}function sh(i,s,l){for(;i!==null;){var p=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),i===l)break;i=i.return}}function ks(i,s){Iu=i,rh=Rs=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(wn=!0),i.firstContext=null)}function $n(i){var s=i._currentValue;if(rh!==i)if(i={context:i,memoizedValue:s,next:null},Rs===null){if(Iu===null)throw Error(t(308));Rs=i,Iu.dependencies={lanes:0,firstContext:i}}else Rs=Rs.next=i;return s}var Ao=null;function ah(i){Ao===null?Ao=[i]:Ao.push(i)}function Ry(i,s,l,p){var A=s.interleaved;return A===null?(l.next=l,ah(s)):(l.next=A.next,A.next=l),s.interleaved=l,Gr(i,p)}function Gr(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ii=!1;function lh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ky(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Qr(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Ri(i,s,l){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,it&2){var A=p.pending;return A===null?s.next=s:(s.next=A.next,A.next=s),p.pending=s,Gr(i,l)}return A=p.interleaved,A===null?(s.next=s,ah(p)):(s.next=A.next,A.next=s),p.interleaved=s,Gr(i,l)}function Ru(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var p=s.lanes;p&=i.pendingLanes,l|=p,s.lanes=l,gi(i,l)}}function Cy(i,s){var l=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,l===p)){var A=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var F={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};x===null?A=x=F:x=x.next=F,l=l.next}while(l!==null);x===null?A=x=s:x=x.next=s}else A=x=s;l={baseState:p.baseState,firstBaseUpdate:A,lastBaseUpdate:x,shared:p.shared,effects:p.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function ku(i,s,l,p){var A=i.updateQueue;Ii=!1;var x=A.firstBaseUpdate,F=A.lastBaseUpdate,Q=A.shared.pending;if(Q!==null){A.shared.pending=null;var J=Q,ce=J.next;J.next=null,F===null?x=ce:F.next=ce,F=J;var _e=i.alternate;_e!==null&&(_e=_e.updateQueue,Q=_e.lastBaseUpdate,Q!==F&&(Q===null?_e.firstBaseUpdate=ce:Q.next=ce,_e.lastBaseUpdate=J))}if(x!==null){var we=A.baseState;F=0,_e=ce=J=null,Q=x;do{var ve=Q.lane,Re=Q.eventTime;if((p&ve)===ve){_e!==null&&(_e=_e.next={eventTime:Re,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var Pe=i,Oe=Q;switch(ve=s,Re=l,Oe.tag){case 1:if(Pe=Oe.payload,typeof Pe=="function"){we=Pe.call(Re,we,ve);break e}we=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Oe.payload,ve=typeof Pe=="function"?Pe.call(Re,we,ve):Pe,ve==null)break e;we=H({},we,ve);break e;case 2:Ii=!0}}Q.callback!==null&&Q.lane!==0&&(i.flags|=64,ve=A.effects,ve===null?A.effects=[Q]:ve.push(Q))}else Re={eventTime:Re,lane:ve,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},_e===null?(ce=_e=Re,J=we):_e=_e.next=Re,F|=ve;if(Q=Q.next,Q===null){if(Q=A.shared.pending,Q===null)break;ve=Q,Q=ve.next,ve.next=null,A.lastBaseUpdate=ve,A.shared.pending=null}}while(!0);if(_e===null&&(J=we),A.baseState=J,A.firstBaseUpdate=ce,A.lastBaseUpdate=_e,s=A.shared.interleaved,s!==null){A=s;do F|=A.lane,A=A.next;while(A!==s)}else x===null&&(A.shared.lanes=0);ko|=F,i.lanes=F,i.memoizedState=we}}function Py(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var p=i[s],A=p.callback;if(A!==null){if(p.callback=null,p=l,typeof A!="function")throw Error(t(191,A));A.call(p)}}}var qa={},Er=bi(qa),Ba=bi(qa),za=bi(qa);function Io(i){if(i===qa)throw Error(t(174));return i}function uh(i,s){switch(pt(za,s),pt(Ba,i),pt(Er,qa),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ut(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=ut(s,i)}yt(Er),pt(Er,s)}function Cs(){yt(Er),yt(Ba),yt(za)}function Oy(i){Io(za.current);var s=Io(Er.current),l=ut(s,i.type);s!==l&&(pt(Ba,i),pt(Er,l))}function ch(i){Ba.current===i&&(yt(Er),yt(Ba))}var Tt=bi(0);function Cu(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var fh=[];function hh(){for(var i=0;i<fh.length;i++)fh[i]._workInProgressVersionPrimary=null;fh.length=0}var Pu=S.ReactCurrentDispatcher,dh=S.ReactCurrentBatchConfig,Ro=0,bt=null,Mt=null,Bt=null,Ou=!1,$a=!1,Ha=0,SS=0;function on(){throw Error(t(321))}function ph(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!rr(i[l],s[l]))return!1;return!0}function mh(i,s,l,p,A,x){if(Ro=x,bt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Pu.current=i===null||i.memoizedState===null?kS:CS,i=l(p,A),$a){x=0;do{if($a=!1,Ha=0,25<=x)throw Error(t(301));x+=1,Bt=Mt=null,s.updateQueue=null,Pu.current=PS,i=l(p,A)}while($a)}if(Pu.current=Du,s=Mt!==null&&Mt.next!==null,Ro=0,Bt=Mt=bt=null,Ou=!1,s)throw Error(t(300));return i}function gh(){var i=Ha!==0;return Ha=0,i}function wr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?bt.memoizedState=Bt=i:Bt=Bt.next=i,Bt}function Hn(){if(Mt===null){var i=bt.alternate;i=i!==null?i.memoizedState:null}else i=Mt.next;var s=Bt===null?bt.memoizedState:Bt.next;if(s!==null)Bt=s,Mt=i;else{if(i===null)throw Error(t(310));Mt=i,i={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Bt===null?bt.memoizedState=Bt=i:Bt=Bt.next=i}return Bt}function Wa(i,s){return typeof s=="function"?s(i):s}function yh(i){var s=Hn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var p=Mt,A=p.baseQueue,x=l.pending;if(x!==null){if(A!==null){var F=A.next;A.next=x.next,x.next=F}p.baseQueue=A=x,l.pending=null}if(A!==null){x=A.next,p=p.baseState;var Q=F=null,J=null,ce=x;do{var _e=ce.lane;if((Ro&_e)===_e)J!==null&&(J=J.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),p=ce.hasEagerState?ce.eagerState:i(p,ce.action);else{var we={lane:_e,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};J===null?(Q=J=we,F=p):J=J.next=we,bt.lanes|=_e,ko|=_e}ce=ce.next}while(ce!==null&&ce!==x);J===null?F=p:J.next=Q,rr(p,s.memoizedState)||(wn=!0),s.memoizedState=p,s.baseState=F,s.baseQueue=J,l.lastRenderedState=p}if(i=l.interleaved,i!==null){A=i;do x=A.lane,bt.lanes|=x,ko|=x,A=A.next;while(A!==i)}else A===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function vh(i){var s=Hn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var p=l.dispatch,A=l.pending,x=s.memoizedState;if(A!==null){l.pending=null;var F=A=A.next;do x=i(x,F.action),F=F.next;while(F!==A);rr(x,s.memoizedState)||(wn=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),l.lastRenderedState=x}return[x,p]}function xy(){}function Ny(i,s){var l=bt,p=Hn(),A=s(),x=!rr(p.memoizedState,A);if(x&&(p.memoizedState=A,wn=!0),p=p.queue,_h(My.bind(null,l,p,i),[i]),p.getSnapshot!==s||x||Bt!==null&&Bt.memoizedState.tag&1){if(l.flags|=2048,Ka(9,Ly.bind(null,l,p,A,s),void 0,null),zt===null)throw Error(t(349));Ro&30||Dy(l,s,A)}return A}function Dy(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=bt.updateQueue,s===null?(s={lastEffect:null,stores:null},bt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Ly(i,s,l,p){s.value=l,s.getSnapshot=p,jy(s)&&Vy(i)}function My(i,s,l){return l(function(){jy(s)&&Vy(i)})}function jy(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!rr(i,l)}catch{return!0}}function Vy(i){var s=Gr(i,1);s!==null&&lr(s,i,1,-1)}function Uy(i){var s=wr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:i},s.queue=i,i=i.dispatch=RS.bind(null,bt,i),[s.memoizedState,i]}function Ka(i,s,l,p){return i={tag:i,create:s,destroy:l,deps:p,next:null},s=bt.updateQueue,s===null?(s={lastEffect:null,stores:null},bt.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(p=l.next,l.next=i,i.next=p,s.lastEffect=i)),i}function Fy(){return Hn().memoizedState}function xu(i,s,l,p){var A=wr();bt.flags|=i,A.memoizedState=Ka(1|s,l,void 0,p===void 0?null:p)}function Nu(i,s,l,p){var A=Hn();p=p===void 0?null:p;var x=void 0;if(Mt!==null){var F=Mt.memoizedState;if(x=F.destroy,p!==null&&ph(p,F.deps)){A.memoizedState=Ka(s,l,x,p);return}}bt.flags|=i,A.memoizedState=Ka(1|s,l,x,p)}function qy(i,s){return xu(8390656,8,i,s)}function _h(i,s){return Nu(2048,8,i,s)}function By(i,s){return Nu(4,2,i,s)}function zy(i,s){return Nu(4,4,i,s)}function $y(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Hy(i,s,l){return l=l!=null?l.concat([i]):null,Nu(4,4,$y.bind(null,s,i),l)}function Eh(){}function Wy(i,s){var l=Hn();s=s===void 0?null:s;var p=l.memoizedState;return p!==null&&s!==null&&ph(s,p[1])?p[0]:(l.memoizedState=[i,s],i)}function Ky(i,s){var l=Hn();s=s===void 0?null:s;var p=l.memoizedState;return p!==null&&s!==null&&ph(s,p[1])?p[0]:(i=i(),l.memoizedState=[i,s],i)}function Gy(i,s,l){return Ro&21?(rr(l,s)||(l=go(),bt.lanes|=l,ko|=l,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,wn=!0),i.memoizedState=l)}function AS(i,s){var l=Ze;Ze=l!==0&&4>l?l:4,i(!0);var p=dh.transition;dh.transition={};try{i(!1),s()}finally{Ze=l,dh.transition=p}}function Qy(){return Hn().memoizedState}function IS(i,s,l){var p=Oi(i);if(l={lane:p,action:l,hasEagerState:!1,eagerState:null,next:null},Xy(i))Yy(s,l);else if(l=Ry(i,s,l,p),l!==null){var A=mn();lr(l,i,p,A),Jy(l,s,p)}}function RS(i,s,l){var p=Oi(i),A={lane:p,action:l,hasEagerState:!1,eagerState:null,next:null};if(Xy(i))Yy(s,A);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var F=s.lastRenderedState,Q=x(F,l);if(A.hasEagerState=!0,A.eagerState=Q,rr(Q,F)){var J=s.interleaved;J===null?(A.next=A,ah(s)):(A.next=J.next,J.next=A),s.interleaved=A;return}}catch{}finally{}l=Ry(i,s,A,p),l!==null&&(A=mn(),lr(l,i,p,A),Jy(l,s,p))}}function Xy(i){var s=i.alternate;return i===bt||s!==null&&s===bt}function Yy(i,s){$a=Ou=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function Jy(i,s,l){if(l&4194240){var p=s.lanes;p&=i.pendingLanes,l|=p,s.lanes=l,gi(i,l)}}var Du={readContext:$n,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},kS={readContext:$n,useCallback:function(i,s){return wr().memoizedState=[i,s===void 0?null:s],i},useContext:$n,useEffect:qy,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,xu(4194308,4,$y.bind(null,s,i),l)},useLayoutEffect:function(i,s){return xu(4194308,4,i,s)},useInsertionEffect:function(i,s){return xu(4,2,i,s)},useMemo:function(i,s){var l=wr();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var p=wr();return s=l!==void 0?l(s):s,p.memoizedState=p.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},p.queue=i,i=i.dispatch=IS.bind(null,bt,i),[p.memoizedState,i]},useRef:function(i){var s=wr();return i={current:i},s.memoizedState=i},useState:Uy,useDebugValue:Eh,useDeferredValue:function(i){return wr().memoizedState=i},useTransition:function(){var i=Uy(!1),s=i[0];return i=AS.bind(null,i[1]),wr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var p=bt,A=wr();if(Et){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),zt===null)throw Error(t(349));Ro&30||Dy(p,s,l)}A.memoizedState=l;var x={value:l,getSnapshot:s};return A.queue=x,qy(My.bind(null,p,x,i),[i]),p.flags|=2048,Ka(9,Ly.bind(null,p,x,l,s),void 0,null),l},useId:function(){var i=wr(),s=zt.identifierPrefix;if(Et){var l=Kr,p=Wr;l=(p&~(1<<32-hn(p)-1)).toString(32)+l,s=":"+s+"R"+l,l=Ha++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=SS++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},CS={readContext:$n,useCallback:Wy,useContext:$n,useEffect:_h,useImperativeHandle:Hy,useInsertionEffect:By,useLayoutEffect:zy,useMemo:Ky,useReducer:yh,useRef:Fy,useState:function(){return yh(Wa)},useDebugValue:Eh,useDeferredValue:function(i){var s=Hn();return Gy(s,Mt.memoizedState,i)},useTransition:function(){var i=yh(Wa)[0],s=Hn().memoizedState;return[i,s]},useMutableSource:xy,useSyncExternalStore:Ny,useId:Qy,unstable_isNewReconciler:!1},PS={readContext:$n,useCallback:Wy,useContext:$n,useEffect:_h,useImperativeHandle:Hy,useInsertionEffect:By,useLayoutEffect:zy,useMemo:Ky,useReducer:vh,useRef:Fy,useState:function(){return vh(Wa)},useDebugValue:Eh,useDeferredValue:function(i){var s=Hn();return Mt===null?s.memoizedState=i:Gy(s,Mt.memoizedState,i)},useTransition:function(){var i=vh(Wa)[0],s=Hn().memoizedState;return[i,s]},useMutableSource:xy,useSyncExternalStore:Ny,useId:Qy,unstable_isNewReconciler:!1};function or(i,s){if(i&&i.defaultProps){s=H({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function wh(i,s,l,p){s=i.memoizedState,l=l(p,s),l=l==null?s:H({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Lu={isMounted:function(i){return(i=i._reactInternals)?Xn(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var p=mn(),A=Oi(i),x=Qr(p,A);x.payload=s,l!=null&&(x.callback=l),s=Ri(i,x,A),s!==null&&(lr(s,i,A,p),Ru(s,i,A))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var p=mn(),A=Oi(i),x=Qr(p,A);x.tag=1,x.payload=s,l!=null&&(x.callback=l),s=Ri(i,x,A),s!==null&&(lr(s,i,A,p),Ru(s,i,A))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=mn(),p=Oi(i),A=Qr(l,p);A.tag=2,s!=null&&(A.callback=s),s=Ri(i,A,p),s!==null&&(lr(s,i,p,l),Ru(s,i,p))}};function Zy(i,s,l,p,A,x,F){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,x,F):s.prototype&&s.prototype.isPureReactComponent?!Na(l,p)||!Na(A,x):!0}function ev(i,s,l){var p=!1,A=Si,x=s.contextType;return typeof x=="object"&&x!==null?x=$n(x):(A=En(s)?To:rn.current,p=s.contextTypes,x=(p=p!=null)?Ts(i,A):Si),s=new s(l,x),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Lu,i.stateNode=s,s._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=A,i.__reactInternalMemoizedMaskedChildContext=x),s}function tv(i,s,l,p){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,p),s.state!==i&&Lu.enqueueReplaceState(s,s.state,null)}function Th(i,s,l,p){var A=i.stateNode;A.props=l,A.state=i.memoizedState,A.refs={},lh(i);var x=s.contextType;typeof x=="object"&&x!==null?A.context=$n(x):(x=En(s)?To:rn.current,A.context=Ts(i,x)),A.state=i.memoizedState,x=s.getDerivedStateFromProps,typeof x=="function"&&(wh(i,s,x,l),A.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(s=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),s!==A.state&&Lu.enqueueReplaceState(A,A.state,null),ku(i,l,A,p),A.state=i.memoizedState),typeof A.componentDidMount=="function"&&(i.flags|=4194308)}function Ps(i,s){try{var l="",p=s;do l+=Z(p),p=p.return;while(p);var A=l}catch(x){A=`
Error generating stack: `+x.message+`
`+x.stack}return{value:i,source:s,stack:A,digest:null}}function bh(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function Sh(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var OS=typeof WeakMap=="function"?WeakMap:Map;function nv(i,s,l){l=Qr(-1,l),l.tag=3,l.payload={element:null};var p=s.value;return l.callback=function(){Bu||(Bu=!0,Uh=p),Sh(i,s)},l}function rv(i,s,l){l=Qr(-1,l),l.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var A=s.value;l.payload=function(){return p(A)},l.callback=function(){Sh(i,s)}}var x=i.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(l.callback=function(){Sh(i,s),typeof p!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var F=s.stack;this.componentDidCatch(s.value,{componentStack:F!==null?F:""})}),l}function iv(i,s,l){var p=i.pingCache;if(p===null){p=i.pingCache=new OS;var A=new Set;p.set(s,A)}else A=p.get(s),A===void 0&&(A=new Set,p.set(s,A));A.has(l)||(A.add(l),i=HS.bind(null,i,s,l),s.then(i,i))}function ov(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function sv(i,s,l,p,A){return i.mode&1?(i.flags|=65536,i.lanes=A,i):(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Qr(-1,1),s.tag=2,Ri(l,s,1))),l.lanes|=1),i)}var xS=S.ReactCurrentOwner,wn=!1;function pn(i,s,l,p){s.child=i===null?Iy(s,null,l,p):Is(s,i.child,l,p)}function av(i,s,l,p,A){l=l.render;var x=s.ref;return ks(s,A),p=mh(i,s,l,p,x,A),l=gh(),i!==null&&!wn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~A,Xr(i,s,A)):(Et&&l&&Jf(s),s.flags|=1,pn(i,s,p,A),s.child)}function lv(i,s,l,p,A){if(i===null){var x=l.type;return typeof x=="function"&&!Wh(x)&&x.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=x,uv(i,s,x,p,A)):(i=Gu(l.type,null,p,s,s.mode,A),i.ref=s.ref,i.return=s,s.child=i)}if(x=i.child,!(i.lanes&A)){var F=x.memoizedProps;if(l=l.compare,l=l!==null?l:Na,l(F,p)&&i.ref===s.ref)return Xr(i,s,A)}return s.flags|=1,i=Ni(x,p),i.ref=s.ref,i.return=s,s.child=i}function uv(i,s,l,p,A){if(i!==null){var x=i.memoizedProps;if(Na(x,p)&&i.ref===s.ref)if(wn=!1,s.pendingProps=p=x,(i.lanes&A)!==0)i.flags&131072&&(wn=!0);else return s.lanes=i.lanes,Xr(i,s,A)}return Ah(i,s,l,p,A)}function cv(i,s,l){var p=s.pendingProps,A=p.children,x=i!==null?i.memoizedState:null;if(p.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(xs,Dn),Dn|=l;else{if(!(l&1073741824))return i=x!==null?x.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,pt(xs,Dn),Dn|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=x!==null?x.baseLanes:l,pt(xs,Dn),Dn|=p}else x!==null?(p=x.baseLanes|l,s.memoizedState=null):p=l,pt(xs,Dn),Dn|=p;return pn(i,s,A,l),s.child}function fv(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Ah(i,s,l,p,A){var x=En(l)?To:rn.current;return x=Ts(s,x),ks(s,A),l=mh(i,s,l,p,x,A),p=gh(),i!==null&&!wn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~A,Xr(i,s,A)):(Et&&p&&Jf(s),s.flags|=1,pn(i,s,l,A),s.child)}function hv(i,s,l,p,A){if(En(l)){var x=!0;_u(s)}else x=!1;if(ks(s,A),s.stateNode===null)ju(i,s),ev(s,l,p),Th(s,l,p,A),p=!0;else if(i===null){var F=s.stateNode,Q=s.memoizedProps;F.props=Q;var J=F.context,ce=l.contextType;typeof ce=="object"&&ce!==null?ce=$n(ce):(ce=En(l)?To:rn.current,ce=Ts(s,ce));var _e=l.getDerivedStateFromProps,we=typeof _e=="function"||typeof F.getSnapshotBeforeUpdate=="function";we||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Q!==p||J!==ce)&&tv(s,F,p,ce),Ii=!1;var ve=s.memoizedState;F.state=ve,ku(s,p,F,A),J=s.memoizedState,Q!==p||ve!==J||_n.current||Ii?(typeof _e=="function"&&(wh(s,l,_e,p),J=s.memoizedState),(Q=Ii||Zy(s,l,Q,p,ve,J,ce))?(we||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(s.flags|=4194308)):(typeof F.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=J),F.props=p,F.state=J,F.context=ce,p=Q):(typeof F.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{F=s.stateNode,ky(i,s),Q=s.memoizedProps,ce=s.type===s.elementType?Q:or(s.type,Q),F.props=ce,we=s.pendingProps,ve=F.context,J=l.contextType,typeof J=="object"&&J!==null?J=$n(J):(J=En(l)?To:rn.current,J=Ts(s,J));var Re=l.getDerivedStateFromProps;(_e=typeof Re=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Q!==we||ve!==J)&&tv(s,F,p,J),Ii=!1,ve=s.memoizedState,F.state=ve,ku(s,p,F,A);var Pe=s.memoizedState;Q!==we||ve!==Pe||_n.current||Ii?(typeof Re=="function"&&(wh(s,l,Re,p),Pe=s.memoizedState),(ce=Ii||Zy(s,l,ce,p,ve,Pe,J)||!1)?(_e||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(p,Pe,J),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(p,Pe,J)),typeof F.componentDidUpdate=="function"&&(s.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof F.componentDidUpdate!="function"||Q===i.memoizedProps&&ve===i.memoizedState||(s.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Q===i.memoizedProps&&ve===i.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=Pe),F.props=p,F.state=Pe,F.context=J,p=ce):(typeof F.componentDidUpdate!="function"||Q===i.memoizedProps&&ve===i.memoizedState||(s.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Q===i.memoizedProps&&ve===i.memoizedState||(s.flags|=1024),p=!1)}return Ih(i,s,l,p,x,A)}function Ih(i,s,l,p,A,x){fv(i,s);var F=(s.flags&128)!==0;if(!p&&!F)return A&&yy(s,l,!1),Xr(i,s,x);p=s.stateNode,xS.current=s;var Q=F&&typeof l.getDerivedStateFromError!="function"?null:p.render();return s.flags|=1,i!==null&&F?(s.child=Is(s,i.child,null,x),s.child=Is(s,null,Q,x)):pn(i,s,Q,x),s.memoizedState=p.state,A&&yy(s,l,!0),s.child}function dv(i){var s=i.stateNode;s.pendingContext?my(i,s.pendingContext,s.pendingContext!==s.context):s.context&&my(i,s.context,!1),uh(i,s.containerInfo)}function pv(i,s,l,p,A){return As(),nh(A),s.flags|=256,pn(i,s,l,p),s.child}var Rh={dehydrated:null,treeContext:null,retryLane:0};function kh(i){return{baseLanes:i,cachePool:null,transitions:null}}function mv(i,s,l){var p=s.pendingProps,A=Tt.current,x=!1,F=(s.flags&128)!==0,Q;if((Q=F)||(Q=i!==null&&i.memoizedState===null?!1:(A&2)!==0),Q?(x=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(A|=1),pt(Tt,A&1),i===null)return th(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(F=p.children,i=p.fallback,x?(p=s.mode,x=s.child,F={mode:"hidden",children:F},!(p&1)&&x!==null?(x.childLanes=0,x.pendingProps=F):x=Qu(F,p,0,null),i=xo(i,p,l,null),x.return=s,i.return=s,x.sibling=i,s.child=x,s.child.memoizedState=kh(l),s.memoizedState=Rh,i):Ch(s,F));if(A=i.memoizedState,A!==null&&(Q=A.dehydrated,Q!==null))return NS(i,s,F,p,Q,A,l);if(x){x=p.fallback,F=s.mode,A=i.child,Q=A.sibling;var J={mode:"hidden",children:p.children};return!(F&1)&&s.child!==A?(p=s.child,p.childLanes=0,p.pendingProps=J,s.deletions=null):(p=Ni(A,J),p.subtreeFlags=A.subtreeFlags&14680064),Q!==null?x=Ni(Q,x):(x=xo(x,F,l,null),x.flags|=2),x.return=s,p.return=s,p.sibling=x,s.child=p,p=x,x=s.child,F=i.child.memoizedState,F=F===null?kh(l):{baseLanes:F.baseLanes|l,cachePool:null,transitions:F.transitions},x.memoizedState=F,x.childLanes=i.childLanes&~l,s.memoizedState=Rh,p}return x=i.child,i=x.sibling,p=Ni(x,{mode:"visible",children:p.children}),!(s.mode&1)&&(p.lanes=l),p.return=s,p.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=p,s.memoizedState=null,p}function Ch(i,s){return s=Qu({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Mu(i,s,l,p){return p!==null&&nh(p),Is(s,i.child,null,l),i=Ch(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function NS(i,s,l,p,A,x,F){if(l)return s.flags&256?(s.flags&=-257,p=bh(Error(t(422))),Mu(i,s,F,p)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(x=p.fallback,A=s.mode,p=Qu({mode:"visible",children:p.children},A,0,null),x=xo(x,A,F,null),x.flags|=2,p.return=s,x.return=s,p.sibling=x,s.child=p,s.mode&1&&Is(s,i.child,null,F),s.child.memoizedState=kh(F),s.memoizedState=Rh,x);if(!(s.mode&1))return Mu(i,s,F,null);if(A.data==="$!"){if(p=A.nextSibling&&A.nextSibling.dataset,p)var Q=p.dgst;return p=Q,x=Error(t(419)),p=bh(x,p,void 0),Mu(i,s,F,p)}if(Q=(F&i.childLanes)!==0,wn||Q){if(p=zt,p!==null){switch(F&-F){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=A&(p.suspendedLanes|F)?0:A,A!==0&&A!==x.retryLane&&(x.retryLane=A,Gr(i,A),lr(p,i,A,-1))}return Hh(),p=bh(Error(t(421))),Mu(i,s,F,p)}return A.data==="$?"?(s.flags|=128,s.child=i.child,s=WS.bind(null,i),A._reactRetry=s,null):(i=x.treeContext,Nn=Ti(A.nextSibling),xn=s,Et=!0,ir=null,i!==null&&(Bn[zn++]=Wr,Bn[zn++]=Kr,Bn[zn++]=bo,Wr=i.id,Kr=i.overflow,bo=s),s=Ch(s,p.children),s.flags|=4096,s)}function gv(i,s,l){i.lanes|=s;var p=i.alternate;p!==null&&(p.lanes|=s),sh(i.return,s,l)}function Ph(i,s,l,p,A){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:l,tailMode:A}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=l,x.tailMode=A)}function yv(i,s,l){var p=s.pendingProps,A=p.revealOrder,x=p.tail;if(pn(i,s,p.children,l),p=Tt.current,p&2)p=p&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&gv(i,l,s);else if(i.tag===19)gv(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(pt(Tt,p),!(s.mode&1))s.memoizedState=null;else switch(A){case"forwards":for(l=s.child,A=null;l!==null;)i=l.alternate,i!==null&&Cu(i)===null&&(A=l),l=l.sibling;l=A,l===null?(A=s.child,s.child=null):(A=l.sibling,l.sibling=null),Ph(s,!1,A,l,x);break;case"backwards":for(l=null,A=s.child,s.child=null;A!==null;){if(i=A.alternate,i!==null&&Cu(i)===null){s.child=A;break}i=A.sibling,A.sibling=l,l=A,A=i}Ph(s,!0,l,null,x);break;case"together":Ph(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ju(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Xr(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),ko|=s.lanes,!(l&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=Ni(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Ni(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function DS(i,s,l){switch(s.tag){case 3:dv(s),As();break;case 5:Oy(s);break;case 1:En(s.type)&&_u(s);break;case 4:uh(s,s.stateNode.containerInfo);break;case 10:var p=s.type._context,A=s.memoizedProps.value;pt(Au,p._currentValue),p._currentValue=A;break;case 13:if(p=s.memoizedState,p!==null)return p.dehydrated!==null?(pt(Tt,Tt.current&1),s.flags|=128,null):l&s.child.childLanes?mv(i,s,l):(pt(Tt,Tt.current&1),i=Xr(i,s,l),i!==null?i.sibling:null);pt(Tt,Tt.current&1);break;case 19:if(p=(l&s.childLanes)!==0,i.flags&128){if(p)return yv(i,s,l);s.flags|=128}if(A=s.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),pt(Tt,Tt.current),p)break;return null;case 22:case 23:return s.lanes=0,cv(i,s,l)}return Xr(i,s,l)}var vv,Oh,_v,Ev;vv=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Oh=function(){},_v=function(i,s,l,p){var A=i.memoizedProps;if(A!==p){i=s.stateNode,Io(Er.current);var x=null;switch(l){case"input":A=We(i,A),p=We(i,p),x=[];break;case"select":A=H({},A,{value:void 0}),p=H({},p,{value:void 0}),x=[];break;case"textarea":A=ye(i,A),p=ye(i,p),x=[];break;default:typeof A.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=gu)}pa(l,p);var F;l=null;for(ce in A)if(!p.hasOwnProperty(ce)&&A.hasOwnProperty(ce)&&A[ce]!=null)if(ce==="style"){var Q=A[ce];for(F in Q)Q.hasOwnProperty(F)&&(l||(l={}),l[F]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(o.hasOwnProperty(ce)?x||(x=[]):(x=x||[]).push(ce,null));for(ce in p){var J=p[ce];if(Q=A!=null?A[ce]:void 0,p.hasOwnProperty(ce)&&J!==Q&&(J!=null||Q!=null))if(ce==="style")if(Q){for(F in Q)!Q.hasOwnProperty(F)||J&&J.hasOwnProperty(F)||(l||(l={}),l[F]="");for(F in J)J.hasOwnProperty(F)&&Q[F]!==J[F]&&(l||(l={}),l[F]=J[F])}else l||(x||(x=[]),x.push(ce,l)),l=J;else ce==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,Q=Q?Q.__html:void 0,J!=null&&Q!==J&&(x=x||[]).push(ce,J)):ce==="children"?typeof J!="string"&&typeof J!="number"||(x=x||[]).push(ce,""+J):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(o.hasOwnProperty(ce)?(J!=null&&ce==="onScroll"&&gt("scroll",i),x||Q===J||(x=[])):(x=x||[]).push(ce,J))}l&&(x=x||[]).push("style",l);var ce=x;(s.updateQueue=ce)&&(s.flags|=4)}},Ev=function(i,s,l,p){l!==p&&(s.flags|=4)};function Ga(i,s){if(!Et)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function sn(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,p=0;if(s)for(var A=i.child;A!==null;)l|=A.lanes|A.childLanes,p|=A.subtreeFlags&14680064,p|=A.flags&14680064,A.return=i,A=A.sibling;else for(A=i.child;A!==null;)l|=A.lanes|A.childLanes,p|=A.subtreeFlags,p|=A.flags,A.return=i,A=A.sibling;return i.subtreeFlags|=p,i.childLanes=l,s}function LS(i,s,l){var p=s.pendingProps;switch(Zf(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(s),null;case 1:return En(s.type)&&vu(),sn(s),null;case 3:return p=s.stateNode,Cs(),yt(_n),yt(rn),hh(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(bu(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,ir!==null&&(Bh(ir),ir=null))),Oh(i,s),sn(s),null;case 5:ch(s);var A=Io(za.current);if(l=s.type,i!==null&&s.stateNode!=null)_v(i,s,l,p,A),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!p){if(s.stateNode===null)throw Error(t(166));return sn(s),null}if(i=Io(Er.current),bu(s)){p=s.stateNode,l=s.type;var x=s.memoizedProps;switch(p[_r]=s,p[Va]=x,i=(s.mode&1)!==0,l){case"dialog":gt("cancel",p),gt("close",p);break;case"iframe":case"object":case"embed":gt("load",p);break;case"video":case"audio":for(A=0;A<La.length;A++)gt(La[A],p);break;case"source":gt("error",p);break;case"img":case"image":case"link":gt("error",p),gt("load",p);break;case"details":gt("toggle",p);break;case"input":Xe(p,x),gt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!x.multiple},gt("invalid",p);break;case"textarea":Be(p,x),gt("invalid",p)}pa(l,x),A=null;for(var F in x)if(x.hasOwnProperty(F)){var Q=x[F];F==="children"?typeof Q=="string"?p.textContent!==Q&&(x.suppressHydrationWarning!==!0&&mu(p.textContent,Q,i),A=["children",Q]):typeof Q=="number"&&p.textContent!==""+Q&&(x.suppressHydrationWarning!==!0&&mu(p.textContent,Q,i),A=["children",""+Q]):o.hasOwnProperty(F)&&Q!=null&&F==="onScroll"&&gt("scroll",p)}switch(l){case"input":Ie(p),he(p,x,!0);break;case"textarea":Ie(p),Ke(p);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(p.onclick=gu)}p=A,s.updateQueue=p,p!==null&&(s.flags|=4)}else{F=A.nodeType===9?A:A.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ot(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=F.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=F.createElement(l,{is:p.is}):(i=F.createElement(l),l==="select"&&(F=i,p.multiple?F.multiple=!0:p.size&&(F.size=p.size))):i=F.createElementNS(i,l),i[_r]=s,i[Va]=p,vv(i,s,!1,!1),s.stateNode=i;e:{switch(F=ma(l,p),l){case"dialog":gt("cancel",i),gt("close",i),A=p;break;case"iframe":case"object":case"embed":gt("load",i),A=p;break;case"video":case"audio":for(A=0;A<La.length;A++)gt(La[A],i);A=p;break;case"source":gt("error",i),A=p;break;case"img":case"image":case"link":gt("error",i),gt("load",i),A=p;break;case"details":gt("toggle",i),A=p;break;case"input":Xe(i,p),A=We(i,p),gt("invalid",i);break;case"option":A=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},A=H({},p,{value:void 0}),gt("invalid",i);break;case"textarea":Be(i,p),A=ye(i,p),gt("invalid",i);break;default:A=p}pa(l,A),Q=A;for(x in Q)if(Q.hasOwnProperty(x)){var J=Q[x];x==="style"?ha(i,J):x==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&oo(i,J)):x==="children"?typeof J=="string"?(l!=="textarea"||J!=="")&&ct(i,J):typeof J=="number"&&ct(i,""+J):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?J!=null&&x==="onScroll"&&gt("scroll",i):J!=null&&k(i,x,J,F))}switch(l){case"input":Ie(i),he(i,p,!1);break;case"textarea":Ie(i),Ke(i);break;case"option":p.value!=null&&i.setAttribute("value",""+oe(p.value));break;case"select":i.multiple=!!p.multiple,x=p.value,x!=null?Ae(i,!!p.multiple,x,!1):p.defaultValue!=null&&Ae(i,!!p.multiple,p.defaultValue,!0);break;default:typeof A.onClick=="function"&&(i.onclick=gu)}switch(l){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return sn(s),null;case 6:if(i&&s.stateNode!=null)Ev(i,s,i.memoizedProps,p);else{if(typeof p!="string"&&s.stateNode===null)throw Error(t(166));if(l=Io(za.current),Io(Er.current),bu(s)){if(p=s.stateNode,l=s.memoizedProps,p[_r]=s,(x=p.nodeValue!==l)&&(i=xn,i!==null))switch(i.tag){case 3:mu(p.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&mu(p.nodeValue,l,(i.mode&1)!==0)}x&&(s.flags|=4)}else p=(l.nodeType===9?l:l.ownerDocument).createTextNode(p),p[_r]=s,s.stateNode=p}return sn(s),null;case 13:if(yt(Tt),p=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Et&&Nn!==null&&s.mode&1&&!(s.flags&128))by(),As(),s.flags|=98560,x=!1;else if(x=bu(s),p!==null&&p.dehydrated!==null){if(i===null){if(!x)throw Error(t(318));if(x=s.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[_r]=s}else As(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;sn(s),x=!1}else ir!==null&&(Bh(ir),ir=null),x=!0;if(!x)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(s.child.flags|=8192,s.mode&1&&(i===null||Tt.current&1?jt===0&&(jt=3):Hh())),s.updateQueue!==null&&(s.flags|=4),sn(s),null);case 4:return Cs(),Oh(i,s),i===null&&Ma(s.stateNode.containerInfo),sn(s),null;case 10:return oh(s.type._context),sn(s),null;case 17:return En(s.type)&&vu(),sn(s),null;case 19:if(yt(Tt),x=s.memoizedState,x===null)return sn(s),null;if(p=(s.flags&128)!==0,F=x.rendering,F===null)if(p)Ga(x,!1);else{if(jt!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(F=Cu(i),F!==null){for(s.flags|=128,Ga(x,!1),p=F.updateQueue,p!==null&&(s.updateQueue=p,s.flags|=4),s.subtreeFlags=0,p=l,l=s.child;l!==null;)x=l,i=p,x.flags&=14680066,F=x.alternate,F===null?(x.childLanes=0,x.lanes=i,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=F.childLanes,x.lanes=F.lanes,x.child=F.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=F.memoizedProps,x.memoizedState=F.memoizedState,x.updateQueue=F.updateQueue,x.type=F.type,i=F.dependencies,x.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return pt(Tt,Tt.current&1|2),s.child}i=i.sibling}x.tail!==null&&dt()>Ns&&(s.flags|=128,p=!0,Ga(x,!1),s.lanes=4194304)}else{if(!p)if(i=Cu(F),i!==null){if(s.flags|=128,p=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Ga(x,!0),x.tail===null&&x.tailMode==="hidden"&&!F.alternate&&!Et)return sn(s),null}else 2*dt()-x.renderingStartTime>Ns&&l!==1073741824&&(s.flags|=128,p=!0,Ga(x,!1),s.lanes=4194304);x.isBackwards?(F.sibling=s.child,s.child=F):(l=x.last,l!==null?l.sibling=F:s.child=F,x.last=F)}return x.tail!==null?(s=x.tail,x.rendering=s,x.tail=s.sibling,x.renderingStartTime=dt(),s.sibling=null,l=Tt.current,pt(Tt,p?l&1|2:l&1),s):(sn(s),null);case 22:case 23:return $h(),p=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(s.flags|=8192),p&&s.mode&1?Dn&1073741824&&(sn(s),s.subtreeFlags&6&&(s.flags|=8192)):sn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function MS(i,s){switch(Zf(s),s.tag){case 1:return En(s.type)&&vu(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Cs(),yt(_n),yt(rn),hh(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return ch(s),null;case 13:if(yt(Tt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));As()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return yt(Tt),null;case 4:return Cs(),null;case 10:return oh(s.type._context),null;case 22:case 23:return $h(),null;case 24:return null;default:return null}}var Vu=!1,an=!1,jS=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Os(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(p){Rt(i,s,p)}else l.current=null}function xh(i,s,l){try{l()}catch(p){Rt(i,s,p)}}var wv=!1;function VS(i,s){if($f=_i,i=Zg(),Mf(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var p=l.getSelection&&l.getSelection();if(p&&p.rangeCount!==0){l=p.anchorNode;var A=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var F=0,Q=-1,J=-1,ce=0,_e=0,we=i,ve=null;t:for(;;){for(var Re;we!==l||A!==0&&we.nodeType!==3||(Q=F+A),we!==x||p!==0&&we.nodeType!==3||(J=F+p),we.nodeType===3&&(F+=we.nodeValue.length),(Re=we.firstChild)!==null;)ve=we,we=Re;for(;;){if(we===i)break t;if(ve===l&&++ce===A&&(Q=F),ve===x&&++_e===p&&(J=F),(Re=we.nextSibling)!==null)break;we=ve,ve=we.parentNode}we=Re}l=Q===-1||J===-1?null:{start:Q,end:J}}else l=null}l=l||{start:0,end:0}}else l=null;for(Hf={focusedElem:i,selectionRange:l},_i=!1,Ce=s;Ce!==null;)if(s=Ce,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Ce=i;else for(;Ce!==null;){s=Ce;try{var Pe=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Oe=Pe.memoizedProps,Ct=Pe.memoizedState,le=s.stateNode,te=le.getSnapshotBeforeUpdate(s.elementType===s.type?Oe:or(s.type,Oe),Ct);le.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var ue=s.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Te){Rt(s,s.return,Te)}if(i=s.sibling,i!==null){i.return=s.return,Ce=i;break}Ce=s.return}return Pe=wv,wv=!1,Pe}function Qa(i,s,l){var p=s.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var A=p=p.next;do{if((A.tag&i)===i){var x=A.destroy;A.destroy=void 0,x!==void 0&&xh(s,l,x)}A=A.next}while(A!==p)}}function Uu(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var p=l.create;l.destroy=p()}l=l.next}while(l!==s)}}function Nh(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function Tv(i){var s=i.alternate;s!==null&&(i.alternate=null,Tv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[_r],delete s[Va],delete s[Qf],delete s[ES],delete s[wS])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function bv(i){return i.tag===5||i.tag===3||i.tag===4}function Sv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||bv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Dh(i,s,l){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=gu));else if(p!==4&&(i=i.child,i!==null))for(Dh(i,s,l),i=i.sibling;i!==null;)Dh(i,s,l),i=i.sibling}function Lh(i,s,l){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(Lh(i,s,l),i=i.sibling;i!==null;)Lh(i,s,l),i=i.sibling}var Xt=null,sr=!1;function ki(i,s,l){for(l=l.child;l!==null;)Av(i,s,l),l=l.sibling}function Av(i,s,l){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(po,l)}catch{}switch(l.tag){case 5:an||Os(l,s);case 6:var p=Xt,A=sr;Xt=null,ki(i,s,l),Xt=p,sr=A,Xt!==null&&(sr?(i=Xt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Xt.removeChild(l.stateNode));break;case 18:Xt!==null&&(sr?(i=Xt,l=l.stateNode,i.nodeType===8?Gf(i.parentNode,l):i.nodeType===1&&Gf(i,l),tr(i)):Gf(Xt,l.stateNode));break;case 4:p=Xt,A=sr,Xt=l.stateNode.containerInfo,sr=!0,ki(i,s,l),Xt=p,sr=A;break;case 0:case 11:case 14:case 15:if(!an&&(p=l.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){A=p=p.next;do{var x=A,F=x.destroy;x=x.tag,F!==void 0&&(x&2||x&4)&&xh(l,s,F),A=A.next}while(A!==p)}ki(i,s,l);break;case 1:if(!an&&(Os(l,s),p=l.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=l.memoizedProps,p.state=l.memoizedState,p.componentWillUnmount()}catch(Q){Rt(l,s,Q)}ki(i,s,l);break;case 21:ki(i,s,l);break;case 22:l.mode&1?(an=(p=an)||l.memoizedState!==null,ki(i,s,l),an=p):ki(i,s,l);break;default:ki(i,s,l)}}function Iv(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new jS),s.forEach(function(p){var A=KS.bind(null,i,p);l.has(p)||(l.add(p),p.then(A,A))})}}function ar(i,s){var l=s.deletions;if(l!==null)for(var p=0;p<l.length;p++){var A=l[p];try{var x=i,F=s,Q=F;e:for(;Q!==null;){switch(Q.tag){case 5:Xt=Q.stateNode,sr=!1;break e;case 3:Xt=Q.stateNode.containerInfo,sr=!0;break e;case 4:Xt=Q.stateNode.containerInfo,sr=!0;break e}Q=Q.return}if(Xt===null)throw Error(t(160));Av(x,F,A),Xt=null,sr=!1;var J=A.alternate;J!==null&&(J.return=null),A.return=null}catch(ce){Rt(A,s,ce)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Rv(s,i),s=s.sibling}function Rv(i,s){var l=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ar(s,i),Tr(i),p&4){try{Qa(3,i,i.return),Uu(3,i)}catch(Oe){Rt(i,i.return,Oe)}try{Qa(5,i,i.return)}catch(Oe){Rt(i,i.return,Oe)}}break;case 1:ar(s,i),Tr(i),p&512&&l!==null&&Os(l,l.return);break;case 5:if(ar(s,i),Tr(i),p&512&&l!==null&&Os(l,l.return),i.flags&32){var A=i.stateNode;try{ct(A,"")}catch(Oe){Rt(i,i.return,Oe)}}if(p&4&&(A=i.stateNode,A!=null)){var x=i.memoizedProps,F=l!==null?l.memoizedProps:x,Q=i.type,J=i.updateQueue;if(i.updateQueue=null,J!==null)try{Q==="input"&&x.type==="radio"&&x.name!=null&&Ot(A,x),ma(Q,F);var ce=ma(Q,x);for(F=0;F<J.length;F+=2){var _e=J[F],we=J[F+1];_e==="style"?ha(A,we):_e==="dangerouslySetInnerHTML"?oo(A,we):_e==="children"?ct(A,we):k(A,_e,we,ce)}switch(Q){case"input":mt(A,x);break;case"textarea":ze(A,x);break;case"select":var ve=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!x.multiple;var Re=x.value;Re!=null?Ae(A,!!x.multiple,Re,!1):ve!==!!x.multiple&&(x.defaultValue!=null?Ae(A,!!x.multiple,x.defaultValue,!0):Ae(A,!!x.multiple,x.multiple?[]:"",!1))}A[Va]=x}catch(Oe){Rt(i,i.return,Oe)}}break;case 6:if(ar(s,i),Tr(i),p&4){if(i.stateNode===null)throw Error(t(162));A=i.stateNode,x=i.memoizedProps;try{A.nodeValue=x}catch(Oe){Rt(i,i.return,Oe)}}break;case 3:if(ar(s,i),Tr(i),p&4&&l!==null&&l.memoizedState.isDehydrated)try{tr(s.containerInfo)}catch(Oe){Rt(i,i.return,Oe)}break;case 4:ar(s,i),Tr(i);break;case 13:ar(s,i),Tr(i),A=i.child,A.flags&8192&&(x=A.memoizedState!==null,A.stateNode.isHidden=x,!x||A.alternate!==null&&A.alternate.memoizedState!==null||(Vh=dt())),p&4&&Iv(i);break;case 22:if(_e=l!==null&&l.memoizedState!==null,i.mode&1?(an=(ce=an)||_e,ar(s,i),an=ce):ar(s,i),Tr(i),p&8192){if(ce=i.memoizedState!==null,(i.stateNode.isHidden=ce)&&!_e&&i.mode&1)for(Ce=i,_e=i.child;_e!==null;){for(we=Ce=_e;Ce!==null;){switch(ve=Ce,Re=ve.child,ve.tag){case 0:case 11:case 14:case 15:Qa(4,ve,ve.return);break;case 1:Os(ve,ve.return);var Pe=ve.stateNode;if(typeof Pe.componentWillUnmount=="function"){p=ve,l=ve.return;try{s=p,Pe.props=s.memoizedProps,Pe.state=s.memoizedState,Pe.componentWillUnmount()}catch(Oe){Rt(p,l,Oe)}}break;case 5:Os(ve,ve.return);break;case 22:if(ve.memoizedState!==null){Pv(we);continue}}Re!==null?(Re.return=ve,Ce=Re):Pv(we)}_e=_e.sibling}e:for(_e=null,we=i;;){if(we.tag===5){if(_e===null){_e=we;try{A=we.stateNode,ce?(x=A.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(Q=we.stateNode,J=we.memoizedProps.style,F=J!=null&&J.hasOwnProperty("display")?J.display:null,Q.style.display=fa("display",F))}catch(Oe){Rt(i,i.return,Oe)}}}else if(we.tag===6){if(_e===null)try{we.stateNode.nodeValue=ce?"":we.memoizedProps}catch(Oe){Rt(i,i.return,Oe)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===i)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===i)break e;for(;we.sibling===null;){if(we.return===null||we.return===i)break e;_e===we&&(_e=null),we=we.return}_e===we&&(_e=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:ar(s,i),Tr(i),p&4&&Iv(i);break;case 21:break;default:ar(s,i),Tr(i)}}function Tr(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(bv(l)){var p=l;break e}l=l.return}throw Error(t(160))}switch(p.tag){case 5:var A=p.stateNode;p.flags&32&&(ct(A,""),p.flags&=-33);var x=Sv(i);Lh(i,x,A);break;case 3:case 4:var F=p.stateNode.containerInfo,Q=Sv(i);Dh(i,Q,F);break;default:throw Error(t(161))}}catch(J){Rt(i,i.return,J)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function US(i,s,l){Ce=i,kv(i)}function kv(i,s,l){for(var p=(i.mode&1)!==0;Ce!==null;){var A=Ce,x=A.child;if(A.tag===22&&p){var F=A.memoizedState!==null||Vu;if(!F){var Q=A.alternate,J=Q!==null&&Q.memoizedState!==null||an;Q=Vu;var ce=an;if(Vu=F,(an=J)&&!ce)for(Ce=A;Ce!==null;)F=Ce,J=F.child,F.tag===22&&F.memoizedState!==null?Ov(A):J!==null?(J.return=F,Ce=J):Ov(A);for(;x!==null;)Ce=x,kv(x),x=x.sibling;Ce=A,Vu=Q,an=ce}Cv(i)}else A.subtreeFlags&8772&&x!==null?(x.return=A,Ce=x):Cv(i)}}function Cv(i){for(;Ce!==null;){var s=Ce;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:an||Uu(5,s);break;case 1:var p=s.stateNode;if(s.flags&4&&!an)if(l===null)p.componentDidMount();else{var A=s.elementType===s.type?l.memoizedProps:or(s.type,l.memoizedProps);p.componentDidUpdate(A,l.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var x=s.updateQueue;x!==null&&Py(s,x,p);break;case 3:var F=s.updateQueue;if(F!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Py(s,F,l)}break;case 5:var Q=s.stateNode;if(l===null&&s.flags&4){l=Q;var J=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&l.focus();break;case"img":J.src&&(l.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var ce=s.alternate;if(ce!==null){var _e=ce.memoizedState;if(_e!==null){var we=_e.dehydrated;we!==null&&tr(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}an||s.flags&512&&Nh(s)}catch(ve){Rt(s,s.return,ve)}}if(s===i){Ce=null;break}if(l=s.sibling,l!==null){l.return=s.return,Ce=l;break}Ce=s.return}}function Pv(i){for(;Ce!==null;){var s=Ce;if(s===i){Ce=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Ce=l;break}Ce=s.return}}function Ov(i){for(;Ce!==null;){var s=Ce;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Uu(4,s)}catch(J){Rt(s,l,J)}break;case 1:var p=s.stateNode;if(typeof p.componentDidMount=="function"){var A=s.return;try{p.componentDidMount()}catch(J){Rt(s,A,J)}}var x=s.return;try{Nh(s)}catch(J){Rt(s,x,J)}break;case 5:var F=s.return;try{Nh(s)}catch(J){Rt(s,F,J)}}}catch(J){Rt(s,s.return,J)}if(s===i){Ce=null;break}var Q=s.sibling;if(Q!==null){Q.return=s.return,Ce=Q;break}Ce=s.return}}var FS=Math.ceil,Fu=S.ReactCurrentDispatcher,Mh=S.ReactCurrentOwner,Wn=S.ReactCurrentBatchConfig,it=0,zt=null,Nt=null,Yt=0,Dn=0,xs=bi(0),jt=0,Xa=null,ko=0,qu=0,jh=0,Ya=null,Tn=null,Vh=0,Ns=1/0,Yr=null,Bu=!1,Uh=null,Ci=null,zu=!1,Pi=null,$u=0,Ja=0,Fh=null,Hu=-1,Wu=0;function mn(){return it&6?dt():Hu!==-1?Hu:Hu=dt()}function Oi(i){return i.mode&1?it&2&&Yt!==0?Yt&-Yt:bS.transition!==null?(Wu===0&&(Wu=go()),Wu):(i=Ze,i!==0||(i=window.event,i=i===void 0?16:Ia(i.type)),i):1}function lr(i,s,l,p){if(50<Ja)throw Ja=0,Fh=null,Error(t(185));mi(i,l,p),(!(it&2)||i!==zt)&&(i===zt&&(!(it&2)&&(qu|=l),jt===4&&xi(i,Yt)),bn(i,p),l===1&&it===0&&!(s.mode&1)&&(Ns=dt()+500,Eu&&Ai()))}function bn(i,s){var l=i.callbackNode;Ur(i,s);var p=mo(i,i===zt?Yt:0);if(p===0)l!==null&&wa(l),i.callbackNode=null,i.callbackPriority=0;else if(s=p&-p,i.callbackPriority!==s){if(l!=null&&wa(l),s===1)i.tag===0?TS(Nv.bind(null,i)):vy(Nv.bind(null,i)),vS(function(){!(it&6)&&Ai()}),l=null;else{switch(yi(p)){case 1:l=ho;break;case 4:l=hi;break;case 16:l=Un;break;case 536870912:l=Wl;break;default:l=Un}l=qv(l,xv.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function xv(i,s){if(Hu=-1,Wu=0,it&6)throw Error(t(327));var l=i.callbackNode;if(Ds()&&i.callbackNode!==l)return null;var p=mo(i,i===zt?Yt:0);if(p===0)return null;if(p&30||p&i.expiredLanes||s)s=Ku(i,p);else{s=p;var A=it;it|=2;var x=Lv();(zt!==i||Yt!==s)&&(Yr=null,Ns=dt()+500,Po(i,s));do try{zS();break}catch(Q){Dv(i,Q)}while(!0);ih(),Fu.current=x,it=A,Nt!==null?s=0:(zt=null,Yt=0,s=jt)}if(s!==0){if(s===2&&(A=Cn(i),A!==0&&(p=A,s=qh(i,A))),s===1)throw l=Xa,Po(i,0),xi(i,p),bn(i,dt()),l;if(s===6)xi(i,p);else{if(A=i.current.alternate,!(p&30)&&!qS(A)&&(s=Ku(i,p),s===2&&(x=Cn(i),x!==0&&(p=x,s=qh(i,x))),s===1))throw l=Xa,Po(i,0),xi(i,p),bn(i,dt()),l;switch(i.finishedWork=A,i.finishedLanes=p,s){case 0:case 1:throw Error(t(345));case 2:Oo(i,Tn,Yr);break;case 3:if(xi(i,p),(p&130023424)===p&&(s=Vh+500-dt(),10<s)){if(mo(i,0)!==0)break;if(A=i.suspendedLanes,(A&p)!==p){mn(),i.pingedLanes|=i.suspendedLanes&A;break}i.timeoutHandle=Kf(Oo.bind(null,i,Tn,Yr),s);break}Oo(i,Tn,Yr);break;case 4:if(xi(i,p),(p&4194240)===p)break;for(s=i.eventTimes,A=-1;0<p;){var F=31-hn(p);x=1<<F,F=s[F],F>A&&(A=F),p&=~x}if(p=A,p=dt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*FS(p/1960))-p,10<p){i.timeoutHandle=Kf(Oo.bind(null,i,Tn,Yr),p);break}Oo(i,Tn,Yr);break;case 5:Oo(i,Tn,Yr);break;default:throw Error(t(329))}}}return bn(i,dt()),i.callbackNode===l?xv.bind(null,i):null}function qh(i,s){var l=Ya;return i.current.memoizedState.isDehydrated&&(Po(i,s).flags|=256),i=Ku(i,s),i!==2&&(s=Tn,Tn=l,s!==null&&Bh(s)),i}function Bh(i){Tn===null?Tn=i:Tn.push.apply(Tn,i)}function qS(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var p=0;p<l.length;p++){var A=l[p],x=A.getSnapshot;A=A.value;try{if(!rr(x(),A))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function xi(i,s){for(s&=~jh,s&=~qu,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-hn(s),p=1<<l;i[l]=-1,s&=~p}}function Nv(i){if(it&6)throw Error(t(327));Ds();var s=mo(i,0);if(!(s&1))return bn(i,dt()),null;var l=Ku(i,s);if(i.tag!==0&&l===2){var p=Cn(i);p!==0&&(s=p,l=qh(i,p))}if(l===1)throw l=Xa,Po(i,0),xi(i,s),bn(i,dt()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Oo(i,Tn,Yr),bn(i,dt()),null}function zh(i,s){var l=it;it|=1;try{return i(s)}finally{it=l,it===0&&(Ns=dt()+500,Eu&&Ai())}}function Co(i){Pi!==null&&Pi.tag===0&&!(it&6)&&Ds();var s=it;it|=1;var l=Wn.transition,p=Ze;try{if(Wn.transition=null,Ze=1,i)return i()}finally{Ze=p,Wn.transition=l,it=s,!(it&6)&&Ai()}}function $h(){Dn=xs.current,yt(xs)}function Po(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,yS(l)),Nt!==null)for(l=Nt.return;l!==null;){var p=l;switch(Zf(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&vu();break;case 3:Cs(),yt(_n),yt(rn),hh();break;case 5:ch(p);break;case 4:Cs();break;case 13:yt(Tt);break;case 19:yt(Tt);break;case 10:oh(p.type._context);break;case 22:case 23:$h()}l=l.return}if(zt=i,Nt=i=Ni(i.current,null),Yt=Dn=s,jt=0,Xa=null,jh=qu=ko=0,Tn=Ya=null,Ao!==null){for(s=0;s<Ao.length;s++)if(l=Ao[s],p=l.interleaved,p!==null){l.interleaved=null;var A=p.next,x=l.pending;if(x!==null){var F=x.next;x.next=A,p.next=F}l.pending=p}Ao=null}return i}function Dv(i,s){do{var l=Nt;try{if(ih(),Pu.current=Du,Ou){for(var p=bt.memoizedState;p!==null;){var A=p.queue;A!==null&&(A.pending=null),p=p.next}Ou=!1}if(Ro=0,Bt=Mt=bt=null,$a=!1,Ha=0,Mh.current=null,l===null||l.return===null){jt=1,Xa=s,Nt=null;break}e:{var x=i,F=l.return,Q=l,J=s;if(s=Yt,Q.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var ce=J,_e=Q,we=_e.tag;if(!(_e.mode&1)&&(we===0||we===11||we===15)){var ve=_e.alternate;ve?(_e.updateQueue=ve.updateQueue,_e.memoizedState=ve.memoizedState,_e.lanes=ve.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var Re=ov(F);if(Re!==null){Re.flags&=-257,sv(Re,F,Q,x,s),Re.mode&1&&iv(x,ce,s),s=Re,J=ce;var Pe=s.updateQueue;if(Pe===null){var Oe=new Set;Oe.add(J),s.updateQueue=Oe}else Pe.add(J);break e}else{if(!(s&1)){iv(x,ce,s),Hh();break e}J=Error(t(426))}}else if(Et&&Q.mode&1){var Ct=ov(F);if(Ct!==null){!(Ct.flags&65536)&&(Ct.flags|=256),sv(Ct,F,Q,x,s),nh(Ps(J,Q));break e}}x=J=Ps(J,Q),jt!==4&&(jt=2),Ya===null?Ya=[x]:Ya.push(x),x=F;do{switch(x.tag){case 3:x.flags|=65536,s&=-s,x.lanes|=s;var le=nv(x,J,s);Cy(x,le);break e;case 1:Q=J;var te=x.type,ue=x.stateNode;if(!(x.flags&128)&&(typeof te.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(Ci===null||!Ci.has(ue)))){x.flags|=65536,s&=-s,x.lanes|=s;var Te=rv(x,Q,s);Cy(x,Te);break e}}x=x.return}while(x!==null)}jv(l)}catch(xe){s=xe,Nt===l&&l!==null&&(Nt=l=l.return);continue}break}while(!0)}function Lv(){var i=Fu.current;return Fu.current=Du,i===null?Du:i}function Hh(){(jt===0||jt===3||jt===2)&&(jt=4),zt===null||!(ko&268435455)&&!(qu&268435455)||xi(zt,Yt)}function Ku(i,s){var l=it;it|=2;var p=Lv();(zt!==i||Yt!==s)&&(Yr=null,Po(i,s));do try{BS();break}catch(A){Dv(i,A)}while(!0);if(ih(),it=l,Fu.current=p,Nt!==null)throw Error(t(261));return zt=null,Yt=0,jt}function BS(){for(;Nt!==null;)Mv(Nt)}function zS(){for(;Nt!==null&&!$l();)Mv(Nt)}function Mv(i){var s=Fv(i.alternate,i,Dn);i.memoizedProps=i.pendingProps,s===null?jv(i):Nt=s,Mh.current=null}function jv(i){var s=i;do{var l=s.alternate;if(i=s.return,s.flags&32768){if(l=MS(l,s),l!==null){l.flags&=32767,Nt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{jt=6,Nt=null;return}}else if(l=LS(l,s,Dn),l!==null){Nt=l;return}if(s=s.sibling,s!==null){Nt=s;return}Nt=s=i}while(s!==null);jt===0&&(jt=5)}function Oo(i,s,l){var p=Ze,A=Wn.transition;try{Wn.transition=null,Ze=1,$S(i,s,l,p)}finally{Wn.transition=A,Ze=p}return null}function $S(i,s,l,p){do Ds();while(Pi!==null);if(it&6)throw Error(t(327));l=i.finishedWork;var A=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var x=l.lanes|l.childLanes;if(ht(i,x),i===zt&&(Nt=zt=null,Yt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||zu||(zu=!0,qv(Un,function(){return Ds(),null})),x=(l.flags&15990)!==0,l.subtreeFlags&15990||x){x=Wn.transition,Wn.transition=null;var F=Ze;Ze=1;var Q=it;it|=4,Mh.current=null,VS(i,l),Rv(l,i),cS(Hf),_i=!!$f,Hf=$f=null,i.current=l,US(l),kf(),it=Q,Ze=F,Wn.transition=x}else i.current=l;if(zu&&(zu=!1,Pi=i,$u=A),x=i.pendingLanes,x===0&&(Ci=null),Kl(l.stateNode),bn(i,dt()),s!==null)for(p=i.onRecoverableError,l=0;l<s.length;l++)A=s[l],p(A.value,{componentStack:A.stack,digest:A.digest});if(Bu)throw Bu=!1,i=Uh,Uh=null,i;return $u&1&&i.tag!==0&&Ds(),x=i.pendingLanes,x&1?i===Fh?Ja++:(Ja=0,Fh=i):Ja=0,Ai(),null}function Ds(){if(Pi!==null){var i=yi($u),s=Wn.transition,l=Ze;try{if(Wn.transition=null,Ze=16>i?16:i,Pi===null)var p=!1;else{if(i=Pi,Pi=null,$u=0,it&6)throw Error(t(331));var A=it;for(it|=4,Ce=i.current;Ce!==null;){var x=Ce,F=x.child;if(Ce.flags&16){var Q=x.deletions;if(Q!==null){for(var J=0;J<Q.length;J++){var ce=Q[J];for(Ce=ce;Ce!==null;){var _e=Ce;switch(_e.tag){case 0:case 11:case 15:Qa(8,_e,x)}var we=_e.child;if(we!==null)we.return=_e,Ce=we;else for(;Ce!==null;){_e=Ce;var ve=_e.sibling,Re=_e.return;if(Tv(_e),_e===ce){Ce=null;break}if(ve!==null){ve.return=Re,Ce=ve;break}Ce=Re}}}var Pe=x.alternate;if(Pe!==null){var Oe=Pe.child;if(Oe!==null){Pe.child=null;do{var Ct=Oe.sibling;Oe.sibling=null,Oe=Ct}while(Oe!==null)}}Ce=x}}if(x.subtreeFlags&2064&&F!==null)F.return=x,Ce=F;else e:for(;Ce!==null;){if(x=Ce,x.flags&2048)switch(x.tag){case 0:case 11:case 15:Qa(9,x,x.return)}var le=x.sibling;if(le!==null){le.return=x.return,Ce=le;break e}Ce=x.return}}var te=i.current;for(Ce=te;Ce!==null;){F=Ce;var ue=F.child;if(F.subtreeFlags&2064&&ue!==null)ue.return=F,Ce=ue;else e:for(F=te;Ce!==null;){if(Q=Ce,Q.flags&2048)try{switch(Q.tag){case 0:case 11:case 15:Uu(9,Q)}}catch(xe){Rt(Q,Q.return,xe)}if(Q===F){Ce=null;break e}var Te=Q.sibling;if(Te!==null){Te.return=Q.return,Ce=Te;break e}Ce=Q.return}}if(it=A,Ai(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(po,i)}catch{}p=!0}return p}finally{Ze=l,Wn.transition=s}}return!1}function Vv(i,s,l){s=Ps(l,s),s=nv(i,s,1),i=Ri(i,s,1),s=mn(),i!==null&&(mi(i,1,s),bn(i,s))}function Rt(i,s,l){if(i.tag===3)Vv(i,i,l);else for(;s!==null;){if(s.tag===3){Vv(s,i,l);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ci===null||!Ci.has(p))){i=Ps(l,i),i=rv(s,i,1),s=Ri(s,i,1),i=mn(),s!==null&&(mi(s,1,i),bn(s,i));break}}s=s.return}}function HS(i,s,l){var p=i.pingCache;p!==null&&p.delete(s),s=mn(),i.pingedLanes|=i.suspendedLanes&l,zt===i&&(Yt&l)===l&&(jt===4||jt===3&&(Yt&130023424)===Yt&&500>dt()-Vh?Po(i,0):jh|=l),bn(i,s)}function Uv(i,s){s===0&&(i.mode&1?(s=rs,rs<<=1,!(rs&130023424)&&(rs=4194304)):s=1);var l=mn();i=Gr(i,s),i!==null&&(mi(i,s,l),bn(i,l))}function WS(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),Uv(i,l)}function KS(i,s){var l=0;switch(i.tag){case 13:var p=i.stateNode,A=i.memoizedState;A!==null&&(l=A.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(s),Uv(i,l)}var Fv;Fv=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||_n.current)wn=!0;else{if(!(i.lanes&l)&&!(s.flags&128))return wn=!1,DS(i,s,l);wn=!!(i.flags&131072)}else wn=!1,Et&&s.flags&1048576&&_y(s,Tu,s.index);switch(s.lanes=0,s.tag){case 2:var p=s.type;ju(i,s),i=s.pendingProps;var A=Ts(s,rn.current);ks(s,l),A=mh(null,s,p,i,A,l);var x=gh();return s.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,En(p)?(x=!0,_u(s)):x=!1,s.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,lh(s),A.updater=Lu,s.stateNode=A,A._reactInternals=s,Th(s,p,i,l),s=Ih(null,s,p,!0,x,l)):(s.tag=0,Et&&x&&Jf(s),pn(null,s,A,l),s=s.child),s;case 16:p=s.elementType;e:{switch(ju(i,s),i=s.pendingProps,A=p._init,p=A(p._payload),s.type=p,A=s.tag=QS(p),i=or(p,i),A){case 0:s=Ah(null,s,p,i,l);break e;case 1:s=hv(null,s,p,i,l);break e;case 11:s=av(null,s,p,i,l);break e;case 14:s=lv(null,s,p,or(p.type,i),l);break e}throw Error(t(306,p,""))}return s;case 0:return p=s.type,A=s.pendingProps,A=s.elementType===p?A:or(p,A),Ah(i,s,p,A,l);case 1:return p=s.type,A=s.pendingProps,A=s.elementType===p?A:or(p,A),hv(i,s,p,A,l);case 3:e:{if(dv(s),i===null)throw Error(t(387));p=s.pendingProps,x=s.memoizedState,A=x.element,ky(i,s),ku(s,p,null,l);var F=s.memoizedState;if(p=F.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){A=Ps(Error(t(423)),s),s=pv(i,s,p,l,A);break e}else if(p!==A){A=Ps(Error(t(424)),s),s=pv(i,s,p,l,A);break e}else for(Nn=Ti(s.stateNode.containerInfo.firstChild),xn=s,Et=!0,ir=null,l=Iy(s,null,p,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(As(),p===A){s=Xr(i,s,l);break e}pn(i,s,p,l)}s=s.child}return s;case 5:return Oy(s),i===null&&th(s),p=s.type,A=s.pendingProps,x=i!==null?i.memoizedProps:null,F=A.children,Wf(p,A)?F=null:x!==null&&Wf(p,x)&&(s.flags|=32),fv(i,s),pn(i,s,F,l),s.child;case 6:return i===null&&th(s),null;case 13:return mv(i,s,l);case 4:return uh(s,s.stateNode.containerInfo),p=s.pendingProps,i===null?s.child=Is(s,null,p,l):pn(i,s,p,l),s.child;case 11:return p=s.type,A=s.pendingProps,A=s.elementType===p?A:or(p,A),av(i,s,p,A,l);case 7:return pn(i,s,s.pendingProps,l),s.child;case 8:return pn(i,s,s.pendingProps.children,l),s.child;case 12:return pn(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(p=s.type._context,A=s.pendingProps,x=s.memoizedProps,F=A.value,pt(Au,p._currentValue),p._currentValue=F,x!==null)if(rr(x.value,F)){if(x.children===A.children&&!_n.current){s=Xr(i,s,l);break e}}else for(x=s.child,x!==null&&(x.return=s);x!==null;){var Q=x.dependencies;if(Q!==null){F=x.child;for(var J=Q.firstContext;J!==null;){if(J.context===p){if(x.tag===1){J=Qr(-1,l&-l),J.tag=2;var ce=x.updateQueue;if(ce!==null){ce=ce.shared;var _e=ce.pending;_e===null?J.next=J:(J.next=_e.next,_e.next=J),ce.pending=J}}x.lanes|=l,J=x.alternate,J!==null&&(J.lanes|=l),sh(x.return,l,s),Q.lanes|=l;break}J=J.next}}else if(x.tag===10)F=x.type===s.type?null:x.child;else if(x.tag===18){if(F=x.return,F===null)throw Error(t(341));F.lanes|=l,Q=F.alternate,Q!==null&&(Q.lanes|=l),sh(F,l,s),F=x.sibling}else F=x.child;if(F!==null)F.return=x;else for(F=x;F!==null;){if(F===s){F=null;break}if(x=F.sibling,x!==null){x.return=F.return,F=x;break}F=F.return}x=F}pn(i,s,A.children,l),s=s.child}return s;case 9:return A=s.type,p=s.pendingProps.children,ks(s,l),A=$n(A),p=p(A),s.flags|=1,pn(i,s,p,l),s.child;case 14:return p=s.type,A=or(p,s.pendingProps),A=or(p.type,A),lv(i,s,p,A,l);case 15:return uv(i,s,s.type,s.pendingProps,l);case 17:return p=s.type,A=s.pendingProps,A=s.elementType===p?A:or(p,A),ju(i,s),s.tag=1,En(p)?(i=!0,_u(s)):i=!1,ks(s,l),ev(s,p,A),Th(s,p,A,l),Ih(null,s,p,!0,i,l);case 19:return yv(i,s,l);case 22:return cv(i,s,l)}throw Error(t(156,s.tag))};function qv(i,s){return ts(i,s)}function GS(i,s,l,p){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(i,s,l,p){return new GS(i,s,l,p)}function Wh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function QS(i){if(typeof i=="function")return Wh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===D)return 11;if(i===G)return 14}return 2}function Ni(i,s){var l=i.alternate;return l===null?(l=Kn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Gu(i,s,l,p,A,x){var F=2;if(p=i,typeof i=="function")Wh(i)&&(F=1);else if(typeof i=="string")F=5;else e:switch(i){case O:return xo(l.children,A,x,s);case I:F=8,A|=8;break;case M:return i=Kn(12,l,s,A|2),i.elementType=M,i.lanes=x,i;case C:return i=Kn(13,l,s,A),i.elementType=C,i.lanes=x,i;case z:return i=Kn(19,l,s,A),i.elementType=z,i.lanes=x,i;case ne:return Qu(l,A,x,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:F=10;break e;case R:F=9;break e;case D:F=11;break e;case G:F=14;break e;case re:F=16,p=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=Kn(F,l,s,A),s.elementType=i,s.type=p,s.lanes=x,s}function xo(i,s,l,p){return i=Kn(7,i,p,s),i.lanes=l,i}function Qu(i,s,l,p){return i=Kn(22,i,p,s),i.elementType=ne,i.lanes=l,i.stateNode={isHidden:!1},i}function Kh(i,s,l){return i=Kn(6,i,null,s),i.lanes=l,i}function Gh(i,s,l){return s=Kn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function XS(i,s,l,p,A){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pi(0),this.expirationTimes=pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.identifierPrefix=p,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function Qh(i,s,l,p,A,x,F,Q,J){return i=new XS(i,s,l,Q,J),s===1?(s=1,x===!0&&(s|=8)):s=0,x=Kn(3,null,null,s),i.current=x,x.stateNode=i,x.memoizedState={element:p,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},lh(x),i}function YS(i,s,l){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:p==null?null:""+p,children:i,containerInfo:s,implementation:l}}function Bv(i){if(!i)return Si;i=i._reactInternals;e:{if(Xn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(En(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(En(l))return gy(i,l,s)}return s}function zv(i,s,l,p,A,x,F,Q,J){return i=Qh(l,p,!0,i,A,x,F,Q,J),i.context=Bv(null),l=i.current,p=mn(),A=Oi(l),x=Qr(p,A),x.callback=s??null,Ri(l,x,A),i.current.lanes=A,mi(i,A,p),bn(i,p),i}function Xu(i,s,l,p){var A=s.current,x=mn(),F=Oi(A);return l=Bv(l),s.context===null?s.context=l:s.pendingContext=l,s=Qr(x,F),s.payload={element:i},p=p===void 0?null:p,p!==null&&(s.callback=p),i=Ri(A,s,F),i!==null&&(lr(i,A,F,x),Ru(i,A,F)),F}function Yu(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function $v(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Xh(i,s){$v(i,s),(i=i.alternate)&&$v(i,s)}var Hv=typeof reportError=="function"?reportError:function(i){console.error(i)};function Yh(i){this._internalRoot=i}Ju.prototype.render=Yh.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));Xu(i,s,null,null)},Ju.prototype.unmount=Yh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Co(function(){Xu(null,i,null,null)}),s[$r]=null}};function Ju(i){this._internalRoot=i}Ju.prototype.unstable_scheduleHydration=function(i){if(i){var s=Jl();i={blockedOn:null,target:i,priority:s};for(var l=0;l<mr.length&&s!==0&&s<mr[l].priority;l++);mr.splice(l,0,i),l===0&&tu(i)}};function Jh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Zu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Wv(){}function JS(i,s,l,p,A){if(A){if(typeof p=="function"){var x=p;p=function(){var ce=Yu(F);x.call(ce)}}var F=zv(s,p,i,0,null,!1,!1,"",Wv);return i._reactRootContainer=F,i[$r]=F.current,Ma(i.nodeType===8?i.parentNode:i),Co(),F}for(;A=i.lastChild;)i.removeChild(A);if(typeof p=="function"){var Q=p;p=function(){var ce=Yu(J);Q.call(ce)}}var J=Qh(i,0,!1,null,null,!1,!1,"",Wv);return i._reactRootContainer=J,i[$r]=J.current,Ma(i.nodeType===8?i.parentNode:i),Co(function(){Xu(s,J,l,p)}),J}function ec(i,s,l,p,A){var x=l._reactRootContainer;if(x){var F=x;if(typeof A=="function"){var Q=A;A=function(){var J=Yu(F);Q.call(J)}}Xu(s,F,i,A)}else F=JS(l,s,i,A,p);return Yu(F)}Xl=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=di(s.pendingLanes);l!==0&&(gi(s,l|1),bn(s,dt()),!(it&6)&&(Ns=dt()+500,Ai()))}break;case 13:Co(function(){var p=Gr(i,1);if(p!==null){var A=mn();lr(p,i,1,A)}}),Xh(i,1)}},is=function(i){if(i.tag===13){var s=Gr(i,134217728);if(s!==null){var l=mn();lr(s,i,134217728,l)}Xh(i,134217728)}},Yl=function(i){if(i.tag===13){var s=Oi(i),l=Gr(i,s);if(l!==null){var p=mn();lr(l,i,s,p)}Xh(i,s)}},Jl=function(){return Ze},Zl=function(i,s){var l=Ze;try{return Ze=i,s()}finally{Ze=l}},Qo=function(i,s,l){switch(s){case"input":if(mt(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var p=l[s];if(p!==i&&p.form===i.form){var A=yu(p);if(!A)throw Error(t(90));De(p),mt(p,A)}}}break;case"textarea":ze(i,l);break;case"select":s=l.value,s!=null&&Ae(i,!!l.multiple,s,!1)}},lo=zh,ya=Co;var ZS={usingClientEntryPoint:!1,Events:[Ua,Es,yu,dr,ga,zh]},Za={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eA={bundleType:Za.bundleType,version:Za.version,rendererPackageName:Za.rendererPackageName,rendererConfig:Za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ea(i),i===null?null:i.stateNode},findFiberByHostInstance:Za.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{po=tc.inject(eA),kn=tc}catch{}}return Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZS,Sn.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jh(s))throw Error(t(200));return YS(i,s,null,l)},Sn.createRoot=function(i,s){if(!Jh(i))throw Error(t(299));var l=!1,p="",A=Hv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=Qh(i,1,!1,null,null,l,!1,p,A),i[$r]=s.current,Ma(i.nodeType===8?i.parentNode:i),new Yh(s)},Sn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ea(s),i=i===null?null:i.stateNode,i},Sn.flushSync=function(i){return Co(i)},Sn.hydrate=function(i,s,l){if(!Zu(s))throw Error(t(200));return ec(null,i,s,!0,l)},Sn.hydrateRoot=function(i,s,l){if(!Jh(i))throw Error(t(405));var p=l!=null&&l.hydratedSources||null,A=!1,x="",F=Hv;if(l!=null&&(l.unstable_strictMode===!0&&(A=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(F=l.onRecoverableError)),s=zv(s,null,i,1,l??null,A,!1,x,F),i[$r]=s.current,Ma(i),p)for(i=0;i<p.length;i++)l=p[i],A=l._getVersion,A=A(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,A]:s.mutableSourceEagerHydrationData.push(l,A);return new Ju(s)},Sn.render=function(i,s,l){if(!Zu(s))throw Error(t(200));return ec(null,i,s,!1,l)},Sn.unmountComponentAtNode=function(i){if(!Zu(i))throw Error(t(40));return i._reactRootContainer?(Co(function(){ec(null,null,i,!1,function(){i._reactRootContainer=null,i[$r]=null})}),!0):!1},Sn.unstable_batchedUpdates=zh,Sn.unstable_renderSubtreeIntoContainer=function(i,s,l,p){if(!Zu(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return ec(i,s,l,!1,p)},Sn.version="18.3.1-next-f1338f8080-20240426",Sn}var e_;function Cw(){if(e_)return td.exports;e_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),td.exports=aA(),td.exports}var t_;function lA(){if(t_)return rc;t_=1;var n=Cw();return rc.createRoot=n.createRoot,rc.hydrateRoot=n.hydrateRoot,rc}var uA=lA(),tl={},n_;function cA(){if(n_)return tl;n_=1,Object.defineProperty(tl,"__esModule",{value:!0}),tl.parse=u,tl.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const d=function(){};return d.prototype=Object.create(null),d})();function u(d,y){const b=new a,w=d.length;if(w<2)return b;const _=(y==null?void 0:y.decode)||v;let E=0;do{const T=d.indexOf("=",E);if(T===-1)break;const k=d.indexOf(";",E),S=k===-1?w:k;if(T>S){E=d.lastIndexOf(";",T-1)+1;continue}const L=f(d,E,T),U=h(d,T,L),O=d.slice(L,U);if(b[O]===void 0){let I=f(d,T+1,S),M=h(d,S,I);const N=_(d.slice(I,M));b[O]=N}E=S+1}while(E<w);return b}function f(d,y,b){do{const w=d.charCodeAt(y);if(w!==32&&w!==9)return y}while(++y<b);return b}function h(d,y,b){for(;y>b;){const w=d.charCodeAt(--y);if(w!==32&&w!==9)return y+1}return b}function m(d,y,b){const w=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(d))throw new TypeError(`argument name is invalid: ${d}`);const _=w(y);if(!e.test(_))throw new TypeError(`argument val is invalid: ${y}`);let E=d+"="+_;if(!b)return E;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);E+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);E+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);E+="; Path="+b.path}if(b.expires){if(!g(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);E+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(E+="; HttpOnly"),b.secure&&(E+="; Secure"),b.partitioned&&(E+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return E}function v(d){if(d.indexOf("%")===-1)return d;try{return decodeURIComponent(d)}catch{return d}}function g(d){return o.call(d)==="[object Date]"}return tl}cA();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var r_="popstate";function fA(n={}){function e(r,o){let{pathname:a,search:u,hash:f}=r.location;return rm("",{pathname:a,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:yl(o)}return dA(e,t,null,n)}function St(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hA(){return Math.random().toString(36).substring(2,10)}function i_(n,e){return{usr:n.state,key:n.key,idx:e}}function rm(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ta(e):e,state:t,key:e&&e.key||r||hA()}}function yl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ta(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function dA(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,f="POP",h=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function g(){f="POP";let _=v(),E=_==null?null:_-m;m=_,h&&h({action:f,location:w.location,delta:E})}function d(_,E){f="PUSH";let T=rm(w.location,_,E);m=v()+1;let k=i_(T,m),S=w.createHref(T);try{u.pushState(k,"",S)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;o.location.assign(S)}a&&h&&h({action:f,location:w.location,delta:1})}function y(_,E){f="REPLACE";let T=rm(w.location,_,E);m=v();let k=i_(T,m),S=w.createHref(T);u.replaceState(k,"",S),a&&h&&h({action:f,location:w.location,delta:0})}function b(_){let E=o.location.origin!=="null"?o.location.origin:o.location.href,T=typeof _=="string"?_:yl(_);return T=T.replace(/ $/,"%20"),St(E,`No window.location.(origin|href) available to create URL for href: ${T}`),new URL(T,E)}let w={get action(){return f},get location(){return n(o,u)},listen(_){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(r_,g),h=_,()=>{o.removeEventListener(r_,g),h=null}},createHref(_){return e(o,_)},createURL:b,encodeLocation(_){let E=b(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:d,replace:y,go(_){return u.go(_)}};return w}function Pw(n,e,t="/"){return pA(n,e,t,!1)}function pA(n,e,t,r){let o=typeof e=="string"?ta(e):e,a=Gi(o.pathname||"/",t);if(a==null)return null;let u=Ow(n);mA(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let m=IA(a);f=SA(u[h],m,r)}return f}function Ow(n,e=[],t=[],r=""){let o=(a,u,f)=>{let h={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(St(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let m=ti([r,h.relativePath]),v=t.concat(h);a.children&&a.children.length>0&&(St(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Ow(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:TA(m,a.index),routesMeta:v})};return n.forEach((a,u)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))o(a,u);else for(let h of xw(a.path))o(a,u,h)}),e}function xw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=xw(r.join("/")),f=[];return f.push(...u.map(h=>h===""?a:[a,h].join("/"))),o&&f.push(...u),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function mA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:bA(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var gA=/^:[\w-]+$/,yA=3,vA=2,_A=1,EA=10,wA=-2,o_=n=>n==="*";function TA(n,e){let t=n.split("/"),r=t.length;return t.some(o_)&&(r+=wA),e&&(r+=vA),t.filter(o=>!o_(o)).reduce((o,a)=>o+(gA.test(a)?yA:a===""?_A:EA),r)}function bA(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function SA(n,e,t=!1){let{routesMeta:r}=n,o={},a="/",u=[];for(let f=0;f<r.length;++f){let h=r[f],m=f===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",g=Ic({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},v),d=h.route;if(!g&&m&&t&&!r[r.length-1].route.index&&(g=Ic({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!g)return null;Object.assign(o,g.params),u.push({params:o,pathname:ti([a,g.pathname]),pathnameBase:PA(ti([a,g.pathnameBase])),route:d}),g.pathnameBase!=="/"&&(a=ti([a,g.pathnameBase]))}return u}function Ic(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=AA(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:r.reduce((m,{paramName:v,isOptional:g},d)=>{if(v==="*"){let b=f[d]||"";u=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const y=f[d];return g&&!y?m[v]=void 0:m[v]=(y||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function AA(n,e=!1,t=!0){xr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(r.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function IA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Gi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function RA(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?ta(n):n;return{pathname:t?t.startsWith("/")?t:kA(t,e):e,search:OA(r),hash:xA(o)}}function kA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function id(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Nw(n){let e=CA(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Dw(n,e,t,r=!1){let o;typeof n=="string"?o=ta(n):(o={...n},St(!o.pathname||!o.pathname.includes("?"),id("?","pathname","search",o)),St(!o.pathname||!o.pathname.includes("#"),id("#","pathname","hash",o)),St(!o.search||!o.search.includes("#"),id("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,f;if(u==null)f=t;else{let g=e.length-1;if(!r&&u.startsWith("..")){let d=u.split("/");for(;d[0]==="..";)d.shift(),g-=1;o.pathname=d.join("/")}f=g>=0?e[g]:"/"}let h=RA(o,f),m=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(m||v)&&(h.pathname+="/"),h}var ti=n=>n.join("/").replace(/\/\/+/g,"/"),PA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),OA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,xA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function NA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Lw=["POST","PUT","PATCH","DELETE"];new Set(Lw);var DA=["GET",...Lw];new Set(DA);var na=de.createContext(null);na.displayName="DataRouter";var Gc=de.createContext(null);Gc.displayName="DataRouterState";var Mw=de.createContext({isTransitioning:!1});Mw.displayName="ViewTransition";var LA=de.createContext(new Map);LA.displayName="Fetchers";var MA=de.createContext(null);MA.displayName="Await";var Lr=de.createContext(null);Lr.displayName="Navigation";var Il=de.createContext(null);Il.displayName="Location";var Mr=de.createContext({outlet:null,matches:[],isDataRoute:!1});Mr.displayName="Route";var Nm=de.createContext(null);Nm.displayName="RouteError";function jA(n,{relative:e}={}){St(Rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=de.useContext(Lr),{hash:o,pathname:a,search:u}=Cl(n,{relative:e}),f=a;return t!=="/"&&(f=a==="/"?t:ti([t,a])),r.createHref({pathname:f,search:u,hash:o})}function Rl(){return de.useContext(Il)!=null}function $o(){return St(Rl(),"useLocation() may be used only in the context of a <Router> component."),de.useContext(Il).location}var jw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Vw(n){de.useContext(Lr).static||de.useLayoutEffect(n)}function kl(){let{isDataRoute:n}=de.useContext(Mr);return n?XA():VA()}function VA(){St(Rl(),"useNavigate() may be used only in the context of a <Router> component.");let n=de.useContext(na),{basename:e,navigator:t}=de.useContext(Lr),{matches:r}=de.useContext(Mr),{pathname:o}=$o(),a=JSON.stringify(Nw(r)),u=de.useRef(!1);return Vw(()=>{u.current=!0}),de.useCallback((h,m={})=>{if(xr(u.current,jw),!u.current)return;if(typeof h=="number"){t.go(h);return}let v=Dw(h,JSON.parse(a),o,m.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ti([e,v.pathname])),(m.replace?t.replace:t.push)(v,m.state,m)},[e,t,a,o,n])}de.createContext(null);function Uw(){let{matches:n}=de.useContext(Mr),e=n[n.length-1];return e?e.params:{}}function Cl(n,{relative:e}={}){let{matches:t}=de.useContext(Mr),{pathname:r}=$o(),o=JSON.stringify(Nw(t));return de.useMemo(()=>Dw(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function UA(n,e){return Fw(n,e)}function Fw(n,e,t,r){var E;St(Rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=de.useContext(Lr),{matches:a}=de.useContext(Mr),u=a[a.length-1],f=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",v=u&&u.route;{let T=v&&v.path||"";qw(h,!v||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=$o(),d;if(e){let T=typeof e=="string"?ta(e):e;St(m==="/"||((E=T.pathname)==null?void 0:E.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${T.pathname}" was given in the \`location\` prop.`),d=T}else d=g;let y=d.pathname||"/",b=y;if(m!=="/"){let T=m.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(T.length).join("/")}let w=Pw(n,{pathname:b});xr(v||w!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),xr(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=$A(w&&w.map(T=>Object.assign({},T,{params:Object.assign({},f,T.params),pathname:ti([m,o.encodeLocation?o.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?m:ti([m,o.encodeLocation?o.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),a,t,r);return e&&_?de.createElement(Il.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},_):_}function FA(){let n=QA(),e=NA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=de.createElement(de.Fragment,null,de.createElement("p",null,"💿 Hey developer 👋"),de.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",de.createElement("code",{style:a},"ErrorBoundary")," or"," ",de.createElement("code",{style:a},"errorElement")," prop on your route.")),de.createElement(de.Fragment,null,de.createElement("h2",null,"Unexpected Application Error!"),de.createElement("h3",{style:{fontStyle:"italic"}},e),t?de.createElement("pre",{style:o},t):null,u)}var qA=de.createElement(FA,null),BA=class extends de.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?de.createElement(Mr.Provider,{value:this.props.routeContext},de.createElement(Nm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zA({routeContext:n,match:e,children:t}){let r=de.useContext(na);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),de.createElement(Mr.Provider,{value:n},t)}function $A(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let h=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);St(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,f=-1;if(t)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:v,errors:g}=t,d=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!g||g[m.route.id]===void 0);if(m.route.lazy||d){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((h,m,v)=>{let g,d=!1,y=null,b=null;t&&(g=a&&m.route.id?a[m.route.id]:void 0,y=m.route.errorElement||qA,u&&(f<0&&v===0?(qw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,b=null):f===v&&(d=!0,b=m.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,v+1)),_=()=>{let E;return g?E=y:d?E=b:m.route.Component?E=de.createElement(m.route.Component,null):m.route.element?E=m.route.element:E=h,de.createElement(zA,{match:m,routeContext:{outlet:h,matches:w,isDataRoute:t!=null},children:E})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?de.createElement(BA,{location:t.location,revalidation:t.revalidation,component:y,error:g,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}function Dm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HA(n){let e=de.useContext(na);return St(e,Dm(n)),e}function WA(n){let e=de.useContext(Gc);return St(e,Dm(n)),e}function KA(n){let e=de.useContext(Mr);return St(e,Dm(n)),e}function Lm(n){let e=KA(n),t=e.matches[e.matches.length-1];return St(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function GA(){return Lm("useRouteId")}function QA(){var r;let n=de.useContext(Nm),e=WA("useRouteError"),t=Lm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function XA(){let{router:n}=HA("useNavigate"),e=Lm("useNavigate"),t=de.useRef(!1);return Vw(()=>{t.current=!0}),de.useCallback(async(o,a={})=>{xr(t.current,jw),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var s_={};function qw(n,e,t){!e&&!s_[n]&&(s_[n]=!0,xr(!1,t))}de.memo(YA);function YA({routes:n,future:e,state:t}){return Fw(n,void 0,t,e)}function No(n){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JA({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:a=!1}){St(!Rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=de.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=ta(t));let{pathname:h="/",search:m="",hash:v="",state:g=null,key:d="default"}=t,y=de.useMemo(()=>{let b=Gi(h,u);return b==null?null:{location:{pathname:b,search:m,hash:v,state:g,key:d},navigationType:r}},[u,h,m,v,g,d,r]);return xr(y!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:de.createElement(Lr.Provider,{value:f},de.createElement(Il.Provider,{children:e,value:y}))}function ZA({children:n,location:e}){return UA(im(n),e)}function im(n,e=[]){let t=[];return de.Children.forEach(n,(r,o)=>{if(!de.isValidElement(r))return;let a=[...e,o];if(r.type===de.Fragment){t.push.apply(t,im(r.props.children,a));return}St(r.type===No,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=im(r.props.children,a)),t.push(u)}),t}var dc="get",pc="application/x-www-form-urlencoded";function Qc(n){return n!=null&&typeof n.tagName=="string"}function eI(n){return Qc(n)&&n.tagName.toLowerCase()==="button"}function tI(n){return Qc(n)&&n.tagName.toLowerCase()==="form"}function nI(n){return Qc(n)&&n.tagName.toLowerCase()==="input"}function rI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function iI(n,e){return n.button===0&&(!e||e==="_self")&&!rI(n)}var ic=null;function oI(){if(ic===null)try{new FormData(document.createElement("form"),0),ic=!1}catch{ic=!0}return ic}var sI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function od(n){return n!=null&&!sI.has(n)?(xr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pc}"`),null):n}function aI(n,e){let t,r,o,a,u;if(tI(n)){let f=n.getAttribute("action");r=f?Gi(f,e):null,t=n.getAttribute("method")||dc,o=od(n.getAttribute("enctype"))||pc,a=new FormData(n)}else if(eI(n)||nI(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||f.getAttribute("action");if(r=h?Gi(h,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||dc,o=od(n.getAttribute("formenctype"))||od(f.getAttribute("enctype"))||pc,a=new FormData(f,n),!oI()){let{name:m,type:v,value:g}=n;if(v==="image"){let d=m?`${m}.`:"";a.append(`${d}x`,"0"),a.append(`${d}y`,"0")}else m&&a.append(m,g)}}else{if(Qc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=dc,r=null,o=pc,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:u}}function Mm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function lI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function cI(n,e,t){let r=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await lI(a,t);return u.links?u.links():[]}return[]}));return pI(r.flat(1).filter(uI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function a_(n,e,t,r,o,a){let u=(h,m)=>t[m]?h.route.id!==t[m].route.id:!0,f=(h,m)=>{var v;return t[m].pathname!==h.pathname||((v=t[m].route.path)==null?void 0:v.endsWith("*"))&&t[m].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,m)=>u(h,m)||f(h,m)):a==="data"?e.filter((h,m)=>{var g;let v=r.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(u(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let d=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function fI(n,e){return hI(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let o=[r.module];return r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function hI(n){return[...new Set(n)]}function dI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function pI(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let a=JSON.stringify(dI(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}function mI(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function gI(){let n=de.useContext(na);return Mm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function yI(){let n=de.useContext(Gc);return Mm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var jm=de.createContext(void 0);jm.displayName="FrameworkContext";function Bw(){let n=de.useContext(jm);return Mm(n,"You must render this element inside a <HydratedRouter> element"),n}function vI(n,e){let t=de.useContext(jm),[r,o]=de.useState(!1),[a,u]=de.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:v,onTouchStart:g}=e,d=de.useRef(null);de.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let w=E=>{E.forEach(T=>{u(T.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return d.current&&_.observe(d.current),()=>{_.disconnect()}}},[n]),de.useEffect(()=>{if(r){let w=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(w)}}},[r]);let y=()=>{o(!0)},b=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,d,{}]:[a,d,{onFocus:nl(f,y),onBlur:nl(h,b),onMouseEnter:nl(m,y),onMouseLeave:nl(v,b),onTouchStart:nl(g,y)}]:[!1,d,{}]}function nl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function _I({page:n,...e}){let{router:t}=gI(),r=de.useMemo(()=>Pw(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?de.createElement(wI,{page:n,matches:r,...e}):null}function EI(n){let{manifest:e,routeModules:t}=Bw(),[r,o]=de.useState([]);return de.useEffect(()=>{let a=!1;return cI(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),r}function wI({page:n,matches:e,...t}){let r=$o(),{manifest:o,routeModules:a}=Bw(),{loaderData:u,matches:f}=yI(),h=de.useMemo(()=>a_(n,e,f,o,r,"data"),[n,e,f,o,r]),m=de.useMemo(()=>a_(n,e,f,o,r,"assets"),[n,e,f,o,r]),v=de.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let y=new Set,b=!1;if(e.forEach(_=>{var T;let E=o.routes[_.route.id];!E||!E.hasLoader||(!h.some(k=>k.route.id===_.route.id)&&_.route.id in u&&((T=a[_.route.id])!=null&&T.shouldRevalidate)||E.hasClientLoader?b=!0:y.add(_.route.id))}),y.size===0)return[];let w=mI(n);return b&&y.size>0&&w.searchParams.set("_routes",e.filter(_=>y.has(_.route.id)).map(_=>_.route.id).join(",")),[w.pathname+w.search]},[u,r,o,h,e,n,a]),g=de.useMemo(()=>fI(m,o),[m,o]),d=EI(m);return de.createElement(de.Fragment,null,v.map(y=>de.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...t})),g.map(y=>de.createElement("link",{key:y,rel:"modulepreload",href:y,...t})),d.map(({key:y,link:b})=>de.createElement("link",{key:y,...b})))}function TI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var zw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zw&&(window.__reactRouterVersion="7.1.3")}catch{}function bI({basename:n,children:e,window:t}){let r=de.useRef();r.current==null&&(r.current=fA({window:t,v5Compat:!0}));let o=r.current,[a,u]=de.useState({action:o.action,location:o.location}),f=de.useCallback(h=>{de.startTransition(()=>u(h))},[u]);return de.useLayoutEffect(()=>o.listen(f),[o,f]),de.createElement(JA,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var $w=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xc=de.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:f,target:h,to:m,preventScrollReset:v,viewTransition:g,...d},y){let{basename:b}=de.useContext(Lr),w=typeof m=="string"&&$w.test(m),_,E=!1;if(typeof m=="string"&&w&&(_=m,zw))try{let M=new URL(window.location.href),N=m.startsWith("//")?new URL(M.protocol+m):new URL(m),R=Gi(N.pathname,b);N.origin===M.origin&&R!=null?m=R+N.search+N.hash:E=!0}catch{xr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=jA(m,{relative:o}),[k,S,L]=vI(r,d),U=RI(m,{replace:u,state:f,target:h,preventScrollReset:v,relative:o,viewTransition:g});function O(M){e&&e(M),M.defaultPrevented||U(M)}let I=de.createElement("a",{...d,...L,href:_||T,onClick:E||a?e:O,ref:TI(y,S),target:h,"data-discover":!w&&t==="render"?"true":void 0});return k&&!w?de.createElement(de.Fragment,null,I,de.createElement(_I,{page:T})):I});Xc.displayName="Link";var SI=de.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:f,children:h,...m},v){let g=Cl(u,{relative:m.relative}),d=$o(),y=de.useContext(Gc),{navigator:b,basename:w}=de.useContext(Lr),_=y!=null&&xI(g)&&f===!0,E=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,T=d.pathname,k=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(T=T.toLowerCase(),k=k?k.toLowerCase():null,E=E.toLowerCase()),k&&w&&(k=Gi(k,w)||k);const S=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let L=T===E||!o&&T.startsWith(E)&&T.charAt(S)==="/",U=k!=null&&(k===E||!o&&k.startsWith(E)&&k.charAt(E.length)==="/"),O={isActive:L,isPending:U,isTransitioning:_},I=L?e:void 0,M;typeof r=="function"?M=r(O):M=[r,L?"active":null,U?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(O):a;return de.createElement(Xc,{...m,"aria-current":I,className:M,ref:v,style:N,to:u,viewTransition:f},typeof h=="function"?h(O):h)});SI.displayName="NavLink";var AI=de.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:a,method:u=dc,action:f,onSubmit:h,relative:m,preventScrollReset:v,viewTransition:g,...d},y)=>{let b=PI(),w=OI(f,{relative:m}),_=u.toLowerCase()==="get"?"get":"post",E=typeof f=="string"&&$w.test(f),T=k=>{if(h&&h(k),k.defaultPrevented)return;k.preventDefault();let S=k.nativeEvent.submitter,L=(S==null?void 0:S.getAttribute("formmethod"))||u;b(S||k.currentTarget,{fetcherKey:e,method:L,navigate:t,replace:o,state:a,relative:m,preventScrollReset:v,viewTransition:g})};return de.createElement("form",{ref:y,method:_,action:w,onSubmit:r?h:T,...d,"data-discover":!E&&n==="render"?"true":void 0})});AI.displayName="Form";function II(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hw(n){let e=de.useContext(na);return St(e,II(n)),e}function RI(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:u}={}){let f=kl(),h=$o(),m=Cl(n,{relative:a});return de.useCallback(v=>{if(iI(v,e)){v.preventDefault();let g=t!==void 0?t:yl(h)===yl(m);f(n,{replace:g,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[h,f,m,t,r,e,n,o,a,u])}var kI=0,CI=()=>`__${String(++kI)}__`;function PI(){let{router:n}=Hw("useSubmit"),{basename:e}=de.useContext(Lr),t=GA();return de.useCallback(async(r,o={})=>{let{action:a,method:u,encType:f,formData:h,body:m}=aI(r,e);if(o.navigate===!1){let v=o.fetcherKey||CI();await n.fetch(v,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function OI(n,{relative:e}={}){let{basename:t}=de.useContext(Lr),r=de.useContext(Mr);St(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...Cl(n||".",{relative:e})},u=$o();if(n==null){a.search=u.search;let f=new URLSearchParams(a.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(g=>g).forEach(g=>f.append("index",g));let v=f.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ti([t,a.pathname])),yl(a)}function xI(n,e={}){let t=de.useContext(Mw);St(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Hw("useViewTransitionState"),o=Cl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Gi(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Gi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Ic(o.pathname,u)!=null||Ic(o.pathname,a)!=null}new TextEncoder;const NI="_showcaseContainer_rjbh0_1",DI="_productsGrid_rjbh0_12",LI="_imageContainer_rjbh0_17",MI="_productCard_rjbh0_29",jI="_title_rjbh0_40",VI="_price_rjbh0_46",UI="_containerImages_rjbh0_64",FI="_scrollContainer_rjbh0_85",Li={showcaseContainer:NI,productsGrid:DI,imageContainer:LI,productCard:MI,title:jI,price:VI,containerImages:UI,scrollContainer:FI,"product-image":"_product-image_rjbh0_116"},ci=et.createContext(),qI=()=>{};var l_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},BI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],f=n[t++],h=((o&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Kw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,f=u?n[o+1]:0,h=o+2<n.length,m=h?n[o+2]:0,v=a>>2,g=(a&3)<<4|f>>4;let d=(f&15)<<2|m>>6,y=m&63;h||(y=64,u||(d=64)),r.push(t[v],t[g],t[d],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ww(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):BI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const g=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||f==null||m==null||g==null)throw new zI;const d=a<<2|f>>4;if(r.push(d),m!==64){const y=f<<4&240|m>>2;if(r.push(y),g!==64){const b=m<<6&192|g;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class zI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $I=function(n){const e=Ww(n);return Kw.encodeByteArray(e,!0)},Rc=function(n){return $I(n).replace(/\./g,"")},Gw=function(n){try{return Kw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=()=>HI().__FIREBASE_DEFAULTS__,KI=()=>{if(typeof process>"u"||typeof l_>"u")return;const n=l_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},GI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Gw(n[1]);return e&&JSON.parse(e)},Yc=()=>{try{return qI()||WI()||KI()||GI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Qw=n=>{var e,t;return(t=(e=Yc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Xw=n=>{const e=Qw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Yw=()=>{var n;return(n=Yc())===null||n===void 0?void 0:n.config},Jw=n=>{var e;return(e=Yc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Rc(JSON.stringify(t)),Rc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function YI(){var n;const e=(n=Yc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function eR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tR(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function nR(){return!YI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rR(){try{return typeof indexedDB=="object"}catch{return!1}}function iR(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="FirebaseError";class jr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=oR,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?sR(a,r):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new jr(o,f,r)}}function sR(n,e){return n.replace(aR,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const aR=/\{\$([^}]+)}/g;function lR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Vo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(u_(a)&&u_(u)){if(!Vo(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function u_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function uR(n,e){const t=new cR(n,e);return t.subscribe.bind(t)}class cR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");fR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=sd),o.error===void 0&&(o.error=sd),o.complete===void 0&&(o.complete=sd);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function sd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(n){return n&&n._delegate?n._delegate:n}class Qi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new QI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pR(e))try{this.getOrInitializeService({instanceIdentifier:Do})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Do){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Do){return this.instances.has(e)}getOptions(e=Do){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);r===f&&u.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Do){return this.component?this.component.multipleInstances?e:Do:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dR(n){return n===Do?void 0:n}function pR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new hR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ye||(Ye={}));const gR={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},yR=Ye.INFO,vR={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},_R=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=vR[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vm{constructor(e){this.name=e,this._logLevel=yR,this._logHandler=_R,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const ER=(n,e)=>e.some(t=>n instanceof t);let c_,f_;function wR(){return c_||(c_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TR(){return f_||(f_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e0=new WeakMap,om=new WeakMap,t0=new WeakMap,ad=new WeakMap,Um=new WeakMap;function bR(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t($i(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&e0.set(t,n)}).catch(()=>{}),Um.set(e,n),e}function SR(n){if(om.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});om.set(n,e)}let sm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return om.get(n);if(e==="objectStoreNames")return n.objectStoreNames||t0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $i(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function AR(n){sm=n(sm)}function IR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(ld(this),e,...t);return t0.set(r,e.sort?e.sort():[e]),$i(r)}:TR().includes(n)?function(...e){return n.apply(ld(this),e),$i(e0.get(this))}:function(...e){return $i(n.apply(ld(this),e))}}function RR(n){return typeof n=="function"?IR(n):(n instanceof IDBTransaction&&SR(n),ER(n,wR())?new Proxy(n,sm):n)}function $i(n){if(n instanceof IDBRequest)return bR(n);if(ad.has(n))return ad.get(n);const e=RR(n);return e!==n&&(ad.set(n,e),Um.set(e,n)),e}const ld=n=>Um.get(n);function kR(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),f=$i(u);return r&&u.addEventListener("upgradeneeded",h=>{r($i(u.result),h.oldVersion,h.newVersion,$i(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{a&&h.addEventListener("close",()=>a()),o&&h.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const CR=["get","getKey","getAll","getAllKeys","count"],PR=["put","add","delete","clear"],ud=new Map;function h_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ud.get(e))return ud.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=PR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||CR.includes(t)))return;const a=async function(u,...f){const h=this.transaction(u,o?"readwrite":"readonly");let m=h.store;return r&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),o&&h.done]))[0]};return ud.set(e,a),a}AR(n=>({...n,get:(e,t,r)=>h_(e,t)||n.get(e,t,r),has:(e,t)=>!!h_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(xR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function xR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const am="@firebase/app",d_="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new Vm("@firebase/app"),NR="@firebase/app-compat",DR="@firebase/analytics-compat",LR="@firebase/analytics",MR="@firebase/app-check-compat",jR="@firebase/app-check",VR="@firebase/auth",UR="@firebase/auth-compat",FR="@firebase/database",qR="@firebase/data-connect",BR="@firebase/database-compat",zR="@firebase/functions",$R="@firebase/functions-compat",HR="@firebase/installations",WR="@firebase/installations-compat",KR="@firebase/messaging",GR="@firebase/messaging-compat",QR="@firebase/performance",XR="@firebase/performance-compat",YR="@firebase/remote-config",JR="@firebase/remote-config-compat",ZR="@firebase/storage",ek="@firebase/storage-compat",tk="@firebase/firestore",nk="@firebase/vertexai",rk="@firebase/firestore-compat",ik="firebase",ok="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="[DEFAULT]",sk={[am]:"fire-core",[NR]:"fire-core-compat",[LR]:"fire-analytics",[DR]:"fire-analytics-compat",[jR]:"fire-app-check",[MR]:"fire-app-check-compat",[VR]:"fire-auth",[UR]:"fire-auth-compat",[FR]:"fire-rtdb",[qR]:"fire-data-connect",[BR]:"fire-rtdb-compat",[zR]:"fire-fn",[$R]:"fire-fn-compat",[HR]:"fire-iid",[WR]:"fire-iid-compat",[KR]:"fire-fcm",[GR]:"fire-fcm-compat",[QR]:"fire-perf",[XR]:"fire-perf-compat",[YR]:"fire-rc",[JR]:"fire-rc-compat",[ZR]:"fire-gcs",[ek]:"fire-gcs-compat",[tk]:"fire-fst",[rk]:"fire-fst-compat",[nk]:"fire-vertex","fire-js":"fire-js",[ik]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new Map,ak=new Map,um=new Map;function p_(n,e){try{n.container.addComponent(e)}catch(t){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Uo(n){const e=n.name;if(um.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;um.set(e,n);for(const t of kc.values())p_(t,n);for(const t of ak.values())p_(t,n);return!0}function Jc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function cr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hi=new Pl("app","Firebase",lk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=ok;function n0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:lm,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Hi.create("bad-app-name",{appName:String(o)});if(t||(t=Yw()),!t)throw Hi.create("no-options");const a=kc.get(o);if(a){if(Vo(t,a.options)&&Vo(r,a.config))return a;throw Hi.create("duplicate-app",{appName:o})}const u=new mR(o);for(const h of um.values())u.addComponent(h);const f=new uk(t,r,u);return kc.set(o,f),f}function Fm(n=lm){const e=kc.get(n);if(!e&&n===lm&&Yw())return n0();if(!e)throw Hi.create("no-app",{appName:n});return e}function Rr(n,e,t){var r;let o=(r=sk[n])!==null&&r!==void 0?r:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${o}" with version "${e}":`];a&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(f.join(" "));return}Uo(new Qi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="firebase-heartbeat-database",fk=1,vl="firebase-heartbeat-store";let cd=null;function r0(){return cd||(cd=kR(ck,fk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Hi.create("idb-open",{originalErrorMessage:n.message})})),cd}async function hk(n){try{const t=(await r0()).transaction(vl),r=await t.objectStore(vl).get(i0(n));return await t.done,r}catch(e){if(e instanceof jr)ii.warn(e.message);else{const t=Hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ii.warn(t.message)}}}async function m_(n,e){try{const r=(await r0()).transaction(vl,"readwrite");await r.objectStore(vl).put(e,i0(n)),await r.done}catch(t){if(t instanceof jr)ii.warn(t.message);else{const r=Hi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ii.warn(r.message)}}}function i0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=1024,pk=30;class mk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new yk(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=g_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>pk){const u=vk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ii.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=g_(),{heartbeatsToSend:r,unsentEntries:o}=gk(this._heartbeatsCache.heartbeats),a=Rc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ii.warn(t),""}}}function g_(){return new Date().toISOString().substring(0,10)}function gk(n,e=dk){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),y_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),y_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class yk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rR()?iR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await hk(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return m_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return m_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function y_(n){return Rc(JSON.stringify({version:2,heartbeats:n})).length}function vk(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(n){Uo(new Qi("platform-logger",e=>new OR(e),"PRIVATE")),Uo(new Qi("heartbeat",e=>new mk(e),"PRIVATE")),Rr(am,d_,n),Rr(am,d_,"esm2017"),Rr("fire-js","")}_k("");var Ek="firebase",wk="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(Ek,wk,"app");function qm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function o0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Tk=o0,s0=new Pl("auth","Firebase",o0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=new Vm("@firebase/auth");function bk(n,...e){Cc.logLevel<=Ye.WARN&&Cc.warn(`Auth (${Ho}): ${n}`,...e)}function mc(n,...e){Cc.logLevel<=Ye.ERROR&&Cc.error(`Auth (${Ho}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(n,...e){throw Bm(n,...e)}function kr(n,...e){return Bm(n,...e)}function a0(n,e,t){const r=Object.assign(Object.assign({},Tk()),{[e]:t});return new Pl("auth","Firebase",r).create(e,{appName:n.name})}function Mo(n){return a0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return s0.create(n,...e)}function qe(n,e,...t){if(!n)throw Bm(e,...t)}function Jr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw mc(e),new Error(e)}function si(n,e){n||Jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Sk(){return v_()==="http:"||v_()==="https:"}function v_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Sk()||ZI()||"connection"in navigator)?navigator.onLine:!0}function Ik(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,t){this.shortDelay=e,this.longDelay=t,si(t>e,"Short delay should be less than long delay!"),this.isMobile=XI()||eR()}get(){return Ak()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(n,e){si(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=new xl(3e4,6e4);function $m(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ra(n,e,t,r,o={}){return u0(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const f=Ol(Object.assign({key:n.config.apiKey},u)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:h},a);return JI()||(m.referrerPolicy="no-referrer"),l0.fetch()(c0(n,n.config.apiHost,t,f),m)})}async function u0(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Rk),e);try{const o=new Pk(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw oc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[h,m]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw oc(n,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw oc(n,"email-already-in-use",u);if(h==="USER_DISABLED")throw oc(n,"user-disabled",u);const v=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw a0(n,v,m);oi(n,v)}}catch(o){if(o instanceof jr)throw o;oi(n,"network-request-failed",{message:String(o)})}}async function Ck(n,e,t,r,o={}){const a=await ra(n,e,t,r,o);return"mfaPendingCredential"in a&&oi(n,"multi-factor-auth-required",{_serverResponse:a}),a}function c0(n,e,t,r){const o=`${e}${t}?${r}`;return n.config.emulator?zm(n.config,o):`${n.config.apiScheme}://${o}`}class Pk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(kr(this.auth,"network-request-failed")),kk.get())})}}function oc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=kr(n,e,r);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ok(n,e){return ra(n,"POST","/v1/accounts:delete",e)}async function f0(n,e){return ra(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xk(n,e=!1){const t=Kt(n),r=await t.getIdToken(e),o=Hm(r);qe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:r,authTime:fl(fd(o.auth_time)),issuedAtTime:fl(fd(o.iat)),expirationTime:fl(fd(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function fd(n){return Number(n)*1e3}function Hm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return mc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Gw(t);return o?JSON.parse(o):(mc("Failed to decode base64 JWT payload"),null)}catch(o){return mc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function __(n){const e=Hm(n);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof jr&&Nk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Nk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fl(this.lastLoginAt),this.creationTime=fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(n){var e;const t=n.auth,r=await n.getIdToken(),o=await _l(n,f0(t,{idToken:r}));qe(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?h0(a.providerUserInfo):[],f=Mk(n.providerData,u),h=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(f!=null&&f.length),v=h?m:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new fm(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,g)}async function Lk(n){const e=Kt(n);await Pc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Mk(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function h0(n){return n.map(e=>{var{providerId:t}=e,r=qm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jk(n,e){const t=await u0(n,{},async()=>{const r=Ol({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=c0(n,o,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",l0.fetch()(u,{method:"POST",headers:f,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Vk(n,e){return ra(n,"POST","/v2/accounts:revokeToken",$m(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):__(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const t=__(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await jk(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new Bs;return r&&(qe(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(qe(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(qe(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bs,this.toJSON())}_performRefresh(){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(n,e){qe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Zr{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,a=qm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new fm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await _l(this,this.stsTokenManager.getToken(this.auth,e));return qe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return xk(this,e)}reload(){return Lk(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Pc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cr(this.auth.app))return Promise.reject(Mo(this.auth));const e=await this.getIdToken();return await _l(this,Ok(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,a,u,f,h,m,v;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,d=(o=t.email)!==null&&o!==void 0?o:void 0,y=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,b=(u=t.photoURL)!==null&&u!==void 0?u:void 0,w=(f=t.tenantId)!==null&&f!==void 0?f:void 0,_=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,E=(m=t.createdAt)!==null&&m!==void 0?m:void 0,T=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:k,emailVerified:S,isAnonymous:L,providerData:U,stsTokenManager:O}=t;qe(k&&O,e,"internal-error");const I=Bs.fromJSON(this.name,O);qe(typeof k=="string",e,"internal-error"),Mi(g,e.name),Mi(d,e.name),qe(typeof S=="boolean",e,"internal-error"),qe(typeof L=="boolean",e,"internal-error"),Mi(y,e.name),Mi(b,e.name),Mi(w,e.name),Mi(_,e.name),Mi(E,e.name),Mi(T,e.name);const M=new Zr({uid:k,auth:e,email:d,emailVerified:S,displayName:g,isAnonymous:L,photoURL:b,phoneNumber:y,tenantId:w,stsTokenManager:I,createdAt:E,lastLoginAt:T});return U&&Array.isArray(U)&&(M.providerData=U.map(N=>Object.assign({},N))),_&&(M._redirectEventId=_),M}static async _fromIdTokenResponse(e,t,r=!1){const o=new Bs;o.updateFromServerResponse(t);const a=new Zr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Pc(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];qe(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?h0(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),f=new Bs;f.updateFromIdToken(r);const h=new Zr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new fm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=new Map;function ei(n){si(n instanceof Function,"Expected a class definition");let e=E_.get(n);return e?(si(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,E_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}d0.type="NONE";const w_=d0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(n,e,t){return`firebase:${n}:${e}:${t}`}class zs{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=gc(this.userKey,o.apiKey,a),this.fullPersistenceKey=gc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new zs(ei(w_),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||ei(w_);const u=gc(r,e.config.apiKey,e.name);let f=null;for(const m of t)try{const v=await m._get(u);if(v){const g=Zr._fromJSON(e,v);m!==a&&(f=g),a=m;break}}catch{}const h=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new zs(a,e,r):(a=h[0],f&&await a._set(u,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new zs(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(y0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(p0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_0(e))return"Blackberry";if(E0(e))return"Webos";if(m0(e))return"Safari";if((e.includes("chrome/")||g0(e))&&!e.includes("edge/"))return"Chrome";if(v0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function p0(n=fn()){return/firefox\//i.test(n)}function m0(n=fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function g0(n=fn()){return/crios\//i.test(n)}function y0(n=fn()){return/iemobile/i.test(n)}function v0(n=fn()){return/android/i.test(n)}function _0(n=fn()){return/blackberry/i.test(n)}function E0(n=fn()){return/webos/i.test(n)}function Wm(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Uk(n=fn()){var e;return Wm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Fk(){return tR()&&document.documentMode===10}function w0(n=fn()){return Wm(n)||v0(n)||E0(n)||_0(n)||/windows phone/i.test(n)||y0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(n,e=[]){let t;switch(n){case"Browser":t=T_(fn());break;case"Worker":t=`${T_(fn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ho}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,f)=>{try{const h=e(a);u(h)}catch(h){f(h)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bk(n,e={}){return ra(n,"GET","/v2/passwordPolicy",$m(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=6;class $k{constructor(e){var t,r,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:zk,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,a,u,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(o=h.containsLowercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b_(this),this.idTokenSubscription=new b_(this),this.beforeStateQueue=new qk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ei(t)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await zs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await f0(this,{idToken:e}),r=await Zr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(cr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===f)&&(h!=null&&h.user)&&(o=h.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Pc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ik()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cr(this.app))return Promise.reject(Mo(this));const t=e?Kt(e):null;return t&&qe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cr(this.app)?Promise.reject(Mo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cr(this.app)?Promise.reject(Mo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Bk(this),t=new $k(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Vk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ei(e)||this._popupRedirectResolver;qe(t,this,"argument-error"),this.redirectPersistenceManager=await zs.create(this,[ei(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,o);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=T0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&bk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Km(n){return Kt(n)}class b_{constructor(e){this.auth=e,this.observer=null,this.addObserver=uR(t=>this.observer=t)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Wk(n){Gm=n}function Kk(n){return Gm.loadJS(n)}function Gk(){return Gm.gapiScript}function Qk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(n,e){const t=Jc(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Vo(a,e??{}))return o;oi(o,"already-initialized")}return t.initialize({options:e})}function Yk(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ei);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Jk(n,e,t){const r=Km(n);qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=b0(e),{host:u,port:f}=Zk(e),h=f===null?"":`:${f}`,m={url:`${a}//${u}${h}/`},v=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),qe(Vo(m,r.config.emulator)&&Vo(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,eC()}function b0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Zk(n){const e=b0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:S_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:S_(u)}}}function S_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function eC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,t){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $s(n,e){return Ck(n,"POST","/v1/accounts:signInWithIdp",$m(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="http://localhost";class Fo extends S0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):oi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,a=qm(t,["providerId","signInMethod"]);if(!r||!o)return null;const u=new Fo(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return $s(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,$s(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$s(e,t)}buildRequest(){const e={requestUri:tC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ol(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends A0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Nl{constructor(){super("facebook.com")}static credential(e){return Fo._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Nl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Fo._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ui.credential(t,r)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Nl{constructor(){super("github.com")}static credential(e){return Fo._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.GITHUB_SIGN_IN_METHOD="github.com";Fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Nl{constructor(){super("twitter.com")}static credential(e,t){return Fo._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return qi.credential(t,r)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await Zr._fromIdTokenResponse(e,r,o),u=A_(r);return new Ws({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=A_(r);return new Ws({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function A_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends jr{constructor(e,t,r,o){var a;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Oc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Oc(e,t,r,o)}}function I0(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Oc._fromErrorAndOperation(n,a,e,r):a})}async function nC(n,e,t=!1){const r=await _l(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ws._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(n,e,t=!1){const{auth:r}=n;if(cr(r.app))return Promise.reject(Mo(r));const o="reauthenticate";try{const a=await _l(n,I0(r,o,e,n),t);qe(a.idToken,r,"internal-error");const u=Hm(a.idToken);qe(u,r,"internal-error");const{sub:f}=u;return qe(n.uid===f,r,"user-mismatch"),Ws._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&oi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(n,e,t=!1){if(cr(n.app))return Promise.reject(Mo(n));const r="signIn",o=await I0(n,r,e),a=await Ws._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}function oC(n,e,t,r){return Kt(n).onIdTokenChanged(e,t,r)}function sC(n,e,t){return Kt(n).beforeAuthStateChanged(e,t)}const xc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xc,"1"),this.storage.removeItem(xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=1e3,lC=10;class k0 extends R0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,h)=>{this.notifyListeners(u,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);Fk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,lC):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},aC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}k0.type="LOCAL";const uC=k0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0 extends R0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}C0.type="SESSION";const P0=C0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Zc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const f=Array.from(u).map(async m=>m(t.origin,a)),h=await cC(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((f,h)=>{const m=Qm("",20);o.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(g){const d=g;if(d.data.eventId===m)switch(d.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(d.data.response);break;default:clearTimeout(v),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function hC(n){Cr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function dC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function mC(){return O0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="firebaseLocalStorageDb",gC=1,Nc="firebaseLocalStorage",N0="fbase_key";class Dl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ef(n,e){return n.transaction([Nc],e?"readwrite":"readonly").objectStore(Nc)}function yC(){const n=indexedDB.deleteDatabase(x0);return new Dl(n).toPromise()}function hm(){const n=indexedDB.open(x0,gC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Nc,{keyPath:N0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Nc)?e(r):(r.close(),await yC(),e(await hm()))})})}async function I_(n,e,t){const r=ef(n,!0).put({[N0]:e,value:t});return new Dl(r).toPromise()}async function vC(n,e){const t=ef(n,!1).get(e),r=await new Dl(t).toPromise();return r===void 0?null:r.value}function R_(n,e){const t=ef(n,!0).delete(e);return new Dl(t).toPromise()}const _C=800,EC=3;class D0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>EC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return O0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zc._getInstance(mC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await dC(),!this.activeServiceWorker)return;this.sender=new fC(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hm();return await I_(e,xc,"1"),await R_(e,xc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>I_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>vC(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>R_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=ef(o,!1).getAll();return new Dl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_C)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}D0.type="LOCAL";const wC=D0;new xl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(n,e){return e?ei(e):(qe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm extends S0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $s(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $s(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $s(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function bC(n){return iC(n.auth,new Xm(n),n.bypassAuthState)}function SC(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),rC(t,new Xm(n),n.bypassAuthState)}async function AC(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),nC(t,new Xm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:f}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bC;case"linkViaPopup":case"linkViaRedirect":return AC;case"reauthViaPopup":case"reauthViaRedirect":return SC;default:oi(this.auth,"internal-error")}}resolve(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=new xl(2e3,1e4);class qs extends L0{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,qs.currentPopupAction&&qs.currentPopupAction.cancel(),qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){si(this.filter.length===1,"Popup operations only handle one event");const e=Qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IC.get())};e()}}qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="pendingRedirect",yc=new Map;class kC extends L0{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=yc.get(this.auth._key());if(!e){try{const r=await CC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}yc.set(this.auth._key(),e)}return this.bypassAuthState||yc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CC(n,e){const t=xC(e),r=OC(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function PC(n,e){yc.set(n._key(),e)}function OC(n){return ei(n._redirectPersistence)}function xC(n){return gc(RC,n.config.apiKey,n.name)}async function NC(n,e,t=!1){if(cr(n.app))return Promise.reject(Mo(n));const r=Km(n),o=TC(r,e),u=await new kC(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=10*60*1e3;class LC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!M0(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(kr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DC&&this.cachedEventUids.clear(),this.cachedEventUids.has(k_(e))}saveEventToCache(e){this.cachedEventUids.add(k_(e)),this.lastProcessedEventTime=Date.now()}}function k_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function M0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function MC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return M0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jC(n,e={}){return ra(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UC=/^https?/;async function FC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await jC(n);for(const t of e)try{if(qC(t))return}catch{}oi(n,"unauthorized-domain")}function qC(n){const e=cm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!UC.test(t))return!1;if(VC.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=new xl(3e4,6e4);function C_(){const n=Cr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function zC(n){return new Promise((e,t)=>{var r,o,a;function u(){C_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{C_(),t(kr(n,"network-request-failed"))},timeout:BC.get()})}if(!((o=(r=Cr().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Cr().gapi)===null||a===void 0)&&a.load)u();else{const f=Qk("iframefcb");return Cr()[f]=()=>{gapi.load?u():t(kr(n,"network-request-failed"))},Kk(`${Gk()}?onload=${f}`).catch(h=>t(h))}}).catch(e=>{throw vc=null,e})}let vc=null;function $C(n){return vc=vc||zC(n),vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=new xl(5e3,15e3),WC="__/auth/iframe",KC="emulator/auth/iframe",GC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XC(n){const e=n.config;qe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?zm(e,KC):`https://${n.config.authDomain}/${WC}`,r={apiKey:e.apiKey,appName:n.name,v:Ho},o=QC.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Ol(r).slice(1)}`}async function YC(n){const e=await $C(n),t=Cr().gapi;return qe(t,n,"internal-error"),e.open({where:document.body,url:XC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GC,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=kr(n,"network-request-failed"),f=Cr().setTimeout(()=>{a(u)},HC.get());function h(){Cr().clearTimeout(f),o(r)}r.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZC=500,eP=600,tP="_blank",nP="http://localhost";class P_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rP(n,e,t,r=ZC,o=eP){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const h=Object.assign(Object.assign({},JC),{width:r.toString(),height:o.toString(),top:a,left:u}),m=fn().toLowerCase();t&&(f=g0(m)?tP:t),p0(m)&&(e=e||nP,h.scrollbars="yes");const v=Object.entries(h).reduce((d,[y,b])=>`${d}${y}=${b},`,"");if(Uk(m)&&f!=="_self")return iP(e||"",f),new P_(null);const g=window.open(e||"",f,v);qe(g,n,"popup-blocked");try{g.focus()}catch{}return new P_(g)}function iP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP="__/auth/handler",sP="emulator/auth/handler",aP=encodeURIComponent("fac");async function O_(n,e,t,r,o,a){qe(n.config.authDomain,n,"auth-domain-config-required"),qe(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ho,eventId:o};if(e instanceof A0){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",lR(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,g]of Object.entries({}))u[v]=g}if(e instanceof Nl){const v=e.getScopes().filter(g=>g!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const h=await n._getAppCheckToken(),m=h?`#${aP}=${encodeURIComponent(h)}`:"";return`${lP(n)}?${Ol(f).slice(1)}${m}`}function lP({config:n}){return n.emulator?zm(n,sP):`https://${n.authDomain}/${oP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="webStorageSupport";class uP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=P0,this._completeRedirectFn=NC,this._overrideRedirectResult=PC}async _openPopup(e,t,r,o){var a;si((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await O_(e,t,r,cm(),o);return rP(e,u,Qm())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await O_(e,t,r,cm(),o);return hC(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(si(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await YC(e),r=new LC(e);return t.register("authEvent",o=>(qe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hd,{type:hd},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[hd];u!==void 0&&t(!!u),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=FC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return w0()||m0()||Wm()}}const cP=uP;var x_="@firebase/auth",N_="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dP(n){Uo(new Qi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;qe(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:T0(n)},m=new Hk(r,o,a,h);return Yk(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Uo(new Qi("auth-internal",e=>{const t=Km(e.getProvider("auth").getImmediate());return(r=>new fP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rr(x_,N_,hP(n)),Rr(x_,N_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=5*60,mP=Jw("authIdTokenMaxAge")||pP;let D_=null;const gP=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>mP)return;const o=t==null?void 0:t.token;D_!==o&&(D_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function yP(n=Fm()){const e=Jc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Xk(n,{popupRedirectResolver:cP,persistence:[wC,uC,P0]}),r=Jw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=gP(a.toString());sC(t,u,()=>u(t.currentUser)),oC(t,f=>u(f))}}const o=Qw("auth");return o&&Jk(t,`http://${o}`),t}function vP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Wk({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=kr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",vP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dP("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="firebasestorage.googleapis.com",V0="storageBucket",_P=2*60*1e3,EP=10*60*1e3,wP=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It extends jr{constructor(e,t,r=0){super(dd(e),`Firebase Storage: ${t} (${dd(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,It.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vt||(vt={}));function dd(n){return"storage/"+n}function Ym(){const n="An unknown error occurred, please check the error payload for server response.";return new It(vt.UNKNOWN,n)}function TP(n){return new It(vt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function bP(n){return new It(vt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function SP(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new It(vt.UNAUTHENTICATED,n)}function AP(){return new It(vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function IP(n){return new It(vt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function U0(){return new It(vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function F0(){return new It(vt.CANCELED,"User canceled the upload/download.")}function RP(n){return new It(vt.INVALID_URL,"Invalid URL '"+n+"'.")}function kP(n){return new It(vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function CP(){return new It(vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+V0+"' property when initializing the app?")}function q0(){return new It(vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function PP(){return new It(vt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function OP(){return new It(vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function xP(n){return new It(vt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function dm(n){return new It(vt.INVALID_ARGUMENT,n)}function B0(){return new It(vt.APP_DELETED,"The Firebase app was deleted.")}function NP(n){return new It(vt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hl(n,e){return new It(vt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function rl(n){throw new It(vt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Ln.makeFromUrl(e,t)}catch{return new Ln(e,"")}if(r.path==="")return r;throw kP(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+o+u,"i"),h={bucket:1,path:3};function m(S){S.path_=decodeURIComponent(S.path)}const v="v[A-Za-z0-9_]+",g=t.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",y=new RegExp(`^https?://${g}/${v}/b/${o}/o${d}`,"i"),b={bucket:1,path:3},w=t===j0?"(?:storage.googleapis.com|storage.cloud.google.com)":t,_="([^?#]*)",E=new RegExp(`^https?://${w}/${o}/${_}`,"i"),k=[{regex:f,indices:h,postModify:a},{regex:y,indices:b,postModify:m},{regex:E,indices:{bucket:1,path:2},postModify:m}];for(let S=0;S<k.length;S++){const L=k[S],U=L.regex.exec(e);if(U){const O=U[L.indices.bucket];let I=U[L.indices.path];I||(I=""),r=new Ln(O,I),L.postModify(r);break}}if(r==null)throw RP(e);return r}}class DP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(n,e,t){let r=1,o=null,a=null,u=!1,f=0;function h(){return f===2}let m=!1;function v(..._){m||(m=!0,e.apply(null,_))}function g(_){o=setTimeout(()=>{o=null,n(y,h())},_)}function d(){a&&clearTimeout(a)}function y(_,...E){if(m){d();return}if(_){d(),v.call(null,_,...E);return}if(h()||u){d(),v.call(null,_,...E);return}r<64&&(r*=2);let k;f===1?(f=2,k=0):k=(r+Math.random())*1e3,g(k)}let b=!1;function w(_){b||(b=!0,d(),!m&&(o!==null?(_||(f=2),clearTimeout(o),g(0)):_||(f=1)))}return g(0),a=setTimeout(()=>{u=!0,w(!0)},t),w}function MP(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(n){return n!==void 0}function VP(n){return typeof n=="function"}function UP(n){return typeof n=="object"&&!Array.isArray(n)}function tf(n){return typeof n=="string"||n instanceof String}function L_(n){return Jm()&&n instanceof Blob}function Jm(){return typeof Blob<"u"}function M_(n,e,t,r){if(r<e)throw dm(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw dm(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function z0(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const o=e(r)+"="+e(n[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var jo;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(jo||(jo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,t,r,o,a,u,f,h,m,v,g,d=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=h,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=g,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,b)=>{this.resolve_=y,this.reject_=b,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new sc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=f=>{const h=f.loaded,m=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const f=a.getErrorCode()===jo.NO_ERROR,h=a.getStatus();if(!f||$0(h,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===jo.ABORT;r(!1,new sc(!1,null,v));return}const m=this.successCodes_.indexOf(h)!==-1;r(!0,new sc(m,a))})},t=(r,o)=>{const a=this.resolve_,u=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const h=this.callback_(f,f.getResponse());jP(h)?a(h):a()}catch(h){u(h)}else if(f!==null){const h=Ym();h.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,h)):u(h)}else if(o.canceled){const h=this.appDelete_?B0():F0();u(h)}else{const h=U0();u(h)}};this.canceled_?t(!1,new sc(!1,null,!0)):this.backoffId_=LP(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&MP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sc{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function qP(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function BP(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function zP(n,e){e&&(n["X-Firebase-GMPID"]=e)}function $P(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function HP(n,e,t,r,o,a,u=!0){const f=z0(n.urlParams),h=n.url+f,m=Object.assign({},n.headers);return zP(m,e),qP(m,t),BP(m,a),$P(m,r),new FP(h,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function KP(...n){const e=WP();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Jm())return new Blob(n);throw new It(vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function GP(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(n){if(typeof atob>"u")throw xP("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pd{constructor(e,t){this.data=e,this.contentType=t||null}}function XP(n,e){switch(n){case Ir.RAW:return new pd(H0(e));case Ir.BASE64:case Ir.BASE64URL:return new pd(W0(n,e));case Ir.DATA_URL:return new pd(JP(e),ZP(e))}throw Ym()}function H0(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,u=n.charCodeAt(++t);r=65536|(a&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function YP(n){let e;try{e=decodeURIComponent(n)}catch{throw hl(Ir.DATA_URL,"Malformed data URL.")}return H0(e)}function W0(n,e){switch(n){case Ir.BASE64:{const o=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(o||a)throw hl(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ir.BASE64URL:{const o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a)throw hl(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=QP(e)}catch(o){throw o.message.includes("polyfill")?o:hl(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class K0{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw hl(Ir.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=eO(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function JP(n){const e=new K0(n);return e.base64?W0(Ir.BASE64,e.rest):YP(e.rest)}function ZP(n){return new K0(n).contentType}function eO(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,t){let r=0,o="";L_(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(L_(this.data_)){const r=this.data_,o=GP(r,e,t);return o===null?null:new Bi(o)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Bi(r,!0)}}static getBlob(...e){if(Jm()){const t=e.map(r=>r instanceof Bi?r.data_:r);return new Bi(KP.apply(null,t))}else{const t=e.map(u=>tf(u)?XP(Ir.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const o=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let f=0;f<u.length;f++)o[a++]=u[f]}),new Bi(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(n){let e;try{e=JSON.parse(n)}catch{return null}return UP(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function nO(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function Q0(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(n,e){return e}class gn{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||rO}}let ac=null;function iO(n){return!tf(n)||n.length<2?n:Q0(n)}function X0(){if(ac)return ac;const n=[];n.push(new gn("bucket")),n.push(new gn("generation")),n.push(new gn("metageneration")),n.push(new gn("name","fullPath",!0));function e(a,u){return iO(u)}const t=new gn("name");t.xform=e,n.push(t);function r(a,u){return u!==void 0?Number(u):u}const o=new gn("size");return o.xform=r,n.push(o),n.push(new gn("timeCreated")),n.push(new gn("updated")),n.push(new gn("md5Hash",null,!0)),n.push(new gn("cacheControl",null,!0)),n.push(new gn("contentDisposition",null,!0)),n.push(new gn("contentEncoding",null,!0)),n.push(new gn("contentLanguage",null,!0)),n.push(new gn("contentType",null,!0)),n.push(new gn("metadata","customMetadata",!0)),ac=n,ac}function oO(n,e){function t(){const r=n.bucket,o=n.fullPath,a=new Ln(r,o);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function sO(n,e,t){const r={};r.type="file";const o=t.length;for(let a=0;a<o;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return oO(r,n),r}function Y0(n,e,t){const r=G0(e);return r===null?null:sO(n,r,t)}function aO(n,e,t,r){const o=G0(e);if(o===null||!tf(o.downloadTokens))return null;const a=o.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(m=>{const v=n.bucket,g=n.fullPath,d="/b/"+u(v)+"/o/"+u(g),y=Ll(d,t,r),b=z0({alt:"media",token:m});return y+b})[0]}function J0(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const a=e[o];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class ia{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(n){if(!n)throw Ym()}function Zm(n,e){function t(r,o){const a=Y0(n,o,e);return ni(a!==null),a}return t}function lO(n,e){function t(r,o){const a=Y0(n,o,e);return ni(a!==null),aO(a,o,n.host,n._protocol)}return t}function Ml(n){function e(t,r){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=AP():o=SP():t.getStatus()===402?o=bP(n.bucket):t.getStatus()===403?o=IP(n.path):o=r,o.status=t.getStatus(),o.serverResponse=r.serverResponse,o}return e}function Z0(n){const e=Ml(n);function t(r,o){let a=e(r,o);return r.getStatus()===404&&(a=TP(n.path)),a.serverResponse=o.serverResponse,a}return t}function uO(n,e,t){const r=e.fullServerUrl(),o=Ll(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,f=new ia(o,a,Zm(n,t),u);return f.errorHandler=Z0(e),f}function cO(n,e,t){const r=e.fullServerUrl(),o=Ll(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,f=new ia(o,a,lO(n,t),u);return f.errorHandler=Z0(e),f}function fO(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function eT(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=fO(null,e)),r}function hO(n,e,t,r,o){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let k="";for(let S=0;S<2;S++)k=k+Math.random().toString().slice(2);return k}const h=f();u["Content-Type"]="multipart/related; boundary="+h;const m=eT(e,r,o),v=J0(m,t),g="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+h+`\r
Content-Type: `+m.contentType+`\r
\r
`,d=`\r
--`+h+"--",y=Bi.getBlob(g,r,d);if(y===null)throw q0();const b={name:m.fullPath},w=Ll(a,n.host,n._protocol),_="POST",E=n.maxUploadRetryTime,T=new ia(w,_,Zm(n,t),E);return T.urlParams=b,T.headers=u,T.body=y.uploadData(),T.errorHandler=Ml(e),T}class Dc{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function eg(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{ni(!1)}return ni(!!t&&(e||["active"]).indexOf(t)!==-1),t}function dO(n,e,t,r,o){const a=e.bucketOnlyServerUrl(),u=eT(e,r,o),f={name:u.fullPath},h=Ll(a,n.host,n._protocol),m="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},g=J0(u,t),d=n.maxUploadRetryTime;function y(w){eg(w);let _;try{_=w.getResponseHeader("X-Goog-Upload-URL")}catch{ni(!1)}return ni(tf(_)),_}const b=new ia(h,m,y,d);return b.urlParams=f,b.headers=v,b.body=g,b.errorHandler=Ml(e),b}function pO(n,e,t,r){const o={"X-Goog-Upload-Command":"query"};function a(m){const v=eg(m,["active","final"]);let g=null;try{g=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ni(!1)}g||ni(!1);const d=Number(g);return ni(!isNaN(d)),new Dc(d,r.size(),v==="final")}const u="POST",f=n.maxUploadRetryTime,h=new ia(t,u,a,f);return h.headers=o,h.errorHandler=Ml(e),h}const j_=256*1024;function mO(n,e,t,r,o,a,u,f){const h=new Dc(0,0);if(u?(h.current=u.current,h.total=u.total):(h.current=0,h.total=r.size()),r.size()!==h.total)throw PP();const m=h.total-h.current;let v=m;o>0&&(v=Math.min(v,o));const g=h.current,d=g+v;let y="";v===0?y="finalize":m===v?y="upload, finalize":y="upload";const b={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":`${h.current}`},w=r.slice(g,d);if(w===null)throw q0();function _(S,L){const U=eg(S,["active","final"]),O=h.current+v,I=r.size();let M;return U==="final"?M=Zm(e,a)(S,L):M=null,new Dc(O,I,U==="final",M)}const E="POST",T=e.maxUploadRetryTime,k=new ia(t,E,_,T);return k.headers=b,k.body=w.uploadData(),k.progressCallback=f||null,k.errorHandler=Ml(n),k}const An={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function md(n){switch(n){case"running":case"pausing":case"canceling":return An.RUNNING;case"paused":return An.PAUSED;case"success":return An.SUCCESS;case"canceled":return An.CANCELED;case"error":return An.ERROR;default:return An.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,t,r){if(VP(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class yO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=jo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=jo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=jo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o){if(this.sent_)throw rl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const a in o)o.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,o[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw rl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw rl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw rl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw rl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class vO extends yO{initXhr(){this.xhr_.responseType="text"}}function Ms(){return new vO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=X0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(vt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if($0(o.status,[]))if(a)o=U0();else{this.sleepTime=Math.max(this.sleepTime*2,wP),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(vt.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,a)=>{this._resolve=o,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const r=dO(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Ms,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=pO(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(o,Ms,t,r);this._request=a,a.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=j_*this._chunkMultiplier,t=new Dc(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,a)=>{let u;try{u=mO(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(h){this._error=h,this._transition("error");return}const f=this._ref.storage._makeRequest(u,Ms,o,a,!1);this._request=f,f.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){j_*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=uO(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,Ms,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=hO(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Ms,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=F0(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=md(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const a=new gO(t||void 0,r||void 0,o||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(md(this._state)){case An.SUCCESS:Ls(this._resolve.bind(null,this.snapshot))();break;case An.CANCELED:case An.ERROR:const t=this._reject;Ls(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(md(this._state)){case An.RUNNING:case An.PAUSED:e.next&&Ls(e.next.bind(e,this.snapshot))();break;case An.SUCCESS:e.complete&&Ls(e.complete.bind(e))();break;case An.CANCELED:case An.ERROR:e.error&&Ls(e.error.bind(e,this._error))();break;default:e.error&&Ls(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,t){this._service=e,t instanceof Ln?this._location=t:this._location=Ln.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new qo(e,t)}get root(){const e=new Ln(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Q0(this._location.path)}get storage(){return this._service}get parent(){const e=tO(this._location.path);if(e===null)return null;const t=new Ln(this._location.bucket,e);return new qo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw NP(e)}}function EO(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new _O(n,new Bi(e),t)}function wO(n){n._throwIfRoot("getDownloadURL");const e=cO(n.storage,n._location,X0());return n.storage.makeRequestWithTokens(e,Ms).then(t=>{if(t===null)throw OP();return t})}function TO(n,e){const t=nO(n._location.path,e),r=new Ln(n._location.bucket,t);return new qo(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(n){return/^[A-Za-z]+:\/\//.test(n)}function SO(n,e){return new qo(n,e)}function tT(n,e){if(n instanceof tg){const t=n;if(t._bucket==null)throw CP();const r=new qo(t,t._bucket);return e!=null?tT(r,e):r}else return e!==void 0?TO(n,e):n}function AO(n,e){if(e&&bO(e)){if(n instanceof tg)return SO(n,e);throw dm("To use ref(service, url), the first argument must be a Storage instance.")}else return tT(n,e)}function V_(n,e){const t=e==null?void 0:e[V0];return t==null?null:Ln.makeFromBucketSpec(t,n)}function IO(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:Zw(o,n.app.options.projectId))}class tg{constructor(e,t,r,o,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=j0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_P,this._maxUploadRetryTime=EP,this._requests=new Set,o!=null?this._bucket=Ln.makeFromBucketSpec(o,this._host):this._bucket=V_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ln.makeFromBucketSpec(this._url,e):this._bucket=V_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){M_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){M_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qo(this,e)}_makeRequest(e,t,r,o,a=!0){if(this._deleted)return new DP(B0());{const u=HP(e,this._appId,r,o,t,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const U_="@firebase/storage",F_="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="storage";function RO(n,e,t){return n=Kt(n),EO(n,e,t)}function kO(n){return n=Kt(n),wO(n)}function CO(n,e){return n=Kt(n),AO(n,e)}function PO(n=Fm(),e){n=Kt(n);const r=Jc(n,nT).getImmediate({identifier:e}),o=Xw("storage");return o&&OO(r,...o),r}function OO(n,e,t,r={}){IO(n,e,t,r)}function xO(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new tg(t,r,o,e,Ho)}function NO(){Uo(new Qi(nT,xO,"PUBLIC").setMultipleInstances(!0)),Rr(U_,F_,""),Rr(U_,F_,"esm2017")}NO();const DO={apiKey:"AIzaSyAkiymbxr2eTiM0DGSUmIkI2bqT3jBt1zs",authDomain:"dragon-computers.firebaseapp.com",projectId:"dragon-computers",storageBucket:"dragon-computers.firebasestorage.app",messagingSenderId:"439889480116",appId:"1:439889480116:web:4e288f14e42526cf390ae1"},ng=n0(DO);yP(ng);const LO=PO(ng);var q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wi,rT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,I){function M(){}M.prototype=I.prototype,O.D=I.prototype,O.prototype=new M,O.prototype.constructor=O,O.C=function(N,R,D){for(var C=Array(arguments.length-2),z=2;z<arguments.length;z++)C[z-2]=arguments[z];return I.prototype[R].apply(N,C)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,I,M){M||(M=0);var N=Array(16);if(typeof I=="string")for(var R=0;16>R;++R)N[R]=I.charCodeAt(M++)|I.charCodeAt(M++)<<8|I.charCodeAt(M++)<<16|I.charCodeAt(M++)<<24;else for(R=0;16>R;++R)N[R]=I[M++]|I[M++]<<8|I[M++]<<16|I[M++]<<24;I=O.g[0],M=O.g[1],R=O.g[2];var D=O.g[3],C=I+(D^M&(R^D))+N[0]+3614090360&4294967295;I=M+(C<<7&4294967295|C>>>25),C=D+(R^I&(M^R))+N[1]+3905402710&4294967295,D=I+(C<<12&4294967295|C>>>20),C=R+(M^D&(I^M))+N[2]+606105819&4294967295,R=D+(C<<17&4294967295|C>>>15),C=M+(I^R&(D^I))+N[3]+3250441966&4294967295,M=R+(C<<22&4294967295|C>>>10),C=I+(D^M&(R^D))+N[4]+4118548399&4294967295,I=M+(C<<7&4294967295|C>>>25),C=D+(R^I&(M^R))+N[5]+1200080426&4294967295,D=I+(C<<12&4294967295|C>>>20),C=R+(M^D&(I^M))+N[6]+2821735955&4294967295,R=D+(C<<17&4294967295|C>>>15),C=M+(I^R&(D^I))+N[7]+4249261313&4294967295,M=R+(C<<22&4294967295|C>>>10),C=I+(D^M&(R^D))+N[8]+1770035416&4294967295,I=M+(C<<7&4294967295|C>>>25),C=D+(R^I&(M^R))+N[9]+2336552879&4294967295,D=I+(C<<12&4294967295|C>>>20),C=R+(M^D&(I^M))+N[10]+4294925233&4294967295,R=D+(C<<17&4294967295|C>>>15),C=M+(I^R&(D^I))+N[11]+2304563134&4294967295,M=R+(C<<22&4294967295|C>>>10),C=I+(D^M&(R^D))+N[12]+1804603682&4294967295,I=M+(C<<7&4294967295|C>>>25),C=D+(R^I&(M^R))+N[13]+4254626195&4294967295,D=I+(C<<12&4294967295|C>>>20),C=R+(M^D&(I^M))+N[14]+2792965006&4294967295,R=D+(C<<17&4294967295|C>>>15),C=M+(I^R&(D^I))+N[15]+1236535329&4294967295,M=R+(C<<22&4294967295|C>>>10),C=I+(R^D&(M^R))+N[1]+4129170786&4294967295,I=M+(C<<5&4294967295|C>>>27),C=D+(M^R&(I^M))+N[6]+3225465664&4294967295,D=I+(C<<9&4294967295|C>>>23),C=R+(I^M&(D^I))+N[11]+643717713&4294967295,R=D+(C<<14&4294967295|C>>>18),C=M+(D^I&(R^D))+N[0]+3921069994&4294967295,M=R+(C<<20&4294967295|C>>>12),C=I+(R^D&(M^R))+N[5]+3593408605&4294967295,I=M+(C<<5&4294967295|C>>>27),C=D+(M^R&(I^M))+N[10]+38016083&4294967295,D=I+(C<<9&4294967295|C>>>23),C=R+(I^M&(D^I))+N[15]+3634488961&4294967295,R=D+(C<<14&4294967295|C>>>18),C=M+(D^I&(R^D))+N[4]+3889429448&4294967295,M=R+(C<<20&4294967295|C>>>12),C=I+(R^D&(M^R))+N[9]+568446438&4294967295,I=M+(C<<5&4294967295|C>>>27),C=D+(M^R&(I^M))+N[14]+3275163606&4294967295,D=I+(C<<9&4294967295|C>>>23),C=R+(I^M&(D^I))+N[3]+4107603335&4294967295,R=D+(C<<14&4294967295|C>>>18),C=M+(D^I&(R^D))+N[8]+1163531501&4294967295,M=R+(C<<20&4294967295|C>>>12),C=I+(R^D&(M^R))+N[13]+2850285829&4294967295,I=M+(C<<5&4294967295|C>>>27),C=D+(M^R&(I^M))+N[2]+4243563512&4294967295,D=I+(C<<9&4294967295|C>>>23),C=R+(I^M&(D^I))+N[7]+1735328473&4294967295,R=D+(C<<14&4294967295|C>>>18),C=M+(D^I&(R^D))+N[12]+2368359562&4294967295,M=R+(C<<20&4294967295|C>>>12),C=I+(M^R^D)+N[5]+4294588738&4294967295,I=M+(C<<4&4294967295|C>>>28),C=D+(I^M^R)+N[8]+2272392833&4294967295,D=I+(C<<11&4294967295|C>>>21),C=R+(D^I^M)+N[11]+1839030562&4294967295,R=D+(C<<16&4294967295|C>>>16),C=M+(R^D^I)+N[14]+4259657740&4294967295,M=R+(C<<23&4294967295|C>>>9),C=I+(M^R^D)+N[1]+2763975236&4294967295,I=M+(C<<4&4294967295|C>>>28),C=D+(I^M^R)+N[4]+1272893353&4294967295,D=I+(C<<11&4294967295|C>>>21),C=R+(D^I^M)+N[7]+4139469664&4294967295,R=D+(C<<16&4294967295|C>>>16),C=M+(R^D^I)+N[10]+3200236656&4294967295,M=R+(C<<23&4294967295|C>>>9),C=I+(M^R^D)+N[13]+681279174&4294967295,I=M+(C<<4&4294967295|C>>>28),C=D+(I^M^R)+N[0]+3936430074&4294967295,D=I+(C<<11&4294967295|C>>>21),C=R+(D^I^M)+N[3]+3572445317&4294967295,R=D+(C<<16&4294967295|C>>>16),C=M+(R^D^I)+N[6]+76029189&4294967295,M=R+(C<<23&4294967295|C>>>9),C=I+(M^R^D)+N[9]+3654602809&4294967295,I=M+(C<<4&4294967295|C>>>28),C=D+(I^M^R)+N[12]+3873151461&4294967295,D=I+(C<<11&4294967295|C>>>21),C=R+(D^I^M)+N[15]+530742520&4294967295,R=D+(C<<16&4294967295|C>>>16),C=M+(R^D^I)+N[2]+3299628645&4294967295,M=R+(C<<23&4294967295|C>>>9),C=I+(R^(M|~D))+N[0]+4096336452&4294967295,I=M+(C<<6&4294967295|C>>>26),C=D+(M^(I|~R))+N[7]+1126891415&4294967295,D=I+(C<<10&4294967295|C>>>22),C=R+(I^(D|~M))+N[14]+2878612391&4294967295,R=D+(C<<15&4294967295|C>>>17),C=M+(D^(R|~I))+N[5]+4237533241&4294967295,M=R+(C<<21&4294967295|C>>>11),C=I+(R^(M|~D))+N[12]+1700485571&4294967295,I=M+(C<<6&4294967295|C>>>26),C=D+(M^(I|~R))+N[3]+2399980690&4294967295,D=I+(C<<10&4294967295|C>>>22),C=R+(I^(D|~M))+N[10]+4293915773&4294967295,R=D+(C<<15&4294967295|C>>>17),C=M+(D^(R|~I))+N[1]+2240044497&4294967295,M=R+(C<<21&4294967295|C>>>11),C=I+(R^(M|~D))+N[8]+1873313359&4294967295,I=M+(C<<6&4294967295|C>>>26),C=D+(M^(I|~R))+N[15]+4264355552&4294967295,D=I+(C<<10&4294967295|C>>>22),C=R+(I^(D|~M))+N[6]+2734768916&4294967295,R=D+(C<<15&4294967295|C>>>17),C=M+(D^(R|~I))+N[13]+1309151649&4294967295,M=R+(C<<21&4294967295|C>>>11),C=I+(R^(M|~D))+N[4]+4149444226&4294967295,I=M+(C<<6&4294967295|C>>>26),C=D+(M^(I|~R))+N[11]+3174756917&4294967295,D=I+(C<<10&4294967295|C>>>22),C=R+(I^(D|~M))+N[2]+718787259&4294967295,R=D+(C<<15&4294967295|C>>>17),C=M+(D^(R|~I))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+I&4294967295,O.g[1]=O.g[1]+(R+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+R&4294967295,O.g[3]=O.g[3]+D&4294967295}r.prototype.u=function(O,I){I===void 0&&(I=O.length);for(var M=I-this.blockSize,N=this.B,R=this.h,D=0;D<I;){if(R==0)for(;D<=M;)o(this,O,D),D+=this.blockSize;if(typeof O=="string"){for(;D<I;)if(N[R++]=O.charCodeAt(D++),R==this.blockSize){o(this,N),R=0;break}}else for(;D<I;)if(N[R++]=O[D++],R==this.blockSize){o(this,N),R=0;break}}this.h=R,this.o+=I},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var I=1;I<O.length-8;++I)O[I]=0;var M=8*this.o;for(I=O.length-8;I<O.length;++I)O[I]=M&255,M/=256;for(this.u(O),O=Array(16),I=M=0;4>I;++I)for(var N=0;32>N;N+=8)O[M++]=this.g[I]>>>N&255;return O};function a(O,I){var M=f;return Object.prototype.hasOwnProperty.call(M,O)?M[O]:M[O]=I(O)}function u(O,I){this.h=I;for(var M=[],N=!0,R=O.length-1;0<=R;R--){var D=O[R]|0;N&&D==I||(M[R]=D,N=!1)}this.g=M}var f={};function h(O){return-128<=O&&128>O?a(O,function(I){return new u([I|0],0>I?-1:0)}):new u([O|0],0>O?-1:0)}function m(O){if(isNaN(O)||!isFinite(O))return g;if(0>O)return _(m(-O));for(var I=[],M=1,N=0;O>=M;N++)I[N]=O/M|0,M*=4294967296;return new u(I,0)}function v(O,I){if(O.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(O.charAt(0)=="-")return _(v(O.substring(1),I));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=m(Math.pow(I,8)),N=g,R=0;R<O.length;R+=8){var D=Math.min(8,O.length-R),C=parseInt(O.substring(R,R+D),I);8>D?(D=m(Math.pow(I,D)),N=N.j(D).add(m(C))):(N=N.j(M),N=N.add(m(C)))}return N}var g=h(0),d=h(1),y=h(16777216);n=u.prototype,n.m=function(){if(w(this))return-_(this).m();for(var O=0,I=1,M=0;M<this.g.length;M++){var N=this.i(M);O+=(0<=N?N:4294967296+N)*I,I*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(b(this))return"0";if(w(this))return"-"+_(this).toString(O);for(var I=m(Math.pow(O,6)),M=this,N="";;){var R=S(M,I).g;M=E(M,R.j(I));var D=((0<M.g.length?M.g[0]:M.h)>>>0).toString(O);if(M=R,b(M))return D+N;for(;6>D.length;)D="0"+D;N=D+N}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function b(O){if(O.h!=0)return!1;for(var I=0;I<O.g.length;I++)if(O.g[I]!=0)return!1;return!0}function w(O){return O.h==-1}n.l=function(O){return O=E(this,O),w(O)?-1:b(O)?0:1};function _(O){for(var I=O.g.length,M=[],N=0;N<I;N++)M[N]=~O.g[N];return new u(M,~O.h).add(d)}n.abs=function(){return w(this)?_(this):this},n.add=function(O){for(var I=Math.max(this.g.length,O.g.length),M=[],N=0,R=0;R<=I;R++){var D=N+(this.i(R)&65535)+(O.i(R)&65535),C=(D>>>16)+(this.i(R)>>>16)+(O.i(R)>>>16);N=C>>>16,D&=65535,C&=65535,M[R]=C<<16|D}return new u(M,M[M.length-1]&-2147483648?-1:0)};function E(O,I){return O.add(_(I))}n.j=function(O){if(b(this)||b(O))return g;if(w(this))return w(O)?_(this).j(_(O)):_(_(this).j(O));if(w(O))return _(this.j(_(O)));if(0>this.l(y)&&0>O.l(y))return m(this.m()*O.m());for(var I=this.g.length+O.g.length,M=[],N=0;N<2*I;N++)M[N]=0;for(N=0;N<this.g.length;N++)for(var R=0;R<O.g.length;R++){var D=this.i(N)>>>16,C=this.i(N)&65535,z=O.i(R)>>>16,G=O.i(R)&65535;M[2*N+2*R]+=C*G,T(M,2*N+2*R),M[2*N+2*R+1]+=D*G,T(M,2*N+2*R+1),M[2*N+2*R+1]+=C*z,T(M,2*N+2*R+1),M[2*N+2*R+2]+=D*z,T(M,2*N+2*R+2)}for(N=0;N<I;N++)M[N]=M[2*N+1]<<16|M[2*N];for(N=I;N<2*I;N++)M[N]=0;return new u(M,0)};function T(O,I){for(;(O[I]&65535)!=O[I];)O[I+1]+=O[I]>>>16,O[I]&=65535,I++}function k(O,I){this.g=O,this.h=I}function S(O,I){if(b(I))throw Error("division by zero");if(b(O))return new k(g,g);if(w(O))return I=S(_(O),I),new k(_(I.g),_(I.h));if(w(I))return I=S(O,_(I)),new k(_(I.g),I.h);if(30<O.g.length){if(w(O)||w(I))throw Error("slowDivide_ only works with positive integers.");for(var M=d,N=I;0>=N.l(O);)M=L(M),N=L(N);var R=U(M,1),D=U(N,1);for(N=U(N,2),M=U(M,2);!b(N);){var C=D.add(N);0>=C.l(O)&&(R=R.add(M),D=C),N=U(N,1),M=U(M,1)}return I=E(O,R.j(I)),new k(R,I)}for(R=g;0<=O.l(I);){for(M=Math.max(1,Math.floor(O.m()/I.m())),N=Math.ceil(Math.log(M)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),D=m(M),C=D.j(I);w(C)||0<C.l(O);)M-=N,D=m(M),C=D.j(I);b(D)&&(D=d),R=R.add(D),O=E(O,C)}return new k(R,O)}n.A=function(O){return S(this,O).h},n.and=function(O){for(var I=Math.max(this.g.length,O.g.length),M=[],N=0;N<I;N++)M[N]=this.i(N)&O.i(N);return new u(M,this.h&O.h)},n.or=function(O){for(var I=Math.max(this.g.length,O.g.length),M=[],N=0;N<I;N++)M[N]=this.i(N)|O.i(N);return new u(M,this.h|O.h)},n.xor=function(O){for(var I=Math.max(this.g.length,O.g.length),M=[],N=0;N<I;N++)M[N]=this.i(N)^O.i(N);return new u(M,this.h^O.h)};function L(O){for(var I=O.g.length+1,M=[],N=0;N<I;N++)M[N]=O.i(N)<<1|O.i(N-1)>>>31;return new u(M,O.h)}function U(O,I){var M=I>>5;I%=32;for(var N=O.g.length-M,R=[],D=0;D<N;D++)R[D]=0<I?O.i(D+M)>>>I|O.i(D+M+1)<<32-I:O.i(D+M);return new u(R,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rT=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Wi=u}).apply(typeof q_<"u"?q_:typeof self<"u"?self:typeof window<"u"?window:{});var lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iT,ol,oT,_c,pm,sT,aT,lT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,P,V){return c==Array.prototype||c==Object.prototype||(c[P]=V.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof lc=="object"&&lc];for(var P=0;P<c.length;++P){var V=c[P];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var r=t(this);function o(c,P){if(P)e:{var V=r;c=c.split(".");for(var B=0;B<c.length-1;B++){var ae=c[B];if(!(ae in V))break e;V=V[ae]}c=c[c.length-1],B=V[c],P=P(B),P!=B&&P!=null&&e(V,c,{configurable:!0,writable:!0,value:P})}}function a(c,P){c instanceof String&&(c+="");var V=0,B=!1,ae={next:function(){if(!B&&V<c.length){var fe=V++;return{value:P(fe,c[fe]),done:!1}}return B=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}o("Array.prototype.values",function(c){return c||function(){return a(this,function(P,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function h(c){var P=typeof c;return P=P!="object"?P:c?Array.isArray(c)?"array":P:"null",P=="array"||P=="object"&&typeof c.length=="number"}function m(c){var P=typeof c;return P=="object"&&c!=null||P=="function"}function v(c,P,V){return c.call.apply(c.bind,arguments)}function g(c,P,V){if(!c)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,B),c.apply(P,ae)}}return function(){return c.apply(P,arguments)}}function d(c,P,V){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:g,d.apply(null,arguments)}function y(c,P){var V=Array.prototype.slice.call(arguments,1);return function(){var B=V.slice();return B.push.apply(B,arguments),c.apply(this,B)}}function b(c,P){function V(){}V.prototype=P.prototype,c.aa=P.prototype,c.prototype=new V,c.prototype.constructor=c,c.Qb=function(B,ae,fe){for(var Se=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)Se[ft-2]=arguments[ft];return P.prototype[ae].apply(B,Se)}}function w(c){const P=c.length;if(0<P){const V=Array(P);for(let B=0;B<P;B++)V[B]=c[B];return V}return[]}function _(c,P){for(let V=1;V<arguments.length;V++){const B=arguments[V];if(h(B)){const ae=c.length||0,fe=B.length||0;c.length=ae+fe;for(let Se=0;Se<fe;Se++)c[ae+Se]=B[Se]}else c.push(B)}}class E{constructor(P,V){this.i=P,this.j=V,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function T(c){return/^[\s\xa0]*$/.test(c)}function k(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function S(c){return S[" "](c),c}S[" "]=function(){};var L=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function U(c,P,V){for(const B in c)P.call(V,c[B],B,c)}function O(c,P){for(const V in c)P.call(void 0,c[V],V,c)}function I(c){const P={};for(const V in c)P[V]=c[V];return P}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,P){let V,B;for(let ae=1;ae<arguments.length;ae++){B=arguments[ae];for(V in B)c[V]=B[V];for(let fe=0;fe<M.length;fe++)V=M[fe],Object.prototype.hasOwnProperty.call(B,V)&&(c[V]=B[V])}}function R(c){var P=1;c=c.split(":");const V=[];for(;0<P&&c.length;)V.push(c.shift()),P--;return c.length&&V.push(c.join(":")),V}function D(c){f.setTimeout(()=>{throw c},0)}function C(){var c=X;let P=null;return c.g&&(P=c.g,c.g=c.g.next,c.g||(c.h=null),P.next=null),P}class z{constructor(){this.h=this.g=null}add(P,V){const B=G.get();B.set(P,V),this.h?this.h.next=B:this.g=B,this.h=B}}var G=new E(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(P,V){this.h=P,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,ie=!1,X=new z,H=()=>{const c=f.Promise.resolve(void 0);ne=()=>{c.then(j)}};var j=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(V){D(V)}var P=G;P.j(c),100>P.h&&(P.h++,c.next=P.g,P.g=c)}ie=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(c,P){this.type=c,this.g=this.target=P,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,P=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const V=()=>{};f.addEventListener("test",V,P),f.removeEventListener("test",V,P)}catch{}return c}();function Z(c,P){if(W.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var V=this.type=c.type,B=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=P,P=c.relatedTarget){if(L){e:{try{S(P.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(P=null)}}else V=="mouseover"?P=c.fromElement:V=="mouseout"&&(P=c.toElement);this.relatedTarget=P,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:$[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Z.aa.h.call(this)}}b(Z,W);var $={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Y="closure_listenable_"+(1e6*Math.random()|0),oe=0;function se(c,P,V,B,ae){this.listener=c,this.proxy=null,this.src=P,this.type=V,this.capture=!!B,this.ha=ae,this.key=++oe,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ie(c){this.src=c,this.g={},this.h=0}Ie.prototype.add=function(c,P,V,B,ae){var fe=c.toString();c=this.g[fe],c||(c=this.g[fe]=[],this.h++);var Se=Ve(c,P,B,ae);return-1<Se?(P=c[Se],V||(P.fa=!1)):(P=new se(P,this.src,fe,!!B,ae),P.fa=V,c.push(P)),P};function De(c,P){var V=P.type;if(V in c.g){var B=c.g[V],ae=Array.prototype.indexOf.call(B,P,void 0),fe;(fe=0<=ae)&&Array.prototype.splice.call(B,ae,1),fe&&(pe(P),c.g[V].length==0&&(delete c.g[V],c.h--))}}function Ve(c,P,V,B){for(var ae=0;ae<c.length;++ae){var fe=c[ae];if(!fe.da&&fe.listener==P&&fe.capture==!!V&&fe.ha==B)return ae}return-1}var We="closure_lm_"+(1e6*Math.random()|0),Xe={};function Ot(c,P,V,B,ae){if(Array.isArray(P)){for(var fe=0;fe<P.length;fe++)Ot(c,P[fe],V,B,ae);return null}return V=Ke(V),c&&c[Y]?c.K(P,V,m(B)?!!B.capture:!1,ae):mt(c,P,V,!1,B,ae)}function mt(c,P,V,B,ae,fe){if(!P)throw Error("Invalid event type");var Se=m(ae)?!!ae.capture:!!ae,ft=Be(c);if(ft||(c[We]=ft=new Ie(c)),V=ft.add(P,V,B,Se,fe),V.proxy)return V;if(B=he(),V.proxy=B,B.src=c,B.listener=V,c.addEventListener)ee||(ae=Se),ae===void 0&&(ae=!1),c.addEventListener(P.toString(),B,ae);else if(c.attachEvent)c.attachEvent(Ae(P.toString()),B);else if(c.addListener&&c.removeListener)c.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return V}function he(){function c(V){return P.call(c.src,c.listener,V)}const P=ye;return c}function me(c,P,V,B,ae){if(Array.isArray(P))for(var fe=0;fe<P.length;fe++)me(c,P[fe],V,B,ae);else B=m(B)?!!B.capture:!!B,V=Ke(V),c&&c[Y]?(c=c.i,P=String(P).toString(),P in c.g&&(fe=c.g[P],V=Ve(fe,V,B,ae),-1<V&&(pe(fe[V]),Array.prototype.splice.call(fe,V,1),fe.length==0&&(delete c.g[P],c.h--)))):c&&(c=Be(c))&&(P=c.g[P.toString()],c=-1,P&&(c=Ve(P,V,B,ae)),(V=-1<c?P[c]:null)&&be(V))}function be(c){if(typeof c!="number"&&c&&!c.da){var P=c.src;if(P&&P[Y])De(P.i,c);else{var V=c.type,B=c.proxy;P.removeEventListener?P.removeEventListener(V,B,c.capture):P.detachEvent?P.detachEvent(Ae(V),B):P.addListener&&P.removeListener&&P.removeListener(B),(V=Be(P))?(De(V,c),V.h==0&&(V.src=null,P[We]=null)):pe(c)}}}function Ae(c){return c in Xe?Xe[c]:Xe[c]="on"+c}function ye(c,P){if(c.da)c=!0;else{P=new Z(P,this);var V=c.listener,B=c.ha||c.src;c.fa&&be(c),c=V.call(B,P)}return c}function Be(c){return c=c[We],c instanceof Ie?c:null}var ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ke(c){return typeof c=="function"?c:(c[ze]||(c[ze]=function(P){return c.handleEvent(P)}),c[ze])}function ot(){q.call(this),this.i=new Ie(this),this.M=this,this.F=null}b(ot,q),ot.prototype[Y]=!0,ot.prototype.removeEventListener=function(c,P,V,B){me(this,c,P,V,B)};function ut(c,P){var V,B=c.F;if(B)for(V=[];B;B=B.F)V.push(B);if(c=c.M,B=P.type||P,typeof P=="string")P=new W(P,c);else if(P instanceof W)P.target=P.target||c;else{var ae=P;P=new W(B,c),N(P,ae)}if(ae=!0,V)for(var fe=V.length-1;0<=fe;fe--){var Se=P.g=V[fe];ae=rt(Se,B,!0,P)&&ae}if(Se=P.g=c,ae=rt(Se,B,!0,P)&&ae,ae=rt(Se,B,!1,P)&&ae,V)for(fe=0;fe<V.length;fe++)Se=P.g=V[fe],ae=rt(Se,B,!1,P)&&ae}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,P;for(P in c.g){for(var V=c.g[P],B=0;B<V.length;B++)pe(V[B]);delete c.g[P],c.h--}}this.F=null},ot.prototype.K=function(c,P,V,B){return this.i.add(String(c),P,!1,V,B)},ot.prototype.L=function(c,P,V,B){return this.i.add(String(c),P,!0,V,B)};function rt(c,P,V,B){if(P=c.i.g[String(P)],!P)return!0;P=P.concat();for(var ae=!0,fe=0;fe<P.length;++fe){var Se=P[fe];if(Se&&!Se.da&&Se.capture==V){var ft=Se.listener,Lt=Se.ha||Se.src;Se.fa&&De(c.i,Se),ae=ft.call(Lt,B)!==!1&&ae}}return ae&&!B.defaultPrevented}function oo(c,P,V){if(typeof c=="function")V&&(c=d(c,V));else if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(P)?-1:f.setTimeout(c,P||0)}function ct(c){c.g=oo(()=>{c.g=null,c.i&&(c.i=!1,ct(c))},c.l);const P=c.h;c.h=null,c.m.apply(null,P)}class nn extends q{constructor(P,V){super(),this.m=P,this.l=V,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:ct(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function so(c){q.call(this),this.h=c,this.g={}}b(so,q);var fa=[];function ha(c){U(c.g,function(P,V){this.g.hasOwnProperty(V)&&be(P)},c),c.g={}}so.prototype.N=function(){so.aa.N.call(this),ha(this)},so.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var da=f.JSON.stringify,pa=f.JSON.parse,ma=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function ao(){}ao.prototype.h=null;function Go(c){return c.h||(c.h=c.i())}function Qo(){}var Vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hr(){W.call(this,"d")}b(hr,W);function Xo(){W.call(this,"c")}b(Xo,W);var dr={},ga=null;function lo(){return ga=ga||new ot}dr.La="serverreachability";function ya(c){W.call(this,dr.La,c)}b(ya,W);function Vr(c){const P=lo();ut(P,new ya(P))}dr.STAT_EVENT="statevent";function va(c,P){W.call(this,dr.STAT_EVENT,c),this.stat=P}b(va,W);function kt(c){const P=lo();ut(P,new va(P,c))}dr.Ma="timingevent";function Yo(c,P){W.call(this,dr.Ma,c),this.size=P}b(Yo,W);function Gn(c,P){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},P)}function uo(){this.g=!0}uo.prototype.xa=function(){this.g=!1};function co(c,P,V,B,ae,fe){c.info(function(){if(c.g)if(fe)for(var Se="",ft=fe.split("&"),Lt=0;Lt<ft.length;Lt++){var tt=ft[Lt].split("=");if(1<tt.length){var qt=tt[0];tt=tt[1];var xt=qt.split("_");Se=2<=xt.length&&xt[1]=="type"?Se+(qt+"="+tt+"&"):Se+(qt+"=redacted&")}}else Se=null;else Se=fe;return"XMLHTTP REQ ("+B+") [attempt "+ae+"]: "+P+`
`+V+`
`+Se})}function Jo(c,P,V,B,ae,fe,Se){c.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+ae+"]: "+P+`
`+V+`
`+fe+" "+Se})}function Qn(c,P,V,B){c.info(function(){return"XMLHTTP TEXT ("+P+"): "+Rf(c,V)+(B?" "+B:"")})}function _a(c,P){c.info(function(){return"TIMEOUT: "+P})}uo.prototype.info=function(){};function Rf(c,P){if(!c.g)return P;if(!P)return null;try{var V=JSON.parse(P);if(V){for(c=0;c<V.length;c++)if(Array.isArray(V[c])){var B=V[c];if(!(2>B.length)){var ae=B[1];if(Array.isArray(ae)&&!(1>ae.length)){var fe=ae[0];if(fe!="noop"&&fe!="stop"&&fe!="close")for(var Se=1;Se<ae.length;Se++)ae[Se]=""}}}}return da(V)}catch{return P}}var Zo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xn;function fo(){}b(fo,ao),fo.prototype.g=function(){return new XMLHttpRequest},fo.prototype.i=function(){return{}},Xn=new fo;function Yn(c,P,V,B){this.j=c,this.i=P,this.l=V,this.R=B||1,this.U=new so(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zl}function zl(){this.i=null,this.g="",this.h=!1}var Ea={},es={};function ts(c,P,V){c.L=1,c.v=gi(Cn(P)),c.m=V,c.P=!0,wa(c,null)}function wa(c,P){c.F=Date.now(),dt(c),c.A=Cn(c.v);var V=c.A,B=c.R;Array.isArray(B)||(B=[String(B)]),vi(V.i,"t",B),c.C=0,V=c.j.J,c.h=new zl,c.g=au(c.j,V?P:null,!c.m),0<c.O&&(c.M=new nn(d(c.Y,c,c.g),c.O)),P=c.U,V=c.g,B=c.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(fa[0]=ae.toString()),ae=fa);for(var fe=0;fe<ae.length;fe++){var Se=Ot(V,ae[fe],B||P.handleEvent,!1,P.h||P);if(!Se)break;P.g[Se.key]=Se}P=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,P)):(c.u="GET",c.g.ea(c.A,c.u,null,P)),Vr(),co(c.i,c.u,c.A,c.l,c.R,c.m)}Yn.prototype.ca=function(c){c=c.target;const P=this.M;P&&vn(c)==3?P.j():this.Y(c)},Yn.prototype.Y=function(c){try{if(c==this.g)e:{const xt=vn(this.g);var P=this.g.Ba();const qn=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||Ra(this.g)))){this.J||xt!=4||P==7||(P==8||0>=qn?Vr(3):Vr(2)),ho(this);var V=this.g.Z();this.X=V;t:if($l(this)){var B=Ra(this.g);c="";var ae=B.length,fe=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Un(this),hi(this);var Se="";break t}this.h.i=new f.TextDecoder}for(P=0;P<ae;P++)this.h.h=!0,c+=this.h.i.decode(B[P],{stream:!(fe&&P==ae-1)});B.length=0,this.h.g+=c,this.C=0,Se=this.h.g}else Se=this.g.oa();if(this.o=V==200,Jo(this.i,this.u,this.A,this.l,this.R,xt,V),this.o){if(this.T&&!this.K){t:{if(this.g){var ft,Lt=this.g;if((ft=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(ft)){var tt=ft;break t}}tt=null}if(V=tt)Qn(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ta(this,V);else{this.o=!1,this.s=3,kt(12),Un(this),hi(this);break e}}if(this.P){V=!0;let On;for(;!this.J&&this.C<Se.length;)if(On=kf(this,Se),On==es){xt==4&&(this.s=4,kt(14),V=!1),Qn(this.i,this.l,null,"[Incomplete Response]");break}else if(On==Ea){this.s=4,kt(15),Qn(this.i,this.l,Se,"[Invalid Chunk]"),V=!1;break}else Qn(this.i,this.l,On,null),Ta(this,On);if($l(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||Se.length!=0||this.h.h||(this.s=1,kt(16),V=!1),this.o=this.o&&V,!V)Qn(this.i,this.l,Se,"[Invalid Chunked Response]"),Un(this),hi(this);else if(0<Se.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+Se.length),Ca(qt),qt.M=!0,kt(11))}}else Qn(this.i,this.l,Se,null),Ta(this,Se);xt==4&&Un(this),this.o&&!this.J&&(xt==4?hs(this.j,this):(this.o=!1,dt(this)))}else as(this.g),V==400&&0<Se.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),Un(this),hi(this)}}}catch{}finally{}};function $l(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function kf(c,P){var V=c.C,B=P.indexOf(`
`,V);return B==-1?es:(V=Number(P.substring(V,B)),isNaN(V)?Ea:(B+=1,B+V>P.length?es:(P=P.slice(B,B+V),c.C=B+V,P)))}Yn.prototype.cancel=function(){this.J=!0,Un(this)};function dt(c){c.S=Date.now()+c.I,Hl(c,c.I)}function Hl(c,P){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Gn(d(c.ba,c),P)}function ho(c){c.B&&(f.clearTimeout(c.B),c.B=null)}Yn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(_a(this.i,this.A),this.L!=2&&(Vr(),kt(17)),Un(this),this.s=2,hi(this)):Hl(this,this.S-c)};function hi(c){c.j.G==0||c.J||hs(c.j,c)}function Un(c){ho(c);var P=c.M;P&&typeof P.ma=="function"&&P.ma(),c.M=null,ha(c.U),c.g&&(P=c.g,c.g=null,P.abort(),P.ma())}function Ta(c,P){try{var V=c.j;if(V.G!=0&&(V.g==c||hn(V.h,c))){if(!c.K&&hn(V.h,c)&&V.G==3){try{var B=V.Da.g.parse(P)}catch{B=null}if(Array.isArray(B)&&B.length==3){var ae=B;if(ae[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<c.F)fs(V),nr(V);else break e;cs(V),kt(18)}}else V.za=ae[1],0<V.za-V.T&&37500>ae[2]&&V.F&&V.v==0&&!V.C&&(V.C=Gn(d(V.Za,V),6e3));if(1>=Kl(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else zr(V,11)}else if((c.K||V.g==c)&&fs(V),!T(P))for(ae=V.Da.g.parse(P),P=0;P<ae.length;P++){let tt=ae[P];if(V.T=tt[0],tt=tt[1],V.G==2)if(tt[0]=="c"){V.K=tt[1],V.ia=tt[2];const qt=tt[3];qt!=null&&(V.la=qt,V.j.info("VER="+V.la));const xt=tt[4];xt!=null&&(V.Aa=xt,V.j.info("SVER="+V.Aa));const qn=tt[5];qn!=null&&typeof qn=="number"&&0<qn&&(B=1.5*qn,V.L=B,V.j.info("backChannelRequestTimeoutMs_="+B)),B=V;const On=c.g;if(On){const Eo=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eo){var fe=B.h;fe.g||Eo.indexOf("spdy")==-1&&Eo.indexOf("quic")==-1&&Eo.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(ba(fe,fe.h),fe.h=null))}if(B.D){const ps=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;ps&&(B.ya=ps,ht(B.I,B.D,ps))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-c.F,V.j.info("Handshake RTT: "+V.R+"ms")),B=V;var Se=c;if(B.qa=su(B,B.J?B.ia:null,B.W),Se.K){Gl(B.h,Se);var ft=Se,Lt=B.L;Lt&&(ft.I=Lt),ft.B&&(ho(ft),dt(ft)),B.g=Se}else _o(B);0<V.i.length&&yr(V)}else tt[0]!="stop"&&tt[0]!="close"||zr(V,7);else V.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?zr(V,7):Qt(V):tt[0]!="noop"&&V.l&&V.l.ta(tt),V.v=0)}}Vr(4)}catch{}}var Wl=class{constructor(c,P){this.g=c,this.map=P}};function po(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Kl(c){return c.h?1:c.g?c.g.size:0}function hn(c,P){return c.h?c.h==P:c.g?c.g.has(P):!1}function ba(c,P){c.g?c.g.add(P):c.h=P}function Gl(c,P){c.h&&c.h==P?c.h=null:c.g&&c.g.has(P)&&c.g.delete(P)}po.prototype.cancel=function(){if(this.i=Ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ql(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let P=c.i;for(const V of c.g.values())P=P.concat(V.D);return P}return w(c.i)}function ns(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(h(c)){for(var P=[],V=c.length,B=0;B<V;B++)P.push(c[B]);return P}P=[],V=0;for(B in c)P[V++]=c[B];return P}function rs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(h(c)||typeof c=="string"){var P=[];c=c.length;for(var V=0;V<c;V++)P.push(V);return P}P=[],V=0;for(const B in c)P[V++]=B;return P}}}function di(c,P){if(c.forEach&&typeof c.forEach=="function")c.forEach(P,void 0);else if(h(c)||typeof c=="string")Array.prototype.forEach.call(c,P,void 0);else for(var V=rs(c),B=ns(c),ae=B.length,fe=0;fe<ae;fe++)P.call(void 0,B[fe],V&&V[fe],c)}var mo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cf(c,P){if(c){c=c.split("&");for(var V=0;V<c.length;V++){var B=c[V].indexOf("="),ae=null;if(0<=B){var fe=c[V].substring(0,B);ae=c[V].substring(B+1)}else fe=c[V];P(fe,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Ur(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ur){this.h=c.h,go(this,c.j),this.o=c.o,this.g=c.g,pi(this,c.s),this.l=c.l;var P=c.i,V=new pr;V.i=P.i,P.g&&(V.g=new Map(P.g),V.h=P.h),mi(this,V),this.m=c.m}else c&&(P=String(c).match(mo))?(this.h=!1,go(this,P[1]||"",!0),this.o=Ze(P[2]||""),this.g=Ze(P[3]||"",!0),pi(this,P[4]),this.l=Ze(P[5]||"",!0),mi(this,P[6]||"",!0),this.m=Ze(P[7]||"")):(this.h=!1,this.i=new pr(null,this.h))}Ur.prototype.toString=function(){var c=[],P=this.j;P&&c.push(yi(P,is,!0),":");var V=this.g;return(V||P=="file")&&(c.push("//"),(P=this.o)&&c.push(yi(P,is,!0),"@"),c.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&c.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&c.push("/"),c.push(yi(V,V.charAt(0)=="/"?Jl:Yl,!0))),(V=this.i.toString())&&c.push("?",V),(V=this.m)&&c.push("#",yi(V,Sa)),c.join("")};function Cn(c){return new Ur(c)}function go(c,P,V){c.j=V?Ze(P,!0):P,c.j&&(c.j=c.j.replace(/:$/,""))}function pi(c,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);c.s=P}else c.s=null}function mi(c,P,V){P instanceof pr?(c.i=P,mr(c.i,c.h)):(V||(P=yi(P,Zl)),c.i=new pr(P,c.h))}function ht(c,P,V){c.i.set(P,V)}function gi(c){return ht(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ze(c,P){return c?P?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function yi(c,P,V){return typeof c=="string"?(c=encodeURI(c).replace(P,Xl),V&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Xl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var is=/[#\/\?@]/g,Yl=/[#\?:]/g,Jl=/[#\?]/g,Zl=/[#\?@]/g,Sa=/#/g;function pr(c,P){this.h=this.g=null,this.i=c||null,this.j=!!P}function Gt(c){c.g||(c.g=new Map,c.h=0,c.i&&Cf(c.i,function(P,V){c.add(decodeURIComponent(P.replace(/\+/g," ")),V)}))}n=pr.prototype,n.add=function(c,P){Gt(this),this.i=null,c=Fn(this,c);var V=this.g.get(c);return V||this.g.set(c,V=[]),V.push(P),this.h+=1,this};function Jn(c,P){Gt(c),P=Fn(c,P),c.g.has(P)&&(c.i=null,c.h-=c.g.get(P).length,c.g.delete(P))}function Zn(c,P){return Gt(c),P=Fn(c,P),c.g.has(P)}n.forEach=function(c,P){Gt(this),this.g.forEach(function(V,B){V.forEach(function(ae){c.call(P,ae,B,this)},this)},this)},n.na=function(){Gt(this);const c=Array.from(this.g.values()),P=Array.from(this.g.keys()),V=[];for(let B=0;B<P.length;B++){const ae=c[B];for(let fe=0;fe<ae.length;fe++)V.push(P[B])}return V},n.V=function(c){Gt(this);let P=[];if(typeof c=="string")Zn(this,c)&&(P=P.concat(this.g.get(Fn(this,c))));else{c=Array.from(this.g.values());for(let V=0;V<c.length;V++)P=P.concat(c[V])}return P},n.set=function(c,P){return Gt(this),this.i=null,c=Fn(this,c),Zn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[P]),this.h+=1,this},n.get=function(c,P){return c?(c=this.V(c),0<c.length?String(c[0]):P):P};function vi(c,P,V){Jn(c,P),0<V.length&&(c.i=null,c.g.set(Fn(c,P),w(V)),c.h+=V.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],P=Array.from(this.g.keys());for(var V=0;V<P.length;V++){var B=P[V];const fe=encodeURIComponent(String(B)),Se=this.V(B);for(B=0;B<Se.length;B++){var ae=fe;Se[B]!==""&&(ae+="="+encodeURIComponent(String(Se[B]))),c.push(ae)}}return this.i=c.join("&")};function Fn(c,P){return P=String(P),c.j&&(P=P.toLowerCase()),P}function mr(c,P){P&&!c.j&&(Gt(c),c.i=null,c.g.forEach(function(V,B){var ae=B.toLowerCase();B!=ae&&(Jn(this,B),vi(this,ae,V))},c)),c.j=P}function Pf(c,P){const V=new uo;if(f.Image){const B=new Image;B.onload=y(yn,V,"TestLoadImage: loaded",!0,P,B),B.onerror=y(yn,V,"TestLoadImage: error",!1,P,B),B.onabort=y(yn,V,"TestLoadImage: abort",!1,P,B),B.ontimeout=y(yn,V,"TestLoadImage: timeout",!1,P,B),f.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=c}else P(!1)}function eu(c,P){const V=new uo,B=new AbortController,ae=setTimeout(()=>{B.abort(),yn(V,"TestPingServer: timeout",!1,P)},1e4);fetch(c,{signal:B.signal}).then(fe=>{clearTimeout(ae),fe.ok?yn(V,"TestPingServer: ok",!0,P):yn(V,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(ae),yn(V,"TestPingServer: error",!1,P)})}function yn(c,P,V,B,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),B(V)}catch{}}function Of(){this.g=new ma}function tu(c,P,V){const B=V||"";try{di(c,function(ae,fe){let Se=ae;m(ae)&&(Se=da(ae)),P.push(B+fe+"="+encodeURIComponent(Se))})}catch(ae){throw P.push(B+"type="+encodeURIComponent("_badmap")),ae}}function Fr(c){this.l=c.Ub||null,this.j=c.eb||!1}b(Fr,ao),Fr.prototype.g=function(){return new yo(this.l,this.j)},Fr.prototype.i=function(c){return function(){return c}}({});function yo(c,P){ot.call(this),this.D=c,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(yo,ot),n=yo.prototype,n.open=function(c,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=P,this.readyState=1,tr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(P.body=c),(this.D||f).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,er(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,tr(this)),this.g&&(this.readyState=3,tr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function nu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var P=c.value?c.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!c.done}))&&(this.response=this.responseText+=P)}c.done?er(this):tr(this),this.readyState==3&&nu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,er(this))},n.Qa=function(c){this.g&&(this.response=c,er(this))},n.ga=function(){this.g&&er(this)};function er(c){c.readyState=4,c.l=null,c.j=null,c.v=null,tr(c)}n.setRequestHeader=function(c,P){this.u.append(c,P)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],P=this.h.entries();for(var V=P.next();!V.done;)V=V.value,c.push(V[0]+": "+V[1]),V=P.next();return c.join(`\r
`)};function tr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(yo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qr(c){let P="";return U(c,function(V,B){P+=B,P+=":",P+=V,P+=`\r
`}),P}function _i(c,P,V){e:{for(B in V){var B=!1;break e}B=!0}B||(V=qr(V),typeof c=="string"?V!=null&&encodeURIComponent(String(V)):ht(c,P,V))}function _t(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(_t,ot);var xf=/^https?$/i,Aa=["POST","PUT"];n=_t.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,P,V,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);P=P?P.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xn.g(),this.v=this.o?Go(this.o):Go(Xn),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(P,String(c),!0),this.B=!1}catch(fe){vo(this,fe);return}if(c=V||"",V=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var ae in B)V.set(ae,B[ae]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const fe of B.keys())V.set(fe,B.get(fe));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(V.keys()).find(fe=>fe.toLowerCase()=="content-type"),ae=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Aa,P,void 0))||B||ae||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Se]of V)this.g.setRequestHeader(fe,Se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ss(this),this.u=!0,this.g.send(c),this.u=!1}catch(fe){vo(this,fe)}};function vo(c,P){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=P,c.m=5,os(c),Pn(c)}function os(c){c.A||(c.A=!0,ut(c,"complete"),ut(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ut(this,"complete"),ut(this,"abort"),Pn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pn(this,!0)),_t.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ia(this):this.bb())},n.bb=function(){Ia(this)};function Ia(c){if(c.h&&typeof u<"u"&&(!c.v[1]||vn(c)!=4||c.Z()!=2)){if(c.u&&vn(c)==4)oo(c.Ea,0,c);else if(ut(c,"readystatechange"),vn(c)==4){c.h=!1;try{const Se=c.Z();e:switch(Se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var V;if(!(V=P)){var B;if(B=Se===0){var ae=String(c.D).match(mo)[1]||null;!ae&&f.self&&f.self.location&&(ae=f.self.location.protocol.slice(0,-1)),B=!xf.test(ae?ae.toLowerCase():"")}V=B}if(V)ut(c,"complete"),ut(c,"success");else{c.m=6;try{var fe=2<vn(c)?c.g.statusText:""}catch{fe=""}c.l=fe+" ["+c.Z()+"]",os(c)}}finally{Pn(c)}}}}function Pn(c,P){if(c.g){ss(c);const V=c.g,B=c.v[0]?()=>{}:null;c.g=null,c.v=null,P||ut(c,"ready");try{V.onreadystatechange=B}catch{}}}function ss(c){c.I&&(f.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function vn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var P=this.g.responseText;return c&&P.indexOf(c)==0&&(P=P.substring(c.length)),pa(P)}};function Ra(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function as(c){const P={};c=(c.g&&2<=vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<c.length;B++){if(T(c[B]))continue;var V=R(c[B]);const ae=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const fe=P[ae]||[];P[ae]=fe,fe.push(V)}O(P,function(B){return B.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gr(c,P,V){return V&&V.internalChannelParams&&V.internalChannelParams[c]||P}function ka(c){this.Aa=0,this.i=[],this.j=new uo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gr("baseRetryDelayMs",5e3,c),this.cb=gr("retryDelaySeedMs",1e4,c),this.Wa=gr("forwardChannelMaxRetries",2,c),this.wa=gr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new po(c&&c.concurrentRequestLimit),this.Da=new Of,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ka.prototype,n.la=8,n.G=1,n.connect=function(c,P,V,B){kt(0),this.W=c,this.H=P||{},V&&B!==void 0&&(this.H.OSID=V,this.H.OAID=B),this.F=this.X,this.I=su(this,null,this.W),yr(this)};function Qt(c){if(ls(c),c.G==3){var P=c.U++,V=Cn(c.I);if(ht(V,"SID",c.K),ht(V,"RID",P),ht(V,"TYPE","terminate"),Br(c,V),P=new Yn(c,c.j,P),P.L=2,P.v=gi(Cn(V)),V=!1,f.navigator&&f.navigator.sendBeacon)try{V=f.navigator.sendBeacon(P.v.toString(),"")}catch{}!V&&f.Image&&(new Image().src=P.v,V=!0),V||(P.g=au(P.j,null),P.g.ea(P.v)),P.F=Date.now(),dt(P)}ou(c)}function nr(c){c.g&&(Ca(c),c.g.cancel(),c.g=null)}function ls(c){nr(c),c.u&&(f.clearTimeout(c.u),c.u=null),fs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function yr(c){if(!kn(c.h)&&!c.s){c.s=!0;var P=c.Ga;ne||H(),ie||(ne(),ie=!0),X.add(P,c),c.B=0}}function Nf(c,P){return Kl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=P.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Gn(d(c.Ga,c,P),iu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const ae=new Yn(this,this.j,c);let fe=this.o;if(this.S&&(fe?(fe=I(fe),N(fe,this.S)):fe=this.S),this.m!==null||this.O||(ae.H=fe,fe=null),this.P)e:{for(var P=0,V=0;V<this.i.length;V++){t:{var B=this.i[V];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(P+=B,4096<P){P=V;break e}if(P===4096||V===this.i.length-1){P=V+1;break e}}P=1e3}else P=1e3;P=Ei(this,ae,P),V=Cn(this.I),ht(V,"RID",c),ht(V,"CVER",22),this.D&&ht(V,"X-HTTP-Session-Id",this.D),Br(this,V),fe&&(this.O?P="headers="+encodeURIComponent(String(qr(fe)))+"&"+P:this.m&&_i(V,this.m,fe)),ba(this.h,ae),this.Ua&&ht(V,"TYPE","init"),this.P?(ht(V,"$req",P),ht(V,"SID","null"),ae.T=!0,ts(ae,V,null)):ts(ae,V,P),this.G=2}}else this.G==3&&(c?us(this,c):this.i.length==0||kn(this.h)||us(this))};function us(c,P){var V;P?V=P.l:V=c.U++;const B=Cn(c.I);ht(B,"SID",c.K),ht(B,"RID",V),ht(B,"AID",c.T),Br(c,B),c.m&&c.o&&_i(B,c.m,c.o),V=new Yn(c,c.j,V,c.B+1),c.m===null&&(V.H=c.o),P&&(c.i=P.D.concat(c.i)),P=Ei(c,V,1e3),V.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ba(c.h,V),ts(V,B,P)}function Br(c,P){c.H&&U(c.H,function(V,B){ht(P,B,V)}),c.l&&di({},function(V,B){ht(P,B,V)})}function Ei(c,P,V){V=Math.min(c.i.length,V);var B=c.l?d(c.l.Na,c.l,c):null;e:{var ae=c.i;let fe=-1;for(;;){const Se=["count="+V];fe==-1?0<V?(fe=ae[0].g,Se.push("ofs="+fe)):fe=0:Se.push("ofs="+fe);let ft=!0;for(let Lt=0;Lt<V;Lt++){let tt=ae[Lt].g;const qt=ae[Lt].map;if(tt-=fe,0>tt)fe=Math.max(0,ae[Lt].g-100),ft=!1;else try{tu(qt,Se,"req"+tt+"_")}catch{B&&B(qt)}}if(ft){B=Se.join("&");break e}}}return c=c.i.splice(0,V),P.D=c,B}function _o(c){if(!c.g&&!c.u){c.Y=1;var P=c.Fa;ne||H(),ie||(ne(),ie=!0),X.add(P,c),c.v=0}}function cs(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Gn(d(c.Fa,c),iu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,ru(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Gn(d(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),nr(this),ru(this))};function Ca(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function ru(c){c.g=new Yn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var P=Cn(c.qa);ht(P,"RID","rpc"),ht(P,"SID",c.K),ht(P,"AID",c.T),ht(P,"CI",c.F?"0":"1"),!c.F&&c.ja&&ht(P,"TO",c.ja),ht(P,"TYPE","xmlhttp"),Br(c,P),c.m&&c.o&&_i(P,c.m,c.o),c.L&&(c.g.I=c.L);var V=c.g;c=c.ia,V.L=1,V.v=gi(Cn(P)),V.m=null,V.P=!0,wa(V,c)}n.Za=function(){this.C!=null&&(this.C=null,nr(this),cs(this),kt(19))};function fs(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function hs(c,P){var V=null;if(c.g==P){fs(c),Ca(c),c.g=null;var B=2}else if(hn(c.h,P))V=P.D,Gl(c.h,P),B=1;else return;if(c.G!=0){if(P.o)if(B==1){V=P.m?P.m.length:0,P=Date.now()-P.F;var ae=c.B;B=lo(),ut(B,new Yo(B,V)),yr(c)}else _o(c);else if(ae=P.s,ae==3||ae==0&&0<P.X||!(B==1&&Nf(c,P)||B==2&&cs(c)))switch(V&&0<V.length&&(P=c.h,P.i=P.i.concat(V)),ae){case 1:zr(c,5);break;case 4:zr(c,10);break;case 3:zr(c,6);break;default:zr(c,2)}}}function iu(c,P){let V=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(V*=2),V*P}function zr(c,P){if(c.j.info("Error code "+P),P==2){var V=d(c.fb,c),B=c.Xa;const ae=!B;B=new Ur(B||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||go(B,"https"),gi(B),ae?Pf(B.toString(),V):eu(B.toString(),V)}else kt(2);c.G=0,c.l&&c.l.sa(P),ou(c),ls(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function ou(c){if(c.G=0,c.ka=[],c.l){const P=Ql(c.h);(P.length!=0||c.i.length!=0)&&(_(c.ka,P),_(c.ka,c.i),c.h.i.length=0,w(c.i),c.i.length=0),c.l.ra()}}function su(c,P,V){var B=V instanceof Ur?Cn(V):new Ur(V);if(B.g!="")P&&(B.g=P+"."+B.g),pi(B,B.s);else{var ae=f.location;B=ae.protocol,P=P?P+"."+ae.hostname:ae.hostname,ae=+ae.port;var fe=new Ur(null);B&&go(fe,B),P&&(fe.g=P),ae&&pi(fe,ae),V&&(fe.l=V),B=fe}return V=c.D,P=c.ya,V&&P&&ht(B,V,P),ht(B,"VER",c.la),Br(c,B),B}function au(c,P,V){if(P&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return P=c.Ca&&!c.pa?new _t(new Fr({eb:V})):new _t(c.pa),P.Ha(c.J),P}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pa(){}n=Pa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ds(){}ds.prototype.g=function(c,P){return new dn(c,P)};function dn(c,P){ot.call(this),this.g=new ka(P),this.l=c,this.h=P&&P.messageUrlParams||null,c=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(c?c["X-WebChannel-Content-Type"]=P.messageContentType:c={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(c?c["X-WebChannel-Client-Profile"]=P.va:c={"X-WebChannel-Client-Profile":P.va}),this.g.S=c,(c=P&&P.Sb)&&!T(c)&&(this.g.m=c),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!T(P)&&(this.g.D=P,c=this.h,c!==null&&P in c&&(c=this.h,P in c&&delete c[P])),this.j=new vr(this)}b(dn,ot),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Qt(this.g)},dn.prototype.o=function(c){var P=this.g;if(typeof c=="string"){var V={};V.__data__=c,c=V}else this.u&&(V={},V.__data__=da(c),c=V);P.i.push(new Wl(P.Ya++,c)),P.G==3&&yr(P)},dn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,dn.aa.N.call(this)};function lu(c){hr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var P=c.__sm__;if(P){e:{for(const V in P){c=V;break e}c=void 0}(this.i=c)&&(c=this.i,P=P!==null&&c in P?P[c]:void 0),this.data=P}else this.data=c}b(lu,hr);function uu(){Xo.call(this),this.status=1}b(uu,Xo);function vr(c){this.g=c}b(vr,Pa),vr.prototype.ua=function(){ut(this.g,"a")},vr.prototype.ta=function(c){ut(this.g,new lu(c))},vr.prototype.sa=function(c){ut(this.g,new uu)},vr.prototype.ra=function(){ut(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,lT=function(){return new ds},aT=function(){return lo()},sT=dr,pm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zo.NO_ERROR=0,Zo.TIMEOUT=8,Zo.HTTP_ERROR=6,_c=Zo,Bl.COMPLETE="complete",oT=Bl,Qo.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",ot.prototype.listen=ot.prototype.K,ol=Qo,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,iT=_t}).apply(typeof lc<"u"?lc:typeof self<"u"?self:typeof window<"u"?window:{});const B_="@firebase/firestore",z_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oa="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new Vm("@firebase/firestore");function js(){return Bo.logLevel}function ke(n,...e){if(Bo.logLevel<=Ye.DEBUG){const t=e.map(rg);Bo.debug(`Firestore (${oa}): ${n}`,...t)}}function ai(n,...e){if(Bo.logLevel<=Ye.ERROR){const t=e.map(rg);Bo.error(`Firestore (${oa}): ${n}`,...t)}}function Ks(n,...e){if(Bo.logLevel<=Ye.WARN){const t=e.map(rg);Bo.warn(`Firestore (${oa}): ${n}`,...t)}}function rg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(n="Unexpected state"){const e=`FIRESTORE (${oa}) INTERNAL ASSERTION FAILED: `+n;throw ai(e),new Error(e)}function lt(n,e){n||Ue()}function He(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(un.UNAUTHENTICATED))}shutdown(){}}class jO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class VO{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){lt(this.o===void 0);let r=this.i;const o=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ri,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await o(this.currentUser)})},f=h=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>f(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ri)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lt(typeof r.accessToken=="string"),new uT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string"),new un(e)}}class UO{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class FO{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new UO(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qO{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,cr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){lt(this.o===void 0);const r=a=>{a.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,ke("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new $_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(lt(typeof t.token=="string"),this.R=t.token,new $_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=BO(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Ge(n,e){return n<e?-1:n>e?1:0}function mm(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),o=e.codePointAt(t);if(r!==o){if(r<128&&o<128)return Ge(r,o);{const a=cT(),u=zO(a.encode(H_(n,t)),a.encode(H_(e,t)));return u!==0?u:Ge(r,o)}}t+=r>65535?2:1}return Ge(n.length,e.length)}function H_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function zO(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ge(n[t],e[t]);return Ge(n.length,e.length)}function Gs(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=-62135596800,K_=1e6;class Ut{static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*K_);return new Ut(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<W_)throw new Ne(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K_}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-W_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new Ut(0,0))}static max(){return new $e(new Ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="__name__";class Sr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ue(),r===void 0?r=e.length-t:r>e.length-t&&Ue(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Sr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=Sr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Ge(e.length,t.length)}static compareSegments(e,t){const r=Sr.isNumericId(e),o=Sr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?Sr.extractNumericId(e).compare(Sr.extractNumericId(t)):mm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wi.fromString(e.substring(4,e.length-2))}}class wt extends Sr{construct(e,t,r){return new wt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(Ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new wt(t)}static emptyPath(){return new wt([])}}const $O=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Sr{construct(e,t,r){return new en(e,t,r)}static isValidIdentifier(e){return $O.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===G_}static keyField(){return new en([G_])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new Ne(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new Ne(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ne(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(r+=f,o++):(a(),o++)}if(a(),u)throw new Ne(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(wt.fromString(e))}static fromName(e){return new je(wt.fromString(e).popFirst(5))}static empty(){return new je(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new wt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=-1;function HO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=$e.fromTimestamp(r===1e9?new Ut(t+1,0):new Ut(t,r));return new Xi(o,je.empty(),e)}function WO(n){return new Xi(n.readTime,n.key,El)}class Xi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Xi($e.min(),je.empty(),El)}static max(){return new Xi($e.max(),je.empty(),El)}}function KO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=je.comparator(n.documentKey,e.documentKey),t!==0?t:Ge(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(n){if(n.code!==Ee.FAILED_PRECONDITION||n.message!==GO)throw n;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ge((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ge?t:ge.resolve(t)}catch(t){return ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.reject(t)}static resolve(e){return new ge((t,r)=>{t(e)})}static reject(e){return new ge((t,r)=>{r(e)})}static waitFor(e){return new ge((t,r)=>{let o=0,a=0,u=!1;e.forEach(f=>{++o,f.next(()=>{++a,u&&a===o&&t()},h=>r(h))}),u=!0,a===o&&t()})}static or(e){let t=ge.resolve(!1);for(const r of e)t=t.next(o=>o?ge.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new ge((r,o)=>{const a=e.length,u=new Array(a);let f=0;for(let h=0;h<a;h++){const m=h;t(e[m]).next(v=>{u[m]=v,++f,f===a&&r(u)},v=>o(v))}})}static doWhile(e,t){return new ge((r,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):r()};a()})}}function XO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function aa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}nf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=-1;function rf(n){return n==null}function Lc(n){return n===0&&1/n==-1/0}function YO(n){return typeof n=="number"&&Number.isInteger(n)&&!Lc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="";function JO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Q_(e)),e=ZO(n.get(t),e);return Q_(e)}function ZO(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case hT:t+="";break;default:t+=a}}return t}function Q_(n){return n+hT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ro(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function dT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new At(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uc(this.root,e,this.comparator,!0)}}class uc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Zt.RED,this.left=o??Zt.EMPTY,this.right=a??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Zt(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ue();const e=this.left.check();if(e!==this.right.check())throw Ue();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue()}get value(){throw Ue()}get color(){throw Ue()}get left(){throw Ue()}get right(){throw Ue()}copy(e,t,r,o,a){return this}insert(e,t,r){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Y_(this.data.getIterator())}getIteratorFrom(e){return new Y_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ft(this.comparator);return t.data=e,t}}class Y_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Mn([])}unionWith(e){let t=new Ft(en.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Gs(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new pT("Invalid base64 string: "+a):a}}(e);return new tn(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const ex=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(n){if(lt(!!n),typeof n=="string"){let e=0;const t=ex.exec(n);if(lt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pt(n.seconds),nanos:Pt(n.nanos)}}function Pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ji(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="server_timestamp",gT="__type__",yT="__previous_value__",vT="__local_write_time__";function og(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[gT])===null||t===void 0?void 0:t.stringValue)===mT}function of(n){const e=n.mapValue.fields[yT];return og(e)?of(e):e}function wl(n){const e=Yi(n.mapValue.fields[vT].timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,t,r,o,a,u,f,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=m}}const Mc="(default)";class Tl{constructor(e,t){this.projectId=e,this.database=t||Mc}static empty(){return new Tl("","")}get isDefaultDatabase(){return this.database===Mc}isEqual(e){return e instanceof Tl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="__type__",ET="__max__",cc={mapValue:{fields:{__type__:{stringValue:ET}}}},wT="__vector__",jc="value";function Zi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?og(n)?4:rx(n)?9007199254740991:nx(n)?10:11:Ue()}function Nr(n,e){if(n===e)return!0;const t=Zi(n);if(t!==Zi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return wl(n).isEqual(wl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Yi(o.timestampValue),f=Yi(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Ji(o.bytesValue).isEqual(Ji(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return Pt(o.geoPointValue.latitude)===Pt(a.geoPointValue.latitude)&&Pt(o.geoPointValue.longitude)===Pt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Pt(o.integerValue)===Pt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Pt(o.doubleValue),f=Pt(a.doubleValue);return u===f?Lc(u)===Lc(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return Gs(n.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},f=a.mapValue.fields||{};if(X_(u)!==X_(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!Nr(u[h],f[h])))return!1;return!0}(n,e);default:return Ue()}}function bl(n,e){return(n.values||[]).find(t=>Nr(t,e))!==void 0}function Qs(n,e){if(n===e)return 0;const t=Zi(n),r=Zi(e);if(t!==r)return Ge(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(n.booleanValue,e.booleanValue);case 2:return function(a,u){const f=Pt(a.integerValue||a.doubleValue),h=Pt(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1}(n,e);case 3:return J_(n.timestampValue,e.timestampValue);case 4:return J_(wl(n),wl(e));case 5:return mm(n.stringValue,e.stringValue);case 6:return function(a,u){const f=Ji(a),h=Ji(u);return f.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),h=u.split("/");for(let m=0;m<f.length&&m<h.length;m++){const v=Ge(f[m],h[m]);if(v!==0)return v}return Ge(f.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const f=Ge(Pt(a.latitude),Pt(u.latitude));return f!==0?f:Ge(Pt(a.longitude),Pt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Z_(n.arrayValue,e.arrayValue);case 10:return function(a,u){var f,h,m,v;const g=a.fields||{},d=u.fields||{},y=(f=g[jc])===null||f===void 0?void 0:f.arrayValue,b=(h=d[jc])===null||h===void 0?void 0:h.arrayValue,w=Ge(((m=y==null?void 0:y.values)===null||m===void 0?void 0:m.length)||0,((v=b==null?void 0:b.values)===null||v===void 0?void 0:v.length)||0);return w!==0?w:Z_(y,b)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===cc.mapValue&&u===cc.mapValue)return 0;if(a===cc.mapValue)return 1;if(u===cc.mapValue)return-1;const f=a.fields||{},h=Object.keys(f),m=u.fields||{},v=Object.keys(m);h.sort(),v.sort();for(let g=0;g<h.length&&g<v.length;++g){const d=mm(h[g],v[g]);if(d!==0)return d;const y=Qs(f[h[g]],m[v[g]]);if(y!==0)return y}return Ge(h.length,v.length)}(n.mapValue,e.mapValue);default:throw Ue()}}function J_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ge(n,e);const t=Yi(n),r=Yi(e),o=Ge(t.seconds,r.seconds);return o!==0?o:Ge(t.nanos,r.nanos)}function Z_(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=Qs(t[o],r[o]);if(a)return a}return Ge(t.length,r.length)}function Xs(n){return gm(n)}function gm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Yi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ji(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return je.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=gm(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${gm(t.fields[u])}`;return o+"}"}(n.mapValue):Ue()}function Ec(n){switch(Zi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=of(n);return e?16+Ec(e):16;case 5:return 2*n.stringValue.length;case 6:return Ji(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+Ec(a),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return ro(r.fields,(a,u)=>{o+=a.length+Ec(u)}),o}(n.mapValue);default:throw Ue()}}function ym(n){return!!n&&"integerValue"in n}function sg(n){return!!n&&"arrayValue"in n}function eE(n){return!!n&&"nullValue"in n}function tE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wc(n){return!!n&&"mapValue"in n}function nx(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[_T])===null||t===void 0?void 0:t.stringValue)===wT}function dl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ro(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=dl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=dl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function rx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ET}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!wc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dl(t)}setAll(e){let t=en.emptyPath(),r={},o=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,r,o),r={},o=[],t=f.popLast()}u?r[f.lastSegment()]=dl(u):o.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());wc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];wc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){ro(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new Rn(dl(this.value))}}function TT(n){const e=[];return ro(n.fields,(t,r)=>{const o=new en([t]);if(wc(r)){const a=TT(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t,r,o,a,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new cn(e,0,$e.min(),$e.min(),$e.min(),Rn.empty(),0)}static newFoundDocument(e,t,r,o){return new cn(e,1,t,$e.min(),r,o,0)}static newNoDocument(e,t){return new cn(e,2,t,$e.min(),$e.min(),Rn.empty(),0)}static newUnknownDocument(e,t){return new cn(e,3,t,$e.min(),$e.min(),Rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t){this.position=e,this.inclusive=t}}function nE(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=je.comparator(je.fromName(u.referenceValue),t.key):r=Qs(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function rE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Nr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t="asc"){this.field=e,this.dir=t}}function ix(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{}class Vt extends bT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new sx(e,t,r):t==="array-contains"?new ux(e,r):t==="in"?new cx(e,r):t==="not-in"?new fx(e,r):t==="array-contains-any"?new hx(e,r):new Vt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new ax(e,r):new lx(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Qs(t,this.value)):t!==null&&Zi(this.value)===Zi(t)&&this.matchesComparison(Qs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends bT{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Dr(e,t)}matches(e){return ST(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ST(n){return n.op==="and"}function AT(n){return ox(n)&&ST(n)}function ox(n){for(const e of n.filters)if(e instanceof Dr)return!1;return!0}function vm(n){if(n instanceof Vt)return n.field.canonicalString()+n.op.toString()+Xs(n.value);if(AT(n))return n.filters.map(e=>vm(e)).join(",");{const e=n.filters.map(t=>vm(t)).join(",");return`${n.op}(${e})`}}function IT(n,e){return n instanceof Vt?function(r,o){return o instanceof Vt&&r.op===o.op&&r.field.isEqual(o.field)&&Nr(r.value,o.value)}(n,e):n instanceof Dr?function(r,o){return o instanceof Dr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,f)=>a&&IT(u,o.filters[f]),!0):!1}(n,e):void Ue()}function RT(n){return n instanceof Vt?function(t){return`${t.field.canonicalString()} ${t.op} ${Xs(t.value)}`}(n):n instanceof Dr?function(t){return t.op.toString()+" {"+t.getFilters().map(RT).join(" ,")+"}"}(n):"Filter"}class sx extends Vt{constructor(e,t,r){super(e,t,r),this.key=je.fromName(r.referenceValue)}matches(e){const t=je.comparator(e.key,this.key);return this.matchesComparison(t)}}class ax extends Vt{constructor(e,t){super(e,"in",t),this.keys=kT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class lx extends Vt{constructor(e,t){super(e,"not-in",t),this.keys=kT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function kT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>je.fromName(r.referenceValue))}class ux extends Vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sg(t)&&bl(t.arrayValue,this.value)}}class cx extends Vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&bl(this.value.arrayValue,t)}}class fx extends Vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!bl(this.value.arrayValue,t)}}class hx extends Vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>bl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,t=null,r=[],o=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=f,this.le=null}}function iE(n,e=null,t=[],r=[],o=null,a=null,u=null){return new dx(n,e,t,r,o,a,u)}function ag(n){const e=He(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>vm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),rf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Xs(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Xs(r)).join(",")),e.le=t}return e.le}function lg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ix(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!IT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rE(n.startAt,e.startAt)&&rE(n.endAt,e.endAt)}function _m(n){return je.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t=null,r=[],o=[],a=null,u="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function px(n,e,t,r,o,a,u,f){return new sf(n,e,t,r,o,a,u,f)}function ug(n){return new sf(n)}function oE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function mx(n){return n.collectionGroup!==null}function pl(n){const e=He(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Ft(en.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new Uc(a,r))}),t.has(en.keyField().canonicalString())||e.he.push(new Uc(en.keyField(),r))}return e.he}function Pr(n){const e=He(n);return e.Pe||(e.Pe=gx(e,pl(n))),e.Pe}function gx(n,e){if(n.limitType==="F")return iE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Uc(o.field,a)});const t=n.endAt?new Vc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Vc(n.startAt.position,n.startAt.inclusive):null;return iE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Em(n,e,t){return new sf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function af(n,e){return lg(Pr(n),Pr(e))&&n.limitType===e.limitType}function CT(n){return`${ag(Pr(n))}|lt:${n.limitType}`}function Vs(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>RT(o)).join(", ")}]`),rf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>Xs(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>Xs(o)).join(",")),`Target(${r})`}(Pr(n))}; limitType=${n.limitType})`}function lf(n,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):je.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,o){for(const a of pl(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(u,f,h){const m=nE(u,f,h);return u.inclusive?m<=0:m<0}(r.startAt,pl(r),o)||r.endAt&&!function(u,f,h){const m=nE(u,f,h);return u.inclusive?m>=0:m>0}(r.endAt,pl(r),o))}(n,e)}function yx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function PT(n){return(e,t)=>{let r=!1;for(const o of pl(n)){const a=vx(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function vx(n,e,t){const r=n.field.isKeyField()?je.comparator(e.key,t.key):function(a,u,f){const h=u.data.field(a),m=f.data.field(a);return h!==null&&m!==null?Qs(h,m):Ue()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ro(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return dT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=new At(je.comparator);function li(){return _x}const OT=new At(je.comparator);function sl(...n){let e=OT;for(const t of n)e=e.insert(t.key,t);return e}function xT(n){let e=OT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Lo(){return ml()}function NT(){return ml()}function ml(){return new Wo(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ex=new At(je.comparator),wx=new Ft(je.comparator);function Je(...n){let e=wx;for(const t of n)e=e.add(t);return e}const Tx=new Ft(Ge);function bx(){return Tx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lc(e)?"-0":e}}function DT(n){return{integerValue:""+n}}function Sx(n,e){return YO(e)?DT(e):cg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this._=void 0}}function Ax(n,e,t){return n instanceof Fc?function(o,a){const u={fields:{[gT]:{stringValue:mT},[vT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&og(a)&&(a=of(a)),a&&(u.fields[yT]=a),{mapValue:u}}(t,e):n instanceof Sl?MT(n,e):n instanceof Al?jT(n,e):function(o,a){const u=LT(o,a),f=sE(u)+sE(o.Ie);return ym(u)&&ym(o.Ie)?DT(f):cg(o.serializer,f)}(n,e)}function Ix(n,e,t){return n instanceof Sl?MT(n,e):n instanceof Al?jT(n,e):t}function LT(n,e){return n instanceof qc?function(r){return ym(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Fc extends uf{}class Sl extends uf{constructor(e){super(),this.elements=e}}function MT(n,e){const t=VT(e);for(const r of n.elements)t.some(o=>Nr(o,r))||t.push(r);return{arrayValue:{values:t}}}class Al extends uf{constructor(e){super(),this.elements=e}}function jT(n,e){let t=VT(e);for(const r of n.elements)t=t.filter(o=>!Nr(o,r));return{arrayValue:{values:t}}}class qc extends uf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function sE(n){return Pt(n.integerValue||n.doubleValue)}function VT(n){return sg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Rx(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof Sl&&o instanceof Sl||r instanceof Al&&o instanceof Al?Gs(r.elements,o.elements,Nr):r instanceof qc&&o instanceof qc?Nr(r.Ie,o.Ie):r instanceof Fc&&o instanceof Fc}(n.transform,e.transform)}class kx{constructor(e,t){this.version=e,this.transformResults=t}}class fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class cf{}function UT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new fg(n.key,fr.none()):new jl(n.key,n.data,fr.none());{const t=n.data,r=Rn.empty();let o=new Ft(en.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new io(n.key,r,new Mn(o.toArray()),fr.none())}}function Cx(n,e,t){n instanceof jl?function(o,a,u){const f=o.value.clone(),h=lE(o.fieldTransforms,a,u.transformResults);f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof io?function(o,a,u){if(!Tc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const f=lE(o.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(FT(o)),h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function gl(n,e,t,r){return n instanceof jl?function(a,u,f,h){if(!Tc(a.precondition,u))return f;const m=a.value.clone(),v=uE(a.fieldTransforms,h,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof io?function(a,u,f,h){if(!Tc(a.precondition,u))return f;const m=uE(a.fieldTransforms,h,u),v=u.data;return v.setAll(FT(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(a,u,f){return Tc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function Px(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=LT(r.transform,o||null);a!=null&&(t===null&&(t=Rn.empty()),t.set(r.field,a))}return t||null}function aE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Gs(r,o,(a,u)=>Rx(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class jl extends cf{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class io extends cf{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function FT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function lE(n,e,t){const r=new Map;lt(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,f=e.data.field(a.field);r.set(a.field,Ix(u,f,t[o]))}return r}function uE(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,Ax(a,u,e))}return r}class fg extends cf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ox extends cf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&Cx(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=gl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=gl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=NT();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(o.key)?null:f;const h=UT(u,f);h!==null&&r.set(o.key,h),u.isValidDocument()||u.convertToNoDocument($e.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Je())}isEqual(e){return this.batchId===e.batchId&&Gs(this.mutations,e.mutations,(t,r)=>aE(t,r))&&Gs(this.baseMutations,e.baseMutations,(t,r)=>aE(t,r))}}class hg{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){lt(e.mutations.length===r.length);let o=function(){return Ex}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new hg(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,nt;function Lx(n){switch(n){case Ee.OK:return Ue();case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0;default:return Ue()}}function qT(n){if(n===void 0)return ai("GRPC error has no .code"),Ee.UNKNOWN;switch(n){case Dt.OK:return Ee.OK;case Dt.CANCELLED:return Ee.CANCELLED;case Dt.UNKNOWN:return Ee.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return Ee.INTERNAL;case Dt.UNAVAILABLE:return Ee.UNAVAILABLE;case Dt.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case Dt.NOT_FOUND:return Ee.NOT_FOUND;case Dt.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case Dt.ABORTED:return Ee.ABORTED;case Dt.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case Dt.DATA_LOSS:return Ee.DATA_LOSS;default:return Ue()}}(nt=Dt||(Dt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=new Wi([4294967295,4294967295],0);function cE(n){const e=cT().encode(n),t=new rT;return t.update(e),new Uint8Array(t.digest())}function fE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Wi([t,r],0),new Wi([o,a],0)]}class dg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new al(`Invalid padding: ${t}`);if(r<0)throw new al(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new al(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new al(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Wi.fromNumber(this.Ee)}Ae(e,t,r){let o=e.add(t.multiply(Wi.fromNumber(r)));return o.compare(Mx)===1&&(o=new Wi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=cE(e),[r,o]=fE(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(r,o,a);if(!this.Re(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new dg(a,o,t);return r.forEach(f=>u.insert(f)),u}insert(e){if(this.Ee===0)return;const t=cE(e),[r,o]=fE(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(r,o,a);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Vl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ff($e.min(),o,new At(Ge),li(),Je())}}class Vl{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Vl(r,t,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t,r,o){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=o}}class BT{constructor(e,t){this.targetId=e,this.ge=t}}class zT{constructor(e,t,r=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class hE{constructor(){this.pe=0,this.ye=dE(),this.we=tn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Je(),t=Je(),r=Je();return this.ye.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Ue()}}),new Vl(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=dE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,lt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class jx{constructor(e){this.ke=e,this.qe=new Map,this.Qe=li(),this.$e=fc(),this.Ue=fc(),this.Ke=new At(Ge)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ue()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,r=e.ge.count,o=this.Xe(t);if(o){const a=o.target;if(_m(a))if(r===0){const u=new je(a.path);this.ze(t,u,cn.newNoDocument(u,$e.min()))}else lt(r===1);else{const u=this.et(t);if(u!==r){const f=this.tt(e),h=f?this.nt(f,e,u):1;if(h!==0){this.Ye(t);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,f;try{u=Ji(r).toUint8Array()}catch(h){if(h instanceof pT)return Ks("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new dg(u,o,a)}catch(h){return Ks(h instanceof al?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.Ee===0?null:f}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let o=0;return r.forEach(a=>{const u=this.ke.it(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,a,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((a,u)=>{const f=this.Xe(u);if(f){if(a.current&&_m(f.target)){const h=new je(f.target.path);this._t(h).has(u)||this.ut(u,h)||this.ze(u,h,cn.newNoDocument(h,e))}a.ve&&(t.set(u,a.Fe()),a.Me())}});let r=Je();this.Ue.forEach((a,u)=>{let f=!0;u.forEachWhile(h=>{const m=this.Xe(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(a))}),this.Qe.forEach((a,u)=>u.setReadTime(e));const o=new ff(e,t,this.Ke,this.Qe,r);return this.Qe=li(),this.$e=fc(),this.Ue=fc(),this.Ke=new At(Ge),o}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new hE,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Ft(Ge),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Ft(Ge),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ke("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new hE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function fc(){return new At(je.comparator)}function dE(){return new At(je.comparator)}const Vx={asc:"ASCENDING",desc:"DESCENDING"},Ux={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fx={and:"AND",or:"OR"};class qx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wm(n,e){return n.useProto3Json||rf(e)?e:{value:e}}function Bc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $T(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Bx(n,e){return Bc(n,e.toTimestamp())}function Or(n){return lt(!!n),$e.fromTimestamp(function(t){const r=Yi(t);return new Ut(r.seconds,r.nanos)}(n))}function pg(n,e){return Tm(n,e).canonicalString()}function Tm(n,e){const t=function(o){return new wt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function HT(n){const e=wt.fromString(n);return lt(XT(e)),e}function bm(n,e){return pg(n.databaseId,e.path)}function gd(n,e){const t=HT(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new je(KT(t))}function WT(n,e){return pg(n.databaseId,e)}function zx(n){const e=HT(n);return e.length===4?wt.emptyPath():KT(e)}function Sm(n){return new wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function KT(n){return lt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function pE(n,e,t){return{name:bm(n,e),fields:t.value.mapValue.fields}}function $x(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(lt(v===void 0||typeof v=="string"),tn.fromBase64String(v||"")):(lt(v===void 0||v instanceof Buffer||v instanceof Uint8Array),tn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(m){const v=m.code===void 0?Ee.UNKNOWN:qT(m.code);return new Ne(v,m.message||"")}(u);t=new zT(r,o,a,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=gd(n,r.document.name),a=Or(r.document.updateTime),u=r.document.createTime?Or(r.document.createTime):$e.min(),f=new Rn({mapValue:{fields:r.document.fields}}),h=cn.newFoundDocument(o,a,u,f),m=r.targetIds||[],v=r.removedTargetIds||[];t=new bc(m,v,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=gd(n,r.document),a=r.readTime?Or(r.readTime):$e.min(),u=cn.newNoDocument(o,a),f=r.removedTargetIds||[];t=new bc([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=gd(n,r.document),a=r.removedTargetIds||[];t=new bc([],a,o,null)}else{if(!("filter"in e))return Ue();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new Dx(o,a),f=r.targetId;t=new BT(f,u)}}return t}function Hx(n,e){let t;if(e instanceof jl)t={update:pE(n,e.key,e.value)};else if(e instanceof fg)t={delete:bm(n,e.key)};else if(e instanceof io)t={update:pE(n,e.key,e.data),updateMask:eN(e.fieldMask)};else{if(!(e instanceof Ox))return Ue();t={verify:bm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const f=u.transform;if(f instanceof Fc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Sl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Al)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof qc)return{fieldPath:u.field.canonicalString(),increment:f.Ie};throw Ue()}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:Bx(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ue()}(n,e.precondition)),t}function Wx(n,e){return n&&n.length>0?(lt(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?Or(o.updateTime):Or(a);return u.isEqual($e.min())&&(u=Or(a)),new kx(u,o.transformResults||[])}(t,e))):[]}function Kx(n,e){return{documents:[WT(n,e.path)]}}function Gx(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=WT(n,o);const a=function(m){if(m.length!==0)return QT(Dr.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(v=>function(d){return{field:Us(d.field),direction:Yx(d.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=wm(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:o}}function Qx(n){let e=zx(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){lt(r===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(g){const d=GT(g);return d instanceof Dr&&AT(d)?d.getFilters():[d]}(t.where));let u=[];t.orderBy&&(u=function(g){return g.map(d=>function(b){return new Uc(Fs(b.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(d))}(t.orderBy));let f=null;t.limit&&(f=function(g){let d;return d=typeof g=="object"?g.value:g,rf(d)?null:d}(t.limit));let h=null;t.startAt&&(h=function(g){const d=!!g.before,y=g.values||[];return new Vc(y,d)}(t.startAt));let m=null;return t.endAt&&(m=function(g){const d=!g.before,y=g.values||[];return new Vc(y,d)}(t.endAt)),px(e,o,u,a,f,"F",h,m)}function Xx(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function GT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Fs(t.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Fs(t.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Fs(t.unaryFilter.field);return Vt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Fs(t.unaryFilter.field);return Vt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ue()}}(n):n.fieldFilter!==void 0?function(t){return Vt.create(Fs(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ue()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Dr.create(t.compositeFilter.filters.map(r=>GT(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ue()}}(t.compositeFilter.op))}(n):Ue()}function Yx(n){return Vx[n]}function Jx(n){return Ux[n]}function Zx(n){return Fx[n]}function Us(n){return{fieldPath:n.canonicalString()}}function Fs(n){return en.fromServerFormat(n.fieldPath)}function QT(n){return n instanceof Vt?function(t){if(t.op==="=="){if(tE(t.value))return{unaryFilter:{field:Us(t.field),op:"IS_NAN"}};if(eE(t.value))return{unaryFilter:{field:Us(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(tE(t.value))return{unaryFilter:{field:Us(t.field),op:"IS_NOT_NAN"}};if(eE(t.value))return{unaryFilter:{field:Us(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Us(t.field),op:Jx(t.op),value:t.value}}}(n):n instanceof Dr?function(t){const r=t.getFilters().map(o=>QT(o));return r.length===1?r[0]:{compositeFilter:{op:Zx(t.op),filters:r}}}(n):Ue()}function eN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function XT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,t,r,o,a=$e.min(),u=$e.min(),f=tn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.Tt=e}}function nN(n){const e=Qx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Em(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this.Tn=new iN}addToCollectionParentIndex(e,t){return this.Tn.add(t),ge.resolve()}getCollectionParents(e,t){return ge.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ge.resolve()}deleteFieldIndex(e,t){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,t){return ge.resolve()}getDocumentsMatchingTarget(e,t){return ge.resolve(null)}getIndexType(e,t){return ge.resolve(0)}getFieldIndexes(e,t){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,t){return ge.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,t){return ge.resolve(Xi.min())}updateCollectionGroup(e,t,r){return ge.resolve()}updateIndexEntries(e,t){return ge.resolve()}}class iN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Ft(wt.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ft(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YT=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(YT,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ys(0)}static Kn(){return new Ys(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="LruGarbageCollector",oN=1048576;function yE([n,e],[t,r]){const o=Ge(n,t);return o===0?Ge(e,r):o}class sN{constructor(e){this.Hn=e,this.buffer=new Ft(yE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();yE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class aN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ke(gE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){aa(t)?ke(gE,"Ignoring IndexedDB error during garbage collection: ",t):await sa(t)}await this.er(3e5)})}}class lN{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ge.resolve(nf.ae);const r=new sN(t);return this.tr.forEachTarget(e,o=>r.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>r.Zn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(mE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,o,a,u,f,h,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),o=this.params.maximumSequenceNumbersToCollect):o=g,u=Date.now(),this.nthSequenceNumber(e,o))).next(g=>(r=g,f=Date.now(),this.removeTargets(e,r,t))).next(g=>(a=g,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(m=Date.now(),js()<=Ye.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${a} targets in `+(h-f)+`ms
	Removed ${g} documents in `+(m-h)+`ms
Total Duration: ${m-v}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:g})))}}function uN(n,e){return new lN(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(){this.changes=new Wo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ge.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&gl(r.mutation,o,Mn.empty(),Ut.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Je()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Je()){const o=Lo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let u=sl();return a.forEach((f,h)=>{u=u.insert(f,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Lo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Je()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,o){let a=li();const u=ml(),f=function(){return ml()}();return t.forEach((h,m)=>{const v=r.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof io)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),gl(v.mutation,m,v.mutation.getFieldMask(),Ut.now())):u.set(m.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>{var g;return f.set(m,new fN(v,(g=u.get(m))!==null&&g!==void 0?g:null))}),f))}recalculateAndSaveOverlays(e,t){const r=ml();let o=new At((u,f)=>u-f),a=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(h=>{const m=t.get(h);if(m===null)return;let v=r.get(h)||Mn.empty();v=f.applyToLocalView(m,v),r.set(h,v);const g=(o.get(f.batchId)||Je()).add(h);o=o.insert(f.batchId,g)})}).next(()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),m=h.key,v=h.value,g=NT();v.forEach(d=>{if(!a.has(d)){const y=UT(t.get(d),r.get(d));y!==null&&g.set(d,y),a=a.add(d)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,g))}return ge.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(u){return je.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):mx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):ge.resolve(Lo());let f=El,h=a;return u.next(m=>ge.forEach(m,(v,g)=>(f<g.largestBatchId&&(f=g.largestBatchId),a.get(v)?ge.resolve():this.remoteDocumentCache.getEntry(e,v).next(d=>{h=h.insert(v,d)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,h,m,Je())).next(v=>({batchId:f,changes:xT(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new je(t)).next(r=>{let o=sl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=sl();return this.indexManager.getCollectionParents(e,a).next(f=>ge.forEach(f,h=>{const m=function(g,d){return new sf(d,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(v=>{v.forEach((g,d)=>{u=u.insert(g,d)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o))).next(u=>{a.forEach((h,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,cn.newInvalidDocument(v)))});let f=sl();return u.forEach((h,m)=>{const v=a.get(h);v!==void 0&&gl(v.mutation,m,Mn.empty(),Ut.now()),lf(t,m)&&(f=f.insert(h,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ge.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Or(o.createTime)}}(t)),ge.resolve()}getNamedQuery(e,t){return ge.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:nN(o.bundledQuery),readTime:Or(o.readTime)}}(t)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.overlays=new At(je.comparator),this.Rr=new Map}getOverlay(e,t){return ge.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Lo();return ge.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.Et(e,t,a)}),ge.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Rr.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),ge.resolve()}getOverlaysForCollection(e,t,r){const o=Lo(),a=t.length+1,u=new je(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,m=h.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&h.largestBatchId>r&&o.set(h.getKey(),h)}return ge.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new At((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let v=a.get(m.largestBatchId);v===null&&(v=Lo(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const f=Lo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((m,v)=>f.set(m,v)),!(f.size()>=o)););return ge.resolve(f)}Et(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.Rr.get(o.largestBatchId).delete(r.key);this.Rr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Nx(t,r));let a=this.Rr.get(t);a===void 0&&(a=Je(),this.Rr.set(t,a)),this.Rr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(){this.Vr=new Ft(Ht.mr),this.gr=new Ft(Ht.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Ht(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Ht(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new je(new wt([])),r=new Ht(t,e),o=new Ht(t,e+1),a=[];return this.gr.forEachInRange([r,o],u=>{this.wr(u),a.push(u.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new je(new wt([])),r=new Ht(t,e),o=new Ht(t,e+1);let a=Je();return this.gr.forEachInRange([r,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Ht(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ht{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return je.comparator(e.key,t.key)||Ge(e.Cr,t.Cr)}static pr(e,t){return Ge(e.Cr,t.Cr)||je.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Ft(Ht.mr)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new xx(a,t,r,o);this.mutationQueue.push(u);for(const f of o)this.Mr=this.Mr.add(new Ht(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ge.resolve(u)}lookupMutationBatch(e,t){return ge.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Nr(r),a=o<0?0:o;return ge.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?ig:this.Fr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ht(t,0),o=new Ht(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,o],u=>{const f=this.Or(u.Cr);a.push(f)}),ge.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ft(Ge);return t.forEach(o=>{const a=new Ht(o,0),u=new Ht(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,u],f=>{r=r.add(f.Cr)})}),ge.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;je.isDocumentKey(a)||(a=a.child(""));const u=new Ht(new je(a),0);let f=new Ft(Ge);return this.Mr.forEachWhile(h=>{const m=h.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(f=f.add(h.Cr)),!0)},u),ge.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(r=>{const o=this.Or(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){lt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ge.forEach(t.mutations,o=>{const a=new Ht(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Ht(t,0),o=this.Mr.firstAfterOrEqual(r);return ge.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.kr=e,this.docs=function(){return new At(je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ge.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let r=li();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():cn.newInvalidDocument(o))}),ge.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=li();const u=t.path,f=new je(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:m,value:{document:v}}=h.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||KO(WO(v),r)<=0||(o.has(v.key)||lf(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ge.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Ue()}qr(e,t){return ge.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new vN(this)}getSize(e){return ge.resolve(this.size)}}class vN extends cN{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(r)}),ge.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.persistence=e,this.Qr=new Wo(t=>ag(t),lg),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.$r=0,this.Ur=new mg,this.targetCount=0,this.Kr=Ys.Un()}forEachTarget(e,t){return this.Qr.forEach((r,o)=>t(o)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ge.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Ys(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ge.resolve()}updateTargetData(e,t){return this.zn(t),ge.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.Qr.forEach((u,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.Qr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),ge.waitFor(a).next(()=>o)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ge.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),ge.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),ge.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),ge.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return ge.resolve(r)}containsKey(e,t){return ge.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new nf(0),this.zr=!1,this.zr=!0,this.jr=new mN,this.referenceDelegate=e(this),this.Hr=new _N(this),this.indexManager=new rN,this.remoteDocumentCache=function(o){return new yN(o)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new tN(t),this.Yr=new dN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new gN(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){ke("MemoryPersistence","Starting transaction:",e);const o=new EN(this.Gr.next());return this.referenceDelegate.Zr(),r(o).next(a=>this.referenceDelegate.Xr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}ei(e,t){return ge.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class EN extends QO{constructor(e){super(),this.currentSequenceNumber=e}}class gg{constructor(e){this.persistence=e,this.ti=new mg,this.ni=null}static ri(e){return new gg(e)}get ii(){if(this.ni)return this.ni;throw Ue()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ge.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ge.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.ii,r=>{const o=je.fromPath(r);return this.si(e,o).next(a=>{a||t.removeEntry(o,$e.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ge.or([()=>ge.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class zc{constructor(e,t){this.persistence=e,this.oi=new Wo(r=>JO(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=uN(this,t)}static ri(e,t){return new zc(e,t)}Zr(){}Xr(e){return ge.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ge.forEach(this.oi,(r,o)=>this.ar(e,r,o).next(a=>a?ge.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.qr(e,u=>this.ar(e,u,t).next(f=>{f||(r++,a.removeEntry(u,$e.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ge.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ge.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ge.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ec(e.data.value)),t}ar(e,t,r){return ge.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return ge.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=o}static Yi(e,t){let r=Je(),o=Je();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new yg(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return nR()?8:XO(fn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.rs(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ss(e,t,o,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new wN;return this._s(e,t,u).next(f=>{if(a.result=f,this.Xi)return this.us(e,t,u,f.size)})}).next(()=>a.result)}us(e,t,r,o){return r.documentReadCount<this.es?(js()<=Ye.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",Vs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ge.resolve()):(js()<=Ye.DEBUG&&ke("QueryEngine","Query:",Vs(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ts*o?(js()<=Ye.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",Vs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(t))):ge.resolve())}rs(e,t){if(oE(t))return ge.resolve(null);let r=Pr(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Em(t,null,"F"),r=Pr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Je(...a);return this.ns.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(h=>{const m=this.cs(t,f);return this.ls(t,m,u,h.readTime)?this.rs(e,Em(t,null,"F")):this.hs(e,m,t,h)}))})))}ss(e,t,r,o){return oE(t)||o.isEqual($e.min())?ge.resolve(null):this.ns.getDocuments(e,r).next(a=>{const u=this.cs(t,a);return this.ls(t,u,r,o)?ge.resolve(null):(js()<=Ye.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Vs(t)),this.hs(e,u,t,HO(o,El)).next(f=>f))})}cs(e,t){let r=new Ft(PT(e));return t.forEach((o,a)=>{lf(e,a)&&(r=r.add(a))}),r}ls(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}_s(e,t,r){return js()<=Ye.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",Vs(t)),this.ns.getDocumentsMatchingQuery(e,t,Xi.min(),r)}hs(e,t,r,o){return this.ns.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="LocalStore",bN=3e8;class SN{constructor(e,t,r,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new At(Ge),this.Is=new Wo(a=>ag(a),lg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function AN(n,e,t,r){return new SN(n,e,t,r)}async function ZT(n,e){const t=He(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],f=[];let h=Je();for(const m of o){u.push(m.batchId);for(const v of m.mutations)h=h.add(v.key)}for(const m of a){f.push(m.batchId);for(const v of m.mutations)h=h.add(v.key)}return t.localDocuments.getDocuments(r,h).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:f}))})})}function IN(n,e){const t=He(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,h,m,v){const g=m.batch,d=g.keys();let y=ge.resolve();return d.forEach(b=>{y=y.next(()=>v.getEntry(h,b)).next(w=>{const _=m.docVersions.get(b);lt(_!==null),w.version.compareTo(_)<0&&(g.applyToRemoteDocument(w,m),w.isValidDocument()&&(w.setReadTime(m.commitVersion),v.addEntry(w)))})}),y.next(()=>f.mutationQueue.removeMutationBatch(h,g))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let h=Je();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(h=h.add(f.batch.mutations[m].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function eb(n){const e=He(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function RN(n,e){const t=He(n),r=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const f=[];e.targetChanges.forEach((v,g)=>{const d=o.get(g);if(!d)return;f.push(t.Hr.removeMatchingKeys(a,v.removedDocuments,g).next(()=>t.Hr.addMatchingKeys(a,v.addedDocuments,g)));let y=d.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?y=y.withResumeToken(tn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):v.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(v.resumeToken,r)),o=o.insert(g,y),function(w,_,E){return w.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=bN?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(d,y,v)&&f.push(t.Hr.updateTargetData(a,y))});let h=li(),m=Je();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),f.push(kN(a,u,e.documentUpdates).next(v=>{h=v.Vs,m=v.fs})),!r.isEqual($e.min())){const v=t.Hr.getLastRemoteSnapshotVersion(a).next(g=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(v)}return ge.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,m)).next(()=>h)}).then(a=>(t.Ts=o,a))}function kN(n,e,t){let r=Je(),o=Je();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=li();return t.forEach((f,h)=>{const m=a.get(f);h.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(f)),h.isNoDocument()&&h.version.isEqual($e.min())?(e.removeEntry(f,h.readTime),u=u.insert(f,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),u=u.insert(f,h)):ke(vg,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",h.version)}),{Vs:u,fs:o}})}function CN(n,e){const t=He(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ig),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function PN(n,e){const t=He(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Hr.getTargetData(r,e).next(a=>a?(o=a,ge.resolve(o)):t.Hr.allocateTargetId(r).next(u=>(o=new zi(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ts.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Am(n,e,t){const r=He(n),o=r.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!aa(u))throw u;ke(vg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(o.target)}function vE(n,e,t){const r=He(n);let o=$e.min(),a=Je();return r.persistence.runTransaction("Execute query","readwrite",u=>function(h,m,v){const g=He(h),d=g.Is.get(v);return d!==void 0?ge.resolve(g.Ts.get(d)):g.Hr.getTargetData(m,v)}(r,u,Pr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,f.targetId).next(h=>{a=h})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?o:$e.min(),t?a:Je())).next(f=>(ON(r,yx(e),f),{documents:f,gs:a})))}function ON(n,e,t){let r=n.Es.get(e)||$e.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Es.set(e,r)}class _E{constructor(){this.activeTargetIds=bx()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xN{constructor(){this.ho=new _E,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new _E,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="ConnectivityMonitor";class wE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ke(EE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ke(EE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc=null;function Im(){return hc===null?hc=function(){return 268435456+Math.round(2147483648*Math.random())}():hc++,"0x"+hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="RestConnection",DN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${o}`,this.wo=this.databaseId.database===Mc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}So(e,t,r,o,a){const u=Im(),f=this.bo(e,t.toUriEncodedString());ke(yd,`Sending RPC '${e}' ${u}:`,f,r);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,o,a),this.vo(e,f,h,r).then(m=>(ke(yd,`Received RPC '${e}' ${u}: `,m),m),m=>{throw Ks(yd,`RPC '${e}' ${u} failed with error: `,m,"url: ",f,"request:",r),m})}Co(e,t,r,o,a,u){return this.So(e,t,r,o,a)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),r&&r.headers.forEach((o,a)=>e[a]=o)}bo(e,t){const r=DN[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class jN extends LN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,o){const a=Im();return new Promise((u,f)=>{const h=new iT;h.setWithCredentials(!0),h.listenOnce(oT.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case _c.NO_ERROR:const v=h.getResponseJson();ke(ln,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case _c.TIMEOUT:ke(ln,`RPC '${e}' ${a} timed out`),f(new Ne(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case _c.HTTP_ERROR:const g=h.getStatus();if(ke(ln,`RPC '${e}' ${a} failed with status:`,g,"response text:",h.getResponseText()),g>0){let d=h.getResponseJson();Array.isArray(d)&&(d=d[0]);const y=d==null?void 0:d.error;if(y&&y.status&&y.message){const b=function(_){const E=_.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(E)>=0?E:Ee.UNKNOWN}(y.status);f(new Ne(b,y.message))}else f(new Ne(Ee.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Ne(Ee.UNAVAILABLE,"Connection failed."));break;default:Ue()}}finally{ke(ln,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(o);ke(ln,`RPC '${e}' ${a} sending request:`,o),h.send(t,"POST",m,r,15)})}Wo(e,t,r){const o=Im(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=lT(),f=aT(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const v=a.join("");ke(ln,`Creating RPC '${e}' stream ${o}: ${v}`,h);const g=u.createWebChannel(v,h);let d=!1,y=!1;const b=new MN({Fo:_=>{y?ke(ln,`Not sending because RPC '${e}' stream ${o} is closed:`,_):(d||(ke(ln,`Opening RPC '${e}' stream ${o} transport.`),g.open(),d=!0),ke(ln,`RPC '${e}' stream ${o} sending:`,_),g.send(_))},Mo:()=>g.close()}),w=(_,E,T)=>{_.listen(E,k=>{try{T(k)}catch(S){setTimeout(()=>{throw S},0)}})};return w(g,ol.EventType.OPEN,()=>{y||(ke(ln,`RPC '${e}' stream ${o} transport opened.`),b.Qo())}),w(g,ol.EventType.CLOSE,()=>{y||(y=!0,ke(ln,`RPC '${e}' stream ${o} transport closed`),b.Uo())}),w(g,ol.EventType.ERROR,_=>{y||(y=!0,Ks(ln,`RPC '${e}' stream ${o} transport errored:`,_),b.Uo(new Ne(Ee.UNAVAILABLE,"The operation could not be completed")))}),w(g,ol.EventType.MESSAGE,_=>{var E;if(!y){const T=_.data[0];lt(!!T);const k=T,S=(k==null?void 0:k.error)||((E=k[0])===null||E===void 0?void 0:E.error);if(S){ke(ln,`RPC '${e}' stream ${o} received error:`,S);const L=S.status;let U=function(M){const N=Dt[M];if(N!==void 0)return qT(N)}(L),O=S.message;U===void 0&&(U=Ee.INTERNAL,O="Unknown error status: "+L+" with message "+S.message),y=!0,b.Uo(new Ne(U,O)),g.close()}else ke(ln,`RPC '${e}' stream ${o} received:`,T),b.Ko(T)}}),w(f,sT.STAT_EVENT,_=>{_.stat===pm.PROXY?ke(ln,`RPC '${e}' stream ${o} detected buffering proxy`):_.stat===pm.NOPROXY&&ke(ln,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{b.$o()},0),b}}function vd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(n){return new qx(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=o,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-r);o>0&&ke("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="PersistentStream";class nb{constructor(e,t,r,o,a,u,f,h){this.Ti=e,this.n_=r,this.r_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new tb(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Ee.RESOURCE_EXHAUSTED?(ai(t.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.i_===t&&this.V_(r,o)},r=>{e(()=>{const o=new Ne(Ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(o)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{r(()=>this.m_(o))}),this.stream.onMessage(o=>{r(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ke(TE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ke(TE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VN extends nb{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=$x(this.serializer,e),r=function(a){if(!("targetChange"in a))return $e.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?$e.min():u.readTime?Or(u.readTime):$e.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Sm(this.serializer),t.addTarget=function(a,u){let f;const h=u.target;if(f=_m(h)?{documents:Kx(a,h)}:{query:Gx(a,h).ht},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=$T(a,u.resumeToken);const m=wm(a,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo($e.min())>0){f.readTime=Bc(a,u.snapshotVersion.toTimestamp());const m=wm(a,u.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const r=Xx(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Sm(this.serializer),t.removeTarget=e,this.I_(t)}}class UN extends nb{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return lt(!!e.streamToken),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Wx(e.writeResults,e.commitTime),r=Or(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Sm(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Hx(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{}class qN extends FN{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Ne(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.So(e,Tm(t,r),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ne(Ee.UNKNOWN,a.toString())})}Co(e,t,r,o,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Co(e,Tm(t,r),o,u,f,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ne(Ee.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class BN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ai(t),this.N_=!1):ke("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="RemoteStore";class zN{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(u=>{r.enqueueAndForget(async()=>{Ko(this)&&(ke(zo,"Restarting streams for network reachability change."),await async function(h){const m=He(h);m.W_.add(4),await Ul(m),m.j_.set("Unknown"),m.W_.delete(4),await df(m)}(this))})}),this.j_=new BN(r,o)}}async function df(n){if(Ko(n))for(const e of n.G_)await e(!0)}async function Ul(n){for(const e of n.G_)await e(!1)}function rb(n,e){const t=He(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Tg(t)?wg(t):la(t).c_()&&Eg(t,e))}function _g(n,e){const t=He(n),r=la(t);t.K_.delete(e),r.c_()&&ib(t,e),t.K_.size===0&&(r.c_()?r.P_():Ko(t)&&t.j_.set("Unknown"))}function Eg(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}la(n).y_(e)}function ib(n,e){n.H_.Ne(e),la(n).w_(e)}function wg(n){n.H_=new jx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),la(n).start(),n.j_.B_()}function Tg(n){return Ko(n)&&!la(n).u_()&&n.K_.size>0}function Ko(n){return He(n).W_.size===0}function ob(n){n.H_=void 0}async function $N(n){n.j_.set("Online")}async function HN(n){n.K_.forEach((e,t)=>{Eg(n,e)})}async function WN(n,e){ob(n),Tg(n)?(n.j_.q_(e),wg(n)):n.j_.set("Unknown")}async function KN(n,e,t){if(n.j_.set("Online"),e instanceof zT&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const f of a.targetIds)o.K_.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.K_.delete(f),o.H_.removeTarget(f))}(n,e)}catch(r){ke(zo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $c(n,r)}else if(e instanceof bc?n.H_.We(e):e instanceof BT?n.H_.Ze(e):n.H_.je(e),!t.isEqual($e.min()))try{const r=await eb(n.localStore);t.compareTo(r)>=0&&await function(a,u){const f=a.H_.ot(u);return f.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const v=a.K_.get(m);v&&a.K_.set(m,v.withResumeToken(h.resumeToken,u))}}),f.targetMismatches.forEach((h,m)=>{const v=a.K_.get(h);if(!v)return;a.K_.set(h,v.withResumeToken(tn.EMPTY_BYTE_STRING,v.snapshotVersion)),ib(a,h);const g=new zi(v.target,h,m,v.sequenceNumber);Eg(a,g)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(r){ke(zo,"Failed to raise snapshot:",r),await $c(n,r)}}async function $c(n,e,t){if(!aa(e))throw e;n.W_.add(1),await Ul(n),n.j_.set("Offline"),t||(t=()=>eb(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ke(zo,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await df(n)})}function sb(n,e){return e().catch(t=>$c(n,t,e))}async function pf(n){const e=He(n),t=eo(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:ig;for(;GN(e);)try{const o=await CN(e.localStore,r);if(o===null){e.U_.length===0&&t.P_();break}r=o.batchId,QN(e,o)}catch(o){await $c(e,o)}ab(e)&&lb(e)}function GN(n){return Ko(n)&&n.U_.length<10}function QN(n,e){n.U_.push(e);const t=eo(n);t.c_()&&t.S_&&t.b_(e.mutations)}function ab(n){return Ko(n)&&!eo(n).u_()&&n.U_.length>0}function lb(n){eo(n).start()}async function XN(n){eo(n).C_()}async function YN(n){const e=eo(n);for(const t of n.U_)e.b_(t.mutations)}async function JN(n,e,t){const r=n.U_.shift(),o=hg.from(r,e,t);await sb(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await pf(n)}async function ZN(n,e){e&&eo(n).S_&&await async function(r,o){if(function(u){return Lx(u)&&u!==Ee.ABORTED}(o.code)){const a=r.U_.shift();eo(r).h_(),await sb(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await pf(r)}}(n,e),ab(n)&&lb(n)}async function bE(n,e){const t=He(n);t.asyncQueue.verifyOperationInProgress(),ke(zo,"RemoteStore received new credentials");const r=Ko(t);t.W_.add(3),await Ul(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await df(t)}async function e2(n,e){const t=He(n);e?(t.W_.delete(2),await df(t)):e||(t.W_.add(2),await Ul(t),t.j_.set("Unknown"))}function la(n){return n.J_||(n.J_=function(t,r,o){const a=He(t);return a.M_(),new VN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:$N.bind(null,n),No:HN.bind(null,n),Lo:WN.bind(null,n),p_:KN.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Tg(n)?wg(n):n.j_.set("Unknown")):(await n.J_.stop(),ob(n))})),n.J_}function eo(n){return n.Y_||(n.Y_=function(t,r,o){const a=He(t);return a.M_(),new UN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:XN.bind(null,n),Lo:ZN.bind(null,n),D_:YN.bind(null,n),v_:JN.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await pf(n)):(await n.Y_.stop(),n.U_.length>0&&(ke(zo,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,f=new bg(e,t,u,o,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sg(n,e){if(ai("AsyncQueue",`${e}: ${n}`),aa(n))return new Ne(Ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{static emptySet(e){return new Hs(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||je.comparator(t.key,r.key):(t,r)=>je.comparator(t.key,r.key),this.keyedMap=sl(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Hs)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Hs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.Z_=new At(je.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ue():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Js{constructor(e,t,r,o,a,u,f,h,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new Js(e,t,Hs.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class n2{constructor(){this.queries=AE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const o=He(t),a=o.queries;o.queries=AE(),a.forEach((u,f)=>{for(const h of f.ta)h.onError(r)})})(this,new Ne(Ee.ABORTED,"Firestore shutting down"))}}function AE(){return new Wo(n=>CT(n),af)}async function ub(n,e){const t=He(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.na()&&e.ra()&&(r=2):(a=new t2,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await t.onListen(o,!0);break;case 1:a.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const f=Sg(u,`Initialization of query '${Vs(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&Ag(t)}async function cb(n,e){const t=He(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.ta.indexOf(e);u>=0&&(a.ta.splice(u,1),a.ta.length===0?o=e.ra()?0:1:!a.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function r2(n,e){const t=He(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const f of u.ta)f.oa(o)&&(r=!0);u.ea=o}}r&&Ag(t)}function i2(n,e,t){const r=He(n),o=r.queries.get(e);if(o)for(const a of o.ta)a.onError(t);r.queries.delete(e)}function Ag(n){n.ia.forEach(e=>{e.next()})}var Rm,IE;(IE=Rm||(Rm={}))._a="default",IE.Cache="cache";class fb{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Js(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Js.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Rm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.key=e}}class db{constructor(e){this.key=e}}class o2{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Je(),this.mutatedKeys=Je(),this.ya=PT(e),this.wa=new Hs(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new SE,o=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,f=!1;const h=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,g)=>{const d=o.get(v),y=lf(this.query,g)?g:null,b=!!d&&this.mutatedKeys.has(d.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let _=!1;d&&y?d.data.isEqual(y.data)?b!==w&&(r.track({type:3,doc:y}),_=!0):this.va(d,y)||(r.track({type:2,doc:y}),_=!0,(h&&this.ya(y,h)>0||m&&this.ya(y,m)<0)&&(f=!0)):!d&&y?(r.track({type:0,doc:y}),_=!0):d&&!y&&(r.track({type:1,doc:d}),_=!0,(h||m)&&(f=!0)),_&&(y?(u=u.add(y),a=w?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{wa:u,Da:r,ls:f,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((v,g)=>function(y,b){const w=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue()}};return w(y)-w(b)}(v.type,g.type)||this.ya(v.doc,g.doc)),this.Ca(r),o=o!=null&&o;const f=t&&!o?this.Fa():[],h=this.pa.size===0&&this.current&&!o?1:0,m=h!==this.ga;return this.ga=h,u.length!==0||m?{snapshot:new Js(this.query,e.wa,a,u,e.mutatedKeys,h===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new SE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Je(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new db(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new hb(r))}),t}Oa(e){this.fa=e.gs,this.pa=Je();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Js.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ig="SyncEngine";class s2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class a2{constructor(e){this.key=e,this.Ba=!1}}class l2{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Wo(f=>CT(f),af),this.qa=new Map,this.Qa=new Set,this.$a=new At(je.comparator),this.Ua=new Map,this.Ka=new mg,this.Wa={},this.Ga=new Map,this.za=Ys.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function u2(n,e,t=!0){const r=_b(n);let o;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Na()):o=await pb(r,e,t,!0),o}async function c2(n,e){const t=_b(n);await pb(t,e,!0,!1)}async function pb(n,e,t,r){const o=await PN(n.localStore,Pr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let f;return r&&(f=await f2(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&rb(n.remoteStore,o),f}async function f2(n,e,t,r,o){n.Ha=(g,d,y)=>async function(w,_,E,T){let k=_.view.ba(E);k.ls&&(k=await vE(w.localStore,_.query,!1).then(({documents:O})=>_.view.ba(O,k)));const S=T&&T.targetChanges.get(_.targetId),L=T&&T.targetMismatches.get(_.targetId)!=null,U=_.view.applyChanges(k,w.isPrimaryClient,S,L);return kE(w,_.targetId,U.Ma),U.snapshot}(n,g,d,y);const a=await vE(n.localStore,e,!0),u=new o2(e,a.gs),f=u.ba(a.documents),h=Vl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=u.applyChanges(f,n.isPrimaryClient,h);kE(n,t,m.Ma);const v=new s2(e,t,u);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),m.snapshot}async function h2(n,e,t){const r=He(n),o=r.ka.get(e),a=r.qa.get(o.targetId);if(a.length>1)return r.qa.set(o.targetId,a.filter(u=>!af(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Am(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&_g(r.remoteStore,o.targetId),km(r,o.targetId)}).catch(sa)):(km(r,o.targetId),await Am(r.localStore,o.targetId,!0))}async function d2(n,e){const t=He(n),r=t.ka.get(e),o=t.qa.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),_g(t.remoteStore,r.targetId))}async function p2(n,e,t){const r=w2(n);try{const o=await function(u,f){const h=He(u),m=Ut.now(),v=f.reduce((y,b)=>y.add(b.key),Je());let g,d;return h.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=li(),w=Je();return h.ds.getEntries(y,v).next(_=>{b=_,b.forEach((E,T)=>{T.isValidDocument()||(w=w.add(E))})}).next(()=>h.localDocuments.getOverlayedDocuments(y,b)).next(_=>{g=_;const E=[];for(const T of f){const k=Px(T,g.get(T.key).overlayedDocument);k!=null&&E.push(new io(T.key,k,TT(k.value.mapValue),fr.exists(!0)))}return h.mutationQueue.addMutationBatch(y,m,E,f)}).next(_=>{d=_;const E=_.applyToLocalDocumentSet(g,w);return h.documentOverlayCache.saveOverlays(y,_.batchId,E)})}).then(()=>({batchId:d.batchId,changes:xT(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,f,h){let m=u.Wa[u.currentUser.toKey()];m||(m=new At(Ge)),m=m.insert(f,h),u.Wa[u.currentUser.toKey()]=m}(r,o.batchId,t),await Fl(r,o.changes),await pf(r.remoteStore)}catch(o){const a=Sg(o,"Failed to persist write");t.reject(a)}}async function mb(n,e){const t=He(n);try{const r=await RN(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Ua.get(a);u&&(lt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Ba=!0:o.modifiedDocuments.size>0?lt(u.Ba):o.removedDocuments.size>0&&(lt(u.Ba),u.Ba=!1))}),await Fl(t,r,e)}catch(r){await sa(r)}}function RE(n,e,t){const r=He(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.ka.forEach((a,u)=>{const f=u.view.sa(e);f.snapshot&&o.push(f.snapshot)}),function(u,f){const h=He(u);h.onlineState=f;let m=!1;h.queries.forEach((v,g)=>{for(const d of g.ta)d.sa(f)&&(m=!0)}),m&&Ag(h)}(r.eventManager,e),o.length&&r.La.p_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function m2(n,e,t){const r=He(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Ua.get(e),a=o&&o.key;if(a){let u=new At(je.comparator);u=u.insert(a,cn.newNoDocument(a,$e.min()));const f=Je().add(a),h=new ff($e.min(),new Map,new At(Ge),u,f);await mb(r,h),r.$a=r.$a.remove(a),r.Ua.delete(e),Rg(r)}else await Am(r.localStore,e,!1).then(()=>km(r,e,t)).catch(sa)}async function g2(n,e){const t=He(n),r=e.batch.batchId;try{const o=await IN(t.localStore,e);yb(t,r,null),gb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Fl(t,o)}catch(o){await sa(o)}}async function y2(n,e,t){const r=He(n);try{const o=await function(u,f){const h=He(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return h.mutationQueue.lookupMutationBatch(m,f).next(g=>(lt(g!==null),v=g.keys(),h.mutationQueue.removeMutationBatch(m,g))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,v,f)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>h.localDocuments.getDocuments(m,v))})}(r.localStore,e);yb(r,e,t),gb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Fl(r,o)}catch(o){await sa(o)}}function gb(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function yb(n,e,t){const r=He(n);let o=r.Wa[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Wa[r.currentUser.toKey()]=o}}function km(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||vb(n,r)})}function vb(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(_g(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),Rg(n))}function kE(n,e,t){for(const r of t)r instanceof hb?(n.Ka.addReference(r.key,e),v2(n,r)):r instanceof db?(ke(Ig,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||vb(n,r.key)):Ue()}function v2(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(ke(Ig,"New document in limbo: "+t),n.Qa.add(r),Rg(n))}function Rg(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new je(wt.fromString(e)),r=n.za.next();n.Ua.set(r,new a2(t)),n.$a=n.$a.insert(t,r),rb(n.remoteStore,new zi(Pr(ug(t.path)),r,"TargetPurposeLimboResolution",nf.ae))}}async function Fl(n,e,t){const r=He(n),o=[],a=[],u=[];r.ka.isEmpty()||(r.ka.forEach((f,h)=>{u.push(r.Ha(h,e,t).then(m=>{var v;if((m||t)&&r.isPrimaryClient){const g=m?!m.fromCache:(v=t==null?void 0:t.targetChanges.get(h.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(m){o.push(m);const g=yg.Yi(h.targetId,m);a.push(g)}}))}),await Promise.all(u),r.La.p_(o),await async function(h,m){const v=He(h);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>ge.forEach(m,d=>ge.forEach(d.Hi,y=>v.persistence.referenceDelegate.addReference(g,d.targetId,y)).next(()=>ge.forEach(d.Ji,y=>v.persistence.referenceDelegate.removeReference(g,d.targetId,y)))))}catch(g){if(!aa(g))throw g;ke(vg,"Failed to update sequence numbers: "+g)}for(const g of m){const d=g.targetId;if(!g.fromCache){const y=v.Ts.get(d),b=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(b);v.Ts=v.Ts.insert(d,w)}}}(r.localStore,a))}async function _2(n,e){const t=He(n);if(!t.currentUser.isEqual(e)){ke(Ig,"User change. New user:",e.toKey());const r=await ZT(t.localStore,e);t.currentUser=e,function(a,u){a.Ga.forEach(f=>{f.forEach(h=>{h.reject(new Ne(Ee.CANCELLED,u))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fl(t,r.Rs)}}function E2(n,e){const t=He(n),r=t.Ua.get(e);if(r&&r.Ba)return Je().add(r.key);{let o=Je();const a=t.qa.get(e);if(!a)return o;for(const u of a){const f=t.ka.get(u);o=o.unionWith(f.view.Sa)}return o}}function _b(n){const e=He(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=mb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=E2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=m2.bind(null,e),e.La.p_=r2.bind(null,e.eventManager),e.La.Ja=i2.bind(null,e.eventManager),e}function w2(n){const e=He(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=g2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=y2.bind(null,e),e}class Hc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return AN(this.persistence,new TN,e.initialUser,this.serializer)}Xa(e){return new JT(gg.ri,this.serializer)}Za(e){return new xN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hc.provider={build:()=>new Hc};class T2 extends Hc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){lt(this.persistence.referenceDelegate instanceof zc);const r=this.persistence.referenceDelegate.garbageCollector;return new aN(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new JT(r=>zc.ri(r,t),this.serializer)}}class Cm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_2.bind(null,this.syncEngine),await e2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new n2}()}createDatastore(e){const t=hf(e.databaseInfo.databaseId),r=function(a){return new jN(a)}(e.databaseInfo);return function(a,u,f,h){return new qN(a,u,f,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,a,u,f){return new zN(r,o,a,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>RE(this.syncEngine,t,0),function(){return wE.D()?new wE:new NN}())}createSyncEngine(e,t){return function(o,a,u,f,h,m,v){const g=new l2(o,a,u,f,h,m);return v&&(g.ja=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=He(o);ke(zo,"RemoteStore shutting down."),a.W_.add(5),await Ul(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Cm.provider={build:()=>new Cm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="FirestoreClient";class b2{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=un.UNAUTHENTICATED,this.clientId=fT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{ke(to,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ke(to,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Sg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function _d(n,e){n.asyncQueue.verifyOperationInProgress(),ke(to,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await ZT(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function CE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await S2(n);ke(to,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>bE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>bE(e.remoteStore,o)),n._onlineComponents=e}async function S2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ke(to,"Using user provided OfflineComponentProvider");try{await _d(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Ee.FAILED_PRECONDITION||o.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Ks("Error using user provided cache. Falling back to memory cache: "+t),await _d(n,new Hc)}}else ke(to,"Using default OfflineComponentProvider"),await _d(n,new T2(void 0));return n._offlineComponents}async function wb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ke(to,"Using user provided OnlineComponentProvider"),await CE(n,n._uninitializedComponentsProvider._online)):(ke(to,"Using default OnlineComponentProvider"),await CE(n,new Cm))),n._onlineComponents}function A2(n){return wb(n).then(e=>e.syncEngine)}async function Tb(n){const e=await wb(n),t=e.eventManager;return t.onListen=u2.bind(null,e.syncEngine),t.onUnlisten=h2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=c2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=d2.bind(null,e.syncEngine),t}function I2(n,e,t={}){const r=new ri;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,h,m){const v=new Eb({next:d=>{v.su(),u.enqueueAndForget(()=>cb(a,g));const y=d.docs.has(f);!y&&d.fromCache?m.reject(new Ne(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&d.fromCache&&h&&h.source==="server"?m.reject(new Ne(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(d)},error:d=>m.reject(d)}),g=new fb(ug(f.path),v,{includeMetadataChanges:!0,Ta:!0});return ub(a,g)}(await Tb(n),n.asyncQueue,e,t,r)),r.promise}function R2(n,e,t={}){const r=new ri;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,h,m){const v=new Eb({next:d=>{v.su(),u.enqueueAndForget(()=>cb(a,g)),d.fromCache&&h.source==="server"?m.reject(new Ne(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(d)},error:d=>m.reject(d)}),g=new fb(f,v,{includeMetadataChanges:!0,Ta:!0});return ub(a,g)}(await Tb(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(n,e,t){if(!t)throw new Ne(Ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function k2(n,e,t,r){if(e===!0&&r===!0)throw new Ne(Ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function OE(n){if(!je.isDocumentKey(n))throw new Ne(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xE(n){if(je.isDocumentKey(n))throw new Ne(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ue()}function ui(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kg(n);throw new Ne(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="firestore.googleapis.com",NE=!0;class DE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ab,this.ssl=NE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:NE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oN)throw new Ne(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ne(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ne(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ne(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mf{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new MO;switch(r.type){case"firstParty":return new FO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=PE.get(t);r&&(ke("ComponentProvider","Removing Datastore"),PE.delete(t),r.terminate())}(this),Promise.resolve()}}function C2(n,e,t,r={}){var o;const a=(n=ui(n,mf))._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;a.host!==Ab&&a.host!==f&&Ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:f,ssl:!1,emulatorOptions:r});if(!Vo(h,u)&&(n._setSettings(h),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=un.MOCK_USER;else{m=Zw(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ne(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new un(g)}n._authCredentials=new jO(new uT(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gf(this.firestore,e,this._query)}}class jn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}}class Ki extends gf{constructor(e,t,r){super(e,t,ug(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new je(e))}withConverter(e){return new Ki(this.firestore,e,this._path)}}function yf(n,e,...t){if(n=Kt(n),Sb("collection","path",e),n instanceof mf){const r=wt.fromString(e,...t);return xE(r),new Ki(n,null,r)}{if(!(n instanceof jn||n instanceof Ki))throw new Ne(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(wt.fromString(e,...t));return xE(r),new Ki(n.firestore,null,r)}}function ql(n,e,...t){if(n=Kt(n),arguments.length===1&&(e=fT.newId()),Sb("doc","path",e),n instanceof mf){const r=wt.fromString(e,...t);return OE(r),new jn(n,null,new je(r))}{if(!(n instanceof jn||n instanceof Ki))throw new Ne(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(wt.fromString(e,...t));return OE(r),new jn(n.firestore,n instanceof Ki?n.converter:null,new je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="AsyncQueue";class ME{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new tb(this,"async_queue_retry"),this.Su=()=>{const r=vd();r&&ke(LE,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=vd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=vd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ri;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!aa(e))throw e;ke(LE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const o=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(r);throw ai("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=bg.createAndSchedule(this,e,t,r,a=>this.Fu(a));return this.fu.push(o),o}Du(){this.gu&&Ue()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class ua extends mf{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new ME,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ME(e),this._firestoreClient=void 0,await e}}}function P2(n,e){const t=typeof n=="object"?n:Fm(),r=typeof n=="string"?n:Mc,o=Jc(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=Xw("firestore");a&&C2(o,...a)}return o}function Cg(n){if(n._terminated)throw new Ne(Ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||O2(n),n._firestoreClient}function O2(n){var e,t,r;const o=n._freezeSettings(),a=function(f,h,m,v){return new tx(f,h,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,bb(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new b2(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(f){const h=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zs(tn.fromBase64String(e))}catch(t){throw new Ne(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zs(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ne(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=/^__.*__$/;class N2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new io(e,this.data,this.fieldMask,t,this.fieldTransforms):new jl(e,this.data,t,this.fieldTransforms)}}class Ib{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new io(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Rb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue()}}class Ng{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Ng(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:r,Qu:!1});return o.$u(e),o}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:r,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Wc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Rb(this.Lu)&&x2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class D2{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||hf(e)}ju(e,t,r,o=!1){return new Ng({Lu:e,methodName:t,zu:r,path:en.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kb(n){const e=n._freezeSettings(),t=hf(n._databaseId);return new D2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function L2(n,e,t,r,o,a={}){const u=n.ju(a.merge||a.mergeFields?2:0,e,t,o);Dg("Data must be an object, but it was:",u,r);const f=Cb(r,u);let h,m;if(a.merge)h=new Mn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const g of a.mergeFields){const d=Pm(e,g,t);if(!u.contains(d))throw new Ne(Ee.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Ob(v,d)||v.push(d)}h=new Mn(v),m=u.fieldTransforms.filter(g=>h.covers(g.field))}else h=null,m=u.fieldTransforms;return new N2(new Rn(f),h,m)}class _f extends Pg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _f}}function M2(n,e,t,r){const o=n.ju(1,e,t);Dg("Data must be an object, but it was:",o,r);const a=[],u=Rn.empty();ro(r,(h,m)=>{const v=Lg(e,h,t);m=Kt(m);const g=o.Uu(v);if(m instanceof _f)a.push(v);else{const d=Ef(m,g);d!=null&&(a.push(v),u.set(v,d))}});const f=new Mn(a);return new Ib(u,f,o.fieldTransforms)}function j2(n,e,t,r,o,a){const u=n.ju(1,e,t),f=[Pm(e,r,t)],h=[o];if(a.length%2!=0)throw new Ne(Ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<a.length;d+=2)f.push(Pm(e,a[d])),h.push(a[d+1]);const m=[],v=Rn.empty();for(let d=f.length-1;d>=0;--d)if(!Ob(m,f[d])){const y=f[d];let b=h[d];b=Kt(b);const w=u.Uu(y);if(b instanceof _f)m.push(y);else{const _=Ef(b,w);_!=null&&(m.push(y),v.set(y,_))}}const g=new Mn(m);return new Ib(v,g,u.fieldTransforms)}function Ef(n,e){if(Pb(n=Kt(n)))return Dg("Unsupported field value:",e,n),Cb(n,e);if(n instanceof Pg)return function(r,o){if(!Rb(o.Lu))throw o.Wu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,o){const a=[];let u=0;for(const f of r){let h=Ef(f,o.Ku(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,o){if((r=Kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Sx(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ut.fromDate(r);return{timestampValue:Bc(o.serializer,a)}}if(r instanceof Ut){const a=new Ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bc(o.serializer,a)}}if(r instanceof Og)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zs)return{bytesValue:$T(o.serializer,r._byteString)};if(r instanceof jn){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:pg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof xg)return function(u,f){return{mapValue:{fields:{[_T]:{stringValue:wT},[jc]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw f.Wu("VectorValues must only contain numeric values.");return cg(f.serializer,m)})}}}}}}(r,o);throw o.Wu(`Unsupported field value: ${kg(r)}`)}(n,e)}function Cb(n,e){const t={};return dT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ro(n,(r,o)=>{const a=Ef(o,e.qu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function Pb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ut||n instanceof Og||n instanceof Zs||n instanceof jn||n instanceof Pg||n instanceof xg)}function Dg(n,e,t){if(!Pb(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const r=kg(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function Pm(n,e,t){if((e=Kt(e))instanceof vf)return e._internalPath;if(typeof e=="string")return Lg(n,e);throw Wc("Field path arguments must be of type string or ",n,!1,void 0,t)}const V2=new RegExp("[~\\*/\\[\\]]");function Lg(n,e,t){if(e.search(V2)>=0)throw Wc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new vf(...e.split("."))._internalPath}catch{throw Wc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Wc(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${r}`),u&&(h+=` in document ${o}`),h+=")"),new Ne(Ee.INVALID_ARGUMENT,f+n+h)}function Ob(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new U2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Nb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class U2 extends xb{data(){return super.data()}}function Nb(n,e){return typeof e=="string"?Lg(n,e):e instanceof vf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ne(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q2{convertValue(e,t="none"){switch(Zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ro(e,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,o;const a=(o=(r=(t=e.fields)===null||t===void 0?void 0:t[jc].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(u=>Pt(u.doubleValue));return new xg(a)}convertGeoPoint(e){return new Og(Pt(e.latitude),Pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=of(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(wl(e));default:return null}}convertTimestamp(e){const t=Yi(e);return new Ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=wt.fromString(e);lt(XT(r));const o=new Tl(r.get(1),r.get(3)),a=new je(r.popFirst(5));return o.isEqual(t)||ai(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Db extends xb{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Nb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Sc extends Db{data(e={}){return super.data(e)}}class z2{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ll(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Sc(this._firestore,this._userDataWriter,r.key,r,new ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(f=>{const h=new Sc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ll(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const h=new Sc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ll(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return f.type!==0&&(m=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:$2(f.type),doc:h,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function $2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(n){n=ui(n,jn);const e=ui(n.firestore,ua);return I2(Cg(e),n._key).then(t=>G2(e,n,t))}class Lb extends q2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,t)}}function Mg(n){n=ui(n,gf);const e=ui(n.firestore,ua),t=Cg(e),r=new Lb(e);return F2(n._query),R2(t,n._query).then(o=>new z2(e,r,n,o))}function Mb(n,e,t,...r){n=ui(n,jn);const o=ui(n.firestore,ua),a=kb(o);let u;return u=typeof(e=Kt(e))=="string"||e instanceof vf?j2(a,"updateDoc",n._key,e,t,r):M2(a,"updateDoc",n._key,e),jg(o,[u.toMutation(n._key,fr.exists(!0))])}function W2(n){return jg(ui(n.firestore,ua),[new fg(n._key,fr.none())])}function K2(n,e){const t=ui(n.firestore,ua),r=ql(n),o=B2(n.converter,e);return jg(t,[L2(kb(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,fr.exists(!1))]).then(()=>r)}function jg(n,e){return function(r,o){const a=new ri;return r.asyncQueue.enqueueAndForget(async()=>p2(await A2(r),o,a)),a.promise}(Cg(n),e)}function G2(n,e,t){const r=t.docs.get(e._key),o=new Lb(n);return new Db(n,o,e._key,r,new ll(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){oa=o})(Ho),Uo(new Qi("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),f=new ua(new VO(r.getProvider("auth-internal")),new qO(u,r.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ne(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tl(m.options.projectId,v)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),Rr(B_,z_,e),Rr(B_,z_,"esm2017")})();const no=P2(ng);async function jb(n){const e=yf(no,n),t=await Mg(e);let r=[];return t.forEach(o=>{r.push({...o.data(),id:o.id})}),r}async function Vb(n,e){const t=yf(no,n);return(await K2(t,e)).id}async function Q2(n,e,t){const r=ql(no,n,e);return await Mb(r,t),`Document with ID ${e} updated successfully.`}async function Ub(n,e){const t=ql(no,n,e),r=await H2(t);if(r.exists())return{...r.data(),id:r.id};throw new Error(`No document found with ID ${e} in collection ${n}`)}async function X2(n,e,t){const r=yf(no,n),o=await Mg(r);let a=null;if(o.forEach(u=>{u.data()[e]===t&&(a={...u.data(),id:u.id})}),a)return a;throw new Error(`No document found in collection ${n} with ${e} equal to ${t}`)}async function Y2(n,e){const t=ql(no,n,e);return await W2(t),`Document with ID ${e} deleted successfully from collection ${n}.`}async function J2(n,e,t,r){const o=yf(no,n),a=await Mg(o);let u=null;if(a.forEach(f=>{f.data()[e]===t&&(u=f.id)}),u){const f=ql(no,n,u);return await Mb(f,r),`Document with ${e} equal to ${t} updated successfully.`}else throw new Error(`No document found in collection ${n} with ${e} equal to ${t}`)}const Z2=(n,e,t,r)=>new Promise((o,a)=>{if(!n)return a("Nenhum arquivo selecionado.");const u=`dishes/${n.name}`,f=CO(LO,u),h=RO(f,n);h.on("state_changed",m=>{const v=m.bytesTransferred/m.totalBytes*100;e(v)},m=>{console.error(m),a(m)},async()=>{try{const m=await kO(h.snapshot.ref);t(m),r(v=>({...v,images:[...v.images||[],m]})),o(m)}catch(m){a(m)}})}),eD=()=>{const[n,e]=de.useState([]),t=kl(),{login:r}=de.useContext(ci);de.useEffect(()=>{o()},[]),de.useEffect(()=>{o()},[r]);const o=async()=>{const u=await jb("products");if(console.log("produtos com id  ",u),u&&u.length>0)if(r)e(u);else{const f=u.filter(h=>h.adApproved===!0);e(f);return}},a=u=>{console.log("Qual é oproduto   ",u),t(`/singleProduct/${u}`)};return K.jsxs("div",{className:Li.showcaseContainer,children:[K.jsx("h1",{children:"Vitrine de Produtos"}),K.jsx("div",{className:Li.scrollContainer,children:n.length>0?K.jsx("div",{className:Li.productsGrid,children:n.map((u,f)=>K.jsxs("div",{className:Li.productCard,onClick:()=>a(u.id),children:[K.jsx("div",{className:Li.imageContainer,children:K.jsx("img",{src:u.images[0],alt:`Produto ${f+1}`,className:Li.productImage})}),K.jsx("h3",{className:Li.title,children:u.title}),K.jsxs("h3",{className:Li.price,children:["R$ ",u.price,",00"]})]},f))}):K.jsx("p",{children:"Nenhum produto encontrado no localStorage."})})]})},tD="_productFormContainer_ukg38_3",nD="_formContainer_ukg38_3",rD="_formRow_ukg38_8",iD="_formGroup_ukg38_11",oD="_formTextareaColumn_ukg38_15",sD="_textareaColumn_ukg38_18",aD="_linkAddImgContainer_ukg38_22",lD="_linkField_ukg38_26",uD="_btn_ukg38_26",cD="_containerImages_ukg38_30",fD="_btnContainer_ukg38_33",hD="_imagePreview_ukg38_62",dD="_textField_ukg38_97",pD="_imageItem_ukg38_155",at={productFormContainer:tD,formContainer:nD,formRow:rD,formGroup:iD,formTextareaColumn:oD,textareaColumn:sD,linkAddImgContainer:aD,linkField:lD,btn:uD,containerImages:cD,btnContainer:fD,imagePreview:hD,textField:dD,imageItem:pD},mD="_container_if0ca_1",gD="_geralContainerConfirmMessage_if0ca_18",yD="_containerBtn_if0ca_24",vD="_containerCpf_if0ca_31",_D="_submitCpfBtn_if0ca_40",ED="_register_if0ca_67",Ar={container:mD,geralContainerConfirmMessage:gD,containerBtn:yD,containerCpf:vD,submitCpfBtn:_D,register:ED};var Ed={exports:{}},wd,jE;function wD(){if(jE)return wd;jE=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return wd=n,wd}var Td,VE;function TD(){if(VE)return Td;VE=1;var n=wD();function e(){}function t(){}return t.resetWarningCache=e,Td=function(){function r(u,f,h,m,v,g){if(g!==n){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}r.isRequired=r;function o(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Td}var UE;function bD(){return UE||(UE=1,Ed.exports=TD()()),Ed.exports}var SD=bD();const Wt=xm(SD),Om=({setCloseMessage:n,defaultMessage:e,goOn:t})=>K.jsx("div",{className:Ar.container,children:K.jsxs("div",{className:Ar.geralContainerConfirmMessage,children:[K.jsxs("div",{children:[" ",K.jsx("h1",{children:e})]}),K.jsxs("div",{className:Ar.containerBtn,children:[K.jsx("button",{onClick:t,children:"Sim"}),K.jsx("button",{onClick:()=>n(!1),children:"Não"})]})]})});Om.propTypes={setCloseMessage:Wt.func.isRequired,defaultMessage:Wt.string.isRequired,goOn:Wt.func.isRequired};const AD="_container_l88h6_1",ID="_messageBox_l88h6_13",FE={container:AD,messageBox:ID},ea=({message:n,setClose:e,setCloseMessage:t,adress:r})=>{const o=kl();return et.useEffect(()=>{const a=setTimeout(()=>{e&&e(!1),t&&t(!1),r&&o(r)},4e3);return()=>clearTimeout(a)},[o]),K.jsx("div",{className:FE.container,children:K.jsx("div",{className:FE.messageBox,children:n})})};ea.propTypes={message:Wt.string.isRequired,adress:Wt.string,setCloseMessage:Wt.func,setClose:Wt.func.isRequired};var bd,qE;function RD(){if(qE)return bd;qE=1;function n(){this.__data__=[],this.size=0}return bd=n,bd}var Sd,BE;function Fb(){if(BE)return Sd;BE=1;function n(e,t){return e===t||e!==e&&t!==t}return Sd=n,Sd}var Ad,zE;function wf(){if(zE)return Ad;zE=1;var n=Fb();function e(t,r){for(var o=t.length;o--;)if(n(t[o][0],r))return o;return-1}return Ad=e,Ad}var Id,$E;function kD(){if($E)return Id;$E=1;var n=wf(),e=Array.prototype,t=e.splice;function r(o){var a=this.__data__,u=n(a,o);if(u<0)return!1;var f=a.length-1;return u==f?a.pop():t.call(a,u,1),--this.size,!0}return Id=r,Id}var Rd,HE;function CD(){if(HE)return Rd;HE=1;var n=wf();function e(t){var r=this.__data__,o=n(r,t);return o<0?void 0:r[o][1]}return Rd=e,Rd}var kd,WE;function PD(){if(WE)return kd;WE=1;var n=wf();function e(t){return n(this.__data__,t)>-1}return kd=e,kd}var Cd,KE;function OD(){if(KE)return Cd;KE=1;var n=wf();function e(t,r){var o=this.__data__,a=n(o,t);return a<0?(++this.size,o.push([t,r])):o[a][1]=r,this}return Cd=e,Cd}var Pd,GE;function Tf(){if(GE)return Pd;GE=1;var n=RD(),e=kD(),t=CD(),r=PD(),o=OD();function a(u){var f=-1,h=u==null?0:u.length;for(this.clear();++f<h;){var m=u[f];this.set(m[0],m[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,Pd=a,Pd}var Od,QE;function xD(){if(QE)return Od;QE=1;var n=Tf();function e(){this.__data__=new n,this.size=0}return Od=e,Od}var xd,XE;function ND(){if(XE)return xd;XE=1;function n(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}return xd=n,xd}var Nd,YE;function DD(){if(YE)return Nd;YE=1;function n(e){return this.__data__.get(e)}return Nd=n,Nd}var Dd,JE;function LD(){if(JE)return Dd;JE=1;function n(e){return this.__data__.has(e)}return Dd=n,Dd}var Ld,ZE;function qb(){if(ZE)return Ld;ZE=1;var n=typeof nc=="object"&&nc&&nc.Object===Object&&nc;return Ld=n,Ld}var Md,e1;function fi(){if(e1)return Md;e1=1;var n=qb(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return Md=t,Md}var jd,t1;function Vg(){if(t1)return jd;t1=1;var n=fi(),e=n.Symbol;return jd=e,jd}var Vd,n1;function MD(){if(n1)return Vd;n1=1;var n=Vg(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,o=n?n.toStringTag:void 0;function a(u){var f=t.call(u,o),h=u[o];try{u[o]=void 0;var m=!0}catch{}var v=r.call(u);return m&&(f?u[o]=h:delete u[o]),v}return Vd=a,Vd}var Ud,r1;function jD(){if(r1)return Ud;r1=1;var n=Object.prototype,e=n.toString;function t(r){return e.call(r)}return Ud=t,Ud}var Fd,i1;function bf(){if(i1)return Fd;i1=1;var n=Vg(),e=MD(),t=jD(),r="[object Null]",o="[object Undefined]",a=n?n.toStringTag:void 0;function u(f){return f==null?f===void 0?o:r:a&&a in Object(f)?e(f):t(f)}return Fd=u,Fd}var qd,o1;function Bb(){if(o1)return qd;o1=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return qd=n,qd}var Bd,s1;function zb(){if(s1)return Bd;s1=1;var n=bf(),e=Bb(),t="[object AsyncFunction]",r="[object Function]",o="[object GeneratorFunction]",a="[object Proxy]";function u(f){if(!e(f))return!1;var h=n(f);return h==r||h==o||h==t||h==a}return Bd=u,Bd}var zd,a1;function VD(){if(a1)return zd;a1=1;var n=fi(),e=n["__core-js_shared__"];return zd=e,zd}var $d,l1;function UD(){if(l1)return $d;l1=1;var n=VD(),e=function(){var r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function t(r){return!!e&&e in r}return $d=t,$d}var Hd,u1;function $b(){if(u1)return Hd;u1=1;var n=Function.prototype,e=n.toString;function t(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Hd=t,Hd}var Wd,c1;function FD(){if(c1)return Wd;c1=1;var n=zb(),e=UD(),t=Bb(),r=$b(),o=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,u=Function.prototype,f=Object.prototype,h=u.toString,m=f.hasOwnProperty,v=RegExp("^"+h.call(m).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(d){if(!t(d)||e(d))return!1;var y=n(d)?v:a;return y.test(r(d))}return Wd=g,Wd}var Kd,f1;function qD(){if(f1)return Kd;f1=1;function n(e,t){return e==null?void 0:e[t]}return Kd=n,Kd}var Gd,h1;function ca(){if(h1)return Gd;h1=1;var n=FD(),e=qD();function t(r,o){var a=e(r,o);return n(a)?a:void 0}return Gd=t,Gd}var Qd,d1;function Ug(){if(d1)return Qd;d1=1;var n=ca(),e=fi(),t=n(e,"Map");return Qd=t,Qd}var Xd,p1;function Sf(){if(p1)return Xd;p1=1;var n=ca(),e=n(Object,"create");return Xd=e,Xd}var Yd,m1;function BD(){if(m1)return Yd;m1=1;var n=Sf();function e(){this.__data__=n?n(null):{},this.size=0}return Yd=e,Yd}var Jd,g1;function zD(){if(g1)return Jd;g1=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return Jd=n,Jd}var Zd,y1;function $D(){if(y1)return Zd;y1=1;var n=Sf(),e="__lodash_hash_undefined__",t=Object.prototype,r=t.hasOwnProperty;function o(a){var u=this.__data__;if(n){var f=u[a];return f===e?void 0:f}return r.call(u,a)?u[a]:void 0}return Zd=o,Zd}var ep,v1;function HD(){if(v1)return ep;v1=1;var n=Sf(),e=Object.prototype,t=e.hasOwnProperty;function r(o){var a=this.__data__;return n?a[o]!==void 0:t.call(a,o)}return ep=r,ep}var tp,_1;function WD(){if(_1)return tp;_1=1;var n=Sf(),e="__lodash_hash_undefined__";function t(r,o){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=n&&o===void 0?e:o,this}return tp=t,tp}var np,E1;function KD(){if(E1)return np;E1=1;var n=BD(),e=zD(),t=$D(),r=HD(),o=WD();function a(u){var f=-1,h=u==null?0:u.length;for(this.clear();++f<h;){var m=u[f];this.set(m[0],m[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,np=a,np}var rp,w1;function GD(){if(w1)return rp;w1=1;var n=KD(),e=Tf(),t=Ug();function r(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return rp=r,rp}var ip,T1;function QD(){if(T1)return ip;T1=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return ip=n,ip}var op,b1;function Af(){if(b1)return op;b1=1;var n=QD();function e(t,r){var o=t.__data__;return n(r)?o[typeof r=="string"?"string":"hash"]:o.map}return op=e,op}var sp,S1;function XD(){if(S1)return sp;S1=1;var n=Af();function e(t){var r=n(this,t).delete(t);return this.size-=r?1:0,r}return sp=e,sp}var ap,A1;function YD(){if(A1)return ap;A1=1;var n=Af();function e(t){return n(this,t).get(t)}return ap=e,ap}var lp,I1;function JD(){if(I1)return lp;I1=1;var n=Af();function e(t){return n(this,t).has(t)}return lp=e,lp}var up,R1;function ZD(){if(R1)return up;R1=1;var n=Af();function e(t,r){var o=n(this,t),a=o.size;return o.set(t,r),this.size+=o.size==a?0:1,this}return up=e,up}var cp,k1;function Hb(){if(k1)return cp;k1=1;var n=GD(),e=XD(),t=YD(),r=JD(),o=ZD();function a(u){var f=-1,h=u==null?0:u.length;for(this.clear();++f<h;){var m=u[f];this.set(m[0],m[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,cp=a,cp}var fp,C1;function eL(){if(C1)return fp;C1=1;var n=Tf(),e=Ug(),t=Hb(),r=200;function o(a,u){var f=this.__data__;if(f instanceof n){var h=f.__data__;if(!e||h.length<r-1)return h.push([a,u]),this.size=++f.size,this;f=this.__data__=new t(h)}return f.set(a,u),this.size=f.size,this}return fp=o,fp}var hp,P1;function tL(){if(P1)return hp;P1=1;var n=Tf(),e=xD(),t=ND(),r=DD(),o=LD(),a=eL();function u(f){var h=this.__data__=new n(f);this.size=h.size}return u.prototype.clear=e,u.prototype.delete=t,u.prototype.get=r,u.prototype.has=o,u.prototype.set=a,hp=u,hp}var dp,O1;function nL(){if(O1)return dp;O1=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return dp=e,dp}var pp,x1;function rL(){if(x1)return pp;x1=1;function n(e){return this.__data__.has(e)}return pp=n,pp}var mp,N1;function iL(){if(N1)return mp;N1=1;var n=Hb(),e=nL(),t=rL();function r(o){var a=-1,u=o==null?0:o.length;for(this.__data__=new n;++a<u;)this.add(o[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=t,mp=r,mp}var gp,D1;function oL(){if(D1)return gp;D1=1;function n(e,t){for(var r=-1,o=e==null?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}return gp=n,gp}var yp,L1;function sL(){if(L1)return yp;L1=1;function n(e,t){return e.has(t)}return yp=n,yp}var vp,M1;function Wb(){if(M1)return vp;M1=1;var n=iL(),e=oL(),t=sL(),r=1,o=2;function a(u,f,h,m,v,g){var d=h&r,y=u.length,b=f.length;if(y!=b&&!(d&&b>y))return!1;var w=g.get(u),_=g.get(f);if(w&&_)return w==f&&_==u;var E=-1,T=!0,k=h&o?new n:void 0;for(g.set(u,f),g.set(f,u);++E<y;){var S=u[E],L=f[E];if(m)var U=d?m(L,S,E,f,u,g):m(S,L,E,u,f,g);if(U!==void 0){if(U)continue;T=!1;break}if(k){if(!e(f,function(O,I){if(!t(k,I)&&(S===O||v(S,O,h,m,g)))return k.push(I)})){T=!1;break}}else if(!(S===L||v(S,L,h,m,g))){T=!1;break}}return g.delete(u),g.delete(f),T}return vp=a,vp}var _p,j1;function aL(){if(j1)return _p;j1=1;var n=fi(),e=n.Uint8Array;return _p=e,_p}var Ep,V1;function lL(){if(V1)return Ep;V1=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(o,a){r[++t]=[a,o]}),r}return Ep=n,Ep}var wp,U1;function uL(){if(U1)return wp;U1=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r}return wp=n,wp}var Tp,F1;function cL(){if(F1)return Tp;F1=1;var n=Vg(),e=aL(),t=Fb(),r=Wb(),o=lL(),a=uL(),u=1,f=2,h="[object Boolean]",m="[object Date]",v="[object Error]",g="[object Map]",d="[object Number]",y="[object RegExp]",b="[object Set]",w="[object String]",_="[object Symbol]",E="[object ArrayBuffer]",T="[object DataView]",k=n?n.prototype:void 0,S=k?k.valueOf:void 0;function L(U,O,I,M,N,R,D){switch(I){case T:if(U.byteLength!=O.byteLength||U.byteOffset!=O.byteOffset)return!1;U=U.buffer,O=O.buffer;case E:return!(U.byteLength!=O.byteLength||!R(new e(U),new e(O)));case h:case m:case d:return t(+U,+O);case v:return U.name==O.name&&U.message==O.message;case y:case w:return U==O+"";case g:var C=o;case b:var z=M&u;if(C||(C=a),U.size!=O.size&&!z)return!1;var G=D.get(U);if(G)return G==O;M|=f,D.set(U,O);var re=r(C(U),C(O),M,N,R,D);return D.delete(U),re;case _:if(S)return S.call(U)==S.call(O)}return!1}return Tp=L,Tp}var bp,q1;function fL(){if(q1)return bp;q1=1;function n(e,t){for(var r=-1,o=t.length,a=e.length;++r<o;)e[a+r]=t[r];return e}return bp=n,bp}var Sp,B1;function Fg(){if(B1)return Sp;B1=1;var n=Array.isArray;return Sp=n,Sp}var Ap,z1;function hL(){if(z1)return Ap;z1=1;var n=fL(),e=Fg();function t(r,o,a){var u=o(r);return e(r)?u:n(u,a(r))}return Ap=t,Ap}var Ip,$1;function dL(){if($1)return Ip;$1=1;function n(e,t){for(var r=-1,o=e==null?0:e.length,a=0,u=[];++r<o;){var f=e[r];t(f,r,e)&&(u[a++]=f)}return u}return Ip=n,Ip}var Rp,H1;function pL(){if(H1)return Rp;H1=1;function n(){return[]}return Rp=n,Rp}var kp,W1;function mL(){if(W1)return kp;W1=1;var n=dL(),e=pL(),t=Object.prototype,r=t.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(u){return u==null?[]:(u=Object(u),n(o(u),function(f){return r.call(u,f)}))}:e;return kp=a,kp}var Cp,K1;function gL(){if(K1)return Cp;K1=1;function n(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}return Cp=n,Cp}var Pp,G1;function If(){if(G1)return Pp;G1=1;function n(e){return e!=null&&typeof e=="object"}return Pp=n,Pp}var Op,Q1;function yL(){if(Q1)return Op;Q1=1;var n=bf(),e=If(),t="[object Arguments]";function r(o){return e(o)&&n(o)==t}return Op=r,Op}var xp,X1;function vL(){if(X1)return xp;X1=1;var n=yL(),e=If(),t=Object.prototype,r=t.hasOwnProperty,o=t.propertyIsEnumerable,a=n(function(){return arguments}())?n:function(u){return e(u)&&r.call(u,"callee")&&!o.call(u,"callee")};return xp=a,xp}var ul={exports:{}},Np,Y1;function _L(){if(Y1)return Np;Y1=1;function n(){return!1}return Np=n,Np}ul.exports;var J1;function Kb(){return J1||(J1=1,function(n,e){var t=fi(),r=_L(),o=e&&!e.nodeType&&e,a=o&&!0&&n&&!n.nodeType&&n,u=a&&a.exports===o,f=u?t.Buffer:void 0,h=f?f.isBuffer:void 0,m=h||r;n.exports=m}(ul,ul.exports)),ul.exports}var Dp,Z1;function EL(){if(Z1)return Dp;Z1=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(r,o){var a=typeof r;return o=o??n,!!o&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<o}return Dp=t,Dp}var Lp,ew;function Gb(){if(ew)return Lp;ew=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return Lp=e,Lp}var Mp,tw;function wL(){if(tw)return Mp;tw=1;var n=bf(),e=Gb(),t=If(),r="[object Arguments]",o="[object Array]",a="[object Boolean]",u="[object Date]",f="[object Error]",h="[object Function]",m="[object Map]",v="[object Number]",g="[object Object]",d="[object RegExp]",y="[object Set]",b="[object String]",w="[object WeakMap]",_="[object ArrayBuffer]",E="[object DataView]",T="[object Float32Array]",k="[object Float64Array]",S="[object Int8Array]",L="[object Int16Array]",U="[object Int32Array]",O="[object Uint8Array]",I="[object Uint8ClampedArray]",M="[object Uint16Array]",N="[object Uint32Array]",R={};R[T]=R[k]=R[S]=R[L]=R[U]=R[O]=R[I]=R[M]=R[N]=!0,R[r]=R[o]=R[_]=R[a]=R[E]=R[u]=R[f]=R[h]=R[m]=R[v]=R[g]=R[d]=R[y]=R[b]=R[w]=!1;function D(C){return t(C)&&e(C.length)&&!!R[n(C)]}return Mp=D,Mp}var jp,nw;function TL(){if(nw)return jp;nw=1;function n(e){return function(t){return e(t)}}return jp=n,jp}var cl={exports:{}};cl.exports;var rw;function bL(){return rw||(rw=1,function(n,e){var t=qb(),r=e&&!e.nodeType&&e,o=r&&!0&&n&&!n.nodeType&&n,a=o&&o.exports===r,u=a&&t.process,f=function(){try{var h=o&&o.require&&o.require("util").types;return h||u&&u.binding&&u.binding("util")}catch{}}();n.exports=f}(cl,cl.exports)),cl.exports}var Vp,iw;function Qb(){if(iw)return Vp;iw=1;var n=wL(),e=TL(),t=bL(),r=t&&t.isTypedArray,o=r?e(r):n;return Vp=o,Vp}var Up,ow;function SL(){if(ow)return Up;ow=1;var n=gL(),e=vL(),t=Fg(),r=Kb(),o=EL(),a=Qb(),u=Object.prototype,f=u.hasOwnProperty;function h(m,v){var g=t(m),d=!g&&e(m),y=!g&&!d&&r(m),b=!g&&!d&&!y&&a(m),w=g||d||y||b,_=w?n(m.length,String):[],E=_.length;for(var T in m)(v||f.call(m,T))&&!(w&&(T=="length"||y&&(T=="offset"||T=="parent")||b&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||o(T,E)))&&_.push(T);return _}return Up=h,Up}var Fp,sw;function AL(){if(sw)return Fp;sw=1;var n=Object.prototype;function e(t){var r=t&&t.constructor,o=typeof r=="function"&&r.prototype||n;return t===o}return Fp=e,Fp}var qp,aw;function IL(){if(aw)return qp;aw=1;function n(e,t){return function(r){return e(t(r))}}return qp=n,qp}var Bp,lw;function RL(){if(lw)return Bp;lw=1;var n=IL(),e=n(Object.keys,Object);return Bp=e,Bp}var zp,uw;function kL(){if(uw)return zp;uw=1;var n=AL(),e=RL(),t=Object.prototype,r=t.hasOwnProperty;function o(a){if(!n(a))return e(a);var u=[];for(var f in Object(a))r.call(a,f)&&f!="constructor"&&u.push(f);return u}return zp=o,zp}var $p,cw;function CL(){if(cw)return $p;cw=1;var n=zb(),e=Gb();function t(r){return r!=null&&e(r.length)&&!n(r)}return $p=t,$p}var Hp,fw;function PL(){if(fw)return Hp;fw=1;var n=SL(),e=kL(),t=CL();function r(o){return t(o)?n(o):e(o)}return Hp=r,Hp}var Wp,hw;function OL(){if(hw)return Wp;hw=1;var n=hL(),e=mL(),t=PL();function r(o){return n(o,t,e)}return Wp=r,Wp}var Kp,dw;function xL(){if(dw)return Kp;dw=1;var n=OL(),e=1,t=Object.prototype,r=t.hasOwnProperty;function o(a,u,f,h,m,v){var g=f&e,d=n(a),y=d.length,b=n(u),w=b.length;if(y!=w&&!g)return!1;for(var _=y;_--;){var E=d[_];if(!(g?E in u:r.call(u,E)))return!1}var T=v.get(a),k=v.get(u);if(T&&k)return T==u&&k==a;var S=!0;v.set(a,u),v.set(u,a);for(var L=g;++_<y;){E=d[_];var U=a[E],O=u[E];if(h)var I=g?h(O,U,E,u,a,v):h(U,O,E,a,u,v);if(!(I===void 0?U===O||m(U,O,f,h,v):I)){S=!1;break}L||(L=E=="constructor")}if(S&&!L){var M=a.constructor,N=u.constructor;M!=N&&"constructor"in a&&"constructor"in u&&!(typeof M=="function"&&M instanceof M&&typeof N=="function"&&N instanceof N)&&(S=!1)}return v.delete(a),v.delete(u),S}return Kp=o,Kp}var Gp,pw;function NL(){if(pw)return Gp;pw=1;var n=ca(),e=fi(),t=n(e,"DataView");return Gp=t,Gp}var Qp,mw;function DL(){if(mw)return Qp;mw=1;var n=ca(),e=fi(),t=n(e,"Promise");return Qp=t,Qp}var Xp,gw;function LL(){if(gw)return Xp;gw=1;var n=ca(),e=fi(),t=n(e,"Set");return Xp=t,Xp}var Yp,yw;function ML(){if(yw)return Yp;yw=1;var n=ca(),e=fi(),t=n(e,"WeakMap");return Yp=t,Yp}var Jp,vw;function jL(){if(vw)return Jp;vw=1;var n=NL(),e=Ug(),t=DL(),r=LL(),o=ML(),a=bf(),u=$b(),f="[object Map]",h="[object Object]",m="[object Promise]",v="[object Set]",g="[object WeakMap]",d="[object DataView]",y=u(n),b=u(e),w=u(t),_=u(r),E=u(o),T=a;return(n&&T(new n(new ArrayBuffer(1)))!=d||e&&T(new e)!=f||t&&T(t.resolve())!=m||r&&T(new r)!=v||o&&T(new o)!=g)&&(T=function(k){var S=a(k),L=S==h?k.constructor:void 0,U=L?u(L):"";if(U)switch(U){case y:return d;case b:return f;case w:return m;case _:return v;case E:return g}return S}),Jp=T,Jp}var Zp,_w;function VL(){if(_w)return Zp;_w=1;var n=tL(),e=Wb(),t=cL(),r=xL(),o=jL(),a=Fg(),u=Kb(),f=Qb(),h=1,m="[object Arguments]",v="[object Array]",g="[object Object]",d=Object.prototype,y=d.hasOwnProperty;function b(w,_,E,T,k,S){var L=a(w),U=a(_),O=L?v:o(w),I=U?v:o(_);O=O==m?g:O,I=I==m?g:I;var M=O==g,N=I==g,R=O==I;if(R&&u(w)){if(!u(_))return!1;L=!0,M=!1}if(R&&!M)return S||(S=new n),L||f(w)?e(w,_,E,T,k,S):t(w,_,O,E,T,k,S);if(!(E&h)){var D=M&&y.call(w,"__wrapped__"),C=N&&y.call(_,"__wrapped__");if(D||C){var z=D?w.value():w,G=C?_.value():_;return S||(S=new n),k(z,G,E,T,S)}}return R?(S||(S=new n),r(w,_,E,T,k,S)):!1}return Zp=b,Zp}var em,Ew;function UL(){if(Ew)return em;Ew=1;var n=VL(),e=If();function t(r,o,a,u,f){return r===o?!0:r==null||o==null||!e(r)&&!e(o)?r!==r&&o!==o:n(r,o,a,u,t,f)}return em=t,em}var tm,ww;function FL(){if(ww)return tm;ww=1;var n=UL();function e(t,r){return n(t,r)}return tm=e,tm}var Ac={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var qL=Ac.exports,Tw;function BL(){return Tw||(Tw=1,function(n,e){(function(r,o){n.exports=o()})(typeof self<"u"?self:qL,function(){return function(t){var r={};function o(a){if(r[a])return r[a].exports;var u=r[a]={i:a,l:!1,exports:{}};return t[a].call(u.exports,u,u.exports,o),u.l=!0,u.exports}return o.m=t,o.c=r,o.d=function(a,u,f){o.o(a,u)||Object.defineProperty(a,u,{configurable:!1,enumerable:!0,get:f})},o.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(u,"a",u),u},o.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},o.p="",o(o.s=109)}([function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(17),u=o(18),f=o(19),h=o(45),m=o(46),v=o(47),g=o(48),d=o(49),y=o(12),b=o(32),w=o(33),_=o(31),E=o(1),T={Scope:E.Scope,create:E.create,find:E.find,query:E.query,register:E.register,Container:a.default,Format:u.default,Leaf:f.default,Embed:g.default,Scroll:h.default,Block:v.default,Inline:m.default,Text:d.default,Attributor:{Attribute:y.default,Class:b.default,Style:w.default,Store:_.default}};r.default=T},function(t,r,o){var a=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,T){E.__proto__=T}||function(E,T){for(var k in T)T.hasOwnProperty(k)&&(E[k]=T[k])};return function(E,T){_(E,T);function k(){this.constructor=E}E.prototype=T===null?Object.create(T):(k.prototype=T.prototype,new k)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=function(_){a(E,_);function E(T){var k=this;return T="[Parchment] "+T,k=_.call(this,T)||this,k.message=T,k.name=k.constructor.name,k}return E}(Error);r.ParchmentError=u;var f={},h={},m={},v={};r.DATA_KEY="__blot";var g;(function(_){_[_.TYPE=3]="TYPE",_[_.LEVEL=12]="LEVEL",_[_.ATTRIBUTE=13]="ATTRIBUTE",_[_.BLOT=14]="BLOT",_[_.INLINE=7]="INLINE",_[_.BLOCK=11]="BLOCK",_[_.BLOCK_BLOT=10]="BLOCK_BLOT",_[_.INLINE_BLOT=6]="INLINE_BLOT",_[_.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",_[_.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",_[_.ANY=15]="ANY"})(g=r.Scope||(r.Scope={}));function d(_,E){var T=b(_);if(T==null)throw new u("Unable to create "+_+" blot");var k=T,S=_ instanceof Node||_.nodeType===Node.TEXT_NODE?_:k.create(E);return new k(S,E)}r.create=d;function y(_,E){return E===void 0&&(E=!1),_==null?null:_[r.DATA_KEY]!=null?_[r.DATA_KEY].blot:E?y(_.parentNode,E):null}r.find=y;function b(_,E){E===void 0&&(E=g.ANY);var T;if(typeof _=="string")T=v[_]||f[_];else if(_ instanceof Text||_.nodeType===Node.TEXT_NODE)T=v.text;else if(typeof _=="number")_&g.LEVEL&g.BLOCK?T=v.block:_&g.LEVEL&g.INLINE&&(T=v.inline);else if(_ instanceof HTMLElement){var k=(_.getAttribute("class")||"").split(/\s+/);for(var S in k)if(T=h[k[S]],T)break;T=T||m[_.tagName]}return T==null?null:E&g.LEVEL&T.scope&&E&g.TYPE&T.scope?T:null}r.query=b;function w(){for(var _=[],E=0;E<arguments.length;E++)_[E]=arguments[E];if(_.length>1)return _.map(function(S){return w(S)});var T=_[0];if(typeof T.blotName!="string"&&typeof T.attrName!="string")throw new u("Invalid definition");if(T.blotName==="abstract")throw new u("Cannot register abstract class");if(v[T.blotName||T.attrName]=T,typeof T.keyName=="string")f[T.keyName]=T;else if(T.className!=null&&(h[T.className]=T),T.tagName!=null){Array.isArray(T.tagName)?T.tagName=T.tagName.map(function(S){return S.toUpperCase()}):T.tagName=T.tagName.toUpperCase();var k=Array.isArray(T.tagName)?T.tagName:[T.tagName];k.forEach(function(S){(m[S]==null||T.className==null)&&(m[S]=T)})}return T}r.register=w},function(t,r,o){var a=o(51),u=o(11),f=o(3),h=o(20),m="\0",v=function(g){Array.isArray(g)?this.ops=g:g!=null&&Array.isArray(g.ops)?this.ops=g.ops:this.ops=[]};v.prototype.insert=function(g,d){var y={};return g.length===0?this:(y.insert=g,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(y.attributes=d),this.push(y))},v.prototype.delete=function(g){return g<=0?this:this.push({delete:g})},v.prototype.retain=function(g,d){if(g<=0)return this;var y={retain:g};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(y.attributes=d),this.push(y)},v.prototype.push=function(g){var d=this.ops.length,y=this.ops[d-1];if(g=f(!0,{},g),typeof y=="object"){if(typeof g.delete=="number"&&typeof y.delete=="number")return this.ops[d-1]={delete:y.delete+g.delete},this;if(typeof y.delete=="number"&&g.insert!=null&&(d-=1,y=this.ops[d-1],typeof y!="object"))return this.ops.unshift(g),this;if(u(g.attributes,y.attributes)){if(typeof g.insert=="string"&&typeof y.insert=="string")return this.ops[d-1]={insert:y.insert+g.insert},typeof g.attributes=="object"&&(this.ops[d-1].attributes=g.attributes),this;if(typeof g.retain=="number"&&typeof y.retain=="number")return this.ops[d-1]={retain:y.retain+g.retain},typeof g.attributes=="object"&&(this.ops[d-1].attributes=g.attributes),this}}return d===this.ops.length?this.ops.push(g):this.ops.splice(d,0,g),this},v.prototype.chop=function(){var g=this.ops[this.ops.length-1];return g&&g.retain&&!g.attributes&&this.ops.pop(),this},v.prototype.filter=function(g){return this.ops.filter(g)},v.prototype.forEach=function(g){this.ops.forEach(g)},v.prototype.map=function(g){return this.ops.map(g)},v.prototype.partition=function(g){var d=[],y=[];return this.forEach(function(b){var w=g(b)?d:y;w.push(b)}),[d,y]},v.prototype.reduce=function(g,d){return this.ops.reduce(g,d)},v.prototype.changeLength=function(){return this.reduce(function(g,d){return d.insert?g+h.length(d):d.delete?g-d.delete:g},0)},v.prototype.length=function(){return this.reduce(function(g,d){return g+h.length(d)},0)},v.prototype.slice=function(g,d){g=g||0,typeof d!="number"&&(d=1/0);for(var y=[],b=h.iterator(this.ops),w=0;w<d&&b.hasNext();){var _;w<g?_=b.next(g-w):(_=b.next(d-w),y.push(_)),w+=h.length(_)}return new v(y)},v.prototype.compose=function(g){var d=h.iterator(this.ops),y=h.iterator(g.ops),b=[],w=y.peek();if(w!=null&&typeof w.retain=="number"&&w.attributes==null){for(var _=w.retain;d.peekType()==="insert"&&d.peekLength()<=_;)_-=d.peekLength(),b.push(d.next());w.retain-_>0&&y.next(w.retain-_)}for(var E=new v(b);d.hasNext()||y.hasNext();)if(y.peekType()==="insert")E.push(y.next());else if(d.peekType()==="delete")E.push(d.next());else{var T=Math.min(d.peekLength(),y.peekLength()),k=d.next(T),S=y.next(T);if(typeof S.retain=="number"){var L={};typeof k.retain=="number"?L.retain=T:L.insert=k.insert;var U=h.attributes.compose(k.attributes,S.attributes,typeof k.retain=="number");if(U&&(L.attributes=U),E.push(L),!y.hasNext()&&u(E.ops[E.ops.length-1],L)){var O=new v(d.rest());return E.concat(O).chop()}}else typeof S.delete=="number"&&typeof k.retain=="number"&&E.push(S)}return E.chop()},v.prototype.concat=function(g){var d=new v(this.ops.slice());return g.ops.length>0&&(d.push(g.ops[0]),d.ops=d.ops.concat(g.ops.slice(1))),d},v.prototype.diff=function(g,d){if(this.ops===g.ops)return new v;var y=[this,g].map(function(T){return T.map(function(k){if(k.insert!=null)return typeof k.insert=="string"?k.insert:m;var S=T===g?"on":"with";throw new Error("diff() called "+S+" non-document")}).join("")}),b=new v,w=a(y[0],y[1],d),_=h.iterator(this.ops),E=h.iterator(g.ops);return w.forEach(function(T){for(var k=T[1].length;k>0;){var S=0;switch(T[0]){case a.INSERT:S=Math.min(E.peekLength(),k),b.push(E.next(S));break;case a.DELETE:S=Math.min(k,_.peekLength()),_.next(S),b.delete(S);break;case a.EQUAL:S=Math.min(_.peekLength(),E.peekLength(),k);var L=_.next(S),U=E.next(S);u(L.insert,U.insert)?b.retain(S,h.attributes.diff(L.attributes,U.attributes)):b.push(U).delete(S);break}k-=S}}),b.chop()},v.prototype.eachLine=function(g,d){d=d||`
`;for(var y=h.iterator(this.ops),b=new v,w=0;y.hasNext();){if(y.peekType()!=="insert")return;var _=y.peek(),E=h.length(_)-y.peekLength(),T=typeof _.insert=="string"?_.insert.indexOf(d,E)-E:-1;if(T<0)b.push(y.next());else if(T>0)b.push(y.next(T));else{if(g(b,y.next(1).attributes||{},w)===!1)return;w+=1,b=new v}}b.length()>0&&g(b,{},w)},v.prototype.transform=function(g,d){if(d=!!d,typeof g=="number")return this.transformPosition(g,d);for(var y=h.iterator(this.ops),b=h.iterator(g.ops),w=new v;y.hasNext()||b.hasNext();)if(y.peekType()==="insert"&&(d||b.peekType()!=="insert"))w.retain(h.length(y.next()));else if(b.peekType()==="insert")w.push(b.next());else{var _=Math.min(y.peekLength(),b.peekLength()),E=y.next(_),T=b.next(_);if(E.delete)continue;T.delete?w.push(T):w.retain(_,h.attributes.transform(E.attributes,T.attributes,d))}return w.chop()},v.prototype.transformPosition=function(g,d){d=!!d;for(var y=h.iterator(this.ops),b=0;y.hasNext()&&b<=g;){var w=y.peekLength(),_=y.peekType();if(y.next(),_==="delete"){g-=Math.min(w,g-b);continue}else _==="insert"&&(b<g||!d)&&(g+=w);b+=w}return g},t.exports=v},function(t,r){var o=Object.prototype.hasOwnProperty,a=Object.prototype.toString,u=Object.defineProperty,f=Object.getOwnPropertyDescriptor,h=function(y){return typeof Array.isArray=="function"?Array.isArray(y):a.call(y)==="[object Array]"},m=function(y){if(!y||a.call(y)!=="[object Object]")return!1;var b=o.call(y,"constructor"),w=y.constructor&&y.constructor.prototype&&o.call(y.constructor.prototype,"isPrototypeOf");if(y.constructor&&!b&&!w)return!1;var _;for(_ in y);return typeof _>"u"||o.call(y,_)},v=function(y,b){u&&b.name==="__proto__"?u(y,b.name,{enumerable:!0,configurable:!0,value:b.newValue,writable:!0}):y[b.name]=b.newValue},g=function(y,b){if(b==="__proto__")if(o.call(y,b)){if(f)return f(y,b).value}else return;return y[b]};t.exports=function d(){var y,b,w,_,E,T,k=arguments[0],S=1,L=arguments.length,U=!1;for(typeof k=="boolean"&&(U=k,k=arguments[1]||{},S=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});S<L;++S)if(y=arguments[S],y!=null)for(b in y)w=g(k,b),_=g(y,b),k!==_&&(U&&_&&(m(_)||(E=h(_)))?(E?(E=!1,T=w&&h(w)?w:[]):T=w&&m(w)?w:{},v(k,{name:b,newValue:d(U,T,_)})):typeof _<"u"&&v(k,{name:b,newValue:_}));return k}},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var a=function(){function R(D,C){for(var z=0;z<C.length;z++){var G=C[z];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(D,G.key,G)}}return function(D,C,z){return C&&R(D.prototype,C),z&&R(D,z),D}}(),u=function R(D,C,z){D===null&&(D=Function.prototype);var G=Object.getOwnPropertyDescriptor(D,C);if(G===void 0){var re=Object.getPrototypeOf(D);return re===null?void 0:R(re,C,z)}else{if("value"in G)return G.value;var ne=G.get;return ne===void 0?void 0:ne.call(z)}},f=o(3),h=k(f),m=o(2),v=k(m),g=o(0),d=k(g),y=o(16),b=k(y),w=o(6),_=k(w),E=o(7),T=k(E);function k(R){return R&&R.__esModule?R:{default:R}}function S(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}function L(R,D){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:R}function U(R,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(R,D):R.__proto__=D)}var O=1,I=function(R){U(D,R);function D(){return S(this,D),L(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return a(D,[{key:"attach",value:function(){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new v.default().insert(this.value(),(0,h.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(z,G){var re=d.default.query(z,d.default.Scope.BLOCK_ATTRIBUTE);re!=null&&this.attributes.attribute(re,G)}},{key:"formatAt",value:function(z,G,re,ne){this.format(re,ne)}},{key:"insertAt",value:function(z,G,re){if(typeof G=="string"&&G.endsWith(`
`)){var ne=d.default.create(M.blotName);this.parent.insertBefore(ne,z===0?this:this.next),ne.insertAt(0,G.slice(0,-1))}else u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,z,G,re)}}]),D}(d.default.Embed);I.scope=d.default.Scope.BLOCK_BLOT;var M=function(R){U(D,R);function D(C){S(this,D);var z=L(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,C));return z.cache={},z}return a(D,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(z,G){return G.length()===0?z:z.insert(G.value(),N(G))},new v.default).insert(`
`,N(this))),this.cache.delta}},{key:"deleteAt",value:function(z,G){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"deleteAt",this).call(this,z,G),this.cache={}}},{key:"formatAt",value:function(z,G,re,ne){G<=0||(d.default.query(re,d.default.Scope.BLOCK)?z+G===this.length()&&this.format(re,ne):u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"formatAt",this).call(this,z,Math.min(G,this.length()-z-1),re,ne),this.cache={})}},{key:"insertAt",value:function(z,G,re){if(re!=null)return u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,z,G,re);if(G.length!==0){var ne=G.split(`
`),ie=ne.shift();ie.length>0&&(z<this.length()-1||this.children.tail==null?u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,Math.min(z,this.length()-1),ie):this.children.tail.insertAt(this.children.tail.length(),ie),this.cache={});var X=this;ne.reduce(function(H,j){return X=X.split(H,!0),X.insertAt(0,j),j.length},z+ie.length)}}},{key:"insertBefore",value:function(z,G){var re=this.children.head;u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertBefore",this).call(this,z,G),re instanceof b.default&&re.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"length",this).call(this)+O),this.cache.length}},{key:"moveChildren",value:function(z,G){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"moveChildren",this).call(this,z,G),this.cache={}}},{key:"optimize",value:function(z){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,z),this.cache={}}},{key:"path",value:function(z){return u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"path",this).call(this,z,!0)}},{key:"removeChild",value:function(z){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"removeChild",this).call(this,z),this.cache={}}},{key:"split",value:function(z){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(G&&(z===0||z>=this.length()-O)){var re=this.clone();return z===0?(this.parent.insertBefore(re,this),this):(this.parent.insertBefore(re,this.next),re)}else{var ne=u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"split",this).call(this,z,G);return this.cache={},ne}}}]),D}(d.default.Block);M.blotName="block",M.tagName="P",M.defaultChild="break",M.allowedChildren=[_.default,d.default.Embed,T.default];function N(R){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return R==null||(typeof R.formats=="function"&&(D=(0,h.default)(D,R.formats())),R.parent==null||R.parent.blotName=="scroll"||R.parent.statics.scope!==R.statics.scope)?D:N(R.parent,D)}r.bubbleFormats=N,r.BlockEmbed=I,r.default=M},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},u=function(){function X(H,j){var q=[],W=!0,ee=!1,Z=void 0;try{for(var $=H[Symbol.iterator](),Y;!(W=(Y=$.next()).done)&&(q.push(Y.value),!(j&&q.length===j));W=!0);}catch(oe){ee=!0,Z=oe}finally{try{!W&&$.return&&$.return()}finally{if(ee)throw Z}}return q}return function(H,j){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return X(H,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function X(H,j){for(var q=0;q<j.length;q++){var W=j[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(H,W.key,W)}}return function(H,j,q){return j&&X(H.prototype,j),q&&X(H,q),H}}();o(50);var h=o(2),m=N(h),v=o(14),g=N(v),d=o(8),y=N(d),b=o(9),w=N(b),_=o(0),E=N(_),T=o(15),k=N(T),S=o(3),L=N(S),U=o(10),O=N(U),I=o(34),M=N(I);function N(X){return X&&X.__esModule?X:{default:X}}function R(X,H,j){return H in X?Object.defineProperty(X,H,{value:j,enumerable:!0,configurable:!0,writable:!0}):X[H]=j,X}function D(X,H){if(!(X instanceof H))throw new TypeError("Cannot call a class as a function")}var C=(0,O.default)("quill"),z=function(){f(X,null,[{key:"debug",value:function(j){j===!0&&(j="log"),O.default.level(j)}},{key:"find",value:function(j){return j.__quill||E.default.find(j)}},{key:"import",value:function(j){return this.imports[j]==null&&C.error("Cannot import "+j+". Are you sure it was registered?"),this.imports[j]}},{key:"register",value:function(j,q){var W=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof j!="string"){var Z=j.attrName||j.blotName;typeof Z=="string"?this.register("formats/"+Z,j,q):Object.keys(j).forEach(function($){W.register($,j[$],q)})}else this.imports[j]!=null&&!ee&&C.warn("Overwriting "+j+" with",q),this.imports[j]=q,(j.startsWith("blots/")||j.startsWith("formats/"))&&q.blotName!=="abstract"?E.default.register(q):j.startsWith("modules")&&typeof q.register=="function"&&q.register()}}]);function X(H){var j=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(D(this,X),this.options=G(H,q),this.container=this.options.container,this.container==null)return C.error("Invalid Quill container",H);this.options.debug&&X.debug(this.options.debug);var W=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new y.default,this.scroll=E.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new g.default(this.scroll),this.selection=new k.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(y.default.events.EDITOR_CHANGE,function(Z){Z===y.default.events.TEXT_CHANGE&&j.root.classList.toggle("ql-blank",j.editor.isBlank())}),this.emitter.on(y.default.events.SCROLL_UPDATE,function(Z,$){var Y=j.selection.lastRange,oe=Y&&Y.length===0?Y.index:void 0;re.call(j,function(){return j.editor.update(null,$,oe)},Z)});var ee=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+W+"<p><br></p></div>");this.setContents(ee),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return f(X,[{key:"addContainer",value:function(j){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof j=="string"){var W=j;j=document.createElement("div"),j.classList.add(W)}return this.container.insertBefore(j,q),j}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(j,q,W){var ee=this,Z=ne(j,q,W),$=u(Z,4);return j=$[0],q=$[1],W=$[3],re.call(this,function(){return ee.editor.deleteText(j,q)},W,j,-1*q)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(j),this.container.classList.toggle("ql-disabled",!j)}},{key:"focus",value:function(){var j=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=j,this.scrollIntoView()}},{key:"format",value:function(j,q){var W=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;return re.call(this,function(){var Z=W.getSelection(!0),$=new m.default;if(Z==null)return $;if(E.default.query(j,E.default.Scope.BLOCK))$=W.editor.formatLine(Z.index,Z.length,R({},j,q));else{if(Z.length===0)return W.selection.format(j,q),$;$=W.editor.formatText(Z.index,Z.length,R({},j,q))}return W.setSelection(Z,y.default.sources.SILENT),$},ee)}},{key:"formatLine",value:function(j,q,W,ee,Z){var $=this,Y=void 0,oe=ne(j,q,W,ee,Z),se=u(oe,4);return j=se[0],q=se[1],Y=se[2],Z=se[3],re.call(this,function(){return $.editor.formatLine(j,q,Y)},Z,j,0)}},{key:"formatText",value:function(j,q,W,ee,Z){var $=this,Y=void 0,oe=ne(j,q,W,ee,Z),se=u(oe,4);return j=se[0],q=se[1],Y=se[2],Z=se[3],re.call(this,function(){return $.editor.formatText(j,q,Y)},Z,j,0)}},{key:"getBounds",value:function(j){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=void 0;typeof j=="number"?W=this.selection.getBounds(j,q):W=this.selection.getBounds(j.index,j.length);var ee=this.container.getBoundingClientRect();return{bottom:W.bottom-ee.top,height:W.height,left:W.left-ee.left,right:W.right-ee.left,top:W.top-ee.top,width:W.width}}},{key:"getContents",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-j,W=ne(j,q),ee=u(W,2);return j=ee[0],q=ee[1],this.editor.getContents(j,q)}},{key:"getFormat",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof j=="number"?this.editor.getFormat(j,q):this.editor.getFormat(j.index,j.length)}},{key:"getIndex",value:function(j){return j.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(j){return this.scroll.leaf(j)}},{key:"getLine",value:function(j){return this.scroll.line(j)}},{key:"getLines",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof j!="number"?this.scroll.lines(j.index,j.length):this.scroll.lines(j,q)}},{key:"getModule",value:function(j){return this.theme.modules[j]}},{key:"getSelection",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return j&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-j,W=ne(j,q),ee=u(W,2);return j=ee[0],q=ee[1],this.editor.getText(j,q)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(j,q,W){var ee=this,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:X.sources.API;return re.call(this,function(){return ee.editor.insertEmbed(j,q,W)},Z,j)}},{key:"insertText",value:function(j,q,W,ee,Z){var $=this,Y=void 0,oe=ne(j,0,W,ee,Z),se=u(oe,4);return j=se[0],Y=se[2],Z=se[3],re.call(this,function(){return $.editor.insertText(j,q,Y)},Z,j,q.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(j,q,W){this.clipboard.dangerouslyPasteHTML(j,q,W)}},{key:"removeFormat",value:function(j,q,W){var ee=this,Z=ne(j,q,W),$=u(Z,4);return j=$[0],q=$[1],W=$[3],re.call(this,function(){return ee.editor.removeFormat(j,q)},W,j)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(j){var q=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API;return re.call(this,function(){j=new m.default(j);var ee=q.getLength(),Z=q.editor.deleteText(0,ee),$=q.editor.applyDelta(j),Y=$.ops[$.ops.length-1];Y!=null&&typeof Y.insert=="string"&&Y.insert[Y.insert.length-1]===`
`&&(q.editor.deleteText(q.getLength()-1,1),$.delete(1));var oe=Z.compose($);return oe},W)}},{key:"setSelection",value:function(j,q,W){if(j==null)this.selection.setRange(null,q||X.sources.API);else{var ee=ne(j,q,W),Z=u(ee,4);j=Z[0],q=Z[1],W=Z[3],this.selection.setRange(new T.Range(j,q),W),W!==y.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(j){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API,W=new m.default().insert(j);return this.setContents(W,q)}},{key:"update",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.default.sources.USER,q=this.scroll.update(j);return this.selection.update(j),q}},{key:"updateContents",value:function(j){var q=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API;return re.call(this,function(){return j=new m.default(j),q.editor.applyDelta(j,W)},W,!0)}}]),X}();z.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},z.events=y.default.events,z.sources=y.default.sources,z.version="1.3.7",z.imports={delta:m.default,parchment:E.default,"core/module":w.default,"core/theme":M.default};function G(X,H){if(H=(0,L.default)(!0,{container:X,modules:{clipboard:!0,keyboard:!0,history:!0}},H),!H.theme||H.theme===z.DEFAULTS.theme)H.theme=M.default;else if(H.theme=z.import("themes/"+H.theme),H.theme==null)throw new Error("Invalid theme "+H.theme+". Did you register it?");var j=(0,L.default)(!0,{},H.theme.DEFAULTS);[j,H].forEach(function(ee){ee.modules=ee.modules||{},Object.keys(ee.modules).forEach(function(Z){ee.modules[Z]===!0&&(ee.modules[Z]={})})});var q=Object.keys(j.modules).concat(Object.keys(H.modules)),W=q.reduce(function(ee,Z){var $=z.import("modules/"+Z);return $==null?C.error("Cannot load "+Z+" module. Are you sure you registered it?"):ee[Z]=$.DEFAULTS||{},ee},{});return H.modules!=null&&H.modules.toolbar&&H.modules.toolbar.constructor!==Object&&(H.modules.toolbar={container:H.modules.toolbar}),H=(0,L.default)(!0,{},z.DEFAULTS,{modules:W},j,H),["bounds","container","scrollingContainer"].forEach(function(ee){typeof H[ee]=="string"&&(H[ee]=document.querySelector(H[ee]))}),H.modules=Object.keys(H.modules).reduce(function(ee,Z){return H.modules[Z]&&(ee[Z]=H.modules[Z]),ee},{}),H}function re(X,H,j,q){if(this.options.strict&&!this.isEnabled()&&H===y.default.sources.USER)return new m.default;var W=j==null?null:this.getSelection(),ee=this.editor.delta,Z=X();if(W!=null&&(j===!0&&(j=W.index),q==null?W=ie(W,Z,H):q!==0&&(W=ie(W,j,q,H)),this.setSelection(W,y.default.sources.SILENT)),Z.length()>0){var $,Y=[y.default.events.TEXT_CHANGE,Z,ee,H];if(($=this.emitter).emit.apply($,[y.default.events.EDITOR_CHANGE].concat(Y)),H!==y.default.sources.SILENT){var oe;(oe=this.emitter).emit.apply(oe,Y)}}return Z}function ne(X,H,j,q,W){var ee={};return typeof X.index=="number"&&typeof X.length=="number"?typeof H!="number"?(W=q,q=j,j=H,H=X.length,X=X.index):(H=X.length,X=X.index):typeof H!="number"&&(W=q,q=j,j=H,H=0),(typeof j>"u"?"undefined":a(j))==="object"?(ee=j,W=q):typeof j=="string"&&(q!=null?ee[j]=q:W=j),W=W||y.default.sources.API,[X,H,ee,W]}function ie(X,H,j,q){if(X==null)return null;var W=void 0,ee=void 0;if(H instanceof m.default){var Z=[X.index,X.index+X.length].map(function(se){return H.transformPosition(se,q!==y.default.sources.USER)}),$=u(Z,2);W=$[0],ee=$[1]}else{var Y=[X.index,X.index+X.length].map(function(se){return se<H||se===H&&q===y.default.sources.USER?se:j>=0?se+j:Math.max(H,se+j)}),oe=u(Y,2);W=oe[0],ee=oe[1]}return new T.Range(W,ee-W)}r.expandConfig=G,r.overload=ne,r.default=z},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function _(E,T){for(var k=0;k<T.length;k++){var S=T[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(E,S.key,S)}}return function(E,T,k){return T&&_(E.prototype,T),k&&_(E,k),E}}(),u=function _(E,T,k){E===null&&(E=Function.prototype);var S=Object.getOwnPropertyDescriptor(E,T);if(S===void 0){var L=Object.getPrototypeOf(E);return L===null?void 0:_(L,T,k)}else{if("value"in S)return S.value;var U=S.get;return U===void 0?void 0:U.call(k)}},f=o(7),h=g(f),m=o(0),v=g(m);function g(_){return _&&_.__esModule?_:{default:_}}function d(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}function y(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:_}function b(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}var w=function(_){b(E,_);function E(){return d(this,E),y(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"formatAt",value:function(k,S,L,U){if(E.compare(this.statics.blotName,L)<0&&v.default.query(L,v.default.Scope.BLOT)){var O=this.isolate(k,S);U&&O.wrap(L,U)}else u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,k,S,L,U)}},{key:"optimize",value:function(k){if(u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,k),this.parent instanceof E&&E.compare(this.statics.blotName,this.parent.statics.blotName)>0){var S=this.parent.isolate(this.offset(),this.length());this.moveChildren(S),S.wrap(this)}}}],[{key:"compare",value:function(k,S){var L=E.order.indexOf(k),U=E.order.indexOf(S);return L>=0||U>=0?L-U:k===S?0:k<S?-1:1}}]),E}(v.default.Inline);w.allowedChildren=[w,v.default.Embed,h.default],w.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=w},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function m(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var g=function(d){v(y,d);function y(){return h(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(u.default.Text);r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function T(k,S){for(var L=0;L<S.length;L++){var U=S[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(k,U.key,U)}}return function(k,S,L){return S&&T(k.prototype,S),L&&T(k,L),k}}(),u=function T(k,S,L){k===null&&(k=Function.prototype);var U=Object.getOwnPropertyDescriptor(k,S);if(U===void 0){var O=Object.getPrototypeOf(k);return O===null?void 0:T(O,S,L)}else{if("value"in U)return U.value;var I=U.get;return I===void 0?void 0:I.call(L)}},f=o(54),h=g(f),m=o(10),v=g(m);function g(T){return T&&T.__esModule?T:{default:T}}function d(T,k){if(!(T instanceof k))throw new TypeError("Cannot call a class as a function")}function y(T,k){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:T}function b(T,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);T.prototype=Object.create(k&&k.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(T,k):T.__proto__=k)}var w=(0,v.default)("quill:events"),_=["selectionchange","mousedown","mouseup","click"];_.forEach(function(T){document.addEventListener(T,function(){for(var k=arguments.length,S=Array(k),L=0;L<k;L++)S[L]=arguments[L];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(U){if(U.__quill&&U.__quill.emitter){var O;(O=U.__quill.emitter).handleDOM.apply(O,S)}})})});var E=function(T){b(k,T);function k(){d(this,k);var S=y(this,(k.__proto__||Object.getPrototypeOf(k)).call(this));return S.listeners={},S.on("error",w.error),S}return a(k,[{key:"emit",value:function(){w.log.apply(w,arguments),u(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(L){for(var U=arguments.length,O=Array(U>1?U-1:0),I=1;I<U;I++)O[I-1]=arguments[I];(this.listeners[L.type]||[]).forEach(function(M){var N=M.node,R=M.handler;(L.target===N||N.contains(L.target))&&R.apply(void 0,[L].concat(O))})}},{key:"listenDOM",value:function(L,U,O){this.listeners[L]||(this.listeners[L]=[]),this.listeners[L].push({node:U,handler:O})}}]),k}(h.default);E.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},E.sources={API:"api",SILENT:"silent",USER:"user"},r.default=E},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});function a(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}var u=function f(h){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,f),this.quill=h,this.options=m};u.DEFAULTS={},r.default=u},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=["error","warn","log","info"],u="warn";function f(m){if(a.indexOf(m)<=a.indexOf(u)){for(var v,g=arguments.length,d=Array(g>1?g-1:0),y=1;y<g;y++)d[y-1]=arguments[y];(v=console)[m].apply(v,d)}}function h(m){return a.reduce(function(v,g){return v[g]=f.bind(console,g,m),v},{})}f.level=h.level=function(m){u=m},r.default=h},function(t,r,o){var a=Array.prototype.slice,u=o(52),f=o(53),h=t.exports=function(d,y,b){return b||(b={}),d===y?!0:d instanceof Date&&y instanceof Date?d.getTime()===y.getTime():!d||!y||typeof d!="object"&&typeof y!="object"?b.strict?d===y:d==y:g(d,y,b)};function m(d){return d==null}function v(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function g(d,y,b){var w,_;if(m(d)||m(y)||d.prototype!==y.prototype)return!1;if(f(d))return f(y)?(d=a.call(d),y=a.call(y),h(d,y,b)):!1;if(v(d)){if(!v(y)||d.length!==y.length)return!1;for(w=0;w<d.length;w++)if(d[w]!==y[w])return!1;return!0}try{var E=u(d),T=u(y)}catch{return!1}if(E.length!=T.length)return!1;for(E.sort(),T.sort(),w=E.length-1;w>=0;w--)if(E[w]!=T[w])return!1;for(w=E.length-1;w>=0;w--)if(_=E[w],!h(d[_],y[_],b))return!1;return typeof d==typeof y}},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(1),u=function(){function f(h,m,v){v===void 0&&(v={}),this.attrName=h,this.keyName=m;var g=a.Scope.TYPE&a.Scope.ATTRIBUTE;v.scope!=null?this.scope=v.scope&a.Scope.LEVEL|g:this.scope=a.Scope.ATTRIBUTE,v.whitelist!=null&&(this.whitelist=v.whitelist)}return f.keys=function(h){return[].map.call(h.attributes,function(m){return m.name})},f.prototype.add=function(h,m){return this.canAdd(h,m)?(h.setAttribute(this.keyName,m),!0):!1},f.prototype.canAdd=function(h,m){var v=a.query(h,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return v==null?!1:this.whitelist==null?!0:typeof m=="string"?this.whitelist.indexOf(m.replace(/["']/g,""))>-1:this.whitelist.indexOf(m)>-1},f.prototype.remove=function(h){h.removeAttribute(this.keyName)},f.prototype.value=function(h){var m=h.getAttribute(this.keyName);return this.canAdd(h,m)&&m?m:""},f}();r.default=u},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var a=function(){function I(M,N){var R=[],D=!0,C=!1,z=void 0;try{for(var G=M[Symbol.iterator](),re;!(D=(re=G.next()).done)&&(R.push(re.value),!(N&&R.length===N));D=!0);}catch(ne){C=!0,z=ne}finally{try{!D&&G.return&&G.return()}finally{if(C)throw z}}return R}return function(M,N){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return I(M,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function I(M,N){for(var R=0;R<N.length;R++){var D=N[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(M,D.key,D)}}return function(M,N,R){return N&&I(M.prototype,N),R&&I(M,R),M}}(),f=function I(M,N,R){M===null&&(M=Function.prototype);var D=Object.getOwnPropertyDescriptor(M,N);if(D===void 0){var C=Object.getPrototypeOf(M);return C===null?void 0:I(C,N,R)}else{if("value"in D)return D.value;var z=D.get;return z===void 0?void 0:z.call(R)}},h=o(2),m=T(h),v=o(0),g=T(v),d=o(4),y=T(d),b=o(6),w=T(b),_=o(7),E=T(_);function T(I){return I&&I.__esModule?I:{default:I}}function k(I,M){if(!(I instanceof M))throw new TypeError("Cannot call a class as a function")}function S(I,M){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:I}function L(I,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);I.prototype=Object.create(M&&M.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(I,M):I.__proto__=M)}var U=function(I){L(M,I);function M(){return k(this,M),S(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return M}(w.default);U.blotName="code",U.tagName="CODE";var O=function(I){L(M,I);function M(){return k(this,M),S(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return u(M,[{key:"delta",value:function(){var R=this,D=this.domNode.textContent;return D.endsWith(`
`)&&(D=D.slice(0,-1)),D.split(`
`).reduce(function(C,z){return C.insert(z).insert(`
`,R.formats())},new m.default)}},{key:"format",value:function(R,D){if(!(R===this.statics.blotName&&D)){var C=this.descendant(E.default,this.length()-1),z=a(C,1),G=z[0];G!=null&&G.deleteAt(G.length()-1,1),f(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"format",this).call(this,R,D)}}},{key:"formatAt",value:function(R,D,C,z){if(D!==0&&!(g.default.query(C,g.default.Scope.BLOCK)==null||C===this.statics.blotName&&z===this.statics.formats(this.domNode))){var G=this.newlineIndex(R);if(!(G<0||G>=R+D)){var re=this.newlineIndex(R,!0)+1,ne=G-re+1,ie=this.isolate(re,ne),X=ie.next;ie.format(C,z),X instanceof M&&X.formatAt(0,R-re+D-ne,C,z)}}}},{key:"insertAt",value:function(R,D,C){if(C==null){var z=this.descendant(E.default,R),G=a(z,2),re=G[0],ne=G[1];re.insertAt(ne,D)}}},{key:"length",value:function(){var R=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?R:R+1}},{key:"newlineIndex",value:function(R){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(D)return this.domNode.textContent.slice(0,R).lastIndexOf(`
`);var C=this.domNode.textContent.slice(R).indexOf(`
`);return C>-1?R+C:-1}},{key:"optimize",value:function(R){this.domNode.textContent.endsWith(`
`)||this.appendChild(g.default.create("text",`
`)),f(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,R);var D=this.next;D!=null&&D.prev===this&&D.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===D.statics.formats(D.domNode)&&(D.optimize(R),D.moveChildren(this),D.remove())}},{key:"replace",value:function(R){f(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"replace",this).call(this,R),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(D){var C=g.default.find(D);C==null?D.parentNode.removeChild(D):C instanceof g.default.Embed?C.remove():C.unwrap()})}}],[{key:"create",value:function(R){var D=f(M.__proto__||Object.getPrototypeOf(M),"create",this).call(this,R);return D.setAttribute("spellcheck",!1),D}},{key:"formats",value:function(){return!0}}]),M}(y.default);O.blotName="code-block",O.tagName="PRE",O.TAB="  ",r.Code=U,r.default=O},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},u=function(){function X(H,j){var q=[],W=!0,ee=!1,Z=void 0;try{for(var $=H[Symbol.iterator](),Y;!(W=(Y=$.next()).done)&&(q.push(Y.value),!(j&&q.length===j));W=!0);}catch(oe){ee=!0,Z=oe}finally{try{!W&&$.return&&$.return()}finally{if(ee)throw Z}}return q}return function(H,j){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return X(H,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function X(H,j){for(var q=0;q<j.length;q++){var W=j[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(H,W.key,W)}}return function(H,j,q){return j&&X(H.prototype,j),q&&X(H,q),H}}(),h=o(2),m=D(h),v=o(20),g=D(v),d=o(0),y=D(d),b=o(13),w=D(b),_=o(24),E=D(_),T=o(4),k=D(T),S=o(16),L=D(S),U=o(21),O=D(U),I=o(11),M=D(I),N=o(3),R=D(N);function D(X){return X&&X.__esModule?X:{default:X}}function C(X,H,j){return H in X?Object.defineProperty(X,H,{value:j,enumerable:!0,configurable:!0,writable:!0}):X[H]=j,X}function z(X,H){if(!(X instanceof H))throw new TypeError("Cannot call a class as a function")}var G=/^[ -~]*$/,re=function(){function X(H){z(this,X),this.scroll=H,this.delta=this.getDelta()}return f(X,[{key:"applyDelta",value:function(j){var q=this,W=!1;this.scroll.update();var ee=this.scroll.length();return this.scroll.batchStart(),j=ie(j),j.reduce(function(Z,$){var Y=$.retain||$.delete||$.insert.length||1,oe=$.attributes||{};if($.insert!=null){if(typeof $.insert=="string"){var se=$.insert;se.endsWith(`
`)&&W&&(W=!1,se=se.slice(0,-1)),Z>=ee&&!se.endsWith(`
`)&&(W=!0),q.scroll.insertAt(Z,se);var pe=q.scroll.line(Z),Ie=u(pe,2),De=Ie[0],Ve=Ie[1],We=(0,R.default)({},(0,T.bubbleFormats)(De));if(De instanceof k.default){var Xe=De.descendant(y.default.Leaf,Ve),Ot=u(Xe,1),mt=Ot[0];We=(0,R.default)(We,(0,T.bubbleFormats)(mt))}oe=g.default.attributes.diff(We,oe)||{}}else if(a($.insert)==="object"){var he=Object.keys($.insert)[0];if(he==null)return Z;q.scroll.insertAt(Z,he,$.insert[he])}ee+=Y}return Object.keys(oe).forEach(function(me){q.scroll.formatAt(Z,Y,me,oe[me])}),Z+Y},0),j.reduce(function(Z,$){return typeof $.delete=="number"?(q.scroll.deleteAt(Z,$.delete),Z):Z+($.retain||$.insert.length||1)},0),this.scroll.batchEnd(),this.update(j)}},{key:"deleteText",value:function(j,q){return this.scroll.deleteAt(j,q),this.update(new m.default().retain(j).delete(q))}},{key:"formatLine",value:function(j,q){var W=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(ee).forEach(function(Z){if(!(W.scroll.whitelist!=null&&!W.scroll.whitelist[Z])){var $=W.scroll.lines(j,Math.max(q,1)),Y=q;$.forEach(function(oe){var se=oe.length();if(!(oe instanceof w.default))oe.format(Z,ee[Z]);else{var pe=j-oe.offset(W.scroll),Ie=oe.newlineIndex(pe+Y)-pe+1;oe.formatAt(pe,Ie,Z,ee[Z])}Y-=se})}}),this.scroll.optimize(),this.update(new m.default().retain(j).retain(q,(0,O.default)(ee)))}},{key:"formatText",value:function(j,q){var W=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(ee).forEach(function(Z){W.scroll.formatAt(j,q,Z,ee[Z])}),this.update(new m.default().retain(j).retain(q,(0,O.default)(ee)))}},{key:"getContents",value:function(j,q){return this.delta.slice(j,j+q)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(j,q){return j.concat(q.delta())},new m.default)}},{key:"getFormat",value:function(j){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=[],ee=[];q===0?this.scroll.path(j).forEach(function($){var Y=u($,1),oe=Y[0];oe instanceof k.default?W.push(oe):oe instanceof y.default.Leaf&&ee.push(oe)}):(W=this.scroll.lines(j,q),ee=this.scroll.descendants(y.default.Leaf,j,q));var Z=[W,ee].map(function($){if($.length===0)return{};for(var Y=(0,T.bubbleFormats)($.shift());Object.keys(Y).length>0;){var oe=$.shift();if(oe==null)return Y;Y=ne((0,T.bubbleFormats)(oe),Y)}return Y});return R.default.apply(R.default,Z)}},{key:"getText",value:function(j,q){return this.getContents(j,q).filter(function(W){return typeof W.insert=="string"}).map(function(W){return W.insert}).join("")}},{key:"insertEmbed",value:function(j,q,W){return this.scroll.insertAt(j,q,W),this.update(new m.default().retain(j).insert(C({},q,W)))}},{key:"insertText",value:function(j,q){var W=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return q=q.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(j,q),Object.keys(ee).forEach(function(Z){W.scroll.formatAt(j,q.length,Z,ee[Z])}),this.update(new m.default().retain(j).insert(q,(0,O.default)(ee)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var j=this.scroll.children.head;return j.statics.blotName!==k.default.blotName||j.children.length>1?!1:j.children.head instanceof L.default}},{key:"removeFormat",value:function(j,q){var W=this.getText(j,q),ee=this.scroll.line(j+q),Z=u(ee,2),$=Z[0],Y=Z[1],oe=0,se=new m.default;$!=null&&($ instanceof w.default?oe=$.newlineIndex(Y)-Y+1:oe=$.length()-Y,se=$.delta().slice(Y,Y+oe-1).insert(`
`));var pe=this.getContents(j,q+oe),Ie=pe.diff(new m.default().insert(W).concat(se)),De=new m.default().retain(j).concat(Ie);return this.applyDelta(De)}},{key:"update",value:function(j){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ee=this.delta;if(q.length===1&&q[0].type==="characterData"&&q[0].target.data.match(G)&&y.default.find(q[0].target)){var Z=y.default.find(q[0].target),$=(0,T.bubbleFormats)(Z),Y=Z.offset(this.scroll),oe=q[0].oldValue.replace(E.default.CONTENTS,""),se=new m.default().insert(oe),pe=new m.default().insert(Z.value()),Ie=new m.default().retain(Y).concat(se.diff(pe,W));j=Ie.reduce(function(De,Ve){return Ve.insert?De.insert(Ve.insert,$):De.push(Ve)},new m.default),this.delta=ee.compose(j)}else this.delta=this.getDelta(),(!j||!(0,M.default)(ee.compose(j),this.delta))&&(j=ee.diff(this.delta,W));return j}}]),X}();function ne(X,H){return Object.keys(H).reduce(function(j,q){return X[q]==null||(H[q]===X[q]?j[q]=H[q]:Array.isArray(H[q])?H[q].indexOf(X[q])<0&&(j[q]=H[q].concat([X[q]])):j[q]=[H[q],X[q]]),j},{})}function ie(X){return X.reduce(function(H,j){if(j.insert===1){var q=(0,O.default)(j.attributes);return delete q.image,H.insert({image:j.attributes.image},q)}if(j.attributes!=null&&(j.attributes.list===!0||j.attributes.bullet===!0)&&(j=(0,O.default)(j),j.attributes.list?j.attributes.list="ordered":(j.attributes.list="bullet",delete j.attributes.bullet)),typeof j.insert=="string"){var W=j.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return H.insert(W,j.attributes)}return H.push(j)},new m.default)}r.default=re},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var a=function(){function I(M,N){var R=[],D=!0,C=!1,z=void 0;try{for(var G=M[Symbol.iterator](),re;!(D=(re=G.next()).done)&&(R.push(re.value),!(N&&R.length===N));D=!0);}catch(ne){C=!0,z=ne}finally{try{!D&&G.return&&G.return()}finally{if(C)throw z}}return R}return function(M,N){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return I(M,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function I(M,N){for(var R=0;R<N.length;R++){var D=N[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(M,D.key,D)}}return function(M,N,R){return N&&I(M.prototype,N),R&&I(M,R),M}}(),f=o(0),h=E(f),m=o(21),v=E(m),g=o(11),d=E(g),y=o(8),b=E(y),w=o(10),_=E(w);function E(I){return I&&I.__esModule?I:{default:I}}function T(I){if(Array.isArray(I)){for(var M=0,N=Array(I.length);M<I.length;M++)N[M]=I[M];return N}else return Array.from(I)}function k(I,M){if(!(I instanceof M))throw new TypeError("Cannot call a class as a function")}var S=(0,_.default)("quill:selection"),L=function I(M){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;k(this,I),this.index=M,this.length=N},U=function(){function I(M,N){var R=this;k(this,I),this.emitter=N,this.scroll=M,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=h.default.create("cursor",this),this.lastRange=this.savedRange=new L(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){R.mouseDown||setTimeout(R.update.bind(R,b.default.sources.USER),1)}),this.emitter.on(b.default.events.EDITOR_CHANGE,function(D,C){D===b.default.events.TEXT_CHANGE&&C.length()>0&&R.update(b.default.sources.SILENT)}),this.emitter.on(b.default.events.SCROLL_BEFORE_UPDATE,function(){if(R.hasFocus()){var D=R.getNativeRange();D!=null&&D.start.node!==R.cursor.textNode&&R.emitter.once(b.default.events.SCROLL_UPDATE,function(){try{R.setNativeRange(D.start.node,D.start.offset,D.end.node,D.end.offset)}catch{}})}}),this.emitter.on(b.default.events.SCROLL_OPTIMIZE,function(D,C){if(C.range){var z=C.range,G=z.startNode,re=z.startOffset,ne=z.endNode,ie=z.endOffset;R.setNativeRange(G,re,ne,ie)}}),this.update(b.default.sources.SILENT)}return u(I,[{key:"handleComposition",value:function(){var N=this;this.root.addEventListener("compositionstart",function(){N.composing=!0}),this.root.addEventListener("compositionend",function(){if(N.composing=!1,N.cursor.parent){var R=N.cursor.restore();if(!R)return;setTimeout(function(){N.setNativeRange(R.startNode,R.startOffset,R.endNode,R.endOffset)},1)}})}},{key:"handleDragging",value:function(){var N=this;this.emitter.listenDOM("mousedown",document.body,function(){N.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){N.mouseDown=!1,N.update(b.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(N,R){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[N])){this.scroll.update();var D=this.getNativeRange();if(!(D==null||!D.native.collapsed||h.default.query(N,h.default.Scope.BLOCK))){if(D.start.node!==this.cursor.textNode){var C=h.default.find(D.start.node,!1);if(C==null)return;if(C instanceof h.default.Leaf){var z=C.split(D.start.offset);C.parent.insertBefore(this.cursor,z)}else C.insertBefore(this.cursor,D.start.node);this.cursor.attach()}this.cursor.format(N,R),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(N){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=this.scroll.length();N=Math.min(N,D-1),R=Math.min(N+R,D-1)-N;var C=void 0,z=this.scroll.leaf(N),G=a(z,2),re=G[0],ne=G[1];if(re==null)return null;var ie=re.position(ne,!0),X=a(ie,2);C=X[0],ne=X[1];var H=document.createRange();if(R>0){H.setStart(C,ne);var j=this.scroll.leaf(N+R),q=a(j,2);if(re=q[0],ne=q[1],re==null)return null;var W=re.position(ne,!0),ee=a(W,2);return C=ee[0],ne=ee[1],H.setEnd(C,ne),H.getBoundingClientRect()}else{var Z="left",$=void 0;return C instanceof Text?(ne<C.data.length?(H.setStart(C,ne),H.setEnd(C,ne+1)):(H.setStart(C,ne-1),H.setEnd(C,ne),Z="right"),$=H.getBoundingClientRect()):($=re.domNode.getBoundingClientRect(),ne>0&&(Z="right")),{bottom:$.top+$.height,height:$.height,left:$[Z],right:$[Z],top:$.top,width:0}}}},{key:"getNativeRange",value:function(){var N=document.getSelection();if(N==null||N.rangeCount<=0)return null;var R=N.getRangeAt(0);if(R==null)return null;var D=this.normalizeNative(R);return S.info("getNativeRange",D),D}},{key:"getRange",value:function(){var N=this.getNativeRange();if(N==null)return[null,null];var R=this.normalizedToRange(N);return[R,N]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(N){var R=this,D=[[N.start.node,N.start.offset]];N.native.collapsed||D.push([N.end.node,N.end.offset]);var C=D.map(function(re){var ne=a(re,2),ie=ne[0],X=ne[1],H=h.default.find(ie,!0),j=H.offset(R.scroll);return X===0?j:H instanceof h.default.Container?j+H.length():j+H.index(ie,X)}),z=Math.min(Math.max.apply(Math,T(C)),this.scroll.length()-1),G=Math.min.apply(Math,[z].concat(T(C)));return new L(G,z-G)}},{key:"normalizeNative",value:function(N){if(!O(this.root,N.startContainer)||!N.collapsed&&!O(this.root,N.endContainer))return null;var R={start:{node:N.startContainer,offset:N.startOffset},end:{node:N.endContainer,offset:N.endOffset},native:N};return[R.start,R.end].forEach(function(D){for(var C=D.node,z=D.offset;!(C instanceof Text)&&C.childNodes.length>0;)if(C.childNodes.length>z)C=C.childNodes[z],z=0;else if(C.childNodes.length===z)C=C.lastChild,z=C instanceof Text?C.data.length:C.childNodes.length+1;else break;D.node=C,D.offset=z}),R}},{key:"rangeToNative",value:function(N){var R=this,D=N.collapsed?[N.index]:[N.index,N.index+N.length],C=[],z=this.scroll.length();return D.forEach(function(G,re){G=Math.min(z-1,G);var ne=void 0,ie=R.scroll.leaf(G),X=a(ie,2),H=X[0],j=X[1],q=H.position(j,re!==0),W=a(q,2);ne=W[0],j=W[1],C.push(ne,j)}),C.length<2&&(C=C.concat(C)),C}},{key:"scrollIntoView",value:function(N){var R=this.lastRange;if(R!=null){var D=this.getBounds(R.index,R.length);if(D!=null){var C=this.scroll.length()-1,z=this.scroll.line(Math.min(R.index,C)),G=a(z,1),re=G[0],ne=re;if(R.length>0){var ie=this.scroll.line(Math.min(R.index+R.length,C)),X=a(ie,1);ne=X[0]}if(!(re==null||ne==null)){var H=N.getBoundingClientRect();D.top<H.top?N.scrollTop-=H.top-D.top:D.bottom>H.bottom&&(N.scrollTop+=D.bottom-H.bottom)}}}}},{key:"setNativeRange",value:function(N,R){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:N,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:R,z=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(S.info("setNativeRange",N,R,D,C),!(N!=null&&(this.root.parentNode==null||N.parentNode==null||D.parentNode==null))){var G=document.getSelection();if(G!=null)if(N!=null){this.hasFocus()||this.root.focus();var re=(this.getNativeRange()||{}).native;if(re==null||z||N!==re.startContainer||R!==re.startOffset||D!==re.endContainer||C!==re.endOffset){N.tagName=="BR"&&(R=[].indexOf.call(N.parentNode.childNodes,N),N=N.parentNode),D.tagName=="BR"&&(C=[].indexOf.call(D.parentNode.childNodes,D),D=D.parentNode);var ne=document.createRange();ne.setStart(N,R),ne.setEnd(D,C),G.removeAllRanges(),G.addRange(ne)}}else G.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(N){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.default.sources.API;if(typeof R=="string"&&(D=R,R=!1),S.info("setRange",N),N!=null){var C=this.rangeToNative(N);this.setNativeRange.apply(this,T(C).concat([R]))}else this.setNativeRange(null);this.update(D)}},{key:"update",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b.default.sources.USER,R=this.lastRange,D=this.getRange(),C=a(D,2),z=C[0],G=C[1];if(this.lastRange=z,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(R,this.lastRange)){var re;!this.composing&&G!=null&&G.native.collapsed&&G.start.node!==this.cursor.textNode&&this.cursor.restore();var ne=[b.default.events.SELECTION_CHANGE,(0,v.default)(this.lastRange),(0,v.default)(R),N];if((re=this.emitter).emit.apply(re,[b.default.events.EDITOR_CHANGE].concat(ne)),N!==b.default.sources.SILENT){var ie;(ie=this.emitter).emit.apply(ie,ne)}}}}]),I}();function O(I,M){try{M.parentNode}catch{return!1}return M instanceof Text&&(M=M.parentNode),I.contains(M)}r.Range=L,r.default=U},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function b(w,_){for(var E=0;E<_.length;E++){var T=_[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,_,E){return _&&b(w.prototype,_),E&&b(w,E),w}}(),u=function b(w,_,E){w===null&&(w=Function.prototype);var T=Object.getOwnPropertyDescriptor(w,_);if(T===void 0){var k=Object.getPrototypeOf(w);return k===null?void 0:b(k,_,E)}else{if("value"in T)return T.value;var S=T.get;return S===void 0?void 0:S.call(E)}},f=o(0),h=m(f);function m(b){return b&&b.__esModule?b:{default:b}}function v(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function g(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function d(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var y=function(b){d(w,b);function w(){return v(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"insertInto",value:function(E,T){E.children.length===0?u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertInto",this).call(this,E,T):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),w}(h.default.Embed);y.blotName="break",y.tagName="BR",r.default=y},function(t,r,o){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var b in y)y.hasOwnProperty(b)&&(d[b]=y[b])};return function(d,y){g(d,y);function b(){this.constructor=d}d.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(44),f=o(30),h=o(1),m=function(g){a(d,g);function d(y){var b=g.call(this,y)||this;return b.build(),b}return d.prototype.appendChild=function(y){this.insertBefore(y)},d.prototype.attach=function(){g.prototype.attach.call(this),this.children.forEach(function(y){y.attach()})},d.prototype.build=function(){var y=this;this.children=new u.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(b){try{var w=v(b);y.insertBefore(w,y.children.head||void 0)}catch(_){if(_ instanceof h.ParchmentError)return;throw _}})},d.prototype.deleteAt=function(y,b){if(y===0&&b===this.length())return this.remove();this.children.forEachAt(y,b,function(w,_,E){w.deleteAt(_,E)})},d.prototype.descendant=function(y,b){var w=this.children.find(b),_=w[0],E=w[1];return y.blotName==null&&y(_)||y.blotName!=null&&_ instanceof y?[_,E]:_ instanceof d?_.descendant(y,E):[null,-1]},d.prototype.descendants=function(y,b,w){b===void 0&&(b=0),w===void 0&&(w=Number.MAX_VALUE);var _=[],E=w;return this.children.forEachAt(b,w,function(T,k,S){(y.blotName==null&&y(T)||y.blotName!=null&&T instanceof y)&&_.push(T),T instanceof d&&(_=_.concat(T.descendants(y,k,E))),E-=S}),_},d.prototype.detach=function(){this.children.forEach(function(y){y.detach()}),g.prototype.detach.call(this)},d.prototype.formatAt=function(y,b,w,_){this.children.forEachAt(y,b,function(E,T,k){E.formatAt(T,k,w,_)})},d.prototype.insertAt=function(y,b,w){var _=this.children.find(y),E=_[0],T=_[1];if(E)E.insertAt(T,b,w);else{var k=w==null?h.create("text",b):h.create(b,w);this.appendChild(k)}},d.prototype.insertBefore=function(y,b){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(w){return y instanceof w}))throw new h.ParchmentError("Cannot insert "+y.statics.blotName+" into "+this.statics.blotName);y.insertInto(this,b)},d.prototype.length=function(){return this.children.reduce(function(y,b){return y+b.length()},0)},d.prototype.moveChildren=function(y,b){this.children.forEach(function(w){y.insertBefore(w,b)})},d.prototype.optimize=function(y){if(g.prototype.optimize.call(this,y),this.children.length===0)if(this.statics.defaultChild!=null){var b=h.create(this.statics.defaultChild);this.appendChild(b),b.optimize(y)}else this.remove()},d.prototype.path=function(y,b){b===void 0&&(b=!1);var w=this.children.find(y,b),_=w[0],E=w[1],T=[[this,y]];return _ instanceof d?T.concat(_.path(E,b)):(_!=null&&T.push([_,E]),T)},d.prototype.removeChild=function(y){this.children.remove(y)},d.prototype.replace=function(y){y instanceof d&&y.moveChildren(this),g.prototype.replace.call(this,y)},d.prototype.split=function(y,b){if(b===void 0&&(b=!1),!b){if(y===0)return this;if(y===this.length())return this.next}var w=this.clone();return this.parent.insertBefore(w,this.next),this.children.forEachAt(y,this.length(),function(_,E,T){_=_.split(E,b),w.appendChild(_)}),w},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(y,b){var w=this,_=[],E=[];y.forEach(function(T){T.target===w.domNode&&T.type==="childList"&&(_.push.apply(_,T.addedNodes),E.push.apply(E,T.removedNodes))}),E.forEach(function(T){if(!(T.parentNode!=null&&T.tagName!=="IFRAME"&&document.body.compareDocumentPosition(T)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var k=h.find(T);k!=null&&(k.domNode.parentNode==null||k.domNode.parentNode===w.domNode)&&k.detach()}}),_.filter(function(T){return T.parentNode==w.domNode}).sort(function(T,k){return T===k?0:T.compareDocumentPosition(k)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(T){var k=null;T.nextSibling!=null&&(k=h.find(T.nextSibling));var S=v(T);(S.next!=k||S.next==null)&&(S.parent!=null&&S.parent.removeChild(w),w.insertBefore(S,k||void 0))})},d}(f.default);function v(g){var d=h.find(g);if(d==null)try{d=h.create(g)}catch{d=h.create(h.Scope.INLINE),[].slice.call(g.childNodes).forEach(function(b){d.domNode.appendChild(b)}),g.parentNode&&g.parentNode.replaceChild(d.domNode,g),d.attach()}return d}r.default=m},function(t,r,o){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var b in y)y.hasOwnProperty(b)&&(d[b]=y[b])};return function(d,y){g(d,y);function b(){this.constructor=d}d.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(12),f=o(31),h=o(17),m=o(1),v=function(g){a(d,g);function d(y){var b=g.call(this,y)||this;return b.attributes=new f.default(b.domNode),b}return d.formats=function(y){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return y.tagName.toLowerCase()},d.prototype.format=function(y,b){var w=m.query(y);w instanceof u.default?this.attributes.attribute(w,b):b&&w!=null&&(y!==this.statics.blotName||this.formats()[y]!==b)&&this.replaceWith(y,b)},d.prototype.formats=function(){var y=this.attributes.values(),b=this.statics.formats(this.domNode);return b!=null&&(y[this.statics.blotName]=b),y},d.prototype.replaceWith=function(y,b){var w=g.prototype.replaceWith.call(this,y,b);return this.attributes.copy(w),w},d.prototype.update=function(y,b){var w=this;g.prototype.update.call(this,y,b),y.some(function(_){return _.target===w.domNode&&_.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(y,b){var w=g.prototype.wrap.call(this,y,b);return w instanceof d&&w.statics.scope===this.statics.scope&&this.attributes.move(w),w},d}(h.default);r.default=v},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var d in g)g.hasOwnProperty(d)&&(v[d]=g[d])};return function(v,g){m(v,g);function d(){this.constructor=v}v.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(30),f=o(1),h=function(m){a(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.value=function(g){return!0},v.prototype.index=function(g,d){return this.domNode===g||this.domNode.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},v.prototype.position=function(g,d){var y=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return g>0&&(y+=1),[this.parent.domNode,y]},v.prototype.value=function(){var g;return g={},g[this.statics.blotName]=this.statics.value(this.domNode)||!0,g},v.scope=f.Scope.INLINE_BLOT,v}(u.default);r.default=h},function(t,r,o){var a=o(11),u=o(3),f={attributes:{compose:function(m,v,g){typeof m!="object"&&(m={}),typeof v!="object"&&(v={});var d=u(!0,{},v);g||(d=Object.keys(d).reduce(function(b,w){return d[w]!=null&&(b[w]=d[w]),b},{}));for(var y in m)m[y]!==void 0&&v[y]===void 0&&(d[y]=m[y]);return Object.keys(d).length>0?d:void 0},diff:function(m,v){typeof m!="object"&&(m={}),typeof v!="object"&&(v={});var g=Object.keys(m).concat(Object.keys(v)).reduce(function(d,y){return a(m[y],v[y])||(d[y]=v[y]===void 0?null:v[y]),d},{});return Object.keys(g).length>0?g:void 0},transform:function(m,v,g){if(typeof m!="object")return v;if(typeof v=="object"){if(!g)return v;var d=Object.keys(v).reduce(function(y,b){return m[b]===void 0&&(y[b]=v[b]),y},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(m){return new h(m)},length:function(m){return typeof m.delete=="number"?m.delete:typeof m.retain=="number"?m.retain:typeof m.insert=="string"?m.insert.length:1}};function h(m){this.ops=m,this.index=0,this.offset=0}h.prototype.hasNext=function(){return this.peekLength()<1/0},h.prototype.next=function(m){m||(m=1/0);var v=this.ops[this.index];if(v){var g=this.offset,d=f.length(v);if(m>=d-g?(m=d-g,this.index+=1,this.offset=0):this.offset+=m,typeof v.delete=="number")return{delete:m};var y={};return v.attributes&&(y.attributes=v.attributes),typeof v.retain=="number"?y.retain=m:typeof v.insert=="string"?y.insert=v.insert.substr(g,m):y.insert=v.insert,y}else return{retain:1/0}},h.prototype.peek=function(){return this.ops[this.index]},h.prototype.peekLength=function(){return this.ops[this.index]?f.length(this.ops[this.index])-this.offset:1/0},h.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},h.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var m=this.offset,v=this.index,g=this.next(),d=this.ops.slice(this.index);return this.offset=m,this.index=v,[g].concat(d)}else return[]},t.exports=f},function(t,r){var o=function(){function a(w,_){return _!=null&&w instanceof _}var u;try{u=Map}catch{u=function(){}}var f;try{f=Set}catch{f=function(){}}var h;try{h=Promise}catch{h=function(){}}function m(w,_,E,T,k){typeof _=="object"&&(E=_.depth,T=_.prototype,k=_.includeNonEnumerable,_=_.circular);var S=[],L=[],U=typeof Buffer<"u";typeof _>"u"&&(_=!0),typeof E>"u"&&(E=1/0);function O(I,M){if(I===null)return null;if(M===0)return I;var N,R;if(typeof I!="object")return I;if(a(I,u))N=new u;else if(a(I,f))N=new f;else if(a(I,h))N=new h(function(H,j){I.then(function(q){H(O(q,M-1))},function(q){j(O(q,M-1))})});else if(m.__isArray(I))N=[];else if(m.__isRegExp(I))N=new RegExp(I.source,b(I)),I.lastIndex&&(N.lastIndex=I.lastIndex);else if(m.__isDate(I))N=new Date(I.getTime());else{if(U&&Buffer.isBuffer(I))return Buffer.allocUnsafe?N=Buffer.allocUnsafe(I.length):N=new Buffer(I.length),I.copy(N),N;a(I,Error)?N=Object.create(I):typeof T>"u"?(R=Object.getPrototypeOf(I),N=Object.create(R)):(N=Object.create(T),R=T)}if(_){var D=S.indexOf(I);if(D!=-1)return L[D];S.push(I),L.push(N)}a(I,u)&&I.forEach(function(H,j){var q=O(j,M-1),W=O(H,M-1);N.set(q,W)}),a(I,f)&&I.forEach(function(H){var j=O(H,M-1);N.add(j)});for(var C in I){var z;R&&(z=Object.getOwnPropertyDescriptor(R,C)),!(z&&z.set==null)&&(N[C]=O(I[C],M-1))}if(Object.getOwnPropertySymbols)for(var G=Object.getOwnPropertySymbols(I),C=0;C<G.length;C++){var re=G[C],ne=Object.getOwnPropertyDescriptor(I,re);ne&&!ne.enumerable&&!k||(N[re]=O(I[re],M-1),ne.enumerable||Object.defineProperty(N,re,{enumerable:!1}))}if(k)for(var ie=Object.getOwnPropertyNames(I),C=0;C<ie.length;C++){var X=ie[C],ne=Object.getOwnPropertyDescriptor(I,X);ne&&ne.enumerable||(N[X]=O(I[X],M-1),Object.defineProperty(N,X,{enumerable:!1}))}return N}return O(w,E)}m.clonePrototype=function(_){if(_===null)return null;var E=function(){};return E.prototype=_,new E};function v(w){return Object.prototype.toString.call(w)}m.__objToStr=v;function g(w){return typeof w=="object"&&v(w)==="[object Date]"}m.__isDate=g;function d(w){return typeof w=="object"&&v(w)==="[object Array]"}m.__isArray=d;function y(w){return typeof w=="object"&&v(w)==="[object RegExp]"}m.__isRegExp=y;function b(w){var _="";return w.global&&(_+="g"),w.ignoreCase&&(_+="i"),w.multiline&&(_+="m"),_}return m.__getRegExpFlags=b,m}();typeof t=="object"&&t.exports&&(t.exports=o)},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function N(R,D){var C=[],z=!0,G=!1,re=void 0;try{for(var ne=R[Symbol.iterator](),ie;!(z=(ie=ne.next()).done)&&(C.push(ie.value),!(D&&C.length===D));z=!0);}catch(X){G=!0,re=X}finally{try{!z&&ne.return&&ne.return()}finally{if(G)throw re}}return C}return function(R,D){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return N(R,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function N(R,D){for(var C=0;C<D.length;C++){var z=D[C];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(R,z.key,z)}}return function(R,D,C){return D&&N(R.prototype,D),C&&N(R,C),R}}(),f=function N(R,D,C){R===null&&(R=Function.prototype);var z=Object.getOwnPropertyDescriptor(R,D);if(z===void 0){var G=Object.getPrototypeOf(R);return G===null?void 0:N(G,D,C)}else{if("value"in z)return z.value;var re=z.get;return re===void 0?void 0:re.call(C)}},h=o(0),m=S(h),v=o(8),g=S(v),d=o(4),y=S(d),b=o(16),w=S(b),_=o(13),E=S(_),T=o(25),k=S(T);function S(N){return N&&N.__esModule?N:{default:N}}function L(N,R){if(!(N instanceof R))throw new TypeError("Cannot call a class as a function")}function U(N,R){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:N}function O(N,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);N.prototype=Object.create(R&&R.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(N,R):N.__proto__=R)}function I(N){return N instanceof y.default||N instanceof d.BlockEmbed}var M=function(N){O(R,N);function R(D,C){L(this,R);var z=U(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,D));return z.emitter=C.emitter,Array.isArray(C.whitelist)&&(z.whitelist=C.whitelist.reduce(function(G,re){return G[re]=!0,G},{})),z.domNode.addEventListener("DOMNodeInserted",function(){}),z.optimize(),z.enable(),z}return u(R,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(C,z){var G=this.line(C),re=a(G,2),ne=re[0],ie=re[1],X=this.line(C+z),H=a(X,1),j=H[0];if(f(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"deleteAt",this).call(this,C,z),j!=null&&ne!==j&&ie>0){if(ne instanceof d.BlockEmbed||j instanceof d.BlockEmbed){this.optimize();return}if(ne instanceof E.default){var q=ne.newlineIndex(ne.length(),!0);if(q>-1&&(ne=ne.split(q+1),ne===j)){this.optimize();return}}else if(j instanceof E.default){var W=j.newlineIndex(0);W>-1&&j.split(W+1)}var ee=j.children.head instanceof w.default?null:j.children.head;ne.moveChildren(j,ee),ne.remove()}this.optimize()}},{key:"enable",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",C)}},{key:"formatAt",value:function(C,z,G,re){this.whitelist!=null&&!this.whitelist[G]||(f(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"formatAt",this).call(this,C,z,G,re),this.optimize())}},{key:"insertAt",value:function(C,z,G){if(!(G!=null&&this.whitelist!=null&&!this.whitelist[z])){if(C>=this.length())if(G==null||m.default.query(z,m.default.Scope.BLOCK)==null){var re=m.default.create(this.statics.defaultChild);this.appendChild(re),G==null&&z.endsWith(`
`)&&(z=z.slice(0,-1)),re.insertAt(0,z,G)}else{var ne=m.default.create(z,G);this.appendChild(ne)}else f(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,C,z,G);this.optimize()}}},{key:"insertBefore",value:function(C,z){if(C.statics.scope===m.default.Scope.INLINE_BLOT){var G=m.default.create(this.statics.defaultChild);G.appendChild(C),C=G}f(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertBefore",this).call(this,C,z)}},{key:"leaf",value:function(C){return this.path(C).pop()||[null,-1]}},{key:"line",value:function(C){return C===this.length()?this.line(C-1):this.descendant(I,C)}},{key:"lines",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,G=function re(ne,ie,X){var H=[],j=X;return ne.children.forEachAt(ie,X,function(q,W,ee){I(q)?H.push(q):q instanceof m.default.Container&&(H=H.concat(re(q,W,j))),j-=ee}),H};return G(this,C,z)}},{key:"optimize",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(f(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,C,z),C.length>0&&this.emitter.emit(g.default.events.SCROLL_OPTIMIZE,C,z))}},{key:"path",value:function(C){return f(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"path",this).call(this,C).slice(1)}},{key:"update",value:function(C){if(this.batch!==!0){var z=g.default.sources.USER;typeof C=="string"&&(z=C),Array.isArray(C)||(C=this.observer.takeRecords()),C.length>0&&this.emitter.emit(g.default.events.SCROLL_BEFORE_UPDATE,z,C),f(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"update",this).call(this,C.concat([])),C.length>0&&this.emitter.emit(g.default.events.SCROLL_UPDATE,z,C)}}}]),R}(m.default.Scroll);M.blotName="scroll",M.className="ql-editor",M.tagName="DIV",M.defaultChild="block",M.allowedChildren=[y.default,d.BlockEmbed,k.default],r.default=M},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},u=function(){function $(Y,oe){var se=[],pe=!0,Ie=!1,De=void 0;try{for(var Ve=Y[Symbol.iterator](),We;!(pe=(We=Ve.next()).done)&&(se.push(We.value),!(oe&&se.length===oe));pe=!0);}catch(Xe){Ie=!0,De=Xe}finally{try{!pe&&Ve.return&&Ve.return()}finally{if(Ie)throw De}}return se}return function(Y,oe){if(Array.isArray(Y))return Y;if(Symbol.iterator in Object(Y))return $(Y,oe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function $(Y,oe){for(var se=0;se<oe.length;se++){var pe=oe[se];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(Y,pe.key,pe)}}return function(Y,oe,se){return oe&&$(Y.prototype,oe),se&&$(Y,se),Y}}(),h=o(21),m=N(h),v=o(11),g=N(v),d=o(3),y=N(d),b=o(2),w=N(b),_=o(20),E=N(_),T=o(0),k=N(T),S=o(5),L=N(S),U=o(10),O=N(U),I=o(9),M=N(I);function N($){return $&&$.__esModule?$:{default:$}}function R($,Y,oe){return Y in $?Object.defineProperty($,Y,{value:oe,enumerable:!0,configurable:!0,writable:!0}):$[Y]=oe,$}function D($,Y){if(!($ instanceof Y))throw new TypeError("Cannot call a class as a function")}function C($,Y){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y&&(typeof Y=="object"||typeof Y=="function")?Y:$}function z($,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);$.prototype=Object.create(Y&&Y.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf($,Y):$.__proto__=Y)}var G=(0,O.default)("quill:keyboard"),re=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",ne=function($){z(Y,$),f(Y,null,[{key:"match",value:function(se,pe){return pe=Z(pe),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Ie){return!!pe[Ie]!==se[Ie]&&pe[Ie]!==null})?!1:pe.key===(se.which||se.keyCode)}}]);function Y(oe,se){D(this,Y);var pe=C(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,oe,se));return pe.bindings={},Object.keys(pe.options.bindings).forEach(function(Ie){Ie==="list autofill"&&oe.scroll.whitelist!=null&&!oe.scroll.whitelist.list||pe.options.bindings[Ie]&&pe.addBinding(pe.options.bindings[Ie])}),pe.addBinding({key:Y.keys.ENTER,shiftKey:null},q),pe.addBinding({key:Y.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(pe.addBinding({key:Y.keys.BACKSPACE},{collapsed:!0},X),pe.addBinding({key:Y.keys.DELETE},{collapsed:!0},H)):(pe.addBinding({key:Y.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},X),pe.addBinding({key:Y.keys.DELETE},{collapsed:!0,suffix:/^.?$/},H)),pe.addBinding({key:Y.keys.BACKSPACE},{collapsed:!1},j),pe.addBinding({key:Y.keys.DELETE},{collapsed:!1},j),pe.addBinding({key:Y.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},X),pe.listen(),pe}return f(Y,[{key:"addBinding",value:function(se){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},De=Z(se);if(De==null||De.key==null)return G.warn("Attempted to add invalid keyboard binding",De);typeof pe=="function"&&(pe={handler:pe}),typeof Ie=="function"&&(Ie={handler:Ie}),De=(0,y.default)(De,pe,Ie),this.bindings[De.key]=this.bindings[De.key]||[],this.bindings[De.key].push(De)}},{key:"listen",value:function(){var se=this;this.quill.root.addEventListener("keydown",function(pe){if(!pe.defaultPrevented){var Ie=pe.which||pe.keyCode,De=(se.bindings[Ie]||[]).filter(function(ct){return Y.match(pe,ct)});if(De.length!==0){var Ve=se.quill.getSelection();if(!(Ve==null||!se.quill.hasFocus())){var We=se.quill.getLine(Ve.index),Xe=u(We,2),Ot=Xe[0],mt=Xe[1],he=se.quill.getLeaf(Ve.index),me=u(he,2),be=me[0],Ae=me[1],ye=Ve.length===0?[be,Ae]:se.quill.getLeaf(Ve.index+Ve.length),Be=u(ye,2),ze=Be[0],Ke=Be[1],ot=be instanceof k.default.Text?be.value().slice(0,Ae):"",ut=ze instanceof k.default.Text?ze.value().slice(Ke):"",rt={collapsed:Ve.length===0,empty:Ve.length===0&&Ot.length()<=1,format:se.quill.getFormat(Ve),offset:mt,prefix:ot,suffix:ut},oo=De.some(function(ct){if(ct.collapsed!=null&&ct.collapsed!==rt.collapsed||ct.empty!=null&&ct.empty!==rt.empty||ct.offset!=null&&ct.offset!==rt.offset)return!1;if(Array.isArray(ct.format)){if(ct.format.every(function(nn){return rt.format[nn]==null}))return!1}else if(a(ct.format)==="object"&&!Object.keys(ct.format).every(function(nn){return ct.format[nn]===!0?rt.format[nn]!=null:ct.format[nn]===!1?rt.format[nn]==null:(0,g.default)(ct.format[nn],rt.format[nn])}))return!1;return ct.prefix!=null&&!ct.prefix.test(rt.prefix)||ct.suffix!=null&&!ct.suffix.test(rt.suffix)?!1:ct.handler.call(se,Ve,rt)!==!0});oo&&pe.preventDefault()}}}})}}]),Y}(M.default);ne.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},ne.DEFAULTS={bindings:{bold:ee("bold"),italic:ee("italic"),underline:ee("underline"),indent:{key:ne.keys.TAB,format:["blockquote","indent","list"],handler:function(Y,oe){if(oe.collapsed&&oe.offset!==0)return!0;this.quill.format("indent","+1",L.default.sources.USER)}},outdent:{key:ne.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(Y,oe){if(oe.collapsed&&oe.offset!==0)return!0;this.quill.format("indent","-1",L.default.sources.USER)}},"outdent backspace":{key:ne.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Y,oe){oe.format.indent!=null?this.quill.format("indent","-1",L.default.sources.USER):oe.format.list!=null&&this.quill.format("list",!1,L.default.sources.USER)}},"indent code-block":W(!0),"outdent code-block":W(!1),"remove tab":{key:ne.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Y){this.quill.deleteText(Y.index-1,1,L.default.sources.USER)}},tab:{key:ne.keys.TAB,handler:function(Y){this.quill.history.cutoff();var oe=new w.default().retain(Y.index).delete(Y.length).insert("	");this.quill.updateContents(oe,L.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Y.index+1,L.default.sources.SILENT)}},"list empty enter":{key:ne.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(Y,oe){this.quill.format("list",!1,L.default.sources.USER),oe.format.indent&&this.quill.format("indent",!1,L.default.sources.USER)}},"checklist enter":{key:ne.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(Y){var oe=this.quill.getLine(Y.index),se=u(oe,2),pe=se[0],Ie=se[1],De=(0,y.default)({},pe.formats(),{list:"checked"}),Ve=new w.default().retain(Y.index).insert(`
`,De).retain(pe.length()-Ie-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ve,L.default.sources.USER),this.quill.setSelection(Y.index+1,L.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:ne.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(Y,oe){var se=this.quill.getLine(Y.index),pe=u(se,2),Ie=pe[0],De=pe[1],Ve=new w.default().retain(Y.index).insert(`
`,oe.format).retain(Ie.length()-De-1).retain(1,{header:null});this.quill.updateContents(Ve,L.default.sources.USER),this.quill.setSelection(Y.index+1,L.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Y,oe){var se=oe.prefix.length,pe=this.quill.getLine(Y.index),Ie=u(pe,2),De=Ie[0],Ve=Ie[1];if(Ve>se)return!0;var We=void 0;switch(oe.prefix.trim()){case"[]":case"[ ]":We="unchecked";break;case"[x]":We="checked";break;case"-":case"*":We="bullet";break;default:We="ordered"}this.quill.insertText(Y.index," ",L.default.sources.USER),this.quill.history.cutoff();var Xe=new w.default().retain(Y.index-Ve).delete(se+1).retain(De.length()-2-Ve).retain(1,{list:We});this.quill.updateContents(Xe,L.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Y.index-se,L.default.sources.SILENT)}},"code exit":{key:ne.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(Y){var oe=this.quill.getLine(Y.index),se=u(oe,2),pe=se[0],Ie=se[1],De=new w.default().retain(Y.index+pe.length()-Ie-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(De,L.default.sources.USER)}},"embed left":ie(ne.keys.LEFT,!1),"embed left shift":ie(ne.keys.LEFT,!0),"embed right":ie(ne.keys.RIGHT,!1),"embed right shift":ie(ne.keys.RIGHT,!0)}};function ie($,Y){var oe,se=$===ne.keys.LEFT?"prefix":"suffix";return oe={key:$,shiftKey:Y,altKey:null},R(oe,se,/^$/),R(oe,"handler",function(Ie){var De=Ie.index;$===ne.keys.RIGHT&&(De+=Ie.length+1);var Ve=this.quill.getLeaf(De),We=u(Ve,1),Xe=We[0];return Xe instanceof k.default.Embed?($===ne.keys.LEFT?Y?this.quill.setSelection(Ie.index-1,Ie.length+1,L.default.sources.USER):this.quill.setSelection(Ie.index-1,L.default.sources.USER):Y?this.quill.setSelection(Ie.index,Ie.length+1,L.default.sources.USER):this.quill.setSelection(Ie.index+Ie.length+1,L.default.sources.USER),!1):!0}),oe}function X($,Y){if(!($.index===0||this.quill.getLength()<=1)){var oe=this.quill.getLine($.index),se=u(oe,1),pe=se[0],Ie={};if(Y.offset===0){var De=this.quill.getLine($.index-1),Ve=u(De,1),We=Ve[0];if(We!=null&&We.length()>1){var Xe=pe.formats(),Ot=this.quill.getFormat($.index-1,1);Ie=E.default.attributes.diff(Xe,Ot)||{}}}var mt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Y.prefix)?2:1;this.quill.deleteText($.index-mt,mt,L.default.sources.USER),Object.keys(Ie).length>0&&this.quill.formatLine($.index-mt,mt,Ie,L.default.sources.USER),this.quill.focus()}}function H($,Y){var oe=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Y.suffix)?2:1;if(!($.index>=this.quill.getLength()-oe)){var se={},pe=0,Ie=this.quill.getLine($.index),De=u(Ie,1),Ve=De[0];if(Y.offset>=Ve.length()-1){var We=this.quill.getLine($.index+1),Xe=u(We,1),Ot=Xe[0];if(Ot){var mt=Ve.formats(),he=this.quill.getFormat($.index,1);se=E.default.attributes.diff(mt,he)||{},pe=Ot.length()}}this.quill.deleteText($.index,oe,L.default.sources.USER),Object.keys(se).length>0&&this.quill.formatLine($.index+pe-1,oe,se,L.default.sources.USER)}}function j($){var Y=this.quill.getLines($),oe={};if(Y.length>1){var se=Y[0].formats(),pe=Y[Y.length-1].formats();oe=E.default.attributes.diff(pe,se)||{}}this.quill.deleteText($,L.default.sources.USER),Object.keys(oe).length>0&&this.quill.formatLine($.index,1,oe,L.default.sources.USER),this.quill.setSelection($.index,L.default.sources.SILENT),this.quill.focus()}function q($,Y){var oe=this;$.length>0&&this.quill.scroll.deleteAt($.index,$.length);var se=Object.keys(Y.format).reduce(function(pe,Ie){return k.default.query(Ie,k.default.Scope.BLOCK)&&!Array.isArray(Y.format[Ie])&&(pe[Ie]=Y.format[Ie]),pe},{});this.quill.insertText($.index,`
`,se,L.default.sources.USER),this.quill.setSelection($.index+1,L.default.sources.SILENT),this.quill.focus(),Object.keys(Y.format).forEach(function(pe){se[pe]==null&&(Array.isArray(Y.format[pe])||pe!=="link"&&oe.quill.format(pe,Y.format[pe],L.default.sources.USER))})}function W($){return{key:ne.keys.TAB,shiftKey:!$,format:{"code-block":!0},handler:function(oe){var se=k.default.query("code-block"),pe=oe.index,Ie=oe.length,De=this.quill.scroll.descendant(se,pe),Ve=u(De,2),We=Ve[0],Xe=Ve[1];if(We!=null){var Ot=this.quill.getIndex(We),mt=We.newlineIndex(Xe,!0)+1,he=We.newlineIndex(Ot+Xe+Ie),me=We.domNode.textContent.slice(mt,he).split(`
`);Xe=0,me.forEach(function(be,Ae){$?(We.insertAt(mt+Xe,se.TAB),Xe+=se.TAB.length,Ae===0?pe+=se.TAB.length:Ie+=se.TAB.length):be.startsWith(se.TAB)&&(We.deleteAt(mt+Xe,se.TAB.length),Xe-=se.TAB.length,Ae===0?pe-=se.TAB.length:Ie-=se.TAB.length),Xe+=be.length+1}),this.quill.update(L.default.sources.USER),this.quill.setSelection(pe,Ie,L.default.sources.SILENT)}}}}function ee($){return{key:$[0].toUpperCase(),shortKey:!0,handler:function(oe,se){this.quill.format($,!se.format[$],L.default.sources.USER)}}}function Z($){if(typeof $=="string"||typeof $=="number")return Z({key:$});if((typeof $>"u"?"undefined":a($))==="object"&&($=(0,m.default)($,!1)),typeof $.key=="string")if(ne.keys[$.key.toUpperCase()]!=null)$.key=ne.keys[$.key.toUpperCase()];else if($.key.length===1)$.key=$.key.toUpperCase().charCodeAt(0);else return null;return $.shortKey&&($[re]=$.shortKey,delete $.shortKey),$}r.default=ne,r.SHORTKEY=re},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function E(T,k){var S=[],L=!0,U=!1,O=void 0;try{for(var I=T[Symbol.iterator](),M;!(L=(M=I.next()).done)&&(S.push(M.value),!(k&&S.length===k));L=!0);}catch(N){U=!0,O=N}finally{try{!L&&I.return&&I.return()}finally{if(U)throw O}}return S}return function(T,k){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return E(T,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function E(T,k,S){T===null&&(T=Function.prototype);var L=Object.getOwnPropertyDescriptor(T,k);if(L===void 0){var U=Object.getPrototypeOf(T);return U===null?void 0:E(U,k,S)}else{if("value"in L)return L.value;var O=L.get;return O===void 0?void 0:O.call(S)}},f=function(){function E(T,k){for(var S=0;S<k.length;S++){var L=k[S];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(T,L.key,L)}}return function(T,k,S){return k&&E(T.prototype,k),S&&E(T,S),T}}(),h=o(0),m=d(h),v=o(7),g=d(v);function d(E){return E&&E.__esModule?E:{default:E}}function y(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function b(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function w(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var _=function(E){w(T,E),f(T,null,[{key:"value",value:function(){}}]);function T(k,S){y(this,T);var L=b(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,k));return L.selection=S,L.textNode=document.createTextNode(T.CONTENTS),L.domNode.appendChild(L.textNode),L._length=0,L}return f(T,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(S,L){if(this._length!==0)return u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"format",this).call(this,S,L);for(var U=this,O=0;U!=null&&U.statics.scope!==m.default.Scope.BLOCK_BLOT;)O+=U.offset(U.parent),U=U.parent;U!=null&&(this._length=T.CONTENTS.length,U.optimize(),U.formatAt(O,T.CONTENTS.length,S,L),this._length=0)}},{key:"index",value:function(S,L){return S===this.textNode?0:u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"index",this).call(this,S,L)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var S=this.textNode,L=this.selection.getNativeRange(),U=void 0,O=void 0,I=void 0;if(L!=null&&L.start.node===S&&L.end.node===S){var M=[S,L.start.offset,L.end.offset];U=M[0],O=M[1],I=M[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==T.CONTENTS){var N=this.textNode.data.split(T.CONTENTS).join("");this.next instanceof g.default?(U=this.next.domNode,this.next.insertAt(0,N),this.textNode.data=T.CONTENTS):(this.textNode.data=N,this.parent.insertBefore(m.default.create(this.textNode),this),this.textNode=document.createTextNode(T.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),O!=null){var R=[O,I].map(function(C){return Math.max(0,Math.min(U.data.length,C-1))}),D=a(R,2);return O=D[0],I=D[1],{startNode:U,startOffset:O,endNode:U,endOffset:I}}}}},{key:"update",value:function(S,L){var U=this;if(S.some(function(I){return I.type==="characterData"&&I.target===U.textNode})){var O=this.restore();O&&(L.range=O)}}},{key:"value",value:function(){return""}}]),T}(m.default.Embed);_.blotName="cursor",_.className="ql-cursor",_.tagName="span",_.CONTENTS="\uFEFF",r.default=_},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),u=m(a),f=o(4),h=m(f);function m(b){return b&&b.__esModule?b:{default:b}}function v(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function g(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function d(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var y=function(b){d(w,b);function w(){return v(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return w}(u.default.Container);y.allowedChildren=[h.default,f.BlockEmbed,y],r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var a=function(){function _(E,T){for(var k=0;k<T.length;k++){var S=T[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(E,S.key,S)}}return function(E,T,k){return T&&_(E.prototype,T),k&&_(E,k),E}}(),u=function _(E,T,k){E===null&&(E=Function.prototype);var S=Object.getOwnPropertyDescriptor(E,T);if(S===void 0){var L=Object.getPrototypeOf(E);return L===null?void 0:_(L,T,k)}else{if("value"in S)return S.value;var U=S.get;return U===void 0?void 0:U.call(k)}},f=o(0),h=m(f);function m(_){return _&&_.__esModule?_:{default:_}}function v(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}function g(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:_}function d(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}var y=function(_){d(E,_);function E(){return v(this,E),g(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"value",value:function(k){var S=u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,k);return S.startsWith("rgb(")?(S=S.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+S.split(",").map(function(L){return("00"+parseInt(L).toString(16)).slice(-2)}).join("")):S}}]),E}(h.default.Attributor.Style),b=new h.default.Attributor.Class("color","ql-color",{scope:h.default.Scope.INLINE}),w=new y("color","color",{scope:h.default.Scope.INLINE});r.ColorAttributor=y,r.ColorClass=b,r.ColorStyle=w},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var a=function(){function w(_,E){for(var T=0;T<E.length;T++){var k=E[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(_,k.key,k)}}return function(_,E,T){return E&&w(_.prototype,E),T&&w(_,T),_}}(),u=function w(_,E,T){_===null&&(_=Function.prototype);var k=Object.getOwnPropertyDescriptor(_,E);if(k===void 0){var S=Object.getPrototypeOf(_);return S===null?void 0:w(S,E,T)}else{if("value"in k)return k.value;var L=k.get;return L===void 0?void 0:L.call(T)}},f=o(6),h=m(f);function m(w){return w&&w.__esModule?w:{default:w}}function v(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function g(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function d(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var y=function(w){d(_,w);function _(){return v(this,_),g(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"format",value:function(T,k){if(T!==this.statics.blotName||!k)return u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,T,k);k=this.constructor.sanitize(k),this.domNode.setAttribute("href",k)}}],[{key:"create",value:function(T){var k=u(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,T);return T=this.sanitize(T),k.setAttribute("href",T),k.setAttribute("rel","noopener noreferrer"),k.setAttribute("target","_blank"),k}},{key:"formats",value:function(T){return T.getAttribute("href")}},{key:"sanitize",value:function(T){return b(T,this.PROTOCOL_WHITELIST)?T:this.SANITIZED_URL}}]),_}(h.default);y.blotName="link",y.tagName="A",y.SANITIZED_URL="about:blank",y.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function b(w,_){var E=document.createElement("a");E.href=w;var T=E.href.slice(0,E.href.indexOf(":"));return _.indexOf(T)>-1}r.default=y,r.sanitize=b},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},u=function(){function _(E,T){for(var k=0;k<T.length;k++){var S=T[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(E,S.key,S)}}return function(E,T,k){return T&&_(E.prototype,T),k&&_(E,k),E}}(),f=o(23),h=g(f),m=o(107),v=g(m);function g(_){return _&&_.__esModule?_:{default:_}}function d(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}var y=0;function b(_,E){_.setAttribute(E,_.getAttribute(E)!=="true")}var w=function(){function _(E){var T=this;d(this,_),this.select=E,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){T.togglePicker()}),this.label.addEventListener("keydown",function(k){switch(k.keyCode){case h.default.keys.ENTER:T.togglePicker();break;case h.default.keys.ESCAPE:T.escape(),k.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return u(_,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),b(this.label,"aria-expanded"),b(this.options,"aria-hidden")}},{key:"buildItem",value:function(T){var k=this,S=document.createElement("span");return S.tabIndex="0",S.setAttribute("role","button"),S.classList.add("ql-picker-item"),T.hasAttribute("value")&&S.setAttribute("data-value",T.getAttribute("value")),T.textContent&&S.setAttribute("data-label",T.textContent),S.addEventListener("click",function(){k.selectItem(S,!0)}),S.addEventListener("keydown",function(L){switch(L.keyCode){case h.default.keys.ENTER:k.selectItem(S,!0),L.preventDefault();break;case h.default.keys.ESCAPE:k.escape(),L.preventDefault();break}}),S}},{key:"buildLabel",value:function(){var T=document.createElement("span");return T.classList.add("ql-picker-label"),T.innerHTML=v.default,T.tabIndex="0",T.setAttribute("role","button"),T.setAttribute("aria-expanded","false"),this.container.appendChild(T),T}},{key:"buildOptions",value:function(){var T=this,k=document.createElement("span");k.classList.add("ql-picker-options"),k.setAttribute("aria-hidden","true"),k.tabIndex="-1",k.id="ql-picker-options-"+y,y+=1,this.label.setAttribute("aria-controls",k.id),this.options=k,[].slice.call(this.select.options).forEach(function(S){var L=T.buildItem(S);k.appendChild(L),S.selected===!0&&T.selectItem(L)}),this.container.appendChild(k)}},{key:"buildPicker",value:function(){var T=this;[].slice.call(this.select.attributes).forEach(function(k){T.container.setAttribute(k.name,k.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var T=this;this.close(),setTimeout(function(){return T.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(T){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S=this.container.querySelector(".ql-selected");if(T!==S&&(S!=null&&S.classList.remove("ql-selected"),T!=null&&(T.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(T.parentNode.children,T),T.hasAttribute("data-value")?this.label.setAttribute("data-value",T.getAttribute("data-value")):this.label.removeAttribute("data-value"),T.hasAttribute("data-label")?this.label.setAttribute("data-label",T.getAttribute("data-label")):this.label.removeAttribute("data-label"),k))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var L=document.createEvent("Event");L.initEvent("change",!0,!0),this.select.dispatchEvent(L)}this.close()}}},{key:"update",value:function(){var T=void 0;if(this.select.selectedIndex>-1){var k=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];T=this.select.options[this.select.selectedIndex],this.selectItem(k)}else this.selectItem(null);var S=T!=null&&T!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",S)}}]),_}();r.default=w},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),u=G(a),f=o(5),h=G(f),m=o(4),v=G(m),g=o(16),d=G(g),y=o(25),b=G(y),w=o(24),_=G(w),E=o(35),T=G(E),k=o(6),S=G(k),L=o(22),U=G(L),O=o(7),I=G(O),M=o(55),N=G(M),R=o(42),D=G(R),C=o(23),z=G(C);function G(re){return re&&re.__esModule?re:{default:re}}h.default.register({"blots/block":v.default,"blots/block/embed":m.BlockEmbed,"blots/break":d.default,"blots/container":b.default,"blots/cursor":_.default,"blots/embed":T.default,"blots/inline":S.default,"blots/scroll":U.default,"blots/text":I.default,"modules/clipboard":N.default,"modules/history":D.default,"modules/keyboard":z.default}),u.default.register(v.default,d.default,_.default,S.default,U.default,I.default),r.default=h.default},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(1),u=function(){function f(h){this.domNode=h,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(f.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),f.create=function(h){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var m;return Array.isArray(this.tagName)?(typeof h=="string"&&(h=h.toUpperCase(),parseInt(h).toString()===h&&(h=parseInt(h))),typeof h=="number"?m=document.createElement(this.tagName[h-1]):this.tagName.indexOf(h)>-1?m=document.createElement(h):m=document.createElement(this.tagName[0])):m=document.createElement(this.tagName),this.className&&m.classList.add(this.className),m},f.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},f.prototype.clone=function(){var h=this.domNode.cloneNode(!1);return a.create(h)},f.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},f.prototype.deleteAt=function(h,m){var v=this.isolate(h,m);v.remove()},f.prototype.formatAt=function(h,m,v,g){var d=this.isolate(h,m);if(a.query(v,a.Scope.BLOT)!=null&&g)d.wrap(v,g);else if(a.query(v,a.Scope.ATTRIBUTE)!=null){var y=a.create(this.statics.scope);d.wrap(y),y.format(v,g)}},f.prototype.insertAt=function(h,m,v){var g=v==null?a.create("text",m):a.create(m,v),d=this.split(h);this.parent.insertBefore(g,d)},f.prototype.insertInto=function(h,m){m===void 0&&(m=null),this.parent!=null&&this.parent.children.remove(this);var v=null;h.children.insertBefore(this,m),m!=null&&(v=m.domNode),(this.domNode.parentNode!=h.domNode||this.domNode.nextSibling!=v)&&h.domNode.insertBefore(this.domNode,v),this.parent=h,this.attach()},f.prototype.isolate=function(h,m){var v=this.split(h);return v.split(m),v},f.prototype.length=function(){return 1},f.prototype.offset=function(h){return h===void 0&&(h=this.parent),this.parent==null||this==h?0:this.parent.children.offset(this)+this.parent.offset(h)},f.prototype.optimize=function(h){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},f.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},f.prototype.replace=function(h){h.parent!=null&&(h.parent.insertBefore(this,h.next),h.remove())},f.prototype.replaceWith=function(h,m){var v=typeof h=="string"?a.create(h,m):h;return v.replace(this),v},f.prototype.split=function(h,m){return h===0?this:this.next},f.prototype.update=function(h,m){},f.prototype.wrap=function(h,m){var v=typeof h=="string"?a.create(h,m):h;return this.parent!=null&&this.parent.insertBefore(v,this.next),v.appendChild(this),v},f.blotName="abstract",f}();r.default=u},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(12),u=o(32),f=o(33),h=o(1),m=function(){function v(g){this.attributes={},this.domNode=g,this.build()}return v.prototype.attribute=function(g,d){d?g.add(this.domNode,d)&&(g.value(this.domNode)!=null?this.attributes[g.attrName]=g:delete this.attributes[g.attrName]):(g.remove(this.domNode),delete this.attributes[g.attrName])},v.prototype.build=function(){var g=this;this.attributes={};var d=a.default.keys(this.domNode),y=u.default.keys(this.domNode),b=f.default.keys(this.domNode);d.concat(y).concat(b).forEach(function(w){var _=h.query(w,h.Scope.ATTRIBUTE);_ instanceof a.default&&(g.attributes[_.attrName]=_)})},v.prototype.copy=function(g){var d=this;Object.keys(this.attributes).forEach(function(y){var b=d.attributes[y].value(d.domNode);g.format(y,b)})},v.prototype.move=function(g){var d=this;this.copy(g),Object.keys(this.attributes).forEach(function(y){d.attributes[y].remove(d.domNode)}),this.attributes={}},v.prototype.values=function(){var g=this;return Object.keys(this.attributes).reduce(function(d,y){return d[y]=g.attributes[y].value(g.domNode),d},{})},v}();r.default=m},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var d in g)g.hasOwnProperty(d)&&(v[d]=g[d])};return function(v,g){m(v,g);function d(){this.constructor=v}v.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(12);function f(m,v){var g=m.getAttribute("class")||"";return g.split(/\s+/).filter(function(d){return d.indexOf(v+"-")===0})}var h=function(m){a(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.keys=function(g){return(g.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},v.prototype.add=function(g,d){return this.canAdd(g,d)?(this.remove(g),g.classList.add(this.keyName+"-"+d),!0):!1},v.prototype.remove=function(g){var d=f(g,this.keyName);d.forEach(function(y){g.classList.remove(y)}),g.classList.length===0&&g.removeAttribute("class")},v.prototype.value=function(g){var d=f(g,this.keyName)[0]||"",y=d.slice(this.keyName.length+1);return this.canAdd(g,y)?y:""},v}(u.default);r.default=h},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var d in g)g.hasOwnProperty(d)&&(v[d]=g[d])};return function(v,g){m(v,g);function d(){this.constructor=v}v.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(12);function f(m){var v=m.split("-"),g=v.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return v[0]+g}var h=function(m){a(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.keys=function(g){return(g.getAttribute("style")||"").split(";").map(function(d){var y=d.split(":");return y[0].trim()})},v.prototype.add=function(g,d){return this.canAdd(g,d)?(g.style[f(this.keyName)]=d,!0):!1},v.prototype.remove=function(g){g.style[f(this.keyName)]="",g.getAttribute("style")||g.removeAttribute("style")},v.prototype.value=function(g){var d=g.style[f(this.keyName)];return this.canAdd(g,d)?d:""},v}(u.default);r.default=h},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function h(m,v){for(var g=0;g<v.length;g++){var d=v[g];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(m,d.key,d)}}return function(m,v,g){return v&&h(m.prototype,v),g&&h(m,g),m}}();function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}var f=function(){function h(m,v){u(this,h),this.quill=m,this.options=v,this.modules={}}return a(h,[{key:"init",value:function(){var v=this;Object.keys(this.options.modules).forEach(function(g){v.modules[g]==null&&v.addModule(g)})}},{key:"addModule",value:function(v){var g=this.quill.constructor.import("modules/"+v);return this.modules[v]=new g(this.quill,this.options.modules[v]||{}),this.modules[v]}}]),h}();f.DEFAULTS={modules:{}},f.themes={default:f},r.default=f},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function E(T,k){for(var S=0;S<k.length;S++){var L=k[S];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(T,L.key,L)}}return function(T,k,S){return k&&E(T.prototype,k),S&&E(T,S),T}}(),u=function E(T,k,S){T===null&&(T=Function.prototype);var L=Object.getOwnPropertyDescriptor(T,k);if(L===void 0){var U=Object.getPrototypeOf(T);return U===null?void 0:E(U,k,S)}else{if("value"in L)return L.value;var O=L.get;return O===void 0?void 0:O.call(S)}},f=o(0),h=g(f),m=o(7),v=g(m);function g(E){return E&&E.__esModule?E:{default:E}}function d(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function y(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function b(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var w="\uFEFF",_=function(E){b(T,E);function T(k){d(this,T);var S=y(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,k));return S.contentNode=document.createElement("span"),S.contentNode.setAttribute("contenteditable",!1),[].slice.call(S.domNode.childNodes).forEach(function(L){S.contentNode.appendChild(L)}),S.leftGuard=document.createTextNode(w),S.rightGuard=document.createTextNode(w),S.domNode.appendChild(S.leftGuard),S.domNode.appendChild(S.contentNode),S.domNode.appendChild(S.rightGuard),S}return a(T,[{key:"index",value:function(S,L){return S===this.leftGuard?0:S===this.rightGuard?1:u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"index",this).call(this,S,L)}},{key:"restore",value:function(S){var L=void 0,U=void 0,O=S.data.split(w).join("");if(S===this.leftGuard)if(this.prev instanceof v.default){var I=this.prev.length();this.prev.insertAt(I,O),L={startNode:this.prev.domNode,startOffset:I+O.length}}else U=document.createTextNode(O),this.parent.insertBefore(h.default.create(U),this),L={startNode:U,startOffset:O.length};else S===this.rightGuard&&(this.next instanceof v.default?(this.next.insertAt(0,O),L={startNode:this.next.domNode,startOffset:O.length}):(U=document.createTextNode(O),this.parent.insertBefore(h.default.create(U),this.next),L={startNode:U,startOffset:O.length}));return S.data=w,L}},{key:"update",value:function(S,L){var U=this;S.forEach(function(O){if(O.type==="characterData"&&(O.target===U.leftGuard||O.target===U.rightGuard)){var I=U.restore(O.target);I&&(L.range=I)}})}}]),T}(h.default.Embed);r.default=_},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var a=o(0),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}var h={scope:u.default.Scope.BLOCK,whitelist:["right","center","justify"]},m=new u.default.Attributor.Attribute("align","align",h),v=new u.default.Attributor.Class("align","ql-align",h),g=new u.default.Attributor.Style("align","text-align",h);r.AlignAttribute=m,r.AlignClass=v,r.AlignStyle=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var a=o(0),u=h(a),f=o(26);function h(g){return g&&g.__esModule?g:{default:g}}var m=new u.default.Attributor.Class("background","ql-bg",{scope:u.default.Scope.INLINE}),v=new f.ColorAttributor("background","background-color",{scope:u.default.Scope.INLINE});r.BackgroundClass=m,r.BackgroundStyle=v},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var a=o(0),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}var h={scope:u.default.Scope.BLOCK,whitelist:["rtl"]},m=new u.default.Attributor.Attribute("direction","dir",h),v=new u.default.Attributor.Class("direction","ql-direction",h),g=new u.default.Attributor.Style("direction","direction",h);r.DirectionAttribute=m,r.DirectionClass=v,r.DirectionStyle=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var a=function(){function E(T,k){for(var S=0;S<k.length;S++){var L=k[S];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(T,L.key,L)}}return function(T,k,S){return k&&E(T.prototype,k),S&&E(T,S),T}}(),u=function E(T,k,S){T===null&&(T=Function.prototype);var L=Object.getOwnPropertyDescriptor(T,k);if(L===void 0){var U=Object.getPrototypeOf(T);return U===null?void 0:E(U,k,S)}else{if("value"in L)return L.value;var O=L.get;return O===void 0?void 0:O.call(S)}},f=o(0),h=m(f);function m(E){return E&&E.__esModule?E:{default:E}}function v(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function g(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function d(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var y={scope:h.default.Scope.INLINE,whitelist:["serif","monospace"]},b=new h.default.Attributor.Class("font","ql-font",y),w=function(E){d(T,E);function T(){return v(this,T),g(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,[{key:"value",value:function(S){return u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"value",this).call(this,S).replace(/["']/g,"")}}]),T}(h.default.Attributor.Style),_=new w("font","font-family",y);r.FontStyle=_,r.FontClass=b},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var a=o(0),u=f(a);function f(v){return v&&v.__esModule?v:{default:v}}var h=new u.default.Attributor.Class("size","ql-size",{scope:u.default.Scope.INLINE,whitelist:["small","large","huge"]}),m=new u.default.Attributor.Style("size","font-size",{scope:u.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=h,r.SizeStyle=m},function(t,r,o){t.exports={align:{"":o(76),center:o(77),right:o(78),justify:o(79)},background:o(80),blockquote:o(81),bold:o(82),clean:o(83),code:o(58),"code-block":o(58),color:o(84),direction:{"":o(85),rtl:o(86)},float:{center:o(87),full:o(88),left:o(89),right:o(90)},formula:o(91),header:{1:o(92),2:o(93)},italic:o(94),image:o(95),indent:{"+1":o(96),"-1":o(97)},link:o(98),list:{ordered:o(99),bullet:o(100),check:o(101)},script:{sub:o(102),super:o(103)},strike:o(104),underline:o(105),video:o(106)}},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var a=function(){function k(S,L){for(var U=0;U<L.length;U++){var O=L[U];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(S,O.key,O)}}return function(S,L,U){return L&&k(S.prototype,L),U&&k(S,U),S}}(),u=o(0),f=d(u),h=o(5),m=d(h),v=o(9),g=d(v);function d(k){return k&&k.__esModule?k:{default:k}}function y(k,S){if(!(k instanceof S))throw new TypeError("Cannot call a class as a function")}function b(k,S){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:k}function w(k,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);k.prototype=Object.create(S&&S.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(k,S):k.__proto__=S)}var _=function(k){w(S,k);function S(L,U){y(this,S);var O=b(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,L,U));return O.lastRecorded=0,O.ignoreChange=!1,O.clear(),O.quill.on(m.default.events.EDITOR_CHANGE,function(I,M,N,R){I!==m.default.events.TEXT_CHANGE||O.ignoreChange||(!O.options.userOnly||R===m.default.sources.USER?O.record(M,N):O.transform(M))}),O.quill.keyboard.addBinding({key:"Z",shortKey:!0},O.undo.bind(O)),O.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},O.redo.bind(O)),/Win/i.test(navigator.platform)&&O.quill.keyboard.addBinding({key:"Y",shortKey:!0},O.redo.bind(O)),O}return a(S,[{key:"change",value:function(U,O){if(this.stack[U].length!==0){var I=this.stack[U].pop();this.stack[O].push(I),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(I[U],m.default.sources.USER),this.ignoreChange=!1;var M=T(I[U]);this.quill.setSelection(M)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(U,O){if(U.ops.length!==0){this.stack.redo=[];var I=this.quill.getContents().diff(O),M=Date.now();if(this.lastRecorded+this.options.delay>M&&this.stack.undo.length>0){var N=this.stack.undo.pop();I=I.compose(N.undo),U=N.redo.compose(U)}else this.lastRecorded=M;this.stack.undo.push({redo:U,undo:I}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(U){this.stack.undo.forEach(function(O){O.undo=U.transform(O.undo,!0),O.redo=U.transform(O.redo,!0)}),this.stack.redo.forEach(function(O){O.undo=U.transform(O.undo,!0),O.redo=U.transform(O.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),S}(g.default);_.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function E(k){var S=k.ops[k.ops.length-1];return S==null?!1:S.insert!=null?typeof S.insert=="string"&&S.insert.endsWith(`
`):S.attributes!=null?Object.keys(S.attributes).some(function(L){return f.default.query(L,f.default.Scope.BLOCK)!=null}):!1}function T(k){var S=k.reduce(function(U,O){return U+=O.delete||0,U},0),L=k.length()-S;return E(k)&&(L-=1),L}r.default=_,r.getLastChangeIndex=T},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var a=function(){function q(W,ee){for(var Z=0;Z<ee.length;Z++){var $=ee[Z];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(W,$.key,$)}}return function(W,ee,Z){return ee&&q(W.prototype,ee),Z&&q(W,Z),W}}(),u=function q(W,ee,Z){W===null&&(W=Function.prototype);var $=Object.getOwnPropertyDescriptor(W,ee);if($===void 0){var Y=Object.getPrototypeOf(W);return Y===null?void 0:q(Y,ee,Z)}else{if("value"in $)return $.value;var oe=$.get;return oe===void 0?void 0:oe.call(Z)}},f=o(3),h=M(f),m=o(2),v=M(m),g=o(8),d=M(g),y=o(23),b=M(y),w=o(34),_=M(w),E=o(59),T=M(E),k=o(60),S=M(k),L=o(28),U=M(L),O=o(61),I=M(O);function M(q){return q&&q.__esModule?q:{default:q}}function N(q,W){if(!(q instanceof W))throw new TypeError("Cannot call a class as a function")}function R(q,W){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:q}function D(q,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);q.prototype=Object.create(W&&W.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(q,W):q.__proto__=W)}var C=[!1,"center","right","justify"],z=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],G=[!1,"serif","monospace"],re=["1","2","3",!1],ne=["small",!1,"large","huge"],ie=function(q){D(W,q);function W(ee,Z){N(this,W);var $=R(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,ee,Z)),Y=function oe(se){if(!document.body.contains(ee.root))return document.body.removeEventListener("click",oe);$.tooltip!=null&&!$.tooltip.root.contains(se.target)&&document.activeElement!==$.tooltip.textbox&&!$.quill.hasFocus()&&$.tooltip.hide(),$.pickers!=null&&$.pickers.forEach(function(pe){pe.container.contains(se.target)||pe.close()})};return ee.emitter.listenDOM("click",document.body,Y),$}return a(W,[{key:"addModule",value:function(Z){var $=u(W.prototype.__proto__||Object.getPrototypeOf(W.prototype),"addModule",this).call(this,Z);return Z==="toolbar"&&this.extendToolbar($),$}},{key:"buildButtons",value:function(Z,$){Z.forEach(function(Y){var oe=Y.getAttribute("class")||"";oe.split(/\s+/).forEach(function(se){if(se.startsWith("ql-")&&(se=se.slice(3),$[se]!=null))if(se==="direction")Y.innerHTML=$[se][""]+$[se].rtl;else if(typeof $[se]=="string")Y.innerHTML=$[se];else{var pe=Y.value||"";pe!=null&&$[se][pe]&&(Y.innerHTML=$[se][pe])}})})}},{key:"buildPickers",value:function(Z,$){var Y=this;this.pickers=Z.map(function(se){if(se.classList.contains("ql-align"))return se.querySelector("option")==null&&j(se,C),new S.default(se,$.align);if(se.classList.contains("ql-background")||se.classList.contains("ql-color")){var pe=se.classList.contains("ql-background")?"background":"color";return se.querySelector("option")==null&&j(se,z,pe==="background"?"#ffffff":"#000000"),new T.default(se,$[pe])}else return se.querySelector("option")==null&&(se.classList.contains("ql-font")?j(se,G):se.classList.contains("ql-header")?j(se,re):se.classList.contains("ql-size")&&j(se,ne)),new U.default(se)});var oe=function(){Y.pickers.forEach(function(pe){pe.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,oe)}}]),W}(_.default);ie.DEFAULTS=(0,h.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var W=this,ee=this.container.querySelector("input.ql-image[type=file]");ee==null&&(ee=document.createElement("input"),ee.setAttribute("type","file"),ee.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ee.classList.add("ql-image"),ee.addEventListener("change",function(){if(ee.files!=null&&ee.files[0]!=null){var Z=new FileReader;Z.onload=function($){var Y=W.quill.getSelection(!0);W.quill.updateContents(new v.default().retain(Y.index).delete(Y.length).insert({image:$.target.result}),d.default.sources.USER),W.quill.setSelection(Y.index+1,d.default.sources.SILENT),ee.value=""},Z.readAsDataURL(ee.files[0])}}),this.container.appendChild(ee)),ee.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var X=function(q){D(W,q);function W(ee,Z){N(this,W);var $=R(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,ee,Z));return $.textbox=$.root.querySelector('input[type="text"]'),$.listen(),$}return a(W,[{key:"listen",value:function(){var Z=this;this.textbox.addEventListener("keydown",function($){b.default.match($,"enter")?(Z.save(),$.preventDefault()):b.default.match($,"escape")&&(Z.cancel(),$.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),$!=null?this.textbox.value=$:Z!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Z)||""),this.root.setAttribute("data-mode",Z)}},{key:"restoreFocus",value:function(){var Z=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Z}},{key:"save",value:function(){var Z=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var $=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Z,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Z,d.default.sources.USER)),this.quill.root.scrollTop=$;break}case"video":Z=H(Z);case"formula":{if(!Z)break;var Y=this.quill.getSelection(!0);if(Y!=null){var oe=Y.index+Y.length;this.quill.insertEmbed(oe,this.root.getAttribute("data-mode"),Z,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(oe+1," ",d.default.sources.USER),this.quill.setSelection(oe+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),W}(I.default);function H(q){var W=q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return W?(W[1]||"https")+"://www.youtube.com/embed/"+W[2]+"?showinfo=0":(W=q.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(W[1]||"https")+"://player.vimeo.com/video/"+W[2]+"/":q}function j(q,W){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;W.forEach(function(Z){var $=document.createElement("option");Z===ee?$.setAttribute("selected","selected"):$.setAttribute("value",Z),q.appendChild($)})}r.BaseTooltip=X,r.default=ie},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function u(){this.head=this.tail=null,this.length=0}return u.prototype.append=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];this.insertBefore(f[0],null),f.length>1&&this.append.apply(this,f.slice(1))},u.prototype.contains=function(f){for(var h,m=this.iterator();h=m();)if(h===f)return!0;return!1},u.prototype.insertBefore=function(f,h){f&&(f.next=h,h!=null?(f.prev=h.prev,h.prev!=null&&(h.prev.next=f),h.prev=f,h===this.head&&(this.head=f)):this.tail!=null?(this.tail.next=f,f.prev=this.tail,this.tail=f):(f.prev=null,this.head=this.tail=f),this.length+=1)},u.prototype.offset=function(f){for(var h=0,m=this.head;m!=null;){if(m===f)return h;h+=m.length(),m=m.next}return-1},u.prototype.remove=function(f){this.contains(f)&&(f.prev!=null&&(f.prev.next=f.next),f.next!=null&&(f.next.prev=f.prev),f===this.head&&(this.head=f.next),f===this.tail&&(this.tail=f.prev),this.length-=1)},u.prototype.iterator=function(f){return f===void 0&&(f=this.head),function(){var h=f;return f!=null&&(f=f.next),h}},u.prototype.find=function(f,h){h===void 0&&(h=!1);for(var m,v=this.iterator();m=v();){var g=m.length();if(f<g||h&&f===g&&(m.next==null||m.next.length()!==0))return[m,f];f-=g}return[null,0]},u.prototype.forEach=function(f){for(var h,m=this.iterator();h=m();)f(h)},u.prototype.forEachAt=function(f,h,m){if(!(h<=0))for(var v=this.find(f),g=v[0],d=v[1],y,b=f-d,w=this.iterator(g);(y=w())&&b<f+h;){var _=y.length();f>b?m(y,f-b,Math.min(h,b+_-f)):m(y,0,Math.min(_,f+h-b)),b+=_}},u.prototype.map=function(f){return this.reduce(function(h,m){return h.push(f(m)),h},[])},u.prototype.reduce=function(f,h){for(var m,v=this.iterator();m=v();)h=f(h,m);return h},u}();r.default=a},function(t,r,o){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var b in y)y.hasOwnProperty(b)&&(d[b]=y[b])};return function(d,y){g(d,y);function b(){this.constructor=d}d.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(17),f=o(1),h={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},m=100,v=function(g){a(d,g);function d(y){var b=g.call(this,y)||this;return b.scroll=b,b.observer=new MutationObserver(function(w){b.update(w)}),b.observer.observe(b.domNode,h),b.attach(),b}return d.prototype.detach=function(){g.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(y,b){this.update(),y===0&&b===this.length()?this.children.forEach(function(w){w.remove()}):g.prototype.deleteAt.call(this,y,b)},d.prototype.formatAt=function(y,b,w,_){this.update(),g.prototype.formatAt.call(this,y,b,w,_)},d.prototype.insertAt=function(y,b,w){this.update(),g.prototype.insertAt.call(this,y,b,w)},d.prototype.optimize=function(y,b){var w=this;y===void 0&&(y=[]),b===void 0&&(b={}),g.prototype.optimize.call(this,b);for(var _=[].slice.call(this.observer.takeRecords());_.length>0;)y.push(_.pop());for(var E=function(L,U){U===void 0&&(U=!0),!(L==null||L===w)&&L.domNode.parentNode!=null&&(L.domNode[f.DATA_KEY].mutations==null&&(L.domNode[f.DATA_KEY].mutations=[]),U&&E(L.parent))},T=function(L){L.domNode[f.DATA_KEY]==null||L.domNode[f.DATA_KEY].mutations==null||(L instanceof u.default&&L.children.forEach(T),L.optimize(b))},k=y,S=0;k.length>0;S+=1){if(S>=m)throw new Error("[Parchment] Maximum optimize iterations reached");for(k.forEach(function(L){var U=f.find(L.target,!0);U!=null&&(U.domNode===L.target&&(L.type==="childList"?(E(f.find(L.previousSibling,!1)),[].forEach.call(L.addedNodes,function(O){var I=f.find(O,!1);E(I,!1),I instanceof u.default&&I.children.forEach(function(M){E(M,!1)})})):L.type==="attributes"&&E(U.prev)),E(U))}),this.children.forEach(T),k=[].slice.call(this.observer.takeRecords()),_=k.slice();_.length>0;)y.push(_.pop())}},d.prototype.update=function(y,b){var w=this;b===void 0&&(b={}),y=y||this.observer.takeRecords(),y.map(function(_){var E=f.find(_.target,!0);return E==null?null:E.domNode[f.DATA_KEY].mutations==null?(E.domNode[f.DATA_KEY].mutations=[_],E):(E.domNode[f.DATA_KEY].mutations.push(_),null)}).forEach(function(_){_==null||_===w||_.domNode[f.DATA_KEY]==null||_.update(_.domNode[f.DATA_KEY].mutations||[],b)}),this.domNode[f.DATA_KEY].mutations!=null&&g.prototype.update.call(this,this.domNode[f.DATA_KEY].mutations,b),this.optimize(y,b)},d.blotName="scroll",d.defaultChild="block",d.scope=f.Scope.BLOCK_BLOT,d.tagName="DIV",d}(u.default);r.default=v},function(t,r,o){var a=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var y in d)d.hasOwnProperty(y)&&(g[y]=d[y])};return function(g,d){v(g,d);function y(){this.constructor=g}g.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(18),f=o(1);function h(v,g){if(Object.keys(v).length!==Object.keys(g).length)return!1;for(var d in v)if(v[d]!==g[d])return!1;return!0}var m=function(v){a(g,v);function g(){return v!==null&&v.apply(this,arguments)||this}return g.formats=function(d){if(d.tagName!==g.tagName)return v.formats.call(this,d)},g.prototype.format=function(d,y){var b=this;d===this.statics.blotName&&!y?(this.children.forEach(function(w){w instanceof u.default||(w=w.wrap(g.blotName,!0)),b.attributes.copy(w)}),this.unwrap()):v.prototype.format.call(this,d,y)},g.prototype.formatAt=function(d,y,b,w){if(this.formats()[b]!=null||f.query(b,f.Scope.ATTRIBUTE)){var _=this.isolate(d,y);_.format(b,w)}else v.prototype.formatAt.call(this,d,y,b,w)},g.prototype.optimize=function(d){v.prototype.optimize.call(this,d);var y=this.formats();if(Object.keys(y).length===0)return this.unwrap();var b=this.next;b instanceof g&&b.prev===this&&h(y,b.formats())&&(b.moveChildren(this),b.remove())},g.blotName="inline",g.scope=f.Scope.INLINE_BLOT,g.tagName="SPAN",g}(u.default);r.default=m},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var d in g)g.hasOwnProperty(d)&&(v[d]=g[d])};return function(v,g){m(v,g);function d(){this.constructor=v}v.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(18),f=o(1),h=function(m){a(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.formats=function(g){var d=f.query(v.blotName).tagName;if(g.tagName!==d)return m.formats.call(this,g)},v.prototype.format=function(g,d){f.query(g,f.Scope.BLOCK)!=null&&(g===this.statics.blotName&&!d?this.replaceWith(v.blotName):m.prototype.format.call(this,g,d))},v.prototype.formatAt=function(g,d,y,b){f.query(y,f.Scope.BLOCK)!=null?this.format(y,b):m.prototype.formatAt.call(this,g,d,y,b)},v.prototype.insertAt=function(g,d,y){if(y==null||f.query(d,f.Scope.INLINE)!=null)m.prototype.insertAt.call(this,g,d,y);else{var b=this.split(g),w=f.create(d,y);b.parent.insertBefore(w,b)}},v.prototype.update=function(g,d){navigator.userAgent.match(/Trident/)?this.build():m.prototype.update.call(this,g,d)},v.blotName="block",v.scope=f.Scope.BLOCK_BLOT,v.tagName="P",v}(u.default);r.default=h},function(t,r,o){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var g in v)v.hasOwnProperty(g)&&(m[g]=v[g])};return function(m,v){h(m,v);function g(){this.constructor=m}m.prototype=v===null?Object.create(v):(g.prototype=v.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(19),f=function(h){a(m,h);function m(){return h!==null&&h.apply(this,arguments)||this}return m.formats=function(v){},m.prototype.format=function(v,g){h.prototype.formatAt.call(this,0,this.length(),v,g)},m.prototype.formatAt=function(v,g,d,y){v===0&&g===this.length()?this.format(d,y):h.prototype.formatAt.call(this,v,g,d,y)},m.prototype.formats=function(){return this.statics.formats(this.domNode)},m}(u.default);r.default=f},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var d in g)g.hasOwnProperty(d)&&(v[d]=g[d])};return function(v,g){m(v,g);function d(){this.constructor=v}v.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(19),f=o(1),h=function(m){a(v,m);function v(g){var d=m.call(this,g)||this;return d.text=d.statics.value(d.domNode),d}return v.create=function(g){return document.createTextNode(g)},v.value=function(g){var d=g.data;return d.normalize&&(d=d.normalize()),d},v.prototype.deleteAt=function(g,d){this.domNode.data=this.text=this.text.slice(0,g)+this.text.slice(g+d)},v.prototype.index=function(g,d){return this.domNode===g?d:-1},v.prototype.insertAt=function(g,d,y){y==null?(this.text=this.text.slice(0,g)+d+this.text.slice(g),this.domNode.data=this.text):m.prototype.insertAt.call(this,g,d,y)},v.prototype.length=function(){return this.text.length},v.prototype.optimize=function(g){m.prototype.optimize.call(this,g),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof v&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},v.prototype.position=function(g,d){return[this.domNode,g]},v.prototype.split=function(g,d){if(d===void 0&&(d=!1),!d){if(g===0)return this;if(g===this.length())return this.next}var y=f.create(this.domNode.splitText(g));return this.parent.insertBefore(y,this.next),this.text=this.statics.value(this.domNode),y},v.prototype.update=function(g,d){var y=this;g.some(function(b){return b.type==="characterData"&&b.target===y.domNode})&&(this.text=this.statics.value(this.domNode))},v.prototype.value=function(){return this.text},v.blotName="text",v.scope=f.Scope.INLINE_BLOT,v}(u.default);r.default=h},function(t,r,o){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var u=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(f,h){return arguments.length>1&&!this.contains(f)==!h?h:u.call(this,f)}}String.prototype.startsWith||(String.prototype.startsWith=function(f,h){return h=h||0,this.substr(h,f.length)===f}),String.prototype.endsWith||(String.prototype.endsWith=function(f,h){var m=this.toString();(typeof h!="number"||!isFinite(h)||Math.floor(h)!==h||h>m.length)&&(h=m.length),h-=f.length;var v=m.indexOf(f,h);return v!==-1&&v===h}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(h){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof h!="function")throw new TypeError("predicate must be a function");for(var m=Object(this),v=m.length>>>0,g=arguments[1],d,y=0;y<v;y++)if(d=m[y],h.call(g,d,y,m))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,r){var o=-1,a=1,u=0;function f(S,L,U){if(S==L)return S?[[u,S]]:[];(U<0||S.length<U)&&(U=null);var O=g(S,L),I=S.substring(0,O);S=S.substring(O),L=L.substring(O),O=d(S,L);var M=S.substring(S.length-O);S=S.substring(0,S.length-O),L=L.substring(0,L.length-O);var N=h(S,L);return I&&N.unshift([u,I]),M&&N.push([u,M]),b(N),U!=null&&(N=E(N,U)),N=T(N),N}function h(S,L){var U;if(!S)return[[a,L]];if(!L)return[[o,S]];var O=S.length>L.length?S:L,I=S.length>L.length?L:S,M=O.indexOf(I);if(M!=-1)return U=[[a,O.substring(0,M)],[u,I],[a,O.substring(M+I.length)]],S.length>L.length&&(U[0][0]=U[2][0]=o),U;if(I.length==1)return[[o,S],[a,L]];var N=y(S,L);if(N){var R=N[0],D=N[1],C=N[2],z=N[3],G=N[4],re=f(R,C),ne=f(D,z);return re.concat([[u,G]],ne)}return m(S,L)}function m(S,L){for(var U=S.length,O=L.length,I=Math.ceil((U+O)/2),M=I,N=2*I,R=new Array(N),D=new Array(N),C=0;C<N;C++)R[C]=-1,D[C]=-1;R[M+1]=0,D[M+1]=0;for(var z=U-O,G=z%2!=0,re=0,ne=0,ie=0,X=0,H=0;H<I;H++){for(var j=-H+re;j<=H-ne;j+=2){var q=M+j,W;j==-H||j!=H&&R[q-1]<R[q+1]?W=R[q+1]:W=R[q-1]+1;for(var ee=W-j;W<U&&ee<O&&S.charAt(W)==L.charAt(ee);)W++,ee++;if(R[q]=W,W>U)ne+=2;else if(ee>O)re+=2;else if(G){var Z=M+z-j;if(Z>=0&&Z<N&&D[Z]!=-1){var $=U-D[Z];if(W>=$)return v(S,L,W,ee)}}}for(var Y=-H+ie;Y<=H-X;Y+=2){var Z=M+Y,$;Y==-H||Y!=H&&D[Z-1]<D[Z+1]?$=D[Z+1]:$=D[Z-1]+1;for(var oe=$-Y;$<U&&oe<O&&S.charAt(U-$-1)==L.charAt(O-oe-1);)$++,oe++;if(D[Z]=$,$>U)X+=2;else if(oe>O)ie+=2;else if(!G){var q=M+z-Y;if(q>=0&&q<N&&R[q]!=-1){var W=R[q],ee=M+W-q;if($=U-$,W>=$)return v(S,L,W,ee)}}}}return[[o,S],[a,L]]}function v(S,L,U,O){var I=S.substring(0,U),M=L.substring(0,O),N=S.substring(U),R=L.substring(O),D=f(I,M),C=f(N,R);return D.concat(C)}function g(S,L){if(!S||!L||S.charAt(0)!=L.charAt(0))return 0;for(var U=0,O=Math.min(S.length,L.length),I=O,M=0;U<I;)S.substring(M,I)==L.substring(M,I)?(U=I,M=U):O=I,I=Math.floor((O-U)/2+U);return I}function d(S,L){if(!S||!L||S.charAt(S.length-1)!=L.charAt(L.length-1))return 0;for(var U=0,O=Math.min(S.length,L.length),I=O,M=0;U<I;)S.substring(S.length-I,S.length-M)==L.substring(L.length-I,L.length-M)?(U=I,M=U):O=I,I=Math.floor((O-U)/2+U);return I}function y(S,L){var U=S.length>L.length?S:L,O=S.length>L.length?L:S;if(U.length<4||O.length*2<U.length)return null;function I(ne,ie,X){for(var H=ne.substring(X,X+Math.floor(ne.length/4)),j=-1,q="",W,ee,Z,$;(j=ie.indexOf(H,j+1))!=-1;){var Y=g(ne.substring(X),ie.substring(j)),oe=d(ne.substring(0,X),ie.substring(0,j));q.length<oe+Y&&(q=ie.substring(j-oe,j)+ie.substring(j,j+Y),W=ne.substring(0,X-oe),ee=ne.substring(X+Y),Z=ie.substring(0,j-oe),$=ie.substring(j+Y))}return q.length*2>=ne.length?[W,ee,Z,$,q]:null}var M=I(U,O,Math.ceil(U.length/4)),N=I(U,O,Math.ceil(U.length/2)),R;if(!M&&!N)return null;N?M?R=M[4].length>N[4].length?M:N:R=N:R=M;var D,C,z,G;S.length>L.length?(D=R[0],C=R[1],z=R[2],G=R[3]):(z=R[0],G=R[1],D=R[2],C=R[3]);var re=R[4];return[D,C,z,G,re]}function b(S){S.push([u,""]);for(var L=0,U=0,O=0,I="",M="",N;L<S.length;)switch(S[L][0]){case a:O++,M+=S[L][1],L++;break;case o:U++,I+=S[L][1],L++;break;case u:U+O>1?(U!==0&&O!==0&&(N=g(M,I),N!==0&&(L-U-O>0&&S[L-U-O-1][0]==u?S[L-U-O-1][1]+=M.substring(0,N):(S.splice(0,0,[u,M.substring(0,N)]),L++),M=M.substring(N),I=I.substring(N)),N=d(M,I),N!==0&&(S[L][1]=M.substring(M.length-N)+S[L][1],M=M.substring(0,M.length-N),I=I.substring(0,I.length-N))),U===0?S.splice(L-O,U+O,[a,M]):O===0?S.splice(L-U,U+O,[o,I]):S.splice(L-U-O,U+O,[o,I],[a,M]),L=L-U-O+(U?1:0)+(O?1:0)+1):L!==0&&S[L-1][0]==u?(S[L-1][1]+=S[L][1],S.splice(L,1)):L++,O=0,U=0,I="",M="";break}S[S.length-1][1]===""&&S.pop();var R=!1;for(L=1;L<S.length-1;)S[L-1][0]==u&&S[L+1][0]==u&&(S[L][1].substring(S[L][1].length-S[L-1][1].length)==S[L-1][1]?(S[L][1]=S[L-1][1]+S[L][1].substring(0,S[L][1].length-S[L-1][1].length),S[L+1][1]=S[L-1][1]+S[L+1][1],S.splice(L-1,1),R=!0):S[L][1].substring(0,S[L+1][1].length)==S[L+1][1]&&(S[L-1][1]+=S[L+1][1],S[L][1]=S[L][1].substring(S[L+1][1].length)+S[L+1][1],S.splice(L+1,1),R=!0)),L++;R&&b(S)}var w=f;w.INSERT=a,w.DELETE=o,w.EQUAL=u,t.exports=w;function _(S,L){if(L===0)return[u,S];for(var U=0,O=0;O<S.length;O++){var I=S[O];if(I[0]===o||I[0]===u){var M=U+I[1].length;if(L===M)return[O+1,S];if(L<M){S=S.slice();var N=L-U,R=[I[0],I[1].slice(0,N)],D=[I[0],I[1].slice(N)];return S.splice(O,1,R,D),[O+1,S]}else U=M}}throw new Error("cursor_pos is out of bounds!")}function E(S,L){var U=_(S,L),O=U[1],I=U[0],M=O[I],N=O[I+1];if(M==null)return S;if(M[0]!==u)return S;if(N!=null&&M[1]+N[1]===N[1]+M[1])return O.splice(I,2,N,M),k(O,I,2);if(N!=null&&N[1].indexOf(M[1])===0){O.splice(I,2,[N[0],M[1]],[0,M[1]]);var R=N[1].slice(M[1].length);return R.length>0&&O.splice(I+2,0,[N[0],R]),k(O,I,3)}else return S}function T(S){for(var L=!1,U=function(N){return N.charCodeAt(0)>=56320&&N.charCodeAt(0)<=57343},O=function(N){return N.charCodeAt(N.length-1)>=55296&&N.charCodeAt(N.length-1)<=56319},I=2;I<S.length;I+=1)S[I-2][0]===u&&O(S[I-2][1])&&S[I-1][0]===o&&U(S[I-1][1])&&S[I][0]===a&&U(S[I][1])&&(L=!0,S[I-1][1]=S[I-2][1].slice(-1)+S[I-1][1],S[I][1]=S[I-2][1].slice(-1)+S[I][1],S[I-2][1]=S[I-2][1].slice(0,-1));if(!L)return S;for(var M=[],I=0;I<S.length;I+=1)S[I][1].length>0&&M.push(S[I]);return M}function k(S,L,U){for(var O=L+U-1;O>=0&&O>=L-1;O--)if(O+1<S.length){var I=S[O],M=S[O+1];I[0]===M[1]&&S.splice(O,2,[I[0],I[1]+M[1]])}return S}},function(t,r){r=t.exports=typeof Object.keys=="function"?Object.keys:o,r.shim=o;function o(a){var u=[];for(var f in a)u.push(f);return u}},function(t,r){var o=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=t.exports=o?a:u,r.supported=a;function a(f){return Object.prototype.toString.call(f)=="[object Arguments]"}r.unsupported=u;function u(f){return f&&typeof f=="object"&&typeof f.length=="number"&&Object.prototype.hasOwnProperty.call(f,"callee")&&!Object.prototype.propertyIsEnumerable.call(f,"callee")||!1}},function(t,r){var o=Object.prototype.hasOwnProperty,a="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(a=!1));function f(m,v,g){this.fn=m,this.context=v,this.once=g||!1}function h(){this._events=new u,this._eventsCount=0}h.prototype.eventNames=function(){var v=[],g,d;if(this._eventsCount===0)return v;for(d in g=this._events)o.call(g,d)&&v.push(a?d.slice(1):d);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(g)):v},h.prototype.listeners=function(v,g){var d=a?a+v:v,y=this._events[d];if(g)return!!y;if(!y)return[];if(y.fn)return[y.fn];for(var b=0,w=y.length,_=new Array(w);b<w;b++)_[b]=y[b].fn;return _},h.prototype.emit=function(v,g,d,y,b,w){var _=a?a+v:v;if(!this._events[_])return!1;var E=this._events[_],T=arguments.length,k,S;if(E.fn){switch(E.once&&this.removeListener(v,E.fn,void 0,!0),T){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,g),!0;case 3:return E.fn.call(E.context,g,d),!0;case 4:return E.fn.call(E.context,g,d,y),!0;case 5:return E.fn.call(E.context,g,d,y,b),!0;case 6:return E.fn.call(E.context,g,d,y,b,w),!0}for(S=1,k=new Array(T-1);S<T;S++)k[S-1]=arguments[S];E.fn.apply(E.context,k)}else{var L=E.length,U;for(S=0;S<L;S++)switch(E[S].once&&this.removeListener(v,E[S].fn,void 0,!0),T){case 1:E[S].fn.call(E[S].context);break;case 2:E[S].fn.call(E[S].context,g);break;case 3:E[S].fn.call(E[S].context,g,d);break;case 4:E[S].fn.call(E[S].context,g,d,y);break;default:if(!k)for(U=1,k=new Array(T-1);U<T;U++)k[U-1]=arguments[U];E[S].fn.apply(E[S].context,k)}}return!0},h.prototype.on=function(v,g,d){var y=new f(g,d||this),b=a?a+v:v;return this._events[b]?this._events[b].fn?this._events[b]=[this._events[b],y]:this._events[b].push(y):(this._events[b]=y,this._eventsCount++),this},h.prototype.once=function(v,g,d){var y=new f(g,d||this,!0),b=a?a+v:v;return this._events[b]?this._events[b].fn?this._events[b]=[this._events[b],y]:this._events[b].push(y):(this._events[b]=y,this._eventsCount++),this},h.prototype.removeListener=function(v,g,d,y){var b=a?a+v:v;if(!this._events[b])return this;if(!g)return--this._eventsCount===0?this._events=new u:delete this._events[b],this;var w=this._events[b];if(w.fn)w.fn===g&&(!y||w.once)&&(!d||w.context===d)&&(--this._eventsCount===0?this._events=new u:delete this._events[b]);else{for(var _=0,E=[],T=w.length;_<T;_++)(w[_].fn!==g||y&&!w[_].once||d&&w[_].context!==d)&&E.push(w[_]);E.length?this._events[b]=E.length===1?E[0]:E:--this._eventsCount===0?this._events=new u:delete this._events[b]}return this},h.prototype.removeAllListeners=function(v){var g;return v?(g=a?a+v:v,this._events[g]&&(--this._eventsCount===0?this._events=new u:delete this._events[g])):(this._events=new u,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prototype.setMaxListeners=function(){return this},h.prefixed=a,h.EventEmitter=h,typeof t<"u"&&(t.exports=h)},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(he){return typeof he}:function(he){return he&&typeof Symbol=="function"&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he},u=function(){function he(me,be){var Ae=[],ye=!0,Be=!1,ze=void 0;try{for(var Ke=me[Symbol.iterator](),ot;!(ye=(ot=Ke.next()).done)&&(Ae.push(ot.value),!(be&&Ae.length===be));ye=!0);}catch(ut){Be=!0,ze=ut}finally{try{!ye&&Ke.return&&Ke.return()}finally{if(Be)throw ze}}return Ae}return function(me,be){if(Array.isArray(me))return me;if(Symbol.iterator in Object(me))return he(me,be);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function he(me,be){for(var Ae=0;Ae<be.length;Ae++){var ye=be[Ae];ye.enumerable=ye.enumerable||!1,ye.configurable=!0,"value"in ye&&(ye.writable=!0),Object.defineProperty(me,ye.key,ye)}}return function(me,be,Ae){return be&&he(me.prototype,be),Ae&&he(me,Ae),me}}(),h=o(3),m=D(h),v=o(2),g=D(v),d=o(0),y=D(d),b=o(5),w=D(b),_=o(10),E=D(_),T=o(9),k=D(T),S=o(36),L=o(37),U=o(13),O=D(U),I=o(26),M=o(38),N=o(39),R=o(40);function D(he){return he&&he.__esModule?he:{default:he}}function C(he,me,be){return me in he?Object.defineProperty(he,me,{value:be,enumerable:!0,configurable:!0,writable:!0}):he[me]=be,he}function z(he,me){if(!(he instanceof me))throw new TypeError("Cannot call a class as a function")}function G(he,me){if(!he)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me&&(typeof me=="object"||typeof me=="function")?me:he}function re(he,me){if(typeof me!="function"&&me!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof me);he.prototype=Object.create(me&&me.prototype,{constructor:{value:he,enumerable:!1,writable:!0,configurable:!0}}),me&&(Object.setPrototypeOf?Object.setPrototypeOf(he,me):he.__proto__=me)}var ne=(0,E.default)("quill:clipboard"),ie="__ql-matcher",X=[[Node.TEXT_NODE,mt],[Node.TEXT_NODE,We],["br",Ie],[Node.ELEMENT_NODE,We],[Node.ELEMENT_NODE,pe],[Node.ELEMENT_NODE,Xe],[Node.ELEMENT_NODE,se],[Node.ELEMENT_NODE,Ot],["li",Ve],["b",oe.bind(oe,"bold")],["i",oe.bind(oe,"italic")],["style",De]],H=[S.AlignAttribute,M.DirectionAttribute].reduce(function(he,me){return he[me.keyName]=me,he},{}),j=[S.AlignStyle,L.BackgroundStyle,I.ColorStyle,M.DirectionStyle,N.FontStyle,R.SizeStyle].reduce(function(he,me){return he[me.keyName]=me,he},{}),q=function(he){re(me,he);function me(be,Ae){z(this,me);var ye=G(this,(me.__proto__||Object.getPrototypeOf(me)).call(this,be,Ae));return ye.quill.root.addEventListener("paste",ye.onPaste.bind(ye)),ye.container=ye.quill.addContainer("ql-clipboard"),ye.container.setAttribute("contenteditable",!0),ye.container.setAttribute("tabindex",-1),ye.matchers=[],X.concat(ye.options.matchers).forEach(function(Be){var ze=u(Be,2),Ke=ze[0],ot=ze[1];!Ae.matchVisual&&ot===Xe||ye.addMatcher(Ke,ot)}),ye}return f(me,[{key:"addMatcher",value:function(Ae,ye){this.matchers.push([Ae,ye])}},{key:"convert",value:function(Ae){if(typeof Ae=="string")return this.container.innerHTML=Ae.replace(/\>\r?\n +\</g,"><"),this.convert();var ye=this.quill.getFormat(this.quill.selection.savedRange.index);if(ye[O.default.blotName]){var Be=this.container.innerText;return this.container.innerHTML="",new g.default().insert(Be,C({},O.default.blotName,ye[O.default.blotName]))}var ze=this.prepareMatching(),Ke=u(ze,2),ot=Ke[0],ut=Ke[1],rt=Y(this.container,ot,ut);return Z(rt,`
`)&&rt.ops[rt.ops.length-1].attributes==null&&(rt=rt.compose(new g.default().retain(rt.length()-1).delete(1))),ne.log("convert",this.container.innerHTML,rt),this.container.innerHTML="",rt}},{key:"dangerouslyPasteHTML",value:function(Ae,ye){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w.default.sources.API;if(typeof Ae=="string")this.quill.setContents(this.convert(Ae),ye),this.quill.setSelection(0,w.default.sources.SILENT);else{var ze=this.convert(ye);this.quill.updateContents(new g.default().retain(Ae).concat(ze),Be),this.quill.setSelection(Ae+ze.length(),w.default.sources.SILENT)}}},{key:"onPaste",value:function(Ae){var ye=this;if(!(Ae.defaultPrevented||!this.quill.isEnabled())){var Be=this.quill.getSelection(),ze=new g.default().retain(Be.index),Ke=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(w.default.sources.SILENT),setTimeout(function(){ze=ze.concat(ye.convert()).delete(Be.length),ye.quill.updateContents(ze,w.default.sources.USER),ye.quill.setSelection(ze.length()-Be.length,w.default.sources.SILENT),ye.quill.scrollingContainer.scrollTop=Ke,ye.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Ae=this,ye=[],Be=[];return this.matchers.forEach(function(ze){var Ke=u(ze,2),ot=Ke[0],ut=Ke[1];switch(ot){case Node.TEXT_NODE:Be.push(ut);break;case Node.ELEMENT_NODE:ye.push(ut);break;default:[].forEach.call(Ae.container.querySelectorAll(ot),function(rt){rt[ie]=rt[ie]||[],rt[ie].push(ut)});break}}),[ye,Be]}}]),me}(k.default);q.DEFAULTS={matchers:[],matchVisual:!0};function W(he,me,be){return(typeof me>"u"?"undefined":a(me))==="object"?Object.keys(me).reduce(function(Ae,ye){return W(Ae,ye,me[ye])},he):he.reduce(function(Ae,ye){return ye.attributes&&ye.attributes[me]?Ae.push(ye):Ae.insert(ye.insert,(0,m.default)({},C({},me,be),ye.attributes))},new g.default)}function ee(he){if(he.nodeType!==Node.ELEMENT_NODE)return{};var me="__ql-computed-style";return he[me]||(he[me]=window.getComputedStyle(he))}function Z(he,me){for(var be="",Ae=he.ops.length-1;Ae>=0&&be.length<me.length;--Ae){var ye=he.ops[Ae];if(typeof ye.insert!="string")break;be=ye.insert+be}return be.slice(-1*me.length)===me}function $(he){if(he.childNodes.length===0)return!1;var me=ee(he);return["block","list-item"].indexOf(me.display)>-1}function Y(he,me,be){return he.nodeType===he.TEXT_NODE?be.reduce(function(Ae,ye){return ye(he,Ae)},new g.default):he.nodeType===he.ELEMENT_NODE?[].reduce.call(he.childNodes||[],function(Ae,ye){var Be=Y(ye,me,be);return ye.nodeType===he.ELEMENT_NODE&&(Be=me.reduce(function(ze,Ke){return Ke(ye,ze)},Be),Be=(ye[ie]||[]).reduce(function(ze,Ke){return Ke(ye,ze)},Be)),Ae.concat(Be)},new g.default):new g.default}function oe(he,me,be){return W(be,he,!0)}function se(he,me){var be=y.default.Attributor.Attribute.keys(he),Ae=y.default.Attributor.Class.keys(he),ye=y.default.Attributor.Style.keys(he),Be={};return be.concat(Ae).concat(ye).forEach(function(ze){var Ke=y.default.query(ze,y.default.Scope.ATTRIBUTE);Ke!=null&&(Be[Ke.attrName]=Ke.value(he),Be[Ke.attrName])||(Ke=H[ze],Ke!=null&&(Ke.attrName===ze||Ke.keyName===ze)&&(Be[Ke.attrName]=Ke.value(he)||void 0),Ke=j[ze],Ke!=null&&(Ke.attrName===ze||Ke.keyName===ze)&&(Ke=j[ze],Be[Ke.attrName]=Ke.value(he)||void 0))}),Object.keys(Be).length>0&&(me=W(me,Be)),me}function pe(he,me){var be=y.default.query(he);if(be==null)return me;if(be.prototype instanceof y.default.Embed){var Ae={},ye=be.value(he);ye!=null&&(Ae[be.blotName]=ye,me=new g.default().insert(Ae,be.formats(he)))}else typeof be.formats=="function"&&(me=W(me,be.blotName,be.formats(he)));return me}function Ie(he,me){return Z(me,`
`)||me.insert(`
`),me}function De(){return new g.default}function Ve(he,me){var be=y.default.query(he);if(be==null||be.blotName!=="list-item"||!Z(me,`
`))return me;for(var Ae=-1,ye=he.parentNode;!ye.classList.contains("ql-clipboard");)(y.default.query(ye)||{}).blotName==="list"&&(Ae+=1),ye=ye.parentNode;return Ae<=0?me:me.compose(new g.default().retain(me.length()-1).retain(1,{indent:Ae}))}function We(he,me){return Z(me,`
`)||($(he)||me.length()>0&&he.nextSibling&&$(he.nextSibling))&&me.insert(`
`),me}function Xe(he,me){if($(he)&&he.nextElementSibling!=null&&!Z(me,`

`)){var be=he.offsetHeight+parseFloat(ee(he).marginTop)+parseFloat(ee(he).marginBottom);he.nextElementSibling.offsetTop>he.offsetTop+be*1.5&&me.insert(`
`)}return me}function Ot(he,me){var be={},Ae=he.style||{};return Ae.fontStyle&&ee(he).fontStyle==="italic"&&(be.italic=!0),Ae.fontWeight&&(ee(he).fontWeight.startsWith("bold")||parseInt(ee(he).fontWeight)>=700)&&(be.bold=!0),Object.keys(be).length>0&&(me=W(me,be)),parseFloat(Ae.textIndent||0)>0&&(me=new g.default().insert("	").concat(me)),me}function mt(he,me){var be=he.data;if(he.parentNode.tagName==="O:P")return me.insert(be.trim());if(be.trim().length===0&&he.parentNode.classList.contains("ql-clipboard"))return me;if(!ee(he.parentNode).whiteSpace.startsWith("pre")){var Ae=function(Be,ze){return ze=ze.replace(/[^\u00a0]/g,""),ze.length<1&&Be?" ":ze};be=be.replace(/\r\n/g," ").replace(/\n/g," "),be=be.replace(/\s\s+/g,Ae.bind(Ae,!0)),(he.previousSibling==null&&$(he.parentNode)||he.previousSibling!=null&&$(he.previousSibling))&&(be=be.replace(/^\s+/,Ae.bind(Ae,!1))),(he.nextSibling==null&&$(he.parentNode)||he.nextSibling!=null&&$(he.nextSibling))&&(be=be.replace(/\s+$/,Ae.bind(Ae,!1)))}return me.insert(be)}r.default=q,r.matchAttributor=se,r.matchBlot=pe,r.matchNewline=We,r.matchSpacing=Xe,r.matchText=mt},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function b(w,_){for(var E=0;E<_.length;E++){var T=_[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,_,E){return _&&b(w.prototype,_),E&&b(w,E),w}}(),u=function b(w,_,E){w===null&&(w=Function.prototype);var T=Object.getOwnPropertyDescriptor(w,_);if(T===void 0){var k=Object.getPrototypeOf(w);return k===null?void 0:b(k,_,E)}else{if("value"in T)return T.value;var S=T.get;return S===void 0?void 0:S.call(E)}},f=o(6),h=m(f);function m(b){return b&&b.__esModule?b:{default:b}}function v(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function g(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function d(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var y=function(b){d(w,b);function w(){return v(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"optimize",value:function(E){u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,E),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return u(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),w}(h.default);y.blotName="bold",y.tagName=["STRONG","B"],r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var a=function(){function R(D,C){var z=[],G=!0,re=!1,ne=void 0;try{for(var ie=D[Symbol.iterator](),X;!(G=(X=ie.next()).done)&&(z.push(X.value),!(C&&z.length===C));G=!0);}catch(H){re=!0,ne=H}finally{try{!G&&ie.return&&ie.return()}finally{if(re)throw ne}}return z}return function(D,C){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return R(D,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function R(D,C){for(var z=0;z<C.length;z++){var G=C[z];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(D,G.key,G)}}return function(D,C,z){return C&&R(D.prototype,C),z&&R(D,z),D}}(),f=o(2),h=E(f),m=o(0),v=E(m),g=o(5),d=E(g),y=o(10),b=E(y),w=o(9),_=E(w);function E(R){return R&&R.__esModule?R:{default:R}}function T(R,D,C){return D in R?Object.defineProperty(R,D,{value:C,enumerable:!0,configurable:!0,writable:!0}):R[D]=C,R}function k(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}function S(R,D){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:R}function L(R,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(R,D):R.__proto__=D)}var U=(0,b.default)("quill:toolbar"),O=function(R){L(D,R);function D(C,z){k(this,D);var G=S(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,C,z));if(Array.isArray(G.options.container)){var re=document.createElement("div");M(re,G.options.container),C.container.parentNode.insertBefore(re,C.container),G.container=re}else typeof G.options.container=="string"?G.container=document.querySelector(G.options.container):G.container=G.options.container;if(!(G.container instanceof HTMLElement)){var ne;return ne=U.error("Container required for toolbar",G.options),S(G,ne)}return G.container.classList.add("ql-toolbar"),G.controls=[],G.handlers={},Object.keys(G.options.handlers).forEach(function(ie){G.addHandler(ie,G.options.handlers[ie])}),[].forEach.call(G.container.querySelectorAll("button, select"),function(ie){G.attach(ie)}),G.quill.on(d.default.events.EDITOR_CHANGE,function(ie,X){ie===d.default.events.SELECTION_CHANGE&&G.update(X)}),G.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var ie=G.quill.selection.getRange(),X=a(ie,1),H=X[0];G.update(H)}),G}return u(D,[{key:"addHandler",value:function(z,G){this.handlers[z]=G}},{key:"attach",value:function(z){var G=this,re=[].find.call(z.classList,function(ie){return ie.indexOf("ql-")===0});if(re){if(re=re.slice(3),z.tagName==="BUTTON"&&z.setAttribute("type","button"),this.handlers[re]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[re]==null){U.warn("ignoring attaching to disabled format",re,z);return}if(v.default.query(re)==null){U.warn("ignoring attaching to nonexistent format",re,z);return}}var ne=z.tagName==="SELECT"?"change":"click";z.addEventListener(ne,function(ie){var X=void 0;if(z.tagName==="SELECT"){if(z.selectedIndex<0)return;var H=z.options[z.selectedIndex];H.hasAttribute("selected")?X=!1:X=H.value||!1}else z.classList.contains("ql-active")?X=!1:X=z.value||!z.hasAttribute("value"),ie.preventDefault();G.quill.focus();var j=G.quill.selection.getRange(),q=a(j,1),W=q[0];if(G.handlers[re]!=null)G.handlers[re].call(G,X);else if(v.default.query(re).prototype instanceof v.default.Embed){if(X=prompt("Enter "+re),!X)return;G.quill.updateContents(new h.default().retain(W.index).delete(W.length).insert(T({},re,X)),d.default.sources.USER)}else G.quill.format(re,X,d.default.sources.USER);G.update(W)}),this.controls.push([re,z])}}},{key:"update",value:function(z){var G=z==null?{}:this.quill.getFormat(z);this.controls.forEach(function(re){var ne=a(re,2),ie=ne[0],X=ne[1];if(X.tagName==="SELECT"){var H=void 0;if(z==null)H=null;else if(G[ie]==null)H=X.querySelector("option[selected]");else if(!Array.isArray(G[ie])){var j=G[ie];typeof j=="string"&&(j=j.replace(/\"/g,'\\"')),H=X.querySelector('option[value="'+j+'"]')}H==null?(X.value="",X.selectedIndex=-1):H.selected=!0}else if(z==null)X.classList.remove("ql-active");else if(X.hasAttribute("value")){var q=G[ie]===X.getAttribute("value")||G[ie]!=null&&G[ie].toString()===X.getAttribute("value")||G[ie]==null&&!X.getAttribute("value");X.classList.toggle("ql-active",q)}else X.classList.toggle("ql-active",G[ie]!=null)})}}]),D}(_.default);O.DEFAULTS={};function I(R,D,C){var z=document.createElement("button");z.setAttribute("type","button"),z.classList.add("ql-"+D),C!=null&&(z.value=C),R.appendChild(z)}function M(R,D){Array.isArray(D[0])||(D=[D]),D.forEach(function(C){var z=document.createElement("span");z.classList.add("ql-formats"),C.forEach(function(G){if(typeof G=="string")I(z,G);else{var re=Object.keys(G)[0],ne=G[re];Array.isArray(ne)?N(z,re,ne):I(z,re,ne)}}),R.appendChild(z)})}function N(R,D,C){var z=document.createElement("select");z.classList.add("ql-"+D),C.forEach(function(G){var re=document.createElement("option");G!==!1?re.setAttribute("value",G):re.setAttribute("selected","selected"),z.appendChild(re)}),R.appendChild(z)}O.DEFAULTS={container:null,handlers:{clean:function(){var D=this,C=this.quill.getSelection();if(C!=null)if(C.length==0){var z=this.quill.getFormat();Object.keys(z).forEach(function(G){v.default.query(G,v.default.Scope.INLINE)!=null&&D.quill.format(G,!1)})}else this.quill.removeFormat(C,d.default.sources.USER)},direction:function(D){var C=this.quill.getFormat().align;D==="rtl"&&C==null?this.quill.format("align","right",d.default.sources.USER):!D&&C==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",D,d.default.sources.USER)},indent:function(D){var C=this.quill.getSelection(),z=this.quill.getFormat(C),G=parseInt(z.indent||0);if(D==="+1"||D==="-1"){var re=D==="+1"?1:-1;z.direction==="rtl"&&(re*=-1),this.quill.format("indent",G+re,d.default.sources.USER)}},link:function(D){D===!0&&(D=prompt("Enter link URL:")),this.quill.format("link",D,d.default.sources.USER)},list:function(D){var C=this.quill.getSelection(),z=this.quill.getFormat(C);D==="check"?z.list==="checked"||z.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",D,d.default.sources.USER)}}},r.default=O,r.addControls=M},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function b(w,_){for(var E=0;E<_.length;E++){var T=_[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,_,E){return _&&b(w.prototype,_),E&&b(w,E),w}}(),u=function b(w,_,E){w===null&&(w=Function.prototype);var T=Object.getOwnPropertyDescriptor(w,_);if(T===void 0){var k=Object.getPrototypeOf(w);return k===null?void 0:b(k,_,E)}else{if("value"in T)return T.value;var S=T.get;return S===void 0?void 0:S.call(E)}},f=o(28),h=m(f);function m(b){return b&&b.__esModule?b:{default:b}}function v(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function g(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function d(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var y=function(b){d(w,b);function w(_,E){v(this,w);var T=g(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,_));return T.label.innerHTML=E,T.container.classList.add("ql-color-picker"),[].slice.call(T.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(k){k.classList.add("ql-primary")}),T}return a(w,[{key:"buildItem",value:function(E){var T=u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"buildItem",this).call(this,E);return T.style.backgroundColor=E.getAttribute("value")||"",T}},{key:"selectItem",value:function(E,T){u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"selectItem",this).call(this,E,T);var k=this.label.querySelector(".ql-color-label"),S=E&&E.getAttribute("data-value")||"";k&&(k.tagName==="line"?k.style.stroke=S:k.style.fill=S)}}]),w}(h.default);r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function b(w,_){for(var E=0;E<_.length;E++){var T=_[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,_,E){return _&&b(w.prototype,_),E&&b(w,E),w}}(),u=function b(w,_,E){w===null&&(w=Function.prototype);var T=Object.getOwnPropertyDescriptor(w,_);if(T===void 0){var k=Object.getPrototypeOf(w);return k===null?void 0:b(k,_,E)}else{if("value"in T)return T.value;var S=T.get;return S===void 0?void 0:S.call(E)}},f=o(28),h=m(f);function m(b){return b&&b.__esModule?b:{default:b}}function v(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function g(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function d(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var y=function(b){d(w,b);function w(_,E){v(this,w);var T=g(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,_));return T.container.classList.add("ql-icon-picker"),[].forEach.call(T.container.querySelectorAll(".ql-picker-item"),function(k){k.innerHTML=E[k.getAttribute("data-value")||""]}),T.defaultItem=T.container.querySelector(".ql-selected"),T.selectItem(T.defaultItem),T}return a(w,[{key:"selectItem",value:function(E,T){u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"selectItem",this).call(this,E,T),E=E||this.defaultItem,this.label.innerHTML=E.innerHTML}}]),w}(h.default);r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function h(m,v){for(var g=0;g<v.length;g++){var d=v[g];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(m,d.key,d)}}return function(m,v,g){return v&&h(m.prototype,v),g&&h(m,g),m}}();function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}var f=function(){function h(m,v){var g=this;u(this,h),this.quill=m,this.boundsContainer=v||document.body,this.root=m.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){g.root.style.marginTop=-1*g.quill.root.scrollTop+"px"}),this.hide()}return a(h,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(v){var g=v.left+v.width/2-this.root.offsetWidth/2,d=v.bottom+this.quill.root.scrollTop;this.root.style.left=g+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var y=this.boundsContainer.getBoundingClientRect(),b=this.root.getBoundingClientRect(),w=0;if(b.right>y.right&&(w=y.right-b.right,this.root.style.left=g+w+"px"),b.left<y.left&&(w=y.left-b.left,this.root.style.left=g+w+"px"),b.bottom>y.bottom){var _=b.bottom-b.top,E=v.bottom-v.top+_;this.root.style.top=d-E+"px",this.root.classList.add("ql-flip")}return w}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),h}();r.default=f},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function N(R,D){var C=[],z=!0,G=!1,re=void 0;try{for(var ne=R[Symbol.iterator](),ie;!(z=(ie=ne.next()).done)&&(C.push(ie.value),!(D&&C.length===D));z=!0);}catch(X){G=!0,re=X}finally{try{!z&&ne.return&&ne.return()}finally{if(G)throw re}}return C}return function(R,D){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return N(R,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function N(R,D,C){R===null&&(R=Function.prototype);var z=Object.getOwnPropertyDescriptor(R,D);if(z===void 0){var G=Object.getPrototypeOf(R);return G===null?void 0:N(G,D,C)}else{if("value"in z)return z.value;var re=z.get;return re===void 0?void 0:re.call(C)}},f=function(){function N(R,D){for(var C=0;C<D.length;C++){var z=D[C];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(R,z.key,z)}}return function(R,D,C){return D&&N(R.prototype,D),C&&N(R,C),R}}(),h=o(3),m=k(h),v=o(8),g=k(v),d=o(43),y=k(d),b=o(27),w=k(b),_=o(15),E=o(41),T=k(E);function k(N){return N&&N.__esModule?N:{default:N}}function S(N,R){if(!(N instanceof R))throw new TypeError("Cannot call a class as a function")}function L(N,R){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:N}function U(N,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);N.prototype=Object.create(R&&R.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(N,R):N.__proto__=R)}var O=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],I=function(N){U(R,N);function R(D,C){S(this,R),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=O);var z=L(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,D,C));return z.quill.container.classList.add("ql-snow"),z}return f(R,[{key:"extendToolbar",value:function(C){C.container.classList.add("ql-snow"),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),T.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),T.default),this.tooltip=new M(this.quill,this.options.bounds),C.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(z,G){C.handlers.link.call(C,!G.format.link)})}}]),R}(y.default);I.DEFAULTS=(0,m.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(R){if(R){var D=this.quill.getSelection();if(D==null||D.length==0)return;var C=this.quill.getText(D);/^\S+@\S+\.\S+$/.test(C)&&C.indexOf("mailto:")!==0&&(C="mailto:"+C);var z=this.quill.theme.tooltip;z.edit("link",C)}else this.quill.format("link",!1)}}}}});var M=function(N){U(R,N);function R(D,C){S(this,R);var z=L(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,D,C));return z.preview=z.root.querySelector("a.ql-preview"),z}return f(R,[{key:"listen",value:function(){var C=this;u(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(z){C.root.classList.contains("ql-editing")?C.save():C.edit("link",C.preview.textContent),z.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(z){if(C.linkRange!=null){var G=C.linkRange;C.restoreFocus(),C.quill.formatText(G,"link",!1,g.default.sources.USER),delete C.linkRange}z.preventDefault(),C.hide()}),this.quill.on(g.default.events.SELECTION_CHANGE,function(z,G,re){if(z!=null){if(z.length===0&&re===g.default.sources.USER){var ne=C.quill.scroll.descendant(w.default,z.index),ie=a(ne,2),X=ie[0],H=ie[1];if(X!=null){C.linkRange=new _.Range(z.index-H,X.length());var j=w.default.formats(X.domNode);C.preview.textContent=j,C.preview.setAttribute("href",j),C.show(),C.position(C.quill.getBounds(C.linkRange));return}}else delete C.linkRange;C.hide()}})}},{key:"show",value:function(){u(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),R}(d.BaseTooltip);M.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=I},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(29),u=ye(a),f=o(36),h=o(38),m=o(64),v=o(65),g=ye(v),d=o(66),y=ye(d),b=o(67),w=ye(b),_=o(37),E=o(26),T=o(39),k=o(40),S=o(56),L=ye(S),U=o(68),O=ye(U),I=o(27),M=ye(I),N=o(69),R=ye(N),D=o(70),C=ye(D),z=o(71),G=ye(z),re=o(72),ne=ye(re),ie=o(73),X=ye(ie),H=o(13),j=ye(H),q=o(74),W=ye(q),ee=o(75),Z=ye(ee),$=o(57),Y=ye($),oe=o(41),se=ye(oe),pe=o(28),Ie=ye(pe),De=o(59),Ve=ye(De),We=o(60),Xe=ye(We),Ot=o(61),mt=ye(Ot),he=o(108),me=ye(he),be=o(62),Ae=ye(be);function ye(Be){return Be&&Be.__esModule?Be:{default:Be}}u.default.register({"attributors/attribute/direction":h.DirectionAttribute,"attributors/class/align":f.AlignClass,"attributors/class/background":_.BackgroundClass,"attributors/class/color":E.ColorClass,"attributors/class/direction":h.DirectionClass,"attributors/class/font":T.FontClass,"attributors/class/size":k.SizeClass,"attributors/style/align":f.AlignStyle,"attributors/style/background":_.BackgroundStyle,"attributors/style/color":E.ColorStyle,"attributors/style/direction":h.DirectionStyle,"attributors/style/font":T.FontStyle,"attributors/style/size":k.SizeStyle},!0),u.default.register({"formats/align":f.AlignClass,"formats/direction":h.DirectionClass,"formats/indent":m.IndentClass,"formats/background":_.BackgroundStyle,"formats/color":E.ColorStyle,"formats/font":T.FontClass,"formats/size":k.SizeClass,"formats/blockquote":g.default,"formats/code-block":j.default,"formats/header":y.default,"formats/list":w.default,"formats/bold":L.default,"formats/code":H.Code,"formats/italic":O.default,"formats/link":M.default,"formats/script":R.default,"formats/strike":C.default,"formats/underline":G.default,"formats/image":ne.default,"formats/video":X.default,"formats/list/item":b.ListItem,"modules/formula":W.default,"modules/syntax":Z.default,"modules/toolbar":Y.default,"themes/bubble":me.default,"themes/snow":Ae.default,"ui/icons":se.default,"ui/picker":Ie.default,"ui/icon-picker":Xe.default,"ui/color-picker":Ve.default,"ui/tooltip":mt.default},!0),r.default=u.default},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var a=function(){function w(_,E){for(var T=0;T<E.length;T++){var k=E[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(_,k.key,k)}}return function(_,E,T){return E&&w(_.prototype,E),T&&w(_,T),_}}(),u=function w(_,E,T){_===null&&(_=Function.prototype);var k=Object.getOwnPropertyDescriptor(_,E);if(k===void 0){var S=Object.getPrototypeOf(_);return S===null?void 0:w(S,E,T)}else{if("value"in k)return k.value;var L=k.get;return L===void 0?void 0:L.call(T)}},f=o(0),h=m(f);function m(w){return w&&w.__esModule?w:{default:w}}function v(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function g(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function d(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var y=function(w){d(_,w);function _(){return v(this,_),g(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"add",value:function(T,k){if(k==="+1"||k==="-1"){var S=this.value(T)||0;k=k==="+1"?S+1:S-1}return k===0?(this.remove(T),!0):u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"add",this).call(this,T,k)}},{key:"canAdd",value:function(T,k){return u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,T,k)||u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,T,parseInt(k))}},{key:"value",value:function(T){return parseInt(u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,T))||void 0}}]),_}(h.default.Attributor.Class),b=new y("indent","ql-indent",{scope:h.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=b},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(4),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function m(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var g=function(d){v(y,d);function y(){return h(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(u.default);g.blotName="blockquote",g.tagName="blockquote",r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function y(b,w){for(var _=0;_<w.length;_++){var E=w[_];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}return function(b,w,_){return w&&y(b.prototype,w),_&&y(b,_),b}}(),u=o(4),f=h(u);function h(y){return y&&y.__esModule?y:{default:y}}function m(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function v(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function g(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var d=function(y){g(b,y);function b(){return m(this,b),v(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,null,[{key:"formats",value:function(_){return this.tagName.indexOf(_.tagName)+1}}]),b}(f.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],r.default=d},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var a=function(){function S(L,U){for(var O=0;O<U.length;O++){var I=U[O];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(L,I.key,I)}}return function(L,U,O){return U&&S(L.prototype,U),O&&S(L,O),L}}(),u=function S(L,U,O){L===null&&(L=Function.prototype);var I=Object.getOwnPropertyDescriptor(L,U);if(I===void 0){var M=Object.getPrototypeOf(L);return M===null?void 0:S(M,U,O)}else{if("value"in I)return I.value;var N=I.get;return N===void 0?void 0:N.call(O)}},f=o(0),h=y(f),m=o(4),v=y(m),g=o(25),d=y(g);function y(S){return S&&S.__esModule?S:{default:S}}function b(S,L,U){return L in S?Object.defineProperty(S,L,{value:U,enumerable:!0,configurable:!0,writable:!0}):S[L]=U,S}function w(S,L){if(!(S instanceof L))throw new TypeError("Cannot call a class as a function")}function _(S,L){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:S}function E(S,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);S.prototype=Object.create(L&&L.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(S,L):S.__proto__=L)}var T=function(S){E(L,S);function L(){return w(this,L),_(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return a(L,[{key:"format",value:function(O,I){O===k.blotName&&!I?this.replaceWith(h.default.create(this.statics.scope)):u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"format",this).call(this,O,I)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(O,I){return this.parent.isolate(this.offset(this.parent),this.length()),O===this.parent.statics.blotName?(this.parent.replaceWith(O,I),this):(this.parent.unwrap(),u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"replaceWith",this).call(this,O,I))}}],[{key:"formats",value:function(O){return O.tagName===this.tagName?void 0:u(L.__proto__||Object.getPrototypeOf(L),"formats",this).call(this,O)}}]),L}(v.default);T.blotName="list-item",T.tagName="LI";var k=function(S){E(L,S),a(L,null,[{key:"create",value:function(O){var I=O==="ordered"?"OL":"UL",M=u(L.__proto__||Object.getPrototypeOf(L),"create",this).call(this,I);return(O==="checked"||O==="unchecked")&&M.setAttribute("data-checked",O==="checked"),M}},{key:"formats",value:function(O){if(O.tagName==="OL")return"ordered";if(O.tagName==="UL")return O.hasAttribute("data-checked")?O.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function L(U){w(this,L);var O=_(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,U)),I=function(N){if(N.target.parentNode===U){var R=O.statics.formats(U),D=h.default.find(N.target);R==="checked"?D.format("list","unchecked"):R==="unchecked"&&D.format("list","checked")}};return U.addEventListener("touchstart",I),U.addEventListener("mousedown",I),O}return a(L,[{key:"format",value:function(O,I){this.children.length>0&&this.children.tail.format(O,I)}},{key:"formats",value:function(){return b({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(O,I){if(O instanceof T)u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertBefore",this).call(this,O,I);else{var M=I==null?this.length():I.offset(this),N=this.split(M);N.parent.insertBefore(O,N)}}},{key:"optimize",value:function(O){u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"optimize",this).call(this,O);var I=this.next;I!=null&&I.prev===this&&I.statics.blotName===this.statics.blotName&&I.domNode.tagName===this.domNode.tagName&&I.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(I.moveChildren(this),I.remove())}},{key:"replace",value:function(O){if(O.statics.blotName!==this.statics.blotName){var I=h.default.create(this.statics.defaultChild);O.moveChildren(I),this.appendChild(I)}u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"replace",this).call(this,O)}}]),L}(d.default);k.blotName="list",k.scope=h.default.Scope.BLOCK_BLOT,k.tagName=["OL","UL"],k.defaultChild="list-item",k.allowedChildren=[T],r.ListItem=T,r.default=k},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(56),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function m(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var g=function(d){v(y,d);function y(){return h(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(u.default);g.blotName="italic",g.tagName=["EM","I"],r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function b(w,_){for(var E=0;E<_.length;E++){var T=_[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,_,E){return _&&b(w.prototype,_),E&&b(w,E),w}}(),u=function b(w,_,E){w===null&&(w=Function.prototype);var T=Object.getOwnPropertyDescriptor(w,_);if(T===void 0){var k=Object.getPrototypeOf(w);return k===null?void 0:b(k,_,E)}else{if("value"in T)return T.value;var S=T.get;return S===void 0?void 0:S.call(E)}},f=o(6),h=m(f);function m(b){return b&&b.__esModule?b:{default:b}}function v(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function g(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function d(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var y=function(b){d(w,b);function w(){return v(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,null,[{key:"create",value:function(E){return E==="super"?document.createElement("sup"):E==="sub"?document.createElement("sub"):u(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,E)}},{key:"formats",value:function(E){if(E.tagName==="SUB")return"sub";if(E.tagName==="SUP")return"super"}}]),w}(h.default);y.blotName="script",y.tagName=["SUB","SUP"],r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(6),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function m(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var g=function(d){v(y,d);function y(){return h(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(u.default);g.blotName="strike",g.tagName="S",r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(6),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function m(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var g=function(d){v(y,d);function y(){return h(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(u.default);g.blotName="underline",g.tagName="U",r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function _(E,T){for(var k=0;k<T.length;k++){var S=T[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(E,S.key,S)}}return function(E,T,k){return T&&_(E.prototype,T),k&&_(E,k),E}}(),u=function _(E,T,k){E===null&&(E=Function.prototype);var S=Object.getOwnPropertyDescriptor(E,T);if(S===void 0){var L=Object.getPrototypeOf(E);return L===null?void 0:_(L,T,k)}else{if("value"in S)return S.value;var U=S.get;return U===void 0?void 0:U.call(k)}},f=o(0),h=v(f),m=o(27);function v(_){return _&&_.__esModule?_:{default:_}}function g(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}function d(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:_}function y(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}var b=["alt","height","width"],w=function(_){y(E,_);function E(){return g(this,E),d(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"format",value:function(k,S){b.indexOf(k)>-1?S?this.domNode.setAttribute(k,S):this.domNode.removeAttribute(k):u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,k,S)}}],[{key:"create",value:function(k){var S=u(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,k);return typeof k=="string"&&S.setAttribute("src",this.sanitize(k)),S}},{key:"formats",value:function(k){return b.reduce(function(S,L){return k.hasAttribute(L)&&(S[L]=k.getAttribute(L)),S},{})}},{key:"match",value:function(k){return/\.(jpe?g|gif|png)$/.test(k)||/^data:image\/.+;base64/.test(k)}},{key:"sanitize",value:function(k){return(0,m.sanitize)(k,["http","https","data"])?k:"//:0"}},{key:"value",value:function(k){return k.getAttribute("src")}}]),E}(h.default.Embed);w.blotName="image",w.tagName="IMG",r.default=w},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function _(E,T){for(var k=0;k<T.length;k++){var S=T[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(E,S.key,S)}}return function(E,T,k){return T&&_(E.prototype,T),k&&_(E,k),E}}(),u=function _(E,T,k){E===null&&(E=Function.prototype);var S=Object.getOwnPropertyDescriptor(E,T);if(S===void 0){var L=Object.getPrototypeOf(E);return L===null?void 0:_(L,T,k)}else{if("value"in S)return S.value;var U=S.get;return U===void 0?void 0:U.call(k)}},f=o(4),h=o(27),m=v(h);function v(_){return _&&_.__esModule?_:{default:_}}function g(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}function d(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:_}function y(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}var b=["height","width"],w=function(_){y(E,_);function E(){return g(this,E),d(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"format",value:function(k,S){b.indexOf(k)>-1?S?this.domNode.setAttribute(k,S):this.domNode.removeAttribute(k):u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,k,S)}}],[{key:"create",value:function(k){var S=u(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,k);return S.setAttribute("frameborder","0"),S.setAttribute("allowfullscreen",!0),S.setAttribute("src",this.sanitize(k)),S}},{key:"formats",value:function(k){return b.reduce(function(S,L){return k.hasAttribute(L)&&(S[L]=k.getAttribute(L)),S},{})}},{key:"sanitize",value:function(k){return m.default.sanitize(k)}},{key:"value",value:function(k){return k.getAttribute("src")}}]),E}(f.BlockEmbed);w.blotName="video",w.className="ql-video",w.tagName="IFRAME",r.default=w},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var a=function(){function k(S,L){for(var U=0;U<L.length;U++){var O=L[U];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(S,O.key,O)}}return function(S,L,U){return L&&k(S.prototype,L),U&&k(S,U),S}}(),u=function k(S,L,U){S===null&&(S=Function.prototype);var O=Object.getOwnPropertyDescriptor(S,L);if(O===void 0){var I=Object.getPrototypeOf(S);return I===null?void 0:k(I,L,U)}else{if("value"in O)return O.value;var M=O.get;return M===void 0?void 0:M.call(U)}},f=o(35),h=y(f),m=o(5),v=y(m),g=o(9),d=y(g);function y(k){return k&&k.__esModule?k:{default:k}}function b(k,S){if(!(k instanceof S))throw new TypeError("Cannot call a class as a function")}function w(k,S){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:k}function _(k,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);k.prototype=Object.create(S&&S.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(k,S):k.__proto__=S)}var E=function(k){_(S,k);function S(){return b(this,S),w(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return a(S,null,[{key:"create",value:function(U){var O=u(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,U);return typeof U=="string"&&(window.katex.render(U,O,{throwOnError:!1,errorColor:"#f00"}),O.setAttribute("data-value",U)),O}},{key:"value",value:function(U){return U.getAttribute("data-value")}}]),S}(h.default);E.blotName="formula",E.className="ql-formula",E.tagName="SPAN";var T=function(k){_(S,k),a(S,null,[{key:"register",value:function(){v.default.register(E,!0)}}]);function S(){b(this,S);var L=w(this,(S.__proto__||Object.getPrototypeOf(S)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return L}return S}(d.default);r.FormulaBlot=E,r.default=T},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var a=function(){function U(O,I){for(var M=0;M<I.length;M++){var N=I[M];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(O,N.key,N)}}return function(O,I,M){return I&&U(O.prototype,I),M&&U(O,M),O}}(),u=function U(O,I,M){O===null&&(O=Function.prototype);var N=Object.getOwnPropertyDescriptor(O,I);if(N===void 0){var R=Object.getPrototypeOf(O);return R===null?void 0:U(R,I,M)}else{if("value"in N)return N.value;var D=N.get;return D===void 0?void 0:D.call(M)}},f=o(0),h=w(f),m=o(5),v=w(m),g=o(9),d=w(g),y=o(13),b=w(y);function w(U){return U&&U.__esModule?U:{default:U}}function _(U,O){if(!(U instanceof O))throw new TypeError("Cannot call a class as a function")}function E(U,O){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:U}function T(U,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);U.prototype=Object.create(O&&O.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(U,O):U.__proto__=O)}var k=function(U){T(O,U);function O(){return _(this,O),E(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return a(O,[{key:"replaceWith",value:function(M){this.domNode.textContent=this.domNode.textContent,this.attach(),u(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replaceWith",this).call(this,M)}},{key:"highlight",value:function(M){var N=this.domNode.textContent;this.cachedText!==N&&((N.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=M(N),this.domNode.normalize(),this.attach()),this.cachedText=N)}}]),O}(b.default);k.className="ql-syntax";var S=new h.default.Attributor.Class("token","hljs",{scope:h.default.Scope.INLINE}),L=function(U){T(O,U),a(O,null,[{key:"register",value:function(){v.default.register(S,!0),v.default.register(k,!0)}}]);function O(I,M){_(this,O);var N=E(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,I,M));if(typeof N.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var R=null;return N.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(R),R=setTimeout(function(){N.highlight(),R=null},N.options.interval)}),N.highlight(),N}return a(O,[{key:"highlight",value:function(){var M=this;if(!this.quill.selection.composing){this.quill.update(v.default.sources.USER);var N=this.quill.getSelection();this.quill.scroll.descendants(k).forEach(function(R){R.highlight(M.options.highlight)}),this.quill.update(v.default.sources.SILENT),N!=null&&this.quill.setSelection(N,v.default.sources.SILENT)}}}]),O}(d.default);L.DEFAULTS={highlight:function(){return window.hljs==null?null:function(U){var O=window.hljs.highlightAuto(U);return O.value}}(),interval:1e3},r.CodeBlock=k,r.CodeToken=S,r.default=L},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,r){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,r){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,r){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,r){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var a=function O(I,M,N){I===null&&(I=Function.prototype);var R=Object.getOwnPropertyDescriptor(I,M);if(R===void 0){var D=Object.getPrototypeOf(I);return D===null?void 0:O(D,M,N)}else{if("value"in R)return R.value;var C=R.get;return C===void 0?void 0:C.call(N)}},u=function(){function O(I,M){for(var N=0;N<M.length;N++){var R=M[N];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(I,R.key,R)}}return function(I,M,N){return M&&O(I.prototype,M),N&&O(I,N),I}}(),f=o(3),h=_(f),m=o(8),v=_(m),g=o(43),d=_(g),y=o(15),b=o(41),w=_(b);function _(O){return O&&O.__esModule?O:{default:O}}function E(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}function T(O,I){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:O}function k(O,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);O.prototype=Object.create(I&&I.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(O,I):O.__proto__=I)}var S=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],L=function(O){k(I,O);function I(M,N){E(this,I),N.modules.toolbar!=null&&N.modules.toolbar.container==null&&(N.modules.toolbar.container=S);var R=T(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,M,N));return R.quill.container.classList.add("ql-bubble"),R}return u(I,[{key:"extendToolbar",value:function(N){this.tooltip=new U(this.quill,this.options.bounds),this.tooltip.root.appendChild(N.container),this.buildButtons([].slice.call(N.container.querySelectorAll("button")),w.default),this.buildPickers([].slice.call(N.container.querySelectorAll("select")),w.default)}}]),I}(d.default);L.DEFAULTS=(0,h.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){I?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var U=function(O){k(I,O);function I(M,N){E(this,I);var R=T(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,M,N));return R.quill.on(v.default.events.EDITOR_CHANGE,function(D,C,z,G){if(D===v.default.events.SELECTION_CHANGE)if(C!=null&&C.length>0&&G===v.default.sources.USER){R.show(),R.root.style.left="0px",R.root.style.width="",R.root.style.width=R.root.offsetWidth+"px";var re=R.quill.getLines(C.index,C.length);if(re.length===1)R.position(R.quill.getBounds(C));else{var ne=re[re.length-1],ie=R.quill.getIndex(ne),X=Math.min(ne.length()-1,C.index+C.length-ie),H=R.quill.getBounds(new y.Range(ie,X));R.position(H)}}else document.activeElement!==R.textbox&&R.quill.hasFocus()&&R.hide()}),R}return u(I,[{key:"listen",value:function(){var N=this;a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){N.root.classList.remove("ql-editing")}),this.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!N.root.classList.contains("ql-hidden")){var R=N.quill.getSelection();R!=null&&N.position(N.quill.getBounds(R))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(N){var R=a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"position",this).call(this,N),D=this.root.querySelector(".ql-tooltip-arrow");if(D.style.marginLeft="",R===0)return R;D.style.marginLeft=-1*R-D.offsetWidth/2+"px"}}]),I}(g.BaseTooltip);U.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=U,r.default=L},function(t,r,o){t.exports=o(63)}]).default})}(Ac)),Ac.exports}var ur,bw;function zL(){if(bw)return ur;bw=1;var n=ur&&ur.__extends||function(){var v=function(g,d){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var w in b)b.hasOwnProperty(w)&&(y[w]=b[w])},v(g,d)};return function(g,d){v(g,d);function y(){this.constructor=g}g.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}}(),e=ur&&ur.__assign||function(){return e=Object.assign||function(v){for(var g,d=1,y=arguments.length;d<y;d++){g=arguments[d];for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(v[b]=g[b])}return v},e.apply(this,arguments)},t=ur&&ur.__spreadArrays||function(){for(var v=0,g=0,d=arguments.length;g<d;g++)v+=arguments[g].length;for(var y=Array(v),b=0,g=0;g<d;g++)for(var w=arguments[g],_=0,E=w.length;_<E;_++,b++)y[b]=w[_];return y},r=ur&&ur.__importDefault||function(v){return v&&v.__esModule?v:{default:v}},o=r(Kc()),a=r(Cw()),u=r(FL()),f=r(BL()),h=function(v){n(g,v);function g(d){var y=v.call(this,d)||this;y.dirtyProps=["modules","formats","bounds","theme","children"],y.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],y.state={generation:0},y.selection=null,y.onEditorChange=function(w,_,E,T){var k,S,L,U;w==="text-change"?(S=(k=y).onEditorChangeText)===null||S===void 0||S.call(k,y.editor.root.innerHTML,_,T,y.unprivilegedEditor):w==="selection-change"&&((U=(L=y).onEditorChangeSelection)===null||U===void 0||U.call(L,_,T,y.unprivilegedEditor))};var b=y.isControlled()?d.value:d.defaultValue;return y.value=b??"",y}return g.prototype.validateProps=function(d){var y;if(o.default.Children.count(d.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(o.default.Children.count(d.children)){var b=o.default.Children.only(d.children);if(((y=b)===null||y===void 0?void 0:y.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&d.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},g.prototype.shouldComponentUpdate=function(d,y){var b=this,w;if(this.validateProps(d),!this.editor||this.state.generation!==y.generation)return!0;if("value"in d){var _=this.getEditorContents(),E=(w=d.value,w??"");this.isEqualValue(E,_)||this.setEditorContents(this.editor,E)}return d.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,d.readOnly),t(this.cleanProps,this.dirtyProps).some(function(T){return!u.default(d[T],b.props[T])})},g.prototype.shouldComponentRegenerate=function(d){var y=this;return this.dirtyProps.some(function(b){return!u.default(d[b],y.props[b])})},g.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},g.prototype.componentWillUnmount=function(){this.destroyEditor()},g.prototype.componentDidUpdate=function(d,y){var b=this;if(this.editor&&this.shouldComponentRegenerate(d)){var w=this.editor.getContents(),_=this.editor.getSelection();this.regenerationSnapshot={delta:w,selection:_},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==y.generation){var E=this.regenerationSnapshot,w=E.delta,T=E.selection;delete this.regenerationSnapshot,this.instantiateEditor();var k=this.editor;k.setContents(w),m(function(){return b.setEditorSelection(k,T)})}},g.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},g.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},g.prototype.isControlled=function(){return"value"in this.props},g.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},g.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},g.prototype.createEditor=function(d,y){var b=new f.default(d,y);return y.tabIndex!=null&&this.setEditorTabIndex(b,y.tabIndex),this.hookEditor(b),b},g.prototype.hookEditor=function(d){this.unprivilegedEditor=this.makeUnprivilegedEditor(d),d.on("editor-change",this.onEditorChange)},g.prototype.unhookEditor=function(d){d.off("editor-change",this.onEditorChange)},g.prototype.getEditorContents=function(){return this.value},g.prototype.getEditorSelection=function(){return this.selection},g.prototype.isDelta=function(d){return d&&d.ops},g.prototype.isEqualValue=function(d,y){return this.isDelta(d)&&this.isDelta(y)?u.default(d.ops,y.ops):u.default(d,y)},g.prototype.setEditorContents=function(d,y){var b=this;this.value=y;var w=this.getEditorSelection();typeof y=="string"?d.setContents(d.clipboard.convert(y)):d.setContents(y),m(function(){return b.setEditorSelection(d,w)})},g.prototype.setEditorSelection=function(d,y){if(this.selection=y,y){var b=d.getLength();y.index=Math.max(0,Math.min(y.index,b-1)),y.length=Math.max(0,Math.min(y.length,b-1-y.index)),d.setSelection(y)}},g.prototype.setEditorTabIndex=function(d,y){var b,w;!((w=(b=d)===null||b===void 0?void 0:b.scroll)===null||w===void 0)&&w.domNode&&(d.scroll.domNode.tabIndex=y)},g.prototype.setEditorReadOnly=function(d,y){y?d.disable():d.enable()},g.prototype.makeUnprivilegedEditor=function(d){var y=d;return{getHTML:function(){return y.root.innerHTML},getLength:y.getLength.bind(y),getText:y.getText.bind(y),getContents:y.getContents.bind(y),getSelection:y.getSelection.bind(y),getBounds:y.getBounds.bind(y)}},g.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var d=a.default.findDOMNode(this.editingArea);if(!d)throw new Error("Cannot find element for editing area");if(d.nodeType===3)throw new Error("Editing area cannot be a text node");return d},g.prototype.renderEditingArea=function(){var d=this,y=this.props,b=y.children,w=y.preserveWhitespace,_=this.state.generation,E={key:_,ref:function(T){d.editingArea=T}};return o.default.Children.count(b)?o.default.cloneElement(o.default.Children.only(b),E):w?o.default.createElement("pre",e({},E)):o.default.createElement("div",e({},E))},g.prototype.render=function(){var d;return o.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(d=this.props.className,d??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},g.prototype.onEditorChangeText=function(d,y,b,w){var _,E;if(this.editor){var T=this.isDelta(this.value)?w.getContents():w.getHTML();T!==this.getEditorContents()&&(this.lastDeltaChangeSet=y,this.value=T,(E=(_=this.props).onChange)===null||E===void 0||E.call(_,d,y,b,w))}},g.prototype.onEditorChangeSelection=function(d,y,b){var w,_,E,T,k,S;if(this.editor){var L=this.getEditorSelection(),U=!L&&d,O=L&&!d;u.default(d,L)||(this.selection=d,(_=(w=this.props).onChangeSelection)===null||_===void 0||_.call(w,d,y,b),U?(T=(E=this.props).onFocus)===null||T===void 0||T.call(E,d,y,b):O&&((S=(k=this.props).onBlur)===null||S===void 0||S.call(k,L,y,b)))}},g.prototype.focus=function(){this.editor&&this.editor.focus()},g.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},g.displayName="React Quill",g.Quill=f.default,g.defaultProps={theme:"snow",modules:{},readOnly:!1},g}(o.default.Component);function m(v){Promise.resolve().then(v)}return ur=h,ur}var $L=zL();const Sw=xm($L),Aw=350,Iw=()=>{const[n,e]=de.useState(!1),[t,r]=et.useState(!1),{cpf:o,login:a}=de.useContext(ci),[u,f]=et.useState(""),[h,m]=et.useState(!1),[v,g]=et.useState(0),[d,y]=et.useState(""),b=kl(),{id:w}=Uw(),[_,E]=de.useState({title:"",price:"",cpu:"",motherBoard:"",cpuText:"",storage:"",tower:"",adApproved:!1,font:"",memory:"",graphicsCard:"",cooling:"",amoutCables:"",ages:"",link:"",motherBoardText:"",customerCpf:"",images:[]});de.useEffect(()=>{(async()=>{if(w){const C=await Ub("products",w);console.log("Objeto selecionado   ",C),C&&typeof C=="object"&&Object.keys(C).length>0&&E({title:C.title,price:C.price,cpu:C.cpu,motherBoard:C.motherBoard,adApproved:C.adApproved,cpuText:C.cpuText,storage:C.storage,tower:C.tower,font:C.font,memory:C.memory,graphicsCard:C.graphicsCard,cooling:C.cooling,amoutCables:C.amoutCables,ages:C.ages,link:C.link,customerCpf:o,motherBoardText:C.motherBoardText,images:C.images})}})()},[]);const T=D=>{let{id:C,value:z}=D.target;C==="price"&&(z=z.replace(/\D/g,""),z=(parseFloat(z)/100).toFixed(2),z=`R$ ${z.replace(".",",")}`),C!=="title"&&C!=="ages"&&C!=="motherBoardText"&&C!=="cpuText"&&C!=="link"&&(z=z.toUpperCase()),E(G=>({...G,[C]:z}))},k=async D=>{const C=D.target.files[0];if(C)try{await Z2(C,g,y,E)}catch(z){console.error("Erro no upload:",z)}},S=(D,C)=>{D.replace(/<[^>]*>/g,"").length<=Aw&&f(D),E(G=>({...G,[C]:D}))},L=D=>{u.replace(/<[^>]*>/g,"").length>=Aw&&D.key!=="Backspace"&&D.preventDefault()},U=()=>{if(n===!1){e(!0);return}e(!1),O()},O=D=>{(!D||typeof D.preventDefault!="function")&&(D={preventDefault:()=>{}}),D.preventDefault(),_.price=_.price.replace("R$ ","").replace(",00","");const C=JSON.parse(localStorage.getItem("products"))||[];if(w){_.customerCpf=I(o),C[w]=_,Q2("products",w,_),b("/");return}_.customerCpf=I(o),C.push(_),Vb("products",_),E({id:"",title:"",price:"",cpu:"",motherBoard:"",storage:"",tower:"",cpuText:"",motherBoardText:"",font:"",graphicsCard:"",customerCpf:"",memory:"",cooling:"",amoutCables:"",ages:"",link:"",images:[]}),r(!0)},I=D=>D.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),M=D=>{E(C=>({...C,images:C.images.filter((z,G)=>G!==D)}))},N=D=>D.length>6?D.slice(0,6)+"...":D,R=D=>{if(w){if(D){Y2("products",w),m(!1),b("/");return}m(!0)}};return K.jsxs("div",{className:at.productFormContainer,children:[t&&K.jsx(ea,{message:"Seu produto foi criado com sucesso. Ele será avaliado e em breve estará disponível para venda.",setClose:r,adress:"/"}),h&&K.jsx(Om,{defaultMessage:"Você está prestes a excluir esse card. Tem certeza que quer continuar",setCloseMessage:m,goOn:()=>R(!0)}),n&&K.jsx(Om,{defaultMessage:"Tem certeza que quer enviar os dados?",setCloseMessage:e,goOn:()=>U()}),K.jsx("h2",{children:"Formulário para máquinas Dragon"}),K.jsxs("form",{className:at.formContainer,children:[K.jsxs("div",{className:at.formRow,children:[K.jsxs("div",{className:at.formGroup,children:[K.jsx("label",{htmlFor:"title",children:"Título/Aplicação:"}),K.jsxs("select",{id:"title",value:_.title,onChange:T,required:!0,children:[K.jsx("option",{value:"",children:"Selecione sua opção"}),K.jsx("option",{value:"Gamer",children:"Gamer"}),K.jsx("option",{value:"Office",children:"Office"}),K.jsx("option",{value:"Render",children:"Render"}),K.jsx("option",{value:"Doméstico",children:"Doméstico"}),K.jsx("option",{value:"Edição de Video",children:"Edição de Video"})]})]}),K.jsxs("div",{className:at.formGroup,children:[K.jsx("label",{htmlFor:"price",children:"Preço:"}),K.jsx("input",{type:"text",required:!0,id:"price",value:_.price,onChange:T})]})]}),K.jsxs("div",{className:at.formRow,children:[K.jsxs("div",{className:at.formGroup,children:[K.jsx("label",{htmlFor:"processador",children:"CPU:"}),K.jsx("input",{type:"text",required:!0,id:"cpu",value:_.cpu,onChange:T})]}),K.jsxs("div",{className:at.formGroup,children:[K.jsx("label",{htmlFor:"motherBoard",children:"Placa Mãe:"}),K.jsx("input",{type:"text",required:!0,id:"motherBoard",value:_.motherBoard,onChange:T})]})]}),K.jsxs("div",{className:at.formRow,children:[K.jsxs("div",{className:at.formGroup,children:[K.jsx("label",{htmlFor:"processador",children:"Memória:"}),K.jsx("input",{type:"text",required:!0,id:"memory",value:_.memory,onChange:T})]}),K.jsxs("div",{className:at.formGroup,children:[K.jsx("label",{htmlFor:"motherBoard",children:"Refrigeração:"}),K.jsx("input",{type:"text",required:!0,id:"cooling",value:_.cooling,onChange:T})]})]}),K.jsxs("div",{className:at.formRow,children:[K.jsxs("div",{className:at.formGroup,children:[K.jsx("label",{htmlFor:"graphicsCard",children:"Placa de Video:"}),K.jsx("input",{type:"text",id:"graphicsCard",value:_.graphicsCard,onChange:T})]}),K.jsxs("div",{className:at.formGroup,children:[K.jsx("label",{htmlFor:"font",children:"Fonte:"}),K.jsx("input",{type:"text",id:"font",value:_.font,onChange:T})]})]}),K.jsxs("div",{className:at.formRow,children:[K.jsxs("div",{className:at.formGroup,children:[K.jsx("label",{htmlFor:"quantidadeDeCabos",children:" Cabos:"}),K.jsx("input",{type:"text",id:"amoutCables",value:_.amoutCables,onChange:T})]}),K.jsxs("div",{className:at.formGroup,children:[K.jsx("label",{htmlFor:"font",children:"Gabinete:"}),K.jsx("input",{type:"text",id:"tower",value:_.tower,onChange:T})]})]}),K.jsxs("div",{className:at.formRow,children:[K.jsxs("div",{className:at.formGroup,children:[K.jsx("label",{htmlFor:"quantidadeDeCabos",children:"Data da Compra"}),K.jsx("input",{type:"date",id:"ages",value:_.ages,onChange:T})]}),K.jsxs("div",{className:at.formGroup,children:[K.jsx("label",{htmlFor:"images",children:"Imagens:"}),K.jsx("input",{type:"file",onChange:k}),K.jsx("progress",{value:v,max:"100"}),d&&K.jsx("img",{className:at.imagePreview,src:d,alt:"Uploaded file"})]})]}),K.jsx("div",{className:at.containerImages,children:_&&_.images&&_.images.length>0&&_.images.map((D,C)=>K.jsx("div",{children:K.jsxs("div",{className:at.imageItem,children:[K.jsx("p",{children:N(D)}),K.jsx("button",{type:"button",onClick:()=>M(C),children:"X"})]})},C))}),K.jsxs("div",{className:at.formTextareaColumn,children:[K.jsxs("div",{className:at.textareaColumn,children:[K.jsx("label",{htmlFor:"motherBoardText",children:"ESPECIFICAÇÕES PLACA MÃE:"}),K.jsx(Sw,{id:"motherBoardText",className:at.textField,value:_.motherBoardText,onChange:D=>S(D,"motherBoardText"),onKeyDown:L})]}),K.jsxs("div",{className:at.textareaColumn,children:[K.jsx("label",{htmlFor:"cpuText",children:"ESPECIFICAÇÕES CPU:"}),K.jsx(Sw,{id:"cpuText",className:at.textField,value:_.cpuText,onChange:D=>S(D,"cpuText"),onKeyDown:L})]})]}),K.jsxs("div",{className:at.btnContainer,children:[K.jsx("button",{type:"button",onClick:U,children:"Salvar"}),K.jsx("button",{type:"button",onClick:()=>R(!1),disabled:w===void 0,children:"Excluir"})]}),K.jsx("div",{className:at.formRow,children:a&&K.jsxs("div",{className:at.formGroup,children:[K.jsx("label",{htmlFor:"adApproved",children:"Aprovar Anúncio:"}),K.jsx("input",{type:"checkbox",id:"adApproved",checked:_.adApproved,onChange:D=>E(C=>({...C,adApproved:D.target.checked}))}),K.jsx("span",{children:"Somente os inputs checados aparecerão na área de cliente."})]})})]})]})},HL="_header_17lp4_1",WL="_containerMessage_17lp4_7",KL="_nav_17lp4_14",GL="_navList_17lp4_19",QL="_logout_17lp4_42",il={header:HL,containerMessage:WL,nav:KL,navList:GL,logout:QL},XL=({setCloseMessage:n,message:e})=>{const t=kl(),[r,o]=et.useState(!0),[a,u]=et.useState(!1),[f,h]=et.useState(!1),{setCpf:m,setCurrentCustomer:v}=de.useContext(ci),[g,d]=et.useState(""),y=T=>{const k=T.target.value;d(k)},b=()=>{t("/register"),n(!1)},w=async()=>{if(!g||g.length!==11){alert("Por favor, insira um número de CPF válido ou registre-se.");return}if(g){const k=(await jb("customer")).filter(S=>S.cpf.replace(/[.-]/g,"")===g);k.length>0?(m(g),v(k),n(!1),t("/user-rules")):(h(!0),t("/register"))}},_=()=>{u(!0)},E=()=>{o(!1),n(!0)};return K.jsx("div",{className:Ar.container,children:K.jsxs("div",{className:Ar.geralContainerConfirmMessage,children:[r&&K.jsxs("div",{children:[K.jsx("div",{children:e&&K.jsx("h1",{children:e})}),K.jsxs("div",{className:Ar.containerBtn,children:[K.jsx("button",{onClick:E,children:"Sim"}),K.jsx("button",{onClick:_,children:"Não"})]})]}),K.jsxs("div",{className:Ar.geralContainerConfirmMessage,children:[a&&K.jsx(ea,{message:"Somente computadores comprados na Dragon podem ser comercializados nesse site",setClose:u,setCloseMessage:n}),f&&K.jsx(ea,{message:"O seu Número de CPF não foi encontrado, por favor cadastre-se",setClose:u,setCloseMessage:n})]}),"setClose=",u,!r&&K.jsxs("div",{className:Ar.containerCpf,children:[K.jsx("h1",{children:"Já vendeu pela Dragon Computadores? Se sim entre com seu cpf caso contrário, cadastre-se!"}),K.jsx("input",{type:"text",value:g,onChange:y,onBlur:w,maxLength:"11",placeholder:"Digite seu CPF"}),K.jsx("button",{className:Ar.submitCpfBtn,onClick:w,children:"Buscar CPF"}),K.jsx("p",{className:Ar.register,onClick:b,children:"Registre-se"})]}),";"]})})},YL="_container_m0n7h_1",JL="_label_m0n7h_11",ZL="_input_m0n7h_16",nm={container:YL,label:JL,input:ZL},eM="_containerCloseBtn_17j0j_1",tM="_closeButton_17j0j_5",Rw={containerCloseBtn:eM,closeButton:tM},Xb=({setOpenClose:n})=>K.jsx("div",{className:Rw.containerCloseBtn,children:K.jsx("button",{className:Rw.closeButton,onClick:()=>n(!1),children:"x"})});Xb.propTypes={setOpenClose:Wt.func.isRequired};const Yb=({setOpenClose:n})=>{const[e,t]=et.useState(""),{setLogin:r}=de.useContext(ci);et.useEffect(()=>{localStorage.getItem("login")==="true"?localStorage.removeItem("login"):localStorage.setItem("login","true")},[n]);const o=u=>{t(u.target.value)},a=u=>{u.preventDefault(),e==="1234"?(localStorage.setItem("login","true"),r(!0),n(!1)):alert("Incorrect password")};return K.jsxs("div",{className:nm.container,children:[K.jsx(Xb,{setOpenClose:n}),K.jsx("h2",{children:"Please enter your password"}),K.jsxs("form",{onSubmit:a,children:[K.jsxs("label",{className:nm.label,children:["Password:",K.jsx("input",{type:"password",value:e,onChange:o,className:nm.input})]}),K.jsx("button",{type:"submit",children:"Submit"})]})]})};Yb.propTypes={setOpenClose:Wt.func.isRequired};const nM=()=>{const[n,e]=et.useState(!1),[t,r]=et.useState(!1),[o,a]=et.useState(""),{login:u,setLogin:f}=de.useContext(ci),h=g=>{g.preventDefault(),e(!0),a("O seu computador foi comprado na Dragon Computadores")},m=()=>{r(!0)},v=()=>{localStorage.removeItem("login"),window.location.reload(),f(!1)};return K.jsxs("header",{className:il.header,children:[t&&K.jsx(Yb,{setOpenClose:r}),K.jsx("div",{className:il.containerMessage,children:n&&K.jsx(XL,{setCloseMessage:e,message:o})}),K.jsxs("nav",{className:il.nav,children:[K.jsxs("ul",{className:il.navList,children:[K.jsx("li",{children:K.jsx(Xc,{to:"/",children:"Vitrine"})}),K.jsx("li",{children:K.jsx("a",{href:"",onClick:h,children:"Quero Vender"})})]}),u?K.jsx("h3",{className:il.logout,onClick:v,children:"Logado"}):K.jsx("button",{onClick:m})]})]})},rM="_container_1pubf_1",iM="_SingleProductBox_1pubf_1",oM="_containerSideMenu_1pubf_17",sM="_imageThumbnails_1pubf_23",aM="_thumbnail_1pubf_38",lM="_mainImage_1pubf_51",uM="_zoomContainer_1pubf_60",cM="_productDetails_1pubf_85",fM="_priceContainer_1pubf_93",hM="_mainItems_1pubf_101",dM="_highlightPrice_1pubf_106",pM="_title_1pubf_109",mM="_price_1pubf_93",gM="_hugeText_1pubf_119",yM="_adminContainer_1pubf_135",Jt={container:rM,SingleProductBox:iM,containerSideMenu:oM,imageThumbnails:sM,thumbnail:aM,mainImage:lM,zoomContainer:uM,productDetails:cM,priceContainer:fM,mainItems:hM,highlightPrice:dM,title:pM,price:mM,hugeText:gM,adminContainer:yM},vM="_container_lkqp9_1",_M="_card_lkqp9_13",EM="_containerBtn_lkqp9_20",wM="_closeButton_lkqp9_24",TM="_detail_lkqp9_33",br={container:vM,card:_M,containerBtn:EM,closeButton:wM,detail:TM},Jb=({customer:n,setClose:e})=>{Array.isArray(n)&&(n=n[0]),et.useEffect(()=>{console.log("Customer",n)},[n]);const t=r=>{navigator.clipboard.writeText(r),alert("Copied to clipboard: "+r)};return K.jsx("div",{className:br.container,children:K.jsxs("div",{className:br.card,children:[K.jsx("div",{className:br.containerBtn,children:K.jsx("button",{className:br.closeButton,onClick:()=>e(!1),children:"X"})}),n?K.jsxs("div",{children:[K.jsx("h2",{children:"Customer Details"}),K.jsxs("div",{className:br.detail,onClick:()=>t(n.cnpj),children:[K.jsx("strong",{children:"CNPJ:"})," ",n.cnpj]}),K.jsxs("div",{className:br.detail,onClick:()=>t(n.cpf),children:[K.jsx("strong",{children:"CPF:"})," ",n.cpf]}),K.jsxs("div",{className:br.detail,onClick:()=>t(n.email),children:[K.jsx("strong",{children:"Email:"})," ",n.email]}),K.jsxs("div",{className:br.detail,onClick:()=>t(n.name),children:[K.jsx("strong",{children:"Name:"})," ",n.name]}),K.jsxs("div",{className:br.detail,onClick:()=>t(n.phone),children:[K.jsx("strong",{children:"Phone:"})," ",n.phone]}),K.jsxs("div",{className:br.detail,onClick:()=>t(n.purchaseDate),children:[K.jsx("strong",{children:"Purchase Date:"})," ",n.purchaseDate]})]}):K.jsx("div",{children:"Loading..."})]})})};Jb.propTypes={customer:Wt.shape({cnpj:Wt.string,cpf:Wt.string,email:Wt.string,name:Wt.string,phone:Wt.string,purchaseDate:Wt.string}).isRequired,setClose:Wt.func.isRequired};const bM=()=>{const[n,e]=et.useState(""),{login:t}=de.useContext(ci),[r,o]=et.useState({}),[a,u]=et.useState([]),[f,h]=et.useState([]),[m,v]=et.useState({}),[g,d]=et.useState(!1),[y,b]=et.useState({backgroundPosition:"0% 0%"}),[w,_]=et.useState(window.innerWidth<650),{id:E}=Uw();et.useEffect(()=>{const L=async()=>{const I=await Ub("products",E);if(I&&typeof I=="object"&&Object.keys(I).length>0){const{images:M}=I;e(M[0]),u(M),o(I)}},U=localStorage.getItem("customer"),O=JSON.parse(U);h(O),L()},[E]);const T=L=>{const{left:U,top:O,width:I,height:M}=L.target.getBoundingClientRect(),N=(L.pageX-U)/I*100,R=(L.pageY-O)/M*100;b({backgroundPosition:`${N}% ${R}%`})};et.useEffect(()=>{r&&console.log("Objeto   null",r)},[r]),et.useEffect(()=>(window.addEventListener("resize",k),()=>{window.removeEventListener("resize",k)}),[]);const k=()=>{_(window.innerWidth<650)},S=()=>{const L=f.filter(U=>U.cpf===r.customerCpf);v(L[0]),d(!0)};return K.jsxs("div",{className:Jt.container,children:[K.jsxs("div",{className:Jt.SingleProductBox,children:[g&&K.jsx(Jb,{customer:m,setClose:d}),K.jsx("div",{className:Jt.containerSideMenu,children:K.jsx("div",{className:Jt.imageThumbnails,children:a&&a.length>0&&a.map((L,U)=>K.jsx("div",{className:Jt.thumbnail,onClick:()=>e(L),children:K.jsx("img",{src:L,alt:`Thumbnail ${U+1}`})},U))})}),K.jsx("div",{className:Jt.mainImage,children:K.jsx("div",{className:Jt.zoomContainer,onMouseMove:T,style:{backgroundRepeat:"no-repeat",backgroundImage:`url(${n})`,backgroundPosition:y.backgroundPosition},children:K.jsx("img",{src:n,alt:"Selected"})})}),r&&K.jsxs("div",{className:Jt.productDetails,children:[K.jsxs("div",{className:Jt.priceContainer,children:[K.jsxs("div",{className:Jt.mainItems,children:[K.jsxs("h2",{children:["Processador: ",K.jsx("span",{children:r.cpu})]}),K.jsxs("h2",{children:["Placa Mãe:",K.jsx("span",{children:r.motherBoard})]}),K.jsxs("h2",{children:["Memória:",K.jsx("span",{children:r.memory})]})]}),K.jsxs("div",{className:Jt.highlightPrice,children:[K.jsx("h3",{className:Jt.title,children:r.title}),K.jsxs("h3",{className:Jt.price,children:["R$ ",r.price,",00"]})]})]}),K.jsxs("h2",{children:["Código do produto:",K.jsx("span",{children:r.id})]}),K.jsxs("h2",{children:["Placa de Video:",K.jsx("span",{children:r.graphicsCard})]}),K.jsxs("h2",{children:["fonte: ",K.jsx("span",{children:r.font})]}),K.jsxs("h2",{children:["gabinete:",K.jsx("span",{children:r.tower})]}),K.jsxs("h2",{children:["Refrigeração:",K.jsx("span",{children:r.cooling})]}),K.jsxs("h2",{children:["Cabos :",K.jsx("span",{children:r.amoutCables})]}),K.jsxs("h2",{children:["Ano :",K.jsx("span",{children:r.ages})]}),K.jsxs("h3",{children:["Descrição da Placa mãe :",K.jsx("div",{className:Jt.hugeText,children:K.jsx("span",{dangerouslySetInnerHTML:{__html:r.motherBoardText}})})]}),K.jsxs("h3",{children:["Descrição do processador :",K.jsx("div",{className:Jt.hugeText,children:K.jsx("span",{className:Jt.hugeText,dangerouslySetInnerHTML:{__html:r.cpuText}})})]})]})]}),!w&&t&&K.jsxs("div",{className:Jt.adminContainer,children:[" ",K.jsx("button",{children:K.jsx(Xc,{to:`/form/${r.id}`,children:"Edição administrador"})})," ",K.jsx("button",{onClick:S,children:"Detalhes do Cliente"})," "]})]})},SM="_container_9wpaw_2",AM="_form_9wpaw_6",IM="_inputContainer_9wpaw_10",ji={container:SM,form:AM,inputContainer:IM},RM=()=>{const[n,e]=et.useState({name:"",email:"",phone:"",cpf:"",cnpj:"",purchaseDate:""}),[t,r]=et.useState(!1),{setCpf:o,setCurrentCustomer:a}=de.useContext(ci),u=m=>{const{name:v,value:g}=m.target,d=f(v,g);if(v==="cpf"||v==="cnpj"||v==="phone"){e({...n,[v]:d});return}if(v==="purchaseDate"){const[y,b,w]=g.split("-"),_=`${w}-${b}-${y}`;e({...n,[v]:_})}e({...n,[v]:g})},f=(m,v)=>m==="cpf"?v.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2"):m==="cnpj"?v.replace(/\D/g,"").replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d{1,2})$/,"$1-$2"):m==="phone"?v.replace(/\D/g,"").replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{4,5})(\d{4})$/,"$1-$2"):v,h=async m=>{if(m.preventDefault(),n.cpf===""&&n.cnpj===""){alert("Por favor, preencha o campo CPF ou CNPJ.");return}o(n.cpf),a(n);try{const v=await Vb("customer",n);console.log("Document created with ID: ",v.id),r(!0),e({name:"",email:"",phone:"",cpf:"",cnpj:"",purchaseDate:""})}catch(v){console.error("Error adding document: ",v),alert("Ocorreu um erro ao criar o cadastro. Por favor, tente novamente.")}};return K.jsxs("div",{className:ji.container,children:[t&&K.jsx(ea,{message:"Seu cadastro foi criado com sucesso, agora vc pode cadastrar o seu produto",setClose:r,adress:"/user-rules"}),K.jsxs("form",{className:ji.form,onSubmit:h,children:[K.jsxs("div",{className:ji.inputContainer,children:[K.jsx("label",{children:"Name:"}),K.jsx("input",{required:!0,type:"text",name:"name",value:n.name,onChange:u})]}),K.jsxs("div",{className:ji.inputContainer,children:[K.jsx("label",{children:"Email:"}),K.jsx("input",{required:!0,type:"email",name:"email",value:n.email,onChange:u})]}),K.jsxs("div",{className:ji.inputContainer,children:[K.jsx("label",{children:"Phone:"}),K.jsx("input",{required:!0,type:"text",name:"phone",maxLength:"15",value:n.phone,onChange:u})]}),K.jsxs("div",{className:ji.inputContainer,children:[K.jsx("label",{children:"CPF:"}),K.jsx("input",{type:"text",name:"cpf",maxLength:"14",value:n.cpf,onChange:u})]}),K.jsxs("div",{className:ji.inputContainer,children:[K.jsx("label",{children:"CNPJ:"}),K.jsx("input",{type:"text",name:"cnpj",maxLength:"18",value:n.cnpj,onChange:u})]}),K.jsxs("div",{className:ji.inputContainer,children:[K.jsx("label",{children:"Data de Compra:"}),K.jsx("input",{required:!0,type:"date",name:"purchaseDate",value:n.purchaseDate,onChange:u})]}),K.jsx("button",{type:"submit",children:"Submit"})]})]})},kM="_containerRules_1avi3_1",CM="_acceptTerms_1avi3_21",kw={containerRules:kM,acceptTerms:CM};function PM(n){return n.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")}const OM=()=>{const[n,e]=et.useState(!1),[t,r]=et.useState(!1),{cpf:o}=de.useContext(ci),a=async u=>{const f=u.target.checked;e(f),console.log("CPF GLOBAL",o);let h;h=PM(o);let m=await X2("customer","cpf",h);m.acceptTerms=f,console.log("Cliente com checked",m),await J2("customer","cpf",h,m)&&r(!0)};return K.jsxs("div",{className:kw.containerRules,children:[t&&K.jsx(ea,{setClose:r,message:`O portador do número de CPF ${o} aceitou os termos de uso da Dragon Computadores`,adress:"/form"}),K.jsx("h2",{children:"Regras de Uso para Anunciantes na Plataforma Dragon Computadores"}),K.jsxs("ul",{children:["1. Objetivo:",K.jsx("li",{children:"Estabelecer as diretrizes e resposabilidades dos anunciantes que utilizam a plataforma da Dragon Computadores para divulgar e vender computadores usados."})]}),K.jsxs("ul",{children:["2. 2. Responsabilidades do Anunciante:",K.jsx("li",{children:"Veracidade das Informações: Todas as informações e imagens publicadas nos anúncios são de responsabilidade exclusiva do anunciante. A Dragon Computadores não se responsabiliza por dados incorretos ou enganosos."}),K.jsx("li",{children:"Atualização do Anúncio: O anunciante deve informar imediatamente a Dragon Computadores caso o item anunciado já tenha sido vendido por outros meios ou se não deseja mais disponibilizá-lo para venda. Anúncios desatualizados serão removidos após notificação."}),K.jsx("li",{children:"Avaliação Pós-Venda: Caso o item seja vendido através da plataforma, o anunciante deve trazer o computador para avaliação pela Dragon Computadores, conforme acordado previamente."})]}),K.jsxs("ul",{children:["3. Uso da Plataforma:",K.jsx("li",{children:"A Dragon Computadores disponibiliza a plataforma como um serviço de intermediação e será a única responsável por intermediar a comunicação e negociação entre anunciantes e compradores. Não haverá contato direto entre as partes."}),K.jsx("li",{children:"Restrição de Produtos: Apenas computadores que foram originalmente vendidos pela Dragon Computadores podem ser anunciados e comercializados na plataforma. É proibido anunciar produtos de outras marcas ou origens, ou qualquer item que não seja relacionado a computadores."})]}),K.jsxs("ul",{children:["4. Serviços de Avaliação:",K.jsx("li",{children:"A Dragon Computadores oferece o serviço de avaliação das condições dos equipamentos como parte do processo de venda."}),K.jsx("li",{children:"Itens de Armazenamento (HDs, SSDs, etc.): Por se tratarem de itens com vida útil limitada, não garantimos o funcionamento ou a durabilidade de itens de armazenamento. A avaliação desses itens será feita com base em testes técnicos, mas sem qualquer garantia futura."})]}),K.jsxs("ul",{children:["5. Responsabilidade da Dragon Computadores:",K.jsx("li",{children:"A Dragon Computadores atua como facilitadora, oferecendo a plataforma para divulgação dos anúncios e intermediando todo o processo de negociação, mas não se responsabiliza por: Qualquer problema relacionado à condição do produto anunciado (danos, defeitos, etc.), exceto conforme avaliado e informado durante o processo de avaliação. Conteúdo publicado pelos anunciantes (informações, imagens, etc.)."})]}),K.jsxs("ul",{children:["6. Penalidades por Descumprimento:",K.jsx("li",{children:"Anúncios que violarem estas regras, incluindo a divulgação de produtos não vendidos originalmente pela Dragon Computadores, serão removidos sem aviso prévio."}),K.jsx("li",{children:"Anunciantes que descumprirem as regras de forma reiterada poderão ter o acesso à plataforma suspenso ou bloqueado permanentemente."})]}),K.jsx("h2",{children:"7. Aceitação das Regras:"}),K.jsx("p",{children:"Ao utilizar a plataforma, o anunciante declara estar ciente e de acordo com todas as regras aqui estabelecidas, assumindo total responsabilidade pelo conteúdo de seus anúncios e pelas obrigações descritas."}),K.jsx("h2",{children:"8. Vigência e Alterações:"}),K.jsx("p",{children:"Estas regras entram em vigor a partir da data de publicação e podem ser alteradas a qualquer momento pela Dragon Computadores, com aviso prévio aos usuários."}),K.jsxs("div",{className:kw.acceptTerms,children:[K.jsx("input",{type:"checkbox",id:"acceptTerms",name:"acceptTerms",checked:n,onChange:a}),K.jsx("label",{htmlFor:"acceptTerms",children:"Eu aceito os termos de uso para publicar o meu computador na vitrine da Dragon Computadores"})]})]})},Zb=({children:n})=>{const[e,t]=et.useState({}),[r,o]=et.useState(""),[a,u]=et.useState("");return K.jsx(ci.Provider,{value:{currentCustomer:e,setCurrentCustomer:t,cpf:r,setCpf:o,setLogin:u,login:a},children:n})};Zb.propTypes={children:Wt.node.isRequired};const xM=()=>K.jsx(Zb,{children:K.jsxs(bI,{basename:"/dragon.io",children:[K.jsx(nM,{}),K.jsxs(ZA,{children:[K.jsx(No,{path:"/",element:K.jsx(eD,{})}),K.jsx(No,{path:"/form",element:K.jsx(Iw,{})}),K.jsx(No,{path:"/form/:id",element:K.jsx(Iw,{})}),K.jsx(No,{path:"/singleProduct/:id",element:K.jsx(bM,{})}),K.jsx(No,{path:"/register",element:K.jsx(RM,{})}),K.jsx(No,{path:"/user-rules",element:K.jsx(OM,{})})]})]})});uA.createRoot(document.getElementById("root")).render(K.jsx(de.StrictMode,{children:K.jsx(xM,{})}));
