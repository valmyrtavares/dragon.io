(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var rd={exports:{}},il={},id={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function uA(){if(e_)return Ye;e_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.iterator;function d(j){return j===null||typeof j!="object"?null:(j=g&&j[g]||j["@@iterator"],typeof j=="function"?j:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,b={};function _(j,B,K){this.props=j,this.context=B,this.refs=b,this.updater=K||y}_.prototype.isReactComponent={},_.prototype.setState=function(j,B){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,B,"setState")},_.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function w(){}w.prototype=_.prototype;function S(j,B,K){this.props=j,this.context=B,this.refs=b,this.updater=K||y}var R=S.prototype=new w;R.constructor=S,T(R,_.prototype),R.isPureReactComponent=!0;var E=Array.isArray,L=Object.prototype.hasOwnProperty,U={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function I(j,B,K){var ne,ee={},$=null,J=null;if(B!=null)for(ne in B.ref!==void 0&&(J=B.ref),B.key!==void 0&&($=""+B.key),B)L.call(B,ne)&&!C.hasOwnProperty(ne)&&(ee[ne]=B[ne]);var oe=arguments.length-2;if(oe===1)ee.children=K;else if(1<oe){for(var se=Array(oe),pe=0;pe<oe;pe++)se[pe]=arguments[pe+2];ee.children=se}if(j&&j.defaultProps)for(ne in oe=j.defaultProps,oe)ee[ne]===void 0&&(ee[ne]=oe[ne]);return{$$typeof:n,type:j,key:$,ref:J,props:ee,_owner:U.current}}function M(j,B){return{$$typeof:n,type:j.type,key:B,ref:j.ref,props:j.props,_owner:j._owner}}function O(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function k(j){var B={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(K){return B[K]})}var D=/\/+/g;function N(j,B){return typeof j=="object"&&j!==null&&j.key!=null?k(""+j.key):B.toString(36)}function H(j,B,K,ne,ee){var $=typeof j;($==="undefined"||$==="boolean")&&(j=null);var J=!1;if(j===null)J=!0;else switch($){case"string":case"number":J=!0;break;case"object":switch(j.$$typeof){case n:case e:J=!0}}if(J)return J=j,ee=ee(J),j=ne===""?"."+N(J,0):ne,E(ee)?(K="",j!=null&&(K=j.replace(D,"$&/")+"/"),H(ee,B,K,"",function(pe){return pe})):ee!=null&&(O(ee)&&(ee=M(ee,K+(!ee.key||J&&J.key===ee.key?"":(""+ee.key).replace(D,"$&/")+"/")+j)),B.push(ee)),1;if(J=0,ne=ne===""?".":ne+":",E(j))for(var oe=0;oe<j.length;oe++){$=j[oe];var se=ne+N($,oe);J+=H($,B,K,se,ee)}else if(se=d(j),typeof se=="function")for(j=se.call(j),oe=0;!($=j.next()).done;)$=$.value,se=ne+N($,oe++),J+=H($,B,K,se,ee);else if($==="object")throw B=String(j),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return J}function G(j,B,K){if(j==null)return j;var ne=[],ee=0;return H(j,ne,"","",function($){return B.call(K,$,ee++)}),ne}function X(j){if(j._status===-1){var B=j._result;B=B(),B.then(function(K){(j._status===0||j._status===-1)&&(j._status=1,j._result=K)},function(K){(j._status===0||j._status===-1)&&(j._status=2,j._result=K)}),j._status===-1&&(j._status=0,j._result=B)}if(j._status===1)return j._result.default;throw j._result}var te={current:null},ie={transition:null},Y={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:ie,ReactCurrentOwner:U};function W(){throw Error("act(...) is not supported in production builds of React.")}return Ye.Children={map:G,forEach:function(j,B,K){G(j,function(){B.apply(this,arguments)},K)},count:function(j){var B=0;return G(j,function(){B++}),B},toArray:function(j){return G(j,function(B){return B})||[]},only:function(j){if(!O(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ye.Component=_,Ye.Fragment=t,Ye.Profiler=o,Ye.PureComponent=S,Ye.StrictMode=r,Ye.Suspense=h,Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Ye.act=W,Ye.cloneElement=function(j,B,K){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ne=T({},j.props),ee=j.key,$=j.ref,J=j._owner;if(B!=null){if(B.ref!==void 0&&($=B.ref,J=U.current),B.key!==void 0&&(ee=""+B.key),j.type&&j.type.defaultProps)var oe=j.type.defaultProps;for(se in B)L.call(B,se)&&!C.hasOwnProperty(se)&&(ne[se]=B[se]===void 0&&oe!==void 0?oe[se]:B[se])}var se=arguments.length-2;if(se===1)ne.children=K;else if(1<se){oe=Array(se);for(var pe=0;pe<se;pe++)oe[pe]=arguments[pe+2];ne.children=oe}return{$$typeof:n,type:j.type,key:ee,ref:$,props:ne,_owner:J}},Ye.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},Ye.createElement=I,Ye.createFactory=function(j){var B=I.bind(null,j);return B.type=j,B},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(j){return{$$typeof:f,render:j}},Ye.isValidElement=O,Ye.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:X}},Ye.memo=function(j,B){return{$$typeof:m,type:j,compare:B===void 0?null:B}},Ye.startTransition=function(j){var B=ie.transition;ie.transition={};try{j()}finally{ie.transition=B}},Ye.unstable_act=W,Ye.useCallback=function(j,B){return te.current.useCallback(j,B)},Ye.useContext=function(j){return te.current.useContext(j)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(j){return te.current.useDeferredValue(j)},Ye.useEffect=function(j,B){return te.current.useEffect(j,B)},Ye.useId=function(){return te.current.useId()},Ye.useImperativeHandle=function(j,B,K){return te.current.useImperativeHandle(j,B,K)},Ye.useInsertionEffect=function(j,B){return te.current.useInsertionEffect(j,B)},Ye.useLayoutEffect=function(j,B){return te.current.useLayoutEffect(j,B)},Ye.useMemo=function(j,B){return te.current.useMemo(j,B)},Ye.useReducer=function(j,B,K){return te.current.useReducer(j,B,K)},Ye.useRef=function(j){return te.current.useRef(j)},Ye.useState=function(j){return te.current.useState(j)},Ye.useSyncExternalStore=function(j,B,K){return te.current.useSyncExternalStore(j,B,K)},Ye.useTransition=function(){return te.current.useTransition()},Ye.version="18.3.1",Ye}var t_;function Jc(){return t_||(t_=1,id.exports=uA()),id.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function cA(){if(n_)return il;n_=1;var n=Jc(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,m){var v,g={},d=null,y=null;m!==void 0&&(d=""+m),h.key!==void 0&&(d=""+h.key),h.ref!==void 0&&(y=h.ref);for(v in h)r.call(h,v)&&!a.hasOwnProperty(v)&&(g[v]=h[v]);if(f&&f.defaultProps)for(v in h=f.defaultProps,h)g[v]===void 0&&(g[v]=h[v]);return{$$typeof:e,type:f,key:d,ref:y,props:g,_owner:o.current}}return il.Fragment=t,il.jsx=u,il.jsxs=u,il}var r_;function fA(){return r_||(r_=1,rd.exports=cA()),rd.exports}var q=fA(),de=Jc();const Qe=Vm(de);var sc={},od={exports:{}},Sn={},sd={exports:{}},ad={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function hA(){return i_||(i_=1,function(n){function e(ie,Y){var W=ie.length;ie.push(Y);e:for(;0<W;){var j=W-1>>>1,B=ie[j];if(0<o(B,Y))ie[j]=Y,ie[W]=B,W=j;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var Y=ie[0],W=ie.pop();if(W!==Y){ie[0]=W;e:for(var j=0,B=ie.length,K=B>>>1;j<K;){var ne=2*(j+1)-1,ee=ie[ne],$=ne+1,J=ie[$];if(0>o(ee,W))$<B&&0>o(J,ee)?(ie[j]=J,ie[$]=W,j=$):(ie[j]=ee,ie[ne]=W,j=ne);else if($<B&&0>o(J,W))ie[j]=J,ie[$]=W,j=$;else break e}}return Y}function o(ie,Y){var W=ie.sortIndex-Y.sortIndex;return W!==0?W:ie.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var h=[],m=[],v=1,g=null,d=3,y=!1,T=!1,b=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(ie){for(var Y=t(m);Y!==null;){if(Y.callback===null)r(m);else if(Y.startTime<=ie)r(m),Y.sortIndex=Y.expirationTime,e(h,Y);else break;Y=t(m)}}function E(ie){if(b=!1,R(ie),!T)if(t(h)!==null)T=!0,X(L);else{var Y=t(m);Y!==null&&te(E,Y.startTime-ie)}}function L(ie,Y){T=!1,b&&(b=!1,w(I),I=-1),y=!0;var W=d;try{for(R(Y),g=t(h);g!==null&&(!(g.expirationTime>Y)||ie&&!k());){var j=g.callback;if(typeof j=="function"){g.callback=null,d=g.priorityLevel;var B=j(g.expirationTime<=Y);Y=n.unstable_now(),typeof B=="function"?g.callback=B:g===t(h)&&r(h),R(Y)}else r(h);g=t(h)}if(g!==null)var K=!0;else{var ne=t(m);ne!==null&&te(E,ne.startTime-Y),K=!1}return K}finally{g=null,d=W,y=!1}}var U=!1,C=null,I=-1,M=5,O=-1;function k(){return!(n.unstable_now()-O<M)}function D(){if(C!==null){var ie=n.unstable_now();O=ie;var Y=!0;try{Y=C(!0,ie)}finally{Y?N():(U=!1,C=null)}}else U=!1}var N;if(typeof S=="function")N=function(){S(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,G=H.port2;H.port1.onmessage=D,N=function(){G.postMessage(null)}}else N=function(){_(D,0)};function X(ie){C=ie,U||(U=!0,N())}function te(ie,Y){I=_(function(){ie(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){T||y||(T=!0,X(L))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ie){switch(d){case 1:case 2:case 3:var Y=3;break;default:Y=d}var W=d;d=Y;try{return ie()}finally{d=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,Y){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var W=d;d=ie;try{return Y()}finally{d=W}},n.unstable_scheduleCallback=function(ie,Y,W){var j=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?j+W:j):W=j,ie){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=W+B,ie={id:v++,callback:Y,priorityLevel:ie,startTime:W,expirationTime:B,sortIndex:-1},W>j?(ie.sortIndex=W,e(m,ie),t(h)===null&&ie===t(m)&&(b?(w(I),I=-1):b=!0,te(E,W-j))):(ie.sortIndex=B,e(h,ie),T||y||(T=!0,X(L))),ie},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(ie){var Y=d;return function(){var W=d;d=Y;try{return ie.apply(this,arguments)}finally{d=W}}}}(ad)),ad}var o_;function dA(){return o_||(o_=1,sd.exports=hA()),sd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function pA(){if(s_)return Sn;s_=1;var n=Jc(),e=dA();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},g={};function d(i){return h.call(g,i)?!0:h.call(v,i)?!1:m.test(i)?g[i]=!0:(v[i]=!0,!1)}function y(i,s,l,p){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return p?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function T(i,s,l,p){if(s===null||typeof s>"u"||y(i,s,l,p))return!0;if(p)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function b(i,s,l,p,A,x,F){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=p,this.attributeNamespace=A,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=x,this.removeEmptyString=F}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){_[i]=new b(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];_[s]=new b(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){_[i]=new b(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){_[i]=new b(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){_[i]=new b(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){_[i]=new b(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){_[i]=new b(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){_[i]=new b(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){_[i]=new b(i,5,!1,i.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function S(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(w,S);_[s]=new b(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(w,S);_[s]=new b(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(w,S);_[s]=new b(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){_[i]=new b(i,1,!1,i.toLowerCase(),null,!1,!1)}),_.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){_[i]=new b(i,1,!1,i.toLowerCase(),null,!0,!0)});function R(i,s,l,p){var A=_.hasOwnProperty(s)?_[s]:null;(A!==null?A.type!==0:p||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(T(s,l,A,p)&&(l=null),p||A===null?d(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):A.mustUseProperty?i[A.propertyName]=l===null?A.type===3?!1:"":l:(s=A.attributeName,p=A.attributeNamespace,l===null?i.removeAttribute(s):(A=A.type,l=A===3||A===4&&l===!0?"":""+l,p?i.setAttributeNS(p,s,l):i.setAttribute(s,l))))}var E=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),U=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),k=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),ie=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=ie&&i[ie]||i["@@iterator"],typeof i=="function"?i:null)}var W=Object.assign,j;function B(i){if(j===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);j=s&&s[1]||""}return`
`+j+i}var K=!1;function ne(i,s){if(!i||K)return"";K=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(ce){var p=ce}Reflect.construct(i,[],s)}else{try{s.call()}catch(ce){p=ce}i.call(s.prototype)}else{try{throw Error()}catch(ce){p=ce}i()}}catch(ce){if(ce&&p&&typeof ce.stack=="string"){for(var A=ce.stack.split(`
`),x=p.stack.split(`
`),F=A.length-1,Q=x.length-1;1<=F&&0<=Q&&A[F]!==x[Q];)Q--;for(;1<=F&&0<=Q;F--,Q--)if(A[F]!==x[Q]){if(F!==1||Q!==1)do if(F--,Q--,0>Q||A[F]!==x[Q]){var Z=`
`+A[F].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=F&&0<=Q);break}}}finally{K=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?B(i):""}function ee(i){switch(i.tag){case 5:return B(i.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return i=ne(i.type,!1),i;case 11:return i=ne(i.type.render,!1),i;case 1:return i=ne(i.type,!0),i;default:return""}}function $(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case U:return"Portal";case M:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case H:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case k:return(i.displayName||"Context")+".Consumer";case O:return(i._context.displayName||"Context")+".Provider";case D:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case G:return s=i.displayName||null,s!==null?s:$(i.type)||"Memo";case X:s=i._payload,i=i._init;try{return $(i(s))}catch{}}return null}function J(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function oe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function se(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function pe(i){var s=se(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),p=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var A=l.get,x=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return A.call(this)},set:function(F){p=""+F,x.call(this,F)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return p},setValue:function(F){p=""+F},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ie(i){i._valueTracker||(i._valueTracker=pe(i))}function De(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),p="";return i&&(p=se(i)?i.checked?"true":"false":i.value),i=p,i!==l?(s.setValue(i),!0):!1}function Ve(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function We(i,s){var l=s.checked;return W({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Je(i,s){var l=s.defaultValue==null?"":s.defaultValue,p=s.checked!=null?s.checked:s.defaultChecked;l=oe(s.value!=null?s.value:l),i._wrapperState={initialChecked:p,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Nt(i,s){s=s.checked,s!=null&&R(i,"checked",s,!1)}function yt(i,s){Nt(i,s);var l=oe(s.value),p=s.type;if(l!=null)p==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?me(i,s.type,l):s.hasOwnProperty("defaultValue")&&me(i,s.type,oe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function he(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var p=s.type;if(!(p!=="submit"&&p!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function me(i,s,l){(s!=="number"||Ve(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var be=Array.isArray;function Ae(i,s,l,p){if(i=i.options,s){s={};for(var A=0;A<l.length;A++)s["$"+l[A]]=!0;for(l=0;l<i.length;l++)A=s.hasOwnProperty("$"+i[l].value),i[l].selected!==A&&(i[l].selected=A),A&&p&&(i[l].defaultSelected=!0)}else{for(l=""+oe(l),s=null,A=0;A<i.length;A++){if(i[A].value===l){i[A].selected=!0,p&&(i[A].defaultSelected=!0);return}s!==null||i[A].disabled||(s=i[A])}s!==null&&(s.selected=!0)}}function ye(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return W({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Be(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(be(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:oe(l)}}function ze(i,s){var l=oe(s.value),p=oe(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),p!=null&&(i.defaultValue=""+p)}function Ke(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function lt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ft(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?lt(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var st,ao=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,p,A){MSApp.execUnsafeLocalFunction(function(){return i(s,l,p,A)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(st=st||document.createElement("div"),st.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=st.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ht(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var nn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lo=["Webkit","ms","Moz","O"];Object.keys(nn).forEach(function(i){lo.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),nn[s]=nn[i]})});function ma(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||nn.hasOwnProperty(i)&&nn[i]?(""+s).trim():s+"px"}function ga(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var p=l.indexOf("--")===0,A=ma(l,s[l],p);l==="float"&&(l="cssFloat"),p?i.setProperty(l,A):i[l]=A}}var ya=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function va(i,s){if(s){if(ya[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function _a(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uo=null;function Xo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Yo=null,Vn=null,hr=null;function Jo(i){if(i=za(i)){if(typeof Yo!="function")throw Error(t(280));var s=i.stateNode;s&&(s=Eu(s),Yo(i.stateNode,i.type,s))}}function dr(i){Vn?hr?hr.push(i):hr=[i]:Vn=i}function Ea(){if(Vn){var i=Vn,s=hr;if(hr=Vn=null,Jo(i),s)for(i=0;i<s.length;i++)Jo(s[i])}}function co(i,s){return i(s)}function wa(){}var Vr=!1;function Ta(i,s,l){if(Vr)return i(s,l);Vr=!0;try{return co(i,s,l)}finally{Vr=!1,(Vn!==null||hr!==null)&&(wa(),Ea())}}function Pt(i,s){var l=i.stateNode;if(l===null)return null;var p=Eu(l);if(p===null)return null;l=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Zo=!1;if(f)try{var Gn={};Object.defineProperty(Gn,"passive",{get:function(){Zo=!0}}),window.addEventListener("test",Gn,Gn),window.removeEventListener("test",Gn,Gn)}catch{Zo=!1}function fo(i,s,l,p,A,x,F,Q,Z){var ce=Array.prototype.slice.call(arguments,3);try{s.apply(l,ce)}catch(_e){this.onError(_e)}}var ho=!1,es=null,Qn=!1,ba=null,xf={onError:function(i){ho=!0,es=i}};function ts(i,s,l,p,A,x,F,Q,Z){ho=!1,es=null,fo.apply(xf,arguments)}function Hl(i,s,l,p,A,x,F,Q,Z){if(ts.apply(this,arguments),ho){if(ho){var ce=es;ho=!1,es=null}else throw Error(t(198));Qn||(Qn=!0,ba=ce)}}function Xn(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function po(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Yn(i){if(Xn(i)!==i)throw Error(t(188))}function Wl(i){var s=i.alternate;if(!s){if(s=Xn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,p=s;;){var A=l.return;if(A===null)break;var x=A.alternate;if(x===null){if(p=A.return,p!==null){l=p;continue}break}if(A.child===x.child){for(x=A.child;x;){if(x===l)return Yn(A),i;if(x===p)return Yn(A),s;x=x.sibling}throw Error(t(188))}if(l.return!==p.return)l=A,p=x;else{for(var F=!1,Q=A.child;Q;){if(Q===l){F=!0,l=A,p=x;break}if(Q===p){F=!0,p=A,l=x;break}Q=Q.sibling}if(!F){for(Q=x.child;Q;){if(Q===l){F=!0,l=x,p=A;break}if(Q===p){F=!0,p=x,l=A;break}Q=Q.sibling}if(!F)throw Error(t(189))}}if(l.alternate!==p)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function Sa(i){return i=Wl(i),i!==null?ns(i):null}function ns(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=ns(i);if(s!==null)return s;i=i.sibling}return null}var rs=e.unstable_scheduleCallback,Aa=e.unstable_cancelCallback,Kl=e.unstable_shouldYield,Of=e.unstable_requestPaint,mt=e.unstable_now,Gl=e.unstable_getCurrentPriorityLevel,mo=e.unstable_ImmediatePriority,di=e.unstable_UserBlockingPriority,Un=e.unstable_NormalPriority,Ia=e.unstable_LowPriority,Ql=e.unstable_IdlePriority,go=null,Rn=null;function Xl(i){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(go,i,void 0,(i.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:Jl,ka=Math.log,Yl=Math.LN2;function Jl(i){return i>>>=0,i===0?32:31-(ka(i)/Yl|0)|0}var is=64,os=4194304;function pi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function yo(i,s){var l=i.pendingLanes;if(l===0)return 0;var p=0,A=i.suspendedLanes,x=i.pingedLanes,F=l&268435455;if(F!==0){var Q=F&~A;Q!==0?p=pi(Q):(x&=F,x!==0&&(p=pi(x)))}else F=l&~A,F!==0?p=pi(F):x!==0&&(p=pi(x));if(p===0)return 0;if(s!==0&&s!==p&&!(s&A)&&(A=p&-p,x=s&-s,A>=x||A===16&&(x&4194240)!==0))return s;if(p&4&&(p|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=p;0<s;)l=31-hn(s),A=1<<l,p|=i[l],s&=~A;return p}function Nf(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ur(i,s){for(var l=i.suspendedLanes,p=i.pingedLanes,A=i.expirationTimes,x=i.pendingLanes;0<x;){var F=31-hn(x),Q=1<<F,Z=A[F];Z===-1?(!(Q&l)||Q&p)&&(A[F]=Nf(Q,s)):Z<=s&&(i.expiredLanes|=Q),x&=~Q}}function Cn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function vo(){var i=is;return is<<=1,!(is&4194240)&&(is=64),i}function mi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function gi(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-hn(s),i[s]=l}function pt(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<l;){var A=31-hn(l),x=1<<A;s[A]=0,p[A]=-1,i[A]=-1,l&=~x}}function yi(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var p=31-hn(l),A=1<<p;A&s|i[p]&s&&(i[p]|=s),l&=~A}}var nt=0;function vi(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Zl,ss,eu,tu,nu,Ra=!1,pr=[],Qt=null,Jn=null,Zn=null,_i=new Map,Fn=new Map,mr=[],Df="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ru(i,s){switch(i){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":_i.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fn.delete(s.pointerId)}}function yn(i,s,l,p,A,x){return i===null||i.nativeEvent!==x?(i={blockedOn:s,domEventName:l,eventSystemFlags:p,nativeEvent:x,targetContainers:[A]},s!==null&&(s=za(s),s!==null&&ss(s)),i):(i.eventSystemFlags|=p,s=i.targetContainers,A!==null&&s.indexOf(A)===-1&&s.push(A),i)}function Lf(i,s,l,p,A){switch(s){case"focusin":return Qt=yn(Qt,i,s,l,p,A),!0;case"dragenter":return Jn=yn(Jn,i,s,l,p,A),!0;case"mouseover":return Zn=yn(Zn,i,s,l,p,A),!0;case"pointerover":var x=A.pointerId;return _i.set(x,yn(_i.get(x)||null,i,s,l,p,A)),!0;case"gotpointercapture":return x=A.pointerId,Fn.set(x,yn(Fn.get(x)||null,i,s,l,p,A)),!0}return!1}function iu(i){var s=bo(i.target);if(s!==null){var l=Xn(s);if(l!==null){if(s=l.tag,s===13){if(s=po(l),s!==null){i.blockedOn=s,nu(i.priority,function(){eu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Fr(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=as(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var p=new l.constructor(l.type,l);uo=p,l.target.dispatchEvent(p),uo=null}else return s=za(l),s!==null&&ss(s),i.blockedOn=l,!1;s.shift()}return!0}function _o(i,s,l){Fr(i)&&l.delete(s)}function ou(){Ra=!1,Qt!==null&&Fr(Qt)&&(Qt=null),Jn!==null&&Fr(Jn)&&(Jn=null),Zn!==null&&Fr(Zn)&&(Zn=null),_i.forEach(_o),Fn.forEach(_o)}function er(i,s){i.blockedOn===s&&(i.blockedOn=null,Ra||(Ra=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ou)))}function tr(i){function s(A){return er(A,i)}if(0<pr.length){er(pr[0],i);for(var l=1;l<pr.length;l++){var p=pr[l];p.blockedOn===i&&(p.blockedOn=null)}}for(Qt!==null&&er(Qt,i),Jn!==null&&er(Jn,i),Zn!==null&&er(Zn,i),_i.forEach(s),Fn.forEach(s),l=0;l<mr.length;l++)p=mr[l],p.blockedOn===i&&(p.blockedOn=null);for(;0<mr.length&&(l=mr[0],l.blockedOn===null);)iu(l),l.blockedOn===null&&mr.shift()}var qr=E.ReactCurrentBatchConfig,Ei=!0;function wt(i,s,l,p){var A=nt,x=qr.transition;qr.transition=null;try{nt=1,Ca(i,s,l,p)}finally{nt=A,qr.transition=x}}function Mf(i,s,l,p){var A=nt,x=qr.transition;qr.transition=null;try{nt=4,Ca(i,s,l,p)}finally{nt=A,qr.transition=x}}function Ca(i,s,l,p){if(Ei){var A=as(i,s,l,p);if(A===null)Kf(i,s,p,Eo,l),ru(i,p);else if(Lf(A,i,s,l,p))p.stopPropagation();else if(ru(i,p),s&4&&-1<Df.indexOf(i)){for(;A!==null;){var x=za(A);if(x!==null&&Zl(x),x=as(i,s,l,p),x===null&&Kf(i,s,p,Eo,l),x===A)break;A=x}A!==null&&p.stopPropagation()}else Kf(i,s,p,null,l)}}var Eo=null;function as(i,s,l,p){if(Eo=null,i=Xo(p),i=bo(i),i!==null)if(s=Xn(i),s===null)i=null;else if(l=s.tag,l===13){if(i=po(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return Eo=i,null}function Pa(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gl()){case mo:return 1;case di:return 4;case Un:case Ia:return 16;case Ql:return 536870912;default:return 16}default:return 16}}var Pn=null,ls=null,vn=null;function xa(){if(vn)return vn;var i,s=ls,l=s.length,p,A="value"in Pn?Pn.value:Pn.textContent,x=A.length;for(i=0;i<l&&s[i]===A[i];i++);var F=l-i;for(p=1;p<=F&&s[l-p]===A[x-p];p++);return vn=A.slice(i,1<p?1-p:void 0)}function us(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function gr(){return!0}function Oa(){return!1}function Xt(i){function s(l,p,A,x,F){this._reactName=l,this._targetInst=A,this.type=p,this.nativeEvent=x,this.target=F,this.currentTarget=null;for(var Q in i)i.hasOwnProperty(Q)&&(l=i[Q],this[Q]=l?l(x):x[Q]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?gr:Oa,this.isPropagationStopped=Oa,this}return W(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),s}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=Xt(nr),yr=W({},nr,{view:0,detail:0}),jf=Xt(yr),fs,Br,wi,wo=W({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==wi&&(wi&&i.type==="mousemove"?(fs=i.screenX-wi.screenX,Br=i.screenY-wi.screenY):Br=fs=0,wi=i),fs)},movementY:function(i){return"movementY"in i?i.movementY:Br}}),hs=Xt(wo),Na=W({},wo,{dataTransfer:0}),su=Xt(Na),ds=W({},yr,{relatedTarget:0}),ps=Xt(ds),au=W({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),zr=Xt(au),lu=W({},nr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),uu=Xt(lu),cu=W({},nr,{data:0}),Da=Xt(cu),ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=fu[i])?!!s[i]:!1}function vr(){return hu}var c=W({},yr,{key:function(i){if(i.key){var s=ms[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=us(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?dn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(i){return i.type==="keypress"?us(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?us(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),P=Xt(c),V=W({},wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z=Xt(V),ae=W({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),fe=Xt(ae),Se=W({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),dt=Xt(Se),jt=W({},wo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),rt=Xt(jt),zt=[9,13,27,32],Dt=f&&"CompositionEvent"in window,qn=null;f&&"documentMode"in document&&(qn=document.documentMode);var xn=f&&"TextEvent"in window&&!qn,To=f&&(!Dt||qn&&8<qn&&11>=qn),gs=" ",Gg=!1;function Qg(i,s){switch(i){case"keyup":return zt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ys=!1;function aS(i,s){switch(i){case"compositionend":return Xg(s);case"keypress":return s.which!==32?null:(Gg=!0,gs);case"textInput":return i=s.data,i===gs&&Gg?null:i;default:return null}}function lS(i,s){if(ys)return i==="compositionend"||!Dt&&Qg(i,s)?(i=xa(),vn=ls=Pn=null,ys=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return To&&s.locale!=="ko"?null:s.data;default:return null}}var uS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yg(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!uS[i.type]:s==="textarea"}function Jg(i,s,l,p){dr(p),s=yu(s,"onChange"),0<s.length&&(l=new cs("onChange","change",null,l,p),i.push({event:l,listeners:s}))}var La=null,Ma=null;function cS(i){gy(i,0)}function du(i){var s=Ts(i);if(De(s))return i}function fS(i,s){if(i==="change")return s}var Zg=!1;if(f){var Vf;if(f){var Uf="oninput"in document;if(!Uf){var ey=document.createElement("div");ey.setAttribute("oninput","return;"),Uf=typeof ey.oninput=="function"}Vf=Uf}else Vf=!1;Zg=Vf&&(!document.documentMode||9<document.documentMode)}function ty(){La&&(La.detachEvent("onpropertychange",ny),Ma=La=null)}function ny(i){if(i.propertyName==="value"&&du(Ma)){var s=[];Jg(s,Ma,i,Xo(i)),Ta(cS,s)}}function hS(i,s,l){i==="focusin"?(ty(),La=s,Ma=l,La.attachEvent("onpropertychange",ny)):i==="focusout"&&ty()}function dS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return du(Ma)}function pS(i,s){if(i==="click")return du(s)}function mS(i,s){if(i==="input"||i==="change")return du(s)}function gS(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var rr=typeof Object.is=="function"?Object.is:gS;function ja(i,s){if(rr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),p=Object.keys(s);if(l.length!==p.length)return!1;for(p=0;p<l.length;p++){var A=l[p];if(!h.call(s,A)||!rr(i[A],s[A]))return!1}return!0}function ry(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function iy(i,s){var l=ry(i);i=0;for(var p;l;){if(l.nodeType===3){if(p=i+l.textContent.length,i<=s&&p>=s)return{node:l,offset:s-i};i=p}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ry(l)}}function oy(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?oy(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function sy(){for(var i=window,s=Ve();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Ve(i.document)}return s}function Ff(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function yS(i){var s=sy(),l=i.focusedElem,p=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&oy(l.ownerDocument.documentElement,l)){if(p!==null&&Ff(l)){if(s=p.start,i=p.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var A=l.textContent.length,x=Math.min(p.start,A);p=p.end===void 0?x:Math.min(p.end,A),!i.extend&&x>p&&(A=p,p=x,x=A),A=iy(l,x);var F=iy(l,p);A&&F&&(i.rangeCount!==1||i.anchorNode!==A.node||i.anchorOffset!==A.offset||i.focusNode!==F.node||i.focusOffset!==F.offset)&&(s=s.createRange(),s.setStart(A.node,A.offset),i.removeAllRanges(),x>p?(i.addRange(s),i.extend(F.node,F.offset)):(s.setEnd(F.node,F.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var vS=f&&"documentMode"in document&&11>=document.documentMode,vs=null,qf=null,Va=null,Bf=!1;function ay(i,s,l){var p=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Bf||vs==null||vs!==Ve(p)||(p=vs,"selectionStart"in p&&Ff(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Va&&ja(Va,p)||(Va=p,p=yu(qf,"onSelect"),0<p.length&&(s=new cs("onSelect","select",null,s,l),i.push({event:s,listeners:p}),s.target=vs)))}function pu(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var _s={animationend:pu("Animation","AnimationEnd"),animationiteration:pu("Animation","AnimationIteration"),animationstart:pu("Animation","AnimationStart"),transitionend:pu("Transition","TransitionEnd")},zf={},ly={};f&&(ly=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function mu(i){if(zf[i])return zf[i];if(!_s[i])return i;var s=_s[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in ly)return zf[i]=s[l];return i}var uy=mu("animationend"),cy=mu("animationiteration"),fy=mu("animationstart"),hy=mu("transitionend"),dy=new Map,py="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(i,s){dy.set(i,s),a(s,[i])}for(var $f=0;$f<py.length;$f++){var Hf=py[$f],_S=Hf.toLowerCase(),ES=Hf[0].toUpperCase()+Hf.slice(1);Ti(_S,"on"+ES)}Ti(uy,"onAnimationEnd"),Ti(cy,"onAnimationIteration"),Ti(fy,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(hy,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ua));function my(i,s,l){var p=i.type||"unknown-event";i.currentTarget=l,Hl(p,s,void 0,i),i.currentTarget=null}function gy(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var p=i[l],A=p.event;p=p.listeners;e:{var x=void 0;if(s)for(var F=p.length-1;0<=F;F--){var Q=p[F],Z=Q.instance,ce=Q.currentTarget;if(Q=Q.listener,Z!==x&&A.isPropagationStopped())break e;my(A,Q,ce),x=Z}else for(F=0;F<p.length;F++){if(Q=p[F],Z=Q.instance,ce=Q.currentTarget,Q=Q.listener,Z!==x&&A.isPropagationStopped())break e;my(A,Q,ce),x=Z}}}if(Qn)throw i=ba,Qn=!1,ba=null,i}function vt(i,s){var l=s[Zf];l===void 0&&(l=s[Zf]=new Set);var p=i+"__bubble";l.has(p)||(yy(s,i,2,!1),l.add(p))}function Wf(i,s,l){var p=0;s&&(p|=4),yy(l,i,p,s)}var gu="_reactListening"+Math.random().toString(36).slice(2);function Fa(i){if(!i[gu]){i[gu]=!0,r.forEach(function(l){l!=="selectionchange"&&(wS.has(l)||Wf(l,!1,i),Wf(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[gu]||(s[gu]=!0,Wf("selectionchange",!1,s))}}function yy(i,s,l,p){switch(Pa(s)){case 1:var A=wt;break;case 4:A=Mf;break;default:A=Ca}l=A.bind(null,s,l,i),A=void 0,!Zo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(A=!0),p?A!==void 0?i.addEventListener(s,l,{capture:!0,passive:A}):i.addEventListener(s,l,!0):A!==void 0?i.addEventListener(s,l,{passive:A}):i.addEventListener(s,l,!1)}function Kf(i,s,l,p,A){var x=p;if(!(s&1)&&!(s&2)&&p!==null)e:for(;;){if(p===null)return;var F=p.tag;if(F===3||F===4){var Q=p.stateNode.containerInfo;if(Q===A||Q.nodeType===8&&Q.parentNode===A)break;if(F===4)for(F=p.return;F!==null;){var Z=F.tag;if((Z===3||Z===4)&&(Z=F.stateNode.containerInfo,Z===A||Z.nodeType===8&&Z.parentNode===A))return;F=F.return}for(;Q!==null;){if(F=bo(Q),F===null)return;if(Z=F.tag,Z===5||Z===6){p=x=F;continue e}Q=Q.parentNode}}p=p.return}Ta(function(){var ce=x,_e=Xo(l),we=[];e:{var ve=dy.get(i);if(ve!==void 0){var ke=cs,Pe=i;switch(i){case"keypress":if(us(l)===0)break e;case"keydown":case"keyup":ke=P;break;case"focusin":Pe="focus",ke=ps;break;case"focusout":Pe="blur",ke=ps;break;case"beforeblur":case"afterblur":ke=ps;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=hs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=fe;break;case uy:case cy:case fy:ke=zr;break;case hy:ke=dt;break;case"scroll":ke=jf;break;case"wheel":ke=rt;break;case"copy":case"cut":case"paste":ke=uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=z}var xe=(s&4)!==0,xt=!xe&&i==="scroll",le=xe?ve!==null?ve+"Capture":null:ve;xe=[];for(var re=ce,ue;re!==null;){ue=re;var Te=ue.stateNode;if(ue.tag===5&&Te!==null&&(ue=Te,le!==null&&(Te=Pt(re,le),Te!=null&&xe.push(qa(re,Te,ue)))),xt)break;re=re.return}0<xe.length&&(ve=new ke(ve,Pe,null,l,_e),we.push({event:ve,listeners:xe}))}}if(!(s&7)){e:{if(ve=i==="mouseover"||i==="pointerover",ke=i==="mouseout"||i==="pointerout",ve&&l!==uo&&(Pe=l.relatedTarget||l.fromElement)&&(bo(Pe)||Pe[$r]))break e;if((ke||ve)&&(ve=_e.window===_e?_e:(ve=_e.ownerDocument)?ve.defaultView||ve.parentWindow:window,ke?(Pe=l.relatedTarget||l.toElement,ke=ce,Pe=Pe?bo(Pe):null,Pe!==null&&(xt=Xn(Pe),Pe!==xt||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(ke=null,Pe=ce),ke!==Pe)){if(xe=hs,Te="onMouseLeave",le="onMouseEnter",re="mouse",(i==="pointerout"||i==="pointerover")&&(xe=z,Te="onPointerLeave",le="onPointerEnter",re="pointer"),xt=ke==null?ve:Ts(ke),ue=Pe==null?ve:Ts(Pe),ve=new xe(Te,re+"leave",ke,l,_e),ve.target=xt,ve.relatedTarget=ue,Te=null,bo(_e)===ce&&(xe=new xe(le,re+"enter",Pe,l,_e),xe.target=ue,xe.relatedTarget=xt,Te=xe),xt=Te,ke&&Pe)t:{for(xe=ke,le=Pe,re=0,ue=xe;ue;ue=Es(ue))re++;for(ue=0,Te=le;Te;Te=Es(Te))ue++;for(;0<re-ue;)xe=Es(xe),re--;for(;0<ue-re;)le=Es(le),ue--;for(;re--;){if(xe===le||le!==null&&xe===le.alternate)break t;xe=Es(xe),le=Es(le)}xe=null}else xe=null;ke!==null&&vy(we,ve,ke,xe,!1),Pe!==null&&xt!==null&&vy(we,xt,Pe,xe,!0)}}e:{if(ve=ce?Ts(ce):window,ke=ve.nodeName&&ve.nodeName.toLowerCase(),ke==="select"||ke==="input"&&ve.type==="file")var Oe=fS;else if(Yg(ve))if(Zg)Oe=mS;else{Oe=dS;var Le=hS}else(ke=ve.nodeName)&&ke.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(Oe=pS);if(Oe&&(Oe=Oe(i,ce))){Jg(we,Oe,l,_e);break e}Le&&Le(i,ve,ce),i==="focusout"&&(Le=ve._wrapperState)&&Le.controlled&&ve.type==="number"&&me(ve,"number",ve.value)}switch(Le=ce?Ts(ce):window,i){case"focusin":(Yg(Le)||Le.contentEditable==="true")&&(vs=Le,qf=ce,Va=null);break;case"focusout":Va=qf=vs=null;break;case"mousedown":Bf=!0;break;case"contextmenu":case"mouseup":case"dragend":Bf=!1,ay(we,l,_e);break;case"selectionchange":if(vS)break;case"keydown":case"keyup":ay(we,l,_e)}var Me;if(Dt)e:{switch(i){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else ys?Qg(i,l)&&(Fe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Fe="onCompositionStart");Fe&&(To&&l.locale!=="ko"&&(ys||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&ys&&(Me=xa()):(Pn=_e,ls="value"in Pn?Pn.value:Pn.textContent,ys=!0)),Le=yu(ce,Fe),0<Le.length&&(Fe=new Da(Fe,i,null,l,_e),we.push({event:Fe,listeners:Le}),Me?Fe.data=Me:(Me=Xg(l),Me!==null&&(Fe.data=Me)))),(Me=xn?aS(i,l):lS(i,l))&&(ce=yu(ce,"onBeforeInput"),0<ce.length&&(_e=new Da("onBeforeInput","beforeinput",null,l,_e),we.push({event:_e,listeners:ce}),_e.data=Me))}gy(we,s)})}function qa(i,s,l){return{instance:i,listener:s,currentTarget:l}}function yu(i,s){for(var l=s+"Capture",p=[];i!==null;){var A=i,x=A.stateNode;A.tag===5&&x!==null&&(A=x,x=Pt(i,l),x!=null&&p.unshift(qa(i,x,A)),x=Pt(i,s),x!=null&&p.push(qa(i,x,A))),i=i.return}return p}function Es(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function vy(i,s,l,p,A){for(var x=s._reactName,F=[];l!==null&&l!==p;){var Q=l,Z=Q.alternate,ce=Q.stateNode;if(Z!==null&&Z===p)break;Q.tag===5&&ce!==null&&(Q=ce,A?(Z=Pt(l,x),Z!=null&&F.unshift(qa(l,Z,Q))):A||(Z=Pt(l,x),Z!=null&&F.push(qa(l,Z,Q)))),l=l.return}F.length!==0&&i.push({event:s,listeners:F})}var TS=/\r\n?/g,bS=/\u0000|\uFFFD/g;function _y(i){return(typeof i=="string"?i:""+i).replace(TS,`
`).replace(bS,"")}function vu(i,s,l){if(s=_y(s),_y(i)!==s&&l)throw Error(t(425))}function _u(){}var Gf=null,Qf=null;function Xf(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Yf=typeof setTimeout=="function"?setTimeout:void 0,SS=typeof clearTimeout=="function"?clearTimeout:void 0,Ey=typeof Promise=="function"?Promise:void 0,AS=typeof queueMicrotask=="function"?queueMicrotask:typeof Ey<"u"?function(i){return Ey.resolve(null).then(i).catch(IS)}:Yf;function IS(i){setTimeout(function(){throw i})}function Jf(i,s){var l=s,p=0;do{var A=l.nextSibling;if(i.removeChild(l),A&&A.nodeType===8)if(l=A.data,l==="/$"){if(p===0){i.removeChild(A),tr(s);return}p--}else l!=="$"&&l!=="$?"&&l!=="$!"||p++;l=A}while(l);tr(s)}function bi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function wy(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var ws=Math.random().toString(36).slice(2),_r="__reactFiber$"+ws,Ba="__reactProps$"+ws,$r="__reactContainer$"+ws,Zf="__reactEvents$"+ws,kS="__reactListeners$"+ws,RS="__reactHandles$"+ws;function bo(i){var s=i[_r];if(s)return s;for(var l=i.parentNode;l;){if(s=l[$r]||l[_r]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=wy(i);i!==null;){if(l=i[_r])return l;i=wy(i)}return s}i=l,l=i.parentNode}return null}function za(i){return i=i[_r]||i[$r],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ts(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Eu(i){return i[Ba]||null}var eh=[],bs=-1;function Si(i){return{current:i}}function _t(i){0>bs||(i.current=eh[bs],eh[bs]=null,bs--)}function gt(i,s){bs++,eh[bs]=i.current,i.current=s}var Ai={},rn=Si(Ai),_n=Si(!1),So=Ai;function Ss(i,s){var l=i.type.contextTypes;if(!l)return Ai;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===s)return p.__reactInternalMemoizedMaskedChildContext;var A={},x;for(x in l)A[x]=s[x];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=A),A}function En(i){return i=i.childContextTypes,i!=null}function wu(){_t(_n),_t(rn)}function Ty(i,s,l){if(rn.current!==Ai)throw Error(t(168));gt(rn,s),gt(_n,l)}function by(i,s,l){var p=i.stateNode;if(s=s.childContextTypes,typeof p.getChildContext!="function")return l;p=p.getChildContext();for(var A in p)if(!(A in s))throw Error(t(108,J(i)||"Unknown",A));return W({},l,p)}function Tu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ai,So=rn.current,gt(rn,i),gt(_n,_n.current),!0}function Sy(i,s,l){var p=i.stateNode;if(!p)throw Error(t(169));l?(i=by(i,s,So),p.__reactInternalMemoizedMergedChildContext=i,_t(_n),_t(rn),gt(rn,i)):_t(_n),gt(_n,l)}var Hr=null,bu=!1,th=!1;function Ay(i){Hr===null?Hr=[i]:Hr.push(i)}function CS(i){bu=!0,Ay(i)}function Ii(){if(!th&&Hr!==null){th=!0;var i=0,s=nt;try{var l=Hr;for(nt=1;i<l.length;i++){var p=l[i];do p=p(!0);while(p!==null)}Hr=null,bu=!1}catch(A){throw Hr!==null&&(Hr=Hr.slice(i+1)),rs(mo,Ii),A}finally{nt=s,th=!1}}return null}var As=[],Is=0,Su=null,Au=0,Bn=[],zn=0,Ao=null,Wr=1,Kr="";function Io(i,s){As[Is++]=Au,As[Is++]=Su,Su=i,Au=s}function Iy(i,s,l){Bn[zn++]=Wr,Bn[zn++]=Kr,Bn[zn++]=Ao,Ao=i;var p=Wr;i=Kr;var A=32-hn(p)-1;p&=~(1<<A),l+=1;var x=32-hn(s)+A;if(30<x){var F=A-A%5;x=(p&(1<<F)-1).toString(32),p>>=F,A-=F,Wr=1<<32-hn(s)+A|l<<A|p,Kr=x+i}else Wr=1<<x|l<<A|p,Kr=i}function nh(i){i.return!==null&&(Io(i,1),Iy(i,1,0))}function rh(i){for(;i===Su;)Su=As[--Is],As[Is]=null,Au=As[--Is],As[Is]=null;for(;i===Ao;)Ao=Bn[--zn],Bn[zn]=null,Kr=Bn[--zn],Bn[zn]=null,Wr=Bn[--zn],Bn[zn]=null}var On=null,Nn=null,Tt=!1,ir=null;function ky(i,s){var l=Kn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function Ry(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,On=i,Nn=bi(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,On=i,Nn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Ao!==null?{id:Wr,overflow:Kr}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Kn(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,On=i,Nn=null,!0):!1;default:return!1}}function ih(i){return(i.mode&1)!==0&&(i.flags&128)===0}function oh(i){if(Tt){var s=Nn;if(s){var l=s;if(!Ry(i,s)){if(ih(i))throw Error(t(418));s=bi(l.nextSibling);var p=On;s&&Ry(i,s)?ky(p,l):(i.flags=i.flags&-4097|2,Tt=!1,On=i)}}else{if(ih(i))throw Error(t(418));i.flags=i.flags&-4097|2,Tt=!1,On=i}}}function Cy(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;On=i}function Iu(i){if(i!==On)return!1;if(!Tt)return Cy(i),Tt=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Xf(i.type,i.memoizedProps)),s&&(s=Nn)){if(ih(i))throw Py(),Error(t(418));for(;s;)ky(i,s),s=bi(s.nextSibling)}if(Cy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){Nn=bi(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}Nn=null}}else Nn=On?bi(i.stateNode.nextSibling):null;return!0}function Py(){for(var i=Nn;i;)i=bi(i.nextSibling)}function ks(){Nn=On=null,Tt=!1}function sh(i){ir===null?ir=[i]:ir.push(i)}var PS=E.ReactCurrentBatchConfig;function $a(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var p=l.stateNode}if(!p)throw Error(t(147,i));var A=p,x=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===x?s.ref:(s=function(F){var Q=A.refs;F===null?delete Q[x]:Q[x]=F},s._stringRef=x,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function ku(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function xy(i){var s=i._init;return s(i._payload)}function Oy(i){function s(le,re){if(i){var ue=le.deletions;ue===null?(le.deletions=[re],le.flags|=16):ue.push(re)}}function l(le,re){if(!i)return null;for(;re!==null;)s(le,re),re=re.sibling;return null}function p(le,re){for(le=new Map;re!==null;)re.key!==null?le.set(re.key,re):le.set(re.index,re),re=re.sibling;return le}function A(le,re){return le=Di(le,re),le.index=0,le.sibling=null,le}function x(le,re,ue){return le.index=ue,i?(ue=le.alternate,ue!==null?(ue=ue.index,ue<re?(le.flags|=2,re):ue):(le.flags|=2,re)):(le.flags|=1048576,re)}function F(le){return i&&le.alternate===null&&(le.flags|=2),le}function Q(le,re,ue,Te){return re===null||re.tag!==6?(re=Yh(ue,le.mode,Te),re.return=le,re):(re=A(re,ue),re.return=le,re)}function Z(le,re,ue,Te){var Oe=ue.type;return Oe===C?_e(le,re,ue.props.children,Te,ue.key):re!==null&&(re.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===X&&xy(Oe)===re.type)?(Te=A(re,ue.props),Te.ref=$a(le,re,ue),Te.return=le,Te):(Te=Yu(ue.type,ue.key,ue.props,null,le.mode,Te),Te.ref=$a(le,re,ue),Te.return=le,Te)}function ce(le,re,ue,Te){return re===null||re.tag!==4||re.stateNode.containerInfo!==ue.containerInfo||re.stateNode.implementation!==ue.implementation?(re=Jh(ue,le.mode,Te),re.return=le,re):(re=A(re,ue.children||[]),re.return=le,re)}function _e(le,re,ue,Te,Oe){return re===null||re.tag!==7?(re=Do(ue,le.mode,Te,Oe),re.return=le,re):(re=A(re,ue),re.return=le,re)}function we(le,re,ue){if(typeof re=="string"&&re!==""||typeof re=="number")return re=Yh(""+re,le.mode,ue),re.return=le,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case L:return ue=Yu(re.type,re.key,re.props,null,le.mode,ue),ue.ref=$a(le,null,re),ue.return=le,ue;case U:return re=Jh(re,le.mode,ue),re.return=le,re;case X:var Te=re._init;return we(le,Te(re._payload),ue)}if(be(re)||Y(re))return re=Do(re,le.mode,ue,null),re.return=le,re;ku(le,re)}return null}function ve(le,re,ue,Te){var Oe=re!==null?re.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Oe!==null?null:Q(le,re,""+ue,Te);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case L:return ue.key===Oe?Z(le,re,ue,Te):null;case U:return ue.key===Oe?ce(le,re,ue,Te):null;case X:return Oe=ue._init,ve(le,re,Oe(ue._payload),Te)}if(be(ue)||Y(ue))return Oe!==null?null:_e(le,re,ue,Te,null);ku(le,ue)}return null}function ke(le,re,ue,Te,Oe){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return le=le.get(ue)||null,Q(re,le,""+Te,Oe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case L:return le=le.get(Te.key===null?ue:Te.key)||null,Z(re,le,Te,Oe);case U:return le=le.get(Te.key===null?ue:Te.key)||null,ce(re,le,Te,Oe);case X:var Le=Te._init;return ke(le,re,ue,Le(Te._payload),Oe)}if(be(Te)||Y(Te))return le=le.get(ue)||null,_e(re,le,Te,Oe,null);ku(re,Te)}return null}function Pe(le,re,ue,Te){for(var Oe=null,Le=null,Me=re,Fe=re=0,Wt=null;Me!==null&&Fe<ue.length;Fe++){Me.index>Fe?(Wt=Me,Me=null):Wt=Me.sibling;var ut=ve(le,Me,ue[Fe],Te);if(ut===null){Me===null&&(Me=Wt);break}i&&Me&&ut.alternate===null&&s(le,Me),re=x(ut,re,Fe),Le===null?Oe=ut:Le.sibling=ut,Le=ut,Me=Wt}if(Fe===ue.length)return l(le,Me),Tt&&Io(le,Fe),Oe;if(Me===null){for(;Fe<ue.length;Fe++)Me=we(le,ue[Fe],Te),Me!==null&&(re=x(Me,re,Fe),Le===null?Oe=Me:Le.sibling=Me,Le=Me);return Tt&&Io(le,Fe),Oe}for(Me=p(le,Me);Fe<ue.length;Fe++)Wt=ke(Me,le,Fe,ue[Fe],Te),Wt!==null&&(i&&Wt.alternate!==null&&Me.delete(Wt.key===null?Fe:Wt.key),re=x(Wt,re,Fe),Le===null?Oe=Wt:Le.sibling=Wt,Le=Wt);return i&&Me.forEach(function(Li){return s(le,Li)}),Tt&&Io(le,Fe),Oe}function xe(le,re,ue,Te){var Oe=Y(ue);if(typeof Oe!="function")throw Error(t(150));if(ue=Oe.call(ue),ue==null)throw Error(t(151));for(var Le=Oe=null,Me=re,Fe=re=0,Wt=null,ut=ue.next();Me!==null&&!ut.done;Fe++,ut=ue.next()){Me.index>Fe?(Wt=Me,Me=null):Wt=Me.sibling;var Li=ve(le,Me,ut.value,Te);if(Li===null){Me===null&&(Me=Wt);break}i&&Me&&Li.alternate===null&&s(le,Me),re=x(Li,re,Fe),Le===null?Oe=Li:Le.sibling=Li,Le=Li,Me=Wt}if(ut.done)return l(le,Me),Tt&&Io(le,Fe),Oe;if(Me===null){for(;!ut.done;Fe++,ut=ue.next())ut=we(le,ut.value,Te),ut!==null&&(re=x(ut,re,Fe),Le===null?Oe=ut:Le.sibling=ut,Le=ut);return Tt&&Io(le,Fe),Oe}for(Me=p(le,Me);!ut.done;Fe++,ut=ue.next())ut=ke(Me,le,Fe,ut.value,Te),ut!==null&&(i&&ut.alternate!==null&&Me.delete(ut.key===null?Fe:ut.key),re=x(ut,re,Fe),Le===null?Oe=ut:Le.sibling=ut,Le=ut);return i&&Me.forEach(function(lA){return s(le,lA)}),Tt&&Io(le,Fe),Oe}function xt(le,re,ue,Te){if(typeof ue=="object"&&ue!==null&&ue.type===C&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case L:e:{for(var Oe=ue.key,Le=re;Le!==null;){if(Le.key===Oe){if(Oe=ue.type,Oe===C){if(Le.tag===7){l(le,Le.sibling),re=A(Le,ue.props.children),re.return=le,le=re;break e}}else if(Le.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===X&&xy(Oe)===Le.type){l(le,Le.sibling),re=A(Le,ue.props),re.ref=$a(le,Le,ue),re.return=le,le=re;break e}l(le,Le);break}else s(le,Le);Le=Le.sibling}ue.type===C?(re=Do(ue.props.children,le.mode,Te,ue.key),re.return=le,le=re):(Te=Yu(ue.type,ue.key,ue.props,null,le.mode,Te),Te.ref=$a(le,re,ue),Te.return=le,le=Te)}return F(le);case U:e:{for(Le=ue.key;re!==null;){if(re.key===Le)if(re.tag===4&&re.stateNode.containerInfo===ue.containerInfo&&re.stateNode.implementation===ue.implementation){l(le,re.sibling),re=A(re,ue.children||[]),re.return=le,le=re;break e}else{l(le,re);break}else s(le,re);re=re.sibling}re=Jh(ue,le.mode,Te),re.return=le,le=re}return F(le);case X:return Le=ue._init,xt(le,re,Le(ue._payload),Te)}if(be(ue))return Pe(le,re,ue,Te);if(Y(ue))return xe(le,re,ue,Te);ku(le,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,re!==null&&re.tag===6?(l(le,re.sibling),re=A(re,ue),re.return=le,le=re):(l(le,re),re=Yh(ue,le.mode,Te),re.return=le,le=re),F(le)):l(le,re)}return xt}var Rs=Oy(!0),Ny=Oy(!1),Ru=Si(null),Cu=null,Cs=null,ah=null;function lh(){ah=Cs=Cu=null}function uh(i){var s=Ru.current;_t(Ru),i._currentValue=s}function ch(i,s,l){for(;i!==null;){var p=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),i===l)break;i=i.return}}function Ps(i,s){Cu=i,ah=Cs=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(wn=!0),i.firstContext=null)}function $n(i){var s=i._currentValue;if(ah!==i)if(i={context:i,memoizedValue:s,next:null},Cs===null){if(Cu===null)throw Error(t(308));Cs=i,Cu.dependencies={lanes:0,firstContext:i}}else Cs=Cs.next=i;return s}var ko=null;function fh(i){ko===null?ko=[i]:ko.push(i)}function Dy(i,s,l,p){var A=s.interleaved;return A===null?(l.next=l,fh(s)):(l.next=A.next,A.next=l),s.interleaved=l,Gr(i,p)}function Gr(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var ki=!1;function hh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ly(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Qr(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Ri(i,s,l){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,at&2){var A=p.pending;return A===null?s.next=s:(s.next=A.next,A.next=s),p.pending=s,Gr(i,l)}return A=p.interleaved,A===null?(s.next=s,fh(p)):(s.next=A.next,A.next=s),p.interleaved=s,Gr(i,l)}function Pu(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var p=s.lanes;p&=i.pendingLanes,l|=p,s.lanes=l,yi(i,l)}}function My(i,s){var l=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,l===p)){var A=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var F={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};x===null?A=x=F:x=x.next=F,l=l.next}while(l!==null);x===null?A=x=s:x=x.next=s}else A=x=s;l={baseState:p.baseState,firstBaseUpdate:A,lastBaseUpdate:x,shared:p.shared,effects:p.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function xu(i,s,l,p){var A=i.updateQueue;ki=!1;var x=A.firstBaseUpdate,F=A.lastBaseUpdate,Q=A.shared.pending;if(Q!==null){A.shared.pending=null;var Z=Q,ce=Z.next;Z.next=null,F===null?x=ce:F.next=ce,F=Z;var _e=i.alternate;_e!==null&&(_e=_e.updateQueue,Q=_e.lastBaseUpdate,Q!==F&&(Q===null?_e.firstBaseUpdate=ce:Q.next=ce,_e.lastBaseUpdate=Z))}if(x!==null){var we=A.baseState;F=0,_e=ce=Z=null,Q=x;do{var ve=Q.lane,ke=Q.eventTime;if((p&ve)===ve){_e!==null&&(_e=_e.next={eventTime:ke,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var Pe=i,xe=Q;switch(ve=s,ke=l,xe.tag){case 1:if(Pe=xe.payload,typeof Pe=="function"){we=Pe.call(ke,we,ve);break e}we=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=xe.payload,ve=typeof Pe=="function"?Pe.call(ke,we,ve):Pe,ve==null)break e;we=W({},we,ve);break e;case 2:ki=!0}}Q.callback!==null&&Q.lane!==0&&(i.flags|=64,ve=A.effects,ve===null?A.effects=[Q]:ve.push(Q))}else ke={eventTime:ke,lane:ve,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},_e===null?(ce=_e=ke,Z=we):_e=_e.next=ke,F|=ve;if(Q=Q.next,Q===null){if(Q=A.shared.pending,Q===null)break;ve=Q,Q=ve.next,ve.next=null,A.lastBaseUpdate=ve,A.shared.pending=null}}while(!0);if(_e===null&&(Z=we),A.baseState=Z,A.firstBaseUpdate=ce,A.lastBaseUpdate=_e,s=A.shared.interleaved,s!==null){A=s;do F|=A.lane,A=A.next;while(A!==s)}else x===null&&(A.shared.lanes=0);Po|=F,i.lanes=F,i.memoizedState=we}}function jy(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var p=i[s],A=p.callback;if(A!==null){if(p.callback=null,p=l,typeof A!="function")throw Error(t(191,A));A.call(p)}}}var Ha={},Er=Si(Ha),Wa=Si(Ha),Ka=Si(Ha);function Ro(i){if(i===Ha)throw Error(t(174));return i}function dh(i,s){switch(gt(Ka,s),gt(Wa,i),gt(Er,Ha),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ft(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=ft(s,i)}_t(Er),gt(Er,s)}function xs(){_t(Er),_t(Wa),_t(Ka)}function Vy(i){Ro(Ka.current);var s=Ro(Er.current),l=ft(s,i.type);s!==l&&(gt(Wa,i),gt(Er,l))}function ph(i){Wa.current===i&&(_t(Er),_t(Wa))}var St=Si(0);function Ou(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var mh=[];function gh(){for(var i=0;i<mh.length;i++)mh[i]._workInProgressVersionPrimary=null;mh.length=0}var Nu=E.ReactCurrentDispatcher,yh=E.ReactCurrentBatchConfig,Co=0,At=null,Vt=null,$t=null,Du=!1,Ga=!1,Qa=0,xS=0;function on(){throw Error(t(321))}function vh(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!rr(i[l],s[l]))return!1;return!0}function _h(i,s,l,p,A,x){if(Co=x,At=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Nu.current=i===null||i.memoizedState===null?LS:MS,i=l(p,A),Ga){x=0;do{if(Ga=!1,Qa=0,25<=x)throw Error(t(301));x+=1,$t=Vt=null,s.updateQueue=null,Nu.current=jS,i=l(p,A)}while(Ga)}if(Nu.current=ju,s=Vt!==null&&Vt.next!==null,Co=0,$t=Vt=At=null,Du=!1,s)throw Error(t(300));return i}function Eh(){var i=Qa!==0;return Qa=0,i}function wr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?At.memoizedState=$t=i:$t=$t.next=i,$t}function Hn(){if(Vt===null){var i=At.alternate;i=i!==null?i.memoizedState:null}else i=Vt.next;var s=$t===null?At.memoizedState:$t.next;if(s!==null)$t=s,Vt=i;else{if(i===null)throw Error(t(310));Vt=i,i={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},$t===null?At.memoizedState=$t=i:$t=$t.next=i}return $t}function Xa(i,s){return typeof s=="function"?s(i):s}function wh(i){var s=Hn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var p=Vt,A=p.baseQueue,x=l.pending;if(x!==null){if(A!==null){var F=A.next;A.next=x.next,x.next=F}p.baseQueue=A=x,l.pending=null}if(A!==null){x=A.next,p=p.baseState;var Q=F=null,Z=null,ce=x;do{var _e=ce.lane;if((Co&_e)===_e)Z!==null&&(Z=Z.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),p=ce.hasEagerState?ce.eagerState:i(p,ce.action);else{var we={lane:_e,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};Z===null?(Q=Z=we,F=p):Z=Z.next=we,At.lanes|=_e,Po|=_e}ce=ce.next}while(ce!==null&&ce!==x);Z===null?F=p:Z.next=Q,rr(p,s.memoizedState)||(wn=!0),s.memoizedState=p,s.baseState=F,s.baseQueue=Z,l.lastRenderedState=p}if(i=l.interleaved,i!==null){A=i;do x=A.lane,At.lanes|=x,Po|=x,A=A.next;while(A!==i)}else A===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Th(i){var s=Hn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var p=l.dispatch,A=l.pending,x=s.memoizedState;if(A!==null){l.pending=null;var F=A=A.next;do x=i(x,F.action),F=F.next;while(F!==A);rr(x,s.memoizedState)||(wn=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),l.lastRenderedState=x}return[x,p]}function Uy(){}function Fy(i,s){var l=At,p=Hn(),A=s(),x=!rr(p.memoizedState,A);if(x&&(p.memoizedState=A,wn=!0),p=p.queue,bh(zy.bind(null,l,p,i),[i]),p.getSnapshot!==s||x||$t!==null&&$t.memoizedState.tag&1){if(l.flags|=2048,Ya(9,By.bind(null,l,p,A,s),void 0,null),Ht===null)throw Error(t(349));Co&30||qy(l,s,A)}return A}function qy(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=At.updateQueue,s===null?(s={lastEffect:null,stores:null},At.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function By(i,s,l,p){s.value=l,s.getSnapshot=p,$y(s)&&Hy(i)}function zy(i,s,l){return l(function(){$y(s)&&Hy(i)})}function $y(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!rr(i,l)}catch{return!0}}function Hy(i){var s=Gr(i,1);s!==null&&lr(s,i,1,-1)}function Wy(i){var s=wr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:i},s.queue=i,i=i.dispatch=DS.bind(null,At,i),[s.memoizedState,i]}function Ya(i,s,l,p){return i={tag:i,create:s,destroy:l,deps:p,next:null},s=At.updateQueue,s===null?(s={lastEffect:null,stores:null},At.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(p=l.next,l.next=i,i.next=p,s.lastEffect=i)),i}function Ky(){return Hn().memoizedState}function Lu(i,s,l,p){var A=wr();At.flags|=i,A.memoizedState=Ya(1|s,l,void 0,p===void 0?null:p)}function Mu(i,s,l,p){var A=Hn();p=p===void 0?null:p;var x=void 0;if(Vt!==null){var F=Vt.memoizedState;if(x=F.destroy,p!==null&&vh(p,F.deps)){A.memoizedState=Ya(s,l,x,p);return}}At.flags|=i,A.memoizedState=Ya(1|s,l,x,p)}function Gy(i,s){return Lu(8390656,8,i,s)}function bh(i,s){return Mu(2048,8,i,s)}function Qy(i,s){return Mu(4,2,i,s)}function Xy(i,s){return Mu(4,4,i,s)}function Yy(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Jy(i,s,l){return l=l!=null?l.concat([i]):null,Mu(4,4,Yy.bind(null,s,i),l)}function Sh(){}function Zy(i,s){var l=Hn();s=s===void 0?null:s;var p=l.memoizedState;return p!==null&&s!==null&&vh(s,p[1])?p[0]:(l.memoizedState=[i,s],i)}function ev(i,s){var l=Hn();s=s===void 0?null:s;var p=l.memoizedState;return p!==null&&s!==null&&vh(s,p[1])?p[0]:(i=i(),l.memoizedState=[i,s],i)}function tv(i,s,l){return Co&21?(rr(l,s)||(l=vo(),At.lanes|=l,Po|=l,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,wn=!0),i.memoizedState=l)}function OS(i,s){var l=nt;nt=l!==0&&4>l?l:4,i(!0);var p=yh.transition;yh.transition={};try{i(!1),s()}finally{nt=l,yh.transition=p}}function nv(){return Hn().memoizedState}function NS(i,s,l){var p=Oi(i);if(l={lane:p,action:l,hasEagerState:!1,eagerState:null,next:null},rv(i))iv(s,l);else if(l=Dy(i,s,l,p),l!==null){var A=mn();lr(l,i,p,A),ov(l,s,p)}}function DS(i,s,l){var p=Oi(i),A={lane:p,action:l,hasEagerState:!1,eagerState:null,next:null};if(rv(i))iv(s,A);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var F=s.lastRenderedState,Q=x(F,l);if(A.hasEagerState=!0,A.eagerState=Q,rr(Q,F)){var Z=s.interleaved;Z===null?(A.next=A,fh(s)):(A.next=Z.next,Z.next=A),s.interleaved=A;return}}catch{}finally{}l=Dy(i,s,A,p),l!==null&&(A=mn(),lr(l,i,p,A),ov(l,s,p))}}function rv(i){var s=i.alternate;return i===At||s!==null&&s===At}function iv(i,s){Ga=Du=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function ov(i,s,l){if(l&4194240){var p=s.lanes;p&=i.pendingLanes,l|=p,s.lanes=l,yi(i,l)}}var ju={readContext:$n,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},LS={readContext:$n,useCallback:function(i,s){return wr().memoizedState=[i,s===void 0?null:s],i},useContext:$n,useEffect:Gy,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,Lu(4194308,4,Yy.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Lu(4194308,4,i,s)},useInsertionEffect:function(i,s){return Lu(4,2,i,s)},useMemo:function(i,s){var l=wr();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var p=wr();return s=l!==void 0?l(s):s,p.memoizedState=p.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},p.queue=i,i=i.dispatch=NS.bind(null,At,i),[p.memoizedState,i]},useRef:function(i){var s=wr();return i={current:i},s.memoizedState=i},useState:Wy,useDebugValue:Sh,useDeferredValue:function(i){return wr().memoizedState=i},useTransition:function(){var i=Wy(!1),s=i[0];return i=OS.bind(null,i[1]),wr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var p=At,A=wr();if(Tt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Ht===null)throw Error(t(349));Co&30||qy(p,s,l)}A.memoizedState=l;var x={value:l,getSnapshot:s};return A.queue=x,Gy(zy.bind(null,p,x,i),[i]),p.flags|=2048,Ya(9,By.bind(null,p,x,l,s),void 0,null),l},useId:function(){var i=wr(),s=Ht.identifierPrefix;if(Tt){var l=Kr,p=Wr;l=(p&~(1<<32-hn(p)-1)).toString(32)+l,s=":"+s+"R"+l,l=Qa++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=xS++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},MS={readContext:$n,useCallback:Zy,useContext:$n,useEffect:bh,useImperativeHandle:Jy,useInsertionEffect:Qy,useLayoutEffect:Xy,useMemo:ev,useReducer:wh,useRef:Ky,useState:function(){return wh(Xa)},useDebugValue:Sh,useDeferredValue:function(i){var s=Hn();return tv(s,Vt.memoizedState,i)},useTransition:function(){var i=wh(Xa)[0],s=Hn().memoizedState;return[i,s]},useMutableSource:Uy,useSyncExternalStore:Fy,useId:nv,unstable_isNewReconciler:!1},jS={readContext:$n,useCallback:Zy,useContext:$n,useEffect:bh,useImperativeHandle:Jy,useInsertionEffect:Qy,useLayoutEffect:Xy,useMemo:ev,useReducer:Th,useRef:Ky,useState:function(){return Th(Xa)},useDebugValue:Sh,useDeferredValue:function(i){var s=Hn();return Vt===null?s.memoizedState=i:tv(s,Vt.memoizedState,i)},useTransition:function(){var i=Th(Xa)[0],s=Hn().memoizedState;return[i,s]},useMutableSource:Uy,useSyncExternalStore:Fy,useId:nv,unstable_isNewReconciler:!1};function or(i,s){if(i&&i.defaultProps){s=W({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function Ah(i,s,l,p){s=i.memoizedState,l=l(p,s),l=l==null?s:W({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Vu={isMounted:function(i){return(i=i._reactInternals)?Xn(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var p=mn(),A=Oi(i),x=Qr(p,A);x.payload=s,l!=null&&(x.callback=l),s=Ri(i,x,A),s!==null&&(lr(s,i,A,p),Pu(s,i,A))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var p=mn(),A=Oi(i),x=Qr(p,A);x.tag=1,x.payload=s,l!=null&&(x.callback=l),s=Ri(i,x,A),s!==null&&(lr(s,i,A,p),Pu(s,i,A))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=mn(),p=Oi(i),A=Qr(l,p);A.tag=2,s!=null&&(A.callback=s),s=Ri(i,A,p),s!==null&&(lr(s,i,p,l),Pu(s,i,p))}};function sv(i,s,l,p,A,x,F){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,x,F):s.prototype&&s.prototype.isPureReactComponent?!ja(l,p)||!ja(A,x):!0}function av(i,s,l){var p=!1,A=Ai,x=s.contextType;return typeof x=="object"&&x!==null?x=$n(x):(A=En(s)?So:rn.current,p=s.contextTypes,x=(p=p!=null)?Ss(i,A):Ai),s=new s(l,x),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Vu,i.stateNode=s,s._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=A,i.__reactInternalMemoizedMaskedChildContext=x),s}function lv(i,s,l,p){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,p),s.state!==i&&Vu.enqueueReplaceState(s,s.state,null)}function Ih(i,s,l,p){var A=i.stateNode;A.props=l,A.state=i.memoizedState,A.refs={},hh(i);var x=s.contextType;typeof x=="object"&&x!==null?A.context=$n(x):(x=En(s)?So:rn.current,A.context=Ss(i,x)),A.state=i.memoizedState,x=s.getDerivedStateFromProps,typeof x=="function"&&(Ah(i,s,x,l),A.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(s=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),s!==A.state&&Vu.enqueueReplaceState(A,A.state,null),xu(i,l,A,p),A.state=i.memoizedState),typeof A.componentDidMount=="function"&&(i.flags|=4194308)}function Os(i,s){try{var l="",p=s;do l+=ee(p),p=p.return;while(p);var A=l}catch(x){A=`
Error generating stack: `+x.message+`
`+x.stack}return{value:i,source:s,stack:A,digest:null}}function kh(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function Rh(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var VS=typeof WeakMap=="function"?WeakMap:Map;function uv(i,s,l){l=Qr(-1,l),l.tag=3,l.payload={element:null};var p=s.value;return l.callback=function(){Hu||(Hu=!0,zh=p),Rh(i,s)},l}function cv(i,s,l){l=Qr(-1,l),l.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var A=s.value;l.payload=function(){return p(A)},l.callback=function(){Rh(i,s)}}var x=i.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(l.callback=function(){Rh(i,s),typeof p!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var F=s.stack;this.componentDidCatch(s.value,{componentStack:F!==null?F:""})}),l}function fv(i,s,l){var p=i.pingCache;if(p===null){p=i.pingCache=new VS;var A=new Set;p.set(s,A)}else A=p.get(s),A===void 0&&(A=new Set,p.set(s,A));A.has(l)||(A.add(l),i=JS.bind(null,i,s,l),s.then(i,i))}function hv(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function dv(i,s,l,p,A){return i.mode&1?(i.flags|=65536,i.lanes=A,i):(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Qr(-1,1),s.tag=2,Ri(l,s,1))),l.lanes|=1),i)}var US=E.ReactCurrentOwner,wn=!1;function pn(i,s,l,p){s.child=i===null?Ny(s,null,l,p):Rs(s,i.child,l,p)}function pv(i,s,l,p,A){l=l.render;var x=s.ref;return Ps(s,A),p=_h(i,s,l,p,x,A),l=Eh(),i!==null&&!wn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~A,Xr(i,s,A)):(Tt&&l&&nh(s),s.flags|=1,pn(i,s,p,A),s.child)}function mv(i,s,l,p,A){if(i===null){var x=l.type;return typeof x=="function"&&!Xh(x)&&x.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=x,gv(i,s,x,p,A)):(i=Yu(l.type,null,p,s,s.mode,A),i.ref=s.ref,i.return=s,s.child=i)}if(x=i.child,!(i.lanes&A)){var F=x.memoizedProps;if(l=l.compare,l=l!==null?l:ja,l(F,p)&&i.ref===s.ref)return Xr(i,s,A)}return s.flags|=1,i=Di(x,p),i.ref=s.ref,i.return=s,s.child=i}function gv(i,s,l,p,A){if(i!==null){var x=i.memoizedProps;if(ja(x,p)&&i.ref===s.ref)if(wn=!1,s.pendingProps=p=x,(i.lanes&A)!==0)i.flags&131072&&(wn=!0);else return s.lanes=i.lanes,Xr(i,s,A)}return Ch(i,s,l,p,A)}function yv(i,s,l){var p=s.pendingProps,A=p.children,x=i!==null?i.memoizedState:null;if(p.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(Ds,Dn),Dn|=l;else{if(!(l&1073741824))return i=x!==null?x.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,gt(Ds,Dn),Dn|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=x!==null?x.baseLanes:l,gt(Ds,Dn),Dn|=p}else x!==null?(p=x.baseLanes|l,s.memoizedState=null):p=l,gt(Ds,Dn),Dn|=p;return pn(i,s,A,l),s.child}function vv(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Ch(i,s,l,p,A){var x=En(l)?So:rn.current;return x=Ss(s,x),Ps(s,A),l=_h(i,s,l,p,x,A),p=Eh(),i!==null&&!wn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~A,Xr(i,s,A)):(Tt&&p&&nh(s),s.flags|=1,pn(i,s,l,A),s.child)}function _v(i,s,l,p,A){if(En(l)){var x=!0;Tu(s)}else x=!1;if(Ps(s,A),s.stateNode===null)Fu(i,s),av(s,l,p),Ih(s,l,p,A),p=!0;else if(i===null){var F=s.stateNode,Q=s.memoizedProps;F.props=Q;var Z=F.context,ce=l.contextType;typeof ce=="object"&&ce!==null?ce=$n(ce):(ce=En(l)?So:rn.current,ce=Ss(s,ce));var _e=l.getDerivedStateFromProps,we=typeof _e=="function"||typeof F.getSnapshotBeforeUpdate=="function";we||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Q!==p||Z!==ce)&&lv(s,F,p,ce),ki=!1;var ve=s.memoizedState;F.state=ve,xu(s,p,F,A),Z=s.memoizedState,Q!==p||ve!==Z||_n.current||ki?(typeof _e=="function"&&(Ah(s,l,_e,p),Z=s.memoizedState),(Q=ki||sv(s,l,Q,p,ve,Z,ce))?(we||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(s.flags|=4194308)):(typeof F.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=Z),F.props=p,F.state=Z,F.context=ce,p=Q):(typeof F.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{F=s.stateNode,Ly(i,s),Q=s.memoizedProps,ce=s.type===s.elementType?Q:or(s.type,Q),F.props=ce,we=s.pendingProps,ve=F.context,Z=l.contextType,typeof Z=="object"&&Z!==null?Z=$n(Z):(Z=En(l)?So:rn.current,Z=Ss(s,Z));var ke=l.getDerivedStateFromProps;(_e=typeof ke=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Q!==we||ve!==Z)&&lv(s,F,p,Z),ki=!1,ve=s.memoizedState,F.state=ve,xu(s,p,F,A);var Pe=s.memoizedState;Q!==we||ve!==Pe||_n.current||ki?(typeof ke=="function"&&(Ah(s,l,ke,p),Pe=s.memoizedState),(ce=ki||sv(s,l,ce,p,ve,Pe,Z)||!1)?(_e||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(p,Pe,Z),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(p,Pe,Z)),typeof F.componentDidUpdate=="function"&&(s.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof F.componentDidUpdate!="function"||Q===i.memoizedProps&&ve===i.memoizedState||(s.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Q===i.memoizedProps&&ve===i.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=Pe),F.props=p,F.state=Pe,F.context=Z,p=ce):(typeof F.componentDidUpdate!="function"||Q===i.memoizedProps&&ve===i.memoizedState||(s.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Q===i.memoizedProps&&ve===i.memoizedState||(s.flags|=1024),p=!1)}return Ph(i,s,l,p,x,A)}function Ph(i,s,l,p,A,x){vv(i,s);var F=(s.flags&128)!==0;if(!p&&!F)return A&&Sy(s,l,!1),Xr(i,s,x);p=s.stateNode,US.current=s;var Q=F&&typeof l.getDerivedStateFromError!="function"?null:p.render();return s.flags|=1,i!==null&&F?(s.child=Rs(s,i.child,null,x),s.child=Rs(s,null,Q,x)):pn(i,s,Q,x),s.memoizedState=p.state,A&&Sy(s,l,!0),s.child}function Ev(i){var s=i.stateNode;s.pendingContext?Ty(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Ty(i,s.context,!1),dh(i,s.containerInfo)}function wv(i,s,l,p,A){return ks(),sh(A),s.flags|=256,pn(i,s,l,p),s.child}var xh={dehydrated:null,treeContext:null,retryLane:0};function Oh(i){return{baseLanes:i,cachePool:null,transitions:null}}function Tv(i,s,l){var p=s.pendingProps,A=St.current,x=!1,F=(s.flags&128)!==0,Q;if((Q=F)||(Q=i!==null&&i.memoizedState===null?!1:(A&2)!==0),Q?(x=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(A|=1),gt(St,A&1),i===null)return oh(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(F=p.children,i=p.fallback,x?(p=s.mode,x=s.child,F={mode:"hidden",children:F},!(p&1)&&x!==null?(x.childLanes=0,x.pendingProps=F):x=Ju(F,p,0,null),i=Do(i,p,l,null),x.return=s,i.return=s,x.sibling=i,s.child=x,s.child.memoizedState=Oh(l),s.memoizedState=xh,i):Nh(s,F));if(A=i.memoizedState,A!==null&&(Q=A.dehydrated,Q!==null))return FS(i,s,F,p,Q,A,l);if(x){x=p.fallback,F=s.mode,A=i.child,Q=A.sibling;var Z={mode:"hidden",children:p.children};return!(F&1)&&s.child!==A?(p=s.child,p.childLanes=0,p.pendingProps=Z,s.deletions=null):(p=Di(A,Z),p.subtreeFlags=A.subtreeFlags&14680064),Q!==null?x=Di(Q,x):(x=Do(x,F,l,null),x.flags|=2),x.return=s,p.return=s,p.sibling=x,s.child=p,p=x,x=s.child,F=i.child.memoizedState,F=F===null?Oh(l):{baseLanes:F.baseLanes|l,cachePool:null,transitions:F.transitions},x.memoizedState=F,x.childLanes=i.childLanes&~l,s.memoizedState=xh,p}return x=i.child,i=x.sibling,p=Di(x,{mode:"visible",children:p.children}),!(s.mode&1)&&(p.lanes=l),p.return=s,p.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=p,s.memoizedState=null,p}function Nh(i,s){return s=Ju({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Uu(i,s,l,p){return p!==null&&sh(p),Rs(s,i.child,null,l),i=Nh(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function FS(i,s,l,p,A,x,F){if(l)return s.flags&256?(s.flags&=-257,p=kh(Error(t(422))),Uu(i,s,F,p)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(x=p.fallback,A=s.mode,p=Ju({mode:"visible",children:p.children},A,0,null),x=Do(x,A,F,null),x.flags|=2,p.return=s,x.return=s,p.sibling=x,s.child=p,s.mode&1&&Rs(s,i.child,null,F),s.child.memoizedState=Oh(F),s.memoizedState=xh,x);if(!(s.mode&1))return Uu(i,s,F,null);if(A.data==="$!"){if(p=A.nextSibling&&A.nextSibling.dataset,p)var Q=p.dgst;return p=Q,x=Error(t(419)),p=kh(x,p,void 0),Uu(i,s,F,p)}if(Q=(F&i.childLanes)!==0,wn||Q){if(p=Ht,p!==null){switch(F&-F){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=A&(p.suspendedLanes|F)?0:A,A!==0&&A!==x.retryLane&&(x.retryLane=A,Gr(i,A),lr(p,i,A,-1))}return Qh(),p=kh(Error(t(421))),Uu(i,s,F,p)}return A.data==="$?"?(s.flags|=128,s.child=i.child,s=ZS.bind(null,i),A._reactRetry=s,null):(i=x.treeContext,Nn=bi(A.nextSibling),On=s,Tt=!0,ir=null,i!==null&&(Bn[zn++]=Wr,Bn[zn++]=Kr,Bn[zn++]=Ao,Wr=i.id,Kr=i.overflow,Ao=s),s=Nh(s,p.children),s.flags|=4096,s)}function bv(i,s,l){i.lanes|=s;var p=i.alternate;p!==null&&(p.lanes|=s),ch(i.return,s,l)}function Dh(i,s,l,p,A){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:l,tailMode:A}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=l,x.tailMode=A)}function Sv(i,s,l){var p=s.pendingProps,A=p.revealOrder,x=p.tail;if(pn(i,s,p.children,l),p=St.current,p&2)p=p&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&bv(i,l,s);else if(i.tag===19)bv(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(gt(St,p),!(s.mode&1))s.memoizedState=null;else switch(A){case"forwards":for(l=s.child,A=null;l!==null;)i=l.alternate,i!==null&&Ou(i)===null&&(A=l),l=l.sibling;l=A,l===null?(A=s.child,s.child=null):(A=l.sibling,l.sibling=null),Dh(s,!1,A,l,x);break;case"backwards":for(l=null,A=s.child,s.child=null;A!==null;){if(i=A.alternate,i!==null&&Ou(i)===null){s.child=A;break}i=A.sibling,A.sibling=l,l=A,A=i}Dh(s,!0,l,null,x);break;case"together":Dh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Fu(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Xr(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Po|=s.lanes,!(l&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=Di(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Di(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function qS(i,s,l){switch(s.tag){case 3:Ev(s),ks();break;case 5:Vy(s);break;case 1:En(s.type)&&Tu(s);break;case 4:dh(s,s.stateNode.containerInfo);break;case 10:var p=s.type._context,A=s.memoizedProps.value;gt(Ru,p._currentValue),p._currentValue=A;break;case 13:if(p=s.memoizedState,p!==null)return p.dehydrated!==null?(gt(St,St.current&1),s.flags|=128,null):l&s.child.childLanes?Tv(i,s,l):(gt(St,St.current&1),i=Xr(i,s,l),i!==null?i.sibling:null);gt(St,St.current&1);break;case 19:if(p=(l&s.childLanes)!==0,i.flags&128){if(p)return Sv(i,s,l);s.flags|=128}if(A=s.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),gt(St,St.current),p)break;return null;case 22:case 23:return s.lanes=0,yv(i,s,l)}return Xr(i,s,l)}var Av,Lh,Iv,kv;Av=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Lh=function(){},Iv=function(i,s,l,p){var A=i.memoizedProps;if(A!==p){i=s.stateNode,Ro(Er.current);var x=null;switch(l){case"input":A=We(i,A),p=We(i,p),x=[];break;case"select":A=W({},A,{value:void 0}),p=W({},p,{value:void 0}),x=[];break;case"textarea":A=ye(i,A),p=ye(i,p),x=[];break;default:typeof A.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=_u)}va(l,p);var F;l=null;for(ce in A)if(!p.hasOwnProperty(ce)&&A.hasOwnProperty(ce)&&A[ce]!=null)if(ce==="style"){var Q=A[ce];for(F in Q)Q.hasOwnProperty(F)&&(l||(l={}),l[F]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(o.hasOwnProperty(ce)?x||(x=[]):(x=x||[]).push(ce,null));for(ce in p){var Z=p[ce];if(Q=A!=null?A[ce]:void 0,p.hasOwnProperty(ce)&&Z!==Q&&(Z!=null||Q!=null))if(ce==="style")if(Q){for(F in Q)!Q.hasOwnProperty(F)||Z&&Z.hasOwnProperty(F)||(l||(l={}),l[F]="");for(F in Z)Z.hasOwnProperty(F)&&Q[F]!==Z[F]&&(l||(l={}),l[F]=Z[F])}else l||(x||(x=[]),x.push(ce,l)),l=Z;else ce==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Q=Q?Q.__html:void 0,Z!=null&&Q!==Z&&(x=x||[]).push(ce,Z)):ce==="children"?typeof Z!="string"&&typeof Z!="number"||(x=x||[]).push(ce,""+Z):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(o.hasOwnProperty(ce)?(Z!=null&&ce==="onScroll"&&vt("scroll",i),x||Q===Z||(x=[])):(x=x||[]).push(ce,Z))}l&&(x=x||[]).push("style",l);var ce=x;(s.updateQueue=ce)&&(s.flags|=4)}},kv=function(i,s,l,p){l!==p&&(s.flags|=4)};function Ja(i,s){if(!Tt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function sn(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,p=0;if(s)for(var A=i.child;A!==null;)l|=A.lanes|A.childLanes,p|=A.subtreeFlags&14680064,p|=A.flags&14680064,A.return=i,A=A.sibling;else for(A=i.child;A!==null;)l|=A.lanes|A.childLanes,p|=A.subtreeFlags,p|=A.flags,A.return=i,A=A.sibling;return i.subtreeFlags|=p,i.childLanes=l,s}function BS(i,s,l){var p=s.pendingProps;switch(rh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(s),null;case 1:return En(s.type)&&wu(),sn(s),null;case 3:return p=s.stateNode,xs(),_t(_n),_t(rn),gh(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(Iu(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,ir!==null&&(Wh(ir),ir=null))),Lh(i,s),sn(s),null;case 5:ph(s);var A=Ro(Ka.current);if(l=s.type,i!==null&&s.stateNode!=null)Iv(i,s,l,p,A),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!p){if(s.stateNode===null)throw Error(t(166));return sn(s),null}if(i=Ro(Er.current),Iu(s)){p=s.stateNode,l=s.type;var x=s.memoizedProps;switch(p[_r]=s,p[Ba]=x,i=(s.mode&1)!==0,l){case"dialog":vt("cancel",p),vt("close",p);break;case"iframe":case"object":case"embed":vt("load",p);break;case"video":case"audio":for(A=0;A<Ua.length;A++)vt(Ua[A],p);break;case"source":vt("error",p);break;case"img":case"image":case"link":vt("error",p),vt("load",p);break;case"details":vt("toggle",p);break;case"input":Je(p,x),vt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!x.multiple},vt("invalid",p);break;case"textarea":Be(p,x),vt("invalid",p)}va(l,x),A=null;for(var F in x)if(x.hasOwnProperty(F)){var Q=x[F];F==="children"?typeof Q=="string"?p.textContent!==Q&&(x.suppressHydrationWarning!==!0&&vu(p.textContent,Q,i),A=["children",Q]):typeof Q=="number"&&p.textContent!==""+Q&&(x.suppressHydrationWarning!==!0&&vu(p.textContent,Q,i),A=["children",""+Q]):o.hasOwnProperty(F)&&Q!=null&&F==="onScroll"&&vt("scroll",p)}switch(l){case"input":Ie(p),he(p,x,!0);break;case"textarea":Ie(p),Ke(p);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(p.onclick=_u)}p=A,s.updateQueue=p,p!==null&&(s.flags|=4)}else{F=A.nodeType===9?A:A.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=lt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=F.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=F.createElement(l,{is:p.is}):(i=F.createElement(l),l==="select"&&(F=i,p.multiple?F.multiple=!0:p.size&&(F.size=p.size))):i=F.createElementNS(i,l),i[_r]=s,i[Ba]=p,Av(i,s,!1,!1),s.stateNode=i;e:{switch(F=_a(l,p),l){case"dialog":vt("cancel",i),vt("close",i),A=p;break;case"iframe":case"object":case"embed":vt("load",i),A=p;break;case"video":case"audio":for(A=0;A<Ua.length;A++)vt(Ua[A],i);A=p;break;case"source":vt("error",i),A=p;break;case"img":case"image":case"link":vt("error",i),vt("load",i),A=p;break;case"details":vt("toggle",i),A=p;break;case"input":Je(i,p),A=We(i,p),vt("invalid",i);break;case"option":A=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},A=W({},p,{value:void 0}),vt("invalid",i);break;case"textarea":Be(i,p),A=ye(i,p),vt("invalid",i);break;default:A=p}va(l,A),Q=A;for(x in Q)if(Q.hasOwnProperty(x)){var Z=Q[x];x==="style"?ga(i,Z):x==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&ao(i,Z)):x==="children"?typeof Z=="string"?(l!=="textarea"||Z!=="")&&ht(i,Z):typeof Z=="number"&&ht(i,""+Z):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?Z!=null&&x==="onScroll"&&vt("scroll",i):Z!=null&&R(i,x,Z,F))}switch(l){case"input":Ie(i),he(i,p,!1);break;case"textarea":Ie(i),Ke(i);break;case"option":p.value!=null&&i.setAttribute("value",""+oe(p.value));break;case"select":i.multiple=!!p.multiple,x=p.value,x!=null?Ae(i,!!p.multiple,x,!1):p.defaultValue!=null&&Ae(i,!!p.multiple,p.defaultValue,!0);break;default:typeof A.onClick=="function"&&(i.onclick=_u)}switch(l){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return sn(s),null;case 6:if(i&&s.stateNode!=null)kv(i,s,i.memoizedProps,p);else{if(typeof p!="string"&&s.stateNode===null)throw Error(t(166));if(l=Ro(Ka.current),Ro(Er.current),Iu(s)){if(p=s.stateNode,l=s.memoizedProps,p[_r]=s,(x=p.nodeValue!==l)&&(i=On,i!==null))switch(i.tag){case 3:vu(p.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&vu(p.nodeValue,l,(i.mode&1)!==0)}x&&(s.flags|=4)}else p=(l.nodeType===9?l:l.ownerDocument).createTextNode(p),p[_r]=s,s.stateNode=p}return sn(s),null;case 13:if(_t(St),p=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Tt&&Nn!==null&&s.mode&1&&!(s.flags&128))Py(),ks(),s.flags|=98560,x=!1;else if(x=Iu(s),p!==null&&p.dehydrated!==null){if(i===null){if(!x)throw Error(t(318));if(x=s.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[_r]=s}else ks(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;sn(s),x=!1}else ir!==null&&(Wh(ir),ir=null),x=!0;if(!x)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(s.child.flags|=8192,s.mode&1&&(i===null||St.current&1?Ut===0&&(Ut=3):Qh())),s.updateQueue!==null&&(s.flags|=4),sn(s),null);case 4:return xs(),Lh(i,s),i===null&&Fa(s.stateNode.containerInfo),sn(s),null;case 10:return uh(s.type._context),sn(s),null;case 17:return En(s.type)&&wu(),sn(s),null;case 19:if(_t(St),x=s.memoizedState,x===null)return sn(s),null;if(p=(s.flags&128)!==0,F=x.rendering,F===null)if(p)Ja(x,!1);else{if(Ut!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(F=Ou(i),F!==null){for(s.flags|=128,Ja(x,!1),p=F.updateQueue,p!==null&&(s.updateQueue=p,s.flags|=4),s.subtreeFlags=0,p=l,l=s.child;l!==null;)x=l,i=p,x.flags&=14680066,F=x.alternate,F===null?(x.childLanes=0,x.lanes=i,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=F.childLanes,x.lanes=F.lanes,x.child=F.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=F.memoizedProps,x.memoizedState=F.memoizedState,x.updateQueue=F.updateQueue,x.type=F.type,i=F.dependencies,x.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return gt(St,St.current&1|2),s.child}i=i.sibling}x.tail!==null&&mt()>Ls&&(s.flags|=128,p=!0,Ja(x,!1),s.lanes=4194304)}else{if(!p)if(i=Ou(F),i!==null){if(s.flags|=128,p=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Ja(x,!0),x.tail===null&&x.tailMode==="hidden"&&!F.alternate&&!Tt)return sn(s),null}else 2*mt()-x.renderingStartTime>Ls&&l!==1073741824&&(s.flags|=128,p=!0,Ja(x,!1),s.lanes=4194304);x.isBackwards?(F.sibling=s.child,s.child=F):(l=x.last,l!==null?l.sibling=F:s.child=F,x.last=F)}return x.tail!==null?(s=x.tail,x.rendering=s,x.tail=s.sibling,x.renderingStartTime=mt(),s.sibling=null,l=St.current,gt(St,p?l&1|2:l&1),s):(sn(s),null);case 22:case 23:return Gh(),p=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(s.flags|=8192),p&&s.mode&1?Dn&1073741824&&(sn(s),s.subtreeFlags&6&&(s.flags|=8192)):sn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function zS(i,s){switch(rh(s),s.tag){case 1:return En(s.type)&&wu(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return xs(),_t(_n),_t(rn),gh(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return ph(s),null;case 13:if(_t(St),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));ks()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return _t(St),null;case 4:return xs(),null;case 10:return uh(s.type._context),null;case 22:case 23:return Gh(),null;case 24:return null;default:return null}}var qu=!1,an=!1,$S=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Ns(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(p){Ct(i,s,p)}else l.current=null}function Mh(i,s,l){try{l()}catch(p){Ct(i,s,p)}}var Rv=!1;function HS(i,s){if(Gf=Ei,i=sy(),Ff(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var p=l.getSelection&&l.getSelection();if(p&&p.rangeCount!==0){l=p.anchorNode;var A=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var F=0,Q=-1,Z=-1,ce=0,_e=0,we=i,ve=null;t:for(;;){for(var ke;we!==l||A!==0&&we.nodeType!==3||(Q=F+A),we!==x||p!==0&&we.nodeType!==3||(Z=F+p),we.nodeType===3&&(F+=we.nodeValue.length),(ke=we.firstChild)!==null;)ve=we,we=ke;for(;;){if(we===i)break t;if(ve===l&&++ce===A&&(Q=F),ve===x&&++_e===p&&(Z=F),(ke=we.nextSibling)!==null)break;we=ve,ve=we.parentNode}we=ke}l=Q===-1||Z===-1?null:{start:Q,end:Z}}else l=null}l=l||{start:0,end:0}}else l=null;for(Qf={focusedElem:i,selectionRange:l},Ei=!1,Ce=s;Ce!==null;)if(s=Ce,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Ce=i;else for(;Ce!==null;){s=Ce;try{var Pe=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var xe=Pe.memoizedProps,xt=Pe.memoizedState,le=s.stateNode,re=le.getSnapshotBeforeUpdate(s.elementType===s.type?xe:or(s.type,xe),xt);le.__reactInternalSnapshotBeforeUpdate=re}break;case 3:var ue=s.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Te){Ct(s,s.return,Te)}if(i=s.sibling,i!==null){i.return=s.return,Ce=i;break}Ce=s.return}return Pe=Rv,Rv=!1,Pe}function Za(i,s,l){var p=s.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var A=p=p.next;do{if((A.tag&i)===i){var x=A.destroy;A.destroy=void 0,x!==void 0&&Mh(s,l,x)}A=A.next}while(A!==p)}}function Bu(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var p=l.create;l.destroy=p()}l=l.next}while(l!==s)}}function jh(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function Cv(i){var s=i.alternate;s!==null&&(i.alternate=null,Cv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[_r],delete s[Ba],delete s[Zf],delete s[kS],delete s[RS])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Pv(i){return i.tag===5||i.tag===3||i.tag===4}function xv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Pv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vh(i,s,l){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=_u));else if(p!==4&&(i=i.child,i!==null))for(Vh(i,s,l),i=i.sibling;i!==null;)Vh(i,s,l),i=i.sibling}function Uh(i,s,l){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(Uh(i,s,l),i=i.sibling;i!==null;)Uh(i,s,l),i=i.sibling}var Yt=null,sr=!1;function Ci(i,s,l){for(l=l.child;l!==null;)Ov(i,s,l),l=l.sibling}function Ov(i,s,l){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(go,l)}catch{}switch(l.tag){case 5:an||Ns(l,s);case 6:var p=Yt,A=sr;Yt=null,Ci(i,s,l),Yt=p,sr=A,Yt!==null&&(sr?(i=Yt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Yt.removeChild(l.stateNode));break;case 18:Yt!==null&&(sr?(i=Yt,l=l.stateNode,i.nodeType===8?Jf(i.parentNode,l):i.nodeType===1&&Jf(i,l),tr(i)):Jf(Yt,l.stateNode));break;case 4:p=Yt,A=sr,Yt=l.stateNode.containerInfo,sr=!0,Ci(i,s,l),Yt=p,sr=A;break;case 0:case 11:case 14:case 15:if(!an&&(p=l.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){A=p=p.next;do{var x=A,F=x.destroy;x=x.tag,F!==void 0&&(x&2||x&4)&&Mh(l,s,F),A=A.next}while(A!==p)}Ci(i,s,l);break;case 1:if(!an&&(Ns(l,s),p=l.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=l.memoizedProps,p.state=l.memoizedState,p.componentWillUnmount()}catch(Q){Ct(l,s,Q)}Ci(i,s,l);break;case 21:Ci(i,s,l);break;case 22:l.mode&1?(an=(p=an)||l.memoizedState!==null,Ci(i,s,l),an=p):Ci(i,s,l);break;default:Ci(i,s,l)}}function Nv(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new $S),s.forEach(function(p){var A=eA.bind(null,i,p);l.has(p)||(l.add(p),p.then(A,A))})}}function ar(i,s){var l=s.deletions;if(l!==null)for(var p=0;p<l.length;p++){var A=l[p];try{var x=i,F=s,Q=F;e:for(;Q!==null;){switch(Q.tag){case 5:Yt=Q.stateNode,sr=!1;break e;case 3:Yt=Q.stateNode.containerInfo,sr=!0;break e;case 4:Yt=Q.stateNode.containerInfo,sr=!0;break e}Q=Q.return}if(Yt===null)throw Error(t(160));Ov(x,F,A),Yt=null,sr=!1;var Z=A.alternate;Z!==null&&(Z.return=null),A.return=null}catch(ce){Ct(A,s,ce)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Dv(s,i),s=s.sibling}function Dv(i,s){var l=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ar(s,i),Tr(i),p&4){try{Za(3,i,i.return),Bu(3,i)}catch(xe){Ct(i,i.return,xe)}try{Za(5,i,i.return)}catch(xe){Ct(i,i.return,xe)}}break;case 1:ar(s,i),Tr(i),p&512&&l!==null&&Ns(l,l.return);break;case 5:if(ar(s,i),Tr(i),p&512&&l!==null&&Ns(l,l.return),i.flags&32){var A=i.stateNode;try{ht(A,"")}catch(xe){Ct(i,i.return,xe)}}if(p&4&&(A=i.stateNode,A!=null)){var x=i.memoizedProps,F=l!==null?l.memoizedProps:x,Q=i.type,Z=i.updateQueue;if(i.updateQueue=null,Z!==null)try{Q==="input"&&x.type==="radio"&&x.name!=null&&Nt(A,x),_a(Q,F);var ce=_a(Q,x);for(F=0;F<Z.length;F+=2){var _e=Z[F],we=Z[F+1];_e==="style"?ga(A,we):_e==="dangerouslySetInnerHTML"?ao(A,we):_e==="children"?ht(A,we):R(A,_e,we,ce)}switch(Q){case"input":yt(A,x);break;case"textarea":ze(A,x);break;case"select":var ve=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!x.multiple;var ke=x.value;ke!=null?Ae(A,!!x.multiple,ke,!1):ve!==!!x.multiple&&(x.defaultValue!=null?Ae(A,!!x.multiple,x.defaultValue,!0):Ae(A,!!x.multiple,x.multiple?[]:"",!1))}A[Ba]=x}catch(xe){Ct(i,i.return,xe)}}break;case 6:if(ar(s,i),Tr(i),p&4){if(i.stateNode===null)throw Error(t(162));A=i.stateNode,x=i.memoizedProps;try{A.nodeValue=x}catch(xe){Ct(i,i.return,xe)}}break;case 3:if(ar(s,i),Tr(i),p&4&&l!==null&&l.memoizedState.isDehydrated)try{tr(s.containerInfo)}catch(xe){Ct(i,i.return,xe)}break;case 4:ar(s,i),Tr(i);break;case 13:ar(s,i),Tr(i),A=i.child,A.flags&8192&&(x=A.memoizedState!==null,A.stateNode.isHidden=x,!x||A.alternate!==null&&A.alternate.memoizedState!==null||(Bh=mt())),p&4&&Nv(i);break;case 22:if(_e=l!==null&&l.memoizedState!==null,i.mode&1?(an=(ce=an)||_e,ar(s,i),an=ce):ar(s,i),Tr(i),p&8192){if(ce=i.memoizedState!==null,(i.stateNode.isHidden=ce)&&!_e&&i.mode&1)for(Ce=i,_e=i.child;_e!==null;){for(we=Ce=_e;Ce!==null;){switch(ve=Ce,ke=ve.child,ve.tag){case 0:case 11:case 14:case 15:Za(4,ve,ve.return);break;case 1:Ns(ve,ve.return);var Pe=ve.stateNode;if(typeof Pe.componentWillUnmount=="function"){p=ve,l=ve.return;try{s=p,Pe.props=s.memoizedProps,Pe.state=s.memoizedState,Pe.componentWillUnmount()}catch(xe){Ct(p,l,xe)}}break;case 5:Ns(ve,ve.return);break;case 22:if(ve.memoizedState!==null){jv(we);continue}}ke!==null?(ke.return=ve,Ce=ke):jv(we)}_e=_e.sibling}e:for(_e=null,we=i;;){if(we.tag===5){if(_e===null){_e=we;try{A=we.stateNode,ce?(x=A.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(Q=we.stateNode,Z=we.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,Q.style.display=ma("display",F))}catch(xe){Ct(i,i.return,xe)}}}else if(we.tag===6){if(_e===null)try{we.stateNode.nodeValue=ce?"":we.memoizedProps}catch(xe){Ct(i,i.return,xe)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===i)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===i)break e;for(;we.sibling===null;){if(we.return===null||we.return===i)break e;_e===we&&(_e=null),we=we.return}_e===we&&(_e=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:ar(s,i),Tr(i),p&4&&Nv(i);break;case 21:break;default:ar(s,i),Tr(i)}}function Tr(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(Pv(l)){var p=l;break e}l=l.return}throw Error(t(160))}switch(p.tag){case 5:var A=p.stateNode;p.flags&32&&(ht(A,""),p.flags&=-33);var x=xv(i);Uh(i,x,A);break;case 3:case 4:var F=p.stateNode.containerInfo,Q=xv(i);Vh(i,Q,F);break;default:throw Error(t(161))}}catch(Z){Ct(i,i.return,Z)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function WS(i,s,l){Ce=i,Lv(i)}function Lv(i,s,l){for(var p=(i.mode&1)!==0;Ce!==null;){var A=Ce,x=A.child;if(A.tag===22&&p){var F=A.memoizedState!==null||qu;if(!F){var Q=A.alternate,Z=Q!==null&&Q.memoizedState!==null||an;Q=qu;var ce=an;if(qu=F,(an=Z)&&!ce)for(Ce=A;Ce!==null;)F=Ce,Z=F.child,F.tag===22&&F.memoizedState!==null?Vv(A):Z!==null?(Z.return=F,Ce=Z):Vv(A);for(;x!==null;)Ce=x,Lv(x),x=x.sibling;Ce=A,qu=Q,an=ce}Mv(i)}else A.subtreeFlags&8772&&x!==null?(x.return=A,Ce=x):Mv(i)}}function Mv(i){for(;Ce!==null;){var s=Ce;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:an||Bu(5,s);break;case 1:var p=s.stateNode;if(s.flags&4&&!an)if(l===null)p.componentDidMount();else{var A=s.elementType===s.type?l.memoizedProps:or(s.type,l.memoizedProps);p.componentDidUpdate(A,l.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var x=s.updateQueue;x!==null&&jy(s,x,p);break;case 3:var F=s.updateQueue;if(F!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}jy(s,F,l)}break;case 5:var Q=s.stateNode;if(l===null&&s.flags&4){l=Q;var Z=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&l.focus();break;case"img":Z.src&&(l.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var ce=s.alternate;if(ce!==null){var _e=ce.memoizedState;if(_e!==null){var we=_e.dehydrated;we!==null&&tr(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}an||s.flags&512&&jh(s)}catch(ve){Ct(s,s.return,ve)}}if(s===i){Ce=null;break}if(l=s.sibling,l!==null){l.return=s.return,Ce=l;break}Ce=s.return}}function jv(i){for(;Ce!==null;){var s=Ce;if(s===i){Ce=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Ce=l;break}Ce=s.return}}function Vv(i){for(;Ce!==null;){var s=Ce;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Bu(4,s)}catch(Z){Ct(s,l,Z)}break;case 1:var p=s.stateNode;if(typeof p.componentDidMount=="function"){var A=s.return;try{p.componentDidMount()}catch(Z){Ct(s,A,Z)}}var x=s.return;try{jh(s)}catch(Z){Ct(s,x,Z)}break;case 5:var F=s.return;try{jh(s)}catch(Z){Ct(s,F,Z)}}}catch(Z){Ct(s,s.return,Z)}if(s===i){Ce=null;break}var Q=s.sibling;if(Q!==null){Q.return=s.return,Ce=Q;break}Ce=s.return}}var KS=Math.ceil,zu=E.ReactCurrentDispatcher,Fh=E.ReactCurrentOwner,Wn=E.ReactCurrentBatchConfig,at=0,Ht=null,Lt=null,Jt=0,Dn=0,Ds=Si(0),Ut=0,el=null,Po=0,$u=0,qh=0,tl=null,Tn=null,Bh=0,Ls=1/0,Yr=null,Hu=!1,zh=null,Pi=null,Wu=!1,xi=null,Ku=0,nl=0,$h=null,Gu=-1,Qu=0;function mn(){return at&6?mt():Gu!==-1?Gu:Gu=mt()}function Oi(i){return i.mode&1?at&2&&Jt!==0?Jt&-Jt:PS.transition!==null?(Qu===0&&(Qu=vo()),Qu):(i=nt,i!==0||(i=window.event,i=i===void 0?16:Pa(i.type)),i):1}function lr(i,s,l,p){if(50<nl)throw nl=0,$h=null,Error(t(185));gi(i,l,p),(!(at&2)||i!==Ht)&&(i===Ht&&(!(at&2)&&($u|=l),Ut===4&&Ni(i,Jt)),bn(i,p),l===1&&at===0&&!(s.mode&1)&&(Ls=mt()+500,bu&&Ii()))}function bn(i,s){var l=i.callbackNode;Ur(i,s);var p=yo(i,i===Ht?Jt:0);if(p===0)l!==null&&Aa(l),i.callbackNode=null,i.callbackPriority=0;else if(s=p&-p,i.callbackPriority!==s){if(l!=null&&Aa(l),s===1)i.tag===0?CS(Fv.bind(null,i)):Ay(Fv.bind(null,i)),AS(function(){!(at&6)&&Ii()}),l=null;else{switch(vi(p)){case 1:l=mo;break;case 4:l=di;break;case 16:l=Un;break;case 536870912:l=Ql;break;default:l=Un}l=Gv(l,Uv.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function Uv(i,s){if(Gu=-1,Qu=0,at&6)throw Error(t(327));var l=i.callbackNode;if(Ms()&&i.callbackNode!==l)return null;var p=yo(i,i===Ht?Jt:0);if(p===0)return null;if(p&30||p&i.expiredLanes||s)s=Xu(i,p);else{s=p;var A=at;at|=2;var x=Bv();(Ht!==i||Jt!==s)&&(Yr=null,Ls=mt()+500,Oo(i,s));do try{XS();break}catch(Q){qv(i,Q)}while(!0);lh(),zu.current=x,at=A,Lt!==null?s=0:(Ht=null,Jt=0,s=Ut)}if(s!==0){if(s===2&&(A=Cn(i),A!==0&&(p=A,s=Hh(i,A))),s===1)throw l=el,Oo(i,0),Ni(i,p),bn(i,mt()),l;if(s===6)Ni(i,p);else{if(A=i.current.alternate,!(p&30)&&!GS(A)&&(s=Xu(i,p),s===2&&(x=Cn(i),x!==0&&(p=x,s=Hh(i,x))),s===1))throw l=el,Oo(i,0),Ni(i,p),bn(i,mt()),l;switch(i.finishedWork=A,i.finishedLanes=p,s){case 0:case 1:throw Error(t(345));case 2:No(i,Tn,Yr);break;case 3:if(Ni(i,p),(p&130023424)===p&&(s=Bh+500-mt(),10<s)){if(yo(i,0)!==0)break;if(A=i.suspendedLanes,(A&p)!==p){mn(),i.pingedLanes|=i.suspendedLanes&A;break}i.timeoutHandle=Yf(No.bind(null,i,Tn,Yr),s);break}No(i,Tn,Yr);break;case 4:if(Ni(i,p),(p&4194240)===p)break;for(s=i.eventTimes,A=-1;0<p;){var F=31-hn(p);x=1<<F,F=s[F],F>A&&(A=F),p&=~x}if(p=A,p=mt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*KS(p/1960))-p,10<p){i.timeoutHandle=Yf(No.bind(null,i,Tn,Yr),p);break}No(i,Tn,Yr);break;case 5:No(i,Tn,Yr);break;default:throw Error(t(329))}}}return bn(i,mt()),i.callbackNode===l?Uv.bind(null,i):null}function Hh(i,s){var l=tl;return i.current.memoizedState.isDehydrated&&(Oo(i,s).flags|=256),i=Xu(i,s),i!==2&&(s=Tn,Tn=l,s!==null&&Wh(s)),i}function Wh(i){Tn===null?Tn=i:Tn.push.apply(Tn,i)}function GS(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var p=0;p<l.length;p++){var A=l[p],x=A.getSnapshot;A=A.value;try{if(!rr(x(),A))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ni(i,s){for(s&=~qh,s&=~$u,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-hn(s),p=1<<l;i[l]=-1,s&=~p}}function Fv(i){if(at&6)throw Error(t(327));Ms();var s=yo(i,0);if(!(s&1))return bn(i,mt()),null;var l=Xu(i,s);if(i.tag!==0&&l===2){var p=Cn(i);p!==0&&(s=p,l=Hh(i,p))}if(l===1)throw l=el,Oo(i,0),Ni(i,s),bn(i,mt()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,No(i,Tn,Yr),bn(i,mt()),null}function Kh(i,s){var l=at;at|=1;try{return i(s)}finally{at=l,at===0&&(Ls=mt()+500,bu&&Ii())}}function xo(i){xi!==null&&xi.tag===0&&!(at&6)&&Ms();var s=at;at|=1;var l=Wn.transition,p=nt;try{if(Wn.transition=null,nt=1,i)return i()}finally{nt=p,Wn.transition=l,at=s,!(at&6)&&Ii()}}function Gh(){Dn=Ds.current,_t(Ds)}function Oo(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,SS(l)),Lt!==null)for(l=Lt.return;l!==null;){var p=l;switch(rh(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&wu();break;case 3:xs(),_t(_n),_t(rn),gh();break;case 5:ph(p);break;case 4:xs();break;case 13:_t(St);break;case 19:_t(St);break;case 10:uh(p.type._context);break;case 22:case 23:Gh()}l=l.return}if(Ht=i,Lt=i=Di(i.current,null),Jt=Dn=s,Ut=0,el=null,qh=$u=Po=0,Tn=tl=null,ko!==null){for(s=0;s<ko.length;s++)if(l=ko[s],p=l.interleaved,p!==null){l.interleaved=null;var A=p.next,x=l.pending;if(x!==null){var F=x.next;x.next=A,p.next=F}l.pending=p}ko=null}return i}function qv(i,s){do{var l=Lt;try{if(lh(),Nu.current=ju,Du){for(var p=At.memoizedState;p!==null;){var A=p.queue;A!==null&&(A.pending=null),p=p.next}Du=!1}if(Co=0,$t=Vt=At=null,Ga=!1,Qa=0,Fh.current=null,l===null||l.return===null){Ut=1,el=s,Lt=null;break}e:{var x=i,F=l.return,Q=l,Z=s;if(s=Jt,Q.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ce=Z,_e=Q,we=_e.tag;if(!(_e.mode&1)&&(we===0||we===11||we===15)){var ve=_e.alternate;ve?(_e.updateQueue=ve.updateQueue,_e.memoizedState=ve.memoizedState,_e.lanes=ve.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var ke=hv(F);if(ke!==null){ke.flags&=-257,dv(ke,F,Q,x,s),ke.mode&1&&fv(x,ce,s),s=ke,Z=ce;var Pe=s.updateQueue;if(Pe===null){var xe=new Set;xe.add(Z),s.updateQueue=xe}else Pe.add(Z);break e}else{if(!(s&1)){fv(x,ce,s),Qh();break e}Z=Error(t(426))}}else if(Tt&&Q.mode&1){var xt=hv(F);if(xt!==null){!(xt.flags&65536)&&(xt.flags|=256),dv(xt,F,Q,x,s),sh(Os(Z,Q));break e}}x=Z=Os(Z,Q),Ut!==4&&(Ut=2),tl===null?tl=[x]:tl.push(x),x=F;do{switch(x.tag){case 3:x.flags|=65536,s&=-s,x.lanes|=s;var le=uv(x,Z,s);My(x,le);break e;case 1:Q=Z;var re=x.type,ue=x.stateNode;if(!(x.flags&128)&&(typeof re.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(Pi===null||!Pi.has(ue)))){x.flags|=65536,s&=-s,x.lanes|=s;var Te=cv(x,Q,s);My(x,Te);break e}}x=x.return}while(x!==null)}$v(l)}catch(Oe){s=Oe,Lt===l&&l!==null&&(Lt=l=l.return);continue}break}while(!0)}function Bv(){var i=zu.current;return zu.current=ju,i===null?ju:i}function Qh(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Ht===null||!(Po&268435455)&&!($u&268435455)||Ni(Ht,Jt)}function Xu(i,s){var l=at;at|=2;var p=Bv();(Ht!==i||Jt!==s)&&(Yr=null,Oo(i,s));do try{QS();break}catch(A){qv(i,A)}while(!0);if(lh(),at=l,zu.current=p,Lt!==null)throw Error(t(261));return Ht=null,Jt=0,Ut}function QS(){for(;Lt!==null;)zv(Lt)}function XS(){for(;Lt!==null&&!Kl();)zv(Lt)}function zv(i){var s=Kv(i.alternate,i,Dn);i.memoizedProps=i.pendingProps,s===null?$v(i):Lt=s,Fh.current=null}function $v(i){var s=i;do{var l=s.alternate;if(i=s.return,s.flags&32768){if(l=zS(l,s),l!==null){l.flags&=32767,Lt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ut=6,Lt=null;return}}else if(l=BS(l,s,Dn),l!==null){Lt=l;return}if(s=s.sibling,s!==null){Lt=s;return}Lt=s=i}while(s!==null);Ut===0&&(Ut=5)}function No(i,s,l){var p=nt,A=Wn.transition;try{Wn.transition=null,nt=1,YS(i,s,l,p)}finally{Wn.transition=A,nt=p}return null}function YS(i,s,l,p){do Ms();while(xi!==null);if(at&6)throw Error(t(327));l=i.finishedWork;var A=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var x=l.lanes|l.childLanes;if(pt(i,x),i===Ht&&(Lt=Ht=null,Jt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Wu||(Wu=!0,Gv(Un,function(){return Ms(),null})),x=(l.flags&15990)!==0,l.subtreeFlags&15990||x){x=Wn.transition,Wn.transition=null;var F=nt;nt=1;var Q=at;at|=4,Fh.current=null,HS(i,l),Dv(l,i),yS(Qf),Ei=!!Gf,Qf=Gf=null,i.current=l,WS(l),Of(),at=Q,nt=F,Wn.transition=x}else i.current=l;if(Wu&&(Wu=!1,xi=i,Ku=A),x=i.pendingLanes,x===0&&(Pi=null),Xl(l.stateNode),bn(i,mt()),s!==null)for(p=i.onRecoverableError,l=0;l<s.length;l++)A=s[l],p(A.value,{componentStack:A.stack,digest:A.digest});if(Hu)throw Hu=!1,i=zh,zh=null,i;return Ku&1&&i.tag!==0&&Ms(),x=i.pendingLanes,x&1?i===$h?nl++:(nl=0,$h=i):nl=0,Ii(),null}function Ms(){if(xi!==null){var i=vi(Ku),s=Wn.transition,l=nt;try{if(Wn.transition=null,nt=16>i?16:i,xi===null)var p=!1;else{if(i=xi,xi=null,Ku=0,at&6)throw Error(t(331));var A=at;for(at|=4,Ce=i.current;Ce!==null;){var x=Ce,F=x.child;if(Ce.flags&16){var Q=x.deletions;if(Q!==null){for(var Z=0;Z<Q.length;Z++){var ce=Q[Z];for(Ce=ce;Ce!==null;){var _e=Ce;switch(_e.tag){case 0:case 11:case 15:Za(8,_e,x)}var we=_e.child;if(we!==null)we.return=_e,Ce=we;else for(;Ce!==null;){_e=Ce;var ve=_e.sibling,ke=_e.return;if(Cv(_e),_e===ce){Ce=null;break}if(ve!==null){ve.return=ke,Ce=ve;break}Ce=ke}}}var Pe=x.alternate;if(Pe!==null){var xe=Pe.child;if(xe!==null){Pe.child=null;do{var xt=xe.sibling;xe.sibling=null,xe=xt}while(xe!==null)}}Ce=x}}if(x.subtreeFlags&2064&&F!==null)F.return=x,Ce=F;else e:for(;Ce!==null;){if(x=Ce,x.flags&2048)switch(x.tag){case 0:case 11:case 15:Za(9,x,x.return)}var le=x.sibling;if(le!==null){le.return=x.return,Ce=le;break e}Ce=x.return}}var re=i.current;for(Ce=re;Ce!==null;){F=Ce;var ue=F.child;if(F.subtreeFlags&2064&&ue!==null)ue.return=F,Ce=ue;else e:for(F=re;Ce!==null;){if(Q=Ce,Q.flags&2048)try{switch(Q.tag){case 0:case 11:case 15:Bu(9,Q)}}catch(Oe){Ct(Q,Q.return,Oe)}if(Q===F){Ce=null;break e}var Te=Q.sibling;if(Te!==null){Te.return=Q.return,Ce=Te;break e}Ce=Q.return}}if(at=A,Ii(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(go,i)}catch{}p=!0}return p}finally{nt=l,Wn.transition=s}}return!1}function Hv(i,s,l){s=Os(l,s),s=uv(i,s,1),i=Ri(i,s,1),s=mn(),i!==null&&(gi(i,1,s),bn(i,s))}function Ct(i,s,l){if(i.tag===3)Hv(i,i,l);else for(;s!==null;){if(s.tag===3){Hv(s,i,l);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Pi===null||!Pi.has(p))){i=Os(l,i),i=cv(s,i,1),s=Ri(s,i,1),i=mn(),s!==null&&(gi(s,1,i),bn(s,i));break}}s=s.return}}function JS(i,s,l){var p=i.pingCache;p!==null&&p.delete(s),s=mn(),i.pingedLanes|=i.suspendedLanes&l,Ht===i&&(Jt&l)===l&&(Ut===4||Ut===3&&(Jt&130023424)===Jt&&500>mt()-Bh?Oo(i,0):qh|=l),bn(i,s)}function Wv(i,s){s===0&&(i.mode&1?(s=os,os<<=1,!(os&130023424)&&(os=4194304)):s=1);var l=mn();i=Gr(i,s),i!==null&&(gi(i,s,l),bn(i,l))}function ZS(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),Wv(i,l)}function eA(i,s){var l=0;switch(i.tag){case 13:var p=i.stateNode,A=i.memoizedState;A!==null&&(l=A.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(s),Wv(i,l)}var Kv;Kv=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||_n.current)wn=!0;else{if(!(i.lanes&l)&&!(s.flags&128))return wn=!1,qS(i,s,l);wn=!!(i.flags&131072)}else wn=!1,Tt&&s.flags&1048576&&Iy(s,Au,s.index);switch(s.lanes=0,s.tag){case 2:var p=s.type;Fu(i,s),i=s.pendingProps;var A=Ss(s,rn.current);Ps(s,l),A=_h(null,s,p,i,A,l);var x=Eh();return s.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,En(p)?(x=!0,Tu(s)):x=!1,s.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,hh(s),A.updater=Vu,s.stateNode=A,A._reactInternals=s,Ih(s,p,i,l),s=Ph(null,s,p,!0,x,l)):(s.tag=0,Tt&&x&&nh(s),pn(null,s,A,l),s=s.child),s;case 16:p=s.elementType;e:{switch(Fu(i,s),i=s.pendingProps,A=p._init,p=A(p._payload),s.type=p,A=s.tag=nA(p),i=or(p,i),A){case 0:s=Ch(null,s,p,i,l);break e;case 1:s=_v(null,s,p,i,l);break e;case 11:s=pv(null,s,p,i,l);break e;case 14:s=mv(null,s,p,or(p.type,i),l);break e}throw Error(t(306,p,""))}return s;case 0:return p=s.type,A=s.pendingProps,A=s.elementType===p?A:or(p,A),Ch(i,s,p,A,l);case 1:return p=s.type,A=s.pendingProps,A=s.elementType===p?A:or(p,A),_v(i,s,p,A,l);case 3:e:{if(Ev(s),i===null)throw Error(t(387));p=s.pendingProps,x=s.memoizedState,A=x.element,Ly(i,s),xu(s,p,null,l);var F=s.memoizedState;if(p=F.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){A=Os(Error(t(423)),s),s=wv(i,s,p,l,A);break e}else if(p!==A){A=Os(Error(t(424)),s),s=wv(i,s,p,l,A);break e}else for(Nn=bi(s.stateNode.containerInfo.firstChild),On=s,Tt=!0,ir=null,l=Ny(s,null,p,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ks(),p===A){s=Xr(i,s,l);break e}pn(i,s,p,l)}s=s.child}return s;case 5:return Vy(s),i===null&&oh(s),p=s.type,A=s.pendingProps,x=i!==null?i.memoizedProps:null,F=A.children,Xf(p,A)?F=null:x!==null&&Xf(p,x)&&(s.flags|=32),vv(i,s),pn(i,s,F,l),s.child;case 6:return i===null&&oh(s),null;case 13:return Tv(i,s,l);case 4:return dh(s,s.stateNode.containerInfo),p=s.pendingProps,i===null?s.child=Rs(s,null,p,l):pn(i,s,p,l),s.child;case 11:return p=s.type,A=s.pendingProps,A=s.elementType===p?A:or(p,A),pv(i,s,p,A,l);case 7:return pn(i,s,s.pendingProps,l),s.child;case 8:return pn(i,s,s.pendingProps.children,l),s.child;case 12:return pn(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(p=s.type._context,A=s.pendingProps,x=s.memoizedProps,F=A.value,gt(Ru,p._currentValue),p._currentValue=F,x!==null)if(rr(x.value,F)){if(x.children===A.children&&!_n.current){s=Xr(i,s,l);break e}}else for(x=s.child,x!==null&&(x.return=s);x!==null;){var Q=x.dependencies;if(Q!==null){F=x.child;for(var Z=Q.firstContext;Z!==null;){if(Z.context===p){if(x.tag===1){Z=Qr(-1,l&-l),Z.tag=2;var ce=x.updateQueue;if(ce!==null){ce=ce.shared;var _e=ce.pending;_e===null?Z.next=Z:(Z.next=_e.next,_e.next=Z),ce.pending=Z}}x.lanes|=l,Z=x.alternate,Z!==null&&(Z.lanes|=l),ch(x.return,l,s),Q.lanes|=l;break}Z=Z.next}}else if(x.tag===10)F=x.type===s.type?null:x.child;else if(x.tag===18){if(F=x.return,F===null)throw Error(t(341));F.lanes|=l,Q=F.alternate,Q!==null&&(Q.lanes|=l),ch(F,l,s),F=x.sibling}else F=x.child;if(F!==null)F.return=x;else for(F=x;F!==null;){if(F===s){F=null;break}if(x=F.sibling,x!==null){x.return=F.return,F=x;break}F=F.return}x=F}pn(i,s,A.children,l),s=s.child}return s;case 9:return A=s.type,p=s.pendingProps.children,Ps(s,l),A=$n(A),p=p(A),s.flags|=1,pn(i,s,p,l),s.child;case 14:return p=s.type,A=or(p,s.pendingProps),A=or(p.type,A),mv(i,s,p,A,l);case 15:return gv(i,s,s.type,s.pendingProps,l);case 17:return p=s.type,A=s.pendingProps,A=s.elementType===p?A:or(p,A),Fu(i,s),s.tag=1,En(p)?(i=!0,Tu(s)):i=!1,Ps(s,l),av(s,p,A),Ih(s,p,A,l),Ph(null,s,p,!0,i,l);case 19:return Sv(i,s,l);case 22:return yv(i,s,l)}throw Error(t(156,s.tag))};function Gv(i,s){return rs(i,s)}function tA(i,s,l,p){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(i,s,l,p){return new tA(i,s,l,p)}function Xh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function nA(i){if(typeof i=="function")return Xh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===D)return 11;if(i===G)return 14}return 2}function Di(i,s){var l=i.alternate;return l===null?(l=Kn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Yu(i,s,l,p,A,x){var F=2;if(p=i,typeof i=="function")Xh(i)&&(F=1);else if(typeof i=="string")F=5;else e:switch(i){case C:return Do(l.children,A,x,s);case I:F=8,A|=8;break;case M:return i=Kn(12,l,s,A|2),i.elementType=M,i.lanes=x,i;case N:return i=Kn(13,l,s,A),i.elementType=N,i.lanes=x,i;case H:return i=Kn(19,l,s,A),i.elementType=H,i.lanes=x,i;case te:return Ju(l,A,x,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:F=10;break e;case k:F=9;break e;case D:F=11;break e;case G:F=14;break e;case X:F=16,p=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=Kn(F,l,s,A),s.elementType=i,s.type=p,s.lanes=x,s}function Do(i,s,l,p){return i=Kn(7,i,p,s),i.lanes=l,i}function Ju(i,s,l,p){return i=Kn(22,i,p,s),i.elementType=te,i.lanes=l,i.stateNode={isHidden:!1},i}function Yh(i,s,l){return i=Kn(6,i,null,s),i.lanes=l,i}function Jh(i,s,l){return s=Kn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function rA(i,s,l,p,A){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mi(0),this.expirationTimes=mi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.identifierPrefix=p,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function Zh(i,s,l,p,A,x,F,Q,Z){return i=new rA(i,s,l,Q,Z),s===1?(s=1,x===!0&&(s|=8)):s=0,x=Kn(3,null,null,s),i.current=x,x.stateNode=i,x.memoizedState={element:p,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},hh(x),i}function iA(i,s,l){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:p==null?null:""+p,children:i,containerInfo:s,implementation:l}}function Qv(i){if(!i)return Ai;i=i._reactInternals;e:{if(Xn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(En(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(En(l))return by(i,l,s)}return s}function Xv(i,s,l,p,A,x,F,Q,Z){return i=Zh(l,p,!0,i,A,x,F,Q,Z),i.context=Qv(null),l=i.current,p=mn(),A=Oi(l),x=Qr(p,A),x.callback=s??null,Ri(l,x,A),i.current.lanes=A,gi(i,A,p),bn(i,p),i}function Zu(i,s,l,p){var A=s.current,x=mn(),F=Oi(A);return l=Qv(l),s.context===null?s.context=l:s.pendingContext=l,s=Qr(x,F),s.payload={element:i},p=p===void 0?null:p,p!==null&&(s.callback=p),i=Ri(A,s,F),i!==null&&(lr(i,A,F,x),Pu(i,A,F)),F}function ec(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Yv(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function ed(i,s){Yv(i,s),(i=i.alternate)&&Yv(i,s)}var Jv=typeof reportError=="function"?reportError:function(i){console.error(i)};function td(i){this._internalRoot=i}tc.prototype.render=td.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));Zu(i,s,null,null)},tc.prototype.unmount=td.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;xo(function(){Zu(null,i,null,null)}),s[$r]=null}};function tc(i){this._internalRoot=i}tc.prototype.unstable_scheduleHydration=function(i){if(i){var s=tu();i={blockedOn:null,target:i,priority:s};for(var l=0;l<mr.length&&s!==0&&s<mr[l].priority;l++);mr.splice(l,0,i),l===0&&iu(i)}};function nd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function nc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Zv(){}function oA(i,s,l,p,A){if(A){if(typeof p=="function"){var x=p;p=function(){var ce=ec(F);x.call(ce)}}var F=Xv(s,p,i,0,null,!1,!1,"",Zv);return i._reactRootContainer=F,i[$r]=F.current,Fa(i.nodeType===8?i.parentNode:i),xo(),F}for(;A=i.lastChild;)i.removeChild(A);if(typeof p=="function"){var Q=p;p=function(){var ce=ec(Z);Q.call(ce)}}var Z=Zh(i,0,!1,null,null,!1,!1,"",Zv);return i._reactRootContainer=Z,i[$r]=Z.current,Fa(i.nodeType===8?i.parentNode:i),xo(function(){Zu(s,Z,l,p)}),Z}function rc(i,s,l,p,A){var x=l._reactRootContainer;if(x){var F=x;if(typeof A=="function"){var Q=A;A=function(){var Z=ec(F);Q.call(Z)}}Zu(s,F,i,A)}else F=oA(l,s,i,A,p);return ec(F)}Zl=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=pi(s.pendingLanes);l!==0&&(yi(s,l|1),bn(s,mt()),!(at&6)&&(Ls=mt()+500,Ii()))}break;case 13:xo(function(){var p=Gr(i,1);if(p!==null){var A=mn();lr(p,i,1,A)}}),ed(i,1)}},ss=function(i){if(i.tag===13){var s=Gr(i,134217728);if(s!==null){var l=mn();lr(s,i,134217728,l)}ed(i,134217728)}},eu=function(i){if(i.tag===13){var s=Oi(i),l=Gr(i,s);if(l!==null){var p=mn();lr(l,i,s,p)}ed(i,s)}},tu=function(){return nt},nu=function(i,s){var l=nt;try{return nt=i,s()}finally{nt=l}},Yo=function(i,s,l){switch(s){case"input":if(yt(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var p=l[s];if(p!==i&&p.form===i.form){var A=Eu(p);if(!A)throw Error(t(90));De(p),yt(p,A)}}}break;case"textarea":ze(i,l);break;case"select":s=l.value,s!=null&&Ae(i,!!l.multiple,s,!1)}},co=Kh,wa=xo;var sA={usingClientEntryPoint:!1,Events:[za,Ts,Eu,dr,Ea,Kh]},rl={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aA={bundleType:rl.bundleType,version:rl.version,rendererPackageName:rl.rendererPackageName,rendererConfig:rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Sa(i),i===null?null:i.stateNode},findFiberByHostInstance:rl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{go=ic.inject(aA),Rn=ic}catch{}}return Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sA,Sn.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nd(s))throw Error(t(200));return iA(i,s,null,l)},Sn.createRoot=function(i,s){if(!nd(i))throw Error(t(299));var l=!1,p="",A=Jv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=Zh(i,1,!1,null,null,l,!1,p,A),i[$r]=s.current,Fa(i.nodeType===8?i.parentNode:i),new td(s)},Sn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Sa(s),i=i===null?null:i.stateNode,i},Sn.flushSync=function(i){return xo(i)},Sn.hydrate=function(i,s,l){if(!nc(s))throw Error(t(200));return rc(null,i,s,!0,l)},Sn.hydrateRoot=function(i,s,l){if(!nd(i))throw Error(t(405));var p=l!=null&&l.hydratedSources||null,A=!1,x="",F=Jv;if(l!=null&&(l.unstable_strictMode===!0&&(A=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(F=l.onRecoverableError)),s=Xv(s,null,i,1,l??null,A,!1,x,F),i[$r]=s.current,Fa(i),p)for(i=0;i<p.length;i++)l=p[i],A=l._getVersion,A=A(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,A]:s.mutableSourceEagerHydrationData.push(l,A);return new tc(s)},Sn.render=function(i,s,l){if(!nc(s))throw Error(t(200));return rc(null,i,s,!1,l)},Sn.unmountComponentAtNode=function(i){if(!nc(i))throw Error(t(40));return i._reactRootContainer?(xo(function(){rc(null,null,i,!1,function(){i._reactRootContainer=null,i[$r]=null})}),!0):!1},Sn.unstable_batchedUpdates=Kh,Sn.unstable_renderSubtreeIntoContainer=function(i,s,l,p){if(!nc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return rc(i,s,l,!1,p)},Sn.version="18.3.1-next-f1338f8080-20240426",Sn}var a_;function Mw(){if(a_)return od.exports;a_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),od.exports=pA(),od.exports}var l_;function mA(){if(l_)return sc;l_=1;var n=Mw();return sc.createRoot=n.createRoot,sc.hydrateRoot=n.hydrateRoot,sc}var gA=mA(),ol={},u_;function yA(){if(u_)return ol;u_=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.parse=u,ol.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const d=function(){};return d.prototype=Object.create(null),d})();function u(d,y){const T=new a,b=d.length;if(b<2)return T;const _=(y==null?void 0:y.decode)||v;let w=0;do{const S=d.indexOf("=",w);if(S===-1)break;const R=d.indexOf(";",w),E=R===-1?b:R;if(S>E){w=d.lastIndexOf(";",S-1)+1;continue}const L=f(d,w,S),U=h(d,S,L),C=d.slice(L,U);if(T[C]===void 0){let I=f(d,S+1,E),M=h(d,E,I);const O=_(d.slice(I,M));T[C]=O}w=E+1}while(w<b);return T}function f(d,y,T){do{const b=d.charCodeAt(y);if(b!==32&&b!==9)return y}while(++y<T);return T}function h(d,y,T){for(;y>T;){const b=d.charCodeAt(--y);if(b!==32&&b!==9)return y+1}return T}function m(d,y,T){const b=(T==null?void 0:T.encode)||encodeURIComponent;if(!n.test(d))throw new TypeError(`argument name is invalid: ${d}`);const _=b(y);if(!e.test(_))throw new TypeError(`argument val is invalid: ${y}`);let w=d+"="+_;if(!T)return w;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);w+="; Max-Age="+T.maxAge}if(T.domain){if(!t.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);w+="; Domain="+T.domain}if(T.path){if(!r.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);w+="; Path="+T.path}if(T.expires){if(!g(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);w+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(w+="; HttpOnly"),T.secure&&(w+="; Secure"),T.partitioned&&(w+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return w}function v(d){if(d.indexOf("%")===-1)return d;try{return decodeURIComponent(d)}catch{return d}}function g(d){return o.call(d)==="[object Date]"}return ol}yA();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var c_="popstate";function vA(n={}){function e(r,o){let{pathname:a,search:u,hash:f}=r.location;return sm("",{pathname:a,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:wl(o)}return EA(e,t,null,n)}function It(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Or(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _A(){return Math.random().toString(36).substring(2,10)}function f_(n,e){return{usr:n.state,key:n.key,idx:e}}function sm(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ia(e):e,state:t,key:e&&e.key||r||_A()}}function wl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ia(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function EA(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,f="POP",h=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function g(){f="POP";let _=v(),w=_==null?null:_-m;m=_,h&&h({action:f,location:b.location,delta:w})}function d(_,w){f="PUSH";let S=sm(b.location,_,w);m=v()+1;let R=f_(S,m),E=b.createHref(S);try{u.pushState(R,"",E)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;o.location.assign(E)}a&&h&&h({action:f,location:b.location,delta:1})}function y(_,w){f="REPLACE";let S=sm(b.location,_,w);m=v();let R=f_(S,m),E=b.createHref(S);u.replaceState(R,"",E),a&&h&&h({action:f,location:b.location,delta:0})}function T(_){let w=o.location.origin!=="null"?o.location.origin:o.location.href,S=typeof _=="string"?_:wl(_);return S=S.replace(/ $/,"%20"),It(w,`No window.location.(origin|href) available to create URL for href: ${S}`),new URL(S,w)}let b={get action(){return f},get location(){return n(o,u)},listen(_){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(c_,g),h=_,()=>{o.removeEventListener(c_,g),h=null}},createHref(_){return e(o,_)},createURL:T,encodeLocation(_){let w=T(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:d,replace:y,go(_){return u.go(_)}};return b}function jw(n,e,t="/"){return wA(n,e,t,!1)}function wA(n,e,t,r){let o=typeof e=="string"?ia(e):e,a=Xi(o.pathname||"/",t);if(a==null)return null;let u=Vw(n);TA(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let m=NA(a);f=xA(u[h],m,r)}return f}function Vw(n,e=[],t=[],r=""){let o=(a,u,f)=>{let h={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(It(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let m=ni([r,h.relativePath]),v=t.concat(h);a.children&&a.children.length>0&&(It(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Vw(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:CA(m,a.index),routesMeta:v})};return n.forEach((a,u)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))o(a,u);else for(let h of Uw(a.path))o(a,u,h)}),e}function Uw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=Uw(r.join("/")),f=[];return f.push(...u.map(h=>h===""?a:[a,h].join("/"))),o&&f.push(...u),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function TA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:PA(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var bA=/^:[\w-]+$/,SA=3,AA=2,IA=1,kA=10,RA=-2,h_=n=>n==="*";function CA(n,e){let t=n.split("/"),r=t.length;return t.some(h_)&&(r+=RA),e&&(r+=AA),t.filter(o=>!h_(o)).reduce((o,a)=>o+(bA.test(a)?SA:a===""?IA:kA),r)}function PA(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function xA(n,e,t=!1){let{routesMeta:r}=n,o={},a="/",u=[];for(let f=0;f<r.length;++f){let h=r[f],m=f===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",g=xc({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},v),d=h.route;if(!g&&m&&t&&!r[r.length-1].route.index&&(g=xc({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!g)return null;Object.assign(o,g.params),u.push({params:o,pathname:ni([a,g.pathname]),pathnameBase:jA(ni([a,g.pathnameBase])),route:d}),g.pathnameBase!=="/"&&(a=ni([a,g.pathnameBase]))}return u}function xc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=OA(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:r.reduce((m,{paramName:v,isOptional:g},d)=>{if(v==="*"){let T=f[d]||"";u=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const y=f[d];return g&&!y?m[v]=void 0:m[v]=(y||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function OA(n,e=!1,t=!0){Or(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(r.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function NA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Or(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Xi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function DA(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?ia(n):n;return{pathname:t?t.startsWith("/")?t:LA(t,e):e,search:VA(r),hash:UA(o)}}function LA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function ld(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Fw(n){let e=MA(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function qw(n,e,t,r=!1){let o;typeof n=="string"?o=ia(n):(o={...n},It(!o.pathname||!o.pathname.includes("?"),ld("?","pathname","search",o)),It(!o.pathname||!o.pathname.includes("#"),ld("#","pathname","hash",o)),It(!o.search||!o.search.includes("#"),ld("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,f;if(u==null)f=t;else{let g=e.length-1;if(!r&&u.startsWith("..")){let d=u.split("/");for(;d[0]==="..";)d.shift(),g-=1;o.pathname=d.join("/")}f=g>=0?e[g]:"/"}let h=DA(o,f),m=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(m||v)&&(h.pathname+="/"),h}var ni=n=>n.join("/").replace(/\/\/+/g,"/"),jA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),VA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,UA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function FA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Bw=["POST","PUT","PATCH","DELETE"];new Set(Bw);var qA=["GET",...Bw];new Set(qA);var oa=de.createContext(null);oa.displayName="DataRouter";var Zc=de.createContext(null);Zc.displayName="DataRouterState";var zw=de.createContext({isTransitioning:!1});zw.displayName="ViewTransition";var BA=de.createContext(new Map);BA.displayName="Fetchers";var zA=de.createContext(null);zA.displayName="Await";var Lr=de.createContext(null);Lr.displayName="Navigation";var Pl=de.createContext(null);Pl.displayName="Location";var Mr=de.createContext({outlet:null,matches:[],isDataRoute:!1});Mr.displayName="Route";var Um=de.createContext(null);Um.displayName="RouteError";function $A(n,{relative:e}={}){It(xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=de.useContext(Lr),{hash:o,pathname:a,search:u}=Ol(n,{relative:e}),f=a;return t!=="/"&&(f=a==="/"?t:ni([t,a])),r.createHref({pathname:f,search:u,hash:o})}function xl(){return de.useContext(Pl)!=null}function Wo(){return It(xl(),"useLocation() may be used only in the context of a <Router> component."),de.useContext(Pl).location}var $w="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hw(n){de.useContext(Lr).static||de.useLayoutEffect(n)}function sa(){let{isDataRoute:n}=de.useContext(Mr);return n?rI():HA()}function HA(){It(xl(),"useNavigate() may be used only in the context of a <Router> component.");let n=de.useContext(oa),{basename:e,navigator:t}=de.useContext(Lr),{matches:r}=de.useContext(Mr),{pathname:o}=Wo(),a=JSON.stringify(Fw(r)),u=de.useRef(!1);return Hw(()=>{u.current=!0}),de.useCallback((h,m={})=>{if(Or(u.current,$w),!u.current)return;if(typeof h=="number"){t.go(h);return}let v=qw(h,JSON.parse(a),o,m.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ni([e,v.pathname])),(m.replace?t.replace:t.push)(v,m.state,m)},[e,t,a,o,n])}de.createContext(null);function Ww(){let{matches:n}=de.useContext(Mr),e=n[n.length-1];return e?e.params:{}}function Ol(n,{relative:e}={}){let{matches:t}=de.useContext(Mr),{pathname:r}=Wo(),o=JSON.stringify(Fw(t));return de.useMemo(()=>qw(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function WA(n,e){return Kw(n,e)}function Kw(n,e,t,r){var w;It(xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=de.useContext(Lr),{matches:a}=de.useContext(Mr),u=a[a.length-1],f=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",v=u&&u.route;{let S=v&&v.path||"";Gw(h,!v||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let g=Wo(),d;if(e){let S=typeof e=="string"?ia(e):e;It(m==="/"||((w=S.pathname)==null?void 0:w.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${S.pathname}" was given in the \`location\` prop.`),d=S}else d=g;let y=d.pathname||"/",T=y;if(m!=="/"){let S=m.replace(/^\//,"").split("/");T="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let b=jw(n,{pathname:T});Or(v||b!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),Or(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=YA(b&&b.map(S=>Object.assign({},S,{params:Object.assign({},f,S.params),pathname:ni([m,o.encodeLocation?o.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?m:ni([m,o.encodeLocation?o.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,t,r);return e&&_?de.createElement(Pl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},_):_}function KA(){let n=nI(),e=FA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=de.createElement(de.Fragment,null,de.createElement("p",null,"💿 Hey developer 👋"),de.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",de.createElement("code",{style:a},"ErrorBoundary")," or"," ",de.createElement("code",{style:a},"errorElement")," prop on your route.")),de.createElement(de.Fragment,null,de.createElement("h2",null,"Unexpected Application Error!"),de.createElement("h3",{style:{fontStyle:"italic"}},e),t?de.createElement("pre",{style:o},t):null,u)}var GA=de.createElement(KA,null),QA=class extends de.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?de.createElement(Mr.Provider,{value:this.props.routeContext},de.createElement(Um.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function XA({routeContext:n,match:e,children:t}){let r=de.useContext(oa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),de.createElement(Mr.Provider,{value:n},t)}function YA(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let h=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);It(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,f=-1;if(t)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:v,errors:g}=t,d=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!g||g[m.route.id]===void 0);if(m.route.lazy||d){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((h,m,v)=>{let g,d=!1,y=null,T=null;t&&(g=a&&m.route.id?a[m.route.id]:void 0,y=m.route.errorElement||GA,u&&(f<0&&v===0?(Gw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,T=null):f===v&&(d=!0,T=m.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,v+1)),_=()=>{let w;return g?w=y:d?w=T:m.route.Component?w=de.createElement(m.route.Component,null):m.route.element?w=m.route.element:w=h,de.createElement(XA,{match:m,routeContext:{outlet:h,matches:b,isDataRoute:t!=null},children:w})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?de.createElement(QA,{location:t.location,revalidation:t.revalidation,component:y,error:g,children:_(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):_()},null)}function Fm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JA(n){let e=de.useContext(oa);return It(e,Fm(n)),e}function ZA(n){let e=de.useContext(Zc);return It(e,Fm(n)),e}function eI(n){let e=de.useContext(Mr);return It(e,Fm(n)),e}function qm(n){let e=eI(n),t=e.matches[e.matches.length-1];return It(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function tI(){return qm("useRouteId")}function nI(){var r;let n=de.useContext(Um),e=ZA("useRouteError"),t=qm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function rI(){let{router:n}=JA("useNavigate"),e=qm("useNavigate"),t=de.useRef(!1);return Hw(()=>{t.current=!0}),de.useCallback(async(o,a={})=>{Or(t.current,$w),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var d_={};function Gw(n,e,t){!e&&!d_[n]&&(d_[n]=!0,Or(!1,t))}de.memo(iI);function iI({routes:n,future:e,state:t}){return Kw(n,void 0,t,e)}function Ui(n){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oI({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:a=!1}){It(!xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=de.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=ia(t));let{pathname:h="/",search:m="",hash:v="",state:g=null,key:d="default"}=t,y=de.useMemo(()=>{let T=Xi(h,u);return T==null?null:{location:{pathname:T,search:m,hash:v,state:g,key:d},navigationType:r}},[u,h,m,v,g,d,r]);return Or(y!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:de.createElement(Lr.Provider,{value:f},de.createElement(Pl.Provider,{children:e,value:y}))}function sI({children:n,location:e}){return WA(am(n),e)}function am(n,e=[]){let t=[];return de.Children.forEach(n,(r,o)=>{if(!de.isValidElement(r))return;let a=[...e,o];if(r.type===de.Fragment){t.push.apply(t,am(r.props.children,a));return}It(r.type===Ui,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=am(r.props.children,a)),t.push(u)}),t}var vc="get",_c="application/x-www-form-urlencoded";function ef(n){return n!=null&&typeof n.tagName=="string"}function aI(n){return ef(n)&&n.tagName.toLowerCase()==="button"}function lI(n){return ef(n)&&n.tagName.toLowerCase()==="form"}function uI(n){return ef(n)&&n.tagName.toLowerCase()==="input"}function cI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function fI(n,e){return n.button===0&&(!e||e==="_self")&&!cI(n)}var ac=null;function hI(){if(ac===null)try{new FormData(document.createElement("form"),0),ac=!1}catch{ac=!0}return ac}var dI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ud(n){return n!=null&&!dI.has(n)?(Or(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_c}"`),null):n}function pI(n,e){let t,r,o,a,u;if(lI(n)){let f=n.getAttribute("action");r=f?Xi(f,e):null,t=n.getAttribute("method")||vc,o=ud(n.getAttribute("enctype"))||_c,a=new FormData(n)}else if(aI(n)||uI(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||f.getAttribute("action");if(r=h?Xi(h,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||vc,o=ud(n.getAttribute("formenctype"))||ud(f.getAttribute("enctype"))||_c,a=new FormData(f,n),!hI()){let{name:m,type:v,value:g}=n;if(v==="image"){let d=m?`${m}.`:"";a.append(`${d}x`,"0"),a.append(`${d}y`,"0")}else m&&a.append(m,g)}}else{if(ef(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=vc,r=null,o=_c,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:u}}function Bm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function mI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function yI(n,e,t){let r=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await mI(a,t);return u.links?u.links():[]}return[]}));return wI(r.flat(1).filter(gI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function p_(n,e,t,r,o,a){let u=(h,m)=>t[m]?h.route.id!==t[m].route.id:!0,f=(h,m)=>{var v;return t[m].pathname!==h.pathname||((v=t[m].route.path)==null?void 0:v.endsWith("*"))&&t[m].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,m)=>u(h,m)||f(h,m)):a==="data"?e.filter((h,m)=>{var g;let v=r.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(u(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let d=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function vI(n,e){return _I(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let o=[r.module];return r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function _I(n){return[...new Set(n)]}function EI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function wI(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let a=JSON.stringify(EI(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}function TI(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function bI(){let n=de.useContext(oa);return Bm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function SI(){let n=de.useContext(Zc);return Bm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var zm=de.createContext(void 0);zm.displayName="FrameworkContext";function Qw(){let n=de.useContext(zm);return Bm(n,"You must render this element inside a <HydratedRouter> element"),n}function AI(n,e){let t=de.useContext(zm),[r,o]=de.useState(!1),[a,u]=de.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:v,onTouchStart:g}=e,d=de.useRef(null);de.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let b=w=>{w.forEach(S=>{u(S.isIntersecting)})},_=new IntersectionObserver(b,{threshold:.5});return d.current&&_.observe(d.current),()=>{_.disconnect()}}},[n]),de.useEffect(()=>{if(r){let b=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(b)}}},[r]);let y=()=>{o(!0)},T=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,d,{}]:[a,d,{onFocus:sl(f,y),onBlur:sl(h,T),onMouseEnter:sl(m,y),onMouseLeave:sl(v,T),onTouchStart:sl(g,y)}]:[!1,d,{}]}function sl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function II({page:n,...e}){let{router:t}=bI(),r=de.useMemo(()=>jw(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?de.createElement(RI,{page:n,matches:r,...e}):null}function kI(n){let{manifest:e,routeModules:t}=Qw(),[r,o]=de.useState([]);return de.useEffect(()=>{let a=!1;return yI(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),r}function RI({page:n,matches:e,...t}){let r=Wo(),{manifest:o,routeModules:a}=Qw(),{loaderData:u,matches:f}=SI(),h=de.useMemo(()=>p_(n,e,f,o,r,"data"),[n,e,f,o,r]),m=de.useMemo(()=>p_(n,e,f,o,r,"assets"),[n,e,f,o,r]),v=de.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let y=new Set,T=!1;if(e.forEach(_=>{var S;let w=o.routes[_.route.id];!w||!w.hasLoader||(!h.some(R=>R.route.id===_.route.id)&&_.route.id in u&&((S=a[_.route.id])!=null&&S.shouldRevalidate)||w.hasClientLoader?T=!0:y.add(_.route.id))}),y.size===0)return[];let b=TI(n);return T&&y.size>0&&b.searchParams.set("_routes",e.filter(_=>y.has(_.route.id)).map(_=>_.route.id).join(",")),[b.pathname+b.search]},[u,r,o,h,e,n,a]),g=de.useMemo(()=>vI(m,o),[m,o]),d=kI(m);return de.createElement(de.Fragment,null,v.map(y=>de.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...t})),g.map(y=>de.createElement("link",{key:y,rel:"modulepreload",href:y,...t})),d.map(({key:y,link:T})=>de.createElement("link",{key:y,...T})))}function CI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Xw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Xw&&(window.__reactRouterVersion="7.1.3")}catch{}function PI({basename:n,children:e,window:t}){let r=de.useRef();r.current==null&&(r.current=vA({window:t,v5Compat:!0}));let o=r.current,[a,u]=de.useState({action:o.action,location:o.location}),f=de.useCallback(h=>{de.startTransition(()=>u(h))},[u]);return de.useLayoutEffect(()=>o.listen(f),[o,f]),de.createElement(oI,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var Yw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gs=de.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:f,target:h,to:m,preventScrollReset:v,viewTransition:g,...d},y){let{basename:T}=de.useContext(Lr),b=typeof m=="string"&&Yw.test(m),_,w=!1;if(typeof m=="string"&&b&&(_=m,Xw))try{let M=new URL(window.location.href),O=m.startsWith("//")?new URL(M.protocol+m):new URL(m),k=Xi(O.pathname,T);O.origin===M.origin&&k!=null?m=k+O.search+O.hash:w=!0}catch{Or(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=$A(m,{relative:o}),[R,E,L]=AI(r,d),U=DI(m,{replace:u,state:f,target:h,preventScrollReset:v,relative:o,viewTransition:g});function C(M){e&&e(M),M.defaultPrevented||U(M)}let I=de.createElement("a",{...d,...L,href:_||S,onClick:w||a?e:C,ref:CI(y,E),target:h,"data-discover":!b&&t==="render"?"true":void 0});return R&&!b?de.createElement(de.Fragment,null,I,de.createElement(II,{page:S})):I});Gs.displayName="Link";var xI=de.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:f,children:h,...m},v){let g=Ol(u,{relative:m.relative}),d=Wo(),y=de.useContext(Zc),{navigator:T,basename:b}=de.useContext(Lr),_=y!=null&&UI(g)&&f===!0,w=T.encodeLocation?T.encodeLocation(g).pathname:g.pathname,S=d.pathname,R=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(S=S.toLowerCase(),R=R?R.toLowerCase():null,w=w.toLowerCase()),R&&b&&(R=Xi(R,b)||R);const E=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let L=S===w||!o&&S.startsWith(w)&&S.charAt(E)==="/",U=R!=null&&(R===w||!o&&R.startsWith(w)&&R.charAt(w.length)==="/"),C={isActive:L,isPending:U,isTransitioning:_},I=L?e:void 0,M;typeof r=="function"?M=r(C):M=[r,L?"active":null,U?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(C):a;return de.createElement(Gs,{...m,"aria-current":I,className:M,ref:v,style:O,to:u,viewTransition:f},typeof h=="function"?h(C):h)});xI.displayName="NavLink";var OI=de.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:a,method:u=vc,action:f,onSubmit:h,relative:m,preventScrollReset:v,viewTransition:g,...d},y)=>{let T=jI(),b=VI(f,{relative:m}),_=u.toLowerCase()==="get"?"get":"post",w=typeof f=="string"&&Yw.test(f),S=R=>{if(h&&h(R),R.defaultPrevented)return;R.preventDefault();let E=R.nativeEvent.submitter,L=(E==null?void 0:E.getAttribute("formmethod"))||u;T(E||R.currentTarget,{fetcherKey:e,method:L,navigate:t,replace:o,state:a,relative:m,preventScrollReset:v,viewTransition:g})};return de.createElement("form",{ref:y,method:_,action:b,onSubmit:r?h:S,...d,"data-discover":!w&&n==="render"?"true":void 0})});OI.displayName="Form";function NI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jw(n){let e=de.useContext(oa);return It(e,NI(n)),e}function DI(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:u}={}){let f=sa(),h=Wo(),m=Ol(n,{relative:a});return de.useCallback(v=>{if(fI(v,e)){v.preventDefault();let g=t!==void 0?t:wl(h)===wl(m);f(n,{replace:g,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[h,f,m,t,r,e,n,o,a,u])}var LI=0,MI=()=>`__${String(++LI)}__`;function jI(){let{router:n}=Jw("useSubmit"),{basename:e}=de.useContext(Lr),t=tI();return de.useCallback(async(r,o={})=>{let{action:a,method:u,encType:f,formData:h,body:m}=pI(r,e);if(o.navigate===!1){let v=o.fetcherKey||MI();await n.fetch(v,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function VI(n,{relative:e}={}){let{basename:t}=de.useContext(Lr),r=de.useContext(Mr);It(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...Ol(n||".",{relative:e})},u=Wo();if(n==null){a.search=u.search;let f=new URLSearchParams(a.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(g=>g).forEach(g=>f.append("index",g));let v=f.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ni([t,a.pathname])),wl(a)}function UI(n,e={}){let t=de.useContext(zw);It(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Jw("useViewTransitionState"),o=Ol(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Xi(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Xi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return xc(o.pathname,u)!=null||xc(o.pathname,a)!=null}new TextEncoder;const FI="_showcaseContainer_km4hm_1",qI="_productsGrid_km4hm_12",BI="_imageContainer_km4hm_17",zI="_productCard_km4hm_35",$I="_title_km4hm_50",HI="_price_km4hm_55",WI="_containerImages_km4hm_72",KI="_scrollContainer_km4hm_93",Mi={showcaseContainer:FI,productsGrid:qI,imageContainer:BI,productCard:zI,title:$I,price:HI,containerImages:WI,scrollContainer:KI,"product-image":"_product-image_km4hm_124"},fi=Qe.createContext(),GI=()=>{};var m_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},QI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],f=n[t++],h=((o&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},e0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,f=u?n[o+1]:0,h=o+2<n.length,m=h?n[o+2]:0,v=a>>2,g=(a&3)<<4|f>>4;let d=(f&15)<<2|m>>6,y=m&63;h||(y=64,u||(d=64)),r.push(t[v],t[g],t[d],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Zw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):QI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const g=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||f==null||m==null||g==null)throw new XI;const d=a<<2|f>>4;if(r.push(d),m!==64){const y=f<<4&240|m>>2;if(r.push(y),g!==64){const T=m<<6&192|g;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class XI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YI=function(n){const e=Zw(n);return e0.encodeByteArray(e,!0)},Oc=function(n){return YI(n).replace(/\./g,"")},t0=function(n){try{return e0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=()=>JI().__FIREBASE_DEFAULTS__,ek=()=>{if(typeof process>"u"||typeof m_>"u")return;const n=m_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},tk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&t0(n[1]);return e&&JSON.parse(e)},tf=()=>{try{return GI()||ZI()||ek()||tk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},n0=n=>{var e,t;return(t=(e=tf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},r0=n=>{const e=n0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},i0=()=>{var n;return(n=tf())===null||n===void 0?void 0:n.config},o0=n=>{var e;return(e=tf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Oc(JSON.stringify(t)),Oc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function ik(){var n;const e=(n=tf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ok(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sk(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ak(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lk(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function uk(){return!ik()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ck(){try{return typeof indexedDB=="object"}catch{return!1}}function fk(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="FirebaseError";class jr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=hk,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nl.prototype.create)}}class Nl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?dk(a,r):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new jr(o,f,r)}}function dk(n,e){return n.replace(pk,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const pk=/\{\$([^}]+)}/g;function mk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Fo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(g_(a)&&g_(u)){if(!Fo(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function g_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gk(n,e){const t=new yk(n,e);return t.subscribe.bind(t)}class yk{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");vk(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=cd),o.error===void 0&&(o.error=cd),o.complete===void 0&&(o.complete=cd);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vk(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function cd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(n){return n&&n._delegate?n._delegate:n}class Yi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new nk;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wk(e))try{this.getOrInitializeService({instanceIdentifier:Mo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mo){return this.instances.has(e)}getOptions(e=Mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);r===f&&u.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ek(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mo){return this.component?this.component.multipleInstances?e:Mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ek(n){return n===Mo?void 0:n}function wk(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _k(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(et||(et={}));const bk={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},Sk=et.INFO,Ak={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},Ik=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=Ak[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $m{constructor(e){this.name=e,this._logLevel=Sk,this._logHandler=Ik,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const kk=(n,e)=>e.some(t=>n instanceof t);let y_,v_;function Rk(){return y_||(y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ck(){return v_||(v_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a0=new WeakMap,lm=new WeakMap,l0=new WeakMap,fd=new WeakMap,Hm=new WeakMap;function Pk(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Wi(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&a0.set(t,n)}).catch(()=>{}),Hm.set(e,n),e}function xk(n){if(lm.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});lm.set(n,e)}let um={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return lm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||l0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Ok(n){um=n(um)}function Nk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(hd(this),e,...t);return l0.set(r,e.sort?e.sort():[e]),Wi(r)}:Ck().includes(n)?function(...e){return n.apply(hd(this),e),Wi(a0.get(this))}:function(...e){return Wi(n.apply(hd(this),e))}}function Dk(n){return typeof n=="function"?Nk(n):(n instanceof IDBTransaction&&xk(n),kk(n,Rk())?new Proxy(n,um):n)}function Wi(n){if(n instanceof IDBRequest)return Pk(n);if(fd.has(n))return fd.get(n);const e=Dk(n);return e!==n&&(fd.set(n,e),Hm.set(e,n)),e}const hd=n=>Hm.get(n);function Lk(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),f=Wi(u);return r&&u.addEventListener("upgradeneeded",h=>{r(Wi(u.result),h.oldVersion,h.newVersion,Wi(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{a&&h.addEventListener("close",()=>a()),o&&h.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const Mk=["get","getKey","getAll","getAllKeys","count"],jk=["put","add","delete","clear"],dd=new Map;function __(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(dd.get(e))return dd.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=jk.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Mk.includes(t)))return;const a=async function(u,...f){const h=this.transaction(u,o?"readwrite":"readonly");let m=h.store;return r&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),o&&h.done]))[0]};return dd.set(e,a),a}Ok(n=>({...n,get:(e,t,r)=>__(e,t)||n.get(e,t,r),has:(e,t)=>!!__(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Uk(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Uk(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cm="@firebase/app",E_="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new $m("@firebase/app"),Fk="@firebase/app-compat",qk="@firebase/analytics-compat",Bk="@firebase/analytics",zk="@firebase/app-check-compat",$k="@firebase/app-check",Hk="@firebase/auth",Wk="@firebase/auth-compat",Kk="@firebase/database",Gk="@firebase/data-connect",Qk="@firebase/database-compat",Xk="@firebase/functions",Yk="@firebase/functions-compat",Jk="@firebase/installations",Zk="@firebase/installations-compat",eR="@firebase/messaging",tR="@firebase/messaging-compat",nR="@firebase/performance",rR="@firebase/performance-compat",iR="@firebase/remote-config",oR="@firebase/remote-config-compat",sR="@firebase/storage",aR="@firebase/storage-compat",lR="@firebase/firestore",uR="@firebase/vertexai",cR="@firebase/firestore-compat",fR="firebase",hR="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="[DEFAULT]",dR={[cm]:"fire-core",[Fk]:"fire-core-compat",[Bk]:"fire-analytics",[qk]:"fire-analytics-compat",[$k]:"fire-app-check",[zk]:"fire-app-check-compat",[Hk]:"fire-auth",[Wk]:"fire-auth-compat",[Kk]:"fire-rtdb",[Gk]:"fire-data-connect",[Qk]:"fire-rtdb-compat",[Xk]:"fire-fn",[Yk]:"fire-fn-compat",[Jk]:"fire-iid",[Zk]:"fire-iid-compat",[eR]:"fire-fcm",[tR]:"fire-fcm-compat",[nR]:"fire-perf",[rR]:"fire-perf-compat",[iR]:"fire-rc",[oR]:"fire-rc-compat",[sR]:"fire-gcs",[aR]:"fire-gcs-compat",[lR]:"fire-fst",[cR]:"fire-fst-compat",[uR]:"fire-vertex","fire-js":"fire-js",[fR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new Map,pR=new Map,hm=new Map;function w_(n,e){try{n.container.addComponent(e)}catch(t){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function qo(n){const e=n.name;if(hm.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;hm.set(e,n);for(const t of Nc.values())w_(t,n);for(const t of pR.values())w_(t,n);return!0}function nf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function cr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new Nl("app","Firebase",mR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=hR;function u0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fm,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Ki.create("bad-app-name",{appName:String(o)});if(t||(t=i0()),!t)throw Ki.create("no-options");const a=Nc.get(o);if(a){if(Fo(t,a.options)&&Fo(r,a.config))return a;throw Ki.create("duplicate-app",{appName:o})}const u=new Tk(o);for(const h of hm.values())u.addComponent(h);const f=new gR(t,r,u);return Nc.set(o,f),f}function Wm(n=fm){const e=Nc.get(n);if(!e&&n===fm&&i0())return u0();if(!e)throw Ki.create("no-app",{appName:n});return e}function kr(n,e,t){var r;let o=(r=dR[n])!==null&&r!==void 0?r:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${o}" with version "${e}":`];a&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(f.join(" "));return}qo(new Yi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="firebase-heartbeat-database",vR=1,Tl="firebase-heartbeat-store";let pd=null;function c0(){return pd||(pd=Lk(yR,vR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Tl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ki.create("idb-open",{originalErrorMessage:n.message})})),pd}async function _R(n){try{const t=(await c0()).transaction(Tl),r=await t.objectStore(Tl).get(f0(n));return await t.done,r}catch(e){if(e instanceof jr)oi.warn(e.message);else{const t=Ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oi.warn(t.message)}}}async function T_(n,e){try{const r=(await c0()).transaction(Tl,"readwrite");await r.objectStore(Tl).put(e,f0(n)),await r.done}catch(t){if(t instanceof jr)oi.warn(t.message);else{const r=Ki.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});oi.warn(r.message)}}}function f0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=1024,wR=30;class TR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new SR(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=b_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>wR){const u=AR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){oi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=b_(),{heartbeatsToSend:r,unsentEntries:o}=bR(this._heartbeatsCache.heartbeats),a=Oc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return oi.warn(t),""}}}function b_(){return new Date().toISOString().substring(0,10)}function bR(n,e=ER){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),S_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),S_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class SR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ck()?fk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _R(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return T_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return T_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function S_(n){return Oc(JSON.stringify({version:2,heartbeats:n})).length}function AR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(n){qo(new Yi("platform-logger",e=>new Vk(e),"PRIVATE")),qo(new Yi("heartbeat",e=>new TR(e),"PRIVATE")),kr(cm,E_,n),kr(cm,E_,"esm2017"),kr("fire-js","")}IR("");var kR="firebase",RR="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr(kR,RR,"app");function Km(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function h0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CR=h0,d0=new Nl("auth","Firebase",h0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=new $m("@firebase/auth");function PR(n,...e){Dc.logLevel<=et.WARN&&Dc.warn(`Auth (${Ko}): ${n}`,...e)}function Ec(n,...e){Dc.logLevel<=et.ERROR&&Dc.error(`Auth (${Ko}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(n,...e){throw Gm(n,...e)}function Rr(n,...e){return Gm(n,...e)}function p0(n,e,t){const r=Object.assign(Object.assign({},CR()),{[e]:t});return new Nl("auth","Firebase",r).create(e,{appName:n.name})}function Vo(n){return p0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return d0.create(n,...e)}function qe(n,e,...t){if(!n)throw Gm(e,...t)}function Zr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ec(e),new Error(e)}function ai(n,e){n||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function xR(){return A_()==="http:"||A_()==="https:"}function A_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xR()||sk()||"connection"in navigator)?navigator.onLine:!0}function NR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,t){this.shortDelay=e,this.longDelay=t,ai(t>e,"Short delay should be less than long delay!"),this.isMobile=rk()||ak()}get(){return OR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(n,e){ai(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=new Ll(3e4,6e4);function Xm(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function aa(n,e,t,r,o={}){return g0(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const f=Dl(Object.assign({key:n.config.apiKey},u)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:h},a);return ok()||(m.referrerPolicy="no-referrer"),m0.fetch()(y0(n,n.config.apiHost,t,f),m)})}async function g0(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},DR),e);try{const o=new jR(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw lc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[h,m]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw lc(n,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw lc(n,"email-already-in-use",u);if(h==="USER_DISABLED")throw lc(n,"user-disabled",u);const v=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw p0(n,v,m);si(n,v)}}catch(o){if(o instanceof jr)throw o;si(n,"network-request-failed",{message:String(o)})}}async function MR(n,e,t,r,o={}){const a=await aa(n,e,t,r,o);return"mfaPendingCredential"in a&&si(n,"multi-factor-auth-required",{_serverResponse:a}),a}function y0(n,e,t,r){const o=`${e}${t}?${r}`;return n.config.emulator?Qm(n.config,o):`${n.config.apiScheme}://${o}`}class jR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Rr(this.auth,"network-request-failed")),LR.get())})}}function lc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Rr(n,e,r);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(n,e){return aa(n,"POST","/v1/accounts:delete",e)}async function v0(n,e){return aa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UR(n,e=!1){const t=Gt(n),r=await t.getIdToken(e),o=Ym(r);qe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:r,authTime:ml(md(o.auth_time)),issuedAtTime:ml(md(o.iat)),expirationTime:ml(md(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function md(n){return Number(n)*1e3}function Ym(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ec("JWT malformed, contained fewer than 3 sections"),null;try{const o=t0(t);return o?JSON.parse(o):(Ec("Failed to decode base64 JWT payload"),null)}catch(o){return Ec("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function I_(n){const e=Ym(n);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof jr&&FR(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function FR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ml(this.lastLoginAt),this.creationTime=ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(n){var e;const t=n.auth,r=await n.getIdToken(),o=await bl(n,v0(t,{idToken:r}));qe(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?_0(a.providerUserInfo):[],f=zR(n.providerData,u),h=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(f!=null&&f.length),v=h?m:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new pm(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,g)}async function BR(n){const e=Gt(n);await Lc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zR(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function _0(n){return n.map(e=>{var{providerId:t}=e,r=Km(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(n,e){const t=await g0(n,{},async()=>{const r=Dl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=y0(n,o,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",m0.fetch()(u,{method:"POST",headers:f,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function HR(n,e){return aa(n,"POST","/v2/accounts:revokeToken",Xm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):I_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const t=I_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await $R(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new $s;return r&&(qe(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(qe(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(qe(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $s,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(n,e){qe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ei{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,a=Km(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new pm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await bl(this,this.stsTokenManager.getToken(this.auth,e));return qe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return UR(this,e)}reload(){return BR(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Lc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cr(this.auth.app))return Promise.reject(Vo(this.auth));const e=await this.getIdToken();return await bl(this,VR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,a,u,f,h,m,v;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,d=(o=t.email)!==null&&o!==void 0?o:void 0,y=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,T=(u=t.photoURL)!==null&&u!==void 0?u:void 0,b=(f=t.tenantId)!==null&&f!==void 0?f:void 0,_=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,w=(m=t.createdAt)!==null&&m!==void 0?m:void 0,S=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:R,emailVerified:E,isAnonymous:L,providerData:U,stsTokenManager:C}=t;qe(R&&C,e,"internal-error");const I=$s.fromJSON(this.name,C);qe(typeof R=="string",e,"internal-error"),ji(g,e.name),ji(d,e.name),qe(typeof E=="boolean",e,"internal-error"),qe(typeof L=="boolean",e,"internal-error"),ji(y,e.name),ji(T,e.name),ji(b,e.name),ji(_,e.name),ji(w,e.name),ji(S,e.name);const M=new ei({uid:R,auth:e,email:d,emailVerified:E,displayName:g,isAnonymous:L,photoURL:T,phoneNumber:y,tenantId:b,stsTokenManager:I,createdAt:w,lastLoginAt:S});return U&&Array.isArray(U)&&(M.providerData=U.map(O=>Object.assign({},O))),_&&(M._redirectEventId=_),M}static async _fromIdTokenResponse(e,t,r=!1){const o=new $s;o.updateFromServerResponse(t);const a=new ei({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Lc(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];qe(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?_0(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),f=new $s;f.updateFromIdToken(r);const h=new ei({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new pm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;function ti(n){ai(n instanceof Function,"Expected a class definition");let e=k_.get(n);return e?(ai(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,k_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}E0.type="NONE";const R_=E0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(n,e,t){return`firebase:${n}:${e}:${t}`}class Hs{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=wc(this.userKey,o.apiKey,a),this.fullPersistenceKey=wc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ei._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Hs(ti(R_),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||ti(R_);const u=wc(r,e.config.apiKey,e.name);let f=null;for(const m of t)try{const v=await m._get(u);if(v){const g=ei._fromJSON(e,v);m!==a&&(f=g),a=m;break}}catch{}const h=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Hs(a,e,r):(a=h[0],f&&await a._set(u,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new Hs(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(S0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(w0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(I0(e))return"Blackberry";if(k0(e))return"Webos";if(T0(e))return"Safari";if((e.includes("chrome/")||b0(e))&&!e.includes("edge/"))return"Chrome";if(A0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function w0(n=fn()){return/firefox\//i.test(n)}function T0(n=fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function b0(n=fn()){return/crios\//i.test(n)}function S0(n=fn()){return/iemobile/i.test(n)}function A0(n=fn()){return/android/i.test(n)}function I0(n=fn()){return/blackberry/i.test(n)}function k0(n=fn()){return/webos/i.test(n)}function Jm(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function WR(n=fn()){var e;return Jm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KR(){return lk()&&document.documentMode===10}function R0(n=fn()){return Jm(n)||A0(n)||k0(n)||I0(n)||/windows phone/i.test(n)||S0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(n,e=[]){let t;switch(n){case"Browser":t=C_(fn());break;case"Worker":t=`${C_(fn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ko}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,f)=>{try{const h=e(a);u(h)}catch(h){f(h)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(n,e={}){return aa(n,"GET","/v2/passwordPolicy",Xm(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=6;class YR{constructor(e){var t,r,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:XR,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,a,u,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(o=h.containsLowercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P_(this),this.idTokenSubscription=new P_(this),this.beforeStateQueue=new GR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ti(t)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await Hs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await v0(this,{idToken:e}),r=await ei._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(cr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===f)&&(h!=null&&h.user)&&(o=h.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Lc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cr(this.app))return Promise.reject(Vo(this));const t=e?Gt(e):null;return t&&qe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cr(this.app)?Promise.reject(Vo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cr(this.app)?Promise.reject(Vo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QR(this),t=new YR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await HR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ti(e)||this._popupRedirectResolver;qe(t,this,"argument-error"),this.redirectPersistenceManager=await Hs.create(this,[ti(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,o);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=C0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&PR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Zm(n){return Gt(n)}class P_{constructor(e){this.auth=e,this.observer=null,this.addObserver=gk(t=>this.observer=t)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZR(n){eg=n}function eC(n){return eg.loadJS(n)}function tC(){return eg.gapiScript}function nC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(n,e){const t=nf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Fo(a,e??{}))return o;si(o,"already-initialized")}return t.initialize({options:e})}function iC(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ti);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function oC(n,e,t){const r=Zm(n);qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=P0(e),{host:u,port:f}=sC(e),h=f===null?"":`:${f}`,m={url:`${a}//${u}${h}/`},v=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),qe(Fo(m,r.config.emulator)&&Fo(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,aC()}function P0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function sC(n){const e=P0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:x_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:x_(u)}}}function x_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function aC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,t){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ws(n,e){return MR(n,"POST","/v1/accounts:signInWithIdp",Xm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="http://localhost";class Bo extends x0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Bo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):si("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,a=Km(t,["providerId","signInMethod"]);if(!r||!o)return null;const u=new Bo(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ws(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ws(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ws(e,t)}buildRequest(){const e={requestUri:lC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Dl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends O0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Ml{constructor(){super("facebook.com")}static credential(e){return Bo._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Ml{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Bo._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return qi.credential(t,r)}catch{return null}}}qi.GOOGLE_SIGN_IN_METHOD="google.com";qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Ml{constructor(){super("github.com")}static credential(e){return Bo._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Ml{constructor(){super("twitter.com")}static credential(e,t){return Bo._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return zi.credential(t,r)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await ei._fromIdTokenResponse(e,r,o),u=O_(r);return new Qs({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=O_(r);return new Qs({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function O_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends jr{constructor(e,t,r,o){var a;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Mc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Mc(e,t,r,o)}}function N0(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Mc._fromErrorAndOperation(n,a,e,r):a})}async function uC(n,e,t=!1){const r=await bl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Qs._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(n,e,t=!1){const{auth:r}=n;if(cr(r.app))return Promise.reject(Vo(r));const o="reauthenticate";try{const a=await bl(n,N0(r,o,e,n),t);qe(a.idToken,r,"internal-error");const u=Ym(a.idToken);qe(u,r,"internal-error");const{sub:f}=u;return qe(n.uid===f,r,"user-mismatch"),Qs._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&si(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(n,e,t=!1){if(cr(n.app))return Promise.reject(Vo(n));const r="signIn",o=await N0(n,r,e),a=await Qs._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}function hC(n,e,t,r){return Gt(n).onIdTokenChanged(e,t,r)}function dC(n,e,t){return Gt(n).beforeAuthStateChanged(e,t)}const jc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jc,"1"),this.storage.removeItem(jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=1e3,mC=10;class L0 extends D0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,h)=>{this.notifyListeners(u,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);KR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,mC):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},pC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}L0.type="LOCAL";const gC=L0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0 extends D0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}M0.type="SESSION";const j0=M0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new rf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const f=Array.from(u).map(async m=>m(t.origin,a)),h=await yC(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((f,h)=>{const m=tg("",20);o.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(g){const d=g;if(d.data.eventId===m)switch(d.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(d.data.response);break;default:clearTimeout(v),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function _C(n){Cr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function EC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function TC(){return V0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="firebaseLocalStorageDb",bC=1,Vc="firebaseLocalStorage",F0="fbase_key";class jl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function of(n,e){return n.transaction([Vc],e?"readwrite":"readonly").objectStore(Vc)}function SC(){const n=indexedDB.deleteDatabase(U0);return new jl(n).toPromise()}function mm(){const n=indexedDB.open(U0,bC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Vc,{keyPath:F0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Vc)?e(r):(r.close(),await SC(),e(await mm()))})})}async function N_(n,e,t){const r=of(n,!0).put({[F0]:e,value:t});return new jl(r).toPromise()}async function AC(n,e){const t=of(n,!1).get(e),r=await new jl(t).toPromise();return r===void 0?null:r.value}function D_(n,e){const t=of(n,!0).delete(e);return new jl(t).toPromise()}const IC=800,kC=3;class q0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>kC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return V0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(TC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await EC(),!this.activeServiceWorker)return;this.sender=new vC(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mm();return await N_(e,jc,"1"),await D_(e,jc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>N_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>AC(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>D_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=of(o,!1).getAll();return new jl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}q0.type="LOCAL";const RC=q0;new Ll(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(n,e){return e?ti(e):(qe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng extends x0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ws(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ws(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ws(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function PC(n){return fC(n.auth,new ng(n),n.bypassAuthState)}function xC(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),cC(t,new ng(n),n.bypassAuthState)}async function OC(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),uC(t,new ng(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:f}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PC;case"linkViaPopup":case"linkViaRedirect":return OC;case"reauthViaPopup":case"reauthViaRedirect":return xC;default:si(this.auth,"internal-error")}}resolve(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=new Ll(2e3,1e4);class zs extends B0{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,zs.currentPopupAction&&zs.currentPopupAction.cancel(),zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){ai(this.filter.length===1,"Popup operations only handle one event");const e=tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NC.get())};e()}}zs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="pendingRedirect",Tc=new Map;class LC extends B0{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Tc.get(this.auth._key());if(!e){try{const r=await MC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Tc.set(this.auth._key(),e)}return this.bypassAuthState||Tc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MC(n,e){const t=UC(e),r=VC(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function jC(n,e){Tc.set(n._key(),e)}function VC(n){return ti(n._redirectPersistence)}function UC(n){return wc(DC,n.config.apiKey,n.name)}async function FC(n,e,t=!1){if(cr(n.app))return Promise.reject(Vo(n));const r=Zm(n),o=CC(r,e),u=await new LC(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=10*60*1e3;class BC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!z0(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Rr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qC&&this.cachedEventUids.clear(),this.cachedEventUids.has(L_(e))}saveEventToCache(e){this.cachedEventUids.add(L_(e)),this.lastProcessedEventTime=Date.now()}}function L_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function z0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return z0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(n,e={}){return aa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WC=/^https?/;async function KC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await $C(n);for(const t of e)try{if(GC(t))return}catch{}si(n,"unauthorized-domain")}function GC(n){const e=dm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!WC.test(t))return!1;if(HC.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=new Ll(3e4,6e4);function M_(){const n=Cr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function XC(n){return new Promise((e,t)=>{var r,o,a;function u(){M_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{M_(),t(Rr(n,"network-request-failed"))},timeout:QC.get()})}if(!((o=(r=Cr().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Cr().gapi)===null||a===void 0)&&a.load)u();else{const f=nC("iframefcb");return Cr()[f]=()=>{gapi.load?u():t(Rr(n,"network-request-failed"))},eC(`${tC()}?onload=${f}`).catch(h=>t(h))}}).catch(e=>{throw bc=null,e})}let bc=null;function YC(n){return bc=bc||XC(n),bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=new Ll(5e3,15e3),ZC="__/auth/iframe",eP="emulator/auth/iframe",tP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rP(n){const e=n.config;qe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Qm(e,eP):`https://${n.config.authDomain}/${ZC}`,r={apiKey:e.apiKey,appName:n.name,v:Ko},o=nP.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Dl(r).slice(1)}`}async function iP(n){const e=await YC(n),t=Cr().gapi;return qe(t,n,"internal-error"),e.open({where:document.body,url:rP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tP,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=Rr(n,"network-request-failed"),f=Cr().setTimeout(()=>{a(u)},JC.get());function h(){Cr().clearTimeout(f),o(r)}r.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sP=500,aP=600,lP="_blank",uP="http://localhost";class j_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cP(n,e,t,r=sP,o=aP){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const h=Object.assign(Object.assign({},oP),{width:r.toString(),height:o.toString(),top:a,left:u}),m=fn().toLowerCase();t&&(f=b0(m)?lP:t),w0(m)&&(e=e||uP,h.scrollbars="yes");const v=Object.entries(h).reduce((d,[y,T])=>`${d}${y}=${T},`,"");if(WR(m)&&f!=="_self")return fP(e||"",f),new j_(null);const g=window.open(e||"",f,v);qe(g,n,"popup-blocked");try{g.focus()}catch{}return new j_(g)}function fP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="__/auth/handler",dP="emulator/auth/handler",pP=encodeURIComponent("fac");async function V_(n,e,t,r,o,a){qe(n.config.authDomain,n,"auth-domain-config-required"),qe(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ko,eventId:o};if(e instanceof O0){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",mk(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,g]of Object.entries({}))u[v]=g}if(e instanceof Ml){const v=e.getScopes().filter(g=>g!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const h=await n._getAppCheckToken(),m=h?`#${pP}=${encodeURIComponent(h)}`:"";return`${mP(n)}?${Dl(f).slice(1)}${m}`}function mP({config:n}){return n.emulator?Qm(n,dP):`https://${n.authDomain}/${hP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="webStorageSupport";class gP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=j0,this._completeRedirectFn=FC,this._overrideRedirectResult=jC}async _openPopup(e,t,r,o){var a;ai((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await V_(e,t,r,dm(),o);return cP(e,u,tg())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await V_(e,t,r,dm(),o);return _C(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(ai(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await iP(e),r=new BC(e);return t.register("authEvent",o=>(qe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(gd,{type:gd},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[gd];u!==void 0&&t(!!u),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=KC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return R0()||T0()||Jm()}}const yP=gP;var U_="@firebase/auth",F_="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EP(n){qo(new Yi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;qe(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C0(n)},m=new JR(r,o,a,h);return iC(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),qo(new Yi("auth-internal",e=>{const t=Zm(e.getProvider("auth").getImmediate());return(r=>new vP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),kr(U_,F_,_P(n)),kr(U_,F_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=5*60,TP=o0("authIdTokenMaxAge")||wP;let q_=null;const bP=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>TP)return;const o=t==null?void 0:t.token;q_!==o&&(q_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function SP(n=Wm()){const e=nf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=rC(n,{popupRedirectResolver:yP,persistence:[RC,gC,j0]}),r=o0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=bP(a.toString());dC(t,u,()=>u(t.currentUser)),hC(t,f=>u(f))}}const o=n0("auth");return o&&oC(t,`http://${o}`),t}function AP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ZR({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=Rr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",AP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EP("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="firebasestorage.googleapis.com",H0="storageBucket",IP=2*60*1e3,kP=10*60*1e3,RP=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt extends jr{constructor(e,t,r=0){super(yd(e),`Firebase Storage: ${t} (${yd(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Et;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Et||(Et={}));function yd(n){return"storage/"+n}function rg(){const n="An unknown error occurred, please check the error payload for server response.";return new Rt(Et.UNKNOWN,n)}function CP(n){return new Rt(Et.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function PP(n){return new Rt(Et.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function xP(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Rt(Et.UNAUTHENTICATED,n)}function OP(){return new Rt(Et.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function NP(n){return new Rt(Et.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function W0(){return new Rt(Et.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function K0(){return new Rt(Et.CANCELED,"User canceled the upload/download.")}function DP(n){return new Rt(Et.INVALID_URL,"Invalid URL '"+n+"'.")}function LP(n){return new Rt(Et.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function MP(){return new Rt(Et.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+H0+"' property when initializing the app?")}function G0(){return new Rt(Et.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function jP(){return new Rt(Et.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function VP(){return new Rt(Et.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function UP(n){return new Rt(Et.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function gm(n){return new Rt(Et.INVALID_ARGUMENT,n)}function Q0(){return new Rt(Et.APP_DELETED,"The Firebase app was deleted.")}function FP(n){return new Rt(Et.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gl(n,e){return new Rt(Et.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function al(n){throw new Rt(Et.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Ln.makeFromUrl(e,t)}catch{return new Ln(e,"")}if(r.path==="")return r;throw LP(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+o+u,"i"),h={bucket:1,path:3};function m(E){E.path_=decodeURIComponent(E.path)}const v="v[A-Za-z0-9_]+",g=t.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",y=new RegExp(`^https?://${g}/${v}/b/${o}/o${d}`,"i"),T={bucket:1,path:3},b=t===$0?"(?:storage.googleapis.com|storage.cloud.google.com)":t,_="([^?#]*)",w=new RegExp(`^https?://${b}/${o}/${_}`,"i"),R=[{regex:f,indices:h,postModify:a},{regex:y,indices:T,postModify:m},{regex:w,indices:{bucket:1,path:2},postModify:m}];for(let E=0;E<R.length;E++){const L=R[E],U=L.regex.exec(e);if(U){const C=U[L.indices.bucket];let I=U[L.indices.path];I||(I=""),r=new Ln(C,I),L.postModify(r);break}}if(r==null)throw DP(e);return r}}class qP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(n,e,t){let r=1,o=null,a=null,u=!1,f=0;function h(){return f===2}let m=!1;function v(..._){m||(m=!0,e.apply(null,_))}function g(_){o=setTimeout(()=>{o=null,n(y,h())},_)}function d(){a&&clearTimeout(a)}function y(_,...w){if(m){d();return}if(_){d(),v.call(null,_,...w);return}if(h()||u){d(),v.call(null,_,...w);return}r<64&&(r*=2);let R;f===1?(f=2,R=0):R=(r+Math.random())*1e3,g(R)}let T=!1;function b(_){T||(T=!0,d(),!m&&(o!==null?(_||(f=2),clearTimeout(o),g(0)):_||(f=1)))}return g(0),a=setTimeout(()=>{u=!0,b(!0)},t),b}function zP(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(n){return n!==void 0}function HP(n){return typeof n=="function"}function WP(n){return typeof n=="object"&&!Array.isArray(n)}function sf(n){return typeof n=="string"||n instanceof String}function B_(n){return ig()&&n instanceof Blob}function ig(){return typeof Blob<"u"}function z_(n,e,t,r){if(r<e)throw gm(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw gm(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function X0(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const o=e(r)+"="+e(n[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var Uo;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Uo||(Uo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,t,r,o,a,u,f,h,m,v,g,d=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=h,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=g,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,T)=>{this.resolve_=y,this.reject_=T,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new uc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=f=>{const h=f.loaded,m=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const f=a.getErrorCode()===Uo.NO_ERROR,h=a.getStatus();if(!f||Y0(h,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===Uo.ABORT;r(!1,new uc(!1,null,v));return}const m=this.successCodes_.indexOf(h)!==-1;r(!0,new uc(m,a))})},t=(r,o)=>{const a=this.resolve_,u=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const h=this.callback_(f,f.getResponse());$P(h)?a(h):a()}catch(h){u(h)}else if(f!==null){const h=rg();h.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,h)):u(h)}else if(o.canceled){const h=this.appDelete_?Q0():K0();u(h)}else{const h=W0();u(h)}};this.canceled_?t(!1,new uc(!1,null,!0)):this.backoffId_=BP(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class uc{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function GP(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function QP(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function XP(n,e){e&&(n["X-Firebase-GMPID"]=e)}function YP(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function JP(n,e,t,r,o,a,u=!0){const f=X0(n.urlParams),h=n.url+f,m=Object.assign({},n.headers);return XP(m,e),GP(m,t),QP(m,a),YP(m,r),new KP(h,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ex(...n){const e=ZP();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(ig())return new Blob(n);throw new Rt(Et.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function tx(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(n){if(typeof atob>"u")throw UP("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vd{constructor(e,t){this.data=e,this.contentType=t||null}}function rx(n,e){switch(n){case Ir.RAW:return new vd(J0(e));case Ir.BASE64:case Ir.BASE64URL:return new vd(Z0(n,e));case Ir.DATA_URL:return new vd(ox(e),sx(e))}throw rg()}function J0(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,u=n.charCodeAt(++t);r=65536|(a&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function ix(n){let e;try{e=decodeURIComponent(n)}catch{throw gl(Ir.DATA_URL,"Malformed data URL.")}return J0(e)}function Z0(n,e){switch(n){case Ir.BASE64:{const o=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(o||a)throw gl(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ir.BASE64URL:{const o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a)throw gl(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=nx(e)}catch(o){throw o.message.includes("polyfill")?o:gl(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class eT{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw gl(Ir.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=ax(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function ox(n){const e=new eT(n);return e.base64?Z0(Ir.BASE64,e.rest):ix(e.rest)}function sx(n){return new eT(n).contentType}function ax(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,t){let r=0,o="";B_(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(B_(this.data_)){const r=this.data_,o=tx(r,e,t);return o===null?null:new $i(o)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new $i(r,!0)}}static getBlob(...e){if(ig()){const t=e.map(r=>r instanceof $i?r.data_:r);return new $i(ex.apply(null,t))}else{const t=e.map(u=>sf(u)?rx(Ir.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const o=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let f=0;f<u.length;f++)o[a++]=u[f]}),new $i(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(n){let e;try{e=JSON.parse(n)}catch{return null}return WP(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function ux(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function nT(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(n,e){return e}class gn{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||cx}}let cc=null;function fx(n){return!sf(n)||n.length<2?n:nT(n)}function rT(){if(cc)return cc;const n=[];n.push(new gn("bucket")),n.push(new gn("generation")),n.push(new gn("metageneration")),n.push(new gn("name","fullPath",!0));function e(a,u){return fx(u)}const t=new gn("name");t.xform=e,n.push(t);function r(a,u){return u!==void 0?Number(u):u}const o=new gn("size");return o.xform=r,n.push(o),n.push(new gn("timeCreated")),n.push(new gn("updated")),n.push(new gn("md5Hash",null,!0)),n.push(new gn("cacheControl",null,!0)),n.push(new gn("contentDisposition",null,!0)),n.push(new gn("contentEncoding",null,!0)),n.push(new gn("contentLanguage",null,!0)),n.push(new gn("contentType",null,!0)),n.push(new gn("metadata","customMetadata",!0)),cc=n,cc}function hx(n,e){function t(){const r=n.bucket,o=n.fullPath,a=new Ln(r,o);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function dx(n,e,t){const r={};r.type="file";const o=t.length;for(let a=0;a<o;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return hx(r,n),r}function iT(n,e,t){const r=tT(e);return r===null?null:dx(n,r,t)}function px(n,e,t,r){const o=tT(e);if(o===null||!sf(o.downloadTokens))return null;const a=o.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(m=>{const v=n.bucket,g=n.fullPath,d="/b/"+u(v)+"/o/"+u(g),y=Vl(d,t,r),T=X0({alt:"media",token:m});return y+T})[0]}function oT(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const a=e[o];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class la{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(n){if(!n)throw rg()}function og(n,e){function t(r,o){const a=iT(n,o,e);return ri(a!==null),a}return t}function mx(n,e){function t(r,o){const a=iT(n,o,e);return ri(a!==null),px(a,o,n.host,n._protocol)}return t}function Ul(n){function e(t,r){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=OP():o=xP():t.getStatus()===402?o=PP(n.bucket):t.getStatus()===403?o=NP(n.path):o=r,o.status=t.getStatus(),o.serverResponse=r.serverResponse,o}return e}function sT(n){const e=Ul(n);function t(r,o){let a=e(r,o);return r.getStatus()===404&&(a=CP(n.path)),a.serverResponse=o.serverResponse,a}return t}function gx(n,e,t){const r=e.fullServerUrl(),o=Vl(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,f=new la(o,a,og(n,t),u);return f.errorHandler=sT(e),f}function yx(n,e,t){const r=e.fullServerUrl(),o=Vl(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,f=new la(o,a,mx(n,t),u);return f.errorHandler=sT(e),f}function vx(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function aT(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=vx(null,e)),r}function _x(n,e,t,r,o){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let R="";for(let E=0;E<2;E++)R=R+Math.random().toString().slice(2);return R}const h=f();u["Content-Type"]="multipart/related; boundary="+h;const m=aT(e,r,o),v=oT(m,t),g="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+h+`\r
Content-Type: `+m.contentType+`\r
\r
`,d=`\r
--`+h+"--",y=$i.getBlob(g,r,d);if(y===null)throw G0();const T={name:m.fullPath},b=Vl(a,n.host,n._protocol),_="POST",w=n.maxUploadRetryTime,S=new la(b,_,og(n,t),w);return S.urlParams=T,S.headers=u,S.body=y.uploadData(),S.errorHandler=Ul(e),S}class Uc{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function sg(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{ri(!1)}return ri(!!t&&(e||["active"]).indexOf(t)!==-1),t}function Ex(n,e,t,r,o){const a=e.bucketOnlyServerUrl(),u=aT(e,r,o),f={name:u.fullPath},h=Vl(a,n.host,n._protocol),m="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},g=oT(u,t),d=n.maxUploadRetryTime;function y(b){sg(b);let _;try{_=b.getResponseHeader("X-Goog-Upload-URL")}catch{ri(!1)}return ri(sf(_)),_}const T=new la(h,m,y,d);return T.urlParams=f,T.headers=v,T.body=g,T.errorHandler=Ul(e),T}function wx(n,e,t,r){const o={"X-Goog-Upload-Command":"query"};function a(m){const v=sg(m,["active","final"]);let g=null;try{g=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ri(!1)}g||ri(!1);const d=Number(g);return ri(!isNaN(d)),new Uc(d,r.size(),v==="final")}const u="POST",f=n.maxUploadRetryTime,h=new la(t,u,a,f);return h.headers=o,h.errorHandler=Ul(e),h}const $_=256*1024;function Tx(n,e,t,r,o,a,u,f){const h=new Uc(0,0);if(u?(h.current=u.current,h.total=u.total):(h.current=0,h.total=r.size()),r.size()!==h.total)throw jP();const m=h.total-h.current;let v=m;o>0&&(v=Math.min(v,o));const g=h.current,d=g+v;let y="";v===0?y="finalize":m===v?y="upload, finalize":y="upload";const T={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":`${h.current}`},b=r.slice(g,d);if(b===null)throw G0();function _(E,L){const U=sg(E,["active","final"]),C=h.current+v,I=r.size();let M;return U==="final"?M=og(e,a)(E,L):M=null,new Uc(C,I,U==="final",M)}const w="POST",S=e.maxUploadRetryTime,R=new la(t,w,_,S);return R.headers=T,R.body=b.uploadData(),R.progressCallback=f||null,R.errorHandler=Ul(n),R}const An={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _d(n){switch(n){case"running":case"pausing":case"canceling":return An.RUNNING;case"paused":return An.PAUSED;case"success":return An.SUCCESS;case"canceled":return An.CANCELED;case"error":return An.ERROR;default:return An.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,t,r){if(HP(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class Sx{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Uo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Uo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Uo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o){if(this.sent_)throw al("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const a in o)o.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,o[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw al("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw al("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw al("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw al("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Ax extends Sx{initXhr(){this.xhr_.responseType="text"}}function Vs(){return new Ax}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=rT(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(Et.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(Y0(o.status,[]))if(a)o=W0();else{this.sleepTime=Math.max(this.sleepTime*2,RP),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(Et.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,a)=>{this._resolve=o,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const r=Ex(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Vs,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=wx(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(o,Vs,t,r);this._request=a,a.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=$_*this._chunkMultiplier,t=new Uc(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,a)=>{let u;try{u=Tx(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(h){this._error=h,this._transition("error");return}const f=this._ref.storage._makeRequest(u,Vs,o,a,!1);this._request=f,f.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){$_*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=gx(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,Vs,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=_x(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Vs,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=K0(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=_d(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const a=new bx(t||void 0,r||void 0,o||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(_d(this._state)){case An.SUCCESS:js(this._resolve.bind(null,this.snapshot))();break;case An.CANCELED:case An.ERROR:const t=this._reject;js(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(_d(this._state)){case An.RUNNING:case An.PAUSED:e.next&&js(e.next.bind(e,this.snapshot))();break;case An.SUCCESS:e.complete&&js(e.complete.bind(e))();break;case An.CANCELED:case An.ERROR:e.error&&js(e.error.bind(e,this._error))();break;default:e.error&&js(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,t){this._service=e,t instanceof Ln?this._location=t:this._location=Ln.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new zo(e,t)}get root(){const e=new Ln(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nT(this._location.path)}get storage(){return this._service}get parent(){const e=lx(this._location.path);if(e===null)return null;const t=new Ln(this._location.bucket,e);return new zo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw FP(e)}}function kx(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Ix(n,new $i(e),t)}function Rx(n){n._throwIfRoot("getDownloadURL");const e=yx(n.storage,n._location,rT());return n.storage.makeRequestWithTokens(e,Vs).then(t=>{if(t===null)throw VP();return t})}function Cx(n,e){const t=ux(n._location.path,e),r=new Ln(n._location.bucket,t);return new zo(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(n){return/^[A-Za-z]+:\/\//.test(n)}function xx(n,e){return new zo(n,e)}function lT(n,e){if(n instanceof ag){const t=n;if(t._bucket==null)throw MP();const r=new zo(t,t._bucket);return e!=null?lT(r,e):r}else return e!==void 0?Cx(n,e):n}function Ox(n,e){if(e&&Px(e)){if(n instanceof ag)return xx(n,e);throw gm("To use ref(service, url), the first argument must be a Storage instance.")}else return lT(n,e)}function H_(n,e){const t=e==null?void 0:e[H0];return t==null?null:Ln.makeFromBucketSpec(t,n)}function Nx(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:s0(o,n.app.options.projectId))}class ag{constructor(e,t,r,o,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=$0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=IP,this._maxUploadRetryTime=kP,this._requests=new Set,o!=null?this._bucket=Ln.makeFromBucketSpec(o,this._host):this._bucket=H_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ln.makeFromBucketSpec(this._url,e):this._bucket=H_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){z_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){z_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zo(this,e)}_makeRequest(e,t,r,o,a=!0){if(this._deleted)return new qP(Q0());{const u=JP(e,this._appId,r,o,t,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const W_="@firebase/storage",K_="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="storage";function Dx(n,e,t){return n=Gt(n),kx(n,e,t)}function Lx(n){return n=Gt(n),Rx(n)}function Mx(n,e){return n=Gt(n),Ox(n,e)}function jx(n=Wm(),e){n=Gt(n);const r=nf(n,uT).getImmediate({identifier:e}),o=r0("storage");return o&&Vx(r,...o),r}function Vx(n,e,t,r={}){Nx(n,e,t,r)}function Ux(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new ag(t,r,o,e,Ko)}function Fx(){qo(new Yi(uT,Ux,"PUBLIC").setMultipleInstances(!0)),kr(W_,K_,""),kr(W_,K_,"esm2017")}Fx();const qx={apiKey:"AIzaSyAkiymbxr2eTiM0DGSUmIkI2bqT3jBt1zs",authDomain:"dragon-computers.firebaseapp.com",projectId:"dragon-computers",storageBucket:"dragon-computers.firebasestorage.app",messagingSenderId:"439889480116",appId:"1:439889480116:web:4e288f14e42526cf390ae1"},lg=u0(qx);SP(lg);const Bx=jx(lg);var G_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gi,cT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,I){function M(){}M.prototype=I.prototype,C.D=I.prototype,C.prototype=new M,C.prototype.constructor=C,C.C=function(O,k,D){for(var N=Array(arguments.length-2),H=2;H<arguments.length;H++)N[H-2]=arguments[H];return I.prototype[k].apply(O,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,I,M){M||(M=0);var O=Array(16);if(typeof I=="string")for(var k=0;16>k;++k)O[k]=I.charCodeAt(M++)|I.charCodeAt(M++)<<8|I.charCodeAt(M++)<<16|I.charCodeAt(M++)<<24;else for(k=0;16>k;++k)O[k]=I[M++]|I[M++]<<8|I[M++]<<16|I[M++]<<24;I=C.g[0],M=C.g[1],k=C.g[2];var D=C.g[3],N=I+(D^M&(k^D))+O[0]+3614090360&4294967295;I=M+(N<<7&4294967295|N>>>25),N=D+(k^I&(M^k))+O[1]+3905402710&4294967295,D=I+(N<<12&4294967295|N>>>20),N=k+(M^D&(I^M))+O[2]+606105819&4294967295,k=D+(N<<17&4294967295|N>>>15),N=M+(I^k&(D^I))+O[3]+3250441966&4294967295,M=k+(N<<22&4294967295|N>>>10),N=I+(D^M&(k^D))+O[4]+4118548399&4294967295,I=M+(N<<7&4294967295|N>>>25),N=D+(k^I&(M^k))+O[5]+1200080426&4294967295,D=I+(N<<12&4294967295|N>>>20),N=k+(M^D&(I^M))+O[6]+2821735955&4294967295,k=D+(N<<17&4294967295|N>>>15),N=M+(I^k&(D^I))+O[7]+4249261313&4294967295,M=k+(N<<22&4294967295|N>>>10),N=I+(D^M&(k^D))+O[8]+1770035416&4294967295,I=M+(N<<7&4294967295|N>>>25),N=D+(k^I&(M^k))+O[9]+2336552879&4294967295,D=I+(N<<12&4294967295|N>>>20),N=k+(M^D&(I^M))+O[10]+4294925233&4294967295,k=D+(N<<17&4294967295|N>>>15),N=M+(I^k&(D^I))+O[11]+2304563134&4294967295,M=k+(N<<22&4294967295|N>>>10),N=I+(D^M&(k^D))+O[12]+1804603682&4294967295,I=M+(N<<7&4294967295|N>>>25),N=D+(k^I&(M^k))+O[13]+4254626195&4294967295,D=I+(N<<12&4294967295|N>>>20),N=k+(M^D&(I^M))+O[14]+2792965006&4294967295,k=D+(N<<17&4294967295|N>>>15),N=M+(I^k&(D^I))+O[15]+1236535329&4294967295,M=k+(N<<22&4294967295|N>>>10),N=I+(k^D&(M^k))+O[1]+4129170786&4294967295,I=M+(N<<5&4294967295|N>>>27),N=D+(M^k&(I^M))+O[6]+3225465664&4294967295,D=I+(N<<9&4294967295|N>>>23),N=k+(I^M&(D^I))+O[11]+643717713&4294967295,k=D+(N<<14&4294967295|N>>>18),N=M+(D^I&(k^D))+O[0]+3921069994&4294967295,M=k+(N<<20&4294967295|N>>>12),N=I+(k^D&(M^k))+O[5]+3593408605&4294967295,I=M+(N<<5&4294967295|N>>>27),N=D+(M^k&(I^M))+O[10]+38016083&4294967295,D=I+(N<<9&4294967295|N>>>23),N=k+(I^M&(D^I))+O[15]+3634488961&4294967295,k=D+(N<<14&4294967295|N>>>18),N=M+(D^I&(k^D))+O[4]+3889429448&4294967295,M=k+(N<<20&4294967295|N>>>12),N=I+(k^D&(M^k))+O[9]+568446438&4294967295,I=M+(N<<5&4294967295|N>>>27),N=D+(M^k&(I^M))+O[14]+3275163606&4294967295,D=I+(N<<9&4294967295|N>>>23),N=k+(I^M&(D^I))+O[3]+4107603335&4294967295,k=D+(N<<14&4294967295|N>>>18),N=M+(D^I&(k^D))+O[8]+1163531501&4294967295,M=k+(N<<20&4294967295|N>>>12),N=I+(k^D&(M^k))+O[13]+2850285829&4294967295,I=M+(N<<5&4294967295|N>>>27),N=D+(M^k&(I^M))+O[2]+4243563512&4294967295,D=I+(N<<9&4294967295|N>>>23),N=k+(I^M&(D^I))+O[7]+1735328473&4294967295,k=D+(N<<14&4294967295|N>>>18),N=M+(D^I&(k^D))+O[12]+2368359562&4294967295,M=k+(N<<20&4294967295|N>>>12),N=I+(M^k^D)+O[5]+4294588738&4294967295,I=M+(N<<4&4294967295|N>>>28),N=D+(I^M^k)+O[8]+2272392833&4294967295,D=I+(N<<11&4294967295|N>>>21),N=k+(D^I^M)+O[11]+1839030562&4294967295,k=D+(N<<16&4294967295|N>>>16),N=M+(k^D^I)+O[14]+4259657740&4294967295,M=k+(N<<23&4294967295|N>>>9),N=I+(M^k^D)+O[1]+2763975236&4294967295,I=M+(N<<4&4294967295|N>>>28),N=D+(I^M^k)+O[4]+1272893353&4294967295,D=I+(N<<11&4294967295|N>>>21),N=k+(D^I^M)+O[7]+4139469664&4294967295,k=D+(N<<16&4294967295|N>>>16),N=M+(k^D^I)+O[10]+3200236656&4294967295,M=k+(N<<23&4294967295|N>>>9),N=I+(M^k^D)+O[13]+681279174&4294967295,I=M+(N<<4&4294967295|N>>>28),N=D+(I^M^k)+O[0]+3936430074&4294967295,D=I+(N<<11&4294967295|N>>>21),N=k+(D^I^M)+O[3]+3572445317&4294967295,k=D+(N<<16&4294967295|N>>>16),N=M+(k^D^I)+O[6]+76029189&4294967295,M=k+(N<<23&4294967295|N>>>9),N=I+(M^k^D)+O[9]+3654602809&4294967295,I=M+(N<<4&4294967295|N>>>28),N=D+(I^M^k)+O[12]+3873151461&4294967295,D=I+(N<<11&4294967295|N>>>21),N=k+(D^I^M)+O[15]+530742520&4294967295,k=D+(N<<16&4294967295|N>>>16),N=M+(k^D^I)+O[2]+3299628645&4294967295,M=k+(N<<23&4294967295|N>>>9),N=I+(k^(M|~D))+O[0]+4096336452&4294967295,I=M+(N<<6&4294967295|N>>>26),N=D+(M^(I|~k))+O[7]+1126891415&4294967295,D=I+(N<<10&4294967295|N>>>22),N=k+(I^(D|~M))+O[14]+2878612391&4294967295,k=D+(N<<15&4294967295|N>>>17),N=M+(D^(k|~I))+O[5]+4237533241&4294967295,M=k+(N<<21&4294967295|N>>>11),N=I+(k^(M|~D))+O[12]+1700485571&4294967295,I=M+(N<<6&4294967295|N>>>26),N=D+(M^(I|~k))+O[3]+2399980690&4294967295,D=I+(N<<10&4294967295|N>>>22),N=k+(I^(D|~M))+O[10]+4293915773&4294967295,k=D+(N<<15&4294967295|N>>>17),N=M+(D^(k|~I))+O[1]+2240044497&4294967295,M=k+(N<<21&4294967295|N>>>11),N=I+(k^(M|~D))+O[8]+1873313359&4294967295,I=M+(N<<6&4294967295|N>>>26),N=D+(M^(I|~k))+O[15]+4264355552&4294967295,D=I+(N<<10&4294967295|N>>>22),N=k+(I^(D|~M))+O[6]+2734768916&4294967295,k=D+(N<<15&4294967295|N>>>17),N=M+(D^(k|~I))+O[13]+1309151649&4294967295,M=k+(N<<21&4294967295|N>>>11),N=I+(k^(M|~D))+O[4]+4149444226&4294967295,I=M+(N<<6&4294967295|N>>>26),N=D+(M^(I|~k))+O[11]+3174756917&4294967295,D=I+(N<<10&4294967295|N>>>22),N=k+(I^(D|~M))+O[2]+718787259&4294967295,k=D+(N<<15&4294967295|N>>>17),N=M+(D^(k|~I))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+D&4294967295}r.prototype.u=function(C,I){I===void 0&&(I=C.length);for(var M=I-this.blockSize,O=this.B,k=this.h,D=0;D<I;){if(k==0)for(;D<=M;)o(this,C,D),D+=this.blockSize;if(typeof C=="string"){for(;D<I;)if(O[k++]=C.charCodeAt(D++),k==this.blockSize){o(this,O),k=0;break}}else for(;D<I;)if(O[k++]=C[D++],k==this.blockSize){o(this,O),k=0;break}}this.h=k,this.o+=I},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;var M=8*this.o;for(I=C.length-8;I<C.length;++I)C[I]=M&255,M/=256;for(this.u(C),C=Array(16),I=M=0;4>I;++I)for(var O=0;32>O;O+=8)C[M++]=this.g[I]>>>O&255;return C};function a(C,I){var M=f;return Object.prototype.hasOwnProperty.call(M,C)?M[C]:M[C]=I(C)}function u(C,I){this.h=I;for(var M=[],O=!0,k=C.length-1;0<=k;k--){var D=C[k]|0;O&&D==I||(M[k]=D,O=!1)}this.g=M}var f={};function h(C){return-128<=C&&128>C?a(C,function(I){return new u([I|0],0>I?-1:0)}):new u([C|0],0>C?-1:0)}function m(C){if(isNaN(C)||!isFinite(C))return g;if(0>C)return _(m(-C));for(var I=[],M=1,O=0;C>=M;O++)I[O]=C/M|0,M*=4294967296;return new u(I,0)}function v(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return _(v(C.substring(1),I));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=m(Math.pow(I,8)),O=g,k=0;k<C.length;k+=8){var D=Math.min(8,C.length-k),N=parseInt(C.substring(k,k+D),I);8>D?(D=m(Math.pow(I,D)),O=O.j(D).add(m(N))):(O=O.j(M),O=O.add(m(N)))}return O}var g=h(0),d=h(1),y=h(16777216);n=u.prototype,n.m=function(){if(b(this))return-_(this).m();for(var C=0,I=1,M=0;M<this.g.length;M++){var O=this.i(M);C+=(0<=O?O:4294967296+O)*I,I*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(T(this))return"0";if(b(this))return"-"+_(this).toString(C);for(var I=m(Math.pow(C,6)),M=this,O="";;){var k=E(M,I).g;M=w(M,k.j(I));var D=((0<M.g.length?M.g[0]:M.h)>>>0).toString(C);if(M=k,T(M))return D+O;for(;6>D.length;)D="0"+D;O=D+O}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function T(C){if(C.h!=0)return!1;for(var I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function b(C){return C.h==-1}n.l=function(C){return C=w(this,C),b(C)?-1:T(C)?0:1};function _(C){for(var I=C.g.length,M=[],O=0;O<I;O++)M[O]=~C.g[O];return new u(M,~C.h).add(d)}n.abs=function(){return b(this)?_(this):this},n.add=function(C){for(var I=Math.max(this.g.length,C.g.length),M=[],O=0,k=0;k<=I;k++){var D=O+(this.i(k)&65535)+(C.i(k)&65535),N=(D>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);O=N>>>16,D&=65535,N&=65535,M[k]=N<<16|D}return new u(M,M[M.length-1]&-2147483648?-1:0)};function w(C,I){return C.add(_(I))}n.j=function(C){if(T(this)||T(C))return g;if(b(this))return b(C)?_(this).j(_(C)):_(_(this).j(C));if(b(C))return _(this.j(_(C)));if(0>this.l(y)&&0>C.l(y))return m(this.m()*C.m());for(var I=this.g.length+C.g.length,M=[],O=0;O<2*I;O++)M[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<C.g.length;k++){var D=this.i(O)>>>16,N=this.i(O)&65535,H=C.i(k)>>>16,G=C.i(k)&65535;M[2*O+2*k]+=N*G,S(M,2*O+2*k),M[2*O+2*k+1]+=D*G,S(M,2*O+2*k+1),M[2*O+2*k+1]+=N*H,S(M,2*O+2*k+1),M[2*O+2*k+2]+=D*H,S(M,2*O+2*k+2)}for(O=0;O<I;O++)M[O]=M[2*O+1]<<16|M[2*O];for(O=I;O<2*I;O++)M[O]=0;return new u(M,0)};function S(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function R(C,I){this.g=C,this.h=I}function E(C,I){if(T(I))throw Error("division by zero");if(T(C))return new R(g,g);if(b(C))return I=E(_(C),I),new R(_(I.g),_(I.h));if(b(I))return I=E(C,_(I)),new R(_(I.g),I.h);if(30<C.g.length){if(b(C)||b(I))throw Error("slowDivide_ only works with positive integers.");for(var M=d,O=I;0>=O.l(C);)M=L(M),O=L(O);var k=U(M,1),D=U(O,1);for(O=U(O,2),M=U(M,2);!T(O);){var N=D.add(O);0>=N.l(C)&&(k=k.add(M),D=N),O=U(O,1),M=U(M,1)}return I=w(C,k.j(I)),new R(k,I)}for(k=g;0<=C.l(I);){for(M=Math.max(1,Math.floor(C.m()/I.m())),O=Math.ceil(Math.log(M)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),D=m(M),N=D.j(I);b(N)||0<N.l(C);)M-=O,D=m(M),N=D.j(I);T(D)&&(D=d),k=k.add(D),C=w(C,N)}return new R(k,C)}n.A=function(C){return E(this,C).h},n.and=function(C){for(var I=Math.max(this.g.length,C.g.length),M=[],O=0;O<I;O++)M[O]=this.i(O)&C.i(O);return new u(M,this.h&C.h)},n.or=function(C){for(var I=Math.max(this.g.length,C.g.length),M=[],O=0;O<I;O++)M[O]=this.i(O)|C.i(O);return new u(M,this.h|C.h)},n.xor=function(C){for(var I=Math.max(this.g.length,C.g.length),M=[],O=0;O<I;O++)M[O]=this.i(O)^C.i(O);return new u(M,this.h^C.h)};function L(C){for(var I=C.g.length+1,M=[],O=0;O<I;O++)M[O]=C.i(O)<<1|C.i(O-1)>>>31;return new u(M,C.h)}function U(C,I){var M=I>>5;I%=32;for(var O=C.g.length-M,k=[],D=0;D<O;D++)k[D]=0<I?C.i(D+M)>>>I|C.i(D+M+1)<<32-I:C.i(D+M);return new u(k,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,cT=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Gi=u}).apply(typeof G_<"u"?G_:typeof self<"u"?self:typeof window<"u"?window:{});var fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fT,ul,hT,Sc,ym,dT,pT,mT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,P,V){return c==Array.prototype||c==Object.prototype||(c[P]=V.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof fc=="object"&&fc];for(var P=0;P<c.length;++P){var V=c[P];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var r=t(this);function o(c,P){if(P)e:{var V=r;c=c.split(".");for(var z=0;z<c.length-1;z++){var ae=c[z];if(!(ae in V))break e;V=V[ae]}c=c[c.length-1],z=V[c],P=P(z),P!=z&&P!=null&&e(V,c,{configurable:!0,writable:!0,value:P})}}function a(c,P){c instanceof String&&(c+="");var V=0,z=!1,ae={next:function(){if(!z&&V<c.length){var fe=V++;return{value:P(fe,c[fe]),done:!1}}return z=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}o("Array.prototype.values",function(c){return c||function(){return a(this,function(P,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function h(c){var P=typeof c;return P=P!="object"?P:c?Array.isArray(c)?"array":P:"null",P=="array"||P=="object"&&typeof c.length=="number"}function m(c){var P=typeof c;return P=="object"&&c!=null||P=="function"}function v(c,P,V){return c.call.apply(c.bind,arguments)}function g(c,P,V){if(!c)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,z),c.apply(P,ae)}}return function(){return c.apply(P,arguments)}}function d(c,P,V){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:g,d.apply(null,arguments)}function y(c,P){var V=Array.prototype.slice.call(arguments,1);return function(){var z=V.slice();return z.push.apply(z,arguments),c.apply(this,z)}}function T(c,P){function V(){}V.prototype=P.prototype,c.aa=P.prototype,c.prototype=new V,c.prototype.constructor=c,c.Qb=function(z,ae,fe){for(var Se=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)Se[dt-2]=arguments[dt];return P.prototype[ae].apply(z,Se)}}function b(c){const P=c.length;if(0<P){const V=Array(P);for(let z=0;z<P;z++)V[z]=c[z];return V}return[]}function _(c,P){for(let V=1;V<arguments.length;V++){const z=arguments[V];if(h(z)){const ae=c.length||0,fe=z.length||0;c.length=ae+fe;for(let Se=0;Se<fe;Se++)c[ae+Se]=z[Se]}else c.push(z)}}class w{constructor(P,V){this.i=P,this.j=V,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function S(c){return/^[\s\xa0]*$/.test(c)}function R(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function E(c){return E[" "](c),c}E[" "]=function(){};var L=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function U(c,P,V){for(const z in c)P.call(V,c[z],z,c)}function C(c,P){for(const V in c)P.call(void 0,c[V],V,c)}function I(c){const P={};for(const V in c)P[V]=c[V];return P}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,P){let V,z;for(let ae=1;ae<arguments.length;ae++){z=arguments[ae];for(V in z)c[V]=z[V];for(let fe=0;fe<M.length;fe++)V=M[fe],Object.prototype.hasOwnProperty.call(z,V)&&(c[V]=z[V])}}function k(c){var P=1;c=c.split(":");const V=[];for(;0<P&&c.length;)V.push(c.shift()),P--;return c.length&&V.push(c.join(":")),V}function D(c){f.setTimeout(()=>{throw c},0)}function N(){var c=Y;let P=null;return c.g&&(P=c.g,c.g=c.g.next,c.g||(c.h=null),P.next=null),P}class H{constructor(){this.h=this.g=null}add(P,V){const z=G.get();z.set(P,V),this.h?this.h.next=z:this.g=z,this.h=z}}var G=new w(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(P,V){this.h=P,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let te,ie=!1,Y=new H,W=()=>{const c=f.Promise.resolve(void 0);te=()=>{c.then(j)}};var j=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(V){D(V)}var P=G;P.j(c),100>P.h&&(P.h++,c.next=P.g,P.g=c)}ie=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(c,P){this.type=c,this.g=this.target=P,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var ne=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,P=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const V=()=>{};f.addEventListener("test",V,P),f.removeEventListener("test",V,P)}catch{}return c}();function ee(c,P){if(K.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var V=this.type=c.type,z=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=P,P=c.relatedTarget){if(L){e:{try{E(P.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(P=null)}}else V=="mouseover"?P=c.fromElement:V=="mouseout"&&(P=c.toElement);this.relatedTarget=P,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:$[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ee.aa.h.call(this)}}T(ee,K);var $={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),oe=0;function se(c,P,V,z,ae){this.listener=c,this.proxy=null,this.src=P,this.type=V,this.capture=!!z,this.ha=ae,this.key=++oe,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ie(c){this.src=c,this.g={},this.h=0}Ie.prototype.add=function(c,P,V,z,ae){var fe=c.toString();c=this.g[fe],c||(c=this.g[fe]=[],this.h++);var Se=Ve(c,P,z,ae);return-1<Se?(P=c[Se],V||(P.fa=!1)):(P=new se(P,this.src,fe,!!z,ae),P.fa=V,c.push(P)),P};function De(c,P){var V=P.type;if(V in c.g){var z=c.g[V],ae=Array.prototype.indexOf.call(z,P,void 0),fe;(fe=0<=ae)&&Array.prototype.splice.call(z,ae,1),fe&&(pe(P),c.g[V].length==0&&(delete c.g[V],c.h--))}}function Ve(c,P,V,z){for(var ae=0;ae<c.length;++ae){var fe=c[ae];if(!fe.da&&fe.listener==P&&fe.capture==!!V&&fe.ha==z)return ae}return-1}var We="closure_lm_"+(1e6*Math.random()|0),Je={};function Nt(c,P,V,z,ae){if(Array.isArray(P)){for(var fe=0;fe<P.length;fe++)Nt(c,P[fe],V,z,ae);return null}return V=Ke(V),c&&c[J]?c.K(P,V,m(z)?!!z.capture:!1,ae):yt(c,P,V,!1,z,ae)}function yt(c,P,V,z,ae,fe){if(!P)throw Error("Invalid event type");var Se=m(ae)?!!ae.capture:!!ae,dt=Be(c);if(dt||(c[We]=dt=new Ie(c)),V=dt.add(P,V,z,Se,fe),V.proxy)return V;if(z=he(),V.proxy=z,z.src=c,z.listener=V,c.addEventListener)ne||(ae=Se),ae===void 0&&(ae=!1),c.addEventListener(P.toString(),z,ae);else if(c.attachEvent)c.attachEvent(Ae(P.toString()),z);else if(c.addListener&&c.removeListener)c.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return V}function he(){function c(V){return P.call(c.src,c.listener,V)}const P=ye;return c}function me(c,P,V,z,ae){if(Array.isArray(P))for(var fe=0;fe<P.length;fe++)me(c,P[fe],V,z,ae);else z=m(z)?!!z.capture:!!z,V=Ke(V),c&&c[J]?(c=c.i,P=String(P).toString(),P in c.g&&(fe=c.g[P],V=Ve(fe,V,z,ae),-1<V&&(pe(fe[V]),Array.prototype.splice.call(fe,V,1),fe.length==0&&(delete c.g[P],c.h--)))):c&&(c=Be(c))&&(P=c.g[P.toString()],c=-1,P&&(c=Ve(P,V,z,ae)),(V=-1<c?P[c]:null)&&be(V))}function be(c){if(typeof c!="number"&&c&&!c.da){var P=c.src;if(P&&P[J])De(P.i,c);else{var V=c.type,z=c.proxy;P.removeEventListener?P.removeEventListener(V,z,c.capture):P.detachEvent?P.detachEvent(Ae(V),z):P.addListener&&P.removeListener&&P.removeListener(z),(V=Be(P))?(De(V,c),V.h==0&&(V.src=null,P[We]=null)):pe(c)}}}function Ae(c){return c in Je?Je[c]:Je[c]="on"+c}function ye(c,P){if(c.da)c=!0;else{P=new ee(P,this);var V=c.listener,z=c.ha||c.src;c.fa&&be(c),c=V.call(z,P)}return c}function Be(c){return c=c[We],c instanceof Ie?c:null}var ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ke(c){return typeof c=="function"?c:(c[ze]||(c[ze]=function(P){return c.handleEvent(P)}),c[ze])}function lt(){B.call(this),this.i=new Ie(this),this.M=this,this.F=null}T(lt,B),lt.prototype[J]=!0,lt.prototype.removeEventListener=function(c,P,V,z){me(this,c,P,V,z)};function ft(c,P){var V,z=c.F;if(z)for(V=[];z;z=z.F)V.push(z);if(c=c.M,z=P.type||P,typeof P=="string")P=new K(P,c);else if(P instanceof K)P.target=P.target||c;else{var ae=P;P=new K(z,c),O(P,ae)}if(ae=!0,V)for(var fe=V.length-1;0<=fe;fe--){var Se=P.g=V[fe];ae=st(Se,z,!0,P)&&ae}if(Se=P.g=c,ae=st(Se,z,!0,P)&&ae,ae=st(Se,z,!1,P)&&ae,V)for(fe=0;fe<V.length;fe++)Se=P.g=V[fe],ae=st(Se,z,!1,P)&&ae}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,P;for(P in c.g){for(var V=c.g[P],z=0;z<V.length;z++)pe(V[z]);delete c.g[P],c.h--}}this.F=null},lt.prototype.K=function(c,P,V,z){return this.i.add(String(c),P,!1,V,z)},lt.prototype.L=function(c,P,V,z){return this.i.add(String(c),P,!0,V,z)};function st(c,P,V,z){if(P=c.i.g[String(P)],!P)return!0;P=P.concat();for(var ae=!0,fe=0;fe<P.length;++fe){var Se=P[fe];if(Se&&!Se.da&&Se.capture==V){var dt=Se.listener,jt=Se.ha||Se.src;Se.fa&&De(c.i,Se),ae=dt.call(jt,z)!==!1&&ae}}return ae&&!z.defaultPrevented}function ao(c,P,V){if(typeof c=="function")V&&(c=d(c,V));else if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(P)?-1:f.setTimeout(c,P||0)}function ht(c){c.g=ao(()=>{c.g=null,c.i&&(c.i=!1,ht(c))},c.l);const P=c.h;c.h=null,c.m.apply(null,P)}class nn extends B{constructor(P,V){super(),this.m=P,this.l=V,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:ht(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lo(c){B.call(this),this.h=c,this.g={}}T(lo,B);var ma=[];function ga(c){U(c.g,function(P,V){this.g.hasOwnProperty(V)&&be(P)},c),c.g={}}lo.prototype.N=function(){lo.aa.N.call(this),ga(this)},lo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ya=f.JSON.stringify,va=f.JSON.parse,_a=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function uo(){}uo.prototype.h=null;function Xo(c){return c.h||(c.h=c.i())}function Yo(){}var Vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hr(){K.call(this,"d")}T(hr,K);function Jo(){K.call(this,"c")}T(Jo,K);var dr={},Ea=null;function co(){return Ea=Ea||new lt}dr.La="serverreachability";function wa(c){K.call(this,dr.La,c)}T(wa,K);function Vr(c){const P=co();ft(P,new wa(P))}dr.STAT_EVENT="statevent";function Ta(c,P){K.call(this,dr.STAT_EVENT,c),this.stat=P}T(Ta,K);function Pt(c){const P=co();ft(P,new Ta(P,c))}dr.Ma="timingevent";function Zo(c,P){K.call(this,dr.Ma,c),this.size=P}T(Zo,K);function Gn(c,P){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},P)}function fo(){this.g=!0}fo.prototype.xa=function(){this.g=!1};function ho(c,P,V,z,ae,fe){c.info(function(){if(c.g)if(fe)for(var Se="",dt=fe.split("&"),jt=0;jt<dt.length;jt++){var rt=dt[jt].split("=");if(1<rt.length){var zt=rt[0];rt=rt[1];var Dt=zt.split("_");Se=2<=Dt.length&&Dt[1]=="type"?Se+(zt+"="+rt+"&"):Se+(zt+"=redacted&")}}else Se=null;else Se=fe;return"XMLHTTP REQ ("+z+") [attempt "+ae+"]: "+P+`
`+V+`
`+Se})}function es(c,P,V,z,ae,fe,Se){c.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+ae+"]: "+P+`
`+V+`
`+fe+" "+Se})}function Qn(c,P,V,z){c.info(function(){return"XMLHTTP TEXT ("+P+"): "+xf(c,V)+(z?" "+z:"")})}function ba(c,P){c.info(function(){return"TIMEOUT: "+P})}fo.prototype.info=function(){};function xf(c,P){if(!c.g)return P;if(!P)return null;try{var V=JSON.parse(P);if(V){for(c=0;c<V.length;c++)if(Array.isArray(V[c])){var z=V[c];if(!(2>z.length)){var ae=z[1];if(Array.isArray(ae)&&!(1>ae.length)){var fe=ae[0];if(fe!="noop"&&fe!="stop"&&fe!="close")for(var Se=1;Se<ae.length;Se++)ae[Se]=""}}}}return ya(V)}catch{return P}}var ts={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xn;function po(){}T(po,uo),po.prototype.g=function(){return new XMLHttpRequest},po.prototype.i=function(){return{}},Xn=new po;function Yn(c,P,V,z){this.j=c,this.i=P,this.l=V,this.R=z||1,this.U=new lo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wl}function Wl(){this.i=null,this.g="",this.h=!1}var Sa={},ns={};function rs(c,P,V){c.L=1,c.v=yi(Cn(P)),c.m=V,c.P=!0,Aa(c,null)}function Aa(c,P){c.F=Date.now(),mt(c),c.A=Cn(c.v);var V=c.A,z=c.R;Array.isArray(z)||(z=[String(z)]),_i(V.i,"t",z),c.C=0,V=c.j.J,c.h=new Wl,c.g=cu(c.j,V?P:null,!c.m),0<c.O&&(c.M=new nn(d(c.Y,c,c.g),c.O)),P=c.U,V=c.g,z=c.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(ma[0]=ae.toString()),ae=ma);for(var fe=0;fe<ae.length;fe++){var Se=Nt(V,ae[fe],z||P.handleEvent,!1,P.h||P);if(!Se)break;P.g[Se.key]=Se}P=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,P)):(c.u="GET",c.g.ea(c.A,c.u,null,P)),Vr(),ho(c.i,c.u,c.A,c.l,c.R,c.m)}Yn.prototype.ca=function(c){c=c.target;const P=this.M;P&&vn(c)==3?P.j():this.Y(c)},Yn.prototype.Y=function(c){try{if(c==this.g)e:{const Dt=vn(this.g);var P=this.g.Ba();const qn=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||xa(this.g)))){this.J||Dt!=4||P==7||(P==8||0>=qn?Vr(3):Vr(2)),mo(this);var V=this.g.Z();this.X=V;t:if(Kl(this)){var z=xa(this.g);c="";var ae=z.length,fe=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Un(this),di(this);var Se="";break t}this.h.i=new f.TextDecoder}for(P=0;P<ae;P++)this.h.h=!0,c+=this.h.i.decode(z[P],{stream:!(fe&&P==ae-1)});z.length=0,this.h.g+=c,this.C=0,Se=this.h.g}else Se=this.g.oa();if(this.o=V==200,es(this.i,this.u,this.A,this.l,this.R,Dt,V),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,jt=this.g;if((dt=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(dt)){var rt=dt;break t}}rt=null}if(V=rt)Qn(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ia(this,V);else{this.o=!1,this.s=3,Pt(12),Un(this),di(this);break e}}if(this.P){V=!0;let xn;for(;!this.J&&this.C<Se.length;)if(xn=Of(this,Se),xn==ns){Dt==4&&(this.s=4,Pt(14),V=!1),Qn(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==Sa){this.s=4,Pt(15),Qn(this.i,this.l,Se,"[Invalid Chunk]"),V=!1;break}else Qn(this.i,this.l,xn,null),Ia(this,xn);if(Kl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||Se.length!=0||this.h.h||(this.s=1,Pt(16),V=!1),this.o=this.o&&V,!V)Qn(this.i,this.l,Se,"[Invalid Chunked Response]"),Un(this),di(this);else if(0<Se.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+Se.length),Na(zt),zt.M=!0,Pt(11))}}else Qn(this.i,this.l,Se,null),Ia(this,Se);Dt==4&&Un(this),this.o&&!this.J&&(Dt==4?ps(this.j,this):(this.o=!1,mt(this)))}else us(this.g),V==400&&0<Se.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),Un(this),di(this)}}}catch{}finally{}};function Kl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Of(c,P){var V=c.C,z=P.indexOf(`
`,V);return z==-1?ns:(V=Number(P.substring(V,z)),isNaN(V)?Sa:(z+=1,z+V>P.length?ns:(P=P.slice(z,z+V),c.C=z+V,P)))}Yn.prototype.cancel=function(){this.J=!0,Un(this)};function mt(c){c.S=Date.now()+c.I,Gl(c,c.I)}function Gl(c,P){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Gn(d(c.ba,c),P)}function mo(c){c.B&&(f.clearTimeout(c.B),c.B=null)}Yn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ba(this.i,this.A),this.L!=2&&(Vr(),Pt(17)),Un(this),this.s=2,di(this)):Gl(this,this.S-c)};function di(c){c.j.G==0||c.J||ps(c.j,c)}function Un(c){mo(c);var P=c.M;P&&typeof P.ma=="function"&&P.ma(),c.M=null,ga(c.U),c.g&&(P=c.g,c.g=null,P.abort(),P.ma())}function Ia(c,P){try{var V=c.j;if(V.G!=0&&(V.g==c||hn(V.h,c))){if(!c.K&&hn(V.h,c)&&V.G==3){try{var z=V.Da.g.parse(P)}catch{z=null}if(Array.isArray(z)&&z.length==3){var ae=z;if(ae[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<c.F)ds(V),nr(V);else break e;hs(V),Pt(18)}}else V.za=ae[1],0<V.za-V.T&&37500>ae[2]&&V.F&&V.v==0&&!V.C&&(V.C=Gn(d(V.Za,V),6e3));if(1>=Xl(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else zr(V,11)}else if((c.K||V.g==c)&&ds(V),!S(P))for(ae=V.Da.g.parse(P),P=0;P<ae.length;P++){let rt=ae[P];if(V.T=rt[0],rt=rt[1],V.G==2)if(rt[0]=="c"){V.K=rt[1],V.ia=rt[2];const zt=rt[3];zt!=null&&(V.la=zt,V.j.info("VER="+V.la));const Dt=rt[4];Dt!=null&&(V.Aa=Dt,V.j.info("SVER="+V.Aa));const qn=rt[5];qn!=null&&typeof qn=="number"&&0<qn&&(z=1.5*qn,V.L=z,V.j.info("backChannelRequestTimeoutMs_="+z)),z=V;const xn=c.g;if(xn){const To=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(To){var fe=z.h;fe.g||To.indexOf("spdy")==-1&&To.indexOf("quic")==-1&&To.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(ka(fe,fe.h),fe.h=null))}if(z.D){const gs=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;gs&&(z.ya=gs,pt(z.I,z.D,gs))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-c.F,V.j.info("Handshake RTT: "+V.R+"ms")),z=V;var Se=c;if(z.qa=uu(z,z.J?z.ia:null,z.W),Se.K){Yl(z.h,Se);var dt=Se,jt=z.L;jt&&(dt.I=jt),dt.B&&(mo(dt),mt(dt)),z.g=Se}else wo(z);0<V.i.length&&yr(V)}else rt[0]!="stop"&&rt[0]!="close"||zr(V,7);else V.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?zr(V,7):Xt(V):rt[0]!="noop"&&V.l&&V.l.ta(rt),V.v=0)}}Vr(4)}catch{}}var Ql=class{constructor(c,P){this.g=c,this.map=P}};function go(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Xl(c){return c.h?1:c.g?c.g.size:0}function hn(c,P){return c.h?c.h==P:c.g?c.g.has(P):!1}function ka(c,P){c.g?c.g.add(P):c.h=P}function Yl(c,P){c.h&&c.h==P?c.h=null:c.g&&c.g.has(P)&&c.g.delete(P)}go.prototype.cancel=function(){if(this.i=Jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Jl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let P=c.i;for(const V of c.g.values())P=P.concat(V.D);return P}return b(c.i)}function is(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(h(c)){for(var P=[],V=c.length,z=0;z<V;z++)P.push(c[z]);return P}P=[],V=0;for(z in c)P[V++]=c[z];return P}function os(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(h(c)||typeof c=="string"){var P=[];c=c.length;for(var V=0;V<c;V++)P.push(V);return P}P=[],V=0;for(const z in c)P[V++]=z;return P}}}function pi(c,P){if(c.forEach&&typeof c.forEach=="function")c.forEach(P,void 0);else if(h(c)||typeof c=="string")Array.prototype.forEach.call(c,P,void 0);else for(var V=os(c),z=is(c),ae=z.length,fe=0;fe<ae;fe++)P.call(void 0,z[fe],V&&V[fe],c)}var yo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nf(c,P){if(c){c=c.split("&");for(var V=0;V<c.length;V++){var z=c[V].indexOf("="),ae=null;if(0<=z){var fe=c[V].substring(0,z);ae=c[V].substring(z+1)}else fe=c[V];P(fe,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Ur(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ur){this.h=c.h,vo(this,c.j),this.o=c.o,this.g=c.g,mi(this,c.s),this.l=c.l;var P=c.i,V=new pr;V.i=P.i,P.g&&(V.g=new Map(P.g),V.h=P.h),gi(this,V),this.m=c.m}else c&&(P=String(c).match(yo))?(this.h=!1,vo(this,P[1]||"",!0),this.o=nt(P[2]||""),this.g=nt(P[3]||"",!0),mi(this,P[4]),this.l=nt(P[5]||"",!0),gi(this,P[6]||"",!0),this.m=nt(P[7]||"")):(this.h=!1,this.i=new pr(null,this.h))}Ur.prototype.toString=function(){var c=[],P=this.j;P&&c.push(vi(P,ss,!0),":");var V=this.g;return(V||P=="file")&&(c.push("//"),(P=this.o)&&c.push(vi(P,ss,!0),"@"),c.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&c.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&c.push("/"),c.push(vi(V,V.charAt(0)=="/"?tu:eu,!0))),(V=this.i.toString())&&c.push("?",V),(V=this.m)&&c.push("#",vi(V,Ra)),c.join("")};function Cn(c){return new Ur(c)}function vo(c,P,V){c.j=V?nt(P,!0):P,c.j&&(c.j=c.j.replace(/:$/,""))}function mi(c,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);c.s=P}else c.s=null}function gi(c,P,V){P instanceof pr?(c.i=P,mr(c.i,c.h)):(V||(P=vi(P,nu)),c.i=new pr(P,c.h))}function pt(c,P,V){c.i.set(P,V)}function yi(c){return pt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function nt(c,P){return c?P?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vi(c,P,V){return typeof c=="string"?(c=encodeURI(c).replace(P,Zl),V&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Zl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ss=/[#\/\?@]/g,eu=/[#\?:]/g,tu=/[#\?]/g,nu=/[#\?@]/g,Ra=/#/g;function pr(c,P){this.h=this.g=null,this.i=c||null,this.j=!!P}function Qt(c){c.g||(c.g=new Map,c.h=0,c.i&&Nf(c.i,function(P,V){c.add(decodeURIComponent(P.replace(/\+/g," ")),V)}))}n=pr.prototype,n.add=function(c,P){Qt(this),this.i=null,c=Fn(this,c);var V=this.g.get(c);return V||this.g.set(c,V=[]),V.push(P),this.h+=1,this};function Jn(c,P){Qt(c),P=Fn(c,P),c.g.has(P)&&(c.i=null,c.h-=c.g.get(P).length,c.g.delete(P))}function Zn(c,P){return Qt(c),P=Fn(c,P),c.g.has(P)}n.forEach=function(c,P){Qt(this),this.g.forEach(function(V,z){V.forEach(function(ae){c.call(P,ae,z,this)},this)},this)},n.na=function(){Qt(this);const c=Array.from(this.g.values()),P=Array.from(this.g.keys()),V=[];for(let z=0;z<P.length;z++){const ae=c[z];for(let fe=0;fe<ae.length;fe++)V.push(P[z])}return V},n.V=function(c){Qt(this);let P=[];if(typeof c=="string")Zn(this,c)&&(P=P.concat(this.g.get(Fn(this,c))));else{c=Array.from(this.g.values());for(let V=0;V<c.length;V++)P=P.concat(c[V])}return P},n.set=function(c,P){return Qt(this),this.i=null,c=Fn(this,c),Zn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[P]),this.h+=1,this},n.get=function(c,P){return c?(c=this.V(c),0<c.length?String(c[0]):P):P};function _i(c,P,V){Jn(c,P),0<V.length&&(c.i=null,c.g.set(Fn(c,P),b(V)),c.h+=V.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],P=Array.from(this.g.keys());for(var V=0;V<P.length;V++){var z=P[V];const fe=encodeURIComponent(String(z)),Se=this.V(z);for(z=0;z<Se.length;z++){var ae=fe;Se[z]!==""&&(ae+="="+encodeURIComponent(String(Se[z]))),c.push(ae)}}return this.i=c.join("&")};function Fn(c,P){return P=String(P),c.j&&(P=P.toLowerCase()),P}function mr(c,P){P&&!c.j&&(Qt(c),c.i=null,c.g.forEach(function(V,z){var ae=z.toLowerCase();z!=ae&&(Jn(this,z),_i(this,ae,V))},c)),c.j=P}function Df(c,P){const V=new fo;if(f.Image){const z=new Image;z.onload=y(yn,V,"TestLoadImage: loaded",!0,P,z),z.onerror=y(yn,V,"TestLoadImage: error",!1,P,z),z.onabort=y(yn,V,"TestLoadImage: abort",!1,P,z),z.ontimeout=y(yn,V,"TestLoadImage: timeout",!1,P,z),f.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=c}else P(!1)}function ru(c,P){const V=new fo,z=new AbortController,ae=setTimeout(()=>{z.abort(),yn(V,"TestPingServer: timeout",!1,P)},1e4);fetch(c,{signal:z.signal}).then(fe=>{clearTimeout(ae),fe.ok?yn(V,"TestPingServer: ok",!0,P):yn(V,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(ae),yn(V,"TestPingServer: error",!1,P)})}function yn(c,P,V,z,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),z(V)}catch{}}function Lf(){this.g=new _a}function iu(c,P,V){const z=V||"";try{pi(c,function(ae,fe){let Se=ae;m(ae)&&(Se=ya(ae)),P.push(z+fe+"="+encodeURIComponent(Se))})}catch(ae){throw P.push(z+"type="+encodeURIComponent("_badmap")),ae}}function Fr(c){this.l=c.Ub||null,this.j=c.eb||!1}T(Fr,uo),Fr.prototype.g=function(){return new _o(this.l,this.j)},Fr.prototype.i=function(c){return function(){return c}}({});function _o(c,P){lt.call(this),this.D=c,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(_o,lt),n=_o.prototype,n.open=function(c,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=P,this.readyState=1,tr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(P.body=c),(this.D||f).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,er(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,tr(this)),this.g&&(this.readyState=3,tr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ou(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ou(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var P=c.value?c.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!c.done}))&&(this.response=this.responseText+=P)}c.done?er(this):tr(this),this.readyState==3&&ou(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,er(this))},n.Qa=function(c){this.g&&(this.response=c,er(this))},n.ga=function(){this.g&&er(this)};function er(c){c.readyState=4,c.l=null,c.j=null,c.v=null,tr(c)}n.setRequestHeader=function(c,P){this.u.append(c,P)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],P=this.h.entries();for(var V=P.next();!V.done;)V=V.value,c.push(V[0]+": "+V[1]),V=P.next();return c.join(`\r
`)};function tr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(_o.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qr(c){let P="";return U(c,function(V,z){P+=z,P+=":",P+=V,P+=`\r
`}),P}function Ei(c,P,V){e:{for(z in V){var z=!1;break e}z=!0}z||(V=qr(V),typeof c=="string"?V!=null&&encodeURIComponent(String(V)):pt(c,P,V))}function wt(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(wt,lt);var Mf=/^https?$/i,Ca=["POST","PUT"];n=wt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,P,V,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);P=P?P.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xn.g(),this.v=this.o?Xo(this.o):Xo(Xn),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(P,String(c),!0),this.B=!1}catch(fe){Eo(this,fe);return}if(c=V||"",V=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var ae in z)V.set(ae,z[ae]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const fe of z.keys())V.set(fe,z.get(fe));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(V.keys()).find(fe=>fe.toLowerCase()=="content-type"),ae=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ca,P,void 0))||z||ae||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Se]of V)this.g.setRequestHeader(fe,Se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ls(this),this.u=!0,this.g.send(c),this.u=!1}catch(fe){Eo(this,fe)}};function Eo(c,P){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=P,c.m=5,as(c),Pn(c)}function as(c){c.A||(c.A=!0,ft(c,"complete"),ft(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ft(this,"complete"),ft(this,"abort"),Pn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pn(this,!0)),wt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Pa(this):this.bb())},n.bb=function(){Pa(this)};function Pa(c){if(c.h&&typeof u<"u"&&(!c.v[1]||vn(c)!=4||c.Z()!=2)){if(c.u&&vn(c)==4)ao(c.Ea,0,c);else if(ft(c,"readystatechange"),vn(c)==4){c.h=!1;try{const Se=c.Z();e:switch(Se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var V;if(!(V=P)){var z;if(z=Se===0){var ae=String(c.D).match(yo)[1]||null;!ae&&f.self&&f.self.location&&(ae=f.self.location.protocol.slice(0,-1)),z=!Mf.test(ae?ae.toLowerCase():"")}V=z}if(V)ft(c,"complete"),ft(c,"success");else{c.m=6;try{var fe=2<vn(c)?c.g.statusText:""}catch{fe=""}c.l=fe+" ["+c.Z()+"]",as(c)}}finally{Pn(c)}}}}function Pn(c,P){if(c.g){ls(c);const V=c.g,z=c.v[0]?()=>{}:null;c.g=null,c.v=null,P||ft(c,"ready");try{V.onreadystatechange=z}catch{}}}function ls(c){c.I&&(f.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function vn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var P=this.g.responseText;return c&&P.indexOf(c)==0&&(P=P.substring(c.length)),va(P)}};function xa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function us(c){const P={};c=(c.g&&2<=vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<c.length;z++){if(S(c[z]))continue;var V=k(c[z]);const ae=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const fe=P[ae]||[];P[ae]=fe,fe.push(V)}C(P,function(z){return z.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gr(c,P,V){return V&&V.internalChannelParams&&V.internalChannelParams[c]||P}function Oa(c){this.Aa=0,this.i=[],this.j=new fo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gr("baseRetryDelayMs",5e3,c),this.cb=gr("retryDelaySeedMs",1e4,c),this.Wa=gr("forwardChannelMaxRetries",2,c),this.wa=gr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new go(c&&c.concurrentRequestLimit),this.Da=new Lf,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Oa.prototype,n.la=8,n.G=1,n.connect=function(c,P,V,z){Pt(0),this.W=c,this.H=P||{},V&&z!==void 0&&(this.H.OSID=V,this.H.OAID=z),this.F=this.X,this.I=uu(this,null,this.W),yr(this)};function Xt(c){if(cs(c),c.G==3){var P=c.U++,V=Cn(c.I);if(pt(V,"SID",c.K),pt(V,"RID",P),pt(V,"TYPE","terminate"),Br(c,V),P=new Yn(c,c.j,P),P.L=2,P.v=yi(Cn(V)),V=!1,f.navigator&&f.navigator.sendBeacon)try{V=f.navigator.sendBeacon(P.v.toString(),"")}catch{}!V&&f.Image&&(new Image().src=P.v,V=!0),V||(P.g=cu(P.j,null),P.g.ea(P.v)),P.F=Date.now(),mt(P)}lu(c)}function nr(c){c.g&&(Na(c),c.g.cancel(),c.g=null)}function cs(c){nr(c),c.u&&(f.clearTimeout(c.u),c.u=null),ds(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function yr(c){if(!Rn(c.h)&&!c.s){c.s=!0;var P=c.Ga;te||W(),ie||(te(),ie=!0),Y.add(P,c),c.B=0}}function jf(c,P){return Xl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=P.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Gn(d(c.Ga,c,P),au(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const ae=new Yn(this,this.j,c);let fe=this.o;if(this.S&&(fe?(fe=I(fe),O(fe,this.S)):fe=this.S),this.m!==null||this.O||(ae.H=fe,fe=null),this.P)e:{for(var P=0,V=0;V<this.i.length;V++){t:{var z=this.i[V];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(P+=z,4096<P){P=V;break e}if(P===4096||V===this.i.length-1){P=V+1;break e}}P=1e3}else P=1e3;P=wi(this,ae,P),V=Cn(this.I),pt(V,"RID",c),pt(V,"CVER",22),this.D&&pt(V,"X-HTTP-Session-Id",this.D),Br(this,V),fe&&(this.O?P="headers="+encodeURIComponent(String(qr(fe)))+"&"+P:this.m&&Ei(V,this.m,fe)),ka(this.h,ae),this.Ua&&pt(V,"TYPE","init"),this.P?(pt(V,"$req",P),pt(V,"SID","null"),ae.T=!0,rs(ae,V,null)):rs(ae,V,P),this.G=2}}else this.G==3&&(c?fs(this,c):this.i.length==0||Rn(this.h)||fs(this))};function fs(c,P){var V;P?V=P.l:V=c.U++;const z=Cn(c.I);pt(z,"SID",c.K),pt(z,"RID",V),pt(z,"AID",c.T),Br(c,z),c.m&&c.o&&Ei(z,c.m,c.o),V=new Yn(c,c.j,V,c.B+1),c.m===null&&(V.H=c.o),P&&(c.i=P.D.concat(c.i)),P=wi(c,V,1e3),V.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ka(c.h,V),rs(V,z,P)}function Br(c,P){c.H&&U(c.H,function(V,z){pt(P,z,V)}),c.l&&pi({},function(V,z){pt(P,z,V)})}function wi(c,P,V){V=Math.min(c.i.length,V);var z=c.l?d(c.l.Na,c.l,c):null;e:{var ae=c.i;let fe=-1;for(;;){const Se=["count="+V];fe==-1?0<V?(fe=ae[0].g,Se.push("ofs="+fe)):fe=0:Se.push("ofs="+fe);let dt=!0;for(let jt=0;jt<V;jt++){let rt=ae[jt].g;const zt=ae[jt].map;if(rt-=fe,0>rt)fe=Math.max(0,ae[jt].g-100),dt=!1;else try{iu(zt,Se,"req"+rt+"_")}catch{z&&z(zt)}}if(dt){z=Se.join("&");break e}}}return c=c.i.splice(0,V),P.D=c,z}function wo(c){if(!c.g&&!c.u){c.Y=1;var P=c.Fa;te||W(),ie||(te(),ie=!0),Y.add(P,c),c.v=0}}function hs(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Gn(d(c.Fa,c),au(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,su(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Gn(d(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),nr(this),su(this))};function Na(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function su(c){c.g=new Yn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var P=Cn(c.qa);pt(P,"RID","rpc"),pt(P,"SID",c.K),pt(P,"AID",c.T),pt(P,"CI",c.F?"0":"1"),!c.F&&c.ja&&pt(P,"TO",c.ja),pt(P,"TYPE","xmlhttp"),Br(c,P),c.m&&c.o&&Ei(P,c.m,c.o),c.L&&(c.g.I=c.L);var V=c.g;c=c.ia,V.L=1,V.v=yi(Cn(P)),V.m=null,V.P=!0,Aa(V,c)}n.Za=function(){this.C!=null&&(this.C=null,nr(this),hs(this),Pt(19))};function ds(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function ps(c,P){var V=null;if(c.g==P){ds(c),Na(c),c.g=null;var z=2}else if(hn(c.h,P))V=P.D,Yl(c.h,P),z=1;else return;if(c.G!=0){if(P.o)if(z==1){V=P.m?P.m.length:0,P=Date.now()-P.F;var ae=c.B;z=co(),ft(z,new Zo(z,V)),yr(c)}else wo(c);else if(ae=P.s,ae==3||ae==0&&0<P.X||!(z==1&&jf(c,P)||z==2&&hs(c)))switch(V&&0<V.length&&(P=c.h,P.i=P.i.concat(V)),ae){case 1:zr(c,5);break;case 4:zr(c,10);break;case 3:zr(c,6);break;default:zr(c,2)}}}function au(c,P){let V=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(V*=2),V*P}function zr(c,P){if(c.j.info("Error code "+P),P==2){var V=d(c.fb,c),z=c.Xa;const ae=!z;z=new Ur(z||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||vo(z,"https"),yi(z),ae?Df(z.toString(),V):ru(z.toString(),V)}else Pt(2);c.G=0,c.l&&c.l.sa(P),lu(c),cs(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function lu(c){if(c.G=0,c.ka=[],c.l){const P=Jl(c.h);(P.length!=0||c.i.length!=0)&&(_(c.ka,P),_(c.ka,c.i),c.h.i.length=0,b(c.i),c.i.length=0),c.l.ra()}}function uu(c,P,V){var z=V instanceof Ur?Cn(V):new Ur(V);if(z.g!="")P&&(z.g=P+"."+z.g),mi(z,z.s);else{var ae=f.location;z=ae.protocol,P=P?P+"."+ae.hostname:ae.hostname,ae=+ae.port;var fe=new Ur(null);z&&vo(fe,z),P&&(fe.g=P),ae&&mi(fe,ae),V&&(fe.l=V),z=fe}return V=c.D,P=c.ya,V&&P&&pt(z,V,P),pt(z,"VER",c.la),Br(c,z),z}function cu(c,P,V){if(P&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return P=c.Ca&&!c.pa?new wt(new Fr({eb:V})):new wt(c.pa),P.Ha(c.J),P}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Da(){}n=Da.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ms(){}ms.prototype.g=function(c,P){return new dn(c,P)};function dn(c,P){lt.call(this),this.g=new Oa(P),this.l=c,this.h=P&&P.messageUrlParams||null,c=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(c?c["X-WebChannel-Content-Type"]=P.messageContentType:c={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(c?c["X-WebChannel-Client-Profile"]=P.va:c={"X-WebChannel-Client-Profile":P.va}),this.g.S=c,(c=P&&P.Sb)&&!S(c)&&(this.g.m=c),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!S(P)&&(this.g.D=P,c=this.h,c!==null&&P in c&&(c=this.h,P in c&&delete c[P])),this.j=new vr(this)}T(dn,lt),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Xt(this.g)},dn.prototype.o=function(c){var P=this.g;if(typeof c=="string"){var V={};V.__data__=c,c=V}else this.u&&(V={},V.__data__=ya(c),c=V);P.i.push(new Ql(P.Ya++,c)),P.G==3&&yr(P)},dn.prototype.N=function(){this.g.l=null,delete this.j,Xt(this.g),delete this.g,dn.aa.N.call(this)};function fu(c){hr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var P=c.__sm__;if(P){e:{for(const V in P){c=V;break e}c=void 0}(this.i=c)&&(c=this.i,P=P!==null&&c in P?P[c]:void 0),this.data=P}else this.data=c}T(fu,hr);function hu(){Jo.call(this),this.status=1}T(hu,Jo);function vr(c){this.g=c}T(vr,Da),vr.prototype.ua=function(){ft(this.g,"a")},vr.prototype.ta=function(c){ft(this.g,new fu(c))},vr.prototype.sa=function(c){ft(this.g,new hu)},vr.prototype.ra=function(){ft(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,mT=function(){return new ms},pT=function(){return co()},dT=dr,ym={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ts.NO_ERROR=0,ts.TIMEOUT=8,ts.HTTP_ERROR=6,Sc=ts,Hl.COMPLETE="complete",hT=Hl,Yo.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,ul=Yo,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,fT=wt}).apply(typeof fc<"u"?fc:typeof self<"u"?self:typeof window<"u"?window:{});const Q_="@firebase/firestore",X_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ua="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new $m("@firebase/firestore");function Us(){return $o.logLevel}function Re(n,...e){if($o.logLevel<=et.DEBUG){const t=e.map(ug);$o.debug(`Firestore (${ua}): ${n}`,...t)}}function li(n,...e){if($o.logLevel<=et.ERROR){const t=e.map(ug);$o.error(`Firestore (${ua}): ${n}`,...t)}}function Xs(n,...e){if($o.logLevel<=et.WARN){const t=e.map(ug);$o.warn(`Firestore (${ua}): ${n}`,...t)}}function ug(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(n="Unexpected state"){const e=`FIRESTORE (${ua}) INTERNAL ASSERTION FAILED: `+n;throw li(e),new Error(e)}function ct(n,e){n||Ue()}function He(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(un.UNAUTHENTICATED))}shutdown(){}}class $x{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Hx{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ct(this.o===void 0);let r=this.i;const o=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new ii;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ii,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await o(this.currentUser)})},f=h=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>f(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ii)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string"),new gT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string"),new un(e)}}class Wx{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Kx{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Wx(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Y_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gx{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,cr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){ct(this.o===void 0);const r=a=>{a.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,Re("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Y_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ct(typeof t.token=="string"),this.R=t.token,new Y_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=Qx(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Xe(n,e){return n<e?-1:n>e?1:0}function vm(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),o=e.codePointAt(t);if(r!==o){if(r<128&&o<128)return Xe(r,o);{const a=yT(),u=Xx(a.encode(J_(n,t)),a.encode(J_(e,t)));return u!==0?u:Xe(r,o)}}t+=r>65535?2:1}return Xe(n.length,e.length)}function J_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Xx(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Xe(n[t],e[t]);return Xe(n.length,e.length)}function Ys(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=-62135596800,eE=1e6;class qt{static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*eE);return new qt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Z_)throw new Ne(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eE}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Z_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new qt(0,0))}static max(){return new $e(new qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="__name__";class Sr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ue(),r===void 0?r=e.length-t:r>e.length-t&&Ue(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Sr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=Sr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Xe(e.length,t.length)}static compareSegments(e,t){const r=Sr.isNumericId(e),o=Sr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?Sr.extractNumericId(e).compare(Sr.extractNumericId(t)):vm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gi.fromString(e.substring(4,e.length-2))}}class bt extends Sr{construct(e,t,r){return new bt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(Ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new bt(t)}static emptyPath(){return new bt([])}}const Yx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Sr{construct(e,t,r){return new en(e,t,r)}static isValidIdentifier(e){return Yx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tE}static keyField(){return new en([tE])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new Ne(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new Ne(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ne(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(r+=f,o++):(a(),o++)}if(a(),u)throw new Ne(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(bt.fromString(e))}static fromName(e){return new je(bt.fromString(e).popFirst(5))}static empty(){return new je(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new bt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=-1;function Jx(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=$e.fromTimestamp(r===1e9?new qt(t+1,0):new qt(t,r));return new Ji(o,je.empty(),e)}function Zx(n){return new Ji(n.readTime,n.key,Sl)}class Ji{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ji($e.min(),je.empty(),Sl)}static max(){return new Ji($e.max(),je.empty(),Sl)}}function eO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=je.comparator(n.documentKey,e.documentKey),t!==0?t:Xe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(n){if(n.code!==Ee.FAILED_PRECONDITION||n.message!==tO)throw n;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ge((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ge?t:ge.resolve(t)}catch(t){return ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.reject(t)}static resolve(e){return new ge((t,r)=>{t(e)})}static reject(e){return new ge((t,r)=>{r(e)})}static waitFor(e){return new ge((t,r)=>{let o=0,a=0,u=!1;e.forEach(f=>{++o,f.next(()=>{++a,u&&a===o&&t()},h=>r(h))}),u=!0,a===o&&t()})}static or(e){let t=ge.resolve(!1);for(const r of e)t=t.next(o=>o?ge.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new ge((r,o)=>{const a=e.length,u=new Array(a);let f=0;for(let h=0;h<a;h++){const m=h;t(e[m]).next(v=>{u[m]=v,++f,f===a&&r(u)},v=>o(v))}})}static doWhile(e,t){return new ge((r,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):r()};a()})}}function rO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function fa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}af.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=-1;function lf(n){return n==null}function Fc(n){return n===0&&1/n==-1/0}function iO(n){return typeof n=="number"&&Number.isInteger(n)&&!Fc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="";function oO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=nE(e)),e=sO(n.get(t),e);return nE(e)}function sO(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case _T:t+="";break;default:t+=a}}return t}function nE(n){return n+_T+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function oo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ET(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new kt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hc(this.root,e,this.comparator,!0)}}class hc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Zt.RED,this.left=o??Zt.EMPTY,this.right=a??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Zt(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ue();const e=this.left.check();if(e!==this.right.check())throw Ue();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue()}get value(){throw Ue()}get color(){throw Ue()}get left(){throw Ue()}get right(){throw Ue()}copy(e,t,r,o,a){return this}insert(e,t,r){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new iE(this.data.getIterator())}getIteratorFrom(e){return new iE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class iE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Mn([])}unionWith(e){let t=new Bt(en.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ys(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new wT("Invalid base64 string: "+a):a}}(e);return new tn(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const aO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(n){if(ct(!!n),typeof n=="string"){let e=0;const t=aO.exec(n);if(ct(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(n.seconds),nanos:Ot(n.nanos)}}function Ot(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function eo(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="server_timestamp",bT="__type__",ST="__previous_value__",AT="__local_write_time__";function fg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[bT])===null||t===void 0?void 0:t.stringValue)===TT}function uf(n){const e=n.mapValue.fields[ST];return fg(e)?uf(e):e}function Al(n){const e=Zi(n.mapValue.fields[AT].timestampValue);return new qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t,r,o,a,u,f,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=m}}const qc="(default)";class Il{constructor(e,t){this.projectId=e,this.database=t||qc}static empty(){return new Il("","")}get isDefaultDatabase(){return this.database===qc}isEqual(e){return e instanceof Il&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="__type__",kT="__max__",dc={mapValue:{fields:{__type__:{stringValue:kT}}}},RT="__vector__",Bc="value";function to(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fg(n)?4:cO(n)?9007199254740991:uO(n)?10:11:Ue()}function Nr(n,e){if(n===e)return!0;const t=to(n);if(t!==to(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Al(n).isEqual(Al(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Zi(o.timestampValue),f=Zi(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return eo(o.bytesValue).isEqual(eo(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return Ot(o.geoPointValue.latitude)===Ot(a.geoPointValue.latitude)&&Ot(o.geoPointValue.longitude)===Ot(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Ot(o.integerValue)===Ot(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Ot(o.doubleValue),f=Ot(a.doubleValue);return u===f?Fc(u)===Fc(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return Ys(n.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},f=a.mapValue.fields||{};if(rE(u)!==rE(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!Nr(u[h],f[h])))return!1;return!0}(n,e);default:return Ue()}}function kl(n,e){return(n.values||[]).find(t=>Nr(t,e))!==void 0}function Js(n,e){if(n===e)return 0;const t=to(n),r=to(e);if(t!==r)return Xe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xe(n.booleanValue,e.booleanValue);case 2:return function(a,u){const f=Ot(a.integerValue||a.doubleValue),h=Ot(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1}(n,e);case 3:return oE(n.timestampValue,e.timestampValue);case 4:return oE(Al(n),Al(e));case 5:return vm(n.stringValue,e.stringValue);case 6:return function(a,u){const f=eo(a),h=eo(u);return f.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),h=u.split("/");for(let m=0;m<f.length&&m<h.length;m++){const v=Xe(f[m],h[m]);if(v!==0)return v}return Xe(f.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const f=Xe(Ot(a.latitude),Ot(u.latitude));return f!==0?f:Xe(Ot(a.longitude),Ot(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return sE(n.arrayValue,e.arrayValue);case 10:return function(a,u){var f,h,m,v;const g=a.fields||{},d=u.fields||{},y=(f=g[Bc])===null||f===void 0?void 0:f.arrayValue,T=(h=d[Bc])===null||h===void 0?void 0:h.arrayValue,b=Xe(((m=y==null?void 0:y.values)===null||m===void 0?void 0:m.length)||0,((v=T==null?void 0:T.values)===null||v===void 0?void 0:v.length)||0);return b!==0?b:sE(y,T)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===dc.mapValue&&u===dc.mapValue)return 0;if(a===dc.mapValue)return 1;if(u===dc.mapValue)return-1;const f=a.fields||{},h=Object.keys(f),m=u.fields||{},v=Object.keys(m);h.sort(),v.sort();for(let g=0;g<h.length&&g<v.length;++g){const d=vm(h[g],v[g]);if(d!==0)return d;const y=Js(f[h[g]],m[v[g]]);if(y!==0)return y}return Xe(h.length,v.length)}(n.mapValue,e.mapValue);default:throw Ue()}}function oE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Xe(n,e);const t=Zi(n),r=Zi(e),o=Xe(t.seconds,r.seconds);return o!==0?o:Xe(t.nanos,r.nanos)}function sE(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=Js(t[o],r[o]);if(a)return a}return Xe(t.length,r.length)}function Zs(n){return _m(n)}function _m(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Zi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return eo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return je.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=_m(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${_m(t.fields[u])}`;return o+"}"}(n.mapValue):Ue()}function Ac(n){switch(to(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uf(n);return e?16+Ac(e):16;case 5:return 2*n.stringValue.length;case 6:return eo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+Ac(a),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return oo(r.fields,(a,u)=>{o+=a.length+Ac(u)}),o}(n.mapValue);default:throw Ue()}}function Em(n){return!!n&&"integerValue"in n}function hg(n){return!!n&&"arrayValue"in n}function aE(n){return!!n&&"nullValue"in n}function lE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ic(n){return!!n&&"mapValue"in n}function uO(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[IT])===null||t===void 0?void 0:t.stringValue)===RT}function yl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return oo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=yl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===kT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ic(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yl(t)}setAll(e){let t=en.emptyPath(),r={},o=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,r,o),r={},o=[],t=f.popLast()}u?r[f.lastSegment()]=yl(u):o.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Ic(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Ic(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){oo(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new kn(yl(this.value))}}function CT(n){const e=[];return oo(n.fields,(t,r)=>{const o=new en([t]);if(Ic(r)){const a=CT(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t,r,o,a,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new cn(e,0,$e.min(),$e.min(),$e.min(),kn.empty(),0)}static newFoundDocument(e,t,r,o){return new cn(e,1,t,$e.min(),r,o,0)}static newNoDocument(e,t){return new cn(e,2,t,$e.min(),$e.min(),kn.empty(),0)}static newUnknownDocument(e,t){return new cn(e,3,t,$e.min(),$e.min(),kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t){this.position=e,this.inclusive=t}}function uE(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=je.comparator(je.fromName(u.referenceValue),t.key):r=Js(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function cE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Nr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,t="asc"){this.field=e,this.dir=t}}function fO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{}class Ft extends PT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new dO(e,t,r):t==="array-contains"?new gO(e,r):t==="in"?new yO(e,r):t==="not-in"?new vO(e,r):t==="array-contains-any"?new _O(e,r):new Ft(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new pO(e,r):new mO(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Js(t,this.value)):t!==null&&to(this.value)===to(t)&&this.matchesComparison(Js(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends PT{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Dr(e,t)}matches(e){return xT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function xT(n){return n.op==="and"}function OT(n){return hO(n)&&xT(n)}function hO(n){for(const e of n.filters)if(e instanceof Dr)return!1;return!0}function wm(n){if(n instanceof Ft)return n.field.canonicalString()+n.op.toString()+Zs(n.value);if(OT(n))return n.filters.map(e=>wm(e)).join(",");{const e=n.filters.map(t=>wm(t)).join(",");return`${n.op}(${e})`}}function NT(n,e){return n instanceof Ft?function(r,o){return o instanceof Ft&&r.op===o.op&&r.field.isEqual(o.field)&&Nr(r.value,o.value)}(n,e):n instanceof Dr?function(r,o){return o instanceof Dr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,f)=>a&&NT(u,o.filters[f]),!0):!1}(n,e):void Ue()}function DT(n){return n instanceof Ft?function(t){return`${t.field.canonicalString()} ${t.op} ${Zs(t.value)}`}(n):n instanceof Dr?function(t){return t.op.toString()+" {"+t.getFilters().map(DT).join(" ,")+"}"}(n):"Filter"}class dO extends Ft{constructor(e,t,r){super(e,t,r),this.key=je.fromName(r.referenceValue)}matches(e){const t=je.comparator(e.key,this.key);return this.matchesComparison(t)}}class pO extends Ft{constructor(e,t){super(e,"in",t),this.keys=LT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mO extends Ft{constructor(e,t){super(e,"not-in",t),this.keys=LT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function LT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>je.fromName(r.referenceValue))}class gO extends Ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hg(t)&&kl(t.arrayValue,this.value)}}class yO extends Ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&kl(this.value.arrayValue,t)}}class vO extends Ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!kl(this.value.arrayValue,t)}}class _O extends Ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>kl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,t=null,r=[],o=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=f,this.le=null}}function fE(n,e=null,t=[],r=[],o=null,a=null,u=null){return new EO(n,e,t,r,o,a,u)}function dg(n){const e=He(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>wm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),lf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Zs(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Zs(r)).join(",")),e.le=t}return e.le}function pg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!fO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!NT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cE(n.startAt,e.startAt)&&cE(n.endAt,e.endAt)}function Tm(n){return je.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,t=null,r=[],o=[],a=null,u="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function wO(n,e,t,r,o,a,u,f){return new cf(n,e,t,r,o,a,u,f)}function mg(n){return new cf(n)}function hE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function TO(n){return n.collectionGroup!==null}function vl(n){const e=He(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Bt(en.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new $c(a,r))}),t.has(en.keyField().canonicalString())||e.he.push(new $c(en.keyField(),r))}return e.he}function Pr(n){const e=He(n);return e.Pe||(e.Pe=bO(e,vl(n))),e.Pe}function bO(n,e){if(n.limitType==="F")return fE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new $c(o.field,a)});const t=n.endAt?new zc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new zc(n.startAt.position,n.startAt.inclusive):null;return fE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function bm(n,e,t){return new cf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ff(n,e){return pg(Pr(n),Pr(e))&&n.limitType===e.limitType}function MT(n){return`${dg(Pr(n))}|lt:${n.limitType}`}function Fs(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>DT(o)).join(", ")}]`),lf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>Zs(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>Zs(o)).join(",")),`Target(${r})`}(Pr(n))}; limitType=${n.limitType})`}function hf(n,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):je.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,o){for(const a of vl(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(u,f,h){const m=uE(u,f,h);return u.inclusive?m<=0:m<0}(r.startAt,vl(r),o)||r.endAt&&!function(u,f,h){const m=uE(u,f,h);return u.inclusive?m>=0:m>0}(r.endAt,vl(r),o))}(n,e)}function SO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function jT(n){return(e,t)=>{let r=!1;for(const o of vl(n)){const a=AO(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function AO(n,e,t){const r=n.field.isKeyField()?je.comparator(e.key,t.key):function(a,u,f){const h=u.data.field(a),m=f.data.field(a);return h!==null&&m!==null?Js(h,m):Ue()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return ET(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=new kt(je.comparator);function ui(){return IO}const VT=new kt(je.comparator);function cl(...n){let e=VT;for(const t of n)e=e.insert(t.key,t);return e}function UT(n){let e=VT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function jo(){return _l()}function FT(){return _l()}function _l(){return new Go(n=>n.toString(),(n,e)=>n.isEqual(e))}const kO=new kt(je.comparator),RO=new Bt(je.comparator);function tt(...n){let e=RO;for(const t of n)e=e.add(t);return e}const CO=new Bt(Xe);function PO(){return CO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(e)?"-0":e}}function qT(n){return{integerValue:""+n}}function xO(n,e){return iO(e)?qT(e):gg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this._=void 0}}function OO(n,e,t){return n instanceof Hc?function(o,a){const u={fields:{[bT]:{stringValue:TT},[AT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&fg(a)&&(a=uf(a)),a&&(u.fields[ST]=a),{mapValue:u}}(t,e):n instanceof Rl?zT(n,e):n instanceof Cl?$T(n,e):function(o,a){const u=BT(o,a),f=dE(u)+dE(o.Ie);return Em(u)&&Em(o.Ie)?qT(f):gg(o.serializer,f)}(n,e)}function NO(n,e,t){return n instanceof Rl?zT(n,e):n instanceof Cl?$T(n,e):t}function BT(n,e){return n instanceof Wc?function(r){return Em(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Hc extends df{}class Rl extends df{constructor(e){super(),this.elements=e}}function zT(n,e){const t=HT(e);for(const r of n.elements)t.some(o=>Nr(o,r))||t.push(r);return{arrayValue:{values:t}}}class Cl extends df{constructor(e){super(),this.elements=e}}function $T(n,e){let t=HT(e);for(const r of n.elements)t=t.filter(o=>!Nr(o,r));return{arrayValue:{values:t}}}class Wc extends df{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function dE(n){return Ot(n.integerValue||n.doubleValue)}function HT(n){return hg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function DO(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof Rl&&o instanceof Rl||r instanceof Cl&&o instanceof Cl?Ys(r.elements,o.elements,Nr):r instanceof Wc&&o instanceof Wc?Nr(r.Ie,o.Ie):r instanceof Hc&&o instanceof Hc}(n.transform,e.transform)}class LO{constructor(e,t){this.version=e,this.transformResults=t}}class fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class pf{}function WT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new yg(n.key,fr.none()):new Fl(n.key,n.data,fr.none());{const t=n.data,r=kn.empty();let o=new Bt(en.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new so(n.key,r,new Mn(o.toArray()),fr.none())}}function MO(n,e,t){n instanceof Fl?function(o,a,u){const f=o.value.clone(),h=mE(o.fieldTransforms,a,u.transformResults);f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof so?function(o,a,u){if(!kc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const f=mE(o.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(KT(o)),h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function El(n,e,t,r){return n instanceof Fl?function(a,u,f,h){if(!kc(a.precondition,u))return f;const m=a.value.clone(),v=gE(a.fieldTransforms,h,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof so?function(a,u,f,h){if(!kc(a.precondition,u))return f;const m=gE(a.fieldTransforms,h,u),v=u.data;return v.setAll(KT(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(a,u,f){return kc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function jO(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=BT(r.transform,o||null);a!=null&&(t===null&&(t=kn.empty()),t.set(r.field,a))}return t||null}function pE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ys(r,o,(a,u)=>DO(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Fl extends pf{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class so extends pf{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function KT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function mE(n,e,t){const r=new Map;ct(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,f=e.data.field(a.field);r.set(a.field,NO(u,f,t[o]))}return r}function gE(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,OO(a,u,e))}return r}class yg extends pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VO extends pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&MO(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=El(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=El(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=FT();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(o.key)?null:f;const h=WT(u,f);h!==null&&r.set(o.key,h),u.isValidDocument()||u.convertToNoDocument($e.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tt())}isEqual(e){return this.batchId===e.batchId&&Ys(this.mutations,e.mutations,(t,r)=>pE(t,r))&&Ys(this.baseMutations,e.baseMutations,(t,r)=>pE(t,r))}}class vg{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){ct(e.mutations.length===r.length);let o=function(){return kO}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new vg(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,it;function BO(n){switch(n){case Ee.OK:return Ue();case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0;default:return Ue()}}function GT(n){if(n===void 0)return li("GRPC error has no .code"),Ee.UNKNOWN;switch(n){case Mt.OK:return Ee.OK;case Mt.CANCELLED:return Ee.CANCELLED;case Mt.UNKNOWN:return Ee.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return Ee.INTERNAL;case Mt.UNAVAILABLE:return Ee.UNAVAILABLE;case Mt.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case Mt.NOT_FOUND:return Ee.NOT_FOUND;case Mt.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case Mt.ABORTED:return Ee.ABORTED;case Mt.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case Mt.DATA_LOSS:return Ee.DATA_LOSS;default:return Ue()}}(it=Mt||(Mt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new Gi([4294967295,4294967295],0);function yE(n){const e=yT().encode(n),t=new cT;return t.update(e),new Uint8Array(t.digest())}function vE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Gi([t,r],0),new Gi([o,a],0)]}class _g{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new fl(`Invalid padding: ${t}`);if(r<0)throw new fl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new fl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Gi.fromNumber(this.Ee)}Ae(e,t,r){let o=e.add(t.multiply(Gi.fromNumber(r)));return o.compare(zO)===1&&(o=new Gi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=yE(e),[r,o]=vE(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(r,o,a);if(!this.Re(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new _g(a,o,t);return r.forEach(f=>u.insert(f)),u}insert(e){if(this.Ee===0)return;const t=yE(e),[r,o]=vE(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(r,o,a);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,ql.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new mf($e.min(),o,new kt(Xe),ui(),tt())}}class ql{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ql(r,t,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t,r,o){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=o}}class QT{constructor(e,t){this.targetId=e,this.ge=t}}class XT{constructor(e,t,r=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class _E{constructor(){this.pe=0,this.ye=EE(),this.we=tn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=tt(),t=tt(),r=tt();return this.ye.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Ue()}}),new ql(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=EE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ct(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class $O{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ui(),this.$e=pc(),this.Ue=pc(),this.Ke=new kt(Xe)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ue()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,r=e.ge.count,o=this.Xe(t);if(o){const a=o.target;if(Tm(a))if(r===0){const u=new je(a.path);this.ze(t,u,cn.newNoDocument(u,$e.min()))}else ct(r===1);else{const u=this.et(t);if(u!==r){const f=this.tt(e),h=f?this.nt(f,e,u):1;if(h!==0){this.Ye(t);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,f;try{u=eo(r).toUint8Array()}catch(h){if(h instanceof wT)return Xs("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new _g(u,o,a)}catch(h){return Xs(h instanceof fl?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.Ee===0?null:f}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let o=0;return r.forEach(a=>{const u=this.ke.it(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,a,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((a,u)=>{const f=this.Xe(u);if(f){if(a.current&&Tm(f.target)){const h=new je(f.target.path);this._t(h).has(u)||this.ut(u,h)||this.ze(u,h,cn.newNoDocument(h,e))}a.ve&&(t.set(u,a.Fe()),a.Me())}});let r=tt();this.Ue.forEach((a,u)=>{let f=!0;u.forEachWhile(h=>{const m=this.Xe(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(a))}),this.Qe.forEach((a,u)=>u.setReadTime(e));const o=new mf(e,t,this.Ke,this.Qe,r);return this.Qe=ui(),this.$e=pc(),this.Ue=pc(),this.Ke=new kt(Xe),o}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new _E,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Bt(Xe),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Bt(Xe),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Re("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new _E),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function pc(){return new kt(je.comparator)}function EE(){return new kt(je.comparator)}const HO={asc:"ASCENDING",desc:"DESCENDING"},WO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KO={and:"AND",or:"OR"};class GO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sm(n,e){return n.useProto3Json||lf(e)?e:{value:e}}function Kc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function QO(n,e){return Kc(n,e.toTimestamp())}function xr(n){return ct(!!n),$e.fromTimestamp(function(t){const r=Zi(t);return new qt(r.seconds,r.nanos)}(n))}function Eg(n,e){return Am(n,e).canonicalString()}function Am(n,e){const t=function(o){return new bt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function JT(n){const e=bt.fromString(n);return ct(rb(e)),e}function Im(n,e){return Eg(n.databaseId,e.path)}function Ed(n,e){const t=JT(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new je(eb(t))}function ZT(n,e){return Eg(n.databaseId,e)}function XO(n){const e=JT(n);return e.length===4?bt.emptyPath():eb(e)}function km(n){return new bt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function eb(n){return ct(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function wE(n,e,t){return{name:Im(n,e),fields:t.value.mapValue.fields}}function YO(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(ct(v===void 0||typeof v=="string"),tn.fromBase64String(v||"")):(ct(v===void 0||v instanceof Buffer||v instanceof Uint8Array),tn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(m){const v=m.code===void 0?Ee.UNKNOWN:GT(m.code);return new Ne(v,m.message||"")}(u);t=new XT(r,o,a,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Ed(n,r.document.name),a=xr(r.document.updateTime),u=r.document.createTime?xr(r.document.createTime):$e.min(),f=new kn({mapValue:{fields:r.document.fields}}),h=cn.newFoundDocument(o,a,u,f),m=r.targetIds||[],v=r.removedTargetIds||[];t=new Rc(m,v,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Ed(n,r.document),a=r.readTime?xr(r.readTime):$e.min(),u=cn.newNoDocument(o,a),f=r.removedTargetIds||[];t=new Rc([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Ed(n,r.document),a=r.removedTargetIds||[];t=new Rc([],a,o,null)}else{if(!("filter"in e))return Ue();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new qO(o,a),f=r.targetId;t=new QT(f,u)}}return t}function JO(n,e){let t;if(e instanceof Fl)t={update:wE(n,e.key,e.value)};else if(e instanceof yg)t={delete:Im(n,e.key)};else if(e instanceof so)t={update:wE(n,e.key,e.data),updateMask:aN(e.fieldMask)};else{if(!(e instanceof VO))return Ue();t={verify:Im(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const f=u.transform;if(f instanceof Hc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Rl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Cl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Wc)return{fieldPath:u.field.canonicalString(),increment:f.Ie};throw Ue()}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:QO(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ue()}(n,e.precondition)),t}function ZO(n,e){return n&&n.length>0?(ct(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?xr(o.updateTime):xr(a);return u.isEqual($e.min())&&(u=xr(a)),new LO(u,o.transformResults||[])}(t,e))):[]}function eN(n,e){return{documents:[ZT(n,e.path)]}}function tN(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=ZT(n,o);const a=function(m){if(m.length!==0)return nb(Dr.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(v=>function(d){return{field:qs(d.field),direction:iN(d.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=Sm(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:o}}function nN(n){let e=XO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){ct(r===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(g){const d=tb(g);return d instanceof Dr&&OT(d)?d.getFilters():[d]}(t.where));let u=[];t.orderBy&&(u=function(g){return g.map(d=>function(T){return new $c(Bs(T.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(d))}(t.orderBy));let f=null;t.limit&&(f=function(g){let d;return d=typeof g=="object"?g.value:g,lf(d)?null:d}(t.limit));let h=null;t.startAt&&(h=function(g){const d=!!g.before,y=g.values||[];return new zc(y,d)}(t.startAt));let m=null;return t.endAt&&(m=function(g){const d=!g.before,y=g.values||[];return new zc(y,d)}(t.endAt)),wO(e,o,u,a,f,"F",h,m)}function rN(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function tb(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Bs(t.unaryFilter.field);return Ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Bs(t.unaryFilter.field);return Ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Bs(t.unaryFilter.field);return Ft.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Bs(t.unaryFilter.field);return Ft.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ue()}}(n):n.fieldFilter!==void 0?function(t){return Ft.create(Bs(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ue()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Dr.create(t.compositeFilter.filters.map(r=>tb(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ue()}}(t.compositeFilter.op))}(n):Ue()}function iN(n){return HO[n]}function oN(n){return WO[n]}function sN(n){return KO[n]}function qs(n){return{fieldPath:n.canonicalString()}}function Bs(n){return en.fromServerFormat(n.fieldPath)}function nb(n){return n instanceof Ft?function(t){if(t.op==="=="){if(lE(t.value))return{unaryFilter:{field:qs(t.field),op:"IS_NAN"}};if(aE(t.value))return{unaryFilter:{field:qs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(lE(t.value))return{unaryFilter:{field:qs(t.field),op:"IS_NOT_NAN"}};if(aE(t.value))return{unaryFilter:{field:qs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qs(t.field),op:oN(t.op),value:t.value}}}(n):n instanceof Dr?function(t){const r=t.getFilters().map(o=>nb(o));return r.length===1?r[0]:{compositeFilter:{op:sN(t.op),filters:r}}}(n):Ue()}function aN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,t,r,o,a=$e.min(),u=$e.min(),f=tn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.Tt=e}}function uN(n){const e=nN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?bm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(){this.Tn=new fN}addToCollectionParentIndex(e,t){return this.Tn.add(t),ge.resolve()}getCollectionParents(e,t){return ge.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ge.resolve()}deleteFieldIndex(e,t){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,t){return ge.resolve()}getDocumentsMatchingTarget(e,t){return ge.resolve(null)}getIndexType(e,t){return ge.resolve(0)}getFieldIndexes(e,t){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,t){return ge.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,t){return ge.resolve(Ji.min())}updateCollectionGroup(e,t,r){return ge.resolve()}updateIndexEntries(e,t){return ge.resolve()}}class fN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Bt(bt.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Bt(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ib=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(ib,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ea(0)}static Kn(){return new ea(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="LruGarbageCollector",hN=1048576;function SE([n,e],[t,r]){const o=Xe(n,t);return o===0?Xe(e,r):o}class dN{constructor(e){this.Hn=e,this.buffer=new Bt(SE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();SE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Re(bE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){fa(t)?Re(bE,"Ignoring IndexedDB error during garbage collection: ",t):await ca(t)}await this.er(3e5)})}}class mN{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ge.resolve(af.ae);const r=new dN(t);return this.tr.forEachTarget(e,o=>r.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>r.Zn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(TE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,o,a,u,f,h,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),o=this.params.maximumSequenceNumbersToCollect):o=g,u=Date.now(),this.nthSequenceNumber(e,o))).next(g=>(r=g,f=Date.now(),this.removeTargets(e,r,t))).next(g=>(a=g,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(m=Date.now(),Us()<=et.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${a} targets in `+(h-f)+`ms
	Removed ${g} documents in `+(m-h)+`ms
Total Duration: ${m-v}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:g})))}}function gN(n,e){return new mN(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.changes=new Go(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ge.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&El(r.mutation,o,Mn.empty(),qt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=tt()){const o=jo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let u=cl();return a.forEach((f,h)=>{u=u.insert(f,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=jo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,tt()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,o){let a=ui();const u=_l(),f=function(){return _l()}();return t.forEach((h,m)=>{const v=r.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof so)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),El(v.mutation,m,v.mutation.getFieldMask(),qt.now())):u.set(m.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>{var g;return f.set(m,new vN(v,(g=u.get(m))!==null&&g!==void 0?g:null))}),f))}recalculateAndSaveOverlays(e,t){const r=_l();let o=new kt((u,f)=>u-f),a=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(h=>{const m=t.get(h);if(m===null)return;let v=r.get(h)||Mn.empty();v=f.applyToLocalView(m,v),r.set(h,v);const g=(o.get(f.batchId)||tt()).add(h);o=o.insert(f.batchId,g)})}).next(()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),m=h.key,v=h.value,g=FT();v.forEach(d=>{if(!a.has(d)){const y=WT(t.get(d),r.get(d));y!==null&&g.set(d,y),a=a.add(d)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,g))}return ge.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(u){return je.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):TO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):ge.resolve(jo());let f=Sl,h=a;return u.next(m=>ge.forEach(m,(v,g)=>(f<g.largestBatchId&&(f=g.largestBatchId),a.get(v)?ge.resolve():this.remoteDocumentCache.getEntry(e,v).next(d=>{h=h.insert(v,d)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,h,m,tt())).next(v=>({batchId:f,changes:UT(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new je(t)).next(r=>{let o=cl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=cl();return this.indexManager.getCollectionParents(e,a).next(f=>ge.forEach(f,h=>{const m=function(g,d){return new cf(d,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(v=>{v.forEach((g,d)=>{u=u.insert(g,d)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o))).next(u=>{a.forEach((h,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,cn.newInvalidDocument(v)))});let f=cl();return u.forEach((h,m)=>{const v=a.get(h);v!==void 0&&El(v.mutation,m,Mn.empty(),qt.now()),hf(t,m)&&(f=f.insert(h,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ge.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:xr(o.createTime)}}(t)),ge.resolve()}getNamedQuery(e,t){return ge.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:uN(o.bundledQuery),readTime:xr(o.readTime)}}(t)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.overlays=new kt(je.comparator),this.Rr=new Map}getOverlay(e,t){return ge.resolve(this.overlays.get(t))}getOverlays(e,t){const r=jo();return ge.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.Et(e,t,a)}),ge.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Rr.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),ge.resolve()}getOverlaysForCollection(e,t,r){const o=jo(),a=t.length+1,u=new je(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,m=h.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&h.largestBatchId>r&&o.set(h.getKey(),h)}return ge.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new kt((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let v=a.get(m.largestBatchId);v===null&&(v=jo(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const f=jo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((m,v)=>f.set(m,v)),!(f.size()>=o)););return ge.resolve(f)}Et(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.Rr.get(o.largestBatchId).delete(r.key);this.Rr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new FO(t,r));let a=this.Rr.get(t);a===void 0&&(a=tt(),this.Rr.set(t,a)),this.Rr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(){this.Vr=new Bt(Kt.mr),this.gr=new Bt(Kt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Kt(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Kt(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new je(new bt([])),r=new Kt(t,e),o=new Kt(t,e+1),a=[];return this.gr.forEachInRange([r,o],u=>{this.wr(u),a.push(u.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new je(new bt([])),r=new Kt(t,e),o=new Kt(t,e+1);let a=tt();return this.gr.forEachInRange([r,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Kt(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return je.comparator(e.key,t.key)||Xe(e.Cr,t.Cr)}static pr(e,t){return Xe(e.Cr,t.Cr)||je.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Bt(Kt.mr)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new UO(a,t,r,o);this.mutationQueue.push(u);for(const f of o)this.Mr=this.Mr.add(new Kt(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ge.resolve(u)}lookupMutationBatch(e,t){return ge.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Nr(r),a=o<0?0:o;return ge.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?cg:this.Fr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Kt(t,0),o=new Kt(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,o],u=>{const f=this.Or(u.Cr);a.push(f)}),ge.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Bt(Xe);return t.forEach(o=>{const a=new Kt(o,0),u=new Kt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,u],f=>{r=r.add(f.Cr)})}),ge.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;je.isDocumentKey(a)||(a=a.child(""));const u=new Kt(new je(a),0);let f=new Bt(Xe);return this.Mr.forEachWhile(h=>{const m=h.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(f=f.add(h.Cr)),!0)},u),ge.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(r=>{const o=this.Or(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){ct(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ge.forEach(t.mutations,o=>{const a=new Kt(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Kt(t,0),o=this.Mr.firstAfterOrEqual(r);return ge.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.kr=e,this.docs=function(){return new kt(je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ge.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let r=ui();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():cn.newInvalidDocument(o))}),ge.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=ui();const u=t.path,f=new je(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:m,value:{document:v}}=h.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||eO(Zx(v),r)<=0||(o.has(v.key)||hf(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ge.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Ue()}qr(e,t){return ge.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new AN(this)}getSize(e){return ge.resolve(this.size)}}class AN extends yN{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(r)}),ge.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.persistence=e,this.Qr=new Go(t=>dg(t),pg),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.$r=0,this.Ur=new wg,this.targetCount=0,this.Kr=ea.Un()}forEachTarget(e,t){return this.Qr.forEach((r,o)=>t(o)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ge.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new ea(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ge.resolve()}updateTargetData(e,t){return this.zn(t),ge.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.Qr.forEach((u,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.Qr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),ge.waitFor(a).next(()=>o)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ge.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),ge.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),ge.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),ge.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return ge.resolve(r)}containsKey(e,t){return ge.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new af(0),this.zr=!1,this.zr=!0,this.jr=new TN,this.referenceDelegate=e(this),this.Hr=new IN(this),this.indexManager=new cN,this.remoteDocumentCache=function(o){return new SN(o)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new lN(t),this.Yr=new EN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new bN(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){Re("MemoryPersistence","Starting transaction:",e);const o=new kN(this.Gr.next());return this.referenceDelegate.Zr(),r(o).next(a=>this.referenceDelegate.Xr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}ei(e,t){return ge.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class kN extends nO{constructor(e){super(),this.currentSequenceNumber=e}}class Tg{constructor(e){this.persistence=e,this.ti=new wg,this.ni=null}static ri(e){return new Tg(e)}get ii(){if(this.ni)return this.ni;throw Ue()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ge.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ge.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.ii,r=>{const o=je.fromPath(r);return this.si(e,o).next(a=>{a||t.removeEntry(o,$e.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ge.or([()=>ge.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Gc{constructor(e,t){this.persistence=e,this.oi=new Go(r=>oO(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=gN(this,t)}static ri(e,t){return new Gc(e,t)}Zr(){}Xr(e){return ge.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ge.forEach(this.oi,(r,o)=>this.ar(e,r,o).next(a=>a?ge.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.qr(e,u=>this.ar(e,u,t).next(f=>{f||(r++,a.removeEntry(u,$e.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ge.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ge.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ge.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ac(e.data.value)),t}ar(e,t,r){return ge.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return ge.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=o}static Yi(e,t){let r=tt(),o=tt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new bg(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return uk()?8:rO(fn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.rs(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ss(e,t,o,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new RN;return this._s(e,t,u).next(f=>{if(a.result=f,this.Xi)return this.us(e,t,u,f.size)})}).next(()=>a.result)}us(e,t,r,o){return r.documentReadCount<this.es?(Us()<=et.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",Fs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ge.resolve()):(Us()<=et.DEBUG&&Re("QueryEngine","Query:",Fs(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ts*o?(Us()<=et.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",Fs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(t))):ge.resolve())}rs(e,t){if(hE(t))return ge.resolve(null);let r=Pr(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=bm(t,null,"F"),r=Pr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=tt(...a);return this.ns.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(h=>{const m=this.cs(t,f);return this.ls(t,m,u,h.readTime)?this.rs(e,bm(t,null,"F")):this.hs(e,m,t,h)}))})))}ss(e,t,r,o){return hE(t)||o.isEqual($e.min())?ge.resolve(null):this.ns.getDocuments(e,r).next(a=>{const u=this.cs(t,a);return this.ls(t,u,r,o)?ge.resolve(null):(Us()<=et.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fs(t)),this.hs(e,u,t,Jx(o,Sl)).next(f=>f))})}cs(e,t){let r=new Bt(jT(e));return t.forEach((o,a)=>{hf(e,a)&&(r=r.add(a))}),r}ls(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}_s(e,t,r){return Us()<=et.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",Fs(t)),this.ns.getDocumentsMatchingQuery(e,t,Ji.min(),r)}hs(e,t,r,o){return this.ns.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="LocalStore",PN=3e8;class xN{constructor(e,t,r,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new kt(Xe),this.Is=new Go(a=>dg(a),pg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _N(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function ON(n,e,t,r){return new xN(n,e,t,r)}async function sb(n,e){const t=He(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],f=[];let h=tt();for(const m of o){u.push(m.batchId);for(const v of m.mutations)h=h.add(v.key)}for(const m of a){f.push(m.batchId);for(const v of m.mutations)h=h.add(v.key)}return t.localDocuments.getDocuments(r,h).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:f}))})})}function NN(n,e){const t=He(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,h,m,v){const g=m.batch,d=g.keys();let y=ge.resolve();return d.forEach(T=>{y=y.next(()=>v.getEntry(h,T)).next(b=>{const _=m.docVersions.get(T);ct(_!==null),b.version.compareTo(_)<0&&(g.applyToRemoteDocument(b,m),b.isValidDocument()&&(b.setReadTime(m.commitVersion),v.addEntry(b)))})}),y.next(()=>f.mutationQueue.removeMutationBatch(h,g))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let h=tt();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(h=h.add(f.batch.mutations[m].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function ab(n){const e=He(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function DN(n,e){const t=He(n),r=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const f=[];e.targetChanges.forEach((v,g)=>{const d=o.get(g);if(!d)return;f.push(t.Hr.removeMatchingKeys(a,v.removedDocuments,g).next(()=>t.Hr.addMatchingKeys(a,v.addedDocuments,g)));let y=d.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?y=y.withResumeToken(tn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):v.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(v.resumeToken,r)),o=o.insert(g,y),function(b,_,w){return b.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=PN?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(d,y,v)&&f.push(t.Hr.updateTargetData(a,y))});let h=ui(),m=tt();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),f.push(LN(a,u,e.documentUpdates).next(v=>{h=v.Vs,m=v.fs})),!r.isEqual($e.min())){const v=t.Hr.getLastRemoteSnapshotVersion(a).next(g=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(v)}return ge.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,m)).next(()=>h)}).then(a=>(t.Ts=o,a))}function LN(n,e,t){let r=tt(),o=tt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=ui();return t.forEach((f,h)=>{const m=a.get(f);h.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(f)),h.isNoDocument()&&h.version.isEqual($e.min())?(e.removeEntry(f,h.readTime),u=u.insert(f,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),u=u.insert(f,h)):Re(Sg,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",h.version)}),{Vs:u,fs:o}})}function MN(n,e){const t=He(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=cg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function jN(n,e){const t=He(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Hr.getTargetData(r,e).next(a=>a?(o=a,ge.resolve(o)):t.Hr.allocateTargetId(r).next(u=>(o=new Hi(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ts.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Rm(n,e,t){const r=He(n),o=r.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!fa(u))throw u;Re(Sg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(o.target)}function AE(n,e,t){const r=He(n);let o=$e.min(),a=tt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(h,m,v){const g=He(h),d=g.Is.get(v);return d!==void 0?ge.resolve(g.Ts.get(d)):g.Hr.getTargetData(m,v)}(r,u,Pr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,f.targetId).next(h=>{a=h})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?o:$e.min(),t?a:tt())).next(f=>(VN(r,SO(e),f),{documents:f,gs:a})))}function VN(n,e,t){let r=n.Es.get(e)||$e.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Es.set(e,r)}class IE{constructor(){this.activeTargetIds=PO()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UN{constructor(){this.ho=new IE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new IE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="ConnectivityMonitor";class RE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Re(kE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Re(kE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc=null;function Cm(){return mc===null?mc=function(){return 268435456+Math.round(2147483648*Math.random())}():mc++,"0x"+mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="RestConnection",qN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${o}`,this.wo=this.databaseId.database===qc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}So(e,t,r,o,a){const u=Cm(),f=this.bo(e,t.toUriEncodedString());Re(wd,`Sending RPC '${e}' ${u}:`,f,r);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,o,a),this.vo(e,f,h,r).then(m=>(Re(wd,`Received RPC '${e}' ${u}: `,m),m),m=>{throw Xs(wd,`RPC '${e}' ${u} failed with error: `,m,"url: ",f,"request:",r),m})}Co(e,t,r,o,a,u){return this.So(e,t,r,o,a)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ua}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),r&&r.headers.forEach((o,a)=>e[a]=o)}bo(e,t){const r=qN[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class $N extends BN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,o){const a=Cm();return new Promise((u,f)=>{const h=new fT;h.setWithCredentials(!0),h.listenOnce(hT.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Sc.NO_ERROR:const v=h.getResponseJson();Re(ln,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case Sc.TIMEOUT:Re(ln,`RPC '${e}' ${a} timed out`),f(new Ne(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case Sc.HTTP_ERROR:const g=h.getStatus();if(Re(ln,`RPC '${e}' ${a} failed with status:`,g,"response text:",h.getResponseText()),g>0){let d=h.getResponseJson();Array.isArray(d)&&(d=d[0]);const y=d==null?void 0:d.error;if(y&&y.status&&y.message){const T=function(_){const w=_.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(w)>=0?w:Ee.UNKNOWN}(y.status);f(new Ne(T,y.message))}else f(new Ne(Ee.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Ne(Ee.UNAVAILABLE,"Connection failed."));break;default:Ue()}}finally{Re(ln,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(o);Re(ln,`RPC '${e}' ${a} sending request:`,o),h.send(t,"POST",m,r,15)})}Wo(e,t,r){const o=Cm(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=mT(),f=pT(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const v=a.join("");Re(ln,`Creating RPC '${e}' stream ${o}: ${v}`,h);const g=u.createWebChannel(v,h);let d=!1,y=!1;const T=new zN({Fo:_=>{y?Re(ln,`Not sending because RPC '${e}' stream ${o} is closed:`,_):(d||(Re(ln,`Opening RPC '${e}' stream ${o} transport.`),g.open(),d=!0),Re(ln,`RPC '${e}' stream ${o} sending:`,_),g.send(_))},Mo:()=>g.close()}),b=(_,w,S)=>{_.listen(w,R=>{try{S(R)}catch(E){setTimeout(()=>{throw E},0)}})};return b(g,ul.EventType.OPEN,()=>{y||(Re(ln,`RPC '${e}' stream ${o} transport opened.`),T.Qo())}),b(g,ul.EventType.CLOSE,()=>{y||(y=!0,Re(ln,`RPC '${e}' stream ${o} transport closed`),T.Uo())}),b(g,ul.EventType.ERROR,_=>{y||(y=!0,Xs(ln,`RPC '${e}' stream ${o} transport errored:`,_),T.Uo(new Ne(Ee.UNAVAILABLE,"The operation could not be completed")))}),b(g,ul.EventType.MESSAGE,_=>{var w;if(!y){const S=_.data[0];ct(!!S);const R=S,E=(R==null?void 0:R.error)||((w=R[0])===null||w===void 0?void 0:w.error);if(E){Re(ln,`RPC '${e}' stream ${o} received error:`,E);const L=E.status;let U=function(M){const O=Mt[M];if(O!==void 0)return GT(O)}(L),C=E.message;U===void 0&&(U=Ee.INTERNAL,C="Unknown error status: "+L+" with message "+E.message),y=!0,T.Uo(new Ne(U,C)),g.close()}else Re(ln,`RPC '${e}' stream ${o} received:`,S),T.Ko(S)}}),b(f,dT.STAT_EVENT,_=>{_.stat===ym.PROXY?Re(ln,`RPC '${e}' stream ${o} detected buffering proxy`):_.stat===ym.NOPROXY&&Re(ln,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{T.$o()},0),T}}function Td(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(n){return new GO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=o,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-r);o>0&&Re("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="PersistentStream";class ub{constructor(e,t,r,o,a,u,f,h){this.Ti=e,this.n_=r,this.r_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new lb(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Ee.RESOURCE_EXHAUSTED?(li(t.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.i_===t&&this.V_(r,o)},r=>{e(()=>{const o=new Ne(Ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(o)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{r(()=>this.m_(o))}),this.stream.onMessage(o=>{r(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Re(CE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Re(CE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HN extends ub{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=YO(this.serializer,e),r=function(a){if(!("targetChange"in a))return $e.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?$e.min():u.readTime?xr(u.readTime):$e.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=km(this.serializer),t.addTarget=function(a,u){let f;const h=u.target;if(f=Tm(h)?{documents:eN(a,h)}:{query:tN(a,h).ht},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=YT(a,u.resumeToken);const m=Sm(a,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo($e.min())>0){f.readTime=Kc(a,u.snapshotVersion.toTimestamp());const m=Sm(a,u.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const r=rN(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=km(this.serializer),t.removeTarget=e,this.I_(t)}}class WN extends ub{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return ct(!!e.streamToken),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=ZO(e.writeResults,e.commitTime),r=xr(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=km(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>JO(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{}class GN extends KN{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Ne(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.So(e,Am(t,r),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ne(Ee.UNKNOWN,a.toString())})}Co(e,t,r,o,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Co(e,Am(t,r),o,u,f,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ne(Ee.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class QN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(li(t),this.N_=!1):Re("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="RemoteStore";class XN{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(u=>{r.enqueueAndForget(async()=>{Qo(this)&&(Re(Ho,"Restarting streams for network reachability change."),await async function(h){const m=He(h);m.W_.add(4),await Bl(m),m.j_.set("Unknown"),m.W_.delete(4),await yf(m)}(this))})}),this.j_=new QN(r,o)}}async function yf(n){if(Qo(n))for(const e of n.G_)await e(!0)}async function Bl(n){for(const e of n.G_)await e(!1)}function cb(n,e){const t=He(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Rg(t)?kg(t):ha(t).c_()&&Ig(t,e))}function Ag(n,e){const t=He(n),r=ha(t);t.K_.delete(e),r.c_()&&fb(t,e),t.K_.size===0&&(r.c_()?r.P_():Qo(t)&&t.j_.set("Unknown"))}function Ig(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ha(n).y_(e)}function fb(n,e){n.H_.Ne(e),ha(n).w_(e)}function kg(n){n.H_=new $O({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),ha(n).start(),n.j_.B_()}function Rg(n){return Qo(n)&&!ha(n).u_()&&n.K_.size>0}function Qo(n){return He(n).W_.size===0}function hb(n){n.H_=void 0}async function YN(n){n.j_.set("Online")}async function JN(n){n.K_.forEach((e,t)=>{Ig(n,e)})}async function ZN(n,e){hb(n),Rg(n)?(n.j_.q_(e),kg(n)):n.j_.set("Unknown")}async function e2(n,e,t){if(n.j_.set("Online"),e instanceof XT&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const f of a.targetIds)o.K_.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.K_.delete(f),o.H_.removeTarget(f))}(n,e)}catch(r){Re(Ho,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qc(n,r)}else if(e instanceof Rc?n.H_.We(e):e instanceof QT?n.H_.Ze(e):n.H_.je(e),!t.isEqual($e.min()))try{const r=await ab(n.localStore);t.compareTo(r)>=0&&await function(a,u){const f=a.H_.ot(u);return f.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const v=a.K_.get(m);v&&a.K_.set(m,v.withResumeToken(h.resumeToken,u))}}),f.targetMismatches.forEach((h,m)=>{const v=a.K_.get(h);if(!v)return;a.K_.set(h,v.withResumeToken(tn.EMPTY_BYTE_STRING,v.snapshotVersion)),fb(a,h);const g=new Hi(v.target,h,m,v.sequenceNumber);Ig(a,g)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(r){Re(Ho,"Failed to raise snapshot:",r),await Qc(n,r)}}async function Qc(n,e,t){if(!fa(e))throw e;n.W_.add(1),await Bl(n),n.j_.set("Offline"),t||(t=()=>ab(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Re(Ho,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await yf(n)})}function db(n,e){return e().catch(t=>Qc(n,t,e))}async function vf(n){const e=He(n),t=no(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:cg;for(;t2(e);)try{const o=await MN(e.localStore,r);if(o===null){e.U_.length===0&&t.P_();break}r=o.batchId,n2(e,o)}catch(o){await Qc(e,o)}pb(e)&&mb(e)}function t2(n){return Qo(n)&&n.U_.length<10}function n2(n,e){n.U_.push(e);const t=no(n);t.c_()&&t.S_&&t.b_(e.mutations)}function pb(n){return Qo(n)&&!no(n).u_()&&n.U_.length>0}function mb(n){no(n).start()}async function r2(n){no(n).C_()}async function i2(n){const e=no(n);for(const t of n.U_)e.b_(t.mutations)}async function o2(n,e,t){const r=n.U_.shift(),o=vg.from(r,e,t);await db(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await vf(n)}async function s2(n,e){e&&no(n).S_&&await async function(r,o){if(function(u){return BO(u)&&u!==Ee.ABORTED}(o.code)){const a=r.U_.shift();no(r).h_(),await db(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await vf(r)}}(n,e),pb(n)&&mb(n)}async function PE(n,e){const t=He(n);t.asyncQueue.verifyOperationInProgress(),Re(Ho,"RemoteStore received new credentials");const r=Qo(t);t.W_.add(3),await Bl(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await yf(t)}async function a2(n,e){const t=He(n);e?(t.W_.delete(2),await yf(t)):e||(t.W_.add(2),await Bl(t),t.j_.set("Unknown"))}function ha(n){return n.J_||(n.J_=function(t,r,o){const a=He(t);return a.M_(),new HN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:YN.bind(null,n),No:JN.bind(null,n),Lo:ZN.bind(null,n),p_:e2.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Rg(n)?kg(n):n.j_.set("Unknown")):(await n.J_.stop(),hb(n))})),n.J_}function no(n){return n.Y_||(n.Y_=function(t,r,o){const a=He(t);return a.M_(),new WN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:r2.bind(null,n),Lo:s2.bind(null,n),D_:i2.bind(null,n),v_:o2.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await vf(n)):(await n.Y_.stop(),n.U_.length>0&&(Re(Ho,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,f=new Cg(e,t,u,o,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pg(n,e){if(li("AsyncQueue",`${e}: ${n}`),fa(n))return new Ne(Ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{static emptySet(e){return new Ks(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||je.comparator(t.key,r.key):(t,r)=>je.comparator(t.key,r.key),this.keyedMap=cl(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ks)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ks;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(){this.Z_=new kt(je.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ue():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class ta{constructor(e,t,r,o,a,u,f,h,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new ta(e,t,Ks.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class u2{constructor(){this.queries=OE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const o=He(t),a=o.queries;o.queries=OE(),a.forEach((u,f)=>{for(const h of f.ta)h.onError(r)})})(this,new Ne(Ee.ABORTED,"Firestore shutting down"))}}function OE(){return new Go(n=>MT(n),ff)}async function gb(n,e){const t=He(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.na()&&e.ra()&&(r=2):(a=new l2,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await t.onListen(o,!0);break;case 1:a.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const f=Pg(u,`Initialization of query '${Fs(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&xg(t)}async function yb(n,e){const t=He(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.ta.indexOf(e);u>=0&&(a.ta.splice(u,1),a.ta.length===0?o=e.ra()?0:1:!a.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function c2(n,e){const t=He(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const f of u.ta)f.oa(o)&&(r=!0);u.ea=o}}r&&xg(t)}function f2(n,e,t){const r=He(n),o=r.queries.get(e);if(o)for(const a of o.ta)a.onError(t);r.queries.delete(e)}function xg(n){n.ia.forEach(e=>{e.next()})}var Pm,NE;(NE=Pm||(Pm={}))._a="default",NE.Cache="cache";class vb{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new ta(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ta.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.key=e}}class Eb{constructor(e){this.key=e}}class h2{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=tt(),this.mutatedKeys=tt(),this.ya=jT(e),this.wa=new Ks(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new xE,o=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,f=!1;const h=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,g)=>{const d=o.get(v),y=hf(this.query,g)?g:null,T=!!d&&this.mutatedKeys.has(d.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let _=!1;d&&y?d.data.isEqual(y.data)?T!==b&&(r.track({type:3,doc:y}),_=!0):this.va(d,y)||(r.track({type:2,doc:y}),_=!0,(h&&this.ya(y,h)>0||m&&this.ya(y,m)<0)&&(f=!0)):!d&&y?(r.track({type:0,doc:y}),_=!0):d&&!y&&(r.track({type:1,doc:d}),_=!0,(h||m)&&(f=!0)),_&&(y?(u=u.add(y),a=b?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{wa:u,Da:r,ls:f,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((v,g)=>function(y,T){const b=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue()}};return b(y)-b(T)}(v.type,g.type)||this.ya(v.doc,g.doc)),this.Ca(r),o=o!=null&&o;const f=t&&!o?this.Fa():[],h=this.pa.size===0&&this.current&&!o?1:0,m=h!==this.ga;return this.ga=h,u.length!==0||m?{snapshot:new ta(this.query,e.wa,a,u,e.mutatedKeys,h===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new xE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=tt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new Eb(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new _b(r))}),t}Oa(e){this.fa=e.gs,this.pa=tt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return ta.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Og="SyncEngine";class d2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class p2{constructor(e){this.key=e,this.Ba=!1}}class m2{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Go(f=>MT(f),ff),this.qa=new Map,this.Qa=new Set,this.$a=new kt(je.comparator),this.Ua=new Map,this.Ka=new wg,this.Wa={},this.Ga=new Map,this.za=ea.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function g2(n,e,t=!0){const r=Ib(n);let o;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Na()):o=await wb(r,e,t,!0),o}async function y2(n,e){const t=Ib(n);await wb(t,e,!0,!1)}async function wb(n,e,t,r){const o=await jN(n.localStore,Pr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let f;return r&&(f=await v2(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&cb(n.remoteStore,o),f}async function v2(n,e,t,r,o){n.Ha=(g,d,y)=>async function(b,_,w,S){let R=_.view.ba(w);R.ls&&(R=await AE(b.localStore,_.query,!1).then(({documents:C})=>_.view.ba(C,R)));const E=S&&S.targetChanges.get(_.targetId),L=S&&S.targetMismatches.get(_.targetId)!=null,U=_.view.applyChanges(R,b.isPrimaryClient,E,L);return LE(b,_.targetId,U.Ma),U.snapshot}(n,g,d,y);const a=await AE(n.localStore,e,!0),u=new h2(e,a.gs),f=u.ba(a.documents),h=ql.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=u.applyChanges(f,n.isPrimaryClient,h);LE(n,t,m.Ma);const v=new d2(e,t,u);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),m.snapshot}async function _2(n,e,t){const r=He(n),o=r.ka.get(e),a=r.qa.get(o.targetId);if(a.length>1)return r.qa.set(o.targetId,a.filter(u=>!ff(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Rm(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Ag(r.remoteStore,o.targetId),xm(r,o.targetId)}).catch(ca)):(xm(r,o.targetId),await Rm(r.localStore,o.targetId,!0))}async function E2(n,e){const t=He(n),r=t.ka.get(e),o=t.qa.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ag(t.remoteStore,r.targetId))}async function w2(n,e,t){const r=R2(n);try{const o=await function(u,f){const h=He(u),m=qt.now(),v=f.reduce((y,T)=>y.add(T.key),tt());let g,d;return h.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=ui(),b=tt();return h.ds.getEntries(y,v).next(_=>{T=_,T.forEach((w,S)=>{S.isValidDocument()||(b=b.add(w))})}).next(()=>h.localDocuments.getOverlayedDocuments(y,T)).next(_=>{g=_;const w=[];for(const S of f){const R=jO(S,g.get(S.key).overlayedDocument);R!=null&&w.push(new so(S.key,R,CT(R.value.mapValue),fr.exists(!0)))}return h.mutationQueue.addMutationBatch(y,m,w,f)}).next(_=>{d=_;const w=_.applyToLocalDocumentSet(g,b);return h.documentOverlayCache.saveOverlays(y,_.batchId,w)})}).then(()=>({batchId:d.batchId,changes:UT(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,f,h){let m=u.Wa[u.currentUser.toKey()];m||(m=new kt(Xe)),m=m.insert(f,h),u.Wa[u.currentUser.toKey()]=m}(r,o.batchId,t),await zl(r,o.changes),await vf(r.remoteStore)}catch(o){const a=Pg(o,"Failed to persist write");t.reject(a)}}async function Tb(n,e){const t=He(n);try{const r=await DN(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Ua.get(a);u&&(ct(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Ba=!0:o.modifiedDocuments.size>0?ct(u.Ba):o.removedDocuments.size>0&&(ct(u.Ba),u.Ba=!1))}),await zl(t,r,e)}catch(r){await ca(r)}}function DE(n,e,t){const r=He(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.ka.forEach((a,u)=>{const f=u.view.sa(e);f.snapshot&&o.push(f.snapshot)}),function(u,f){const h=He(u);h.onlineState=f;let m=!1;h.queries.forEach((v,g)=>{for(const d of g.ta)d.sa(f)&&(m=!0)}),m&&xg(h)}(r.eventManager,e),o.length&&r.La.p_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function T2(n,e,t){const r=He(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Ua.get(e),a=o&&o.key;if(a){let u=new kt(je.comparator);u=u.insert(a,cn.newNoDocument(a,$e.min()));const f=tt().add(a),h=new mf($e.min(),new Map,new kt(Xe),u,f);await Tb(r,h),r.$a=r.$a.remove(a),r.Ua.delete(e),Ng(r)}else await Rm(r.localStore,e,!1).then(()=>xm(r,e,t)).catch(ca)}async function b2(n,e){const t=He(n),r=e.batch.batchId;try{const o=await NN(t.localStore,e);Sb(t,r,null),bb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await zl(t,o)}catch(o){await ca(o)}}async function S2(n,e,t){const r=He(n);try{const o=await function(u,f){const h=He(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return h.mutationQueue.lookupMutationBatch(m,f).next(g=>(ct(g!==null),v=g.keys(),h.mutationQueue.removeMutationBatch(m,g))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,v,f)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>h.localDocuments.getDocuments(m,v))})}(r.localStore,e);Sb(r,e,t),bb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await zl(r,o)}catch(o){await ca(o)}}function bb(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function Sb(n,e,t){const r=He(n);let o=r.Wa[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Wa[r.currentUser.toKey()]=o}}function xm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||Ab(n,r)})}function Ab(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Ag(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),Ng(n))}function LE(n,e,t){for(const r of t)r instanceof _b?(n.Ka.addReference(r.key,e),A2(n,r)):r instanceof Eb?(Re(Og,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||Ab(n,r.key)):Ue()}function A2(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(Re(Og,"New document in limbo: "+t),n.Qa.add(r),Ng(n))}function Ng(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new je(bt.fromString(e)),r=n.za.next();n.Ua.set(r,new p2(t)),n.$a=n.$a.insert(t,r),cb(n.remoteStore,new Hi(Pr(mg(t.path)),r,"TargetPurposeLimboResolution",af.ae))}}async function zl(n,e,t){const r=He(n),o=[],a=[],u=[];r.ka.isEmpty()||(r.ka.forEach((f,h)=>{u.push(r.Ha(h,e,t).then(m=>{var v;if((m||t)&&r.isPrimaryClient){const g=m?!m.fromCache:(v=t==null?void 0:t.targetChanges.get(h.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(m){o.push(m);const g=bg.Yi(h.targetId,m);a.push(g)}}))}),await Promise.all(u),r.La.p_(o),await async function(h,m){const v=He(h);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>ge.forEach(m,d=>ge.forEach(d.Hi,y=>v.persistence.referenceDelegate.addReference(g,d.targetId,y)).next(()=>ge.forEach(d.Ji,y=>v.persistence.referenceDelegate.removeReference(g,d.targetId,y)))))}catch(g){if(!fa(g))throw g;Re(Sg,"Failed to update sequence numbers: "+g)}for(const g of m){const d=g.targetId;if(!g.fromCache){const y=v.Ts.get(d),T=y.snapshotVersion,b=y.withLastLimboFreeSnapshotVersion(T);v.Ts=v.Ts.insert(d,b)}}}(r.localStore,a))}async function I2(n,e){const t=He(n);if(!t.currentUser.isEqual(e)){Re(Og,"User change. New user:",e.toKey());const r=await sb(t.localStore,e);t.currentUser=e,function(a,u){a.Ga.forEach(f=>{f.forEach(h=>{h.reject(new Ne(Ee.CANCELLED,u))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zl(t,r.Rs)}}function k2(n,e){const t=He(n),r=t.Ua.get(e);if(r&&r.Ba)return tt().add(r.key);{let o=tt();const a=t.qa.get(e);if(!a)return o;for(const u of a){const f=t.ka.get(u);o=o.unionWith(f.view.Sa)}return o}}function Ib(n){const e=He(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T2.bind(null,e),e.La.p_=c2.bind(null,e.eventManager),e.La.Ja=f2.bind(null,e.eventManager),e}function R2(n){const e=He(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S2.bind(null,e),e}class Xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return ON(this.persistence,new CN,e.initialUser,this.serializer)}Xa(e){return new ob(Tg.ri,this.serializer)}Za(e){return new UN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xc.provider={build:()=>new Xc};class C2 extends Xc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){ct(this.persistence.referenceDelegate instanceof Gc);const r=this.persistence.referenceDelegate.garbageCollector;return new pN(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new ob(r=>Gc.ri(r,t),this.serializer)}}class Om{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>DE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=I2.bind(null,this.syncEngine),await a2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new u2}()}createDatastore(e){const t=gf(e.databaseInfo.databaseId),r=function(a){return new $N(a)}(e.databaseInfo);return function(a,u,f,h){return new GN(a,u,f,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,a,u,f){return new XN(r,o,a,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>DE(this.syncEngine,t,0),function(){return RE.D()?new RE:new FN}())}createSyncEngine(e,t){return function(o,a,u,f,h,m,v){const g=new m2(o,a,u,f,h,m);return v&&(g.ja=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=He(o);Re(Ho,"RemoteStore shutting down."),a.W_.add(5),await Bl(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Om.provider={build:()=>new Om};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="FirestoreClient";class P2{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=un.UNAUTHENTICATED,this.clientId=vT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{Re(ro,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Re(ro,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Pg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bd(n,e){n.asyncQueue.verifyOperationInProgress(),Re(ro,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await sb(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function ME(n,e){n.asyncQueue.verifyOperationInProgress();const t=await x2(n);Re(ro,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>PE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>PE(e.remoteStore,o)),n._onlineComponents=e}async function x2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Re(ro,"Using user provided OfflineComponentProvider");try{await bd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Ee.FAILED_PRECONDITION||o.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Xs("Error using user provided cache. Falling back to memory cache: "+t),await bd(n,new Xc)}}else Re(ro,"Using default OfflineComponentProvider"),await bd(n,new C2(void 0));return n._offlineComponents}async function Rb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Re(ro,"Using user provided OnlineComponentProvider"),await ME(n,n._uninitializedComponentsProvider._online)):(Re(ro,"Using default OnlineComponentProvider"),await ME(n,new Om))),n._onlineComponents}function O2(n){return Rb(n).then(e=>e.syncEngine)}async function Cb(n){const e=await Rb(n),t=e.eventManager;return t.onListen=g2.bind(null,e.syncEngine),t.onUnlisten=_2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=y2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=E2.bind(null,e.syncEngine),t}function N2(n,e,t={}){const r=new ii;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,h,m){const v=new kb({next:d=>{v.su(),u.enqueueAndForget(()=>yb(a,g));const y=d.docs.has(f);!y&&d.fromCache?m.reject(new Ne(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&d.fromCache&&h&&h.source==="server"?m.reject(new Ne(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(d)},error:d=>m.reject(d)}),g=new vb(mg(f.path),v,{includeMetadataChanges:!0,Ta:!0});return gb(a,g)}(await Cb(n),n.asyncQueue,e,t,r)),r.promise}function D2(n,e,t={}){const r=new ii;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,h,m){const v=new kb({next:d=>{v.su(),u.enqueueAndForget(()=>yb(a,g)),d.fromCache&&h.source==="server"?m.reject(new Ne(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(d)},error:d=>m.reject(d)}),g=new vb(f,v,{includeMetadataChanges:!0,Ta:!0});return gb(a,g)}(await Cb(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(n,e,t){if(!t)throw new Ne(Ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function L2(n,e,t,r){if(e===!0&&r===!0)throw new Ne(Ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function VE(n){if(!je.isDocumentKey(n))throw new Ne(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function UE(n){if(je.isDocumentKey(n))throw new Ne(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Dg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ue()}function ci(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Dg(n);throw new Ne(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="firestore.googleapis.com",FE=!0;class qE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ob,this.ssl=FE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:FE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ib;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hN)throw new Ne(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}L2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ne(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ne(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ne(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _f{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zx;switch(r.type){case"firstParty":return new Kx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=jE.get(t);r&&(Re("ComponentProvider","Removing Datastore"),jE.delete(t),r.terminate())}(this),Promise.resolve()}}function M2(n,e,t,r={}){var o;const a=(n=ci(n,_f))._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;a.host!==Ob&&a.host!==f&&Xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:f,ssl:!1,emulatorOptions:r});if(!Fo(h,u)&&(n._setSettings(h),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=un.MOCK_USER;else{m=s0(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ne(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new un(g)}n._authCredentials=new $x(new gT(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ef(this.firestore,e,this._query)}}class jn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}}class Qi extends Ef{constructor(e,t,r){super(e,t,mg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new je(e))}withConverter(e){return new Qi(this.firestore,e,this._path)}}function wf(n,e,...t){if(n=Gt(n),xb("collection","path",e),n instanceof _f){const r=bt.fromString(e,...t);return UE(r),new Qi(n,null,r)}{if(!(n instanceof jn||n instanceof Qi))throw new Ne(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bt.fromString(e,...t));return UE(r),new Qi(n.firestore,null,r)}}function $l(n,e,...t){if(n=Gt(n),arguments.length===1&&(e=vT.newId()),xb("doc","path",e),n instanceof _f){const r=bt.fromString(e,...t);return VE(r),new jn(n,null,new je(r))}{if(!(n instanceof jn||n instanceof Qi))throw new Ne(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bt.fromString(e,...t));return VE(r),new jn(n.firestore,n instanceof Qi?n.converter:null,new je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="AsyncQueue";class zE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new lb(this,"async_queue_retry"),this.Su=()=>{const r=Td();r&&Re(BE,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=Td();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Td();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ii;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!fa(e))throw e;Re(BE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const o=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(r);throw li("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Cg.createAndSchedule(this,e,t,r,a=>this.Fu(a));return this.fu.push(o),o}Du(){this.gu&&Ue()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class da extends _f{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new zE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zE(e),this._firestoreClient=void 0,await e}}}function j2(n,e){const t=typeof n=="object"?n:Wm(),r=typeof n=="string"?n:qc,o=nf(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=r0("firestore");a&&M2(o,...a)}return o}function Lg(n){if(n._terminated)throw new Ne(Ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||V2(n),n._firestoreClient}function V2(n){var e,t,r;const o=n._freezeSettings(),a=function(f,h,m,v){return new lO(f,h,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Pb(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new P2(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(f){const h=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this._byteString=e}static fromBase64String(e){try{return new na(tn.fromBase64String(e))}catch(t){throw new Ne(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new na(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ne(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=/^__.*__$/;class F2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new so(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fl(e,this.data,t,this.fieldTransforms)}}class Nb{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new so(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Db(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue()}}class Ug{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Ug(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:r,Qu:!1});return o.$u(e),o}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:r,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Yc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Db(this.Lu)&&U2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class q2{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||gf(e)}ju(e,t,r,o=!1){return new Ug({Lu:e,methodName:t,zu:r,path:en.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lb(n){const e=n._freezeSettings(),t=gf(n._databaseId);return new q2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function B2(n,e,t,r,o,a={}){const u=n.ju(a.merge||a.mergeFields?2:0,e,t,o);Fg("Data must be an object, but it was:",u,r);const f=Mb(r,u);let h,m;if(a.merge)h=new Mn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const g of a.mergeFields){const d=Nm(e,g,t);if(!u.contains(d))throw new Ne(Ee.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Vb(v,d)||v.push(d)}h=new Mn(v),m=u.fieldTransforms.filter(g=>h.covers(g.field))}else h=null,m=u.fieldTransforms;return new F2(new kn(f),h,m)}class bf extends Mg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bf}}function z2(n,e,t,r){const o=n.ju(1,e,t);Fg("Data must be an object, but it was:",o,r);const a=[],u=kn.empty();oo(r,(h,m)=>{const v=qg(e,h,t);m=Gt(m);const g=o.Uu(v);if(m instanceof bf)a.push(v);else{const d=Sf(m,g);d!=null&&(a.push(v),u.set(v,d))}});const f=new Mn(a);return new Nb(u,f,o.fieldTransforms)}function $2(n,e,t,r,o,a){const u=n.ju(1,e,t),f=[Nm(e,r,t)],h=[o];if(a.length%2!=0)throw new Ne(Ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<a.length;d+=2)f.push(Nm(e,a[d])),h.push(a[d+1]);const m=[],v=kn.empty();for(let d=f.length-1;d>=0;--d)if(!Vb(m,f[d])){const y=f[d];let T=h[d];T=Gt(T);const b=u.Uu(y);if(T instanceof bf)m.push(y);else{const _=Sf(T,b);_!=null&&(m.push(y),v.set(y,_))}}const g=new Mn(m);return new Nb(v,g,u.fieldTransforms)}function Sf(n,e){if(jb(n=Gt(n)))return Fg("Unsupported field value:",e,n),Mb(n,e);if(n instanceof Mg)return function(r,o){if(!Db(o.Lu))throw o.Wu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,o){const a=[];let u=0;for(const f of r){let h=Sf(f,o.Ku(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,o){if((r=Gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xO(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=qt.fromDate(r);return{timestampValue:Kc(o.serializer,a)}}if(r instanceof qt){const a=new qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kc(o.serializer,a)}}if(r instanceof jg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof na)return{bytesValue:YT(o.serializer,r._byteString)};if(r instanceof jn){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Eg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Vg)return function(u,f){return{mapValue:{fields:{[IT]:{stringValue:RT},[Bc]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw f.Wu("VectorValues must only contain numeric values.");return gg(f.serializer,m)})}}}}}}(r,o);throw o.Wu(`Unsupported field value: ${Dg(r)}`)}(n,e)}function Mb(n,e){const t={};return ET(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(n,(r,o)=>{const a=Sf(o,e.qu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function jb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof qt||n instanceof jg||n instanceof na||n instanceof jn||n instanceof Mg||n instanceof Vg)}function Fg(n,e,t){if(!jb(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const r=Dg(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function Nm(n,e,t){if((e=Gt(e))instanceof Tf)return e._internalPath;if(typeof e=="string")return qg(n,e);throw Yc("Field path arguments must be of type string or ",n,!1,void 0,t)}const H2=new RegExp("[~\\*/\\[\\]]");function qg(n,e,t){if(e.search(H2)>=0)throw Yc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Tf(...e.split("."))._internalPath}catch{throw Yc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Yc(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${r}`),u&&(h+=` in document ${o}`),h+=")"),new Ne(Ee.INVALID_ARGUMENT,f+n+h)}function Vb(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new W2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class W2 extends Ub{data(){return super.data()}}function Fb(n,e){return typeof e=="string"?qg(n,e):e instanceof Tf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ne(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class G2{convertValue(e,t="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return oo(e,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,o;const a=(o=(r=(t=e.fields)===null||t===void 0?void 0:t[Bc].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(u=>Ot(u.doubleValue));return new Vg(a)}convertGeoPoint(e){return new jg(Ot(e.latitude),Ot(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=uf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Al(e));default:return null}}convertTimestamp(e){const t=Zi(e);return new qt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=bt.fromString(e);ct(rb(r));const o=new Il(r.get(1),r.get(3)),a=new je(r.popFirst(5));return o.isEqual(t)||li(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qb extends Ub{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Fb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Cc extends qb{data(e={}){return super.data(e)}}class X2{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new hl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Cc(this._firestore,this._userDataWriter,r.key,r,new hl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(f=>{const h=new Cc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new hl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const h=new Cc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new hl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return f.type!==0&&(m=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:Y2(f.type),doc:h,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Y2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(n){n=ci(n,jn);const e=ci(n.firestore,da);return N2(Lg(e),n._key).then(t=>tD(e,n,t))}class Bb extends G2{constructor(e){super(),this.firestore=e}convertBytes(e){return new na(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,t)}}function Bg(n){n=ci(n,Ef);const e=ci(n.firestore,da),t=Lg(e),r=new Bb(e);return K2(n._query),D2(t,n._query).then(o=>new X2(e,r,n,o))}function zb(n,e,t,...r){n=ci(n,jn);const o=ci(n.firestore,da),a=Lb(o);let u;return u=typeof(e=Gt(e))=="string"||e instanceof Tf?$2(a,"updateDoc",n._key,e,t,r):z2(a,"updateDoc",n._key,e),zg(o,[u.toMutation(n._key,fr.exists(!0))])}function Z2(n){return zg(ci(n.firestore,da),[new yg(n._key,fr.none())])}function eD(n,e){const t=ci(n.firestore,da),r=$l(n),o=Q2(n.converter,e);return zg(t,[B2(Lb(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,fr.exists(!1))]).then(()=>r)}function zg(n,e){return function(r,o){const a=new ii;return r.asyncQueue.enqueueAndForget(async()=>w2(await O2(r),o,a)),a.promise}(Lg(n),e)}function tD(n,e,t){const r=t.docs.get(e._key),o=new Bb(n);return new qb(n,o,e._key,r,new hl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){ua=o})(Ko),qo(new Yi("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),f=new da(new Hx(r.getProvider("auth-internal")),new Gx(u,r.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ne(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Il(m.options.projectId,v)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),kr(Q_,X_,e),kr(Q_,X_,"esm2017")})();const io=j2(lg);async function $b(n){const e=wf(io,n),t=await Bg(e);let r=[];return t.forEach(o=>{r.push({...o.data(),id:o.id})}),r}async function Hb(n,e){const t=wf(io,n);return(await eD(t,e)).id}async function nD(n,e,t){const r=$l(io,n,e);return await zb(r,t),`Document with ID ${e} updated successfully.`}async function Wb(n,e){const t=$l(io,n,e),r=await J2(t);if(r.exists())return{...r.data(),id:r.id};throw new Error(`No document found with ID ${e} in collection ${n}`)}async function Kb(n,e,t){const r=wf(io,n),o=await Bg(r);let a=null;if(o.forEach(u=>{u.data()[e]===t&&(a={...u.data(),id:u.id})}),a)return a;throw new Error(`No document found in collection ${n} with ${e} equal to ${t}`)}async function rD(n,e){const t=$l(io,n,e);return await Z2(t),`Document with ID ${e} deleted successfully from collection ${n}.`}async function iD(n,e,t,r){const o=wf(io,n),a=await Bg(o);let u=null;if(a.forEach(f=>{f.data()[e]===t&&(u=f.id)}),u){const f=$l(io,n,u);return await zb(f,r),`Document with ${e} equal to ${t} updated successfully.`}else throw new Error(`No document found in collection ${n} with ${e} equal to ${t}`)}const oD=(n,e,t,r)=>new Promise((o,a)=>{if(!n)return a("Nenhum arquivo selecionado.");const u=`dishes/${n.name}`,f=Mx(Bx,u),h=Dx(f,n);h.on("state_changed",m=>{const v=m.bytesTransferred/m.totalBytes*100;e(v)},m=>{console.error(m),a(m)},async()=>{try{const m=await Lx(h.snapshot.ref);t(m),r(v=>({...v,images:[...v.images||[],m]})),o(m)}catch(m){a(m)}})});var Sd={exports:{}},Ad,$E;function sD(){if($E)return Ad;$E=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ad=n,Ad}var Id,HE;function aD(){if(HE)return Id;HE=1;var n=sD();function e(){}function t(){}return t.resetWarningCache=e,Id=function(){function r(u,f,h,m,v,g){if(g!==n){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}r.isRequired=r;function o(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Id}var WE;function lD(){return WE||(WE=1,Sd.exports=aD()()),Sd.exports}var uD=lD();const Ge=Vm(uD),cD="_containerGlobal_1q31n_1",fD="_searchField_1q31n_1",hD="_containerFilteredProducts_1q31n_16",dD="_formGroup_1q31n_24",pD="_imagePreview_1q31n_31",Lo={containerGlobal:cD,searchField:fD,containerFilteredProducts:hD,formGroup:dD,imagePreview:pD},Gb=({filteredProducts:n,sortByPrice:e,filterByIdProduct:t})=>{const[r,o]=Qe.useState({title:"",price:"",processorBrand:"",graphicsCardBrand:""}),a=u=>{const{id:f,value:h}=u.target;o({title:"",price:"",processorBrand:"",graphicsCardBrand:"",[f]:h}),n(f,h)};return q.jsxs("div",{className:Lo.containerGlobal,children:[q.jsx("div",{className:Lo.searchField,children:q.jsx("input",{type:"text",placeholder:"Busque o produto pelo id",onChange:u=>t(u.target.value)})}),q.jsxs("div",{className:Lo.containerFilteredProducts,children:[q.jsxs("div",{className:Lo.formGroup,children:[q.jsx("label",{htmlFor:"graphicsCardBrand",children:"Marca da Placa de vídeo:"}),q.jsxs("select",{id:"graphicsCardBrand",value:r.graphicsCardBrand,onChange:a,children:[q.jsx("option",{value:"",children:"Selecione sua opção"}),q.jsx("option",{value:"AMD",children:"AMD"}),q.jsx("option",{value:"Arc",children:"Arc"}),q.jsx("option",{value:"NVIDEA",children:"Nvidea"})]})]}),q.jsxs("div",{className:Lo.formGroup,children:[q.jsx("label",{htmlFor:"title",children:"Título/Aplicação:"}),q.jsxs("select",{id:"title",value:r.title,onChange:a,children:[q.jsx("option",{value:"",children:"Selecione sua opção"}),q.jsx("option",{value:"Gamer",children:"Gamer"}),q.jsx("option",{value:"Escritório",children:"Escritório"}),q.jsx("option",{value:"Render",children:"Render"}),q.jsx("option",{value:"Doméstico",children:"Doméstico"}),q.jsx("option",{value:"Edição de Video",children:"Edição de Video"})]})]}),q.jsxs("div",{className:Lo.formGroup,children:[q.jsx("label",{htmlFor:"processorBrand",children:"Marca do Processador:"}),q.jsxs("select",{id:"processorBrand",value:r.processorBrand,onChange:a,children:[q.jsx("option",{value:"",children:"Selecione sua opção"}),q.jsx("option",{value:"AMD",children:"AMD"}),q.jsx("option",{value:"Intel",children:"Intel"})]})]}),q.jsx("div",{className:Lo.formGroup,children:q.jsx("button",{onClick:e,children:"Selecione do menor para o maior preço"})})]})]})};Gb.propTypes={filteredProducts:Ge.func.isRequired,sortByPrice:Ge.func.isRequired,filterByIdProduct:Ge.func.isRequired};const KE=()=>{const[n,e]=de.useState([]),[t,r]=de.useState([]),o=sa(),{login:a}=de.useContext(fi);de.useEffect(()=>{u()},[]),de.useEffect(()=>{u()},[a]);const u=async()=>{const g=await $b("products");if(g&&g.length>0)if(a)r(g),e(g);else{const d=g.filter(y=>y.adApproved===!0);e(d),r(d);return}},f=async(g,d)=>{if(d===""){r(n);return}const y=n.filter(T=>T[g]===d);r(y)},h=g=>{console.log("Qual é oproduto   ",g),o(`/singleProduct/${g}`)},m=g=>{const d=[...t].sort((y,T)=>g==="asc"?T.price-y.price:y.price-T.price);console.log("Produtos ordenados",d),r(d)},v=g=>{g!==""?n.filter(d=>{d.id===g&&r([d])}):r(n)};return q.jsxs("div",{className:Mi.showcaseContainer,children:[q.jsx("h1",{children:"Vitrine de Produtos"}),q.jsx(Gb,{filteredProducts:f,sortByPrice:m,filterByIdProduct:v}),q.jsx("div",{className:Mi.scrollContainer,children:t.length>0?q.jsx("div",{className:Mi.productsGrid,children:t.map((g,d)=>q.jsxs("div",{className:Mi.productCard,onClick:()=>h(g.id),children:[q.jsx("div",{className:Mi.imageContainer,children:q.jsx("img",{src:g.images[0],alt:`Produto ${d+1}`,className:Mi.productImage})}),q.jsx("h3",{className:Mi.title,children:g.title}),q.jsxs("h3",{className:Mi.price,children:["R$ ",g.price,",00"]})]},d))}):q.jsx("p",{children:"Nenhum produto encontrado no localStorage."})})]})},mD="_productFormContainer_ktmcw_3",gD="_formContainer_ktmcw_3",yD="_formRow_ktmcw_8",vD="_formGroup_ktmcw_11",_D="_formTextareaColumn_ktmcw_15",ED="_textareaColumn_ktmcw_18",wD="_linkAddImgContainer_ktmcw_22",TD="_linkField_ktmcw_26",bD="_btn_ktmcw_26",SD="_containerImages_ktmcw_30",AD="_btnContainer_ktmcw_33",ID="_imagePreview_ktmcw_62",kD="_textField_ktmcw_97",RD="_imageItem_ktmcw_155",Ze={productFormContainer:mD,formContainer:gD,formRow:yD,formGroup:vD,formTextareaColumn:_D,textareaColumn:ED,linkAddImgContainer:wD,linkField:TD,btn:bD,containerImages:SD,btnContainer:AD,imagePreview:ID,textField:kD,imageItem:RD},CD="_container_if0ca_1",PD="_geralContainerConfirmMessage_if0ca_18",xD="_containerBtn_if0ca_24",OD="_containerCpf_if0ca_31",ND="_submitCpfBtn_if0ca_40",DD="_register_if0ca_67",Ar={container:CD,geralContainerConfirmMessage:PD,containerBtn:xD,containerCpf:OD,submitCpfBtn:ND,register:DD},Dm=({setCloseMessage:n,defaultMessage:e,goOn:t})=>q.jsx("div",{className:Ar.container,children:q.jsxs("div",{className:Ar.geralContainerConfirmMessage,children:[q.jsxs("div",{children:[" ",q.jsx("h1",{children:e})]}),q.jsxs("div",{className:Ar.containerBtn,children:[q.jsx("button",{onClick:t,children:"Sim"}),q.jsx("button",{onClick:()=>n(!1),children:"Não"})]})]})});Dm.propTypes={setCloseMessage:Ge.func.isRequired,defaultMessage:Ge.string.isRequired,goOn:Ge.func.isRequired};const LD="_container_l88h6_1",MD="_messageBox_l88h6_13",GE={container:LD,messageBox:MD},ra=({message:n,setClose:e,setCloseMessage:t,adress:r})=>{const o=sa();return Qe.useEffect(()=>{const a=setTimeout(()=>{e&&e(!1),t&&t(!1),r&&o(r)},4e3);return()=>clearTimeout(a)},[o]),q.jsx("div",{className:GE.container,children:q.jsx("div",{className:GE.messageBox,children:n})})};ra.propTypes={message:Ge.string.isRequired,adress:Ge.string,setCloseMessage:Ge.func,setClose:Ge.func.isRequired};var kd,QE;function jD(){if(QE)return kd;QE=1;function n(){this.__data__=[],this.size=0}return kd=n,kd}var Rd,XE;function Qb(){if(XE)return Rd;XE=1;function n(e,t){return e===t||e!==e&&t!==t}return Rd=n,Rd}var Cd,YE;function Af(){if(YE)return Cd;YE=1;var n=Qb();function e(t,r){for(var o=t.length;o--;)if(n(t[o][0],r))return o;return-1}return Cd=e,Cd}var Pd,JE;function VD(){if(JE)return Pd;JE=1;var n=Af(),e=Array.prototype,t=e.splice;function r(o){var a=this.__data__,u=n(a,o);if(u<0)return!1;var f=a.length-1;return u==f?a.pop():t.call(a,u,1),--this.size,!0}return Pd=r,Pd}var xd,ZE;function UD(){if(ZE)return xd;ZE=1;var n=Af();function e(t){var r=this.__data__,o=n(r,t);return o<0?void 0:r[o][1]}return xd=e,xd}var Od,e1;function FD(){if(e1)return Od;e1=1;var n=Af();function e(t){return n(this.__data__,t)>-1}return Od=e,Od}var Nd,t1;function qD(){if(t1)return Nd;t1=1;var n=Af();function e(t,r){var o=this.__data__,a=n(o,t);return a<0?(++this.size,o.push([t,r])):o[a][1]=r,this}return Nd=e,Nd}var Dd,n1;function If(){if(n1)return Dd;n1=1;var n=jD(),e=VD(),t=UD(),r=FD(),o=qD();function a(u){var f=-1,h=u==null?0:u.length;for(this.clear();++f<h;){var m=u[f];this.set(m[0],m[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,Dd=a,Dd}var Ld,r1;function BD(){if(r1)return Ld;r1=1;var n=If();function e(){this.__data__=new n,this.size=0}return Ld=e,Ld}var Md,i1;function zD(){if(i1)return Md;i1=1;function n(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}return Md=n,Md}var jd,o1;function $D(){if(o1)return jd;o1=1;function n(e){return this.__data__.get(e)}return jd=n,jd}var Vd,s1;function HD(){if(s1)return Vd;s1=1;function n(e){return this.__data__.has(e)}return Vd=n,Vd}var Ud,a1;function Xb(){if(a1)return Ud;a1=1;var n=typeof oc=="object"&&oc&&oc.Object===Object&&oc;return Ud=n,Ud}var Fd,l1;function hi(){if(l1)return Fd;l1=1;var n=Xb(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return Fd=t,Fd}var qd,u1;function $g(){if(u1)return qd;u1=1;var n=hi(),e=n.Symbol;return qd=e,qd}var Bd,c1;function WD(){if(c1)return Bd;c1=1;var n=$g(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,o=n?n.toStringTag:void 0;function a(u){var f=t.call(u,o),h=u[o];try{u[o]=void 0;var m=!0}catch{}var v=r.call(u);return m&&(f?u[o]=h:delete u[o]),v}return Bd=a,Bd}var zd,f1;function KD(){if(f1)return zd;f1=1;var n=Object.prototype,e=n.toString;function t(r){return e.call(r)}return zd=t,zd}var $d,h1;function kf(){if(h1)return $d;h1=1;var n=$g(),e=WD(),t=KD(),r="[object Null]",o="[object Undefined]",a=n?n.toStringTag:void 0;function u(f){return f==null?f===void 0?o:r:a&&a in Object(f)?e(f):t(f)}return $d=u,$d}var Hd,d1;function Yb(){if(d1)return Hd;d1=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return Hd=n,Hd}var Wd,p1;function Jb(){if(p1)return Wd;p1=1;var n=kf(),e=Yb(),t="[object AsyncFunction]",r="[object Function]",o="[object GeneratorFunction]",a="[object Proxy]";function u(f){if(!e(f))return!1;var h=n(f);return h==r||h==o||h==t||h==a}return Wd=u,Wd}var Kd,m1;function GD(){if(m1)return Kd;m1=1;var n=hi(),e=n["__core-js_shared__"];return Kd=e,Kd}var Gd,g1;function QD(){if(g1)return Gd;g1=1;var n=GD(),e=function(){var r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function t(r){return!!e&&e in r}return Gd=t,Gd}var Qd,y1;function Zb(){if(y1)return Qd;y1=1;var n=Function.prototype,e=n.toString;function t(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Qd=t,Qd}var Xd,v1;function XD(){if(v1)return Xd;v1=1;var n=Jb(),e=QD(),t=Yb(),r=Zb(),o=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,u=Function.prototype,f=Object.prototype,h=u.toString,m=f.hasOwnProperty,v=RegExp("^"+h.call(m).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(d){if(!t(d)||e(d))return!1;var y=n(d)?v:a;return y.test(r(d))}return Xd=g,Xd}var Yd,_1;function YD(){if(_1)return Yd;_1=1;function n(e,t){return e==null?void 0:e[t]}return Yd=n,Yd}var Jd,E1;function pa(){if(E1)return Jd;E1=1;var n=XD(),e=YD();function t(r,o){var a=e(r,o);return n(a)?a:void 0}return Jd=t,Jd}var Zd,w1;function Hg(){if(w1)return Zd;w1=1;var n=pa(),e=hi(),t=n(e,"Map");return Zd=t,Zd}var ep,T1;function Rf(){if(T1)return ep;T1=1;var n=pa(),e=n(Object,"create");return ep=e,ep}var tp,b1;function JD(){if(b1)return tp;b1=1;var n=Rf();function e(){this.__data__=n?n(null):{},this.size=0}return tp=e,tp}var np,S1;function ZD(){if(S1)return np;S1=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return np=n,np}var rp,A1;function eL(){if(A1)return rp;A1=1;var n=Rf(),e="__lodash_hash_undefined__",t=Object.prototype,r=t.hasOwnProperty;function o(a){var u=this.__data__;if(n){var f=u[a];return f===e?void 0:f}return r.call(u,a)?u[a]:void 0}return rp=o,rp}var ip,I1;function tL(){if(I1)return ip;I1=1;var n=Rf(),e=Object.prototype,t=e.hasOwnProperty;function r(o){var a=this.__data__;return n?a[o]!==void 0:t.call(a,o)}return ip=r,ip}var op,k1;function nL(){if(k1)return op;k1=1;var n=Rf(),e="__lodash_hash_undefined__";function t(r,o){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=n&&o===void 0?e:o,this}return op=t,op}var sp,R1;function rL(){if(R1)return sp;R1=1;var n=JD(),e=ZD(),t=eL(),r=tL(),o=nL();function a(u){var f=-1,h=u==null?0:u.length;for(this.clear();++f<h;){var m=u[f];this.set(m[0],m[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,sp=a,sp}var ap,C1;function iL(){if(C1)return ap;C1=1;var n=rL(),e=If(),t=Hg();function r(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return ap=r,ap}var lp,P1;function oL(){if(P1)return lp;P1=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return lp=n,lp}var up,x1;function Cf(){if(x1)return up;x1=1;var n=oL();function e(t,r){var o=t.__data__;return n(r)?o[typeof r=="string"?"string":"hash"]:o.map}return up=e,up}var cp,O1;function sL(){if(O1)return cp;O1=1;var n=Cf();function e(t){var r=n(this,t).delete(t);return this.size-=r?1:0,r}return cp=e,cp}var fp,N1;function aL(){if(N1)return fp;N1=1;var n=Cf();function e(t){return n(this,t).get(t)}return fp=e,fp}var hp,D1;function lL(){if(D1)return hp;D1=1;var n=Cf();function e(t){return n(this,t).has(t)}return hp=e,hp}var dp,L1;function uL(){if(L1)return dp;L1=1;var n=Cf();function e(t,r){var o=n(this,t),a=o.size;return o.set(t,r),this.size+=o.size==a?0:1,this}return dp=e,dp}var pp,M1;function eS(){if(M1)return pp;M1=1;var n=iL(),e=sL(),t=aL(),r=lL(),o=uL();function a(u){var f=-1,h=u==null?0:u.length;for(this.clear();++f<h;){var m=u[f];this.set(m[0],m[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,pp=a,pp}var mp,j1;function cL(){if(j1)return mp;j1=1;var n=If(),e=Hg(),t=eS(),r=200;function o(a,u){var f=this.__data__;if(f instanceof n){var h=f.__data__;if(!e||h.length<r-1)return h.push([a,u]),this.size=++f.size,this;f=this.__data__=new t(h)}return f.set(a,u),this.size=f.size,this}return mp=o,mp}var gp,V1;function fL(){if(V1)return gp;V1=1;var n=If(),e=BD(),t=zD(),r=$D(),o=HD(),a=cL();function u(f){var h=this.__data__=new n(f);this.size=h.size}return u.prototype.clear=e,u.prototype.delete=t,u.prototype.get=r,u.prototype.has=o,u.prototype.set=a,gp=u,gp}var yp,U1;function hL(){if(U1)return yp;U1=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return yp=e,yp}var vp,F1;function dL(){if(F1)return vp;F1=1;function n(e){return this.__data__.has(e)}return vp=n,vp}var _p,q1;function pL(){if(q1)return _p;q1=1;var n=eS(),e=hL(),t=dL();function r(o){var a=-1,u=o==null?0:o.length;for(this.__data__=new n;++a<u;)this.add(o[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=t,_p=r,_p}var Ep,B1;function mL(){if(B1)return Ep;B1=1;function n(e,t){for(var r=-1,o=e==null?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}return Ep=n,Ep}var wp,z1;function gL(){if(z1)return wp;z1=1;function n(e,t){return e.has(t)}return wp=n,wp}var Tp,$1;function tS(){if($1)return Tp;$1=1;var n=pL(),e=mL(),t=gL(),r=1,o=2;function a(u,f,h,m,v,g){var d=h&r,y=u.length,T=f.length;if(y!=T&&!(d&&T>y))return!1;var b=g.get(u),_=g.get(f);if(b&&_)return b==f&&_==u;var w=-1,S=!0,R=h&o?new n:void 0;for(g.set(u,f),g.set(f,u);++w<y;){var E=u[w],L=f[w];if(m)var U=d?m(L,E,w,f,u,g):m(E,L,w,u,f,g);if(U!==void 0){if(U)continue;S=!1;break}if(R){if(!e(f,function(C,I){if(!t(R,I)&&(E===C||v(E,C,h,m,g)))return R.push(I)})){S=!1;break}}else if(!(E===L||v(E,L,h,m,g))){S=!1;break}}return g.delete(u),g.delete(f),S}return Tp=a,Tp}var bp,H1;function yL(){if(H1)return bp;H1=1;var n=hi(),e=n.Uint8Array;return bp=e,bp}var Sp,W1;function vL(){if(W1)return Sp;W1=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(o,a){r[++t]=[a,o]}),r}return Sp=n,Sp}var Ap,K1;function _L(){if(K1)return Ap;K1=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r}return Ap=n,Ap}var Ip,G1;function EL(){if(G1)return Ip;G1=1;var n=$g(),e=yL(),t=Qb(),r=tS(),o=vL(),a=_L(),u=1,f=2,h="[object Boolean]",m="[object Date]",v="[object Error]",g="[object Map]",d="[object Number]",y="[object RegExp]",T="[object Set]",b="[object String]",_="[object Symbol]",w="[object ArrayBuffer]",S="[object DataView]",R=n?n.prototype:void 0,E=R?R.valueOf:void 0;function L(U,C,I,M,O,k,D){switch(I){case S:if(U.byteLength!=C.byteLength||U.byteOffset!=C.byteOffset)return!1;U=U.buffer,C=C.buffer;case w:return!(U.byteLength!=C.byteLength||!k(new e(U),new e(C)));case h:case m:case d:return t(+U,+C);case v:return U.name==C.name&&U.message==C.message;case y:case b:return U==C+"";case g:var N=o;case T:var H=M&u;if(N||(N=a),U.size!=C.size&&!H)return!1;var G=D.get(U);if(G)return G==C;M|=f,D.set(U,C);var X=r(N(U),N(C),M,O,k,D);return D.delete(U),X;case _:if(E)return E.call(U)==E.call(C)}return!1}return Ip=L,Ip}var kp,Q1;function wL(){if(Q1)return kp;Q1=1;function n(e,t){for(var r=-1,o=t.length,a=e.length;++r<o;)e[a+r]=t[r];return e}return kp=n,kp}var Rp,X1;function Wg(){if(X1)return Rp;X1=1;var n=Array.isArray;return Rp=n,Rp}var Cp,Y1;function TL(){if(Y1)return Cp;Y1=1;var n=wL(),e=Wg();function t(r,o,a){var u=o(r);return e(r)?u:n(u,a(r))}return Cp=t,Cp}var Pp,J1;function bL(){if(J1)return Pp;J1=1;function n(e,t){for(var r=-1,o=e==null?0:e.length,a=0,u=[];++r<o;){var f=e[r];t(f,r,e)&&(u[a++]=f)}return u}return Pp=n,Pp}var xp,Z1;function SL(){if(Z1)return xp;Z1=1;function n(){return[]}return xp=n,xp}var Op,ew;function AL(){if(ew)return Op;ew=1;var n=bL(),e=SL(),t=Object.prototype,r=t.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(u){return u==null?[]:(u=Object(u),n(o(u),function(f){return r.call(u,f)}))}:e;return Op=a,Op}var Np,tw;function IL(){if(tw)return Np;tw=1;function n(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}return Np=n,Np}var Dp,nw;function Pf(){if(nw)return Dp;nw=1;function n(e){return e!=null&&typeof e=="object"}return Dp=n,Dp}var Lp,rw;function kL(){if(rw)return Lp;rw=1;var n=kf(),e=Pf(),t="[object Arguments]";function r(o){return e(o)&&n(o)==t}return Lp=r,Lp}var Mp,iw;function RL(){if(iw)return Mp;iw=1;var n=kL(),e=Pf(),t=Object.prototype,r=t.hasOwnProperty,o=t.propertyIsEnumerable,a=n(function(){return arguments}())?n:function(u){return e(u)&&r.call(u,"callee")&&!o.call(u,"callee")};return Mp=a,Mp}var dl={exports:{}},jp,ow;function CL(){if(ow)return jp;ow=1;function n(){return!1}return jp=n,jp}dl.exports;var sw;function nS(){return sw||(sw=1,function(n,e){var t=hi(),r=CL(),o=e&&!e.nodeType&&e,a=o&&!0&&n&&!n.nodeType&&n,u=a&&a.exports===o,f=u?t.Buffer:void 0,h=f?f.isBuffer:void 0,m=h||r;n.exports=m}(dl,dl.exports)),dl.exports}var Vp,aw;function PL(){if(aw)return Vp;aw=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(r,o){var a=typeof r;return o=o??n,!!o&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<o}return Vp=t,Vp}var Up,lw;function rS(){if(lw)return Up;lw=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return Up=e,Up}var Fp,uw;function xL(){if(uw)return Fp;uw=1;var n=kf(),e=rS(),t=Pf(),r="[object Arguments]",o="[object Array]",a="[object Boolean]",u="[object Date]",f="[object Error]",h="[object Function]",m="[object Map]",v="[object Number]",g="[object Object]",d="[object RegExp]",y="[object Set]",T="[object String]",b="[object WeakMap]",_="[object ArrayBuffer]",w="[object DataView]",S="[object Float32Array]",R="[object Float64Array]",E="[object Int8Array]",L="[object Int16Array]",U="[object Int32Array]",C="[object Uint8Array]",I="[object Uint8ClampedArray]",M="[object Uint16Array]",O="[object Uint32Array]",k={};k[S]=k[R]=k[E]=k[L]=k[U]=k[C]=k[I]=k[M]=k[O]=!0,k[r]=k[o]=k[_]=k[a]=k[w]=k[u]=k[f]=k[h]=k[m]=k[v]=k[g]=k[d]=k[y]=k[T]=k[b]=!1;function D(N){return t(N)&&e(N.length)&&!!k[n(N)]}return Fp=D,Fp}var qp,cw;function OL(){if(cw)return qp;cw=1;function n(e){return function(t){return e(t)}}return qp=n,qp}var pl={exports:{}};pl.exports;var fw;function NL(){return fw||(fw=1,function(n,e){var t=Xb(),r=e&&!e.nodeType&&e,o=r&&!0&&n&&!n.nodeType&&n,a=o&&o.exports===r,u=a&&t.process,f=function(){try{var h=o&&o.require&&o.require("util").types;return h||u&&u.binding&&u.binding("util")}catch{}}();n.exports=f}(pl,pl.exports)),pl.exports}var Bp,hw;function iS(){if(hw)return Bp;hw=1;var n=xL(),e=OL(),t=NL(),r=t&&t.isTypedArray,o=r?e(r):n;return Bp=o,Bp}var zp,dw;function DL(){if(dw)return zp;dw=1;var n=IL(),e=RL(),t=Wg(),r=nS(),o=PL(),a=iS(),u=Object.prototype,f=u.hasOwnProperty;function h(m,v){var g=t(m),d=!g&&e(m),y=!g&&!d&&r(m),T=!g&&!d&&!y&&a(m),b=g||d||y||T,_=b?n(m.length,String):[],w=_.length;for(var S in m)(v||f.call(m,S))&&!(b&&(S=="length"||y&&(S=="offset"||S=="parent")||T&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||o(S,w)))&&_.push(S);return _}return zp=h,zp}var $p,pw;function LL(){if(pw)return $p;pw=1;var n=Object.prototype;function e(t){var r=t&&t.constructor,o=typeof r=="function"&&r.prototype||n;return t===o}return $p=e,$p}var Hp,mw;function ML(){if(mw)return Hp;mw=1;function n(e,t){return function(r){return e(t(r))}}return Hp=n,Hp}var Wp,gw;function jL(){if(gw)return Wp;gw=1;var n=ML(),e=n(Object.keys,Object);return Wp=e,Wp}var Kp,yw;function VL(){if(yw)return Kp;yw=1;var n=LL(),e=jL(),t=Object.prototype,r=t.hasOwnProperty;function o(a){if(!n(a))return e(a);var u=[];for(var f in Object(a))r.call(a,f)&&f!="constructor"&&u.push(f);return u}return Kp=o,Kp}var Gp,vw;function UL(){if(vw)return Gp;vw=1;var n=Jb(),e=rS();function t(r){return r!=null&&e(r.length)&&!n(r)}return Gp=t,Gp}var Qp,_w;function FL(){if(_w)return Qp;_w=1;var n=DL(),e=VL(),t=UL();function r(o){return t(o)?n(o):e(o)}return Qp=r,Qp}var Xp,Ew;function qL(){if(Ew)return Xp;Ew=1;var n=TL(),e=AL(),t=FL();function r(o){return n(o,t,e)}return Xp=r,Xp}var Yp,ww;function BL(){if(ww)return Yp;ww=1;var n=qL(),e=1,t=Object.prototype,r=t.hasOwnProperty;function o(a,u,f,h,m,v){var g=f&e,d=n(a),y=d.length,T=n(u),b=T.length;if(y!=b&&!g)return!1;for(var _=y;_--;){var w=d[_];if(!(g?w in u:r.call(u,w)))return!1}var S=v.get(a),R=v.get(u);if(S&&R)return S==u&&R==a;var E=!0;v.set(a,u),v.set(u,a);for(var L=g;++_<y;){w=d[_];var U=a[w],C=u[w];if(h)var I=g?h(C,U,w,u,a,v):h(U,C,w,a,u,v);if(!(I===void 0?U===C||m(U,C,f,h,v):I)){E=!1;break}L||(L=w=="constructor")}if(E&&!L){var M=a.constructor,O=u.constructor;M!=O&&"constructor"in a&&"constructor"in u&&!(typeof M=="function"&&M instanceof M&&typeof O=="function"&&O instanceof O)&&(E=!1)}return v.delete(a),v.delete(u),E}return Yp=o,Yp}var Jp,Tw;function zL(){if(Tw)return Jp;Tw=1;var n=pa(),e=hi(),t=n(e,"DataView");return Jp=t,Jp}var Zp,bw;function $L(){if(bw)return Zp;bw=1;var n=pa(),e=hi(),t=n(e,"Promise");return Zp=t,Zp}var em,Sw;function HL(){if(Sw)return em;Sw=1;var n=pa(),e=hi(),t=n(e,"Set");return em=t,em}var tm,Aw;function WL(){if(Aw)return tm;Aw=1;var n=pa(),e=hi(),t=n(e,"WeakMap");return tm=t,tm}var nm,Iw;function KL(){if(Iw)return nm;Iw=1;var n=zL(),e=Hg(),t=$L(),r=HL(),o=WL(),a=kf(),u=Zb(),f="[object Map]",h="[object Object]",m="[object Promise]",v="[object Set]",g="[object WeakMap]",d="[object DataView]",y=u(n),T=u(e),b=u(t),_=u(r),w=u(o),S=a;return(n&&S(new n(new ArrayBuffer(1)))!=d||e&&S(new e)!=f||t&&S(t.resolve())!=m||r&&S(new r)!=v||o&&S(new o)!=g)&&(S=function(R){var E=a(R),L=E==h?R.constructor:void 0,U=L?u(L):"";if(U)switch(U){case y:return d;case T:return f;case b:return m;case _:return v;case w:return g}return E}),nm=S,nm}var rm,kw;function GL(){if(kw)return rm;kw=1;var n=fL(),e=tS(),t=EL(),r=BL(),o=KL(),a=Wg(),u=nS(),f=iS(),h=1,m="[object Arguments]",v="[object Array]",g="[object Object]",d=Object.prototype,y=d.hasOwnProperty;function T(b,_,w,S,R,E){var L=a(b),U=a(_),C=L?v:o(b),I=U?v:o(_);C=C==m?g:C,I=I==m?g:I;var M=C==g,O=I==g,k=C==I;if(k&&u(b)){if(!u(_))return!1;L=!0,M=!1}if(k&&!M)return E||(E=new n),L||f(b)?e(b,_,w,S,R,E):t(b,_,C,w,S,R,E);if(!(w&h)){var D=M&&y.call(b,"__wrapped__"),N=O&&y.call(_,"__wrapped__");if(D||N){var H=D?b.value():b,G=N?_.value():_;return E||(E=new n),R(H,G,w,S,E)}}return k?(E||(E=new n),r(b,_,w,S,R,E)):!1}return rm=T,rm}var im,Rw;function QL(){if(Rw)return im;Rw=1;var n=GL(),e=Pf();function t(r,o,a,u,f){return r===o?!0:r==null||o==null||!e(r)&&!e(o)?r!==r&&o!==o:n(r,o,a,u,t,f)}return im=t,im}var om,Cw;function XL(){if(Cw)return om;Cw=1;var n=QL();function e(t,r){return n(t,r)}return om=e,om}var Pc={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var YL=Pc.exports,Pw;function JL(){return Pw||(Pw=1,function(n,e){(function(r,o){n.exports=o()})(typeof self<"u"?self:YL,function(){return function(t){var r={};function o(a){if(r[a])return r[a].exports;var u=r[a]={i:a,l:!1,exports:{}};return t[a].call(u.exports,u,u.exports,o),u.l=!0,u.exports}return o.m=t,o.c=r,o.d=function(a,u,f){o.o(a,u)||Object.defineProperty(a,u,{configurable:!1,enumerable:!0,get:f})},o.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(u,"a",u),u},o.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},o.p="",o(o.s=109)}([function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(17),u=o(18),f=o(19),h=o(45),m=o(46),v=o(47),g=o(48),d=o(49),y=o(12),T=o(32),b=o(33),_=o(31),w=o(1),S={Scope:w.Scope,create:w.create,find:w.find,query:w.query,register:w.register,Container:a.default,Format:u.default,Leaf:f.default,Embed:g.default,Scroll:h.default,Block:v.default,Inline:m.default,Text:d.default,Attributor:{Attribute:y.default,Class:T.default,Style:b.default,Store:_.default}};r.default=S},function(t,r,o){var a=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var R in S)S.hasOwnProperty(R)&&(w[R]=S[R])};return function(w,S){_(w,S);function R(){this.constructor=w}w.prototype=S===null?Object.create(S):(R.prototype=S.prototype,new R)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=function(_){a(w,_);function w(S){var R=this;return S="[Parchment] "+S,R=_.call(this,S)||this,R.message=S,R.name=R.constructor.name,R}return w}(Error);r.ParchmentError=u;var f={},h={},m={},v={};r.DATA_KEY="__blot";var g;(function(_){_[_.TYPE=3]="TYPE",_[_.LEVEL=12]="LEVEL",_[_.ATTRIBUTE=13]="ATTRIBUTE",_[_.BLOT=14]="BLOT",_[_.INLINE=7]="INLINE",_[_.BLOCK=11]="BLOCK",_[_.BLOCK_BLOT=10]="BLOCK_BLOT",_[_.INLINE_BLOT=6]="INLINE_BLOT",_[_.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",_[_.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",_[_.ANY=15]="ANY"})(g=r.Scope||(r.Scope={}));function d(_,w){var S=T(_);if(S==null)throw new u("Unable to create "+_+" blot");var R=S,E=_ instanceof Node||_.nodeType===Node.TEXT_NODE?_:R.create(w);return new R(E,w)}r.create=d;function y(_,w){return w===void 0&&(w=!1),_==null?null:_[r.DATA_KEY]!=null?_[r.DATA_KEY].blot:w?y(_.parentNode,w):null}r.find=y;function T(_,w){w===void 0&&(w=g.ANY);var S;if(typeof _=="string")S=v[_]||f[_];else if(_ instanceof Text||_.nodeType===Node.TEXT_NODE)S=v.text;else if(typeof _=="number")_&g.LEVEL&g.BLOCK?S=v.block:_&g.LEVEL&g.INLINE&&(S=v.inline);else if(_ instanceof HTMLElement){var R=(_.getAttribute("class")||"").split(/\s+/);for(var E in R)if(S=h[R[E]],S)break;S=S||m[_.tagName]}return S==null?null:w&g.LEVEL&S.scope&&w&g.TYPE&S.scope?S:null}r.query=T;function b(){for(var _=[],w=0;w<arguments.length;w++)_[w]=arguments[w];if(_.length>1)return _.map(function(E){return b(E)});var S=_[0];if(typeof S.blotName!="string"&&typeof S.attrName!="string")throw new u("Invalid definition");if(S.blotName==="abstract")throw new u("Cannot register abstract class");if(v[S.blotName||S.attrName]=S,typeof S.keyName=="string")f[S.keyName]=S;else if(S.className!=null&&(h[S.className]=S),S.tagName!=null){Array.isArray(S.tagName)?S.tagName=S.tagName.map(function(E){return E.toUpperCase()}):S.tagName=S.tagName.toUpperCase();var R=Array.isArray(S.tagName)?S.tagName:[S.tagName];R.forEach(function(E){(m[E]==null||S.className==null)&&(m[E]=S)})}return S}r.register=b},function(t,r,o){var a=o(51),u=o(11),f=o(3),h=o(20),m="\0",v=function(g){Array.isArray(g)?this.ops=g:g!=null&&Array.isArray(g.ops)?this.ops=g.ops:this.ops=[]};v.prototype.insert=function(g,d){var y={};return g.length===0?this:(y.insert=g,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(y.attributes=d),this.push(y))},v.prototype.delete=function(g){return g<=0?this:this.push({delete:g})},v.prototype.retain=function(g,d){if(g<=0)return this;var y={retain:g};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(y.attributes=d),this.push(y)},v.prototype.push=function(g){var d=this.ops.length,y=this.ops[d-1];if(g=f(!0,{},g),typeof y=="object"){if(typeof g.delete=="number"&&typeof y.delete=="number")return this.ops[d-1]={delete:y.delete+g.delete},this;if(typeof y.delete=="number"&&g.insert!=null&&(d-=1,y=this.ops[d-1],typeof y!="object"))return this.ops.unshift(g),this;if(u(g.attributes,y.attributes)){if(typeof g.insert=="string"&&typeof y.insert=="string")return this.ops[d-1]={insert:y.insert+g.insert},typeof g.attributes=="object"&&(this.ops[d-1].attributes=g.attributes),this;if(typeof g.retain=="number"&&typeof y.retain=="number")return this.ops[d-1]={retain:y.retain+g.retain},typeof g.attributes=="object"&&(this.ops[d-1].attributes=g.attributes),this}}return d===this.ops.length?this.ops.push(g):this.ops.splice(d,0,g),this},v.prototype.chop=function(){var g=this.ops[this.ops.length-1];return g&&g.retain&&!g.attributes&&this.ops.pop(),this},v.prototype.filter=function(g){return this.ops.filter(g)},v.prototype.forEach=function(g){this.ops.forEach(g)},v.prototype.map=function(g){return this.ops.map(g)},v.prototype.partition=function(g){var d=[],y=[];return this.forEach(function(T){var b=g(T)?d:y;b.push(T)}),[d,y]},v.prototype.reduce=function(g,d){return this.ops.reduce(g,d)},v.prototype.changeLength=function(){return this.reduce(function(g,d){return d.insert?g+h.length(d):d.delete?g-d.delete:g},0)},v.prototype.length=function(){return this.reduce(function(g,d){return g+h.length(d)},0)},v.prototype.slice=function(g,d){g=g||0,typeof d!="number"&&(d=1/0);for(var y=[],T=h.iterator(this.ops),b=0;b<d&&T.hasNext();){var _;b<g?_=T.next(g-b):(_=T.next(d-b),y.push(_)),b+=h.length(_)}return new v(y)},v.prototype.compose=function(g){var d=h.iterator(this.ops),y=h.iterator(g.ops),T=[],b=y.peek();if(b!=null&&typeof b.retain=="number"&&b.attributes==null){for(var _=b.retain;d.peekType()==="insert"&&d.peekLength()<=_;)_-=d.peekLength(),T.push(d.next());b.retain-_>0&&y.next(b.retain-_)}for(var w=new v(T);d.hasNext()||y.hasNext();)if(y.peekType()==="insert")w.push(y.next());else if(d.peekType()==="delete")w.push(d.next());else{var S=Math.min(d.peekLength(),y.peekLength()),R=d.next(S),E=y.next(S);if(typeof E.retain=="number"){var L={};typeof R.retain=="number"?L.retain=S:L.insert=R.insert;var U=h.attributes.compose(R.attributes,E.attributes,typeof R.retain=="number");if(U&&(L.attributes=U),w.push(L),!y.hasNext()&&u(w.ops[w.ops.length-1],L)){var C=new v(d.rest());return w.concat(C).chop()}}else typeof E.delete=="number"&&typeof R.retain=="number"&&w.push(E)}return w.chop()},v.prototype.concat=function(g){var d=new v(this.ops.slice());return g.ops.length>0&&(d.push(g.ops[0]),d.ops=d.ops.concat(g.ops.slice(1))),d},v.prototype.diff=function(g,d){if(this.ops===g.ops)return new v;var y=[this,g].map(function(S){return S.map(function(R){if(R.insert!=null)return typeof R.insert=="string"?R.insert:m;var E=S===g?"on":"with";throw new Error("diff() called "+E+" non-document")}).join("")}),T=new v,b=a(y[0],y[1],d),_=h.iterator(this.ops),w=h.iterator(g.ops);return b.forEach(function(S){for(var R=S[1].length;R>0;){var E=0;switch(S[0]){case a.INSERT:E=Math.min(w.peekLength(),R),T.push(w.next(E));break;case a.DELETE:E=Math.min(R,_.peekLength()),_.next(E),T.delete(E);break;case a.EQUAL:E=Math.min(_.peekLength(),w.peekLength(),R);var L=_.next(E),U=w.next(E);u(L.insert,U.insert)?T.retain(E,h.attributes.diff(L.attributes,U.attributes)):T.push(U).delete(E);break}R-=E}}),T.chop()},v.prototype.eachLine=function(g,d){d=d||`
`;for(var y=h.iterator(this.ops),T=new v,b=0;y.hasNext();){if(y.peekType()!=="insert")return;var _=y.peek(),w=h.length(_)-y.peekLength(),S=typeof _.insert=="string"?_.insert.indexOf(d,w)-w:-1;if(S<0)T.push(y.next());else if(S>0)T.push(y.next(S));else{if(g(T,y.next(1).attributes||{},b)===!1)return;b+=1,T=new v}}T.length()>0&&g(T,{},b)},v.prototype.transform=function(g,d){if(d=!!d,typeof g=="number")return this.transformPosition(g,d);for(var y=h.iterator(this.ops),T=h.iterator(g.ops),b=new v;y.hasNext()||T.hasNext();)if(y.peekType()==="insert"&&(d||T.peekType()!=="insert"))b.retain(h.length(y.next()));else if(T.peekType()==="insert")b.push(T.next());else{var _=Math.min(y.peekLength(),T.peekLength()),w=y.next(_),S=T.next(_);if(w.delete)continue;S.delete?b.push(S):b.retain(_,h.attributes.transform(w.attributes,S.attributes,d))}return b.chop()},v.prototype.transformPosition=function(g,d){d=!!d;for(var y=h.iterator(this.ops),T=0;y.hasNext()&&T<=g;){var b=y.peekLength(),_=y.peekType();if(y.next(),_==="delete"){g-=Math.min(b,g-T);continue}else _==="insert"&&(T<g||!d)&&(g+=b);T+=b}return g},t.exports=v},function(t,r){var o=Object.prototype.hasOwnProperty,a=Object.prototype.toString,u=Object.defineProperty,f=Object.getOwnPropertyDescriptor,h=function(y){return typeof Array.isArray=="function"?Array.isArray(y):a.call(y)==="[object Array]"},m=function(y){if(!y||a.call(y)!=="[object Object]")return!1;var T=o.call(y,"constructor"),b=y.constructor&&y.constructor.prototype&&o.call(y.constructor.prototype,"isPrototypeOf");if(y.constructor&&!T&&!b)return!1;var _;for(_ in y);return typeof _>"u"||o.call(y,_)},v=function(y,T){u&&T.name==="__proto__"?u(y,T.name,{enumerable:!0,configurable:!0,value:T.newValue,writable:!0}):y[T.name]=T.newValue},g=function(y,T){if(T==="__proto__")if(o.call(y,T)){if(f)return f(y,T).value}else return;return y[T]};t.exports=function d(){var y,T,b,_,w,S,R=arguments[0],E=1,L=arguments.length,U=!1;for(typeof R=="boolean"&&(U=R,R=arguments[1]||{},E=2),(R==null||typeof R!="object"&&typeof R!="function")&&(R={});E<L;++E)if(y=arguments[E],y!=null)for(T in y)b=g(R,T),_=g(y,T),R!==_&&(U&&_&&(m(_)||(w=h(_)))?(w?(w=!1,S=b&&h(b)?b:[]):S=b&&m(b)?b:{},v(R,{name:T,newValue:d(U,S,_)})):typeof _<"u"&&v(R,{name:T,newValue:_}));return R}},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var a=function(){function k(D,N){for(var H=0;H<N.length;H++){var G=N[H];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(D,G.key,G)}}return function(D,N,H){return N&&k(D.prototype,N),H&&k(D,H),D}}(),u=function k(D,N,H){D===null&&(D=Function.prototype);var G=Object.getOwnPropertyDescriptor(D,N);if(G===void 0){var X=Object.getPrototypeOf(D);return X===null?void 0:k(X,N,H)}else{if("value"in G)return G.value;var te=G.get;return te===void 0?void 0:te.call(H)}},f=o(3),h=R(f),m=o(2),v=R(m),g=o(0),d=R(g),y=o(16),T=R(y),b=o(6),_=R(b),w=o(7),S=R(w);function R(k){return k&&k.__esModule?k:{default:k}}function E(k,D){if(!(k instanceof D))throw new TypeError("Cannot call a class as a function")}function L(k,D){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:k}function U(k,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);k.prototype=Object.create(D&&D.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(k,D):k.__proto__=D)}var C=1,I=function(k){U(D,k);function D(){return E(this,D),L(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return a(D,[{key:"attach",value:function(){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new v.default().insert(this.value(),(0,h.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(H,G){var X=d.default.query(H,d.default.Scope.BLOCK_ATTRIBUTE);X!=null&&this.attributes.attribute(X,G)}},{key:"formatAt",value:function(H,G,X,te){this.format(X,te)}},{key:"insertAt",value:function(H,G,X){if(typeof G=="string"&&G.endsWith(`
`)){var te=d.default.create(M.blotName);this.parent.insertBefore(te,H===0?this:this.next),te.insertAt(0,G.slice(0,-1))}else u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,H,G,X)}}]),D}(d.default.Embed);I.scope=d.default.Scope.BLOCK_BLOT;var M=function(k){U(D,k);function D(N){E(this,D);var H=L(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,N));return H.cache={},H}return a(D,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(H,G){return G.length()===0?H:H.insert(G.value(),O(G))},new v.default).insert(`
`,O(this))),this.cache.delta}},{key:"deleteAt",value:function(H,G){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"deleteAt",this).call(this,H,G),this.cache={}}},{key:"formatAt",value:function(H,G,X,te){G<=0||(d.default.query(X,d.default.Scope.BLOCK)?H+G===this.length()&&this.format(X,te):u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"formatAt",this).call(this,H,Math.min(G,this.length()-H-1),X,te),this.cache={})}},{key:"insertAt",value:function(H,G,X){if(X!=null)return u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,H,G,X);if(G.length!==0){var te=G.split(`
`),ie=te.shift();ie.length>0&&(H<this.length()-1||this.children.tail==null?u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,Math.min(H,this.length()-1),ie):this.children.tail.insertAt(this.children.tail.length(),ie),this.cache={});var Y=this;te.reduce(function(W,j){return Y=Y.split(W,!0),Y.insertAt(0,j),j.length},H+ie.length)}}},{key:"insertBefore",value:function(H,G){var X=this.children.head;u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertBefore",this).call(this,H,G),X instanceof T.default&&X.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"length",this).call(this)+C),this.cache.length}},{key:"moveChildren",value:function(H,G){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"moveChildren",this).call(this,H,G),this.cache={}}},{key:"optimize",value:function(H){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,H),this.cache={}}},{key:"path",value:function(H){return u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"path",this).call(this,H,!0)}},{key:"removeChild",value:function(H){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"removeChild",this).call(this,H),this.cache={}}},{key:"split",value:function(H){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(G&&(H===0||H>=this.length()-C)){var X=this.clone();return H===0?(this.parent.insertBefore(X,this),this):(this.parent.insertBefore(X,this.next),X)}else{var te=u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"split",this).call(this,H,G);return this.cache={},te}}}]),D}(d.default.Block);M.blotName="block",M.tagName="P",M.defaultChild="break",M.allowedChildren=[_.default,d.default.Embed,S.default];function O(k){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return k==null||(typeof k.formats=="function"&&(D=(0,h.default)(D,k.formats())),k.parent==null||k.parent.blotName=="scroll"||k.parent.statics.scope!==k.statics.scope)?D:O(k.parent,D)}r.bubbleFormats=O,r.BlockEmbed=I,r.default=M},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},u=function(){function Y(W,j){var B=[],K=!0,ne=!1,ee=void 0;try{for(var $=W[Symbol.iterator](),J;!(K=(J=$.next()).done)&&(B.push(J.value),!(j&&B.length===j));K=!0);}catch(oe){ne=!0,ee=oe}finally{try{!K&&$.return&&$.return()}finally{if(ne)throw ee}}return B}return function(W,j){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return Y(W,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function Y(W,j){for(var B=0;B<j.length;B++){var K=j[B];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(W,K.key,K)}}return function(W,j,B){return j&&Y(W.prototype,j),B&&Y(W,B),W}}();o(50);var h=o(2),m=O(h),v=o(14),g=O(v),d=o(8),y=O(d),T=o(9),b=O(T),_=o(0),w=O(_),S=o(15),R=O(S),E=o(3),L=O(E),U=o(10),C=O(U),I=o(34),M=O(I);function O(Y){return Y&&Y.__esModule?Y:{default:Y}}function k(Y,W,j){return W in Y?Object.defineProperty(Y,W,{value:j,enumerable:!0,configurable:!0,writable:!0}):Y[W]=j,Y}function D(Y,W){if(!(Y instanceof W))throw new TypeError("Cannot call a class as a function")}var N=(0,C.default)("quill"),H=function(){f(Y,null,[{key:"debug",value:function(j){j===!0&&(j="log"),C.default.level(j)}},{key:"find",value:function(j){return j.__quill||w.default.find(j)}},{key:"import",value:function(j){return this.imports[j]==null&&N.error("Cannot import "+j+". Are you sure it was registered?"),this.imports[j]}},{key:"register",value:function(j,B){var K=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof j!="string"){var ee=j.attrName||j.blotName;typeof ee=="string"?this.register("formats/"+ee,j,B):Object.keys(j).forEach(function($){K.register($,j[$],B)})}else this.imports[j]!=null&&!ne&&N.warn("Overwriting "+j+" with",B),this.imports[j]=B,(j.startsWith("blots/")||j.startsWith("formats/"))&&B.blotName!=="abstract"?w.default.register(B):j.startsWith("modules")&&typeof B.register=="function"&&B.register()}}]);function Y(W){var j=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(D(this,Y),this.options=G(W,B),this.container=this.options.container,this.container==null)return N.error("Invalid Quill container",W);this.options.debug&&Y.debug(this.options.debug);var K=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new y.default,this.scroll=w.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new g.default(this.scroll),this.selection=new R.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(y.default.events.EDITOR_CHANGE,function(ee){ee===y.default.events.TEXT_CHANGE&&j.root.classList.toggle("ql-blank",j.editor.isBlank())}),this.emitter.on(y.default.events.SCROLL_UPDATE,function(ee,$){var J=j.selection.lastRange,oe=J&&J.length===0?J.index:void 0;X.call(j,function(){return j.editor.update(null,$,oe)},ee)});var ne=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+K+"<p><br></p></div>");this.setContents(ne),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return f(Y,[{key:"addContainer",value:function(j){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof j=="string"){var K=j;j=document.createElement("div"),j.classList.add(K)}return this.container.insertBefore(j,B),j}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(j,B,K){var ne=this,ee=te(j,B,K),$=u(ee,4);return j=$[0],B=$[1],K=$[3],X.call(this,function(){return ne.editor.deleteText(j,B)},K,j,-1*B)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(j),this.container.classList.toggle("ql-disabled",!j)}},{key:"focus",value:function(){var j=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=j,this.scrollIntoView()}},{key:"format",value:function(j,B){var K=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;return X.call(this,function(){var ee=K.getSelection(!0),$=new m.default;if(ee==null)return $;if(w.default.query(j,w.default.Scope.BLOCK))$=K.editor.formatLine(ee.index,ee.length,k({},j,B));else{if(ee.length===0)return K.selection.format(j,B),$;$=K.editor.formatText(ee.index,ee.length,k({},j,B))}return K.setSelection(ee,y.default.sources.SILENT),$},ne)}},{key:"formatLine",value:function(j,B,K,ne,ee){var $=this,J=void 0,oe=te(j,B,K,ne,ee),se=u(oe,4);return j=se[0],B=se[1],J=se[2],ee=se[3],X.call(this,function(){return $.editor.formatLine(j,B,J)},ee,j,0)}},{key:"formatText",value:function(j,B,K,ne,ee){var $=this,J=void 0,oe=te(j,B,K,ne,ee),se=u(oe,4);return j=se[0],B=se[1],J=se[2],ee=se[3],X.call(this,function(){return $.editor.formatText(j,B,J)},ee,j,0)}},{key:"getBounds",value:function(j){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=void 0;typeof j=="number"?K=this.selection.getBounds(j,B):K=this.selection.getBounds(j.index,j.length);var ne=this.container.getBoundingClientRect();return{bottom:K.bottom-ne.top,height:K.height,left:K.left-ne.left,right:K.right-ne.left,top:K.top-ne.top,width:K.width}}},{key:"getContents",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-j,K=te(j,B),ne=u(K,2);return j=ne[0],B=ne[1],this.editor.getContents(j,B)}},{key:"getFormat",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof j=="number"?this.editor.getFormat(j,B):this.editor.getFormat(j.index,j.length)}},{key:"getIndex",value:function(j){return j.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(j){return this.scroll.leaf(j)}},{key:"getLine",value:function(j){return this.scroll.line(j)}},{key:"getLines",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof j!="number"?this.scroll.lines(j.index,j.length):this.scroll.lines(j,B)}},{key:"getModule",value:function(j){return this.theme.modules[j]}},{key:"getSelection",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return j&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-j,K=te(j,B),ne=u(K,2);return j=ne[0],B=ne[1],this.editor.getText(j,B)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(j,B,K){var ne=this,ee=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Y.sources.API;return X.call(this,function(){return ne.editor.insertEmbed(j,B,K)},ee,j)}},{key:"insertText",value:function(j,B,K,ne,ee){var $=this,J=void 0,oe=te(j,0,K,ne,ee),se=u(oe,4);return j=se[0],J=se[2],ee=se[3],X.call(this,function(){return $.editor.insertText(j,B,J)},ee,j,B.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(j,B,K){this.clipboard.dangerouslyPasteHTML(j,B,K)}},{key:"removeFormat",value:function(j,B,K){var ne=this,ee=te(j,B,K),$=u(ee,4);return j=$[0],B=$[1],K=$[3],X.call(this,function(){return ne.editor.removeFormat(j,B)},K,j)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(j){var B=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API;return X.call(this,function(){j=new m.default(j);var ne=B.getLength(),ee=B.editor.deleteText(0,ne),$=B.editor.applyDelta(j),J=$.ops[$.ops.length-1];J!=null&&typeof J.insert=="string"&&J.insert[J.insert.length-1]===`
`&&(B.editor.deleteText(B.getLength()-1,1),$.delete(1));var oe=ee.compose($);return oe},K)}},{key:"setSelection",value:function(j,B,K){if(j==null)this.selection.setRange(null,B||Y.sources.API);else{var ne=te(j,B,K),ee=u(ne,4);j=ee[0],B=ee[1],K=ee[3],this.selection.setRange(new S.Range(j,B),K),K!==y.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(j){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API,K=new m.default().insert(j);return this.setContents(K,B)}},{key:"update",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.default.sources.USER,B=this.scroll.update(j);return this.selection.update(j),B}},{key:"updateContents",value:function(j){var B=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API;return X.call(this,function(){return j=new m.default(j),B.editor.applyDelta(j,K)},K,!0)}}]),Y}();H.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},H.events=y.default.events,H.sources=y.default.sources,H.version="1.3.7",H.imports={delta:m.default,parchment:w.default,"core/module":b.default,"core/theme":M.default};function G(Y,W){if(W=(0,L.default)(!0,{container:Y,modules:{clipboard:!0,keyboard:!0,history:!0}},W),!W.theme||W.theme===H.DEFAULTS.theme)W.theme=M.default;else if(W.theme=H.import("themes/"+W.theme),W.theme==null)throw new Error("Invalid theme "+W.theme+". Did you register it?");var j=(0,L.default)(!0,{},W.theme.DEFAULTS);[j,W].forEach(function(ne){ne.modules=ne.modules||{},Object.keys(ne.modules).forEach(function(ee){ne.modules[ee]===!0&&(ne.modules[ee]={})})});var B=Object.keys(j.modules).concat(Object.keys(W.modules)),K=B.reduce(function(ne,ee){var $=H.import("modules/"+ee);return $==null?N.error("Cannot load "+ee+" module. Are you sure you registered it?"):ne[ee]=$.DEFAULTS||{},ne},{});return W.modules!=null&&W.modules.toolbar&&W.modules.toolbar.constructor!==Object&&(W.modules.toolbar={container:W.modules.toolbar}),W=(0,L.default)(!0,{},H.DEFAULTS,{modules:K},j,W),["bounds","container","scrollingContainer"].forEach(function(ne){typeof W[ne]=="string"&&(W[ne]=document.querySelector(W[ne]))}),W.modules=Object.keys(W.modules).reduce(function(ne,ee){return W.modules[ee]&&(ne[ee]=W.modules[ee]),ne},{}),W}function X(Y,W,j,B){if(this.options.strict&&!this.isEnabled()&&W===y.default.sources.USER)return new m.default;var K=j==null?null:this.getSelection(),ne=this.editor.delta,ee=Y();if(K!=null&&(j===!0&&(j=K.index),B==null?K=ie(K,ee,W):B!==0&&(K=ie(K,j,B,W)),this.setSelection(K,y.default.sources.SILENT)),ee.length()>0){var $,J=[y.default.events.TEXT_CHANGE,ee,ne,W];if(($=this.emitter).emit.apply($,[y.default.events.EDITOR_CHANGE].concat(J)),W!==y.default.sources.SILENT){var oe;(oe=this.emitter).emit.apply(oe,J)}}return ee}function te(Y,W,j,B,K){var ne={};return typeof Y.index=="number"&&typeof Y.length=="number"?typeof W!="number"?(K=B,B=j,j=W,W=Y.length,Y=Y.index):(W=Y.length,Y=Y.index):typeof W!="number"&&(K=B,B=j,j=W,W=0),(typeof j>"u"?"undefined":a(j))==="object"?(ne=j,K=B):typeof j=="string"&&(B!=null?ne[j]=B:K=j),K=K||y.default.sources.API,[Y,W,ne,K]}function ie(Y,W,j,B){if(Y==null)return null;var K=void 0,ne=void 0;if(W instanceof m.default){var ee=[Y.index,Y.index+Y.length].map(function(se){return W.transformPosition(se,B!==y.default.sources.USER)}),$=u(ee,2);K=$[0],ne=$[1]}else{var J=[Y.index,Y.index+Y.length].map(function(se){return se<W||se===W&&B===y.default.sources.USER?se:j>=0?se+j:Math.max(W,se+j)}),oe=u(J,2);K=oe[0],ne=oe[1]}return new S.Range(K,ne-K)}r.expandConfig=G,r.overload=te,r.default=H},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function _(w,S){for(var R=0;R<S.length;R++){var E=S[R];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,S,R){return S&&_(w.prototype,S),R&&_(w,R),w}}(),u=function _(w,S,R){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,S);if(E===void 0){var L=Object.getPrototypeOf(w);return L===null?void 0:_(L,S,R)}else{if("value"in E)return E.value;var U=E.get;return U===void 0?void 0:U.call(R)}},f=o(7),h=g(f),m=o(0),v=g(m);function g(_){return _&&_.__esModule?_:{default:_}}function d(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function y(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function T(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var b=function(_){T(w,_);function w(){return d(this,w),y(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"formatAt",value:function(R,E,L,U){if(w.compare(this.statics.blotName,L)<0&&v.default.query(L,v.default.Scope.BLOT)){var C=this.isolate(R,E);U&&C.wrap(L,U)}else u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"formatAt",this).call(this,R,E,L,U)}},{key:"optimize",value:function(R){if(u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,R),this.parent instanceof w&&w.compare(this.statics.blotName,this.parent.statics.blotName)>0){var E=this.parent.isolate(this.offset(),this.length());this.moveChildren(E),E.wrap(this)}}}],[{key:"compare",value:function(R,E){var L=w.order.indexOf(R),U=w.order.indexOf(E);return L>=0||U>=0?L-U:R===E?0:R<E?-1:1}}]),w}(v.default.Inline);b.allowedChildren=[b,v.default.Embed,h.default],b.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=b},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function m(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var g=function(d){v(y,d);function y(){return h(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(u.default.Text);r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function S(R,E){for(var L=0;L<E.length;L++){var U=E[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,U.key,U)}}return function(R,E,L){return E&&S(R.prototype,E),L&&S(R,L),R}}(),u=function S(R,E,L){R===null&&(R=Function.prototype);var U=Object.getOwnPropertyDescriptor(R,E);if(U===void 0){var C=Object.getPrototypeOf(R);return C===null?void 0:S(C,E,L)}else{if("value"in U)return U.value;var I=U.get;return I===void 0?void 0:I.call(L)}},f=o(54),h=g(f),m=o(10),v=g(m);function g(S){return S&&S.__esModule?S:{default:S}}function d(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}function y(S,R){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:S}function T(S,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(S,R):S.__proto__=R)}var b=(0,v.default)("quill:events"),_=["selectionchange","mousedown","mouseup","click"];_.forEach(function(S){document.addEventListener(S,function(){for(var R=arguments.length,E=Array(R),L=0;L<R;L++)E[L]=arguments[L];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(U){if(U.__quill&&U.__quill.emitter){var C;(C=U.__quill.emitter).handleDOM.apply(C,E)}})})});var w=function(S){T(R,S);function R(){d(this,R);var E=y(this,(R.__proto__||Object.getPrototypeOf(R)).call(this));return E.listeners={},E.on("error",b.error),E}return a(R,[{key:"emit",value:function(){b.log.apply(b,arguments),u(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(L){for(var U=arguments.length,C=Array(U>1?U-1:0),I=1;I<U;I++)C[I-1]=arguments[I];(this.listeners[L.type]||[]).forEach(function(M){var O=M.node,k=M.handler;(L.target===O||O.contains(L.target))&&k.apply(void 0,[L].concat(C))})}},{key:"listenDOM",value:function(L,U,C){this.listeners[L]||(this.listeners[L]=[]),this.listeners[L].push({node:U,handler:C})}}]),R}(h.default);w.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},w.sources={API:"api",SILENT:"silent",USER:"user"},r.default=w},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});function a(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}var u=function f(h){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,f),this.quill=h,this.options=m};u.DEFAULTS={},r.default=u},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=["error","warn","log","info"],u="warn";function f(m){if(a.indexOf(m)<=a.indexOf(u)){for(var v,g=arguments.length,d=Array(g>1?g-1:0),y=1;y<g;y++)d[y-1]=arguments[y];(v=console)[m].apply(v,d)}}function h(m){return a.reduce(function(v,g){return v[g]=f.bind(console,g,m),v},{})}f.level=h.level=function(m){u=m},r.default=h},function(t,r,o){var a=Array.prototype.slice,u=o(52),f=o(53),h=t.exports=function(d,y,T){return T||(T={}),d===y?!0:d instanceof Date&&y instanceof Date?d.getTime()===y.getTime():!d||!y||typeof d!="object"&&typeof y!="object"?T.strict?d===y:d==y:g(d,y,T)};function m(d){return d==null}function v(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function g(d,y,T){var b,_;if(m(d)||m(y)||d.prototype!==y.prototype)return!1;if(f(d))return f(y)?(d=a.call(d),y=a.call(y),h(d,y,T)):!1;if(v(d)){if(!v(y)||d.length!==y.length)return!1;for(b=0;b<d.length;b++)if(d[b]!==y[b])return!1;return!0}try{var w=u(d),S=u(y)}catch{return!1}if(w.length!=S.length)return!1;for(w.sort(),S.sort(),b=w.length-1;b>=0;b--)if(w[b]!=S[b])return!1;for(b=w.length-1;b>=0;b--)if(_=w[b],!h(d[_],y[_],T))return!1;return typeof d==typeof y}},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(1),u=function(){function f(h,m,v){v===void 0&&(v={}),this.attrName=h,this.keyName=m;var g=a.Scope.TYPE&a.Scope.ATTRIBUTE;v.scope!=null?this.scope=v.scope&a.Scope.LEVEL|g:this.scope=a.Scope.ATTRIBUTE,v.whitelist!=null&&(this.whitelist=v.whitelist)}return f.keys=function(h){return[].map.call(h.attributes,function(m){return m.name})},f.prototype.add=function(h,m){return this.canAdd(h,m)?(h.setAttribute(this.keyName,m),!0):!1},f.prototype.canAdd=function(h,m){var v=a.query(h,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return v==null?!1:this.whitelist==null?!0:typeof m=="string"?this.whitelist.indexOf(m.replace(/["']/g,""))>-1:this.whitelist.indexOf(m)>-1},f.prototype.remove=function(h){h.removeAttribute(this.keyName)},f.prototype.value=function(h){var m=h.getAttribute(this.keyName);return this.canAdd(h,m)&&m?m:""},f}();r.default=u},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var a=function(){function I(M,O){var k=[],D=!0,N=!1,H=void 0;try{for(var G=M[Symbol.iterator](),X;!(D=(X=G.next()).done)&&(k.push(X.value),!(O&&k.length===O));D=!0);}catch(te){N=!0,H=te}finally{try{!D&&G.return&&G.return()}finally{if(N)throw H}}return k}return function(M,O){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return I(M,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function I(M,O){for(var k=0;k<O.length;k++){var D=O[k];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(M,D.key,D)}}return function(M,O,k){return O&&I(M.prototype,O),k&&I(M,k),M}}(),f=function I(M,O,k){M===null&&(M=Function.prototype);var D=Object.getOwnPropertyDescriptor(M,O);if(D===void 0){var N=Object.getPrototypeOf(M);return N===null?void 0:I(N,O,k)}else{if("value"in D)return D.value;var H=D.get;return H===void 0?void 0:H.call(k)}},h=o(2),m=S(h),v=o(0),g=S(v),d=o(4),y=S(d),T=o(6),b=S(T),_=o(7),w=S(_);function S(I){return I&&I.__esModule?I:{default:I}}function R(I,M){if(!(I instanceof M))throw new TypeError("Cannot call a class as a function")}function E(I,M){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:I}function L(I,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);I.prototype=Object.create(M&&M.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(I,M):I.__proto__=M)}var U=function(I){L(M,I);function M(){return R(this,M),E(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return M}(b.default);U.blotName="code",U.tagName="CODE";var C=function(I){L(M,I);function M(){return R(this,M),E(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return u(M,[{key:"delta",value:function(){var k=this,D=this.domNode.textContent;return D.endsWith(`
`)&&(D=D.slice(0,-1)),D.split(`
`).reduce(function(N,H){return N.insert(H).insert(`
`,k.formats())},new m.default)}},{key:"format",value:function(k,D){if(!(k===this.statics.blotName&&D)){var N=this.descendant(w.default,this.length()-1),H=a(N,1),G=H[0];G!=null&&G.deleteAt(G.length()-1,1),f(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"format",this).call(this,k,D)}}},{key:"formatAt",value:function(k,D,N,H){if(D!==0&&!(g.default.query(N,g.default.Scope.BLOCK)==null||N===this.statics.blotName&&H===this.statics.formats(this.domNode))){var G=this.newlineIndex(k);if(!(G<0||G>=k+D)){var X=this.newlineIndex(k,!0)+1,te=G-X+1,ie=this.isolate(X,te),Y=ie.next;ie.format(N,H),Y instanceof M&&Y.formatAt(0,k-X+D-te,N,H)}}}},{key:"insertAt",value:function(k,D,N){if(N==null){var H=this.descendant(w.default,k),G=a(H,2),X=G[0],te=G[1];X.insertAt(te,D)}}},{key:"length",value:function(){var k=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?k:k+1}},{key:"newlineIndex",value:function(k){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(D)return this.domNode.textContent.slice(0,k).lastIndexOf(`
`);var N=this.domNode.textContent.slice(k).indexOf(`
`);return N>-1?k+N:-1}},{key:"optimize",value:function(k){this.domNode.textContent.endsWith(`
`)||this.appendChild(g.default.create("text",`
`)),f(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,k);var D=this.next;D!=null&&D.prev===this&&D.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===D.statics.formats(D.domNode)&&(D.optimize(k),D.moveChildren(this),D.remove())}},{key:"replace",value:function(k){f(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"replace",this).call(this,k),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(D){var N=g.default.find(D);N==null?D.parentNode.removeChild(D):N instanceof g.default.Embed?N.remove():N.unwrap()})}}],[{key:"create",value:function(k){var D=f(M.__proto__||Object.getPrototypeOf(M),"create",this).call(this,k);return D.setAttribute("spellcheck",!1),D}},{key:"formats",value:function(){return!0}}]),M}(y.default);C.blotName="code-block",C.tagName="PRE",C.TAB="  ",r.Code=U,r.default=C},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},u=function(){function Y(W,j){var B=[],K=!0,ne=!1,ee=void 0;try{for(var $=W[Symbol.iterator](),J;!(K=(J=$.next()).done)&&(B.push(J.value),!(j&&B.length===j));K=!0);}catch(oe){ne=!0,ee=oe}finally{try{!K&&$.return&&$.return()}finally{if(ne)throw ee}}return B}return function(W,j){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return Y(W,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function Y(W,j){for(var B=0;B<j.length;B++){var K=j[B];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(W,K.key,K)}}return function(W,j,B){return j&&Y(W.prototype,j),B&&Y(W,B),W}}(),h=o(2),m=D(h),v=o(20),g=D(v),d=o(0),y=D(d),T=o(13),b=D(T),_=o(24),w=D(_),S=o(4),R=D(S),E=o(16),L=D(E),U=o(21),C=D(U),I=o(11),M=D(I),O=o(3),k=D(O);function D(Y){return Y&&Y.__esModule?Y:{default:Y}}function N(Y,W,j){return W in Y?Object.defineProperty(Y,W,{value:j,enumerable:!0,configurable:!0,writable:!0}):Y[W]=j,Y}function H(Y,W){if(!(Y instanceof W))throw new TypeError("Cannot call a class as a function")}var G=/^[ -~]*$/,X=function(){function Y(W){H(this,Y),this.scroll=W,this.delta=this.getDelta()}return f(Y,[{key:"applyDelta",value:function(j){var B=this,K=!1;this.scroll.update();var ne=this.scroll.length();return this.scroll.batchStart(),j=ie(j),j.reduce(function(ee,$){var J=$.retain||$.delete||$.insert.length||1,oe=$.attributes||{};if($.insert!=null){if(typeof $.insert=="string"){var se=$.insert;se.endsWith(`
`)&&K&&(K=!1,se=se.slice(0,-1)),ee>=ne&&!se.endsWith(`
`)&&(K=!0),B.scroll.insertAt(ee,se);var pe=B.scroll.line(ee),Ie=u(pe,2),De=Ie[0],Ve=Ie[1],We=(0,k.default)({},(0,S.bubbleFormats)(De));if(De instanceof R.default){var Je=De.descendant(y.default.Leaf,Ve),Nt=u(Je,1),yt=Nt[0];We=(0,k.default)(We,(0,S.bubbleFormats)(yt))}oe=g.default.attributes.diff(We,oe)||{}}else if(a($.insert)==="object"){var he=Object.keys($.insert)[0];if(he==null)return ee;B.scroll.insertAt(ee,he,$.insert[he])}ne+=J}return Object.keys(oe).forEach(function(me){B.scroll.formatAt(ee,J,me,oe[me])}),ee+J},0),j.reduce(function(ee,$){return typeof $.delete=="number"?(B.scroll.deleteAt(ee,$.delete),ee):ee+($.retain||$.insert.length||1)},0),this.scroll.batchEnd(),this.update(j)}},{key:"deleteText",value:function(j,B){return this.scroll.deleteAt(j,B),this.update(new m.default().retain(j).delete(B))}},{key:"formatLine",value:function(j,B){var K=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(ne).forEach(function(ee){if(!(K.scroll.whitelist!=null&&!K.scroll.whitelist[ee])){var $=K.scroll.lines(j,Math.max(B,1)),J=B;$.forEach(function(oe){var se=oe.length();if(!(oe instanceof b.default))oe.format(ee,ne[ee]);else{var pe=j-oe.offset(K.scroll),Ie=oe.newlineIndex(pe+J)-pe+1;oe.formatAt(pe,Ie,ee,ne[ee])}J-=se})}}),this.scroll.optimize(),this.update(new m.default().retain(j).retain(B,(0,C.default)(ne)))}},{key:"formatText",value:function(j,B){var K=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(ne).forEach(function(ee){K.scroll.formatAt(j,B,ee,ne[ee])}),this.update(new m.default().retain(j).retain(B,(0,C.default)(ne)))}},{key:"getContents",value:function(j,B){return this.delta.slice(j,j+B)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(j,B){return j.concat(B.delta())},new m.default)}},{key:"getFormat",value:function(j){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=[],ne=[];B===0?this.scroll.path(j).forEach(function($){var J=u($,1),oe=J[0];oe instanceof R.default?K.push(oe):oe instanceof y.default.Leaf&&ne.push(oe)}):(K=this.scroll.lines(j,B),ne=this.scroll.descendants(y.default.Leaf,j,B));var ee=[K,ne].map(function($){if($.length===0)return{};for(var J=(0,S.bubbleFormats)($.shift());Object.keys(J).length>0;){var oe=$.shift();if(oe==null)return J;J=te((0,S.bubbleFormats)(oe),J)}return J});return k.default.apply(k.default,ee)}},{key:"getText",value:function(j,B){return this.getContents(j,B).filter(function(K){return typeof K.insert=="string"}).map(function(K){return K.insert}).join("")}},{key:"insertEmbed",value:function(j,B,K){return this.scroll.insertAt(j,B,K),this.update(new m.default().retain(j).insert(N({},B,K)))}},{key:"insertText",value:function(j,B){var K=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return B=B.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(j,B),Object.keys(ne).forEach(function(ee){K.scroll.formatAt(j,B.length,ee,ne[ee])}),this.update(new m.default().retain(j).insert(B,(0,C.default)(ne)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var j=this.scroll.children.head;return j.statics.blotName!==R.default.blotName||j.children.length>1?!1:j.children.head instanceof L.default}},{key:"removeFormat",value:function(j,B){var K=this.getText(j,B),ne=this.scroll.line(j+B),ee=u(ne,2),$=ee[0],J=ee[1],oe=0,se=new m.default;$!=null&&($ instanceof b.default?oe=$.newlineIndex(J)-J+1:oe=$.length()-J,se=$.delta().slice(J,J+oe-1).insert(`
`));var pe=this.getContents(j,B+oe),Ie=pe.diff(new m.default().insert(K).concat(se)),De=new m.default().retain(j).concat(Ie);return this.applyDelta(De)}},{key:"update",value:function(j){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ne=this.delta;if(B.length===1&&B[0].type==="characterData"&&B[0].target.data.match(G)&&y.default.find(B[0].target)){var ee=y.default.find(B[0].target),$=(0,S.bubbleFormats)(ee),J=ee.offset(this.scroll),oe=B[0].oldValue.replace(w.default.CONTENTS,""),se=new m.default().insert(oe),pe=new m.default().insert(ee.value()),Ie=new m.default().retain(J).concat(se.diff(pe,K));j=Ie.reduce(function(De,Ve){return Ve.insert?De.insert(Ve.insert,$):De.push(Ve)},new m.default),this.delta=ne.compose(j)}else this.delta=this.getDelta(),(!j||!(0,M.default)(ne.compose(j),this.delta))&&(j=ne.diff(this.delta,K));return j}}]),Y}();function te(Y,W){return Object.keys(W).reduce(function(j,B){return Y[B]==null||(W[B]===Y[B]?j[B]=W[B]:Array.isArray(W[B])?W[B].indexOf(Y[B])<0&&(j[B]=W[B].concat([Y[B]])):j[B]=[W[B],Y[B]]),j},{})}function ie(Y){return Y.reduce(function(W,j){if(j.insert===1){var B=(0,C.default)(j.attributes);return delete B.image,W.insert({image:j.attributes.image},B)}if(j.attributes!=null&&(j.attributes.list===!0||j.attributes.bullet===!0)&&(j=(0,C.default)(j),j.attributes.list?j.attributes.list="ordered":(j.attributes.list="bullet",delete j.attributes.bullet)),typeof j.insert=="string"){var K=j.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return W.insert(K,j.attributes)}return W.push(j)},new m.default)}r.default=X},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var a=function(){function I(M,O){var k=[],D=!0,N=!1,H=void 0;try{for(var G=M[Symbol.iterator](),X;!(D=(X=G.next()).done)&&(k.push(X.value),!(O&&k.length===O));D=!0);}catch(te){N=!0,H=te}finally{try{!D&&G.return&&G.return()}finally{if(N)throw H}}return k}return function(M,O){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return I(M,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function I(M,O){for(var k=0;k<O.length;k++){var D=O[k];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(M,D.key,D)}}return function(M,O,k){return O&&I(M.prototype,O),k&&I(M,k),M}}(),f=o(0),h=w(f),m=o(21),v=w(m),g=o(11),d=w(g),y=o(8),T=w(y),b=o(10),_=w(b);function w(I){return I&&I.__esModule?I:{default:I}}function S(I){if(Array.isArray(I)){for(var M=0,O=Array(I.length);M<I.length;M++)O[M]=I[M];return O}else return Array.from(I)}function R(I,M){if(!(I instanceof M))throw new TypeError("Cannot call a class as a function")}var E=(0,_.default)("quill:selection"),L=function I(M){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;R(this,I),this.index=M,this.length=O},U=function(){function I(M,O){var k=this;R(this,I),this.emitter=O,this.scroll=M,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=h.default.create("cursor",this),this.lastRange=this.savedRange=new L(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){k.mouseDown||setTimeout(k.update.bind(k,T.default.sources.USER),1)}),this.emitter.on(T.default.events.EDITOR_CHANGE,function(D,N){D===T.default.events.TEXT_CHANGE&&N.length()>0&&k.update(T.default.sources.SILENT)}),this.emitter.on(T.default.events.SCROLL_BEFORE_UPDATE,function(){if(k.hasFocus()){var D=k.getNativeRange();D!=null&&D.start.node!==k.cursor.textNode&&k.emitter.once(T.default.events.SCROLL_UPDATE,function(){try{k.setNativeRange(D.start.node,D.start.offset,D.end.node,D.end.offset)}catch{}})}}),this.emitter.on(T.default.events.SCROLL_OPTIMIZE,function(D,N){if(N.range){var H=N.range,G=H.startNode,X=H.startOffset,te=H.endNode,ie=H.endOffset;k.setNativeRange(G,X,te,ie)}}),this.update(T.default.sources.SILENT)}return u(I,[{key:"handleComposition",value:function(){var O=this;this.root.addEventListener("compositionstart",function(){O.composing=!0}),this.root.addEventListener("compositionend",function(){if(O.composing=!1,O.cursor.parent){var k=O.cursor.restore();if(!k)return;setTimeout(function(){O.setNativeRange(k.startNode,k.startOffset,k.endNode,k.endOffset)},1)}})}},{key:"handleDragging",value:function(){var O=this;this.emitter.listenDOM("mousedown",document.body,function(){O.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){O.mouseDown=!1,O.update(T.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(O,k){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[O])){this.scroll.update();var D=this.getNativeRange();if(!(D==null||!D.native.collapsed||h.default.query(O,h.default.Scope.BLOCK))){if(D.start.node!==this.cursor.textNode){var N=h.default.find(D.start.node,!1);if(N==null)return;if(N instanceof h.default.Leaf){var H=N.split(D.start.offset);N.parent.insertBefore(this.cursor,H)}else N.insertBefore(this.cursor,D.start.node);this.cursor.attach()}this.cursor.format(O,k),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(O){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=this.scroll.length();O=Math.min(O,D-1),k=Math.min(O+k,D-1)-O;var N=void 0,H=this.scroll.leaf(O),G=a(H,2),X=G[0],te=G[1];if(X==null)return null;var ie=X.position(te,!0),Y=a(ie,2);N=Y[0],te=Y[1];var W=document.createRange();if(k>0){W.setStart(N,te);var j=this.scroll.leaf(O+k),B=a(j,2);if(X=B[0],te=B[1],X==null)return null;var K=X.position(te,!0),ne=a(K,2);return N=ne[0],te=ne[1],W.setEnd(N,te),W.getBoundingClientRect()}else{var ee="left",$=void 0;return N instanceof Text?(te<N.data.length?(W.setStart(N,te),W.setEnd(N,te+1)):(W.setStart(N,te-1),W.setEnd(N,te),ee="right"),$=W.getBoundingClientRect()):($=X.domNode.getBoundingClientRect(),te>0&&(ee="right")),{bottom:$.top+$.height,height:$.height,left:$[ee],right:$[ee],top:$.top,width:0}}}},{key:"getNativeRange",value:function(){var O=document.getSelection();if(O==null||O.rangeCount<=0)return null;var k=O.getRangeAt(0);if(k==null)return null;var D=this.normalizeNative(k);return E.info("getNativeRange",D),D}},{key:"getRange",value:function(){var O=this.getNativeRange();if(O==null)return[null,null];var k=this.normalizedToRange(O);return[k,O]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(O){var k=this,D=[[O.start.node,O.start.offset]];O.native.collapsed||D.push([O.end.node,O.end.offset]);var N=D.map(function(X){var te=a(X,2),ie=te[0],Y=te[1],W=h.default.find(ie,!0),j=W.offset(k.scroll);return Y===0?j:W instanceof h.default.Container?j+W.length():j+W.index(ie,Y)}),H=Math.min(Math.max.apply(Math,S(N)),this.scroll.length()-1),G=Math.min.apply(Math,[H].concat(S(N)));return new L(G,H-G)}},{key:"normalizeNative",value:function(O){if(!C(this.root,O.startContainer)||!O.collapsed&&!C(this.root,O.endContainer))return null;var k={start:{node:O.startContainer,offset:O.startOffset},end:{node:O.endContainer,offset:O.endOffset},native:O};return[k.start,k.end].forEach(function(D){for(var N=D.node,H=D.offset;!(N instanceof Text)&&N.childNodes.length>0;)if(N.childNodes.length>H)N=N.childNodes[H],H=0;else if(N.childNodes.length===H)N=N.lastChild,H=N instanceof Text?N.data.length:N.childNodes.length+1;else break;D.node=N,D.offset=H}),k}},{key:"rangeToNative",value:function(O){var k=this,D=O.collapsed?[O.index]:[O.index,O.index+O.length],N=[],H=this.scroll.length();return D.forEach(function(G,X){G=Math.min(H-1,G);var te=void 0,ie=k.scroll.leaf(G),Y=a(ie,2),W=Y[0],j=Y[1],B=W.position(j,X!==0),K=a(B,2);te=K[0],j=K[1],N.push(te,j)}),N.length<2&&(N=N.concat(N)),N}},{key:"scrollIntoView",value:function(O){var k=this.lastRange;if(k!=null){var D=this.getBounds(k.index,k.length);if(D!=null){var N=this.scroll.length()-1,H=this.scroll.line(Math.min(k.index,N)),G=a(H,1),X=G[0],te=X;if(k.length>0){var ie=this.scroll.line(Math.min(k.index+k.length,N)),Y=a(ie,1);te=Y[0]}if(!(X==null||te==null)){var W=O.getBoundingClientRect();D.top<W.top?O.scrollTop-=W.top-D.top:D.bottom>W.bottom&&(O.scrollTop+=D.bottom-W.bottom)}}}}},{key:"setNativeRange",value:function(O,k){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:k,H=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(E.info("setNativeRange",O,k,D,N),!(O!=null&&(this.root.parentNode==null||O.parentNode==null||D.parentNode==null))){var G=document.getSelection();if(G!=null)if(O!=null){this.hasFocus()||this.root.focus();var X=(this.getNativeRange()||{}).native;if(X==null||H||O!==X.startContainer||k!==X.startOffset||D!==X.endContainer||N!==X.endOffset){O.tagName=="BR"&&(k=[].indexOf.call(O.parentNode.childNodes,O),O=O.parentNode),D.tagName=="BR"&&(N=[].indexOf.call(D.parentNode.childNodes,D),D=D.parentNode);var te=document.createRange();te.setStart(O,k),te.setEnd(D,N),G.removeAllRanges(),G.addRange(te)}}else G.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(O){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T.default.sources.API;if(typeof k=="string"&&(D=k,k=!1),E.info("setRange",O),O!=null){var N=this.rangeToNative(O);this.setNativeRange.apply(this,S(N).concat([k]))}else this.setNativeRange(null);this.update(D)}},{key:"update",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T.default.sources.USER,k=this.lastRange,D=this.getRange(),N=a(D,2),H=N[0],G=N[1];if(this.lastRange=H,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(k,this.lastRange)){var X;!this.composing&&G!=null&&G.native.collapsed&&G.start.node!==this.cursor.textNode&&this.cursor.restore();var te=[T.default.events.SELECTION_CHANGE,(0,v.default)(this.lastRange),(0,v.default)(k),O];if((X=this.emitter).emit.apply(X,[T.default.events.EDITOR_CHANGE].concat(te)),O!==T.default.sources.SILENT){var ie;(ie=this.emitter).emit.apply(ie,te)}}}}]),I}();function C(I,M){try{M.parentNode}catch{return!1}return M instanceof Text&&(M=M.parentNode),I.contains(M)}r.Range=L,r.default=U},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function T(b,_){for(var w=0;w<_.length;w++){var S=_[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,_,w){return _&&T(b.prototype,_),w&&T(b,w),b}}(),u=function T(b,_,w){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,_);if(S===void 0){var R=Object.getPrototypeOf(b);return R===null?void 0:T(R,_,w)}else{if("value"in S)return S.value;var E=S.get;return E===void 0?void 0:E.call(w)}},f=o(0),h=m(f);function m(T){return T&&T.__esModule?T:{default:T}}function v(T,b){if(!(T instanceof b))throw new TypeError("Cannot call a class as a function")}function g(T,b){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:T}function d(T,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);T.prototype=Object.create(b&&b.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(T,b):T.__proto__=b)}var y=function(T){d(b,T);function b(){return v(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"insertInto",value:function(w,S){w.children.length===0?u(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertInto",this).call(this,w,S):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),b}(h.default.Embed);y.blotName="break",y.tagName="BR",r.default=y},function(t,r,o){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var T in y)y.hasOwnProperty(T)&&(d[T]=y[T])};return function(d,y){g(d,y);function T(){this.constructor=d}d.prototype=y===null?Object.create(y):(T.prototype=y.prototype,new T)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(44),f=o(30),h=o(1),m=function(g){a(d,g);function d(y){var T=g.call(this,y)||this;return T.build(),T}return d.prototype.appendChild=function(y){this.insertBefore(y)},d.prototype.attach=function(){g.prototype.attach.call(this),this.children.forEach(function(y){y.attach()})},d.prototype.build=function(){var y=this;this.children=new u.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(T){try{var b=v(T);y.insertBefore(b,y.children.head||void 0)}catch(_){if(_ instanceof h.ParchmentError)return;throw _}})},d.prototype.deleteAt=function(y,T){if(y===0&&T===this.length())return this.remove();this.children.forEachAt(y,T,function(b,_,w){b.deleteAt(_,w)})},d.prototype.descendant=function(y,T){var b=this.children.find(T),_=b[0],w=b[1];return y.blotName==null&&y(_)||y.blotName!=null&&_ instanceof y?[_,w]:_ instanceof d?_.descendant(y,w):[null,-1]},d.prototype.descendants=function(y,T,b){T===void 0&&(T=0),b===void 0&&(b=Number.MAX_VALUE);var _=[],w=b;return this.children.forEachAt(T,b,function(S,R,E){(y.blotName==null&&y(S)||y.blotName!=null&&S instanceof y)&&_.push(S),S instanceof d&&(_=_.concat(S.descendants(y,R,w))),w-=E}),_},d.prototype.detach=function(){this.children.forEach(function(y){y.detach()}),g.prototype.detach.call(this)},d.prototype.formatAt=function(y,T,b,_){this.children.forEachAt(y,T,function(w,S,R){w.formatAt(S,R,b,_)})},d.prototype.insertAt=function(y,T,b){var _=this.children.find(y),w=_[0],S=_[1];if(w)w.insertAt(S,T,b);else{var R=b==null?h.create("text",T):h.create(T,b);this.appendChild(R)}},d.prototype.insertBefore=function(y,T){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(b){return y instanceof b}))throw new h.ParchmentError("Cannot insert "+y.statics.blotName+" into "+this.statics.blotName);y.insertInto(this,T)},d.prototype.length=function(){return this.children.reduce(function(y,T){return y+T.length()},0)},d.prototype.moveChildren=function(y,T){this.children.forEach(function(b){y.insertBefore(b,T)})},d.prototype.optimize=function(y){if(g.prototype.optimize.call(this,y),this.children.length===0)if(this.statics.defaultChild!=null){var T=h.create(this.statics.defaultChild);this.appendChild(T),T.optimize(y)}else this.remove()},d.prototype.path=function(y,T){T===void 0&&(T=!1);var b=this.children.find(y,T),_=b[0],w=b[1],S=[[this,y]];return _ instanceof d?S.concat(_.path(w,T)):(_!=null&&S.push([_,w]),S)},d.prototype.removeChild=function(y){this.children.remove(y)},d.prototype.replace=function(y){y instanceof d&&y.moveChildren(this),g.prototype.replace.call(this,y)},d.prototype.split=function(y,T){if(T===void 0&&(T=!1),!T){if(y===0)return this;if(y===this.length())return this.next}var b=this.clone();return this.parent.insertBefore(b,this.next),this.children.forEachAt(y,this.length(),function(_,w,S){_=_.split(w,T),b.appendChild(_)}),b},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(y,T){var b=this,_=[],w=[];y.forEach(function(S){S.target===b.domNode&&S.type==="childList"&&(_.push.apply(_,S.addedNodes),w.push.apply(w,S.removedNodes))}),w.forEach(function(S){if(!(S.parentNode!=null&&S.tagName!=="IFRAME"&&document.body.compareDocumentPosition(S)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var R=h.find(S);R!=null&&(R.domNode.parentNode==null||R.domNode.parentNode===b.domNode)&&R.detach()}}),_.filter(function(S){return S.parentNode==b.domNode}).sort(function(S,R){return S===R?0:S.compareDocumentPosition(R)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(S){var R=null;S.nextSibling!=null&&(R=h.find(S.nextSibling));var E=v(S);(E.next!=R||E.next==null)&&(E.parent!=null&&E.parent.removeChild(b),b.insertBefore(E,R||void 0))})},d}(f.default);function v(g){var d=h.find(g);if(d==null)try{d=h.create(g)}catch{d=h.create(h.Scope.INLINE),[].slice.call(g.childNodes).forEach(function(T){d.domNode.appendChild(T)}),g.parentNode&&g.parentNode.replaceChild(d.domNode,g),d.attach()}return d}r.default=m},function(t,r,o){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var T in y)y.hasOwnProperty(T)&&(d[T]=y[T])};return function(d,y){g(d,y);function T(){this.constructor=d}d.prototype=y===null?Object.create(y):(T.prototype=y.prototype,new T)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(12),f=o(31),h=o(17),m=o(1),v=function(g){a(d,g);function d(y){var T=g.call(this,y)||this;return T.attributes=new f.default(T.domNode),T}return d.formats=function(y){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return y.tagName.toLowerCase()},d.prototype.format=function(y,T){var b=m.query(y);b instanceof u.default?this.attributes.attribute(b,T):T&&b!=null&&(y!==this.statics.blotName||this.formats()[y]!==T)&&this.replaceWith(y,T)},d.prototype.formats=function(){var y=this.attributes.values(),T=this.statics.formats(this.domNode);return T!=null&&(y[this.statics.blotName]=T),y},d.prototype.replaceWith=function(y,T){var b=g.prototype.replaceWith.call(this,y,T);return this.attributes.copy(b),b},d.prototype.update=function(y,T){var b=this;g.prototype.update.call(this,y,T),y.some(function(_){return _.target===b.domNode&&_.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(y,T){var b=g.prototype.wrap.call(this,y,T);return b instanceof d&&b.statics.scope===this.statics.scope&&this.attributes.move(b),b},d}(h.default);r.default=v},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var d in g)g.hasOwnProperty(d)&&(v[d]=g[d])};return function(v,g){m(v,g);function d(){this.constructor=v}v.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(30),f=o(1),h=function(m){a(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.value=function(g){return!0},v.prototype.index=function(g,d){return this.domNode===g||this.domNode.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},v.prototype.position=function(g,d){var y=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return g>0&&(y+=1),[this.parent.domNode,y]},v.prototype.value=function(){var g;return g={},g[this.statics.blotName]=this.statics.value(this.domNode)||!0,g},v.scope=f.Scope.INLINE_BLOT,v}(u.default);r.default=h},function(t,r,o){var a=o(11),u=o(3),f={attributes:{compose:function(m,v,g){typeof m!="object"&&(m={}),typeof v!="object"&&(v={});var d=u(!0,{},v);g||(d=Object.keys(d).reduce(function(T,b){return d[b]!=null&&(T[b]=d[b]),T},{}));for(var y in m)m[y]!==void 0&&v[y]===void 0&&(d[y]=m[y]);return Object.keys(d).length>0?d:void 0},diff:function(m,v){typeof m!="object"&&(m={}),typeof v!="object"&&(v={});var g=Object.keys(m).concat(Object.keys(v)).reduce(function(d,y){return a(m[y],v[y])||(d[y]=v[y]===void 0?null:v[y]),d},{});return Object.keys(g).length>0?g:void 0},transform:function(m,v,g){if(typeof m!="object")return v;if(typeof v=="object"){if(!g)return v;var d=Object.keys(v).reduce(function(y,T){return m[T]===void 0&&(y[T]=v[T]),y},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(m){return new h(m)},length:function(m){return typeof m.delete=="number"?m.delete:typeof m.retain=="number"?m.retain:typeof m.insert=="string"?m.insert.length:1}};function h(m){this.ops=m,this.index=0,this.offset=0}h.prototype.hasNext=function(){return this.peekLength()<1/0},h.prototype.next=function(m){m||(m=1/0);var v=this.ops[this.index];if(v){var g=this.offset,d=f.length(v);if(m>=d-g?(m=d-g,this.index+=1,this.offset=0):this.offset+=m,typeof v.delete=="number")return{delete:m};var y={};return v.attributes&&(y.attributes=v.attributes),typeof v.retain=="number"?y.retain=m:typeof v.insert=="string"?y.insert=v.insert.substr(g,m):y.insert=v.insert,y}else return{retain:1/0}},h.prototype.peek=function(){return this.ops[this.index]},h.prototype.peekLength=function(){return this.ops[this.index]?f.length(this.ops[this.index])-this.offset:1/0},h.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},h.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var m=this.offset,v=this.index,g=this.next(),d=this.ops.slice(this.index);return this.offset=m,this.index=v,[g].concat(d)}else return[]},t.exports=f},function(t,r){var o=function(){function a(b,_){return _!=null&&b instanceof _}var u;try{u=Map}catch{u=function(){}}var f;try{f=Set}catch{f=function(){}}var h;try{h=Promise}catch{h=function(){}}function m(b,_,w,S,R){typeof _=="object"&&(w=_.depth,S=_.prototype,R=_.includeNonEnumerable,_=_.circular);var E=[],L=[],U=typeof Buffer<"u";typeof _>"u"&&(_=!0),typeof w>"u"&&(w=1/0);function C(I,M){if(I===null)return null;if(M===0)return I;var O,k;if(typeof I!="object")return I;if(a(I,u))O=new u;else if(a(I,f))O=new f;else if(a(I,h))O=new h(function(W,j){I.then(function(B){W(C(B,M-1))},function(B){j(C(B,M-1))})});else if(m.__isArray(I))O=[];else if(m.__isRegExp(I))O=new RegExp(I.source,T(I)),I.lastIndex&&(O.lastIndex=I.lastIndex);else if(m.__isDate(I))O=new Date(I.getTime());else{if(U&&Buffer.isBuffer(I))return Buffer.allocUnsafe?O=Buffer.allocUnsafe(I.length):O=new Buffer(I.length),I.copy(O),O;a(I,Error)?O=Object.create(I):typeof S>"u"?(k=Object.getPrototypeOf(I),O=Object.create(k)):(O=Object.create(S),k=S)}if(_){var D=E.indexOf(I);if(D!=-1)return L[D];E.push(I),L.push(O)}a(I,u)&&I.forEach(function(W,j){var B=C(j,M-1),K=C(W,M-1);O.set(B,K)}),a(I,f)&&I.forEach(function(W){var j=C(W,M-1);O.add(j)});for(var N in I){var H;k&&(H=Object.getOwnPropertyDescriptor(k,N)),!(H&&H.set==null)&&(O[N]=C(I[N],M-1))}if(Object.getOwnPropertySymbols)for(var G=Object.getOwnPropertySymbols(I),N=0;N<G.length;N++){var X=G[N],te=Object.getOwnPropertyDescriptor(I,X);te&&!te.enumerable&&!R||(O[X]=C(I[X],M-1),te.enumerable||Object.defineProperty(O,X,{enumerable:!1}))}if(R)for(var ie=Object.getOwnPropertyNames(I),N=0;N<ie.length;N++){var Y=ie[N],te=Object.getOwnPropertyDescriptor(I,Y);te&&te.enumerable||(O[Y]=C(I[Y],M-1),Object.defineProperty(O,Y,{enumerable:!1}))}return O}return C(b,w)}m.clonePrototype=function(_){if(_===null)return null;var w=function(){};return w.prototype=_,new w};function v(b){return Object.prototype.toString.call(b)}m.__objToStr=v;function g(b){return typeof b=="object"&&v(b)==="[object Date]"}m.__isDate=g;function d(b){return typeof b=="object"&&v(b)==="[object Array]"}m.__isArray=d;function y(b){return typeof b=="object"&&v(b)==="[object RegExp]"}m.__isRegExp=y;function T(b){var _="";return b.global&&(_+="g"),b.ignoreCase&&(_+="i"),b.multiline&&(_+="m"),_}return m.__getRegExpFlags=T,m}();typeof t=="object"&&t.exports&&(t.exports=o)},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function O(k,D){var N=[],H=!0,G=!1,X=void 0;try{for(var te=k[Symbol.iterator](),ie;!(H=(ie=te.next()).done)&&(N.push(ie.value),!(D&&N.length===D));H=!0);}catch(Y){G=!0,X=Y}finally{try{!H&&te.return&&te.return()}finally{if(G)throw X}}return N}return function(k,D){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return O(k,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function O(k,D){for(var N=0;N<D.length;N++){var H=D[N];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(k,H.key,H)}}return function(k,D,N){return D&&O(k.prototype,D),N&&O(k,N),k}}(),f=function O(k,D,N){k===null&&(k=Function.prototype);var H=Object.getOwnPropertyDescriptor(k,D);if(H===void 0){var G=Object.getPrototypeOf(k);return G===null?void 0:O(G,D,N)}else{if("value"in H)return H.value;var X=H.get;return X===void 0?void 0:X.call(N)}},h=o(0),m=E(h),v=o(8),g=E(v),d=o(4),y=E(d),T=o(16),b=E(T),_=o(13),w=E(_),S=o(25),R=E(S);function E(O){return O&&O.__esModule?O:{default:O}}function L(O,k){if(!(O instanceof k))throw new TypeError("Cannot call a class as a function")}function U(O,k){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:O}function C(O,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);O.prototype=Object.create(k&&k.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(O,k):O.__proto__=k)}function I(O){return O instanceof y.default||O instanceof d.BlockEmbed}var M=function(O){C(k,O);function k(D,N){L(this,k);var H=U(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,D));return H.emitter=N.emitter,Array.isArray(N.whitelist)&&(H.whitelist=N.whitelist.reduce(function(G,X){return G[X]=!0,G},{})),H.domNode.addEventListener("DOMNodeInserted",function(){}),H.optimize(),H.enable(),H}return u(k,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(N,H){var G=this.line(N),X=a(G,2),te=X[0],ie=X[1],Y=this.line(N+H),W=a(Y,1),j=W[0];if(f(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,N,H),j!=null&&te!==j&&ie>0){if(te instanceof d.BlockEmbed||j instanceof d.BlockEmbed){this.optimize();return}if(te instanceof w.default){var B=te.newlineIndex(te.length(),!0);if(B>-1&&(te=te.split(B+1),te===j)){this.optimize();return}}else if(j instanceof w.default){var K=j.newlineIndex(0);K>-1&&j.split(K+1)}var ne=j.children.head instanceof b.default?null:j.children.head;te.moveChildren(j,ne),te.remove()}this.optimize()}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",N)}},{key:"formatAt",value:function(N,H,G,X){this.whitelist!=null&&!this.whitelist[G]||(f(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,N,H,G,X),this.optimize())}},{key:"insertAt",value:function(N,H,G){if(!(G!=null&&this.whitelist!=null&&!this.whitelist[H])){if(N>=this.length())if(G==null||m.default.query(H,m.default.Scope.BLOCK)==null){var X=m.default.create(this.statics.defaultChild);this.appendChild(X),G==null&&H.endsWith(`
`)&&(H=H.slice(0,-1)),X.insertAt(0,H,G)}else{var te=m.default.create(H,G);this.appendChild(te)}else f(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,N,H,G);this.optimize()}}},{key:"insertBefore",value:function(N,H){if(N.statics.scope===m.default.Scope.INLINE_BLOT){var G=m.default.create(this.statics.defaultChild);G.appendChild(N),N=G}f(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,N,H)}},{key:"leaf",value:function(N){return this.path(N).pop()||[null,-1]}},{key:"line",value:function(N){return N===this.length()?this.line(N-1):this.descendant(I,N)}},{key:"lines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,G=function X(te,ie,Y){var W=[],j=Y;return te.children.forEachAt(ie,Y,function(B,K,ne){I(B)?W.push(B):B instanceof m.default.Container&&(W=W.concat(X(B,K,j))),j-=ne}),W};return G(this,N,H)}},{key:"optimize",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(f(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,N,H),N.length>0&&this.emitter.emit(g.default.events.SCROLL_OPTIMIZE,N,H))}},{key:"path",value:function(N){return f(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,N).slice(1)}},{key:"update",value:function(N){if(this.batch!==!0){var H=g.default.sources.USER;typeof N=="string"&&(H=N),Array.isArray(N)||(N=this.observer.takeRecords()),N.length>0&&this.emitter.emit(g.default.events.SCROLL_BEFORE_UPDATE,H,N),f(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"update",this).call(this,N.concat([])),N.length>0&&this.emitter.emit(g.default.events.SCROLL_UPDATE,H,N)}}}]),k}(m.default.Scroll);M.blotName="scroll",M.className="ql-editor",M.tagName="DIV",M.defaultChild="block",M.allowedChildren=[y.default,d.BlockEmbed,R.default],r.default=M},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},u=function(){function $(J,oe){var se=[],pe=!0,Ie=!1,De=void 0;try{for(var Ve=J[Symbol.iterator](),We;!(pe=(We=Ve.next()).done)&&(se.push(We.value),!(oe&&se.length===oe));pe=!0);}catch(Je){Ie=!0,De=Je}finally{try{!pe&&Ve.return&&Ve.return()}finally{if(Ie)throw De}}return se}return function(J,oe){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return $(J,oe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function $(J,oe){for(var se=0;se<oe.length;se++){var pe=oe[se];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(J,pe.key,pe)}}return function(J,oe,se){return oe&&$(J.prototype,oe),se&&$(J,se),J}}(),h=o(21),m=O(h),v=o(11),g=O(v),d=o(3),y=O(d),T=o(2),b=O(T),_=o(20),w=O(_),S=o(0),R=O(S),E=o(5),L=O(E),U=o(10),C=O(U),I=o(9),M=O(I);function O($){return $&&$.__esModule?$:{default:$}}function k($,J,oe){return J in $?Object.defineProperty($,J,{value:oe,enumerable:!0,configurable:!0,writable:!0}):$[J]=oe,$}function D($,J){if(!($ instanceof J))throw new TypeError("Cannot call a class as a function")}function N($,J){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J&&(typeof J=="object"||typeof J=="function")?J:$}function H($,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);$.prototype=Object.create(J&&J.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf($,J):$.__proto__=J)}var G=(0,C.default)("quill:keyboard"),X=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",te=function($){H(J,$),f(J,null,[{key:"match",value:function(se,pe){return pe=ee(pe),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Ie){return!!pe[Ie]!==se[Ie]&&pe[Ie]!==null})?!1:pe.key===(se.which||se.keyCode)}}]);function J(oe,se){D(this,J);var pe=N(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,oe,se));return pe.bindings={},Object.keys(pe.options.bindings).forEach(function(Ie){Ie==="list autofill"&&oe.scroll.whitelist!=null&&!oe.scroll.whitelist.list||pe.options.bindings[Ie]&&pe.addBinding(pe.options.bindings[Ie])}),pe.addBinding({key:J.keys.ENTER,shiftKey:null},B),pe.addBinding({key:J.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(pe.addBinding({key:J.keys.BACKSPACE},{collapsed:!0},Y),pe.addBinding({key:J.keys.DELETE},{collapsed:!0},W)):(pe.addBinding({key:J.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},Y),pe.addBinding({key:J.keys.DELETE},{collapsed:!0,suffix:/^.?$/},W)),pe.addBinding({key:J.keys.BACKSPACE},{collapsed:!1},j),pe.addBinding({key:J.keys.DELETE},{collapsed:!1},j),pe.addBinding({key:J.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},Y),pe.listen(),pe}return f(J,[{key:"addBinding",value:function(se){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},De=ee(se);if(De==null||De.key==null)return G.warn("Attempted to add invalid keyboard binding",De);typeof pe=="function"&&(pe={handler:pe}),typeof Ie=="function"&&(Ie={handler:Ie}),De=(0,y.default)(De,pe,Ie),this.bindings[De.key]=this.bindings[De.key]||[],this.bindings[De.key].push(De)}},{key:"listen",value:function(){var se=this;this.quill.root.addEventListener("keydown",function(pe){if(!pe.defaultPrevented){var Ie=pe.which||pe.keyCode,De=(se.bindings[Ie]||[]).filter(function(ht){return J.match(pe,ht)});if(De.length!==0){var Ve=se.quill.getSelection();if(!(Ve==null||!se.quill.hasFocus())){var We=se.quill.getLine(Ve.index),Je=u(We,2),Nt=Je[0],yt=Je[1],he=se.quill.getLeaf(Ve.index),me=u(he,2),be=me[0],Ae=me[1],ye=Ve.length===0?[be,Ae]:se.quill.getLeaf(Ve.index+Ve.length),Be=u(ye,2),ze=Be[0],Ke=Be[1],lt=be instanceof R.default.Text?be.value().slice(0,Ae):"",ft=ze instanceof R.default.Text?ze.value().slice(Ke):"",st={collapsed:Ve.length===0,empty:Ve.length===0&&Nt.length()<=1,format:se.quill.getFormat(Ve),offset:yt,prefix:lt,suffix:ft},ao=De.some(function(ht){if(ht.collapsed!=null&&ht.collapsed!==st.collapsed||ht.empty!=null&&ht.empty!==st.empty||ht.offset!=null&&ht.offset!==st.offset)return!1;if(Array.isArray(ht.format)){if(ht.format.every(function(nn){return st.format[nn]==null}))return!1}else if(a(ht.format)==="object"&&!Object.keys(ht.format).every(function(nn){return ht.format[nn]===!0?st.format[nn]!=null:ht.format[nn]===!1?st.format[nn]==null:(0,g.default)(ht.format[nn],st.format[nn])}))return!1;return ht.prefix!=null&&!ht.prefix.test(st.prefix)||ht.suffix!=null&&!ht.suffix.test(st.suffix)?!1:ht.handler.call(se,Ve,st)!==!0});ao&&pe.preventDefault()}}}})}}]),J}(M.default);te.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},te.DEFAULTS={bindings:{bold:ne("bold"),italic:ne("italic"),underline:ne("underline"),indent:{key:te.keys.TAB,format:["blockquote","indent","list"],handler:function(J,oe){if(oe.collapsed&&oe.offset!==0)return!0;this.quill.format("indent","+1",L.default.sources.USER)}},outdent:{key:te.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(J,oe){if(oe.collapsed&&oe.offset!==0)return!0;this.quill.format("indent","-1",L.default.sources.USER)}},"outdent backspace":{key:te.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(J,oe){oe.format.indent!=null?this.quill.format("indent","-1",L.default.sources.USER):oe.format.list!=null&&this.quill.format("list",!1,L.default.sources.USER)}},"indent code-block":K(!0),"outdent code-block":K(!1),"remove tab":{key:te.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(J){this.quill.deleteText(J.index-1,1,L.default.sources.USER)}},tab:{key:te.keys.TAB,handler:function(J){this.quill.history.cutoff();var oe=new b.default().retain(J.index).delete(J.length).insert("	");this.quill.updateContents(oe,L.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index+1,L.default.sources.SILENT)}},"list empty enter":{key:te.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(J,oe){this.quill.format("list",!1,L.default.sources.USER),oe.format.indent&&this.quill.format("indent",!1,L.default.sources.USER)}},"checklist enter":{key:te.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(J){var oe=this.quill.getLine(J.index),se=u(oe,2),pe=se[0],Ie=se[1],De=(0,y.default)({},pe.formats(),{list:"checked"}),Ve=new b.default().retain(J.index).insert(`
`,De).retain(pe.length()-Ie-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ve,L.default.sources.USER),this.quill.setSelection(J.index+1,L.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:te.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(J,oe){var se=this.quill.getLine(J.index),pe=u(se,2),Ie=pe[0],De=pe[1],Ve=new b.default().retain(J.index).insert(`
`,oe.format).retain(Ie.length()-De-1).retain(1,{header:null});this.quill.updateContents(Ve,L.default.sources.USER),this.quill.setSelection(J.index+1,L.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(J,oe){var se=oe.prefix.length,pe=this.quill.getLine(J.index),Ie=u(pe,2),De=Ie[0],Ve=Ie[1];if(Ve>se)return!0;var We=void 0;switch(oe.prefix.trim()){case"[]":case"[ ]":We="unchecked";break;case"[x]":We="checked";break;case"-":case"*":We="bullet";break;default:We="ordered"}this.quill.insertText(J.index," ",L.default.sources.USER),this.quill.history.cutoff();var Je=new b.default().retain(J.index-Ve).delete(se+1).retain(De.length()-2-Ve).retain(1,{list:We});this.quill.updateContents(Je,L.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index-se,L.default.sources.SILENT)}},"code exit":{key:te.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(J){var oe=this.quill.getLine(J.index),se=u(oe,2),pe=se[0],Ie=se[1],De=new b.default().retain(J.index+pe.length()-Ie-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(De,L.default.sources.USER)}},"embed left":ie(te.keys.LEFT,!1),"embed left shift":ie(te.keys.LEFT,!0),"embed right":ie(te.keys.RIGHT,!1),"embed right shift":ie(te.keys.RIGHT,!0)}};function ie($,J){var oe,se=$===te.keys.LEFT?"prefix":"suffix";return oe={key:$,shiftKey:J,altKey:null},k(oe,se,/^$/),k(oe,"handler",function(Ie){var De=Ie.index;$===te.keys.RIGHT&&(De+=Ie.length+1);var Ve=this.quill.getLeaf(De),We=u(Ve,1),Je=We[0];return Je instanceof R.default.Embed?($===te.keys.LEFT?J?this.quill.setSelection(Ie.index-1,Ie.length+1,L.default.sources.USER):this.quill.setSelection(Ie.index-1,L.default.sources.USER):J?this.quill.setSelection(Ie.index,Ie.length+1,L.default.sources.USER):this.quill.setSelection(Ie.index+Ie.length+1,L.default.sources.USER),!1):!0}),oe}function Y($,J){if(!($.index===0||this.quill.getLength()<=1)){var oe=this.quill.getLine($.index),se=u(oe,1),pe=se[0],Ie={};if(J.offset===0){var De=this.quill.getLine($.index-1),Ve=u(De,1),We=Ve[0];if(We!=null&&We.length()>1){var Je=pe.formats(),Nt=this.quill.getFormat($.index-1,1);Ie=w.default.attributes.diff(Je,Nt)||{}}}var yt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(J.prefix)?2:1;this.quill.deleteText($.index-yt,yt,L.default.sources.USER),Object.keys(Ie).length>0&&this.quill.formatLine($.index-yt,yt,Ie,L.default.sources.USER),this.quill.focus()}}function W($,J){var oe=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(J.suffix)?2:1;if(!($.index>=this.quill.getLength()-oe)){var se={},pe=0,Ie=this.quill.getLine($.index),De=u(Ie,1),Ve=De[0];if(J.offset>=Ve.length()-1){var We=this.quill.getLine($.index+1),Je=u(We,1),Nt=Je[0];if(Nt){var yt=Ve.formats(),he=this.quill.getFormat($.index,1);se=w.default.attributes.diff(yt,he)||{},pe=Nt.length()}}this.quill.deleteText($.index,oe,L.default.sources.USER),Object.keys(se).length>0&&this.quill.formatLine($.index+pe-1,oe,se,L.default.sources.USER)}}function j($){var J=this.quill.getLines($),oe={};if(J.length>1){var se=J[0].formats(),pe=J[J.length-1].formats();oe=w.default.attributes.diff(pe,se)||{}}this.quill.deleteText($,L.default.sources.USER),Object.keys(oe).length>0&&this.quill.formatLine($.index,1,oe,L.default.sources.USER),this.quill.setSelection($.index,L.default.sources.SILENT),this.quill.focus()}function B($,J){var oe=this;$.length>0&&this.quill.scroll.deleteAt($.index,$.length);var se=Object.keys(J.format).reduce(function(pe,Ie){return R.default.query(Ie,R.default.Scope.BLOCK)&&!Array.isArray(J.format[Ie])&&(pe[Ie]=J.format[Ie]),pe},{});this.quill.insertText($.index,`
`,se,L.default.sources.USER),this.quill.setSelection($.index+1,L.default.sources.SILENT),this.quill.focus(),Object.keys(J.format).forEach(function(pe){se[pe]==null&&(Array.isArray(J.format[pe])||pe!=="link"&&oe.quill.format(pe,J.format[pe],L.default.sources.USER))})}function K($){return{key:te.keys.TAB,shiftKey:!$,format:{"code-block":!0},handler:function(oe){var se=R.default.query("code-block"),pe=oe.index,Ie=oe.length,De=this.quill.scroll.descendant(se,pe),Ve=u(De,2),We=Ve[0],Je=Ve[1];if(We!=null){var Nt=this.quill.getIndex(We),yt=We.newlineIndex(Je,!0)+1,he=We.newlineIndex(Nt+Je+Ie),me=We.domNode.textContent.slice(yt,he).split(`
`);Je=0,me.forEach(function(be,Ae){$?(We.insertAt(yt+Je,se.TAB),Je+=se.TAB.length,Ae===0?pe+=se.TAB.length:Ie+=se.TAB.length):be.startsWith(se.TAB)&&(We.deleteAt(yt+Je,se.TAB.length),Je-=se.TAB.length,Ae===0?pe-=se.TAB.length:Ie-=se.TAB.length),Je+=be.length+1}),this.quill.update(L.default.sources.USER),this.quill.setSelection(pe,Ie,L.default.sources.SILENT)}}}}function ne($){return{key:$[0].toUpperCase(),shortKey:!0,handler:function(oe,se){this.quill.format($,!se.format[$],L.default.sources.USER)}}}function ee($){if(typeof $=="string"||typeof $=="number")return ee({key:$});if((typeof $>"u"?"undefined":a($))==="object"&&($=(0,m.default)($,!1)),typeof $.key=="string")if(te.keys[$.key.toUpperCase()]!=null)$.key=te.keys[$.key.toUpperCase()];else if($.key.length===1)$.key=$.key.toUpperCase().charCodeAt(0);else return null;return $.shortKey&&($[X]=$.shortKey,delete $.shortKey),$}r.default=te,r.SHORTKEY=X},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function w(S,R){var E=[],L=!0,U=!1,C=void 0;try{for(var I=S[Symbol.iterator](),M;!(L=(M=I.next()).done)&&(E.push(M.value),!(R&&E.length===R));L=!0);}catch(O){U=!0,C=O}finally{try{!L&&I.return&&I.return()}finally{if(U)throw C}}return E}return function(S,R){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return w(S,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function w(S,R,E){S===null&&(S=Function.prototype);var L=Object.getOwnPropertyDescriptor(S,R);if(L===void 0){var U=Object.getPrototypeOf(S);return U===null?void 0:w(U,R,E)}else{if("value"in L)return L.value;var C=L.get;return C===void 0?void 0:C.call(E)}},f=function(){function w(S,R){for(var E=0;E<R.length;E++){var L=R[E];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,L.key,L)}}return function(S,R,E){return R&&w(S.prototype,R),E&&w(S,E),S}}(),h=o(0),m=d(h),v=o(7),g=d(v);function d(w){return w&&w.__esModule?w:{default:w}}function y(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function T(w,S){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:w}function b(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);w.prototype=Object.create(S&&S.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(w,S):w.__proto__=S)}var _=function(w){b(S,w),f(S,null,[{key:"value",value:function(){}}]);function S(R,E){y(this,S);var L=T(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R));return L.selection=E,L.textNode=document.createTextNode(S.CONTENTS),L.domNode.appendChild(L.textNode),L._length=0,L}return f(S,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(E,L){if(this._length!==0)return u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,E,L);for(var U=this,C=0;U!=null&&U.statics.scope!==m.default.Scope.BLOCK_BLOT;)C+=U.offset(U.parent),U=U.parent;U!=null&&(this._length=S.CONTENTS.length,U.optimize(),U.formatAt(C,S.CONTENTS.length,E,L),this._length=0)}},{key:"index",value:function(E,L){return E===this.textNode?0:u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"index",this).call(this,E,L)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var E=this.textNode,L=this.selection.getNativeRange(),U=void 0,C=void 0,I=void 0;if(L!=null&&L.start.node===E&&L.end.node===E){var M=[E,L.start.offset,L.end.offset];U=M[0],C=M[1],I=M[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==S.CONTENTS){var O=this.textNode.data.split(S.CONTENTS).join("");this.next instanceof g.default?(U=this.next.domNode,this.next.insertAt(0,O),this.textNode.data=S.CONTENTS):(this.textNode.data=O,this.parent.insertBefore(m.default.create(this.textNode),this),this.textNode=document.createTextNode(S.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),C!=null){var k=[C,I].map(function(N){return Math.max(0,Math.min(U.data.length,N-1))}),D=a(k,2);return C=D[0],I=D[1],{startNode:U,startOffset:C,endNode:U,endOffset:I}}}}},{key:"update",value:function(E,L){var U=this;if(E.some(function(I){return I.type==="characterData"&&I.target===U.textNode})){var C=this.restore();C&&(L.range=C)}}},{key:"value",value:function(){return""}}]),S}(m.default.Embed);_.blotName="cursor",_.className="ql-cursor",_.tagName="span",_.CONTENTS="\uFEFF",r.default=_},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),u=m(a),f=o(4),h=m(f);function m(T){return T&&T.__esModule?T:{default:T}}function v(T,b){if(!(T instanceof b))throw new TypeError("Cannot call a class as a function")}function g(T,b){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:T}function d(T,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);T.prototype=Object.create(b&&b.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(T,b):T.__proto__=b)}var y=function(T){d(b,T);function b(){return v(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return b}(u.default.Container);y.allowedChildren=[h.default,f.BlockEmbed,y],r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var a=function(){function _(w,S){for(var R=0;R<S.length;R++){var E=S[R];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,S,R){return S&&_(w.prototype,S),R&&_(w,R),w}}(),u=function _(w,S,R){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,S);if(E===void 0){var L=Object.getPrototypeOf(w);return L===null?void 0:_(L,S,R)}else{if("value"in E)return E.value;var U=E.get;return U===void 0?void 0:U.call(R)}},f=o(0),h=m(f);function m(_){return _&&_.__esModule?_:{default:_}}function v(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function g(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function d(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var y=function(_){d(w,_);function w(){return v(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"value",value:function(R){var E=u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,R);return E.startsWith("rgb(")?(E=E.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+E.split(",").map(function(L){return("00"+parseInt(L).toString(16)).slice(-2)}).join("")):E}}]),w}(h.default.Attributor.Style),T=new h.default.Attributor.Class("color","ql-color",{scope:h.default.Scope.INLINE}),b=new y("color","color",{scope:h.default.Scope.INLINE});r.ColorAttributor=y,r.ColorClass=T,r.ColorStyle=b},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var a=function(){function b(_,w){for(var S=0;S<w.length;S++){var R=w[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(_,R.key,R)}}return function(_,w,S){return w&&b(_.prototype,w),S&&b(_,S),_}}(),u=function b(_,w,S){_===null&&(_=Function.prototype);var R=Object.getOwnPropertyDescriptor(_,w);if(R===void 0){var E=Object.getPrototypeOf(_);return E===null?void 0:b(E,w,S)}else{if("value"in R)return R.value;var L=R.get;return L===void 0?void 0:L.call(S)}},f=o(6),h=m(f);function m(b){return b&&b.__esModule?b:{default:b}}function v(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function g(b,_){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:b}function d(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(b,_):b.__proto__=_)}var y=function(b){d(_,b);function _(){return v(this,_),g(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"format",value:function(S,R){if(S!==this.statics.blotName||!R)return u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,S,R);R=this.constructor.sanitize(R),this.domNode.setAttribute("href",R)}}],[{key:"create",value:function(S){var R=u(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,S);return S=this.sanitize(S),R.setAttribute("href",S),R.setAttribute("rel","noopener noreferrer"),R.setAttribute("target","_blank"),R}},{key:"formats",value:function(S){return S.getAttribute("href")}},{key:"sanitize",value:function(S){return T(S,this.PROTOCOL_WHITELIST)?S:this.SANITIZED_URL}}]),_}(h.default);y.blotName="link",y.tagName="A",y.SANITIZED_URL="about:blank",y.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function T(b,_){var w=document.createElement("a");w.href=b;var S=w.href.slice(0,w.href.indexOf(":"));return _.indexOf(S)>-1}r.default=y,r.sanitize=T},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},u=function(){function _(w,S){for(var R=0;R<S.length;R++){var E=S[R];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,S,R){return S&&_(w.prototype,S),R&&_(w,R),w}}(),f=o(23),h=g(f),m=o(107),v=g(m);function g(_){return _&&_.__esModule?_:{default:_}}function d(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}var y=0;function T(_,w){_.setAttribute(w,_.getAttribute(w)!=="true")}var b=function(){function _(w){var S=this;d(this,_),this.select=w,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){S.togglePicker()}),this.label.addEventListener("keydown",function(R){switch(R.keyCode){case h.default.keys.ENTER:S.togglePicker();break;case h.default.keys.ESCAPE:S.escape(),R.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return u(_,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),T(this.label,"aria-expanded"),T(this.options,"aria-hidden")}},{key:"buildItem",value:function(S){var R=this,E=document.createElement("span");return E.tabIndex="0",E.setAttribute("role","button"),E.classList.add("ql-picker-item"),S.hasAttribute("value")&&E.setAttribute("data-value",S.getAttribute("value")),S.textContent&&E.setAttribute("data-label",S.textContent),E.addEventListener("click",function(){R.selectItem(E,!0)}),E.addEventListener("keydown",function(L){switch(L.keyCode){case h.default.keys.ENTER:R.selectItem(E,!0),L.preventDefault();break;case h.default.keys.ESCAPE:R.escape(),L.preventDefault();break}}),E}},{key:"buildLabel",value:function(){var S=document.createElement("span");return S.classList.add("ql-picker-label"),S.innerHTML=v.default,S.tabIndex="0",S.setAttribute("role","button"),S.setAttribute("aria-expanded","false"),this.container.appendChild(S),S}},{key:"buildOptions",value:function(){var S=this,R=document.createElement("span");R.classList.add("ql-picker-options"),R.setAttribute("aria-hidden","true"),R.tabIndex="-1",R.id="ql-picker-options-"+y,y+=1,this.label.setAttribute("aria-controls",R.id),this.options=R,[].slice.call(this.select.options).forEach(function(E){var L=S.buildItem(E);R.appendChild(L),E.selected===!0&&S.selectItem(L)}),this.container.appendChild(R)}},{key:"buildPicker",value:function(){var S=this;[].slice.call(this.select.attributes).forEach(function(R){S.container.setAttribute(R.name,R.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var S=this;this.close(),setTimeout(function(){return S.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(S){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,E=this.container.querySelector(".ql-selected");if(S!==E&&(E!=null&&E.classList.remove("ql-selected"),S!=null&&(S.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(S.parentNode.children,S),S.hasAttribute("data-value")?this.label.setAttribute("data-value",S.getAttribute("data-value")):this.label.removeAttribute("data-value"),S.hasAttribute("data-label")?this.label.setAttribute("data-label",S.getAttribute("data-label")):this.label.removeAttribute("data-label"),R))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var L=document.createEvent("Event");L.initEvent("change",!0,!0),this.select.dispatchEvent(L)}this.close()}}},{key:"update",value:function(){var S=void 0;if(this.select.selectedIndex>-1){var R=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];S=this.select.options[this.select.selectedIndex],this.selectItem(R)}else this.selectItem(null);var E=S!=null&&S!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",E)}}]),_}();r.default=b},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),u=G(a),f=o(5),h=G(f),m=o(4),v=G(m),g=o(16),d=G(g),y=o(25),T=G(y),b=o(24),_=G(b),w=o(35),S=G(w),R=o(6),E=G(R),L=o(22),U=G(L),C=o(7),I=G(C),M=o(55),O=G(M),k=o(42),D=G(k),N=o(23),H=G(N);function G(X){return X&&X.__esModule?X:{default:X}}h.default.register({"blots/block":v.default,"blots/block/embed":m.BlockEmbed,"blots/break":d.default,"blots/container":T.default,"blots/cursor":_.default,"blots/embed":S.default,"blots/inline":E.default,"blots/scroll":U.default,"blots/text":I.default,"modules/clipboard":O.default,"modules/history":D.default,"modules/keyboard":H.default}),u.default.register(v.default,d.default,_.default,E.default,U.default,I.default),r.default=h.default},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(1),u=function(){function f(h){this.domNode=h,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(f.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),f.create=function(h){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var m;return Array.isArray(this.tagName)?(typeof h=="string"&&(h=h.toUpperCase(),parseInt(h).toString()===h&&(h=parseInt(h))),typeof h=="number"?m=document.createElement(this.tagName[h-1]):this.tagName.indexOf(h)>-1?m=document.createElement(h):m=document.createElement(this.tagName[0])):m=document.createElement(this.tagName),this.className&&m.classList.add(this.className),m},f.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},f.prototype.clone=function(){var h=this.domNode.cloneNode(!1);return a.create(h)},f.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},f.prototype.deleteAt=function(h,m){var v=this.isolate(h,m);v.remove()},f.prototype.formatAt=function(h,m,v,g){var d=this.isolate(h,m);if(a.query(v,a.Scope.BLOT)!=null&&g)d.wrap(v,g);else if(a.query(v,a.Scope.ATTRIBUTE)!=null){var y=a.create(this.statics.scope);d.wrap(y),y.format(v,g)}},f.prototype.insertAt=function(h,m,v){var g=v==null?a.create("text",m):a.create(m,v),d=this.split(h);this.parent.insertBefore(g,d)},f.prototype.insertInto=function(h,m){m===void 0&&(m=null),this.parent!=null&&this.parent.children.remove(this);var v=null;h.children.insertBefore(this,m),m!=null&&(v=m.domNode),(this.domNode.parentNode!=h.domNode||this.domNode.nextSibling!=v)&&h.domNode.insertBefore(this.domNode,v),this.parent=h,this.attach()},f.prototype.isolate=function(h,m){var v=this.split(h);return v.split(m),v},f.prototype.length=function(){return 1},f.prototype.offset=function(h){return h===void 0&&(h=this.parent),this.parent==null||this==h?0:this.parent.children.offset(this)+this.parent.offset(h)},f.prototype.optimize=function(h){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},f.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},f.prototype.replace=function(h){h.parent!=null&&(h.parent.insertBefore(this,h.next),h.remove())},f.prototype.replaceWith=function(h,m){var v=typeof h=="string"?a.create(h,m):h;return v.replace(this),v},f.prototype.split=function(h,m){return h===0?this:this.next},f.prototype.update=function(h,m){},f.prototype.wrap=function(h,m){var v=typeof h=="string"?a.create(h,m):h;return this.parent!=null&&this.parent.insertBefore(v,this.next),v.appendChild(this),v},f.blotName="abstract",f}();r.default=u},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(12),u=o(32),f=o(33),h=o(1),m=function(){function v(g){this.attributes={},this.domNode=g,this.build()}return v.prototype.attribute=function(g,d){d?g.add(this.domNode,d)&&(g.value(this.domNode)!=null?this.attributes[g.attrName]=g:delete this.attributes[g.attrName]):(g.remove(this.domNode),delete this.attributes[g.attrName])},v.prototype.build=function(){var g=this;this.attributes={};var d=a.default.keys(this.domNode),y=u.default.keys(this.domNode),T=f.default.keys(this.domNode);d.concat(y).concat(T).forEach(function(b){var _=h.query(b,h.Scope.ATTRIBUTE);_ instanceof a.default&&(g.attributes[_.attrName]=_)})},v.prototype.copy=function(g){var d=this;Object.keys(this.attributes).forEach(function(y){var T=d.attributes[y].value(d.domNode);g.format(y,T)})},v.prototype.move=function(g){var d=this;this.copy(g),Object.keys(this.attributes).forEach(function(y){d.attributes[y].remove(d.domNode)}),this.attributes={}},v.prototype.values=function(){var g=this;return Object.keys(this.attributes).reduce(function(d,y){return d[y]=g.attributes[y].value(g.domNode),d},{})},v}();r.default=m},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var d in g)g.hasOwnProperty(d)&&(v[d]=g[d])};return function(v,g){m(v,g);function d(){this.constructor=v}v.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(12);function f(m,v){var g=m.getAttribute("class")||"";return g.split(/\s+/).filter(function(d){return d.indexOf(v+"-")===0})}var h=function(m){a(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.keys=function(g){return(g.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},v.prototype.add=function(g,d){return this.canAdd(g,d)?(this.remove(g),g.classList.add(this.keyName+"-"+d),!0):!1},v.prototype.remove=function(g){var d=f(g,this.keyName);d.forEach(function(y){g.classList.remove(y)}),g.classList.length===0&&g.removeAttribute("class")},v.prototype.value=function(g){var d=f(g,this.keyName)[0]||"",y=d.slice(this.keyName.length+1);return this.canAdd(g,y)?y:""},v}(u.default);r.default=h},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var d in g)g.hasOwnProperty(d)&&(v[d]=g[d])};return function(v,g){m(v,g);function d(){this.constructor=v}v.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(12);function f(m){var v=m.split("-"),g=v.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return v[0]+g}var h=function(m){a(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.keys=function(g){return(g.getAttribute("style")||"").split(";").map(function(d){var y=d.split(":");return y[0].trim()})},v.prototype.add=function(g,d){return this.canAdd(g,d)?(g.style[f(this.keyName)]=d,!0):!1},v.prototype.remove=function(g){g.style[f(this.keyName)]="",g.getAttribute("style")||g.removeAttribute("style")},v.prototype.value=function(g){var d=g.style[f(this.keyName)];return this.canAdd(g,d)?d:""},v}(u.default);r.default=h},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function h(m,v){for(var g=0;g<v.length;g++){var d=v[g];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(m,d.key,d)}}return function(m,v,g){return v&&h(m.prototype,v),g&&h(m,g),m}}();function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}var f=function(){function h(m,v){u(this,h),this.quill=m,this.options=v,this.modules={}}return a(h,[{key:"init",value:function(){var v=this;Object.keys(this.options.modules).forEach(function(g){v.modules[g]==null&&v.addModule(g)})}},{key:"addModule",value:function(v){var g=this.quill.constructor.import("modules/"+v);return this.modules[v]=new g(this.quill,this.options.modules[v]||{}),this.modules[v]}}]),h}();f.DEFAULTS={modules:{}},f.themes={default:f},r.default=f},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function w(S,R){for(var E=0;E<R.length;E++){var L=R[E];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,L.key,L)}}return function(S,R,E){return R&&w(S.prototype,R),E&&w(S,E),S}}(),u=function w(S,R,E){S===null&&(S=Function.prototype);var L=Object.getOwnPropertyDescriptor(S,R);if(L===void 0){var U=Object.getPrototypeOf(S);return U===null?void 0:w(U,R,E)}else{if("value"in L)return L.value;var C=L.get;return C===void 0?void 0:C.call(E)}},f=o(0),h=g(f),m=o(7),v=g(m);function g(w){return w&&w.__esModule?w:{default:w}}function d(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function y(w,S){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:w}function T(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);w.prototype=Object.create(S&&S.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(w,S):w.__proto__=S)}var b="\uFEFF",_=function(w){T(S,w);function S(R){d(this,S);var E=y(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R));return E.contentNode=document.createElement("span"),E.contentNode.setAttribute("contenteditable",!1),[].slice.call(E.domNode.childNodes).forEach(function(L){E.contentNode.appendChild(L)}),E.leftGuard=document.createTextNode(b),E.rightGuard=document.createTextNode(b),E.domNode.appendChild(E.leftGuard),E.domNode.appendChild(E.contentNode),E.domNode.appendChild(E.rightGuard),E}return a(S,[{key:"index",value:function(E,L){return E===this.leftGuard?0:E===this.rightGuard?1:u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"index",this).call(this,E,L)}},{key:"restore",value:function(E){var L=void 0,U=void 0,C=E.data.split(b).join("");if(E===this.leftGuard)if(this.prev instanceof v.default){var I=this.prev.length();this.prev.insertAt(I,C),L={startNode:this.prev.domNode,startOffset:I+C.length}}else U=document.createTextNode(C),this.parent.insertBefore(h.default.create(U),this),L={startNode:U,startOffset:C.length};else E===this.rightGuard&&(this.next instanceof v.default?(this.next.insertAt(0,C),L={startNode:this.next.domNode,startOffset:C.length}):(U=document.createTextNode(C),this.parent.insertBefore(h.default.create(U),this.next),L={startNode:U,startOffset:C.length}));return E.data=b,L}},{key:"update",value:function(E,L){var U=this;E.forEach(function(C){if(C.type==="characterData"&&(C.target===U.leftGuard||C.target===U.rightGuard)){var I=U.restore(C.target);I&&(L.range=I)}})}}]),S}(h.default.Embed);r.default=_},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var a=o(0),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}var h={scope:u.default.Scope.BLOCK,whitelist:["right","center","justify"]},m=new u.default.Attributor.Attribute("align","align",h),v=new u.default.Attributor.Class("align","ql-align",h),g=new u.default.Attributor.Style("align","text-align",h);r.AlignAttribute=m,r.AlignClass=v,r.AlignStyle=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var a=o(0),u=h(a),f=o(26);function h(g){return g&&g.__esModule?g:{default:g}}var m=new u.default.Attributor.Class("background","ql-bg",{scope:u.default.Scope.INLINE}),v=new f.ColorAttributor("background","background-color",{scope:u.default.Scope.INLINE});r.BackgroundClass=m,r.BackgroundStyle=v},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var a=o(0),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}var h={scope:u.default.Scope.BLOCK,whitelist:["rtl"]},m=new u.default.Attributor.Attribute("direction","dir",h),v=new u.default.Attributor.Class("direction","ql-direction",h),g=new u.default.Attributor.Style("direction","direction",h);r.DirectionAttribute=m,r.DirectionClass=v,r.DirectionStyle=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var a=function(){function w(S,R){for(var E=0;E<R.length;E++){var L=R[E];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,L.key,L)}}return function(S,R,E){return R&&w(S.prototype,R),E&&w(S,E),S}}(),u=function w(S,R,E){S===null&&(S=Function.prototype);var L=Object.getOwnPropertyDescriptor(S,R);if(L===void 0){var U=Object.getPrototypeOf(S);return U===null?void 0:w(U,R,E)}else{if("value"in L)return L.value;var C=L.get;return C===void 0?void 0:C.call(E)}},f=o(0),h=m(f);function m(w){return w&&w.__esModule?w:{default:w}}function v(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function g(w,S){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:w}function d(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);w.prototype=Object.create(S&&S.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(w,S):w.__proto__=S)}var y={scope:h.default.Scope.INLINE,whitelist:["serif","monospace"]},T=new h.default.Attributor.Class("font","ql-font",y),b=function(w){d(S,w);function S(){return v(this,S),g(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return a(S,[{key:"value",value:function(E){return u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"value",this).call(this,E).replace(/["']/g,"")}}]),S}(h.default.Attributor.Style),_=new b("font","font-family",y);r.FontStyle=_,r.FontClass=T},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var a=o(0),u=f(a);function f(v){return v&&v.__esModule?v:{default:v}}var h=new u.default.Attributor.Class("size","ql-size",{scope:u.default.Scope.INLINE,whitelist:["small","large","huge"]}),m=new u.default.Attributor.Style("size","font-size",{scope:u.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=h,r.SizeStyle=m},function(t,r,o){t.exports={align:{"":o(76),center:o(77),right:o(78),justify:o(79)},background:o(80),blockquote:o(81),bold:o(82),clean:o(83),code:o(58),"code-block":o(58),color:o(84),direction:{"":o(85),rtl:o(86)},float:{center:o(87),full:o(88),left:o(89),right:o(90)},formula:o(91),header:{1:o(92),2:o(93)},italic:o(94),image:o(95),indent:{"+1":o(96),"-1":o(97)},link:o(98),list:{ordered:o(99),bullet:o(100),check:o(101)},script:{sub:o(102),super:o(103)},strike:o(104),underline:o(105),video:o(106)}},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var a=function(){function R(E,L){for(var U=0;U<L.length;U++){var C=L[U];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(E,C.key,C)}}return function(E,L,U){return L&&R(E.prototype,L),U&&R(E,U),E}}(),u=o(0),f=d(u),h=o(5),m=d(h),v=o(9),g=d(v);function d(R){return R&&R.__esModule?R:{default:R}}function y(R,E){if(!(R instanceof E))throw new TypeError("Cannot call a class as a function")}function T(R,E){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:R}function b(R,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);R.prototype=Object.create(E&&E.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(R,E):R.__proto__=E)}var _=function(R){b(E,R);function E(L,U){y(this,E);var C=T(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,L,U));return C.lastRecorded=0,C.ignoreChange=!1,C.clear(),C.quill.on(m.default.events.EDITOR_CHANGE,function(I,M,O,k){I!==m.default.events.TEXT_CHANGE||C.ignoreChange||(!C.options.userOnly||k===m.default.sources.USER?C.record(M,O):C.transform(M))}),C.quill.keyboard.addBinding({key:"Z",shortKey:!0},C.undo.bind(C)),C.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},C.redo.bind(C)),/Win/i.test(navigator.platform)&&C.quill.keyboard.addBinding({key:"Y",shortKey:!0},C.redo.bind(C)),C}return a(E,[{key:"change",value:function(U,C){if(this.stack[U].length!==0){var I=this.stack[U].pop();this.stack[C].push(I),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(I[U],m.default.sources.USER),this.ignoreChange=!1;var M=S(I[U]);this.quill.setSelection(M)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(U,C){if(U.ops.length!==0){this.stack.redo=[];var I=this.quill.getContents().diff(C),M=Date.now();if(this.lastRecorded+this.options.delay>M&&this.stack.undo.length>0){var O=this.stack.undo.pop();I=I.compose(O.undo),U=O.redo.compose(U)}else this.lastRecorded=M;this.stack.undo.push({redo:U,undo:I}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(U){this.stack.undo.forEach(function(C){C.undo=U.transform(C.undo,!0),C.redo=U.transform(C.redo,!0)}),this.stack.redo.forEach(function(C){C.undo=U.transform(C.undo,!0),C.redo=U.transform(C.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),E}(g.default);_.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function w(R){var E=R.ops[R.ops.length-1];return E==null?!1:E.insert!=null?typeof E.insert=="string"&&E.insert.endsWith(`
`):E.attributes!=null?Object.keys(E.attributes).some(function(L){return f.default.query(L,f.default.Scope.BLOCK)!=null}):!1}function S(R){var E=R.reduce(function(U,C){return U+=C.delete||0,U},0),L=R.length()-E;return w(R)&&(L-=1),L}r.default=_,r.getLastChangeIndex=S},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var a=function(){function B(K,ne){for(var ee=0;ee<ne.length;ee++){var $=ne[ee];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(K,$.key,$)}}return function(K,ne,ee){return ne&&B(K.prototype,ne),ee&&B(K,ee),K}}(),u=function B(K,ne,ee){K===null&&(K=Function.prototype);var $=Object.getOwnPropertyDescriptor(K,ne);if($===void 0){var J=Object.getPrototypeOf(K);return J===null?void 0:B(J,ne,ee)}else{if("value"in $)return $.value;var oe=$.get;return oe===void 0?void 0:oe.call(ee)}},f=o(3),h=M(f),m=o(2),v=M(m),g=o(8),d=M(g),y=o(23),T=M(y),b=o(34),_=M(b),w=o(59),S=M(w),R=o(60),E=M(R),L=o(28),U=M(L),C=o(61),I=M(C);function M(B){return B&&B.__esModule?B:{default:B}}function O(B,K){if(!(B instanceof K))throw new TypeError("Cannot call a class as a function")}function k(B,K){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:B}function D(B,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);B.prototype=Object.create(K&&K.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(B,K):B.__proto__=K)}var N=[!1,"center","right","justify"],H=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],G=[!1,"serif","monospace"],X=["1","2","3",!1],te=["small",!1,"large","huge"],ie=function(B){D(K,B);function K(ne,ee){O(this,K);var $=k(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,ne,ee)),J=function oe(se){if(!document.body.contains(ne.root))return document.body.removeEventListener("click",oe);$.tooltip!=null&&!$.tooltip.root.contains(se.target)&&document.activeElement!==$.tooltip.textbox&&!$.quill.hasFocus()&&$.tooltip.hide(),$.pickers!=null&&$.pickers.forEach(function(pe){pe.container.contains(se.target)||pe.close()})};return ne.emitter.listenDOM("click",document.body,J),$}return a(K,[{key:"addModule",value:function(ee){var $=u(K.prototype.__proto__||Object.getPrototypeOf(K.prototype),"addModule",this).call(this,ee);return ee==="toolbar"&&this.extendToolbar($),$}},{key:"buildButtons",value:function(ee,$){ee.forEach(function(J){var oe=J.getAttribute("class")||"";oe.split(/\s+/).forEach(function(se){if(se.startsWith("ql-")&&(se=se.slice(3),$[se]!=null))if(se==="direction")J.innerHTML=$[se][""]+$[se].rtl;else if(typeof $[se]=="string")J.innerHTML=$[se];else{var pe=J.value||"";pe!=null&&$[se][pe]&&(J.innerHTML=$[se][pe])}})})}},{key:"buildPickers",value:function(ee,$){var J=this;this.pickers=ee.map(function(se){if(se.classList.contains("ql-align"))return se.querySelector("option")==null&&j(se,N),new E.default(se,$.align);if(se.classList.contains("ql-background")||se.classList.contains("ql-color")){var pe=se.classList.contains("ql-background")?"background":"color";return se.querySelector("option")==null&&j(se,H,pe==="background"?"#ffffff":"#000000"),new S.default(se,$[pe])}else return se.querySelector("option")==null&&(se.classList.contains("ql-font")?j(se,G):se.classList.contains("ql-header")?j(se,X):se.classList.contains("ql-size")&&j(se,te)),new U.default(se)});var oe=function(){J.pickers.forEach(function(pe){pe.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,oe)}}]),K}(_.default);ie.DEFAULTS=(0,h.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var K=this,ne=this.container.querySelector("input.ql-image[type=file]");ne==null&&(ne=document.createElement("input"),ne.setAttribute("type","file"),ne.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ne.classList.add("ql-image"),ne.addEventListener("change",function(){if(ne.files!=null&&ne.files[0]!=null){var ee=new FileReader;ee.onload=function($){var J=K.quill.getSelection(!0);K.quill.updateContents(new v.default().retain(J.index).delete(J.length).insert({image:$.target.result}),d.default.sources.USER),K.quill.setSelection(J.index+1,d.default.sources.SILENT),ne.value=""},ee.readAsDataURL(ne.files[0])}}),this.container.appendChild(ne)),ne.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Y=function(B){D(K,B);function K(ne,ee){O(this,K);var $=k(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,ne,ee));return $.textbox=$.root.querySelector('input[type="text"]'),$.listen(),$}return a(K,[{key:"listen",value:function(){var ee=this;this.textbox.addEventListener("keydown",function($){T.default.match($,"enter")?(ee.save(),$.preventDefault()):T.default.match($,"escape")&&(ee.cancel(),$.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),$!=null?this.textbox.value=$:ee!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+ee)||""),this.root.setAttribute("data-mode",ee)}},{key:"restoreFocus",value:function(){var ee=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=ee}},{key:"save",value:function(){var ee=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var $=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",ee,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",ee,d.default.sources.USER)),this.quill.root.scrollTop=$;break}case"video":ee=W(ee);case"formula":{if(!ee)break;var J=this.quill.getSelection(!0);if(J!=null){var oe=J.index+J.length;this.quill.insertEmbed(oe,this.root.getAttribute("data-mode"),ee,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(oe+1," ",d.default.sources.USER),this.quill.setSelection(oe+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),K}(I.default);function W(B){var K=B.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||B.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return K?(K[1]||"https")+"://www.youtube.com/embed/"+K[2]+"?showinfo=0":(K=B.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(K[1]||"https")+"://player.vimeo.com/video/"+K[2]+"/":B}function j(B,K){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;K.forEach(function(ee){var $=document.createElement("option");ee===ne?$.setAttribute("selected","selected"):$.setAttribute("value",ee),B.appendChild($)})}r.BaseTooltip=Y,r.default=ie},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function u(){this.head=this.tail=null,this.length=0}return u.prototype.append=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];this.insertBefore(f[0],null),f.length>1&&this.append.apply(this,f.slice(1))},u.prototype.contains=function(f){for(var h,m=this.iterator();h=m();)if(h===f)return!0;return!1},u.prototype.insertBefore=function(f,h){f&&(f.next=h,h!=null?(f.prev=h.prev,h.prev!=null&&(h.prev.next=f),h.prev=f,h===this.head&&(this.head=f)):this.tail!=null?(this.tail.next=f,f.prev=this.tail,this.tail=f):(f.prev=null,this.head=this.tail=f),this.length+=1)},u.prototype.offset=function(f){for(var h=0,m=this.head;m!=null;){if(m===f)return h;h+=m.length(),m=m.next}return-1},u.prototype.remove=function(f){this.contains(f)&&(f.prev!=null&&(f.prev.next=f.next),f.next!=null&&(f.next.prev=f.prev),f===this.head&&(this.head=f.next),f===this.tail&&(this.tail=f.prev),this.length-=1)},u.prototype.iterator=function(f){return f===void 0&&(f=this.head),function(){var h=f;return f!=null&&(f=f.next),h}},u.prototype.find=function(f,h){h===void 0&&(h=!1);for(var m,v=this.iterator();m=v();){var g=m.length();if(f<g||h&&f===g&&(m.next==null||m.next.length()!==0))return[m,f];f-=g}return[null,0]},u.prototype.forEach=function(f){for(var h,m=this.iterator();h=m();)f(h)},u.prototype.forEachAt=function(f,h,m){if(!(h<=0))for(var v=this.find(f),g=v[0],d=v[1],y,T=f-d,b=this.iterator(g);(y=b())&&T<f+h;){var _=y.length();f>T?m(y,f-T,Math.min(h,T+_-f)):m(y,0,Math.min(_,f+h-T)),T+=_}},u.prototype.map=function(f){return this.reduce(function(h,m){return h.push(f(m)),h},[])},u.prototype.reduce=function(f,h){for(var m,v=this.iterator();m=v();)h=f(h,m);return h},u}();r.default=a},function(t,r,o){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var T in y)y.hasOwnProperty(T)&&(d[T]=y[T])};return function(d,y){g(d,y);function T(){this.constructor=d}d.prototype=y===null?Object.create(y):(T.prototype=y.prototype,new T)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(17),f=o(1),h={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},m=100,v=function(g){a(d,g);function d(y){var T=g.call(this,y)||this;return T.scroll=T,T.observer=new MutationObserver(function(b){T.update(b)}),T.observer.observe(T.domNode,h),T.attach(),T}return d.prototype.detach=function(){g.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(y,T){this.update(),y===0&&T===this.length()?this.children.forEach(function(b){b.remove()}):g.prototype.deleteAt.call(this,y,T)},d.prototype.formatAt=function(y,T,b,_){this.update(),g.prototype.formatAt.call(this,y,T,b,_)},d.prototype.insertAt=function(y,T,b){this.update(),g.prototype.insertAt.call(this,y,T,b)},d.prototype.optimize=function(y,T){var b=this;y===void 0&&(y=[]),T===void 0&&(T={}),g.prototype.optimize.call(this,T);for(var _=[].slice.call(this.observer.takeRecords());_.length>0;)y.push(_.pop());for(var w=function(L,U){U===void 0&&(U=!0),!(L==null||L===b)&&L.domNode.parentNode!=null&&(L.domNode[f.DATA_KEY].mutations==null&&(L.domNode[f.DATA_KEY].mutations=[]),U&&w(L.parent))},S=function(L){L.domNode[f.DATA_KEY]==null||L.domNode[f.DATA_KEY].mutations==null||(L instanceof u.default&&L.children.forEach(S),L.optimize(T))},R=y,E=0;R.length>0;E+=1){if(E>=m)throw new Error("[Parchment] Maximum optimize iterations reached");for(R.forEach(function(L){var U=f.find(L.target,!0);U!=null&&(U.domNode===L.target&&(L.type==="childList"?(w(f.find(L.previousSibling,!1)),[].forEach.call(L.addedNodes,function(C){var I=f.find(C,!1);w(I,!1),I instanceof u.default&&I.children.forEach(function(M){w(M,!1)})})):L.type==="attributes"&&w(U.prev)),w(U))}),this.children.forEach(S),R=[].slice.call(this.observer.takeRecords()),_=R.slice();_.length>0;)y.push(_.pop())}},d.prototype.update=function(y,T){var b=this;T===void 0&&(T={}),y=y||this.observer.takeRecords(),y.map(function(_){var w=f.find(_.target,!0);return w==null?null:w.domNode[f.DATA_KEY].mutations==null?(w.domNode[f.DATA_KEY].mutations=[_],w):(w.domNode[f.DATA_KEY].mutations.push(_),null)}).forEach(function(_){_==null||_===b||_.domNode[f.DATA_KEY]==null||_.update(_.domNode[f.DATA_KEY].mutations||[],T)}),this.domNode[f.DATA_KEY].mutations!=null&&g.prototype.update.call(this,this.domNode[f.DATA_KEY].mutations,T),this.optimize(y,T)},d.blotName="scroll",d.defaultChild="block",d.scope=f.Scope.BLOCK_BLOT,d.tagName="DIV",d}(u.default);r.default=v},function(t,r,o){var a=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var y in d)d.hasOwnProperty(y)&&(g[y]=d[y])};return function(g,d){v(g,d);function y(){this.constructor=g}g.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(18),f=o(1);function h(v,g){if(Object.keys(v).length!==Object.keys(g).length)return!1;for(var d in v)if(v[d]!==g[d])return!1;return!0}var m=function(v){a(g,v);function g(){return v!==null&&v.apply(this,arguments)||this}return g.formats=function(d){if(d.tagName!==g.tagName)return v.formats.call(this,d)},g.prototype.format=function(d,y){var T=this;d===this.statics.blotName&&!y?(this.children.forEach(function(b){b instanceof u.default||(b=b.wrap(g.blotName,!0)),T.attributes.copy(b)}),this.unwrap()):v.prototype.format.call(this,d,y)},g.prototype.formatAt=function(d,y,T,b){if(this.formats()[T]!=null||f.query(T,f.Scope.ATTRIBUTE)){var _=this.isolate(d,y);_.format(T,b)}else v.prototype.formatAt.call(this,d,y,T,b)},g.prototype.optimize=function(d){v.prototype.optimize.call(this,d);var y=this.formats();if(Object.keys(y).length===0)return this.unwrap();var T=this.next;T instanceof g&&T.prev===this&&h(y,T.formats())&&(T.moveChildren(this),T.remove())},g.blotName="inline",g.scope=f.Scope.INLINE_BLOT,g.tagName="SPAN",g}(u.default);r.default=m},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var d in g)g.hasOwnProperty(d)&&(v[d]=g[d])};return function(v,g){m(v,g);function d(){this.constructor=v}v.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(18),f=o(1),h=function(m){a(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.formats=function(g){var d=f.query(v.blotName).tagName;if(g.tagName!==d)return m.formats.call(this,g)},v.prototype.format=function(g,d){f.query(g,f.Scope.BLOCK)!=null&&(g===this.statics.blotName&&!d?this.replaceWith(v.blotName):m.prototype.format.call(this,g,d))},v.prototype.formatAt=function(g,d,y,T){f.query(y,f.Scope.BLOCK)!=null?this.format(y,T):m.prototype.formatAt.call(this,g,d,y,T)},v.prototype.insertAt=function(g,d,y){if(y==null||f.query(d,f.Scope.INLINE)!=null)m.prototype.insertAt.call(this,g,d,y);else{var T=this.split(g),b=f.create(d,y);T.parent.insertBefore(b,T)}},v.prototype.update=function(g,d){navigator.userAgent.match(/Trident/)?this.build():m.prototype.update.call(this,g,d)},v.blotName="block",v.scope=f.Scope.BLOCK_BLOT,v.tagName="P",v}(u.default);r.default=h},function(t,r,o){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var g in v)v.hasOwnProperty(g)&&(m[g]=v[g])};return function(m,v){h(m,v);function g(){this.constructor=m}m.prototype=v===null?Object.create(v):(g.prototype=v.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(19),f=function(h){a(m,h);function m(){return h!==null&&h.apply(this,arguments)||this}return m.formats=function(v){},m.prototype.format=function(v,g){h.prototype.formatAt.call(this,0,this.length(),v,g)},m.prototype.formatAt=function(v,g,d,y){v===0&&g===this.length()?this.format(d,y):h.prototype.formatAt.call(this,v,g,d,y)},m.prototype.formats=function(){return this.statics.formats(this.domNode)},m}(u.default);r.default=f},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var d in g)g.hasOwnProperty(d)&&(v[d]=g[d])};return function(v,g){m(v,g);function d(){this.constructor=v}v.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(19),f=o(1),h=function(m){a(v,m);function v(g){var d=m.call(this,g)||this;return d.text=d.statics.value(d.domNode),d}return v.create=function(g){return document.createTextNode(g)},v.value=function(g){var d=g.data;return d.normalize&&(d=d.normalize()),d},v.prototype.deleteAt=function(g,d){this.domNode.data=this.text=this.text.slice(0,g)+this.text.slice(g+d)},v.prototype.index=function(g,d){return this.domNode===g?d:-1},v.prototype.insertAt=function(g,d,y){y==null?(this.text=this.text.slice(0,g)+d+this.text.slice(g),this.domNode.data=this.text):m.prototype.insertAt.call(this,g,d,y)},v.prototype.length=function(){return this.text.length},v.prototype.optimize=function(g){m.prototype.optimize.call(this,g),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof v&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},v.prototype.position=function(g,d){return[this.domNode,g]},v.prototype.split=function(g,d){if(d===void 0&&(d=!1),!d){if(g===0)return this;if(g===this.length())return this.next}var y=f.create(this.domNode.splitText(g));return this.parent.insertBefore(y,this.next),this.text=this.statics.value(this.domNode),y},v.prototype.update=function(g,d){var y=this;g.some(function(T){return T.type==="characterData"&&T.target===y.domNode})&&(this.text=this.statics.value(this.domNode))},v.prototype.value=function(){return this.text},v.blotName="text",v.scope=f.Scope.INLINE_BLOT,v}(u.default);r.default=h},function(t,r,o){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var u=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(f,h){return arguments.length>1&&!this.contains(f)==!h?h:u.call(this,f)}}String.prototype.startsWith||(String.prototype.startsWith=function(f,h){return h=h||0,this.substr(h,f.length)===f}),String.prototype.endsWith||(String.prototype.endsWith=function(f,h){var m=this.toString();(typeof h!="number"||!isFinite(h)||Math.floor(h)!==h||h>m.length)&&(h=m.length),h-=f.length;var v=m.indexOf(f,h);return v!==-1&&v===h}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(h){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof h!="function")throw new TypeError("predicate must be a function");for(var m=Object(this),v=m.length>>>0,g=arguments[1],d,y=0;y<v;y++)if(d=m[y],h.call(g,d,y,m))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,r){var o=-1,a=1,u=0;function f(E,L,U){if(E==L)return E?[[u,E]]:[];(U<0||E.length<U)&&(U=null);var C=g(E,L),I=E.substring(0,C);E=E.substring(C),L=L.substring(C),C=d(E,L);var M=E.substring(E.length-C);E=E.substring(0,E.length-C),L=L.substring(0,L.length-C);var O=h(E,L);return I&&O.unshift([u,I]),M&&O.push([u,M]),T(O),U!=null&&(O=w(O,U)),O=S(O),O}function h(E,L){var U;if(!E)return[[a,L]];if(!L)return[[o,E]];var C=E.length>L.length?E:L,I=E.length>L.length?L:E,M=C.indexOf(I);if(M!=-1)return U=[[a,C.substring(0,M)],[u,I],[a,C.substring(M+I.length)]],E.length>L.length&&(U[0][0]=U[2][0]=o),U;if(I.length==1)return[[o,E],[a,L]];var O=y(E,L);if(O){var k=O[0],D=O[1],N=O[2],H=O[3],G=O[4],X=f(k,N),te=f(D,H);return X.concat([[u,G]],te)}return m(E,L)}function m(E,L){for(var U=E.length,C=L.length,I=Math.ceil((U+C)/2),M=I,O=2*I,k=new Array(O),D=new Array(O),N=0;N<O;N++)k[N]=-1,D[N]=-1;k[M+1]=0,D[M+1]=0;for(var H=U-C,G=H%2!=0,X=0,te=0,ie=0,Y=0,W=0;W<I;W++){for(var j=-W+X;j<=W-te;j+=2){var B=M+j,K;j==-W||j!=W&&k[B-1]<k[B+1]?K=k[B+1]:K=k[B-1]+1;for(var ne=K-j;K<U&&ne<C&&E.charAt(K)==L.charAt(ne);)K++,ne++;if(k[B]=K,K>U)te+=2;else if(ne>C)X+=2;else if(G){var ee=M+H-j;if(ee>=0&&ee<O&&D[ee]!=-1){var $=U-D[ee];if(K>=$)return v(E,L,K,ne)}}}for(var J=-W+ie;J<=W-Y;J+=2){var ee=M+J,$;J==-W||J!=W&&D[ee-1]<D[ee+1]?$=D[ee+1]:$=D[ee-1]+1;for(var oe=$-J;$<U&&oe<C&&E.charAt(U-$-1)==L.charAt(C-oe-1);)$++,oe++;if(D[ee]=$,$>U)Y+=2;else if(oe>C)ie+=2;else if(!G){var B=M+H-J;if(B>=0&&B<O&&k[B]!=-1){var K=k[B],ne=M+K-B;if($=U-$,K>=$)return v(E,L,K,ne)}}}}return[[o,E],[a,L]]}function v(E,L,U,C){var I=E.substring(0,U),M=L.substring(0,C),O=E.substring(U),k=L.substring(C),D=f(I,M),N=f(O,k);return D.concat(N)}function g(E,L){if(!E||!L||E.charAt(0)!=L.charAt(0))return 0;for(var U=0,C=Math.min(E.length,L.length),I=C,M=0;U<I;)E.substring(M,I)==L.substring(M,I)?(U=I,M=U):C=I,I=Math.floor((C-U)/2+U);return I}function d(E,L){if(!E||!L||E.charAt(E.length-1)!=L.charAt(L.length-1))return 0;for(var U=0,C=Math.min(E.length,L.length),I=C,M=0;U<I;)E.substring(E.length-I,E.length-M)==L.substring(L.length-I,L.length-M)?(U=I,M=U):C=I,I=Math.floor((C-U)/2+U);return I}function y(E,L){var U=E.length>L.length?E:L,C=E.length>L.length?L:E;if(U.length<4||C.length*2<U.length)return null;function I(te,ie,Y){for(var W=te.substring(Y,Y+Math.floor(te.length/4)),j=-1,B="",K,ne,ee,$;(j=ie.indexOf(W,j+1))!=-1;){var J=g(te.substring(Y),ie.substring(j)),oe=d(te.substring(0,Y),ie.substring(0,j));B.length<oe+J&&(B=ie.substring(j-oe,j)+ie.substring(j,j+J),K=te.substring(0,Y-oe),ne=te.substring(Y+J),ee=ie.substring(0,j-oe),$=ie.substring(j+J))}return B.length*2>=te.length?[K,ne,ee,$,B]:null}var M=I(U,C,Math.ceil(U.length/4)),O=I(U,C,Math.ceil(U.length/2)),k;if(!M&&!O)return null;O?M?k=M[4].length>O[4].length?M:O:k=O:k=M;var D,N,H,G;E.length>L.length?(D=k[0],N=k[1],H=k[2],G=k[3]):(H=k[0],G=k[1],D=k[2],N=k[3]);var X=k[4];return[D,N,H,G,X]}function T(E){E.push([u,""]);for(var L=0,U=0,C=0,I="",M="",O;L<E.length;)switch(E[L][0]){case a:C++,M+=E[L][1],L++;break;case o:U++,I+=E[L][1],L++;break;case u:U+C>1?(U!==0&&C!==0&&(O=g(M,I),O!==0&&(L-U-C>0&&E[L-U-C-1][0]==u?E[L-U-C-1][1]+=M.substring(0,O):(E.splice(0,0,[u,M.substring(0,O)]),L++),M=M.substring(O),I=I.substring(O)),O=d(M,I),O!==0&&(E[L][1]=M.substring(M.length-O)+E[L][1],M=M.substring(0,M.length-O),I=I.substring(0,I.length-O))),U===0?E.splice(L-C,U+C,[a,M]):C===0?E.splice(L-U,U+C,[o,I]):E.splice(L-U-C,U+C,[o,I],[a,M]),L=L-U-C+(U?1:0)+(C?1:0)+1):L!==0&&E[L-1][0]==u?(E[L-1][1]+=E[L][1],E.splice(L,1)):L++,C=0,U=0,I="",M="";break}E[E.length-1][1]===""&&E.pop();var k=!1;for(L=1;L<E.length-1;)E[L-1][0]==u&&E[L+1][0]==u&&(E[L][1].substring(E[L][1].length-E[L-1][1].length)==E[L-1][1]?(E[L][1]=E[L-1][1]+E[L][1].substring(0,E[L][1].length-E[L-1][1].length),E[L+1][1]=E[L-1][1]+E[L+1][1],E.splice(L-1,1),k=!0):E[L][1].substring(0,E[L+1][1].length)==E[L+1][1]&&(E[L-1][1]+=E[L+1][1],E[L][1]=E[L][1].substring(E[L+1][1].length)+E[L+1][1],E.splice(L+1,1),k=!0)),L++;k&&T(E)}var b=f;b.INSERT=a,b.DELETE=o,b.EQUAL=u,t.exports=b;function _(E,L){if(L===0)return[u,E];for(var U=0,C=0;C<E.length;C++){var I=E[C];if(I[0]===o||I[0]===u){var M=U+I[1].length;if(L===M)return[C+1,E];if(L<M){E=E.slice();var O=L-U,k=[I[0],I[1].slice(0,O)],D=[I[0],I[1].slice(O)];return E.splice(C,1,k,D),[C+1,E]}else U=M}}throw new Error("cursor_pos is out of bounds!")}function w(E,L){var U=_(E,L),C=U[1],I=U[0],M=C[I],O=C[I+1];if(M==null)return E;if(M[0]!==u)return E;if(O!=null&&M[1]+O[1]===O[1]+M[1])return C.splice(I,2,O,M),R(C,I,2);if(O!=null&&O[1].indexOf(M[1])===0){C.splice(I,2,[O[0],M[1]],[0,M[1]]);var k=O[1].slice(M[1].length);return k.length>0&&C.splice(I+2,0,[O[0],k]),R(C,I,3)}else return E}function S(E){for(var L=!1,U=function(O){return O.charCodeAt(0)>=56320&&O.charCodeAt(0)<=57343},C=function(O){return O.charCodeAt(O.length-1)>=55296&&O.charCodeAt(O.length-1)<=56319},I=2;I<E.length;I+=1)E[I-2][0]===u&&C(E[I-2][1])&&E[I-1][0]===o&&U(E[I-1][1])&&E[I][0]===a&&U(E[I][1])&&(L=!0,E[I-1][1]=E[I-2][1].slice(-1)+E[I-1][1],E[I][1]=E[I-2][1].slice(-1)+E[I][1],E[I-2][1]=E[I-2][1].slice(0,-1));if(!L)return E;for(var M=[],I=0;I<E.length;I+=1)E[I][1].length>0&&M.push(E[I]);return M}function R(E,L,U){for(var C=L+U-1;C>=0&&C>=L-1;C--)if(C+1<E.length){var I=E[C],M=E[C+1];I[0]===M[1]&&E.splice(C,2,[I[0],I[1]+M[1]])}return E}},function(t,r){r=t.exports=typeof Object.keys=="function"?Object.keys:o,r.shim=o;function o(a){var u=[];for(var f in a)u.push(f);return u}},function(t,r){var o=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=t.exports=o?a:u,r.supported=a;function a(f){return Object.prototype.toString.call(f)=="[object Arguments]"}r.unsupported=u;function u(f){return f&&typeof f=="object"&&typeof f.length=="number"&&Object.prototype.hasOwnProperty.call(f,"callee")&&!Object.prototype.propertyIsEnumerable.call(f,"callee")||!1}},function(t,r){var o=Object.prototype.hasOwnProperty,a="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(a=!1));function f(m,v,g){this.fn=m,this.context=v,this.once=g||!1}function h(){this._events=new u,this._eventsCount=0}h.prototype.eventNames=function(){var v=[],g,d;if(this._eventsCount===0)return v;for(d in g=this._events)o.call(g,d)&&v.push(a?d.slice(1):d);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(g)):v},h.prototype.listeners=function(v,g){var d=a?a+v:v,y=this._events[d];if(g)return!!y;if(!y)return[];if(y.fn)return[y.fn];for(var T=0,b=y.length,_=new Array(b);T<b;T++)_[T]=y[T].fn;return _},h.prototype.emit=function(v,g,d,y,T,b){var _=a?a+v:v;if(!this._events[_])return!1;var w=this._events[_],S=arguments.length,R,E;if(w.fn){switch(w.once&&this.removeListener(v,w.fn,void 0,!0),S){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,g),!0;case 3:return w.fn.call(w.context,g,d),!0;case 4:return w.fn.call(w.context,g,d,y),!0;case 5:return w.fn.call(w.context,g,d,y,T),!0;case 6:return w.fn.call(w.context,g,d,y,T,b),!0}for(E=1,R=new Array(S-1);E<S;E++)R[E-1]=arguments[E];w.fn.apply(w.context,R)}else{var L=w.length,U;for(E=0;E<L;E++)switch(w[E].once&&this.removeListener(v,w[E].fn,void 0,!0),S){case 1:w[E].fn.call(w[E].context);break;case 2:w[E].fn.call(w[E].context,g);break;case 3:w[E].fn.call(w[E].context,g,d);break;case 4:w[E].fn.call(w[E].context,g,d,y);break;default:if(!R)for(U=1,R=new Array(S-1);U<S;U++)R[U-1]=arguments[U];w[E].fn.apply(w[E].context,R)}}return!0},h.prototype.on=function(v,g,d){var y=new f(g,d||this),T=a?a+v:v;return this._events[T]?this._events[T].fn?this._events[T]=[this._events[T],y]:this._events[T].push(y):(this._events[T]=y,this._eventsCount++),this},h.prototype.once=function(v,g,d){var y=new f(g,d||this,!0),T=a?a+v:v;return this._events[T]?this._events[T].fn?this._events[T]=[this._events[T],y]:this._events[T].push(y):(this._events[T]=y,this._eventsCount++),this},h.prototype.removeListener=function(v,g,d,y){var T=a?a+v:v;if(!this._events[T])return this;if(!g)return--this._eventsCount===0?this._events=new u:delete this._events[T],this;var b=this._events[T];if(b.fn)b.fn===g&&(!y||b.once)&&(!d||b.context===d)&&(--this._eventsCount===0?this._events=new u:delete this._events[T]);else{for(var _=0,w=[],S=b.length;_<S;_++)(b[_].fn!==g||y&&!b[_].once||d&&b[_].context!==d)&&w.push(b[_]);w.length?this._events[T]=w.length===1?w[0]:w:--this._eventsCount===0?this._events=new u:delete this._events[T]}return this},h.prototype.removeAllListeners=function(v){var g;return v?(g=a?a+v:v,this._events[g]&&(--this._eventsCount===0?this._events=new u:delete this._events[g])):(this._events=new u,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prototype.setMaxListeners=function(){return this},h.prefixed=a,h.EventEmitter=h,typeof t<"u"&&(t.exports=h)},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(he){return typeof he}:function(he){return he&&typeof Symbol=="function"&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he},u=function(){function he(me,be){var Ae=[],ye=!0,Be=!1,ze=void 0;try{for(var Ke=me[Symbol.iterator](),lt;!(ye=(lt=Ke.next()).done)&&(Ae.push(lt.value),!(be&&Ae.length===be));ye=!0);}catch(ft){Be=!0,ze=ft}finally{try{!ye&&Ke.return&&Ke.return()}finally{if(Be)throw ze}}return Ae}return function(me,be){if(Array.isArray(me))return me;if(Symbol.iterator in Object(me))return he(me,be);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function he(me,be){for(var Ae=0;Ae<be.length;Ae++){var ye=be[Ae];ye.enumerable=ye.enumerable||!1,ye.configurable=!0,"value"in ye&&(ye.writable=!0),Object.defineProperty(me,ye.key,ye)}}return function(me,be,Ae){return be&&he(me.prototype,be),Ae&&he(me,Ae),me}}(),h=o(3),m=D(h),v=o(2),g=D(v),d=o(0),y=D(d),T=o(5),b=D(T),_=o(10),w=D(_),S=o(9),R=D(S),E=o(36),L=o(37),U=o(13),C=D(U),I=o(26),M=o(38),O=o(39),k=o(40);function D(he){return he&&he.__esModule?he:{default:he}}function N(he,me,be){return me in he?Object.defineProperty(he,me,{value:be,enumerable:!0,configurable:!0,writable:!0}):he[me]=be,he}function H(he,me){if(!(he instanceof me))throw new TypeError("Cannot call a class as a function")}function G(he,me){if(!he)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me&&(typeof me=="object"||typeof me=="function")?me:he}function X(he,me){if(typeof me!="function"&&me!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof me);he.prototype=Object.create(me&&me.prototype,{constructor:{value:he,enumerable:!1,writable:!0,configurable:!0}}),me&&(Object.setPrototypeOf?Object.setPrototypeOf(he,me):he.__proto__=me)}var te=(0,w.default)("quill:clipboard"),ie="__ql-matcher",Y=[[Node.TEXT_NODE,yt],[Node.TEXT_NODE,We],["br",Ie],[Node.ELEMENT_NODE,We],[Node.ELEMENT_NODE,pe],[Node.ELEMENT_NODE,Je],[Node.ELEMENT_NODE,se],[Node.ELEMENT_NODE,Nt],["li",Ve],["b",oe.bind(oe,"bold")],["i",oe.bind(oe,"italic")],["style",De]],W=[E.AlignAttribute,M.DirectionAttribute].reduce(function(he,me){return he[me.keyName]=me,he},{}),j=[E.AlignStyle,L.BackgroundStyle,I.ColorStyle,M.DirectionStyle,O.FontStyle,k.SizeStyle].reduce(function(he,me){return he[me.keyName]=me,he},{}),B=function(he){X(me,he);function me(be,Ae){H(this,me);var ye=G(this,(me.__proto__||Object.getPrototypeOf(me)).call(this,be,Ae));return ye.quill.root.addEventListener("paste",ye.onPaste.bind(ye)),ye.container=ye.quill.addContainer("ql-clipboard"),ye.container.setAttribute("contenteditable",!0),ye.container.setAttribute("tabindex",-1),ye.matchers=[],Y.concat(ye.options.matchers).forEach(function(Be){var ze=u(Be,2),Ke=ze[0],lt=ze[1];!Ae.matchVisual&&lt===Je||ye.addMatcher(Ke,lt)}),ye}return f(me,[{key:"addMatcher",value:function(Ae,ye){this.matchers.push([Ae,ye])}},{key:"convert",value:function(Ae){if(typeof Ae=="string")return this.container.innerHTML=Ae.replace(/\>\r?\n +\</g,"><"),this.convert();var ye=this.quill.getFormat(this.quill.selection.savedRange.index);if(ye[C.default.blotName]){var Be=this.container.innerText;return this.container.innerHTML="",new g.default().insert(Be,N({},C.default.blotName,ye[C.default.blotName]))}var ze=this.prepareMatching(),Ke=u(ze,2),lt=Ke[0],ft=Ke[1],st=J(this.container,lt,ft);return ee(st,`
`)&&st.ops[st.ops.length-1].attributes==null&&(st=st.compose(new g.default().retain(st.length()-1).delete(1))),te.log("convert",this.container.innerHTML,st),this.container.innerHTML="",st}},{key:"dangerouslyPasteHTML",value:function(Ae,ye){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.default.sources.API;if(typeof Ae=="string")this.quill.setContents(this.convert(Ae),ye),this.quill.setSelection(0,b.default.sources.SILENT);else{var ze=this.convert(ye);this.quill.updateContents(new g.default().retain(Ae).concat(ze),Be),this.quill.setSelection(Ae+ze.length(),b.default.sources.SILENT)}}},{key:"onPaste",value:function(Ae){var ye=this;if(!(Ae.defaultPrevented||!this.quill.isEnabled())){var Be=this.quill.getSelection(),ze=new g.default().retain(Be.index),Ke=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(b.default.sources.SILENT),setTimeout(function(){ze=ze.concat(ye.convert()).delete(Be.length),ye.quill.updateContents(ze,b.default.sources.USER),ye.quill.setSelection(ze.length()-Be.length,b.default.sources.SILENT),ye.quill.scrollingContainer.scrollTop=Ke,ye.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Ae=this,ye=[],Be=[];return this.matchers.forEach(function(ze){var Ke=u(ze,2),lt=Ke[0],ft=Ke[1];switch(lt){case Node.TEXT_NODE:Be.push(ft);break;case Node.ELEMENT_NODE:ye.push(ft);break;default:[].forEach.call(Ae.container.querySelectorAll(lt),function(st){st[ie]=st[ie]||[],st[ie].push(ft)});break}}),[ye,Be]}}]),me}(R.default);B.DEFAULTS={matchers:[],matchVisual:!0};function K(he,me,be){return(typeof me>"u"?"undefined":a(me))==="object"?Object.keys(me).reduce(function(Ae,ye){return K(Ae,ye,me[ye])},he):he.reduce(function(Ae,ye){return ye.attributes&&ye.attributes[me]?Ae.push(ye):Ae.insert(ye.insert,(0,m.default)({},N({},me,be),ye.attributes))},new g.default)}function ne(he){if(he.nodeType!==Node.ELEMENT_NODE)return{};var me="__ql-computed-style";return he[me]||(he[me]=window.getComputedStyle(he))}function ee(he,me){for(var be="",Ae=he.ops.length-1;Ae>=0&&be.length<me.length;--Ae){var ye=he.ops[Ae];if(typeof ye.insert!="string")break;be=ye.insert+be}return be.slice(-1*me.length)===me}function $(he){if(he.childNodes.length===0)return!1;var me=ne(he);return["block","list-item"].indexOf(me.display)>-1}function J(he,me,be){return he.nodeType===he.TEXT_NODE?be.reduce(function(Ae,ye){return ye(he,Ae)},new g.default):he.nodeType===he.ELEMENT_NODE?[].reduce.call(he.childNodes||[],function(Ae,ye){var Be=J(ye,me,be);return ye.nodeType===he.ELEMENT_NODE&&(Be=me.reduce(function(ze,Ke){return Ke(ye,ze)},Be),Be=(ye[ie]||[]).reduce(function(ze,Ke){return Ke(ye,ze)},Be)),Ae.concat(Be)},new g.default):new g.default}function oe(he,me,be){return K(be,he,!0)}function se(he,me){var be=y.default.Attributor.Attribute.keys(he),Ae=y.default.Attributor.Class.keys(he),ye=y.default.Attributor.Style.keys(he),Be={};return be.concat(Ae).concat(ye).forEach(function(ze){var Ke=y.default.query(ze,y.default.Scope.ATTRIBUTE);Ke!=null&&(Be[Ke.attrName]=Ke.value(he),Be[Ke.attrName])||(Ke=W[ze],Ke!=null&&(Ke.attrName===ze||Ke.keyName===ze)&&(Be[Ke.attrName]=Ke.value(he)||void 0),Ke=j[ze],Ke!=null&&(Ke.attrName===ze||Ke.keyName===ze)&&(Ke=j[ze],Be[Ke.attrName]=Ke.value(he)||void 0))}),Object.keys(Be).length>0&&(me=K(me,Be)),me}function pe(he,me){var be=y.default.query(he);if(be==null)return me;if(be.prototype instanceof y.default.Embed){var Ae={},ye=be.value(he);ye!=null&&(Ae[be.blotName]=ye,me=new g.default().insert(Ae,be.formats(he)))}else typeof be.formats=="function"&&(me=K(me,be.blotName,be.formats(he)));return me}function Ie(he,me){return ee(me,`
`)||me.insert(`
`),me}function De(){return new g.default}function Ve(he,me){var be=y.default.query(he);if(be==null||be.blotName!=="list-item"||!ee(me,`
`))return me;for(var Ae=-1,ye=he.parentNode;!ye.classList.contains("ql-clipboard");)(y.default.query(ye)||{}).blotName==="list"&&(Ae+=1),ye=ye.parentNode;return Ae<=0?me:me.compose(new g.default().retain(me.length()-1).retain(1,{indent:Ae}))}function We(he,me){return ee(me,`
`)||($(he)||me.length()>0&&he.nextSibling&&$(he.nextSibling))&&me.insert(`
`),me}function Je(he,me){if($(he)&&he.nextElementSibling!=null&&!ee(me,`

`)){var be=he.offsetHeight+parseFloat(ne(he).marginTop)+parseFloat(ne(he).marginBottom);he.nextElementSibling.offsetTop>he.offsetTop+be*1.5&&me.insert(`
`)}return me}function Nt(he,me){var be={},Ae=he.style||{};return Ae.fontStyle&&ne(he).fontStyle==="italic"&&(be.italic=!0),Ae.fontWeight&&(ne(he).fontWeight.startsWith("bold")||parseInt(ne(he).fontWeight)>=700)&&(be.bold=!0),Object.keys(be).length>0&&(me=K(me,be)),parseFloat(Ae.textIndent||0)>0&&(me=new g.default().insert("	").concat(me)),me}function yt(he,me){var be=he.data;if(he.parentNode.tagName==="O:P")return me.insert(be.trim());if(be.trim().length===0&&he.parentNode.classList.contains("ql-clipboard"))return me;if(!ne(he.parentNode).whiteSpace.startsWith("pre")){var Ae=function(Be,ze){return ze=ze.replace(/[^\u00a0]/g,""),ze.length<1&&Be?" ":ze};be=be.replace(/\r\n/g," ").replace(/\n/g," "),be=be.replace(/\s\s+/g,Ae.bind(Ae,!0)),(he.previousSibling==null&&$(he.parentNode)||he.previousSibling!=null&&$(he.previousSibling))&&(be=be.replace(/^\s+/,Ae.bind(Ae,!1))),(he.nextSibling==null&&$(he.parentNode)||he.nextSibling!=null&&$(he.nextSibling))&&(be=be.replace(/\s+$/,Ae.bind(Ae,!1)))}return me.insert(be)}r.default=B,r.matchAttributor=se,r.matchBlot=pe,r.matchNewline=We,r.matchSpacing=Je,r.matchText=yt},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function T(b,_){for(var w=0;w<_.length;w++){var S=_[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,_,w){return _&&T(b.prototype,_),w&&T(b,w),b}}(),u=function T(b,_,w){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,_);if(S===void 0){var R=Object.getPrototypeOf(b);return R===null?void 0:T(R,_,w)}else{if("value"in S)return S.value;var E=S.get;return E===void 0?void 0:E.call(w)}},f=o(6),h=m(f);function m(T){return T&&T.__esModule?T:{default:T}}function v(T,b){if(!(T instanceof b))throw new TypeError("Cannot call a class as a function")}function g(T,b){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:T}function d(T,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);T.prototype=Object.create(b&&b.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(T,b):T.__proto__=b)}var y=function(T){d(b,T);function b(){return v(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"optimize",value:function(w){u(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,w),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return u(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),b}(h.default);y.blotName="bold",y.tagName=["STRONG","B"],r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var a=function(){function k(D,N){var H=[],G=!0,X=!1,te=void 0;try{for(var ie=D[Symbol.iterator](),Y;!(G=(Y=ie.next()).done)&&(H.push(Y.value),!(N&&H.length===N));G=!0);}catch(W){X=!0,te=W}finally{try{!G&&ie.return&&ie.return()}finally{if(X)throw te}}return H}return function(D,N){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return k(D,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function k(D,N){for(var H=0;H<N.length;H++){var G=N[H];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(D,G.key,G)}}return function(D,N,H){return N&&k(D.prototype,N),H&&k(D,H),D}}(),f=o(2),h=w(f),m=o(0),v=w(m),g=o(5),d=w(g),y=o(10),T=w(y),b=o(9),_=w(b);function w(k){return k&&k.__esModule?k:{default:k}}function S(k,D,N){return D in k?Object.defineProperty(k,D,{value:N,enumerable:!0,configurable:!0,writable:!0}):k[D]=N,k}function R(k,D){if(!(k instanceof D))throw new TypeError("Cannot call a class as a function")}function E(k,D){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:k}function L(k,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);k.prototype=Object.create(D&&D.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(k,D):k.__proto__=D)}var U=(0,T.default)("quill:toolbar"),C=function(k){L(D,k);function D(N,H){R(this,D);var G=E(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,N,H));if(Array.isArray(G.options.container)){var X=document.createElement("div");M(X,G.options.container),N.container.parentNode.insertBefore(X,N.container),G.container=X}else typeof G.options.container=="string"?G.container=document.querySelector(G.options.container):G.container=G.options.container;if(!(G.container instanceof HTMLElement)){var te;return te=U.error("Container required for toolbar",G.options),E(G,te)}return G.container.classList.add("ql-toolbar"),G.controls=[],G.handlers={},Object.keys(G.options.handlers).forEach(function(ie){G.addHandler(ie,G.options.handlers[ie])}),[].forEach.call(G.container.querySelectorAll("button, select"),function(ie){G.attach(ie)}),G.quill.on(d.default.events.EDITOR_CHANGE,function(ie,Y){ie===d.default.events.SELECTION_CHANGE&&G.update(Y)}),G.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var ie=G.quill.selection.getRange(),Y=a(ie,1),W=Y[0];G.update(W)}),G}return u(D,[{key:"addHandler",value:function(H,G){this.handlers[H]=G}},{key:"attach",value:function(H){var G=this,X=[].find.call(H.classList,function(ie){return ie.indexOf("ql-")===0});if(X){if(X=X.slice(3),H.tagName==="BUTTON"&&H.setAttribute("type","button"),this.handlers[X]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[X]==null){U.warn("ignoring attaching to disabled format",X,H);return}if(v.default.query(X)==null){U.warn("ignoring attaching to nonexistent format",X,H);return}}var te=H.tagName==="SELECT"?"change":"click";H.addEventListener(te,function(ie){var Y=void 0;if(H.tagName==="SELECT"){if(H.selectedIndex<0)return;var W=H.options[H.selectedIndex];W.hasAttribute("selected")?Y=!1:Y=W.value||!1}else H.classList.contains("ql-active")?Y=!1:Y=H.value||!H.hasAttribute("value"),ie.preventDefault();G.quill.focus();var j=G.quill.selection.getRange(),B=a(j,1),K=B[0];if(G.handlers[X]!=null)G.handlers[X].call(G,Y);else if(v.default.query(X).prototype instanceof v.default.Embed){if(Y=prompt("Enter "+X),!Y)return;G.quill.updateContents(new h.default().retain(K.index).delete(K.length).insert(S({},X,Y)),d.default.sources.USER)}else G.quill.format(X,Y,d.default.sources.USER);G.update(K)}),this.controls.push([X,H])}}},{key:"update",value:function(H){var G=H==null?{}:this.quill.getFormat(H);this.controls.forEach(function(X){var te=a(X,2),ie=te[0],Y=te[1];if(Y.tagName==="SELECT"){var W=void 0;if(H==null)W=null;else if(G[ie]==null)W=Y.querySelector("option[selected]");else if(!Array.isArray(G[ie])){var j=G[ie];typeof j=="string"&&(j=j.replace(/\"/g,'\\"')),W=Y.querySelector('option[value="'+j+'"]')}W==null?(Y.value="",Y.selectedIndex=-1):W.selected=!0}else if(H==null)Y.classList.remove("ql-active");else if(Y.hasAttribute("value")){var B=G[ie]===Y.getAttribute("value")||G[ie]!=null&&G[ie].toString()===Y.getAttribute("value")||G[ie]==null&&!Y.getAttribute("value");Y.classList.toggle("ql-active",B)}else Y.classList.toggle("ql-active",G[ie]!=null)})}}]),D}(_.default);C.DEFAULTS={};function I(k,D,N){var H=document.createElement("button");H.setAttribute("type","button"),H.classList.add("ql-"+D),N!=null&&(H.value=N),k.appendChild(H)}function M(k,D){Array.isArray(D[0])||(D=[D]),D.forEach(function(N){var H=document.createElement("span");H.classList.add("ql-formats"),N.forEach(function(G){if(typeof G=="string")I(H,G);else{var X=Object.keys(G)[0],te=G[X];Array.isArray(te)?O(H,X,te):I(H,X,te)}}),k.appendChild(H)})}function O(k,D,N){var H=document.createElement("select");H.classList.add("ql-"+D),N.forEach(function(G){var X=document.createElement("option");G!==!1?X.setAttribute("value",G):X.setAttribute("selected","selected"),H.appendChild(X)}),k.appendChild(H)}C.DEFAULTS={container:null,handlers:{clean:function(){var D=this,N=this.quill.getSelection();if(N!=null)if(N.length==0){var H=this.quill.getFormat();Object.keys(H).forEach(function(G){v.default.query(G,v.default.Scope.INLINE)!=null&&D.quill.format(G,!1)})}else this.quill.removeFormat(N,d.default.sources.USER)},direction:function(D){var N=this.quill.getFormat().align;D==="rtl"&&N==null?this.quill.format("align","right",d.default.sources.USER):!D&&N==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",D,d.default.sources.USER)},indent:function(D){var N=this.quill.getSelection(),H=this.quill.getFormat(N),G=parseInt(H.indent||0);if(D==="+1"||D==="-1"){var X=D==="+1"?1:-1;H.direction==="rtl"&&(X*=-1),this.quill.format("indent",G+X,d.default.sources.USER)}},link:function(D){D===!0&&(D=prompt("Enter link URL:")),this.quill.format("link",D,d.default.sources.USER)},list:function(D){var N=this.quill.getSelection(),H=this.quill.getFormat(N);D==="check"?H.list==="checked"||H.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",D,d.default.sources.USER)}}},r.default=C,r.addControls=M},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function T(b,_){for(var w=0;w<_.length;w++){var S=_[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,_,w){return _&&T(b.prototype,_),w&&T(b,w),b}}(),u=function T(b,_,w){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,_);if(S===void 0){var R=Object.getPrototypeOf(b);return R===null?void 0:T(R,_,w)}else{if("value"in S)return S.value;var E=S.get;return E===void 0?void 0:E.call(w)}},f=o(28),h=m(f);function m(T){return T&&T.__esModule?T:{default:T}}function v(T,b){if(!(T instanceof b))throw new TypeError("Cannot call a class as a function")}function g(T,b){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:T}function d(T,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);T.prototype=Object.create(b&&b.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(T,b):T.__proto__=b)}var y=function(T){d(b,T);function b(_,w){v(this,b);var S=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,_));return S.label.innerHTML=w,S.container.classList.add("ql-color-picker"),[].slice.call(S.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(R){R.classList.add("ql-primary")}),S}return a(b,[{key:"buildItem",value:function(w){var S=u(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"buildItem",this).call(this,w);return S.style.backgroundColor=w.getAttribute("value")||"",S}},{key:"selectItem",value:function(w,S){u(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"selectItem",this).call(this,w,S);var R=this.label.querySelector(".ql-color-label"),E=w&&w.getAttribute("data-value")||"";R&&(R.tagName==="line"?R.style.stroke=E:R.style.fill=E)}}]),b}(h.default);r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function T(b,_){for(var w=0;w<_.length;w++){var S=_[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,_,w){return _&&T(b.prototype,_),w&&T(b,w),b}}(),u=function T(b,_,w){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,_);if(S===void 0){var R=Object.getPrototypeOf(b);return R===null?void 0:T(R,_,w)}else{if("value"in S)return S.value;var E=S.get;return E===void 0?void 0:E.call(w)}},f=o(28),h=m(f);function m(T){return T&&T.__esModule?T:{default:T}}function v(T,b){if(!(T instanceof b))throw new TypeError("Cannot call a class as a function")}function g(T,b){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:T}function d(T,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);T.prototype=Object.create(b&&b.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(T,b):T.__proto__=b)}var y=function(T){d(b,T);function b(_,w){v(this,b);var S=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,_));return S.container.classList.add("ql-icon-picker"),[].forEach.call(S.container.querySelectorAll(".ql-picker-item"),function(R){R.innerHTML=w[R.getAttribute("data-value")||""]}),S.defaultItem=S.container.querySelector(".ql-selected"),S.selectItem(S.defaultItem),S}return a(b,[{key:"selectItem",value:function(w,S){u(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"selectItem",this).call(this,w,S),w=w||this.defaultItem,this.label.innerHTML=w.innerHTML}}]),b}(h.default);r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function h(m,v){for(var g=0;g<v.length;g++){var d=v[g];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(m,d.key,d)}}return function(m,v,g){return v&&h(m.prototype,v),g&&h(m,g),m}}();function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}var f=function(){function h(m,v){var g=this;u(this,h),this.quill=m,this.boundsContainer=v||document.body,this.root=m.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){g.root.style.marginTop=-1*g.quill.root.scrollTop+"px"}),this.hide()}return a(h,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(v){var g=v.left+v.width/2-this.root.offsetWidth/2,d=v.bottom+this.quill.root.scrollTop;this.root.style.left=g+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var y=this.boundsContainer.getBoundingClientRect(),T=this.root.getBoundingClientRect(),b=0;if(T.right>y.right&&(b=y.right-T.right,this.root.style.left=g+b+"px"),T.left<y.left&&(b=y.left-T.left,this.root.style.left=g+b+"px"),T.bottom>y.bottom){var _=T.bottom-T.top,w=v.bottom-v.top+_;this.root.style.top=d-w+"px",this.root.classList.add("ql-flip")}return b}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),h}();r.default=f},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function O(k,D){var N=[],H=!0,G=!1,X=void 0;try{for(var te=k[Symbol.iterator](),ie;!(H=(ie=te.next()).done)&&(N.push(ie.value),!(D&&N.length===D));H=!0);}catch(Y){G=!0,X=Y}finally{try{!H&&te.return&&te.return()}finally{if(G)throw X}}return N}return function(k,D){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return O(k,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function O(k,D,N){k===null&&(k=Function.prototype);var H=Object.getOwnPropertyDescriptor(k,D);if(H===void 0){var G=Object.getPrototypeOf(k);return G===null?void 0:O(G,D,N)}else{if("value"in H)return H.value;var X=H.get;return X===void 0?void 0:X.call(N)}},f=function(){function O(k,D){for(var N=0;N<D.length;N++){var H=D[N];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(k,H.key,H)}}return function(k,D,N){return D&&O(k.prototype,D),N&&O(k,N),k}}(),h=o(3),m=R(h),v=o(8),g=R(v),d=o(43),y=R(d),T=o(27),b=R(T),_=o(15),w=o(41),S=R(w);function R(O){return O&&O.__esModule?O:{default:O}}function E(O,k){if(!(O instanceof k))throw new TypeError("Cannot call a class as a function")}function L(O,k){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:O}function U(O,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);O.prototype=Object.create(k&&k.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(O,k):O.__proto__=k)}var C=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],I=function(O){U(k,O);function k(D,N){E(this,k),N.modules.toolbar!=null&&N.modules.toolbar.container==null&&(N.modules.toolbar.container=C);var H=L(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,D,N));return H.quill.container.classList.add("ql-snow"),H}return f(k,[{key:"extendToolbar",value:function(N){N.container.classList.add("ql-snow"),this.buildButtons([].slice.call(N.container.querySelectorAll("button")),S.default),this.buildPickers([].slice.call(N.container.querySelectorAll("select")),S.default),this.tooltip=new M(this.quill,this.options.bounds),N.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(H,G){N.handlers.link.call(N,!G.format.link)})}}]),k}(y.default);I.DEFAULTS=(0,m.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){if(k){var D=this.quill.getSelection();if(D==null||D.length==0)return;var N=this.quill.getText(D);/^\S+@\S+\.\S+$/.test(N)&&N.indexOf("mailto:")!==0&&(N="mailto:"+N);var H=this.quill.theme.tooltip;H.edit("link",N)}else this.quill.format("link",!1)}}}}});var M=function(O){U(k,O);function k(D,N){E(this,k);var H=L(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,D,N));return H.preview=H.root.querySelector("a.ql-preview"),H}return f(k,[{key:"listen",value:function(){var N=this;u(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(H){N.root.classList.contains("ql-editing")?N.save():N.edit("link",N.preview.textContent),H.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(H){if(N.linkRange!=null){var G=N.linkRange;N.restoreFocus(),N.quill.formatText(G,"link",!1,g.default.sources.USER),delete N.linkRange}H.preventDefault(),N.hide()}),this.quill.on(g.default.events.SELECTION_CHANGE,function(H,G,X){if(H!=null){if(H.length===0&&X===g.default.sources.USER){var te=N.quill.scroll.descendant(b.default,H.index),ie=a(te,2),Y=ie[0],W=ie[1];if(Y!=null){N.linkRange=new _.Range(H.index-W,Y.length());var j=b.default.formats(Y.domNode);N.preview.textContent=j,N.preview.setAttribute("href",j),N.show(),N.position(N.quill.getBounds(N.linkRange));return}}else delete N.linkRange;N.hide()}})}},{key:"show",value:function(){u(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),k}(d.BaseTooltip);M.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=I},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(29),u=ye(a),f=o(36),h=o(38),m=o(64),v=o(65),g=ye(v),d=o(66),y=ye(d),T=o(67),b=ye(T),_=o(37),w=o(26),S=o(39),R=o(40),E=o(56),L=ye(E),U=o(68),C=ye(U),I=o(27),M=ye(I),O=o(69),k=ye(O),D=o(70),N=ye(D),H=o(71),G=ye(H),X=o(72),te=ye(X),ie=o(73),Y=ye(ie),W=o(13),j=ye(W),B=o(74),K=ye(B),ne=o(75),ee=ye(ne),$=o(57),J=ye($),oe=o(41),se=ye(oe),pe=o(28),Ie=ye(pe),De=o(59),Ve=ye(De),We=o(60),Je=ye(We),Nt=o(61),yt=ye(Nt),he=o(108),me=ye(he),be=o(62),Ae=ye(be);function ye(Be){return Be&&Be.__esModule?Be:{default:Be}}u.default.register({"attributors/attribute/direction":h.DirectionAttribute,"attributors/class/align":f.AlignClass,"attributors/class/background":_.BackgroundClass,"attributors/class/color":w.ColorClass,"attributors/class/direction":h.DirectionClass,"attributors/class/font":S.FontClass,"attributors/class/size":R.SizeClass,"attributors/style/align":f.AlignStyle,"attributors/style/background":_.BackgroundStyle,"attributors/style/color":w.ColorStyle,"attributors/style/direction":h.DirectionStyle,"attributors/style/font":S.FontStyle,"attributors/style/size":R.SizeStyle},!0),u.default.register({"formats/align":f.AlignClass,"formats/direction":h.DirectionClass,"formats/indent":m.IndentClass,"formats/background":_.BackgroundStyle,"formats/color":w.ColorStyle,"formats/font":S.FontClass,"formats/size":R.SizeClass,"formats/blockquote":g.default,"formats/code-block":j.default,"formats/header":y.default,"formats/list":b.default,"formats/bold":L.default,"formats/code":W.Code,"formats/italic":C.default,"formats/link":M.default,"formats/script":k.default,"formats/strike":N.default,"formats/underline":G.default,"formats/image":te.default,"formats/video":Y.default,"formats/list/item":T.ListItem,"modules/formula":K.default,"modules/syntax":ee.default,"modules/toolbar":J.default,"themes/bubble":me.default,"themes/snow":Ae.default,"ui/icons":se.default,"ui/picker":Ie.default,"ui/icon-picker":Je.default,"ui/color-picker":Ve.default,"ui/tooltip":yt.default},!0),r.default=u.default},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var a=function(){function b(_,w){for(var S=0;S<w.length;S++){var R=w[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(_,R.key,R)}}return function(_,w,S){return w&&b(_.prototype,w),S&&b(_,S),_}}(),u=function b(_,w,S){_===null&&(_=Function.prototype);var R=Object.getOwnPropertyDescriptor(_,w);if(R===void 0){var E=Object.getPrototypeOf(_);return E===null?void 0:b(E,w,S)}else{if("value"in R)return R.value;var L=R.get;return L===void 0?void 0:L.call(S)}},f=o(0),h=m(f);function m(b){return b&&b.__esModule?b:{default:b}}function v(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function g(b,_){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:b}function d(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(b,_):b.__proto__=_)}var y=function(b){d(_,b);function _(){return v(this,_),g(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"add",value:function(S,R){if(R==="+1"||R==="-1"){var E=this.value(S)||0;R=R==="+1"?E+1:E-1}return R===0?(this.remove(S),!0):u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"add",this).call(this,S,R)}},{key:"canAdd",value:function(S,R){return u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,S,R)||u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,S,parseInt(R))}},{key:"value",value:function(S){return parseInt(u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,S))||void 0}}]),_}(h.default.Attributor.Class),T=new y("indent","ql-indent",{scope:h.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=T},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(4),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function m(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var g=function(d){v(y,d);function y(){return h(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(u.default);g.blotName="blockquote",g.tagName="blockquote",r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function y(T,b){for(var _=0;_<b.length;_++){var w=b[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(T,w.key,w)}}return function(T,b,_){return b&&y(T.prototype,b),_&&y(T,_),T}}(),u=o(4),f=h(u);function h(y){return y&&y.__esModule?y:{default:y}}function m(y,T){if(!(y instanceof T))throw new TypeError("Cannot call a class as a function")}function v(y,T){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:y}function g(y,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);y.prototype=Object.create(T&&T.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(y,T):y.__proto__=T)}var d=function(y){g(T,y);function T(){return m(this,T),v(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,null,[{key:"formats",value:function(_){return this.tagName.indexOf(_.tagName)+1}}]),T}(f.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],r.default=d},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var a=function(){function E(L,U){for(var C=0;C<U.length;C++){var I=U[C];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(L,I.key,I)}}return function(L,U,C){return U&&E(L.prototype,U),C&&E(L,C),L}}(),u=function E(L,U,C){L===null&&(L=Function.prototype);var I=Object.getOwnPropertyDescriptor(L,U);if(I===void 0){var M=Object.getPrototypeOf(L);return M===null?void 0:E(M,U,C)}else{if("value"in I)return I.value;var O=I.get;return O===void 0?void 0:O.call(C)}},f=o(0),h=y(f),m=o(4),v=y(m),g=o(25),d=y(g);function y(E){return E&&E.__esModule?E:{default:E}}function T(E,L,U){return L in E?Object.defineProperty(E,L,{value:U,enumerable:!0,configurable:!0,writable:!0}):E[L]=U,E}function b(E,L){if(!(E instanceof L))throw new TypeError("Cannot call a class as a function")}function _(E,L){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:E}function w(E,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);E.prototype=Object.create(L&&L.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(E,L):E.__proto__=L)}var S=function(E){w(L,E);function L(){return b(this,L),_(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return a(L,[{key:"format",value:function(C,I){C===R.blotName&&!I?this.replaceWith(h.default.create(this.statics.scope)):u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"format",this).call(this,C,I)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(C,I){return this.parent.isolate(this.offset(this.parent),this.length()),C===this.parent.statics.blotName?(this.parent.replaceWith(C,I),this):(this.parent.unwrap(),u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"replaceWith",this).call(this,C,I))}}],[{key:"formats",value:function(C){return C.tagName===this.tagName?void 0:u(L.__proto__||Object.getPrototypeOf(L),"formats",this).call(this,C)}}]),L}(v.default);S.blotName="list-item",S.tagName="LI";var R=function(E){w(L,E),a(L,null,[{key:"create",value:function(C){var I=C==="ordered"?"OL":"UL",M=u(L.__proto__||Object.getPrototypeOf(L),"create",this).call(this,I);return(C==="checked"||C==="unchecked")&&M.setAttribute("data-checked",C==="checked"),M}},{key:"formats",value:function(C){if(C.tagName==="OL")return"ordered";if(C.tagName==="UL")return C.hasAttribute("data-checked")?C.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function L(U){b(this,L);var C=_(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,U)),I=function(O){if(O.target.parentNode===U){var k=C.statics.formats(U),D=h.default.find(O.target);k==="checked"?D.format("list","unchecked"):k==="unchecked"&&D.format("list","checked")}};return U.addEventListener("touchstart",I),U.addEventListener("mousedown",I),C}return a(L,[{key:"format",value:function(C,I){this.children.length>0&&this.children.tail.format(C,I)}},{key:"formats",value:function(){return T({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(C,I){if(C instanceof S)u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertBefore",this).call(this,C,I);else{var M=I==null?this.length():I.offset(this),O=this.split(M);O.parent.insertBefore(C,O)}}},{key:"optimize",value:function(C){u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"optimize",this).call(this,C);var I=this.next;I!=null&&I.prev===this&&I.statics.blotName===this.statics.blotName&&I.domNode.tagName===this.domNode.tagName&&I.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(I.moveChildren(this),I.remove())}},{key:"replace",value:function(C){if(C.statics.blotName!==this.statics.blotName){var I=h.default.create(this.statics.defaultChild);C.moveChildren(I),this.appendChild(I)}u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"replace",this).call(this,C)}}]),L}(d.default);R.blotName="list",R.scope=h.default.Scope.BLOCK_BLOT,R.tagName=["OL","UL"],R.defaultChild="list-item",R.allowedChildren=[S],r.ListItem=S,r.default=R},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(56),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function m(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var g=function(d){v(y,d);function y(){return h(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(u.default);g.blotName="italic",g.tagName=["EM","I"],r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function T(b,_){for(var w=0;w<_.length;w++){var S=_[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,_,w){return _&&T(b.prototype,_),w&&T(b,w),b}}(),u=function T(b,_,w){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,_);if(S===void 0){var R=Object.getPrototypeOf(b);return R===null?void 0:T(R,_,w)}else{if("value"in S)return S.value;var E=S.get;return E===void 0?void 0:E.call(w)}},f=o(6),h=m(f);function m(T){return T&&T.__esModule?T:{default:T}}function v(T,b){if(!(T instanceof b))throw new TypeError("Cannot call a class as a function")}function g(T,b){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:T}function d(T,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);T.prototype=Object.create(b&&b.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(T,b):T.__proto__=b)}var y=function(T){d(b,T);function b(){return v(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,null,[{key:"create",value:function(w){return w==="super"?document.createElement("sup"):w==="sub"?document.createElement("sub"):u(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,w)}},{key:"formats",value:function(w){if(w.tagName==="SUB")return"sub";if(w.tagName==="SUP")return"super"}}]),b}(h.default);y.blotName="script",y.tagName=["SUB","SUP"],r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(6),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function m(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var g=function(d){v(y,d);function y(){return h(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(u.default);g.blotName="strike",g.tagName="S",r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(6),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function m(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var g=function(d){v(y,d);function y(){return h(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(u.default);g.blotName="underline",g.tagName="U",r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function _(w,S){for(var R=0;R<S.length;R++){var E=S[R];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,S,R){return S&&_(w.prototype,S),R&&_(w,R),w}}(),u=function _(w,S,R){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,S);if(E===void 0){var L=Object.getPrototypeOf(w);return L===null?void 0:_(L,S,R)}else{if("value"in E)return E.value;var U=E.get;return U===void 0?void 0:U.call(R)}},f=o(0),h=v(f),m=o(27);function v(_){return _&&_.__esModule?_:{default:_}}function g(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function d(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function y(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var T=["alt","height","width"],b=function(_){y(w,_);function w(){return g(this,w),d(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"format",value:function(R,E){T.indexOf(R)>-1?E?this.domNode.setAttribute(R,E):this.domNode.removeAttribute(R):u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,R,E)}}],[{key:"create",value:function(R){var E=u(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,R);return typeof R=="string"&&E.setAttribute("src",this.sanitize(R)),E}},{key:"formats",value:function(R){return T.reduce(function(E,L){return R.hasAttribute(L)&&(E[L]=R.getAttribute(L)),E},{})}},{key:"match",value:function(R){return/\.(jpe?g|gif|png)$/.test(R)||/^data:image\/.+;base64/.test(R)}},{key:"sanitize",value:function(R){return(0,m.sanitize)(R,["http","https","data"])?R:"//:0"}},{key:"value",value:function(R){return R.getAttribute("src")}}]),w}(h.default.Embed);b.blotName="image",b.tagName="IMG",r.default=b},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function _(w,S){for(var R=0;R<S.length;R++){var E=S[R];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,S,R){return S&&_(w.prototype,S),R&&_(w,R),w}}(),u=function _(w,S,R){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,S);if(E===void 0){var L=Object.getPrototypeOf(w);return L===null?void 0:_(L,S,R)}else{if("value"in E)return E.value;var U=E.get;return U===void 0?void 0:U.call(R)}},f=o(4),h=o(27),m=v(h);function v(_){return _&&_.__esModule?_:{default:_}}function g(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function d(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function y(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var T=["height","width"],b=function(_){y(w,_);function w(){return g(this,w),d(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"format",value:function(R,E){T.indexOf(R)>-1?E?this.domNode.setAttribute(R,E):this.domNode.removeAttribute(R):u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,R,E)}}],[{key:"create",value:function(R){var E=u(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,R);return E.setAttribute("frameborder","0"),E.setAttribute("allowfullscreen",!0),E.setAttribute("src",this.sanitize(R)),E}},{key:"formats",value:function(R){return T.reduce(function(E,L){return R.hasAttribute(L)&&(E[L]=R.getAttribute(L)),E},{})}},{key:"sanitize",value:function(R){return m.default.sanitize(R)}},{key:"value",value:function(R){return R.getAttribute("src")}}]),w}(f.BlockEmbed);b.blotName="video",b.className="ql-video",b.tagName="IFRAME",r.default=b},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var a=function(){function R(E,L){for(var U=0;U<L.length;U++){var C=L[U];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(E,C.key,C)}}return function(E,L,U){return L&&R(E.prototype,L),U&&R(E,U),E}}(),u=function R(E,L,U){E===null&&(E=Function.prototype);var C=Object.getOwnPropertyDescriptor(E,L);if(C===void 0){var I=Object.getPrototypeOf(E);return I===null?void 0:R(I,L,U)}else{if("value"in C)return C.value;var M=C.get;return M===void 0?void 0:M.call(U)}},f=o(35),h=y(f),m=o(5),v=y(m),g=o(9),d=y(g);function y(R){return R&&R.__esModule?R:{default:R}}function T(R,E){if(!(R instanceof E))throw new TypeError("Cannot call a class as a function")}function b(R,E){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:R}function _(R,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);R.prototype=Object.create(E&&E.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(R,E):R.__proto__=E)}var w=function(R){_(E,R);function E(){return T(this,E),b(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,null,[{key:"create",value:function(U){var C=u(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,U);return typeof U=="string"&&(window.katex.render(U,C,{throwOnError:!1,errorColor:"#f00"}),C.setAttribute("data-value",U)),C}},{key:"value",value:function(U){return U.getAttribute("data-value")}}]),E}(h.default);w.blotName="formula",w.className="ql-formula",w.tagName="SPAN";var S=function(R){_(E,R),a(E,null,[{key:"register",value:function(){v.default.register(w,!0)}}]);function E(){T(this,E);var L=b(this,(E.__proto__||Object.getPrototypeOf(E)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return L}return E}(d.default);r.FormulaBlot=w,r.default=S},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var a=function(){function U(C,I){for(var M=0;M<I.length;M++){var O=I[M];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(C,O.key,O)}}return function(C,I,M){return I&&U(C.prototype,I),M&&U(C,M),C}}(),u=function U(C,I,M){C===null&&(C=Function.prototype);var O=Object.getOwnPropertyDescriptor(C,I);if(O===void 0){var k=Object.getPrototypeOf(C);return k===null?void 0:U(k,I,M)}else{if("value"in O)return O.value;var D=O.get;return D===void 0?void 0:D.call(M)}},f=o(0),h=b(f),m=o(5),v=b(m),g=o(9),d=b(g),y=o(13),T=b(y);function b(U){return U&&U.__esModule?U:{default:U}}function _(U,C){if(!(U instanceof C))throw new TypeError("Cannot call a class as a function")}function w(U,C){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:U}function S(U,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);U.prototype=Object.create(C&&C.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(U,C):U.__proto__=C)}var R=function(U){S(C,U);function C(){return _(this,C),w(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return a(C,[{key:"replaceWith",value:function(M){this.domNode.textContent=this.domNode.textContent,this.attach(),u(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replaceWith",this).call(this,M)}},{key:"highlight",value:function(M){var O=this.domNode.textContent;this.cachedText!==O&&((O.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=M(O),this.domNode.normalize(),this.attach()),this.cachedText=O)}}]),C}(T.default);R.className="ql-syntax";var E=new h.default.Attributor.Class("token","hljs",{scope:h.default.Scope.INLINE}),L=function(U){S(C,U),a(C,null,[{key:"register",value:function(){v.default.register(E,!0),v.default.register(R,!0)}}]);function C(I,M){_(this,C);var O=w(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,I,M));if(typeof O.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var k=null;return O.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(k),k=setTimeout(function(){O.highlight(),k=null},O.options.interval)}),O.highlight(),O}return a(C,[{key:"highlight",value:function(){var M=this;if(!this.quill.selection.composing){this.quill.update(v.default.sources.USER);var O=this.quill.getSelection();this.quill.scroll.descendants(R).forEach(function(k){k.highlight(M.options.highlight)}),this.quill.update(v.default.sources.SILENT),O!=null&&this.quill.setSelection(O,v.default.sources.SILENT)}}}]),C}(d.default);L.DEFAULTS={highlight:function(){return window.hljs==null?null:function(U){var C=window.hljs.highlightAuto(U);return C.value}}(),interval:1e3},r.CodeBlock=R,r.CodeToken=E,r.default=L},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,r){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,r){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,r){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,r){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var a=function C(I,M,O){I===null&&(I=Function.prototype);var k=Object.getOwnPropertyDescriptor(I,M);if(k===void 0){var D=Object.getPrototypeOf(I);return D===null?void 0:C(D,M,O)}else{if("value"in k)return k.value;var N=k.get;return N===void 0?void 0:N.call(O)}},u=function(){function C(I,M){for(var O=0;O<M.length;O++){var k=M[O];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}return function(I,M,O){return M&&C(I.prototype,M),O&&C(I,O),I}}(),f=o(3),h=_(f),m=o(8),v=_(m),g=o(43),d=_(g),y=o(15),T=o(41),b=_(T);function _(C){return C&&C.__esModule?C:{default:C}}function w(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}function S(C,I){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:C}function R(C,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);C.prototype=Object.create(I&&I.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(C,I):C.__proto__=I)}var E=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],L=function(C){R(I,C);function I(M,O){w(this,I),O.modules.toolbar!=null&&O.modules.toolbar.container==null&&(O.modules.toolbar.container=E);var k=S(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,M,O));return k.quill.container.classList.add("ql-bubble"),k}return u(I,[{key:"extendToolbar",value:function(O){this.tooltip=new U(this.quill,this.options.bounds),this.tooltip.root.appendChild(O.container),this.buildButtons([].slice.call(O.container.querySelectorAll("button")),b.default),this.buildPickers([].slice.call(O.container.querySelectorAll("select")),b.default)}}]),I}(d.default);L.DEFAULTS=(0,h.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){I?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var U=function(C){R(I,C);function I(M,O){w(this,I);var k=S(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,M,O));return k.quill.on(v.default.events.EDITOR_CHANGE,function(D,N,H,G){if(D===v.default.events.SELECTION_CHANGE)if(N!=null&&N.length>0&&G===v.default.sources.USER){k.show(),k.root.style.left="0px",k.root.style.width="",k.root.style.width=k.root.offsetWidth+"px";var X=k.quill.getLines(N.index,N.length);if(X.length===1)k.position(k.quill.getBounds(N));else{var te=X[X.length-1],ie=k.quill.getIndex(te),Y=Math.min(te.length()-1,N.index+N.length-ie),W=k.quill.getBounds(new y.Range(ie,Y));k.position(W)}}else document.activeElement!==k.textbox&&k.quill.hasFocus()&&k.hide()}),k}return u(I,[{key:"listen",value:function(){var O=this;a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){O.root.classList.remove("ql-editing")}),this.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!O.root.classList.contains("ql-hidden")){var k=O.quill.getSelection();k!=null&&O.position(O.quill.getBounds(k))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(O){var k=a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"position",this).call(this,O),D=this.root.querySelector(".ql-tooltip-arrow");if(D.style.marginLeft="",k===0)return k;D.style.marginLeft=-1*k-D.offsetWidth/2+"px"}}]),I}(g.BaseTooltip);U.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=U,r.default=L},function(t,r,o){t.exports=o(63)}]).default})}(Pc)),Pc.exports}var ur,xw;function ZL(){if(xw)return ur;xw=1;var n=ur&&ur.__extends||function(){var v=function(g,d){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,T){y.__proto__=T}||function(y,T){for(var b in T)T.hasOwnProperty(b)&&(y[b]=T[b])},v(g,d)};return function(g,d){v(g,d);function y(){this.constructor=g}g.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}}(),e=ur&&ur.__assign||function(){return e=Object.assign||function(v){for(var g,d=1,y=arguments.length;d<y;d++){g=arguments[d];for(var T in g)Object.prototype.hasOwnProperty.call(g,T)&&(v[T]=g[T])}return v},e.apply(this,arguments)},t=ur&&ur.__spreadArrays||function(){for(var v=0,g=0,d=arguments.length;g<d;g++)v+=arguments[g].length;for(var y=Array(v),T=0,g=0;g<d;g++)for(var b=arguments[g],_=0,w=b.length;_<w;_++,T++)y[T]=b[_];return y},r=ur&&ur.__importDefault||function(v){return v&&v.__esModule?v:{default:v}},o=r(Jc()),a=r(Mw()),u=r(XL()),f=r(JL()),h=function(v){n(g,v);function g(d){var y=v.call(this,d)||this;y.dirtyProps=["modules","formats","bounds","theme","children"],y.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],y.state={generation:0},y.selection=null,y.onEditorChange=function(b,_,w,S){var R,E,L,U;b==="text-change"?(E=(R=y).onEditorChangeText)===null||E===void 0||E.call(R,y.editor.root.innerHTML,_,S,y.unprivilegedEditor):b==="selection-change"&&((U=(L=y).onEditorChangeSelection)===null||U===void 0||U.call(L,_,S,y.unprivilegedEditor))};var T=y.isControlled()?d.value:d.defaultValue;return y.value=T??"",y}return g.prototype.validateProps=function(d){var y;if(o.default.Children.count(d.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(o.default.Children.count(d.children)){var T=o.default.Children.only(d.children);if(((y=T)===null||y===void 0?void 0:y.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&d.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},g.prototype.shouldComponentUpdate=function(d,y){var T=this,b;if(this.validateProps(d),!this.editor||this.state.generation!==y.generation)return!0;if("value"in d){var _=this.getEditorContents(),w=(b=d.value,b??"");this.isEqualValue(w,_)||this.setEditorContents(this.editor,w)}return d.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,d.readOnly),t(this.cleanProps,this.dirtyProps).some(function(S){return!u.default(d[S],T.props[S])})},g.prototype.shouldComponentRegenerate=function(d){var y=this;return this.dirtyProps.some(function(T){return!u.default(d[T],y.props[T])})},g.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},g.prototype.componentWillUnmount=function(){this.destroyEditor()},g.prototype.componentDidUpdate=function(d,y){var T=this;if(this.editor&&this.shouldComponentRegenerate(d)){var b=this.editor.getContents(),_=this.editor.getSelection();this.regenerationSnapshot={delta:b,selection:_},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==y.generation){var w=this.regenerationSnapshot,b=w.delta,S=w.selection;delete this.regenerationSnapshot,this.instantiateEditor();var R=this.editor;R.setContents(b),m(function(){return T.setEditorSelection(R,S)})}},g.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},g.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},g.prototype.isControlled=function(){return"value"in this.props},g.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},g.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},g.prototype.createEditor=function(d,y){var T=new f.default(d,y);return y.tabIndex!=null&&this.setEditorTabIndex(T,y.tabIndex),this.hookEditor(T),T},g.prototype.hookEditor=function(d){this.unprivilegedEditor=this.makeUnprivilegedEditor(d),d.on("editor-change",this.onEditorChange)},g.prototype.unhookEditor=function(d){d.off("editor-change",this.onEditorChange)},g.prototype.getEditorContents=function(){return this.value},g.prototype.getEditorSelection=function(){return this.selection},g.prototype.isDelta=function(d){return d&&d.ops},g.prototype.isEqualValue=function(d,y){return this.isDelta(d)&&this.isDelta(y)?u.default(d.ops,y.ops):u.default(d,y)},g.prototype.setEditorContents=function(d,y){var T=this;this.value=y;var b=this.getEditorSelection();typeof y=="string"?d.setContents(d.clipboard.convert(y)):d.setContents(y),m(function(){return T.setEditorSelection(d,b)})},g.prototype.setEditorSelection=function(d,y){if(this.selection=y,y){var T=d.getLength();y.index=Math.max(0,Math.min(y.index,T-1)),y.length=Math.max(0,Math.min(y.length,T-1-y.index)),d.setSelection(y)}},g.prototype.setEditorTabIndex=function(d,y){var T,b;!((b=(T=d)===null||T===void 0?void 0:T.scroll)===null||b===void 0)&&b.domNode&&(d.scroll.domNode.tabIndex=y)},g.prototype.setEditorReadOnly=function(d,y){y?d.disable():d.enable()},g.prototype.makeUnprivilegedEditor=function(d){var y=d;return{getHTML:function(){return y.root.innerHTML},getLength:y.getLength.bind(y),getText:y.getText.bind(y),getContents:y.getContents.bind(y),getSelection:y.getSelection.bind(y),getBounds:y.getBounds.bind(y)}},g.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var d=a.default.findDOMNode(this.editingArea);if(!d)throw new Error("Cannot find element for editing area");if(d.nodeType===3)throw new Error("Editing area cannot be a text node");return d},g.prototype.renderEditingArea=function(){var d=this,y=this.props,T=y.children,b=y.preserveWhitespace,_=this.state.generation,w={key:_,ref:function(S){d.editingArea=S}};return o.default.Children.count(T)?o.default.cloneElement(o.default.Children.only(T),w):b?o.default.createElement("pre",e({},w)):o.default.createElement("div",e({},w))},g.prototype.render=function(){var d;return o.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(d=this.props.className,d??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},g.prototype.onEditorChangeText=function(d,y,T,b){var _,w;if(this.editor){var S=this.isDelta(this.value)?b.getContents():b.getHTML();S!==this.getEditorContents()&&(this.lastDeltaChangeSet=y,this.value=S,(w=(_=this.props).onChange)===null||w===void 0||w.call(_,d,y,T,b))}},g.prototype.onEditorChangeSelection=function(d,y,T){var b,_,w,S,R,E;if(this.editor){var L=this.getEditorSelection(),U=!L&&d,C=L&&!d;u.default(d,L)||(this.selection=d,(_=(b=this.props).onChangeSelection)===null||_===void 0||_.call(b,d,y,T),U?(S=(w=this.props).onFocus)===null||S===void 0||S.call(w,d,y,T):C&&((E=(R=this.props).onBlur)===null||E===void 0||E.call(R,L,y,T)))}},g.prototype.focus=function(){this.editor&&this.editor.focus()},g.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},g.displayName="React Quill",g.Quill=f.default,g.defaultProps={theme:"snow",modules:{},readOnly:!1},g}(o.default.Component);function m(v){Promise.resolve().then(v)}return ur=h,ur}var eM=ZL();const Ow=Vm(eM),gc=350,Nw=()=>{const[n,e]=de.useState(!1),[t,r]=Qe.useState(!1),[o,a]=Qe.useState(0),[u,f]=Qe.useState(0),{cpf:h,login:m}=de.useContext(fi),[v,g]=Qe.useState(""),[d,y]=Qe.useState(!1),[T,b]=Qe.useState(0),[_,w]=Qe.useState(""),S=sa(),{id:R}=Ww(),[E,L]=de.useState({title:"",price:"",cpu:"",processorBrand:"",graphicsCardBrand:"",motherBoard:"",cpuText:"",storage:"",tower:"",adApproved:!1,font:"",memory:"",graphicsCard:"",cooling:"",amoutCables:"",ages:"",link:"",motherBoardText:"",customerCpf:"",images:[]});de.useEffect(()=>{(async()=>{if(R){const X=await Wb("products",R);X&&typeof X=="object"&&Object.keys(X).length>0&&L({title:X.title,price:X.price,cpu:X.cpu,motherBoard:X.motherBoard,adApproved:X.adApproved,customerCpf:X.customerCpf,processorBrand:X.processorBrand,graphicsCardBrand:X.graphicsCardBrand,cpuText:X.cpuText,storage:X.storage,tower:X.tower,font:X.font,memory:X.memory,graphicsCard:X.graphicsCard,cooling:X.cooling,amoutCables:X.amoutCables,ages:X.ages,link:X.link,motherBoardText:X.motherBoardText,images:X.images})}})()},[]),Qe.useEffect(()=>{console.log("FormData atualizado   ",E)},[E]);const U=G=>{let{id:X,value:te}=G.target;X==="price"&&(te=te.replace(/\D/g,""),te=(parseFloat(te)/100).toFixed(2),te=`R$ ${te.replace(".",",")}`),X!=="title"&&X!=="ages"&&X!=="motherBoardText"&&X!=="cpuText"&&X!=="link"&&X!=="processorBrand"&&X!=="graphicsCardBrand"&&(te=te.toUpperCase()),L(ie=>({...ie,[X]:te}))},C=async G=>{const X=G.target.files[0];if(X)try{await oD(X,b,w,L)}catch(te){console.error("Erro no upload:",te)}},I=(G,X)=>{G.replace(/<[^>]*>/g,"").length<=gc&&g(G),L(ie=>({...ie,[X]:G}))},M=G=>{const X=v.replace(/<[^>]*>/g,"");G==="cpuText"?a(X.length):G==="motherBoardText"&&f(X.length),X.length,X.length>=gc&&event.key!=="Backspace"&&event.preventDefault()},O=()=>{if(n===!1){e(!0);return}e(!1),k()},k=G=>{(!G||typeof G.preventDefault!="function")&&(G={preventDefault:()=>{}}),G.preventDefault(),E.price=E.price.replace("R$ ","").replace(",00","");const X=JSON.parse(localStorage.getItem("products"))||[];if(R){E.customerCpf=D(E.customerCpf),X[R]=E,nD("products",R,E),S("/");return}E.customerCpf=D(h),X.push(E),Hb("products",E),L({id:"",title:"",price:"",cpu:"",motherBoard:"",storage:"",tower:"",cpuText:"",processorBrand:"",graphicsCardBrand:"",motherBoardText:"",font:"",graphicsCard:"",customerCpf:"",memory:"",cooling:"",amoutCables:"",ages:"",link:"",images:[]}),r(!0)},D=G=>G.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),N=G=>{L(X=>({...X,images:X.images.filter((te,ie)=>ie!==G)}))},H=G=>{if(R){if(G){rD("products",R),y(!1),S("/");return}y(!0)}};return q.jsxs("div",{className:Ze.productFormContainer,children:[t&&q.jsx(ra,{message:"Seu produto foi criado com sucesso. Ele será avaliado e em breve estará disponível para venda.",setClose:r,adress:"/"}),d&&q.jsx(Dm,{defaultMessage:"Você está prestes a excluir esse card. Tem certeza que quer continuar",setCloseMessage:y,goOn:()=>H(!0)}),n&&q.jsx(Dm,{defaultMessage:"Tem certeza que quer enviar os dados?",setCloseMessage:e,goOn:()=>O()}),q.jsx("h2",{children:"Formulário para máquinas Dragon"}),q.jsxs("form",{className:Ze.formContainer,children:[q.jsxs("div",{className:Ze.formRow,children:[q.jsxs("div",{className:Ze.formGroup,children:[q.jsx("label",{htmlFor:"title",children:"Título/Aplicação:"}),q.jsxs("select",{id:"title",value:E.title,onChange:U,required:!0,children:[q.jsx("option",{value:"",children:"Selecione sua opção"}),q.jsx("option",{value:"Gamer",children:"Gamer"}),q.jsx("option",{value:"Escritório",children:"Escritório"}),q.jsx("option",{value:"Render",children:"Render"}),q.jsx("option",{value:"Doméstico",children:"Doméstico"}),q.jsx("option",{value:"Edição de Video",children:"Edição de Video"})]})]}),q.jsxs("div",{className:Ze.formGroup,children:[q.jsx("label",{htmlFor:"price",children:"Preço:"}),q.jsx("input",{type:"text",required:!0,id:"price",value:E.price,onChange:U})]})]}),q.jsxs("div",{className:Ze.formRow,children:[q.jsxs("div",{className:Ze.formGroup,children:[q.jsx("label",{htmlFor:"processador",title:"modelo",children:"Processador:"}),q.jsx("input",{title:"modelo",type:"text",required:!0,id:"cpu",value:E.cpu,onChange:U})]}),q.jsxs("div",{className:Ze.formGroup,children:[q.jsx("label",{htmlFor:"processorBrand",children:"Marca do Processador:"}),q.jsxs("select",{id:"processorBrand",required:!0,value:E.processorBrand,onChange:U,children:[q.jsx("option",{value:"",children:"Selecione sua opção"}),q.jsx("option",{value:"AMD",children:"AMD"}),q.jsx("option",{value:"Intel",children:"Intel"})]})]})]}),q.jsxs("div",{className:Ze.formRow,children:[q.jsxs("div",{className:Ze.formGroup,children:[q.jsx("label",{htmlFor:"graphicsCard",title:"modelo e memoria",children:"Placa de Video:"}),q.jsx("input",{title:"modelo e memoria",type:"text",id:"graphicsCard",value:E.graphicsCard,onChange:U})]}),q.jsxs("div",{className:Ze.formGroup,children:[q.jsx("label",{htmlFor:"graphicsCardBrand",children:"Marca da Placa de vídeo:"}),q.jsxs("select",{id:"graphicsCardBrand",value:E.graphicsCardBrand,required:!0,onChange:U,children:[q.jsx("option",{value:"",children:"Selecione sua opção"}),q.jsx("option",{value:"AMD",children:"AMD"}),q.jsx("option",{value:"Arc",children:"Arc"}),q.jsx("option",{value:"NVIDEA",children:"Nvidea"})]})]})]}),q.jsxs("div",{className:Ze.formRow,children:[q.jsxs("div",{className:Ze.formGroup,children:[q.jsx("label",{htmlFor:"processador",title:"quantidade, frequencia e marca",children:"Memória:"}),q.jsx("input",{title:"quantidade, frequencia e marca",type:"text",required:!0,id:"memory",value:E.memory,onChange:U})]}),q.jsxs("div",{className:Ze.formGroup,children:[q.jsx("label",{htmlFor:"motherBoard",title:"modelo e marca",children:"Refrigeração:"}),q.jsx("input",{title:"modelo e marca",type:"text",required:!0,id:"cooling",value:E.cooling,onChange:U})]})]}),q.jsxs("div",{className:Ze.formRow,children:[q.jsxs("div",{className:Ze.formGroup,children:[q.jsx("label",{htmlFor:"motherBoard",title:"Marca e modelo",children:"Placa de mãe:"}),q.jsx("input",{title:"Marca e modelo",type:"text",required:!0,id:"motherBoard",value:E.motherBoard,onChange:U})]}),q.jsxs("div",{className:Ze.formGroup,children:[q.jsx("label",{htmlFor:"font",title:"Watt´s, marca e certificação",children:"Fonte:"}),q.jsx("input",{title:"Watt´s, marca e certificação",type:"text",id:"font",value:E.font,onChange:U})]})]}),q.jsxs("div",{className:Ze.formRow,children:[q.jsxs("div",{className:Ze.formGroup,children:[q.jsxs("label",{htmlFor:"quantidadeDeCabos",title:"modelos",children:[" ","Cabos:"]}),q.jsx("input",{title:"modelos",type:"text",id:"amoutCables",value:E.amoutCables,onChange:U})]}),q.jsxs("div",{className:Ze.formGroup,children:[q.jsx("label",{htmlFor:"font",title:"modelo e marca.",children:"Gabinete:"}),q.jsx("input",{title:"modelo e marca.",type:"text",id:"tower",value:E.tower,onChange:U})]})]}),q.jsxs("div",{className:Ze.formRow,children:[q.jsxs("div",{className:Ze.formGroup,children:[q.jsx("label",{htmlFor:"quantidadeDeCabos",children:"Data da Compra"}),q.jsx("input",{type:"date",id:"ages",value:E.ages,onChange:U})]}),q.jsxs("div",{className:Ze.formGroup,children:[q.jsx("label",{htmlFor:"images",children:"Imagens:"}),q.jsx("input",{type:"file",onChange:C}),q.jsx("progress",{value:T,max:"100"}),_&&q.jsx("img",{className:Ze.imagePreview,src:_,alt:"Uploaded file"})]})]}),q.jsx("div",{className:Ze.containerImages,children:E&&E.images&&E.images.length>0&&E.images.map((G,X)=>q.jsx("div",{className:Ze.imageItem,children:q.jsx("button",{style:{backgroundImage:`url(${G})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"50px",height:"40px",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},type:"button",onClick:()=>N(X),children:q.jsx("span",{style:{position:"absolute",top:"5px",right:"5px",backgroundColor:"rgba(0,0,0,0.5)",color:"white",borderRadius:"50%",padding:"2px 5px",fontSize:"12px"},children:"X"})})},X))}),q.jsxs("div",{className:Ze.formTextareaColumn,children:[q.jsxs("div",{className:Ze.textareaColumn,children:[q.jsx("label",{htmlFor:"motherBoardText",children:"ESPECIFICAÇÕES PLACA MÃE:"}),q.jsx(Ow,{id:"motherBoardText",className:Ze.textField,value:E.motherBoardText,onChange:G=>I(G,"motherBoardText"),onKeyDown:()=>M("motherBoardText")}),q.jsxs("div",{className:Ze.characterCounter,children:[u,"/",gc," caracteres"]})]}),q.jsxs("div",{className:Ze.textareaColumn,children:[q.jsx("label",{htmlFor:"cpuText",title:"modelo, htz, cache e marca",children:"ESPECIFICAÇÕES DO PROCESSADOR:"}),q.jsx(Ow,{id:"cpuText",title:"modelo, htz, cache e marca",className:Ze.textField,value:E.cpuText,onChange:G=>I(G,"cpuText"),onKeyDown:()=>M("cpuText")}),q.jsxs("div",{className:Ze.characterCounter,children:[o,"/",gc," caracteres"]})]})]}),q.jsxs("div",{className:Ze.btnContainer,children:[q.jsx("button",{type:"button",onClick:O,children:"Salvar"}),q.jsx("button",{type:"button",onClick:()=>H(!1),children:"Excluir"})]}),q.jsx("div",{className:Ze.formRow,children:m&&q.jsxs("div",{className:Ze.formGroup,children:[q.jsx("label",{htmlFor:"adApproved",children:"Aprovar Anúncio:"}),q.jsx("input",{type:"checkbox",id:"adApproved",checked:E.adApproved,onChange:G=>L(X=>({...X,adApproved:G.target.checked}))}),q.jsx("span",{children:"Somente os inputs checados aparecerão na área de cliente."})]})})]})]})},tM="_header_gdzng_1",nM="_containerMessage_gdzng_7",rM="_nav_gdzng_14",iM="_navList_gdzng_19",oM="_logout_gdzng_43",ll={header:tM,containerMessage:nM,nav:rM,navList:iM,logout:oM},sM=({setCloseMessage:n,message:e})=>{const t=sa(),[r,o]=Qe.useState(!0),[a,u]=Qe.useState(!1),[f,h]=Qe.useState(!1),{setCpf:m,setCurrentCustomer:v}=de.useContext(fi),[g,d]=Qe.useState(""),y=S=>{const R=S.target.value;d(R)},T=()=>{t("/register"),n(!1)},b=async()=>{if(!g||g.length!==11){alert("Por favor, insira um número de CPF válido ou registre-se.");return}if(g){const R=(await $b("customer")).filter(E=>E.cpf.replace(/[.-]/g,"")===g);R.length>0?(m(g),v(R),n(!1),t("/user-rules")):(h(!0),t("/register"))}},_=()=>{u(!0)},w=()=>{o(!1),n(!0)};return q.jsx("div",{className:Ar.container,children:q.jsxs("div",{className:Ar.geralContainerConfirmMessage,children:[r&&q.jsxs("div",{children:[q.jsx("div",{children:e&&q.jsx("h1",{children:e})}),q.jsxs("div",{className:Ar.containerBtn,children:[q.jsx("button",{onClick:w,children:"Sim"}),q.jsx("button",{onClick:_,children:"Não"})]})]}),q.jsxs("div",{className:Ar.geralContainerConfirmMessage,children:[a&&q.jsx(ra,{message:"Somente computadores comprados na Dragon podem ser comercializados nesse site",setClose:u,setCloseMessage:n}),f&&q.jsx(ra,{message:"O seu Número de CPF não foi encontrado, por favor cadastre-se",setClose:u,setCloseMessage:n})]}),"setClose=",u,!r&&q.jsxs("div",{className:Ar.containerCpf,children:[q.jsx("h1",{children:"Já vendeu pela Dragon Computadores? Se sim entre com seu cpf caso contrário, cadastre-se!"}),q.jsx("input",{type:"text",value:g,onChange:y,onBlur:b,maxLength:"11",placeholder:"Digite seu CPF"}),q.jsx("button",{className:Ar.submitCpfBtn,onClick:b,children:"Buscar CPF"}),q.jsx("p",{className:Ar.register,onClick:T,children:"Registre-se"})]}),";"]})})},aM="_container_m0n7h_1",lM="_label_m0n7h_11",uM="_input_m0n7h_16",yc={container:aM,label:lM,input:uM},cM="_containerCloseBtn_1bzuq_1",fM="_closeButton_1bzuq_6",Dw={containerCloseBtn:cM,closeButton:fM},Kg=({setOpenClose:n})=>q.jsx("div",{className:Dw.containerCloseBtn,children:q.jsx("button",{className:Dw.closeButton,onClick:()=>n(!1),children:"x"})});Kg.propTypes={setOpenClose:Ge.func.isRequired};const oS=({setOpenClose:n})=>{const[e,t]=Qe.useState(""),{setLogin:r}=de.useContext(fi);Qe.useEffect(()=>{localStorage.getItem("login")==="true"?localStorage.removeItem("login"):localStorage.setItem("login","true")},[n]);const o=u=>{t(u.target.value)},a=u=>{u.preventDefault(),e==="1234"?(localStorage.setItem("login","true"),r(!0),n(!1)):alert("Incorrect password")};return Qe.useEffect(()=>{const u=document.querySelector(`.${yc.input}`);u&&u.focus()},[]),q.jsxs("div",{className:yc.container,children:[q.jsx(Kg,{setOpenClose:n}),q.jsx("h2",{children:"Please enter your password"}),q.jsxs("form",{onSubmit:a,children:[q.jsxs("label",{className:yc.label,children:["Password:",q.jsx("input",{type:"password",value:e,onChange:o,className:yc.input})]}),q.jsx("button",{type:"submit",children:"Submit"})]})]})};oS.propTypes={setOpenClose:Ge.func.isRequired};const hM=""+new URL("Logo-BliIRvnu.png",import.meta.url).href,dM=()=>{const[n,e]=Qe.useState(!1),[t,r]=Qe.useState(!1),[o,a]=Qe.useState(""),{login:u,setLogin:f}=de.useContext(fi),h=sa(),m=d=>{d.preventDefault(),e(!0),a("O seu computador foi comprado na Dragon Computadores")},v=()=>{r(!0)},g=()=>{localStorage.removeItem("login"),f(!1),h("/")};return q.jsxs("header",{className:ll.header,children:[t&&q.jsx(oS,{setOpenClose:r}),q.jsx("div",{className:ll.containerMessage,children:n&&q.jsx(sM,{setCloseMessage:e,message:o})}),q.jsxs("nav",{className:ll.nav,children:[q.jsxs("ul",{className:ll.navList,children:[q.jsx("li",{children:q.jsx(Gs,{to:"https://dragoncomputadores.com.br/",target:"_blank",rel:"noopener noreferrer",children:q.jsx("img",{src:hM,alt:"Logo dragon"})})}),q.jsx("li",{children:q.jsx(Gs,{to:"/",children:"Vitrine"})}),q.jsx("li",{children:q.jsx("a",{href:"",onClick:m,children:"Quero Vender"})})]}),u?q.jsx("h3",{className:ll.logout,onClick:g,children:"Logado"}):q.jsx("button",{onClick:v})]})]})},pM="_container_1hko6_1",mM="_SingleProductBox_1hko6_1",gM="_containerSideMenu_1hko6_17",yM="_imageThumbnails_1hko6_23",vM="_thumbnail_1hko6_38",_M="_mainImage_1hko6_54",EM="_zoomContainer_1hko6_63",wM="_productDetails_1hko6_88",TM="_mainItems_1hko6_96",bM="_titleContainer_1hko6_118",SM="_specialSpecifications_1hko6_119",AM="_highlightPrice_1hko6_120",IM="_btnMoreDetailsPopup_1hko6_153",kM="_btnContact_1hko6_167",RM="_price_1hko6_185",CM="_hugeText_1hko6_194",PM="_productCode_1hko6_213",xM="_tooltip_1hko6_223",OM="_adminContainer_1hko6_237",NM="_title_1hko6_118",ot={container:pM,SingleProductBox:mM,containerSideMenu:gM,imageThumbnails:yM,thumbnail:vM,mainImage:_M,zoomContainer:EM,productDetails:wM,mainItems:TM,titleContainer:bM,specialSpecifications:SM,highlightPrice:AM,btnMoreDetailsPopup:IM,btnContact:kM,price:RM,hugeText:CM,productCode:PM,tooltip:xM,adminContainer:OM,title:NM},DM="_container_lkqp9_1",LM="_card_lkqp9_13",MM="_containerBtn_lkqp9_20",jM="_closeButton_lkqp9_24",VM="_detail_lkqp9_33",br={container:DM,card:LM,containerBtn:MM,closeButton:jM,detail:VM},Lm=({customer:n,setClose:e})=>{Array.isArray(n)&&(n=n[0]),Qe.useEffect(()=>{console.log("Customer",n)},[n]);const t=r=>{navigator.clipboard.writeText(r),alert("Copied to clipboard: "+r)};return q.jsx("div",{className:br.container,children:q.jsxs("div",{className:br.card,children:[q.jsx("div",{className:br.containerBtn,children:q.jsx("button",{className:br.closeButton,onClick:()=>e(!1),children:"X"})}),n?q.jsxs("div",{children:[q.jsx("h2",{children:"Customer Details"}),q.jsxs("div",{className:br.detail,onClick:()=>t(n.cnpj),children:[q.jsx("strong",{children:"CNPJ:"})," ",n.cnpj]}),q.jsxs("div",{className:br.detail,onClick:()=>t(n.cpf),children:[q.jsx("strong",{children:"CPF:"})," ",n.cpf]}),q.jsxs("div",{className:br.detail,onClick:()=>t(n.email),children:[q.jsx("strong",{children:"Email:"})," ",n.email]}),q.jsxs("div",{className:br.detail,onClick:()=>t(n.name),children:[q.jsx("strong",{children:"Name:"})," ",n.name]}),q.jsxs("div",{className:br.detail,onClick:()=>t(n.phone),children:[q.jsx("strong",{children:"Phone:"})," ",n.phone]}),q.jsxs("div",{className:br.detail,onClick:()=>t(n.purchaseDate),children:[q.jsx("strong",{children:"Purchase Date:"})," ",n.purchaseDate]})]}):q.jsx("div",{children:"Loading..."})]})})};Lm.propTypes={customer:Ge.shape({cnpj:Ge.string,cpf:Ge.string,email:Ge.string,name:Ge.string,phone:Ge.string,purchaseDate:Ge.string}).isRequired,setClose:Ge.func.isRequired};function Mm(n){return n.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")}function UM(n){const e={day:"2-digit",month:"2-digit",year:"numeric"};return new Date(n).toLocaleDateString("pt-BR",e)}const FM="_singleDetailsProductContainer_s5xq8_1",qM="_productDetails_s5xq8_12",BM="_titleContainer_s5xq8_16",zM="_specificationsTitle_s5xq8_31",$M="_hugeText_s5xq8_36",HM="_title_s5xq8_16",WM="_price_s5xq8_64",Jr={singleDetailsProductContainer:FM,productDetails:qM,titleContainer:BM,specificationsTitle:zM,hugeText:$M,title:HM,price:WM},jm=({productSelected:n,setSingleDetailsProduct:e})=>(Qe.useEffect(()=>{console.log("Produto selecionado:",n)},[]),q.jsxs("div",{className:Jr.singleDetailsProductContainer,children:[q.jsx("dv",{className:Jr.containerCloseBtn,children:q.jsx(Kg,{setOpenClose:e})}),n&&q.jsxs("div",{className:Jr.productDetails,children:[q.jsx("div",{className:Jr.titleContainer,children:q.jsxs("h3",{children:["PC ",n.title]})}),q.jsxs("h2",{children:["Processador:",""," ",q.jsx("span",{children:n.cpu})]}),q.jsxs("h2",{children:["productDetails Marca do processdor:",""," ",q.jsx("span",{children:n.processorBrand})]}),q.jsxs("h2",{children:["Placa Mãe: ","",q.jsx("span",{children:n.motherBoard})]}),q.jsxs("h2",{children:["Memória:",q.jsxs("span",{children:[" ",n.memory]})]}),q.jsxs("h2",{children:["Código do produto:","",q.jsx("span",{children:n.id})]}),q.jsxs("h2",{children:["Placa de Video:",q.jsx("span",{children:n.graphicsCard})]}),q.jsxs("h2",{children:["Marca Placa de Video:",q.jsx("span",{children:n.graphicsCardBrand})]}),q.jsxs("h2",{children:["fonte: ",q.jsx("span",{children:n.font})]}),q.jsxs("h2",{children:["gabinete:",q.jsx("span",{children:n.tower})]}),q.jsxs("h2",{children:["Refrigeração:",q.jsx("span",{children:n.cooling})]}),q.jsxs("h2",{children:["Cabos :",q.jsx("span",{children:n.amoutCables})]}),q.jsxs("h2",{children:["Data de compra :",q.jsx("span",{children:UM(n.ages)})]}),q.jsxs("h3",{className:Jr.specificationsTitle,children:["Descrição da Placa mãe :",q.jsx("div",{className:Jr.hugeText,children:q.jsx("span",{dangerouslySetInnerHTML:{__html:n.motherBoardText}})})]}),q.jsxs("h3",{className:Jr.specificationsTitle,children:["Descrição do processador :",q.jsx("div",{className:Jr.hugeText,children:q.jsx("span",{className:Jr.hugeText,dangerouslySetInnerHTML:{__html:n.cpuText}})})]})]})]}));jm.propTypes={productSelected:Ge.shape({title:Ge.string,cpu:Ge.string,motherBoard:Ge.string,memory:Ge.string,price:Ge.number,id:Ge.oneOfType([Ge.string,Ge.number]),graphicsCard:Ge.string,font:Ge.string,tower:Ge.string,cooling:Ge.string,amoutCables:Ge.string,ages:Ge.string,motherBoardText:Ge.string,graphicsCardBrand:Ge.string,processorBrand:Ge.string,cpuText:Ge.string}),setSingleDetailsProduct:Ge.func.isRequired};const KM=()=>{const[n,e]=Qe.useState(""),{login:t}=de.useContext(fi),[r,o]=Qe.useState({}),[a,u]=Qe.useState([]),[f,h]=Qe.useState({}),[m,v]=Qe.useState(!1),[g,d]=Qe.useState({backgroundPosition:"0% 0%"}),[y,T]=Qe.useState(!1),[b,_]=Qe.useState(window.innerWidth<650),{id:w}=Ww();Qe.useEffect(()=>{(async()=>{const C=await Wb("products",w);if(C&&typeof C=="object"&&Object.keys(C).length>0){const{images:I}=C;e(I[0]),u(I),o(C)}})()},[w]),Qe.useEffect(()=>{r&&(r.customerCpf&&/^[0-9]{11}$/.test(r.customerCpf)&&(r.customerCpf=Mm(r.customerCpf)),Kb("customer","cpf",r.customerCpf).then(U=>{h(U)}).catch(U=>{console.error("Erro ao buscar cliente:",U)}))},[r]),Qe.useEffect(()=>(window.addEventListener("resize",E),()=>{window.removeEventListener("resize",E)}),[]);const S=()=>{const U="551132229446",C=`Olá, gostaria de saber mais sobre o produto ${r.title}, com id: ${r.id}.`,I=`https://api.whatsapp.com/send?phone=${U}&text=${encodeURIComponent(C)}`;window.open(I,"_blank")},R=U=>{const{left:C,top:I,width:M,height:O}=U.target.getBoundingClientRect(),k=(U.pageX-C)/M*100,D=(U.pageY-I)/O*100;d({backgroundPosition:`${k}% ${D}%`})},E=()=>{_(window.innerWidth<650)},L=()=>{debugger;console.log("cliente selecionado:",f),console.log("produto selecionado:",r),v(!0)};return b?q.jsxs("div",{className:ot.container,children:[m&&q.jsx(Lm,{customer:f,setClose:v}),y&&q.jsx(jm,{productSelected:r,setSingleDetailsProduct:T}),q.jsxs("div",{className:ot.SingleProductBox,children:[q.jsx("div",{className:ot.productDetails,children:q.jsxs("div",{className:ot.mainItems,children:[q.jsx("div",{className:ot.titleContainer,children:q.jsxs("h3",{className:ot.title,children:["PC ",r.title]})}),q.jsx("div",{className:ot.specialSpecifications,children:q.jsxs("h2",{children:[q.jsxs("span",{children:[r.cpu,", "]}),q.jsxs("span",{children:[r.motherBoard,", "]}),q.jsxs("span",{children:[r.memory,", "]}),q.jsxs("span",{children:[r.motherBoard,", "]}),q.jsxs("span",{children:[r.memory," "]})]})}),q.jsx("div",{className:ot.highlightPrice,children:q.jsxs("h3",{className:ot.price,children:["R$ ",r.price,",00"]})}),q.jsx("button",{className:ot.btnMoreDetailsPopup,onClick:()=>T(!0),children:"MAIS DETALHES"}),q.jsx("button",{className:ot.btnContact,onClick:S,children:"FALE CONOSCO"}),q.jsxs("h2",{className:ot.productCode,title:"Clique para copiar",children:["Código do produto:"," ",q.jsx("span",{onClick:()=>{navigator.clipboard.writeText(r.id),alert("Código copiado para a área de transferência!")},children:r.id})]})]})}),q.jsx("div",{className:ot.containerSideMenu,children:q.jsx("div",{className:ot.imageThumbnails,children:a&&a.length>0&&a.map((U,C)=>q.jsx("div",{className:ot.thumbnail,onClick:()=>e(U),children:q.jsx("img",{src:U,alt:`Thumbnail ${C+1}`})},C))})})]}),b&&t&&q.jsxs("div",{className:ot.adminContainer,children:[" ",q.jsx("button",{children:q.jsx(Gs,{to:`/form/${r.id}`,children:"Edição administrador"})})," ",q.jsx("button",{onClick:L,children:"Detalhes do Cliente"})," "]})]}):q.jsxs("div",{className:ot.container,children:[m&&q.jsx(Lm,{customer:f,setClose:v}),y&&q.jsx(jm,{productSelected:r,setSingleDetailsProduct:T}),q.jsxs("div",{className:ot.SingleProductBox,children:[q.jsx("div",{className:ot.containerSideMenu,children:q.jsx("div",{className:ot.imageThumbnails,children:a&&a.length>0&&a.map((U,C)=>q.jsx("div",{className:ot.thumbnail,onClick:()=>e(U),children:q.jsx("img",{src:U,alt:`Thumbnail ${C+1}`})},C))})}),q.jsx("div",{className:ot.mainImage,children:q.jsx("div",{className:ot.zoomContainer,onMouseMove:R,style:{backgroundRepeat:"no-repeat",backgroundImage:`url(${n})`,backgroundPosition:g.backgroundPosition},children:q.jsx("img",{src:n,alt:"Selected"})})}),r&&q.jsx("div",{className:ot.productDetails,children:q.jsxs("div",{className:ot.mainItems,children:[q.jsx("div",{className:ot.titleContainer,children:q.jsxs("h3",{className:ot.title,children:["PC ",r.title]})}),q.jsx("div",{className:ot.specialSpecifications,children:q.jsxs("h2",{children:[q.jsxs("span",{children:[r.cpu,", "]}),q.jsxs("span",{children:[r.motherBoard,", "]}),q.jsxs("span",{children:[r.memory,", "]}),q.jsxs("span",{children:[r.motherBoard,", "]}),q.jsxs("span",{children:[r.memory," "]})]})}),q.jsx("div",{className:ot.highlightPrice,children:q.jsxs("h3",{className:ot.price,children:["R$ ",r.price,",00"]})}),q.jsx("button",{className:ot.btnMoreDetailsPopup,onClick:()=>T(!0),children:"MAIS DETALHES"}),q.jsx("button",{className:ot.btnContact,onClick:S,children:"FALE CONOSCO"}),q.jsxs("h2",{className:ot.productCode,title:"Clique para copiar",children:["Código do produto:"," ",q.jsx("span",{onClick:()=>{navigator.clipboard.writeText(r.id),alert("Código copiado para a área de transferência!")},children:r.id})]})]})})]}),!b&&t&&q.jsxs("div",{className:ot.adminContainer,children:[" ",q.jsx("button",{children:q.jsx(Gs,{to:`/form/${r.id}`,children:"Edição administrador"})})," ",q.jsx("button",{onClick:L,children:"Detalhes do Cliente"})," "]})]})},GM="_container_9wpaw_2",QM="_form_9wpaw_6",XM="_inputContainer_9wpaw_10",Vi={container:GM,form:QM,inputContainer:XM},YM=()=>{const[n,e]=Qe.useState({name:"",email:"",phone:"",cpf:"",cnpj:"",purchaseDate:""}),[t,r]=Qe.useState(!1),{setCpf:o,setCurrentCustomer:a}=de.useContext(fi),u=m=>{const{name:v,value:g}=m.target,d=f(v,g);if(v==="cpf"||v==="cnpj"||v==="phone"){e({...n,[v]:d});return}if(v==="purchaseDate"){const[T,b,_]=g.split("-"),w=`${_}-${b}-${T}`;e({...n,[v]:w})}const y=g.toUpperCase();e({...n,[v]:y})},f=(m,v)=>m==="cpf"?v.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2"):m==="cnpj"?v.replace(/\D/g,"").replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d{1,2})$/,"$1-$2"):m==="phone"?v.replace(/\D/g,"").replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{4,5})(\d{4})$/,"$1-$2"):v,h=async m=>{if(m.preventDefault(),n.cpf===""&&n.cnpj===""){alert("Por favor, preencha o campo CPF ou CNPJ.");return}o(n.cpf),a(n);try{const v=await Hb("customer",n);console.log("Document created with ID: ",v.id),r(!0),e({name:"",email:"",phone:"",cpf:"",cnpj:"",purchaseDate:""})}catch(v){console.error("Error adding document: ",v),alert("Ocorreu um erro ao criar o cadastro. Por favor, tente novamente.")}};return q.jsxs("div",{className:Vi.container,children:[t&&q.jsx(ra,{message:"Seu cadastro foi criado com sucesso, agora vc pode cadastrar o seu produto",setClose:r,adress:"/user-rules"}),q.jsxs("form",{className:Vi.form,onSubmit:h,children:[q.jsxs("div",{className:Vi.inputContainer,children:[q.jsx("label",{children:"Name:"}),q.jsx("input",{required:!0,type:"text",name:"name",value:n.name,onChange:u})]}),q.jsxs("div",{className:Vi.inputContainer,children:[q.jsx("label",{children:"Email:"}),q.jsx("input",{required:!0,type:"email",name:"email",value:n.email,onChange:u})]}),q.jsxs("div",{className:Vi.inputContainer,children:[q.jsx("label",{children:"Phone:"}),q.jsx("input",{required:!0,type:"text",name:"phone",maxLength:"15",value:n.phone,onChange:u})]}),q.jsxs("div",{className:Vi.inputContainer,children:[q.jsx("label",{children:"CPF:"}),q.jsx("input",{type:"text",name:"cpf",maxLength:"14",value:n.cpf,onChange:u})]}),q.jsxs("div",{className:Vi.inputContainer,children:[q.jsx("label",{children:"CNPJ:"}),q.jsx("input",{type:"text",name:"cnpj",maxLength:"18",value:n.cnpj,onChange:u})]}),q.jsxs("div",{className:Vi.inputContainer,children:[q.jsx("label",{children:"Data de Compra:"}),q.jsx("input",{required:!0,type:"date",name:"purchaseDate",value:n.purchaseDate,onChange:u})]}),q.jsx("button",{type:"submit",children:"Submit"})]})]})},JM="_containerRules_1avi3_1",ZM="_acceptTerms_1avi3_21",Lw={containerRules:JM,acceptTerms:ZM},e4=()=>{const[n,e]=Qe.useState(!1),[t,r]=Qe.useState(!1),{cpf:o}=de.useContext(fi),a=async u=>{const f=u.target.checked;e(f),console.log("CPF GLOBAL",o);let h;h=Mm(o);let m=await Kb("customer","cpf",h);m.acceptTerms=f,console.log("Cliente com checked",m),await iD("customer","cpf",h,m)&&r(!0)};return q.jsxs("div",{className:Lw.containerRules,children:[t&&q.jsx(ra,{setClose:r,message:`O portador do número de CPF ${Mm(o)} aceitou os termos de uso da Dragon Computadores`,adress:"/form"}),q.jsx("h2",{children:"Regras de Uso para Anunciantes na Plataforma Dragon Computadores"}),q.jsxs("ul",{children:["1. Objetivo:",q.jsx("li",{children:"Estabelecer as diretrizes e resposabilidades dos anunciantes que utilizam a plataforma da Dragon Computadores para divulgar e vender computadores usados."})]}),q.jsxs("ul",{children:["2. 2. Responsabilidades do Anunciante:",q.jsx("li",{children:"Veracidade das Informações: Todas as informações e imagens publicadas nos anúncios são de responsabilidade exclusiva do anunciante. A Dragon Computadores não se responsabiliza por dados incorretos ou enganosos."}),q.jsx("li",{children:"Atualização do Anúncio: O anunciante deve informar imediatamente a Dragon Computadores caso o item anunciado já tenha sido vendido por outros meios ou se não deseja mais disponibilizá-lo para venda. Anúncios desatualizados serão removidos após notificação."}),q.jsx("li",{children:"Avaliação Pós-Venda: Caso o item seja vendido através da plataforma, o anunciante deve trazer o computador para avaliação pela Dragon Computadores, conforme acordado previamente."})]}),q.jsxs("ul",{children:["3. Uso da Plataforma:",q.jsx("li",{children:"A Dragon Computadores disponibiliza a plataforma como um serviço de intermediação e será a única responsável por intermediar a comunicação e negociação entre anunciantes e compradores. Não haverá contato direto entre as partes."}),q.jsx("li",{children:"Restrição de Produtos: Apenas computadores que foram originalmente vendidos pela Dragon Computadores podem ser anunciados e comercializados na plataforma. É proibido anunciar produtos de outras marcas ou origens, ou qualquer item que não seja relacionado a computadores."})]}),q.jsxs("ul",{children:["4. Serviços de Avaliação:",q.jsx("li",{children:"A Dragon Computadores oferece o serviço de avaliação das condições dos equipamentos como parte do processo de venda."}),q.jsx("li",{children:"Itens de Armazenamento (HDs, SSDs, etc.): Por se tratarem de itens com vida útil limitada, não garantimos o funcionamento ou a durabilidade de itens de armazenamento. A avaliação desses itens será feita com base em testes técnicos, mas sem qualquer garantia futura."})]}),q.jsxs("ul",{children:["5. Responsabilidade da Dragon Computadores:",q.jsx("li",{children:"A Dragon Computadores atua como facilitadora, oferecendo a plataforma para divulgação dos anúncios e intermediando todo o processo de negociação, mas não se responsabiliza por: Qualquer problema relacionado à condição do produto anunciado (danos, defeitos, etc.), exceto conforme avaliado e informado durante o processo de avaliação. Conteúdo publicado pelos anunciantes (informações, imagens, etc.)."})]}),q.jsxs("ul",{children:["6. Penalidades por Descumprimento:",q.jsx("li",{children:"Anúncios que violarem estas regras, incluindo a divulgação de produtos não vendidos originalmente pela Dragon Computadores, serão removidos sem aviso prévio."}),q.jsx("li",{children:"Anunciantes que descumprirem as regras de forma reiterada poderão ter o acesso à plataforma suspenso ou bloqueado permanentemente."})]}),q.jsx("h2",{children:"7. Aceitação das Regras:"}),q.jsx("p",{children:"Ao utilizar a plataforma, o anunciante declara estar ciente e de acordo com todas as regras aqui estabelecidas, assumindo total responsabilidade pelo conteúdo de seus anúncios e pelas obrigações descritas."}),q.jsx("h2",{children:"8. Vigência e Alterações:"}),q.jsx("p",{children:"Estas regras entram em vigor a partir da data de publicação e podem ser alteradas a qualquer momento pela Dragon Computadores, com aviso prévio aos usuários."}),q.jsx("h2",{children:"Revenda Oficial – Venda seu Computador Usado!"}),q.jsx("p",{children:"Se você comprou um computador na Dragon Computadores e deseja revendê-lo, agora ficou mais fácil! Criamos um espaço exclusivo para nossos clientes anunciarem seus equipamentos usados diretamente em nosso site."}),q.jsx("h2",{children:"Como funciona?"}),q.jsx("p",{children:"1 Você cadastra seu computador para revenda."}),q.jsx("p",{children:"2 Nós anunciamos para milhares de compradores em potencial."}),q.jsxs("p",{children:["3 Quando a venda for concluída,"," ",q.jsx("span",{style:{fontWeight:"bold"},children:"cobramos uma taxa de 20% sobre o valor final do anúncio."})]}),q.jsx("h2",{children:"Termo de Reconhecimento"}),q.jsxs("p",{children:["Ao cadastrar seu computador para revenda, você reconhece e concorda que",q.jsx("span",{style:{fontWeight:"bold"},children:"20% do valor total da venda serão descontados automaticamente"})," ","como taxa de serviço. Esse valor cobre os custos de divulgação, intermediação e suporte durante a negociação."]}),q.jsx("h2",{children:"Quer revender seu computador Dragon? Anuncie agora!"}),q.jsxs("div",{className:Lw.acceptTerms,children:[q.jsx("input",{type:"checkbox",id:"acceptTerms",name:"acceptTerms",checked:n,onChange:a}),q.jsx("label",{htmlFor:"acceptTerms",style:{fontWeight:"bold"},children:"Eu aceito os termos de uso para publicar o meu computador na vitrine da Dragon Computadores"})]})]})},sS=({children:n})=>{const[e,t]=Qe.useState({}),[r,o]=Qe.useState(""),[a,u]=Qe.useState("");return q.jsx(fi.Provider,{value:{currentCustomer:e,setCurrentCustomer:t,cpf:r,setCpf:o,setLogin:u,login:a},children:n})};sS.propTypes={children:Ge.node.isRequired};const t4=()=>q.jsx(sS,{children:q.jsxs(PI,{basename:"/dragon.io",children:[q.jsx(dM,{}),q.jsxs(sI,{children:[q.jsx(Ui,{path:"/",element:q.jsx(KE,{})}),q.jsx(Ui,{path:"/form",element:q.jsx(Nw,{})}),q.jsx(Ui,{path:"/form/:id",element:q.jsx(Nw,{})}),q.jsx(Ui,{path:"/singleProduct/:id",element:q.jsx(KM,{})}),q.jsx(Ui,{path:"/register",element:q.jsx(YM,{})}),q.jsx(Ui,{path:"/user-rules",element:q.jsx(e4,{})}),q.jsx(Ui,{path:"*",element:q.jsx(KE,{})})]})]})});gA.createRoot(document.getElementById("root")).render(q.jsx(de.StrictMode,{children:q.jsx(t4,{})}));
