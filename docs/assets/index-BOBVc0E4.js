(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var td={exports:{}},tl={},nd={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function sA(){if(Yv)return Xe;Yv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function d(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,T={};function _(j,q,K){this.props=j,this.context=q,this.refs=T,this.updater=K||g}_.prototype.isReactComponent={},_.prototype.setState=function(j,q){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,q,"setState")},_.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function w(){}w.prototype=_.prototype;function S(j,q,K){this.props=j,this.context=q,this.refs=T,this.updater=K||g}var k=S.prototype=new w;k.constructor=S,b(k,_.prototype),k.isPureReactComponent=!0;var E=Array.isArray,L=Object.prototype.hasOwnProperty,U={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function R(j,q,K){var ne,ee={},$=null,J=null;if(q!=null)for(ne in q.ref!==void 0&&(J=q.ref),q.key!==void 0&&($=""+q.key),q)L.call(q,ne)&&!P.hasOwnProperty(ne)&&(ee[ne]=q[ne]);var oe=arguments.length-2;if(oe===1)ee.children=K;else if(1<oe){for(var se=Array(oe),pe=0;pe<oe;pe++)se[pe]=arguments[pe+2];ee.children=se}if(j&&j.defaultProps)for(ne in oe=j.defaultProps,oe)ee[ne]===void 0&&(ee[ne]=oe[ne]);return{$$typeof:n,type:j,key:$,ref:J,props:ee,_owner:U.current}}function M(j,q){return{$$typeof:n,type:j.type,key:q,ref:j.ref,props:j.props,_owner:j._owner}}function x(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function I(j){var q={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(K){return q[K]})}var D=/\/+/g;function N(j,q){return typeof j=="object"&&j!==null&&j.key!=null?I(""+j.key):q.toString(36)}function H(j,q,K,ne,ee){var $=typeof j;($==="undefined"||$==="boolean")&&(j=null);var J=!1;if(j===null)J=!0;else switch($){case"string":case"number":J=!0;break;case"object":switch(j.$$typeof){case n:case e:J=!0}}if(J)return J=j,ee=ee(J),j=ne===""?"."+N(J,0):ne,E(ee)?(K="",j!=null&&(K=j.replace(D,"$&/")+"/"),H(ee,q,K,"",function(pe){return pe})):ee!=null&&(x(ee)&&(ee=M(ee,K+(!ee.key||J&&J.key===ee.key?"":(""+ee.key).replace(D,"$&/")+"/")+j)),q.push(ee)),1;if(J=0,ne=ne===""?".":ne+":",E(j))for(var oe=0;oe<j.length;oe++){$=j[oe];var se=ne+N($,oe);J+=H($,q,K,se,ee)}else if(se=d(j),typeof se=="function")for(j=se.call(j),oe=0;!($=j.next()).done;)$=$.value,se=ne+N($,oe++),J+=H($,q,K,se,ee);else if($==="object")throw q=String(j),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return J}function G(j,q,K){if(j==null)return j;var ne=[],ee=0;return H(j,ne,"","",function($){return q.call(K,$,ee++)}),ne}function X(j){if(j._status===-1){var q=j._result;q=q(),q.then(function(K){(j._status===0||j._status===-1)&&(j._status=1,j._result=K)},function(K){(j._status===0||j._status===-1)&&(j._status=2,j._result=K)}),j._status===-1&&(j._status=0,j._result=q)}if(j._status===1)return j._result.default;throw j._result}var te={current:null},ie={transition:null},Y={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:ie,ReactCurrentOwner:U};function W(){throw Error("act(...) is not supported in production builds of React.")}return Xe.Children={map:G,forEach:function(j,q,K){G(j,function(){q.apply(this,arguments)},K)},count:function(j){var q=0;return G(j,function(){q++}),q},toArray:function(j){return G(j,function(q){return q})||[]},only:function(j){if(!x(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Xe.Component=_,Xe.Fragment=t,Xe.Profiler=o,Xe.PureComponent=S,Xe.StrictMode=r,Xe.Suspense=h,Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Xe.act=W,Xe.cloneElement=function(j,q,K){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ne=b({},j.props),ee=j.key,$=j.ref,J=j._owner;if(q!=null){if(q.ref!==void 0&&($=q.ref,J=U.current),q.key!==void 0&&(ee=""+q.key),j.type&&j.type.defaultProps)var oe=j.type.defaultProps;for(se in q)L.call(q,se)&&!P.hasOwnProperty(se)&&(ne[se]=q[se]===void 0&&oe!==void 0?oe[se]:q[se])}var se=arguments.length-2;if(se===1)ne.children=K;else if(1<se){oe=Array(se);for(var pe=0;pe<se;pe++)oe[pe]=arguments[pe+2];ne.children=oe}return{$$typeof:n,type:j.type,key:ee,ref:$,props:ne,_owner:J}},Xe.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},Xe.createElement=R,Xe.createFactory=function(j){var q=R.bind(null,j);return q.type=j,q},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(j){return{$$typeof:f,render:j}},Xe.isValidElement=x,Xe.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:X}},Xe.memo=function(j,q){return{$$typeof:m,type:j,compare:q===void 0?null:q}},Xe.startTransition=function(j){var q=ie.transition;ie.transition={};try{j()}finally{ie.transition=q}},Xe.unstable_act=W,Xe.useCallback=function(j,q){return te.current.useCallback(j,q)},Xe.useContext=function(j){return te.current.useContext(j)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(j){return te.current.useDeferredValue(j)},Xe.useEffect=function(j,q){return te.current.useEffect(j,q)},Xe.useId=function(){return te.current.useId()},Xe.useImperativeHandle=function(j,q,K){return te.current.useImperativeHandle(j,q,K)},Xe.useInsertionEffect=function(j,q){return te.current.useInsertionEffect(j,q)},Xe.useLayoutEffect=function(j,q){return te.current.useLayoutEffect(j,q)},Xe.useMemo=function(j,q){return te.current.useMemo(j,q)},Xe.useReducer=function(j,q,K){return te.current.useReducer(j,q,K)},Xe.useRef=function(j){return te.current.useRef(j)},Xe.useState=function(j){return te.current.useState(j)},Xe.useSyncExternalStore=function(j,q,K){return te.current.useSyncExternalStore(j,q,K)},Xe.useTransition=function(){return te.current.useTransition()},Xe.version="18.3.1",Xe}var Jv;function Xc(){return Jv||(Jv=1,nd.exports=sA()),nd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function aA(){if(Zv)return tl;Zv=1;var n=Xc(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,m){var v,y={},d=null,g=null;m!==void 0&&(d=""+m),h.key!==void 0&&(d=""+h.key),h.ref!==void 0&&(g=h.ref);for(v in h)r.call(h,v)&&!a.hasOwnProperty(v)&&(y[v]=h[v]);if(f&&f.defaultProps)for(v in h=f.defaultProps,h)y[v]===void 0&&(y[v]=h[v]);return{$$typeof:e,type:f,key:d,ref:g,props:y,_owner:o.current}}return tl.Fragment=t,tl.jsx=u,tl.jsxs=u,tl}var e_;function lA(){return e_||(e_=1,td.exports=aA()),td.exports}var z=lA(),de=Xc();const Ge=Lm(de);var oc={},rd={exports:{}},Sn={},id={exports:{}},od={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function uA(){return t_||(t_=1,function(n){function e(ie,Y){var W=ie.length;ie.push(Y);e:for(;0<W;){var j=W-1>>>1,q=ie[j];if(0<o(q,Y))ie[j]=Y,ie[W]=q,W=j;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var Y=ie[0],W=ie.pop();if(W!==Y){ie[0]=W;e:for(var j=0,q=ie.length,K=q>>>1;j<K;){var ne=2*(j+1)-1,ee=ie[ne],$=ne+1,J=ie[$];if(0>o(ee,W))$<q&&0>o(J,ee)?(ie[j]=J,ie[$]=W,j=$):(ie[j]=ee,ie[ne]=W,j=ne);else if($<q&&0>o(J,W))ie[j]=J,ie[$]=W,j=$;else break e}}return Y}function o(ie,Y){var W=ie.sortIndex-Y.sortIndex;return W!==0?W:ie.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var h=[],m=[],v=1,y=null,d=3,g=!1,b=!1,T=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(ie){for(var Y=t(m);Y!==null;){if(Y.callback===null)r(m);else if(Y.startTime<=ie)r(m),Y.sortIndex=Y.expirationTime,e(h,Y);else break;Y=t(m)}}function E(ie){if(T=!1,k(ie),!b)if(t(h)!==null)b=!0,X(L);else{var Y=t(m);Y!==null&&te(E,Y.startTime-ie)}}function L(ie,Y){b=!1,T&&(T=!1,w(R),R=-1),g=!0;var W=d;try{for(k(Y),y=t(h);y!==null&&(!(y.expirationTime>Y)||ie&&!I());){var j=y.callback;if(typeof j=="function"){y.callback=null,d=y.priorityLevel;var q=j(y.expirationTime<=Y);Y=n.unstable_now(),typeof q=="function"?y.callback=q:y===t(h)&&r(h),k(Y)}else r(h);y=t(h)}if(y!==null)var K=!0;else{var ne=t(m);ne!==null&&te(E,ne.startTime-Y),K=!1}return K}finally{y=null,d=W,g=!1}}var U=!1,P=null,R=-1,M=5,x=-1;function I(){return!(n.unstable_now()-x<M)}function D(){if(P!==null){var ie=n.unstable_now();x=ie;var Y=!0;try{Y=P(!0,ie)}finally{Y?N():(U=!1,P=null)}}else U=!1}var N;if(typeof S=="function")N=function(){S(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,G=H.port2;H.port1.onmessage=D,N=function(){G.postMessage(null)}}else N=function(){_(D,0)};function X(ie){P=ie,U||(U=!0,N())}function te(ie,Y){R=_(function(){ie(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){b||g||(b=!0,X(L))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ie){switch(d){case 1:case 2:case 3:var Y=3;break;default:Y=d}var W=d;d=Y;try{return ie()}finally{d=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,Y){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var W=d;d=ie;try{return Y()}finally{d=W}},n.unstable_scheduleCallback=function(ie,Y,W){var j=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?j+W:j):W=j,ie){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=W+q,ie={id:v++,callback:Y,priorityLevel:ie,startTime:W,expirationTime:q,sortIndex:-1},W>j?(ie.sortIndex=W,e(m,ie),t(h)===null&&ie===t(m)&&(T?(w(R),R=-1):T=!0,te(E,W-j))):(ie.sortIndex=q,e(h,ie),b||g||(b=!0,X(L))),ie},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(ie){var Y=d;return function(){var W=d;d=Y;try{return ie.apply(this,arguments)}finally{d=W}}}}(od)),od}var n_;function cA(){return n_||(n_=1,id.exports=uA()),id.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function fA(){if(r_)return Sn;r_=1;var n=Xc(),e=cA();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function d(i){return h.call(y,i)?!0:h.call(v,i)?!1:m.test(i)?y[i]=!0:(v[i]=!0,!1)}function g(i,s,l,p){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return p?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b(i,s,l,p){if(s===null||typeof s>"u"||g(i,s,l,p))return!0;if(p)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function T(i,s,l,p,A,O,F){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=p,this.attributeNamespace=A,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=O,this.removeEmptyString=F}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){_[i]=new T(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];_[s]=new T(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){_[i]=new T(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){_[i]=new T(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){_[i]=new T(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){_[i]=new T(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){_[i]=new T(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){_[i]=new T(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){_[i]=new T(i,5,!1,i.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function S(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(w,S);_[s]=new T(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(w,S);_[s]=new T(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(w,S);_[s]=new T(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){_[i]=new T(i,1,!1,i.toLowerCase(),null,!1,!1)}),_.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){_[i]=new T(i,1,!1,i.toLowerCase(),null,!0,!0)});function k(i,s,l,p){var A=_.hasOwnProperty(s)?_[s]:null;(A!==null?A.type!==0:p||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(b(s,l,A,p)&&(l=null),p||A===null?d(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):A.mustUseProperty?i[A.propertyName]=l===null?A.type===3?!1:"":l:(s=A.attributeName,p=A.attributeNamespace,l===null?i.removeAttribute(s):(A=A.type,l=A===3||A===4&&l===!0?"":""+l,p?i.setAttributeNS(p,s,l):i.setAttribute(s,l))))}var E=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),U=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),I=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),ie=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=ie&&i[ie]||i["@@iterator"],typeof i=="function"?i:null)}var W=Object.assign,j;function q(i){if(j===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);j=s&&s[1]||""}return`
`+j+i}var K=!1;function ne(i,s){if(!i||K)return"";K=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(ce){var p=ce}Reflect.construct(i,[],s)}else{try{s.call()}catch(ce){p=ce}i.call(s.prototype)}else{try{throw Error()}catch(ce){p=ce}i()}}catch(ce){if(ce&&p&&typeof ce.stack=="string"){for(var A=ce.stack.split(`
`),O=p.stack.split(`
`),F=A.length-1,Q=O.length-1;1<=F&&0<=Q&&A[F]!==O[Q];)Q--;for(;1<=F&&0<=Q;F--,Q--)if(A[F]!==O[Q]){if(F!==1||Q!==1)do if(F--,Q--,0>Q||A[F]!==O[Q]){var Z=`
`+A[F].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=F&&0<=Q);break}}}finally{K=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?q(i):""}function ee(i){switch(i.tag){case 5:return q(i.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return i=ne(i.type,!1),i;case 11:return i=ne(i.type.render,!1),i;case 1:return i=ne(i.type,!0),i;default:return""}}function $(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case U:return"Portal";case M:return"Profiler";case R:return"StrictMode";case N:return"Suspense";case H:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case I:return(i.displayName||"Context")+".Consumer";case x:return(i._context.displayName||"Context")+".Provider";case D:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case G:return s=i.displayName||null,s!==null?s:$(i.type)||"Memo";case X:s=i._payload,i=i._init;try{return $(i(s))}catch{}}return null}function J(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function oe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function se(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function pe(i){var s=se(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),p=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var A=l.get,O=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return A.call(this)},set:function(F){p=""+F,O.call(this,F)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return p},setValue:function(F){p=""+F},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ie(i){i._valueTracker||(i._valueTracker=pe(i))}function De(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),p="";return i&&(p=se(i)?i.checked?"true":"false":i.value),i=p,i!==l?(s.setValue(i),!0):!1}function Ve(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function We(i,s){var l=s.checked;return W({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Je(i,s){var l=s.defaultValue==null?"":s.defaultValue,p=s.checked!=null?s.checked:s.defaultChecked;l=oe(s.value!=null?s.value:l),i._wrapperState={initialChecked:p,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function xt(i,s){s=s.checked,s!=null&&k(i,"checked",s,!1)}function gt(i,s){xt(i,s);var l=oe(s.value),p=s.type;if(l!=null)p==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?me(i,s.type,l):s.hasOwnProperty("defaultValue")&&me(i,s.type,oe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function he(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var p=s.type;if(!(p!=="submit"&&p!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function me(i,s,l){(s!=="number"||Ve(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var be=Array.isArray;function Ae(i,s,l,p){if(i=i.options,s){s={};for(var A=0;A<l.length;A++)s["$"+l[A]]=!0;for(l=0;l<i.length;l++)A=s.hasOwnProperty("$"+i[l].value),i[l].selected!==A&&(i[l].selected=A),A&&p&&(i[l].defaultSelected=!0)}else{for(l=""+oe(l),s=null,A=0;A<i.length;A++){if(i[A].value===l){i[A].selected=!0,p&&(i[A].defaultSelected=!0);return}s!==null||i[A].disabled||(s=i[A])}s!==null&&(s.selected=!0)}}function ye(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return W({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Be(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(be(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:oe(l)}}function ze(i,s){var l=oe(s.value),p=oe(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),p!=null&&(i.defaultValue=""+p)}function Ke(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function at(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ct(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?at(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var ot,so=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,p,A){MSApp.execUnsafeLocalFunction(function(){return i(s,l,p,A)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(ot=ot||document.createElement("div"),ot.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ot.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ft(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var nn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ao=["Webkit","ms","Moz","O"];Object.keys(nn).forEach(function(i){ao.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),nn[s]=nn[i]})});function ha(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||nn.hasOwnProperty(i)&&nn[i]?(""+s).trim():s+"px"}function da(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var p=l.indexOf("--")===0,A=ha(l,s[l],p);l==="float"&&(l="cssFloat"),p?i.setProperty(l,A):i[l]=A}}var pa=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ma(i,s){if(s){if(pa[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ga(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lo=null;function Qo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Xo=null,Vn=null,hr=null;function Yo(i){if(i=Fa(i)){if(typeof Xo!="function")throw Error(t(280));var s=i.stateNode;s&&(s=_u(s),Xo(i.stateNode,i.type,s))}}function dr(i){Vn?hr?hr.push(i):hr=[i]:Vn=i}function ya(){if(Vn){var i=Vn,s=hr;if(hr=Vn=null,Yo(i),s)for(i=0;i<s.length;i++)Yo(s[i])}}function uo(i,s){return i(s)}function va(){}var Vr=!1;function _a(i,s,l){if(Vr)return i(s,l);Vr=!0;try{return uo(i,s,l)}finally{Vr=!1,(Vn!==null||hr!==null)&&(va(),ya())}}function Ct(i,s){var l=i.stateNode;if(l===null)return null;var p=_u(l);if(p===null)return null;l=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Jo=!1;if(f)try{var Gn={};Object.defineProperty(Gn,"passive",{get:function(){Jo=!0}}),window.addEventListener("test",Gn,Gn),window.removeEventListener("test",Gn,Gn)}catch{Jo=!1}function co(i,s,l,p,A,O,F,Q,Z){var ce=Array.prototype.slice.call(arguments,3);try{s.apply(l,ce)}catch(_e){this.onError(_e)}}var fo=!1,Zo=null,Qn=!1,Ea=null,Cf={onError:function(i){fo=!0,Zo=i}};function es(i,s,l,p,A,O,F,Q,Z){fo=!1,Zo=null,co.apply(Cf,arguments)}function $l(i,s,l,p,A,O,F,Q,Z){if(es.apply(this,arguments),fo){if(fo){var ce=Zo;fo=!1,Zo=null}else throw Error(t(198));Qn||(Qn=!0,Ea=ce)}}function Xn(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function ho(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Yn(i){if(Xn(i)!==i)throw Error(t(188))}function Hl(i){var s=i.alternate;if(!s){if(s=Xn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,p=s;;){var A=l.return;if(A===null)break;var O=A.alternate;if(O===null){if(p=A.return,p!==null){l=p;continue}break}if(A.child===O.child){for(O=A.child;O;){if(O===l)return Yn(A),i;if(O===p)return Yn(A),s;O=O.sibling}throw Error(t(188))}if(l.return!==p.return)l=A,p=O;else{for(var F=!1,Q=A.child;Q;){if(Q===l){F=!0,l=A,p=O;break}if(Q===p){F=!0,p=A,l=O;break}Q=Q.sibling}if(!F){for(Q=O.child;Q;){if(Q===l){F=!0,l=O,p=A;break}if(Q===p){F=!0,p=O,l=A;break}Q=Q.sibling}if(!F)throw Error(t(189))}}if(l.alternate!==p)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function wa(i){return i=Hl(i),i!==null?ts(i):null}function ts(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=ts(i);if(s!==null)return s;i=i.sibling}return null}var ns=e.unstable_scheduleCallback,Ta=e.unstable_cancelCallback,Wl=e.unstable_shouldYield,Pf=e.unstable_requestPaint,pt=e.unstable_now,Kl=e.unstable_getCurrentPriorityLevel,po=e.unstable_ImmediatePriority,di=e.unstable_UserBlockingPriority,Un=e.unstable_NormalPriority,ba=e.unstable_LowPriority,Gl=e.unstable_IdlePriority,mo=null,kn=null;function Ql(i){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(mo,i,void 0,(i.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:Yl,Sa=Math.log,Xl=Math.LN2;function Yl(i){return i>>>=0,i===0?32:31-(Sa(i)/Xl|0)|0}var rs=64,is=4194304;function pi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function go(i,s){var l=i.pendingLanes;if(l===0)return 0;var p=0,A=i.suspendedLanes,O=i.pingedLanes,F=l&268435455;if(F!==0){var Q=F&~A;Q!==0?p=pi(Q):(O&=F,O!==0&&(p=pi(O)))}else F=l&~A,F!==0?p=pi(F):O!==0&&(p=pi(O));if(p===0)return 0;if(s!==0&&s!==p&&!(s&A)&&(A=p&-p,O=s&-s,A>=O||A===16&&(O&4194240)!==0))return s;if(p&4&&(p|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=p;0<s;)l=31-hn(s),A=1<<l,p|=i[l],s&=~A;return p}function Of(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ur(i,s){for(var l=i.suspendedLanes,p=i.pingedLanes,A=i.expirationTimes,O=i.pendingLanes;0<O;){var F=31-hn(O),Q=1<<F,Z=A[F];Z===-1?(!(Q&l)||Q&p)&&(A[F]=Of(Q,s)):Z<=s&&(i.expiredLanes|=Q),O&=~Q}}function Cn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yo(){var i=rs;return rs<<=1,!(rs&4194240)&&(rs=64),i}function mi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function gi(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-hn(s),i[s]=l}function dt(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<l;){var A=31-hn(l),O=1<<A;s[A]=0,p[A]=-1,i[A]=-1,l&=~O}}function yi(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var p=31-hn(l),A=1<<p;A&s|i[p]&s&&(i[p]|=s),l&=~A}}var nt=0;function vi(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Jl,os,Zl,eu,tu,Aa=!1,pr=[],Qt=null,Jn=null,Zn=null,_i=new Map,Fn=new Map,mr=[],xf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nu(i,s){switch(i){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":_i.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fn.delete(s.pointerId)}}function yn(i,s,l,p,A,O){return i===null||i.nativeEvent!==O?(i={blockedOn:s,domEventName:l,eventSystemFlags:p,nativeEvent:O,targetContainers:[A]},s!==null&&(s=Fa(s),s!==null&&os(s)),i):(i.eventSystemFlags|=p,s=i.targetContainers,A!==null&&s.indexOf(A)===-1&&s.push(A),i)}function Nf(i,s,l,p,A){switch(s){case"focusin":return Qt=yn(Qt,i,s,l,p,A),!0;case"dragenter":return Jn=yn(Jn,i,s,l,p,A),!0;case"mouseover":return Zn=yn(Zn,i,s,l,p,A),!0;case"pointerover":var O=A.pointerId;return _i.set(O,yn(_i.get(O)||null,i,s,l,p,A)),!0;case"gotpointercapture":return O=A.pointerId,Fn.set(O,yn(Fn.get(O)||null,i,s,l,p,A)),!0}return!1}function ru(i){var s=To(i.target);if(s!==null){var l=Xn(s);if(l!==null){if(s=l.tag,s===13){if(s=ho(l),s!==null){i.blockedOn=s,tu(i.priority,function(){Zl(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Fr(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=ss(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var p=new l.constructor(l.type,l);lo=p,l.target.dispatchEvent(p),lo=null}else return s=Fa(l),s!==null&&os(s),i.blockedOn=l,!1;s.shift()}return!0}function vo(i,s,l){Fr(i)&&l.delete(s)}function iu(){Aa=!1,Qt!==null&&Fr(Qt)&&(Qt=null),Jn!==null&&Fr(Jn)&&(Jn=null),Zn!==null&&Fr(Zn)&&(Zn=null),_i.forEach(vo),Fn.forEach(vo)}function er(i,s){i.blockedOn===s&&(i.blockedOn=null,Aa||(Aa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,iu)))}function tr(i){function s(A){return er(A,i)}if(0<pr.length){er(pr[0],i);for(var l=1;l<pr.length;l++){var p=pr[l];p.blockedOn===i&&(p.blockedOn=null)}}for(Qt!==null&&er(Qt,i),Jn!==null&&er(Jn,i),Zn!==null&&er(Zn,i),_i.forEach(s),Fn.forEach(s),l=0;l<mr.length;l++)p=mr[l],p.blockedOn===i&&(p.blockedOn=null);for(;0<mr.length&&(l=mr[0],l.blockedOn===null);)ru(l),l.blockedOn===null&&mr.shift()}var qr=E.ReactCurrentBatchConfig,Ei=!0;function Et(i,s,l,p){var A=nt,O=qr.transition;qr.transition=null;try{nt=1,Ia(i,s,l,p)}finally{nt=A,qr.transition=O}}function Df(i,s,l,p){var A=nt,O=qr.transition;qr.transition=null;try{nt=4,Ia(i,s,l,p)}finally{nt=A,qr.transition=O}}function Ia(i,s,l,p){if(Ei){var A=ss(i,s,l,p);if(A===null)Hf(i,s,p,_o,l),nu(i,p);else if(Nf(A,i,s,l,p))p.stopPropagation();else if(nu(i,p),s&4&&-1<xf.indexOf(i)){for(;A!==null;){var O=Fa(A);if(O!==null&&Jl(O),O=ss(i,s,l,p),O===null&&Hf(i,s,p,_o,l),O===A)break;A=O}A!==null&&p.stopPropagation()}else Hf(i,s,p,null,l)}}var _o=null;function ss(i,s,l,p){if(_o=null,i=Qo(p),i=To(i),i!==null)if(s=Xn(i),s===null)i=null;else if(l=s.tag,l===13){if(i=ho(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return _o=i,null}function Ra(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kl()){case po:return 1;case di:return 4;case Un:case ba:return 16;case Gl:return 536870912;default:return 16}default:return 16}}var Pn=null,as=null,vn=null;function ka(){if(vn)return vn;var i,s=as,l=s.length,p,A="value"in Pn?Pn.value:Pn.textContent,O=A.length;for(i=0;i<l&&s[i]===A[i];i++);var F=l-i;for(p=1;p<=F&&s[l-p]===A[O-p];p++);return vn=A.slice(i,1<p?1-p:void 0)}function ls(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function gr(){return!0}function Ca(){return!1}function Xt(i){function s(l,p,A,O,F){this._reactName=l,this._targetInst=A,this.type=p,this.nativeEvent=O,this.target=F,this.currentTarget=null;for(var Q in i)i.hasOwnProperty(Q)&&(l=i[Q],this[Q]=l?l(O):O[Q]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?gr:Ca,this.isPropagationStopped=Ca,this}return W(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),s}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},us=Xt(nr),yr=W({},nr,{view:0,detail:0}),Lf=Xt(yr),cs,Br,wi,Eo=W({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==wi&&(wi&&i.type==="mousemove"?(cs=i.screenX-wi.screenX,Br=i.screenY-wi.screenY):Br=cs=0,wi=i),cs)},movementY:function(i){return"movementY"in i?i.movementY:Br}}),fs=Xt(Eo),Pa=W({},Eo,{dataTransfer:0}),ou=Xt(Pa),hs=W({},yr,{relatedTarget:0}),ds=Xt(hs),su=W({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),zr=Xt(su),au=W({},nr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),lu=Xt(au),uu=W({},nr,{data:0}),Oa=Xt(uu),ps={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=cu[i])?!!s[i]:!1}function vr(){return fu}var c=W({},yr,{key:function(i){if(i.key){var s=ps[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ls(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?dn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(i){return i.type==="keypress"?ls(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ls(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),C=Xt(c),V=W({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B=Xt(V),ae=W({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),fe=Xt(ae),Se=W({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ht=Xt(Se),Mt=W({},Eo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),rt=Xt(Mt),Bt=[9,13,27,32],Nt=f&&"CompositionEvent"in window,qn=null;f&&"documentMode"in document&&(qn=document.documentMode);var On=f&&"TextEvent"in window&&!qn,wo=f&&(!Nt||qn&&8<qn&&11>=qn),ms=" ",Hg=!1;function Wg(i,s){switch(i){case"keyup":return Bt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var gs=!1;function iS(i,s){switch(i){case"compositionend":return Kg(s);case"keypress":return s.which!==32?null:(Hg=!0,ms);case"textInput":return i=s.data,i===ms&&Hg?null:i;default:return null}}function oS(i,s){if(gs)return i==="compositionend"||!Nt&&Wg(i,s)?(i=ka(),vn=as=Pn=null,gs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return wo&&s.locale!=="ko"?null:s.data;default:return null}}var sS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gg(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!sS[i.type]:s==="textarea"}function Qg(i,s,l,p){dr(p),s=gu(s,"onChange"),0<s.length&&(l=new us("onChange","change",null,l,p),i.push({event:l,listeners:s}))}var xa=null,Na=null;function aS(i){dy(i,0)}function hu(i){var s=ws(i);if(De(s))return i}function lS(i,s){if(i==="change")return s}var Xg=!1;if(f){var Mf;if(f){var jf="oninput"in document;if(!jf){var Yg=document.createElement("div");Yg.setAttribute("oninput","return;"),jf=typeof Yg.oninput=="function"}Mf=jf}else Mf=!1;Xg=Mf&&(!document.documentMode||9<document.documentMode)}function Jg(){xa&&(xa.detachEvent("onpropertychange",Zg),Na=xa=null)}function Zg(i){if(i.propertyName==="value"&&hu(Na)){var s=[];Qg(s,Na,i,Qo(i)),_a(aS,s)}}function uS(i,s,l){i==="focusin"?(Jg(),xa=s,Na=l,xa.attachEvent("onpropertychange",Zg)):i==="focusout"&&Jg()}function cS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return hu(Na)}function fS(i,s){if(i==="click")return hu(s)}function hS(i,s){if(i==="input"||i==="change")return hu(s)}function dS(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var rr=typeof Object.is=="function"?Object.is:dS;function Da(i,s){if(rr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),p=Object.keys(s);if(l.length!==p.length)return!1;for(p=0;p<l.length;p++){var A=l[p];if(!h.call(s,A)||!rr(i[A],s[A]))return!1}return!0}function ey(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ty(i,s){var l=ey(i);i=0;for(var p;l;){if(l.nodeType===3){if(p=i+l.textContent.length,i<=s&&p>=s)return{node:l,offset:s-i};i=p}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ey(l)}}function ny(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?ny(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function ry(){for(var i=window,s=Ve();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Ve(i.document)}return s}function Vf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function pS(i){var s=ry(),l=i.focusedElem,p=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&ny(l.ownerDocument.documentElement,l)){if(p!==null&&Vf(l)){if(s=p.start,i=p.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var A=l.textContent.length,O=Math.min(p.start,A);p=p.end===void 0?O:Math.min(p.end,A),!i.extend&&O>p&&(A=p,p=O,O=A),A=ty(l,O);var F=ty(l,p);A&&F&&(i.rangeCount!==1||i.anchorNode!==A.node||i.anchorOffset!==A.offset||i.focusNode!==F.node||i.focusOffset!==F.offset)&&(s=s.createRange(),s.setStart(A.node,A.offset),i.removeAllRanges(),O>p?(i.addRange(s),i.extend(F.node,F.offset)):(s.setEnd(F.node,F.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var mS=f&&"documentMode"in document&&11>=document.documentMode,ys=null,Uf=null,La=null,Ff=!1;function iy(i,s,l){var p=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ff||ys==null||ys!==Ve(p)||(p=ys,"selectionStart"in p&&Vf(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),La&&Da(La,p)||(La=p,p=gu(Uf,"onSelect"),0<p.length&&(s=new us("onSelect","select",null,s,l),i.push({event:s,listeners:p}),s.target=ys)))}function du(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var vs={animationend:du("Animation","AnimationEnd"),animationiteration:du("Animation","AnimationIteration"),animationstart:du("Animation","AnimationStart"),transitionend:du("Transition","TransitionEnd")},qf={},oy={};f&&(oy=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function pu(i){if(qf[i])return qf[i];if(!vs[i])return i;var s=vs[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in oy)return qf[i]=s[l];return i}var sy=pu("animationend"),ay=pu("animationiteration"),ly=pu("animationstart"),uy=pu("transitionend"),cy=new Map,fy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(i,s){cy.set(i,s),a(s,[i])}for(var Bf=0;Bf<fy.length;Bf++){var zf=fy[Bf],gS=zf.toLowerCase(),yS=zf[0].toUpperCase()+zf.slice(1);Ti(gS,"on"+yS)}Ti(sy,"onAnimationEnd"),Ti(ay,"onAnimationIteration"),Ti(ly,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(uy,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ma));function hy(i,s,l){var p=i.type||"unknown-event";i.currentTarget=l,$l(p,s,void 0,i),i.currentTarget=null}function dy(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var p=i[l],A=p.event;p=p.listeners;e:{var O=void 0;if(s)for(var F=p.length-1;0<=F;F--){var Q=p[F],Z=Q.instance,ce=Q.currentTarget;if(Q=Q.listener,Z!==O&&A.isPropagationStopped())break e;hy(A,Q,ce),O=Z}else for(F=0;F<p.length;F++){if(Q=p[F],Z=Q.instance,ce=Q.currentTarget,Q=Q.listener,Z!==O&&A.isPropagationStopped())break e;hy(A,Q,ce),O=Z}}}if(Qn)throw i=Ea,Qn=!1,Ea=null,i}function yt(i,s){var l=s[Yf];l===void 0&&(l=s[Yf]=new Set);var p=i+"__bubble";l.has(p)||(py(s,i,2,!1),l.add(p))}function $f(i,s,l){var p=0;s&&(p|=4),py(l,i,p,s)}var mu="_reactListening"+Math.random().toString(36).slice(2);function ja(i){if(!i[mu]){i[mu]=!0,r.forEach(function(l){l!=="selectionchange"&&(vS.has(l)||$f(l,!1,i),$f(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[mu]||(s[mu]=!0,$f("selectionchange",!1,s))}}function py(i,s,l,p){switch(Ra(s)){case 1:var A=Et;break;case 4:A=Df;break;default:A=Ia}l=A.bind(null,s,l,i),A=void 0,!Jo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(A=!0),p?A!==void 0?i.addEventListener(s,l,{capture:!0,passive:A}):i.addEventListener(s,l,!0):A!==void 0?i.addEventListener(s,l,{passive:A}):i.addEventListener(s,l,!1)}function Hf(i,s,l,p,A){var O=p;if(!(s&1)&&!(s&2)&&p!==null)e:for(;;){if(p===null)return;var F=p.tag;if(F===3||F===4){var Q=p.stateNode.containerInfo;if(Q===A||Q.nodeType===8&&Q.parentNode===A)break;if(F===4)for(F=p.return;F!==null;){var Z=F.tag;if((Z===3||Z===4)&&(Z=F.stateNode.containerInfo,Z===A||Z.nodeType===8&&Z.parentNode===A))return;F=F.return}for(;Q!==null;){if(F=To(Q),F===null)return;if(Z=F.tag,Z===5||Z===6){p=O=F;continue e}Q=Q.parentNode}}p=p.return}_a(function(){var ce=O,_e=Qo(l),we=[];e:{var ve=cy.get(i);if(ve!==void 0){var Re=us,Pe=i;switch(i){case"keypress":if(ls(l)===0)break e;case"keydown":case"keyup":Re=C;break;case"focusin":Pe="focus",Re=ds;break;case"focusout":Pe="blur",Re=ds;break;case"beforeblur":case"afterblur":Re=ds;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=fs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=fe;break;case sy:case ay:case ly:Re=zr;break;case uy:Re=ht;break;case"scroll":Re=Lf;break;case"wheel":Re=rt;break;case"copy":case"cut":case"paste":Re=lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=B}var Oe=(s&4)!==0,Pt=!Oe&&i==="scroll",le=Oe?ve!==null?ve+"Capture":null:ve;Oe=[];for(var re=ce,ue;re!==null;){ue=re;var Te=ue.stateNode;if(ue.tag===5&&Te!==null&&(ue=Te,le!==null&&(Te=Ct(re,le),Te!=null&&Oe.push(Va(re,Te,ue)))),Pt)break;re=re.return}0<Oe.length&&(ve=new Re(ve,Pe,null,l,_e),we.push({event:ve,listeners:Oe}))}}if(!(s&7)){e:{if(ve=i==="mouseover"||i==="pointerover",Re=i==="mouseout"||i==="pointerout",ve&&l!==lo&&(Pe=l.relatedTarget||l.fromElement)&&(To(Pe)||Pe[$r]))break e;if((Re||ve)&&(ve=_e.window===_e?_e:(ve=_e.ownerDocument)?ve.defaultView||ve.parentWindow:window,Re?(Pe=l.relatedTarget||l.toElement,Re=ce,Pe=Pe?To(Pe):null,Pe!==null&&(Pt=Xn(Pe),Pe!==Pt||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(Re=null,Pe=ce),Re!==Pe)){if(Oe=fs,Te="onMouseLeave",le="onMouseEnter",re="mouse",(i==="pointerout"||i==="pointerover")&&(Oe=B,Te="onPointerLeave",le="onPointerEnter",re="pointer"),Pt=Re==null?ve:ws(Re),ue=Pe==null?ve:ws(Pe),ve=new Oe(Te,re+"leave",Re,l,_e),ve.target=Pt,ve.relatedTarget=ue,Te=null,To(_e)===ce&&(Oe=new Oe(le,re+"enter",Pe,l,_e),Oe.target=ue,Oe.relatedTarget=Pt,Te=Oe),Pt=Te,Re&&Pe)t:{for(Oe=Re,le=Pe,re=0,ue=Oe;ue;ue=_s(ue))re++;for(ue=0,Te=le;Te;Te=_s(Te))ue++;for(;0<re-ue;)Oe=_s(Oe),re--;for(;0<ue-re;)le=_s(le),ue--;for(;re--;){if(Oe===le||le!==null&&Oe===le.alternate)break t;Oe=_s(Oe),le=_s(le)}Oe=null}else Oe=null;Re!==null&&my(we,ve,Re,Oe,!1),Pe!==null&&Pt!==null&&my(we,Pt,Pe,Oe,!0)}}e:{if(ve=ce?ws(ce):window,Re=ve.nodeName&&ve.nodeName.toLowerCase(),Re==="select"||Re==="input"&&ve.type==="file")var xe=lS;else if(Gg(ve))if(Xg)xe=hS;else{xe=cS;var Le=uS}else(Re=ve.nodeName)&&Re.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(xe=fS);if(xe&&(xe=xe(i,ce))){Qg(we,xe,l,_e);break e}Le&&Le(i,ve,ce),i==="focusout"&&(Le=ve._wrapperState)&&Le.controlled&&ve.type==="number"&&me(ve,"number",ve.value)}switch(Le=ce?ws(ce):window,i){case"focusin":(Gg(Le)||Le.contentEditable==="true")&&(ys=Le,Uf=ce,La=null);break;case"focusout":La=Uf=ys=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,iy(we,l,_e);break;case"selectionchange":if(mS)break;case"keydown":case"keyup":iy(we,l,_e)}var Me;if(Nt)e:{switch(i){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else gs?Wg(i,l)&&(Fe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Fe="onCompositionStart");Fe&&(wo&&l.locale!=="ko"&&(gs||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&gs&&(Me=ka()):(Pn=_e,as="value"in Pn?Pn.value:Pn.textContent,gs=!0)),Le=gu(ce,Fe),0<Le.length&&(Fe=new Oa(Fe,i,null,l,_e),we.push({event:Fe,listeners:Le}),Me?Fe.data=Me:(Me=Kg(l),Me!==null&&(Fe.data=Me)))),(Me=On?iS(i,l):oS(i,l))&&(ce=gu(ce,"onBeforeInput"),0<ce.length&&(_e=new Oa("onBeforeInput","beforeinput",null,l,_e),we.push({event:_e,listeners:ce}),_e.data=Me))}dy(we,s)})}function Va(i,s,l){return{instance:i,listener:s,currentTarget:l}}function gu(i,s){for(var l=s+"Capture",p=[];i!==null;){var A=i,O=A.stateNode;A.tag===5&&O!==null&&(A=O,O=Ct(i,l),O!=null&&p.unshift(Va(i,O,A)),O=Ct(i,s),O!=null&&p.push(Va(i,O,A))),i=i.return}return p}function _s(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function my(i,s,l,p,A){for(var O=s._reactName,F=[];l!==null&&l!==p;){var Q=l,Z=Q.alternate,ce=Q.stateNode;if(Z!==null&&Z===p)break;Q.tag===5&&ce!==null&&(Q=ce,A?(Z=Ct(l,O),Z!=null&&F.unshift(Va(l,Z,Q))):A||(Z=Ct(l,O),Z!=null&&F.push(Va(l,Z,Q)))),l=l.return}F.length!==0&&i.push({event:s,listeners:F})}var _S=/\r\n?/g,ES=/\u0000|\uFFFD/g;function gy(i){return(typeof i=="string"?i:""+i).replace(_S,`
`).replace(ES,"")}function yu(i,s,l){if(s=gy(s),gy(i)!==s&&l)throw Error(t(425))}function vu(){}var Wf=null,Kf=null;function Gf(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Qf=typeof setTimeout=="function"?setTimeout:void 0,wS=typeof clearTimeout=="function"?clearTimeout:void 0,yy=typeof Promise=="function"?Promise:void 0,TS=typeof queueMicrotask=="function"?queueMicrotask:typeof yy<"u"?function(i){return yy.resolve(null).then(i).catch(bS)}:Qf;function bS(i){setTimeout(function(){throw i})}function Xf(i,s){var l=s,p=0;do{var A=l.nextSibling;if(i.removeChild(l),A&&A.nodeType===8)if(l=A.data,l==="/$"){if(p===0){i.removeChild(A),tr(s);return}p--}else l!=="$"&&l!=="$?"&&l!=="$!"||p++;l=A}while(l);tr(s)}function bi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function vy(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var Es=Math.random().toString(36).slice(2),_r="__reactFiber$"+Es,Ua="__reactProps$"+Es,$r="__reactContainer$"+Es,Yf="__reactEvents$"+Es,SS="__reactListeners$"+Es,AS="__reactHandles$"+Es;function To(i){var s=i[_r];if(s)return s;for(var l=i.parentNode;l;){if(s=l[$r]||l[_r]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=vy(i);i!==null;){if(l=i[_r])return l;i=vy(i)}return s}i=l,l=i.parentNode}return null}function Fa(i){return i=i[_r]||i[$r],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ws(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function _u(i){return i[Ua]||null}var Jf=[],Ts=-1;function Si(i){return{current:i}}function vt(i){0>Ts||(i.current=Jf[Ts],Jf[Ts]=null,Ts--)}function mt(i,s){Ts++,Jf[Ts]=i.current,i.current=s}var Ai={},rn=Si(Ai),_n=Si(!1),bo=Ai;function bs(i,s){var l=i.type.contextTypes;if(!l)return Ai;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===s)return p.__reactInternalMemoizedMaskedChildContext;var A={},O;for(O in l)A[O]=s[O];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=A),A}function En(i){return i=i.childContextTypes,i!=null}function Eu(){vt(_n),vt(rn)}function _y(i,s,l){if(rn.current!==Ai)throw Error(t(168));mt(rn,s),mt(_n,l)}function Ey(i,s,l){var p=i.stateNode;if(s=s.childContextTypes,typeof p.getChildContext!="function")return l;p=p.getChildContext();for(var A in p)if(!(A in s))throw Error(t(108,J(i)||"Unknown",A));return W({},l,p)}function wu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ai,bo=rn.current,mt(rn,i),mt(_n,_n.current),!0}function wy(i,s,l){var p=i.stateNode;if(!p)throw Error(t(169));l?(i=Ey(i,s,bo),p.__reactInternalMemoizedMergedChildContext=i,vt(_n),vt(rn),mt(rn,i)):vt(_n),mt(_n,l)}var Hr=null,Tu=!1,Zf=!1;function Ty(i){Hr===null?Hr=[i]:Hr.push(i)}function IS(i){Tu=!0,Ty(i)}function Ii(){if(!Zf&&Hr!==null){Zf=!0;var i=0,s=nt;try{var l=Hr;for(nt=1;i<l.length;i++){var p=l[i];do p=p(!0);while(p!==null)}Hr=null,Tu=!1}catch(A){throw Hr!==null&&(Hr=Hr.slice(i+1)),ns(po,Ii),A}finally{nt=s,Zf=!1}}return null}var Ss=[],As=0,bu=null,Su=0,Bn=[],zn=0,So=null,Wr=1,Kr="";function Ao(i,s){Ss[As++]=Su,Ss[As++]=bu,bu=i,Su=s}function by(i,s,l){Bn[zn++]=Wr,Bn[zn++]=Kr,Bn[zn++]=So,So=i;var p=Wr;i=Kr;var A=32-hn(p)-1;p&=~(1<<A),l+=1;var O=32-hn(s)+A;if(30<O){var F=A-A%5;O=(p&(1<<F)-1).toString(32),p>>=F,A-=F,Wr=1<<32-hn(s)+A|l<<A|p,Kr=O+i}else Wr=1<<O|l<<A|p,Kr=i}function eh(i){i.return!==null&&(Ao(i,1),by(i,1,0))}function th(i){for(;i===bu;)bu=Ss[--As],Ss[As]=null,Su=Ss[--As],Ss[As]=null;for(;i===So;)So=Bn[--zn],Bn[zn]=null,Kr=Bn[--zn],Bn[zn]=null,Wr=Bn[--zn],Bn[zn]=null}var xn=null,Nn=null,wt=!1,ir=null;function Sy(i,s){var l=Kn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function Ay(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,xn=i,Nn=bi(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,xn=i,Nn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=So!==null?{id:Wr,overflow:Kr}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Kn(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,xn=i,Nn=null,!0):!1;default:return!1}}function nh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function rh(i){if(wt){var s=Nn;if(s){var l=s;if(!Ay(i,s)){if(nh(i))throw Error(t(418));s=bi(l.nextSibling);var p=xn;s&&Ay(i,s)?Sy(p,l):(i.flags=i.flags&-4097|2,wt=!1,xn=i)}}else{if(nh(i))throw Error(t(418));i.flags=i.flags&-4097|2,wt=!1,xn=i}}}function Iy(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xn=i}function Au(i){if(i!==xn)return!1;if(!wt)return Iy(i),wt=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Gf(i.type,i.memoizedProps)),s&&(s=Nn)){if(nh(i))throw Ry(),Error(t(418));for(;s;)Sy(i,s),s=bi(s.nextSibling)}if(Iy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){Nn=bi(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}Nn=null}}else Nn=xn?bi(i.stateNode.nextSibling):null;return!0}function Ry(){for(var i=Nn;i;)i=bi(i.nextSibling)}function Is(){Nn=xn=null,wt=!1}function ih(i){ir===null?ir=[i]:ir.push(i)}var RS=E.ReactCurrentBatchConfig;function qa(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var p=l.stateNode}if(!p)throw Error(t(147,i));var A=p,O=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===O?s.ref:(s=function(F){var Q=A.refs;F===null?delete Q[O]:Q[O]=F},s._stringRef=O,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Iu(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function ky(i){var s=i._init;return s(i._payload)}function Cy(i){function s(le,re){if(i){var ue=le.deletions;ue===null?(le.deletions=[re],le.flags|=16):ue.push(re)}}function l(le,re){if(!i)return null;for(;re!==null;)s(le,re),re=re.sibling;return null}function p(le,re){for(le=new Map;re!==null;)re.key!==null?le.set(re.key,re):le.set(re.index,re),re=re.sibling;return le}function A(le,re){return le=Di(le,re),le.index=0,le.sibling=null,le}function O(le,re,ue){return le.index=ue,i?(ue=le.alternate,ue!==null?(ue=ue.index,ue<re?(le.flags|=2,re):ue):(le.flags|=2,re)):(le.flags|=1048576,re)}function F(le){return i&&le.alternate===null&&(le.flags|=2),le}function Q(le,re,ue,Te){return re===null||re.tag!==6?(re=Qh(ue,le.mode,Te),re.return=le,re):(re=A(re,ue),re.return=le,re)}function Z(le,re,ue,Te){var xe=ue.type;return xe===P?_e(le,re,ue.props.children,Te,ue.key):re!==null&&(re.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===X&&ky(xe)===re.type)?(Te=A(re,ue.props),Te.ref=qa(le,re,ue),Te.return=le,Te):(Te=Xu(ue.type,ue.key,ue.props,null,le.mode,Te),Te.ref=qa(le,re,ue),Te.return=le,Te)}function ce(le,re,ue,Te){return re===null||re.tag!==4||re.stateNode.containerInfo!==ue.containerInfo||re.stateNode.implementation!==ue.implementation?(re=Xh(ue,le.mode,Te),re.return=le,re):(re=A(re,ue.children||[]),re.return=le,re)}function _e(le,re,ue,Te,xe){return re===null||re.tag!==7?(re=No(ue,le.mode,Te,xe),re.return=le,re):(re=A(re,ue),re.return=le,re)}function we(le,re,ue){if(typeof re=="string"&&re!==""||typeof re=="number")return re=Qh(""+re,le.mode,ue),re.return=le,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case L:return ue=Xu(re.type,re.key,re.props,null,le.mode,ue),ue.ref=qa(le,null,re),ue.return=le,ue;case U:return re=Xh(re,le.mode,ue),re.return=le,re;case X:var Te=re._init;return we(le,Te(re._payload),ue)}if(be(re)||Y(re))return re=No(re,le.mode,ue,null),re.return=le,re;Iu(le,re)}return null}function ve(le,re,ue,Te){var xe=re!==null?re.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return xe!==null?null:Q(le,re,""+ue,Te);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case L:return ue.key===xe?Z(le,re,ue,Te):null;case U:return ue.key===xe?ce(le,re,ue,Te):null;case X:return xe=ue._init,ve(le,re,xe(ue._payload),Te)}if(be(ue)||Y(ue))return xe!==null?null:_e(le,re,ue,Te,null);Iu(le,ue)}return null}function Re(le,re,ue,Te,xe){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return le=le.get(ue)||null,Q(re,le,""+Te,xe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case L:return le=le.get(Te.key===null?ue:Te.key)||null,Z(re,le,Te,xe);case U:return le=le.get(Te.key===null?ue:Te.key)||null,ce(re,le,Te,xe);case X:var Le=Te._init;return Re(le,re,ue,Le(Te._payload),xe)}if(be(Te)||Y(Te))return le=le.get(ue)||null,_e(re,le,Te,xe,null);Iu(re,Te)}return null}function Pe(le,re,ue,Te){for(var xe=null,Le=null,Me=re,Fe=re=0,Ht=null;Me!==null&&Fe<ue.length;Fe++){Me.index>Fe?(Ht=Me,Me=null):Ht=Me.sibling;var lt=ve(le,Me,ue[Fe],Te);if(lt===null){Me===null&&(Me=Ht);break}i&&Me&&lt.alternate===null&&s(le,Me),re=O(lt,re,Fe),Le===null?xe=lt:Le.sibling=lt,Le=lt,Me=Ht}if(Fe===ue.length)return l(le,Me),wt&&Ao(le,Fe),xe;if(Me===null){for(;Fe<ue.length;Fe++)Me=we(le,ue[Fe],Te),Me!==null&&(re=O(Me,re,Fe),Le===null?xe=Me:Le.sibling=Me,Le=Me);return wt&&Ao(le,Fe),xe}for(Me=p(le,Me);Fe<ue.length;Fe++)Ht=Re(Me,le,Fe,ue[Fe],Te),Ht!==null&&(i&&Ht.alternate!==null&&Me.delete(Ht.key===null?Fe:Ht.key),re=O(Ht,re,Fe),Le===null?xe=Ht:Le.sibling=Ht,Le=Ht);return i&&Me.forEach(function(Li){return s(le,Li)}),wt&&Ao(le,Fe),xe}function Oe(le,re,ue,Te){var xe=Y(ue);if(typeof xe!="function")throw Error(t(150));if(ue=xe.call(ue),ue==null)throw Error(t(151));for(var Le=xe=null,Me=re,Fe=re=0,Ht=null,lt=ue.next();Me!==null&&!lt.done;Fe++,lt=ue.next()){Me.index>Fe?(Ht=Me,Me=null):Ht=Me.sibling;var Li=ve(le,Me,lt.value,Te);if(Li===null){Me===null&&(Me=Ht);break}i&&Me&&Li.alternate===null&&s(le,Me),re=O(Li,re,Fe),Le===null?xe=Li:Le.sibling=Li,Le=Li,Me=Ht}if(lt.done)return l(le,Me),wt&&Ao(le,Fe),xe;if(Me===null){for(;!lt.done;Fe++,lt=ue.next())lt=we(le,lt.value,Te),lt!==null&&(re=O(lt,re,Fe),Le===null?xe=lt:Le.sibling=lt,Le=lt);return wt&&Ao(le,Fe),xe}for(Me=p(le,Me);!lt.done;Fe++,lt=ue.next())lt=Re(Me,le,Fe,lt.value,Te),lt!==null&&(i&&lt.alternate!==null&&Me.delete(lt.key===null?Fe:lt.key),re=O(lt,re,Fe),Le===null?xe=lt:Le.sibling=lt,Le=lt);return i&&Me.forEach(function(oA){return s(le,oA)}),wt&&Ao(le,Fe),xe}function Pt(le,re,ue,Te){if(typeof ue=="object"&&ue!==null&&ue.type===P&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case L:e:{for(var xe=ue.key,Le=re;Le!==null;){if(Le.key===xe){if(xe=ue.type,xe===P){if(Le.tag===7){l(le,Le.sibling),re=A(Le,ue.props.children),re.return=le,le=re;break e}}else if(Le.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===X&&ky(xe)===Le.type){l(le,Le.sibling),re=A(Le,ue.props),re.ref=qa(le,Le,ue),re.return=le,le=re;break e}l(le,Le);break}else s(le,Le);Le=Le.sibling}ue.type===P?(re=No(ue.props.children,le.mode,Te,ue.key),re.return=le,le=re):(Te=Xu(ue.type,ue.key,ue.props,null,le.mode,Te),Te.ref=qa(le,re,ue),Te.return=le,le=Te)}return F(le);case U:e:{for(Le=ue.key;re!==null;){if(re.key===Le)if(re.tag===4&&re.stateNode.containerInfo===ue.containerInfo&&re.stateNode.implementation===ue.implementation){l(le,re.sibling),re=A(re,ue.children||[]),re.return=le,le=re;break e}else{l(le,re);break}else s(le,re);re=re.sibling}re=Xh(ue,le.mode,Te),re.return=le,le=re}return F(le);case X:return Le=ue._init,Pt(le,re,Le(ue._payload),Te)}if(be(ue))return Pe(le,re,ue,Te);if(Y(ue))return Oe(le,re,ue,Te);Iu(le,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,re!==null&&re.tag===6?(l(le,re.sibling),re=A(re,ue),re.return=le,le=re):(l(le,re),re=Qh(ue,le.mode,Te),re.return=le,le=re),F(le)):l(le,re)}return Pt}var Rs=Cy(!0),Py=Cy(!1),Ru=Si(null),ku=null,ks=null,oh=null;function sh(){oh=ks=ku=null}function ah(i){var s=Ru.current;vt(Ru),i._currentValue=s}function lh(i,s,l){for(;i!==null;){var p=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),i===l)break;i=i.return}}function Cs(i,s){ku=i,oh=ks=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(wn=!0),i.firstContext=null)}function $n(i){var s=i._currentValue;if(oh!==i)if(i={context:i,memoizedValue:s,next:null},ks===null){if(ku===null)throw Error(t(308));ks=i,ku.dependencies={lanes:0,firstContext:i}}else ks=ks.next=i;return s}var Io=null;function uh(i){Io===null?Io=[i]:Io.push(i)}function Oy(i,s,l,p){var A=s.interleaved;return A===null?(l.next=l,uh(s)):(l.next=A.next,A.next=l),s.interleaved=l,Gr(i,p)}function Gr(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ri=!1;function ch(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xy(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Qr(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function ki(i,s,l){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,st&2){var A=p.pending;return A===null?s.next=s:(s.next=A.next,A.next=s),p.pending=s,Gr(i,l)}return A=p.interleaved,A===null?(s.next=s,uh(p)):(s.next=A.next,A.next=s),p.interleaved=s,Gr(i,l)}function Cu(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var p=s.lanes;p&=i.pendingLanes,l|=p,s.lanes=l,yi(i,l)}}function Ny(i,s){var l=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,l===p)){var A=null,O=null;if(l=l.firstBaseUpdate,l!==null){do{var F={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};O===null?A=O=F:O=O.next=F,l=l.next}while(l!==null);O===null?A=O=s:O=O.next=s}else A=O=s;l={baseState:p.baseState,firstBaseUpdate:A,lastBaseUpdate:O,shared:p.shared,effects:p.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function Pu(i,s,l,p){var A=i.updateQueue;Ri=!1;var O=A.firstBaseUpdate,F=A.lastBaseUpdate,Q=A.shared.pending;if(Q!==null){A.shared.pending=null;var Z=Q,ce=Z.next;Z.next=null,F===null?O=ce:F.next=ce,F=Z;var _e=i.alternate;_e!==null&&(_e=_e.updateQueue,Q=_e.lastBaseUpdate,Q!==F&&(Q===null?_e.firstBaseUpdate=ce:Q.next=ce,_e.lastBaseUpdate=Z))}if(O!==null){var we=A.baseState;F=0,_e=ce=Z=null,Q=O;do{var ve=Q.lane,Re=Q.eventTime;if((p&ve)===ve){_e!==null&&(_e=_e.next={eventTime:Re,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var Pe=i,Oe=Q;switch(ve=s,Re=l,Oe.tag){case 1:if(Pe=Oe.payload,typeof Pe=="function"){we=Pe.call(Re,we,ve);break e}we=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Oe.payload,ve=typeof Pe=="function"?Pe.call(Re,we,ve):Pe,ve==null)break e;we=W({},we,ve);break e;case 2:Ri=!0}}Q.callback!==null&&Q.lane!==0&&(i.flags|=64,ve=A.effects,ve===null?A.effects=[Q]:ve.push(Q))}else Re={eventTime:Re,lane:ve,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},_e===null?(ce=_e=Re,Z=we):_e=_e.next=Re,F|=ve;if(Q=Q.next,Q===null){if(Q=A.shared.pending,Q===null)break;ve=Q,Q=ve.next,ve.next=null,A.lastBaseUpdate=ve,A.shared.pending=null}}while(!0);if(_e===null&&(Z=we),A.baseState=Z,A.firstBaseUpdate=ce,A.lastBaseUpdate=_e,s=A.shared.interleaved,s!==null){A=s;do F|=A.lane,A=A.next;while(A!==s)}else O===null&&(A.shared.lanes=0);Co|=F,i.lanes=F,i.memoizedState=we}}function Dy(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var p=i[s],A=p.callback;if(A!==null){if(p.callback=null,p=l,typeof A!="function")throw Error(t(191,A));A.call(p)}}}var Ba={},Er=Si(Ba),za=Si(Ba),$a=Si(Ba);function Ro(i){if(i===Ba)throw Error(t(174));return i}function fh(i,s){switch(mt($a,s),mt(za,i),mt(Er,Ba),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ct(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=ct(s,i)}vt(Er),mt(Er,s)}function Ps(){vt(Er),vt(za),vt($a)}function Ly(i){Ro($a.current);var s=Ro(Er.current),l=ct(s,i.type);s!==l&&(mt(za,i),mt(Er,l))}function hh(i){za.current===i&&(vt(Er),vt(za))}var bt=Si(0);function Ou(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var dh=[];function ph(){for(var i=0;i<dh.length;i++)dh[i]._workInProgressVersionPrimary=null;dh.length=0}var xu=E.ReactCurrentDispatcher,mh=E.ReactCurrentBatchConfig,ko=0,St=null,jt=null,zt=null,Nu=!1,Ha=!1,Wa=0,kS=0;function on(){throw Error(t(321))}function gh(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!rr(i[l],s[l]))return!1;return!0}function yh(i,s,l,p,A,O){if(ko=O,St=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,xu.current=i===null||i.memoizedState===null?xS:NS,i=l(p,A),Ha){O=0;do{if(Ha=!1,Wa=0,25<=O)throw Error(t(301));O+=1,zt=jt=null,s.updateQueue=null,xu.current=DS,i=l(p,A)}while(Ha)}if(xu.current=Mu,s=jt!==null&&jt.next!==null,ko=0,zt=jt=St=null,Nu=!1,s)throw Error(t(300));return i}function vh(){var i=Wa!==0;return Wa=0,i}function wr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?St.memoizedState=zt=i:zt=zt.next=i,zt}function Hn(){if(jt===null){var i=St.alternate;i=i!==null?i.memoizedState:null}else i=jt.next;var s=zt===null?St.memoizedState:zt.next;if(s!==null)zt=s,jt=i;else{if(i===null)throw Error(t(310));jt=i,i={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},zt===null?St.memoizedState=zt=i:zt=zt.next=i}return zt}function Ka(i,s){return typeof s=="function"?s(i):s}function _h(i){var s=Hn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var p=jt,A=p.baseQueue,O=l.pending;if(O!==null){if(A!==null){var F=A.next;A.next=O.next,O.next=F}p.baseQueue=A=O,l.pending=null}if(A!==null){O=A.next,p=p.baseState;var Q=F=null,Z=null,ce=O;do{var _e=ce.lane;if((ko&_e)===_e)Z!==null&&(Z=Z.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),p=ce.hasEagerState?ce.eagerState:i(p,ce.action);else{var we={lane:_e,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};Z===null?(Q=Z=we,F=p):Z=Z.next=we,St.lanes|=_e,Co|=_e}ce=ce.next}while(ce!==null&&ce!==O);Z===null?F=p:Z.next=Q,rr(p,s.memoizedState)||(wn=!0),s.memoizedState=p,s.baseState=F,s.baseQueue=Z,l.lastRenderedState=p}if(i=l.interleaved,i!==null){A=i;do O=A.lane,St.lanes|=O,Co|=O,A=A.next;while(A!==i)}else A===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Eh(i){var s=Hn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var p=l.dispatch,A=l.pending,O=s.memoizedState;if(A!==null){l.pending=null;var F=A=A.next;do O=i(O,F.action),F=F.next;while(F!==A);rr(O,s.memoizedState)||(wn=!0),s.memoizedState=O,s.baseQueue===null&&(s.baseState=O),l.lastRenderedState=O}return[O,p]}function My(){}function jy(i,s){var l=St,p=Hn(),A=s(),O=!rr(p.memoizedState,A);if(O&&(p.memoizedState=A,wn=!0),p=p.queue,wh(Fy.bind(null,l,p,i),[i]),p.getSnapshot!==s||O||zt!==null&&zt.memoizedState.tag&1){if(l.flags|=2048,Ga(9,Uy.bind(null,l,p,A,s),void 0,null),$t===null)throw Error(t(349));ko&30||Vy(l,s,A)}return A}function Vy(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=St.updateQueue,s===null?(s={lastEffect:null,stores:null},St.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Uy(i,s,l,p){s.value=l,s.getSnapshot=p,qy(s)&&By(i)}function Fy(i,s,l){return l(function(){qy(s)&&By(i)})}function qy(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!rr(i,l)}catch{return!0}}function By(i){var s=Gr(i,1);s!==null&&lr(s,i,1,-1)}function zy(i){var s=wr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:i},s.queue=i,i=i.dispatch=OS.bind(null,St,i),[s.memoizedState,i]}function Ga(i,s,l,p){return i={tag:i,create:s,destroy:l,deps:p,next:null},s=St.updateQueue,s===null?(s={lastEffect:null,stores:null},St.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(p=l.next,l.next=i,i.next=p,s.lastEffect=i)),i}function $y(){return Hn().memoizedState}function Du(i,s,l,p){var A=wr();St.flags|=i,A.memoizedState=Ga(1|s,l,void 0,p===void 0?null:p)}function Lu(i,s,l,p){var A=Hn();p=p===void 0?null:p;var O=void 0;if(jt!==null){var F=jt.memoizedState;if(O=F.destroy,p!==null&&gh(p,F.deps)){A.memoizedState=Ga(s,l,O,p);return}}St.flags|=i,A.memoizedState=Ga(1|s,l,O,p)}function Hy(i,s){return Du(8390656,8,i,s)}function wh(i,s){return Lu(2048,8,i,s)}function Wy(i,s){return Lu(4,2,i,s)}function Ky(i,s){return Lu(4,4,i,s)}function Gy(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Qy(i,s,l){return l=l!=null?l.concat([i]):null,Lu(4,4,Gy.bind(null,s,i),l)}function Th(){}function Xy(i,s){var l=Hn();s=s===void 0?null:s;var p=l.memoizedState;return p!==null&&s!==null&&gh(s,p[1])?p[0]:(l.memoizedState=[i,s],i)}function Yy(i,s){var l=Hn();s=s===void 0?null:s;var p=l.memoizedState;return p!==null&&s!==null&&gh(s,p[1])?p[0]:(i=i(),l.memoizedState=[i,s],i)}function Jy(i,s,l){return ko&21?(rr(l,s)||(l=yo(),St.lanes|=l,Co|=l,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,wn=!0),i.memoizedState=l)}function CS(i,s){var l=nt;nt=l!==0&&4>l?l:4,i(!0);var p=mh.transition;mh.transition={};try{i(!1),s()}finally{nt=l,mh.transition=p}}function Zy(){return Hn().memoizedState}function PS(i,s,l){var p=xi(i);if(l={lane:p,action:l,hasEagerState:!1,eagerState:null,next:null},ev(i))tv(s,l);else if(l=Oy(i,s,l,p),l!==null){var A=mn();lr(l,i,p,A),nv(l,s,p)}}function OS(i,s,l){var p=xi(i),A={lane:p,action:l,hasEagerState:!1,eagerState:null,next:null};if(ev(i))tv(s,A);else{var O=i.alternate;if(i.lanes===0&&(O===null||O.lanes===0)&&(O=s.lastRenderedReducer,O!==null))try{var F=s.lastRenderedState,Q=O(F,l);if(A.hasEagerState=!0,A.eagerState=Q,rr(Q,F)){var Z=s.interleaved;Z===null?(A.next=A,uh(s)):(A.next=Z.next,Z.next=A),s.interleaved=A;return}}catch{}finally{}l=Oy(i,s,A,p),l!==null&&(A=mn(),lr(l,i,p,A),nv(l,s,p))}}function ev(i){var s=i.alternate;return i===St||s!==null&&s===St}function tv(i,s){Ha=Nu=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function nv(i,s,l){if(l&4194240){var p=s.lanes;p&=i.pendingLanes,l|=p,s.lanes=l,yi(i,l)}}var Mu={readContext:$n,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},xS={readContext:$n,useCallback:function(i,s){return wr().memoizedState=[i,s===void 0?null:s],i},useContext:$n,useEffect:Hy,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,Du(4194308,4,Gy.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Du(4194308,4,i,s)},useInsertionEffect:function(i,s){return Du(4,2,i,s)},useMemo:function(i,s){var l=wr();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var p=wr();return s=l!==void 0?l(s):s,p.memoizedState=p.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},p.queue=i,i=i.dispatch=PS.bind(null,St,i),[p.memoizedState,i]},useRef:function(i){var s=wr();return i={current:i},s.memoizedState=i},useState:zy,useDebugValue:Th,useDeferredValue:function(i){return wr().memoizedState=i},useTransition:function(){var i=zy(!1),s=i[0];return i=CS.bind(null,i[1]),wr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var p=St,A=wr();if(wt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),$t===null)throw Error(t(349));ko&30||Vy(p,s,l)}A.memoizedState=l;var O={value:l,getSnapshot:s};return A.queue=O,Hy(Fy.bind(null,p,O,i),[i]),p.flags|=2048,Ga(9,Uy.bind(null,p,O,l,s),void 0,null),l},useId:function(){var i=wr(),s=$t.identifierPrefix;if(wt){var l=Kr,p=Wr;l=(p&~(1<<32-hn(p)-1)).toString(32)+l,s=":"+s+"R"+l,l=Wa++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=kS++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},NS={readContext:$n,useCallback:Xy,useContext:$n,useEffect:wh,useImperativeHandle:Qy,useInsertionEffect:Wy,useLayoutEffect:Ky,useMemo:Yy,useReducer:_h,useRef:$y,useState:function(){return _h(Ka)},useDebugValue:Th,useDeferredValue:function(i){var s=Hn();return Jy(s,jt.memoizedState,i)},useTransition:function(){var i=_h(Ka)[0],s=Hn().memoizedState;return[i,s]},useMutableSource:My,useSyncExternalStore:jy,useId:Zy,unstable_isNewReconciler:!1},DS={readContext:$n,useCallback:Xy,useContext:$n,useEffect:wh,useImperativeHandle:Qy,useInsertionEffect:Wy,useLayoutEffect:Ky,useMemo:Yy,useReducer:Eh,useRef:$y,useState:function(){return Eh(Ka)},useDebugValue:Th,useDeferredValue:function(i){var s=Hn();return jt===null?s.memoizedState=i:Jy(s,jt.memoizedState,i)},useTransition:function(){var i=Eh(Ka)[0],s=Hn().memoizedState;return[i,s]},useMutableSource:My,useSyncExternalStore:jy,useId:Zy,unstable_isNewReconciler:!1};function or(i,s){if(i&&i.defaultProps){s=W({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function bh(i,s,l,p){s=i.memoizedState,l=l(p,s),l=l==null?s:W({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var ju={isMounted:function(i){return(i=i._reactInternals)?Xn(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var p=mn(),A=xi(i),O=Qr(p,A);O.payload=s,l!=null&&(O.callback=l),s=ki(i,O,A),s!==null&&(lr(s,i,A,p),Cu(s,i,A))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var p=mn(),A=xi(i),O=Qr(p,A);O.tag=1,O.payload=s,l!=null&&(O.callback=l),s=ki(i,O,A),s!==null&&(lr(s,i,A,p),Cu(s,i,A))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=mn(),p=xi(i),A=Qr(l,p);A.tag=2,s!=null&&(A.callback=s),s=ki(i,A,p),s!==null&&(lr(s,i,p,l),Cu(s,i,p))}};function rv(i,s,l,p,A,O,F){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,O,F):s.prototype&&s.prototype.isPureReactComponent?!Da(l,p)||!Da(A,O):!0}function iv(i,s,l){var p=!1,A=Ai,O=s.contextType;return typeof O=="object"&&O!==null?O=$n(O):(A=En(s)?bo:rn.current,p=s.contextTypes,O=(p=p!=null)?bs(i,A):Ai),s=new s(l,O),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ju,i.stateNode=s,s._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=A,i.__reactInternalMemoizedMaskedChildContext=O),s}function ov(i,s,l,p){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,p),s.state!==i&&ju.enqueueReplaceState(s,s.state,null)}function Sh(i,s,l,p){var A=i.stateNode;A.props=l,A.state=i.memoizedState,A.refs={},ch(i);var O=s.contextType;typeof O=="object"&&O!==null?A.context=$n(O):(O=En(s)?bo:rn.current,A.context=bs(i,O)),A.state=i.memoizedState,O=s.getDerivedStateFromProps,typeof O=="function"&&(bh(i,s,O,l),A.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(s=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),s!==A.state&&ju.enqueueReplaceState(A,A.state,null),Pu(i,l,A,p),A.state=i.memoizedState),typeof A.componentDidMount=="function"&&(i.flags|=4194308)}function Os(i,s){try{var l="",p=s;do l+=ee(p),p=p.return;while(p);var A=l}catch(O){A=`
Error generating stack: `+O.message+`
`+O.stack}return{value:i,source:s,stack:A,digest:null}}function Ah(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function Ih(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var LS=typeof WeakMap=="function"?WeakMap:Map;function sv(i,s,l){l=Qr(-1,l),l.tag=3,l.payload={element:null};var p=s.value;return l.callback=function(){$u||($u=!0,qh=p),Ih(i,s)},l}function av(i,s,l){l=Qr(-1,l),l.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var A=s.value;l.payload=function(){return p(A)},l.callback=function(){Ih(i,s)}}var O=i.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(l.callback=function(){Ih(i,s),typeof p!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var F=s.stack;this.componentDidCatch(s.value,{componentStack:F!==null?F:""})}),l}function lv(i,s,l){var p=i.pingCache;if(p===null){p=i.pingCache=new LS;var A=new Set;p.set(s,A)}else A=p.get(s),A===void 0&&(A=new Set,p.set(s,A));A.has(l)||(A.add(l),i=QS.bind(null,i,s,l),s.then(i,i))}function uv(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function cv(i,s,l,p,A){return i.mode&1?(i.flags|=65536,i.lanes=A,i):(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Qr(-1,1),s.tag=2,ki(l,s,1))),l.lanes|=1),i)}var MS=E.ReactCurrentOwner,wn=!1;function pn(i,s,l,p){s.child=i===null?Py(s,null,l,p):Rs(s,i.child,l,p)}function fv(i,s,l,p,A){l=l.render;var O=s.ref;return Cs(s,A),p=yh(i,s,l,p,O,A),l=vh(),i!==null&&!wn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~A,Xr(i,s,A)):(wt&&l&&eh(s),s.flags|=1,pn(i,s,p,A),s.child)}function hv(i,s,l,p,A){if(i===null){var O=l.type;return typeof O=="function"&&!Gh(O)&&O.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=O,dv(i,s,O,p,A)):(i=Xu(l.type,null,p,s,s.mode,A),i.ref=s.ref,i.return=s,s.child=i)}if(O=i.child,!(i.lanes&A)){var F=O.memoizedProps;if(l=l.compare,l=l!==null?l:Da,l(F,p)&&i.ref===s.ref)return Xr(i,s,A)}return s.flags|=1,i=Di(O,p),i.ref=s.ref,i.return=s,s.child=i}function dv(i,s,l,p,A){if(i!==null){var O=i.memoizedProps;if(Da(O,p)&&i.ref===s.ref)if(wn=!1,s.pendingProps=p=O,(i.lanes&A)!==0)i.flags&131072&&(wn=!0);else return s.lanes=i.lanes,Xr(i,s,A)}return Rh(i,s,l,p,A)}function pv(i,s,l){var p=s.pendingProps,A=p.children,O=i!==null?i.memoizedState:null;if(p.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Ns,Dn),Dn|=l;else{if(!(l&1073741824))return i=O!==null?O.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,mt(Ns,Dn),Dn|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=O!==null?O.baseLanes:l,mt(Ns,Dn),Dn|=p}else O!==null?(p=O.baseLanes|l,s.memoizedState=null):p=l,mt(Ns,Dn),Dn|=p;return pn(i,s,A,l),s.child}function mv(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Rh(i,s,l,p,A){var O=En(l)?bo:rn.current;return O=bs(s,O),Cs(s,A),l=yh(i,s,l,p,O,A),p=vh(),i!==null&&!wn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~A,Xr(i,s,A)):(wt&&p&&eh(s),s.flags|=1,pn(i,s,l,A),s.child)}function gv(i,s,l,p,A){if(En(l)){var O=!0;wu(s)}else O=!1;if(Cs(s,A),s.stateNode===null)Uu(i,s),iv(s,l,p),Sh(s,l,p,A),p=!0;else if(i===null){var F=s.stateNode,Q=s.memoizedProps;F.props=Q;var Z=F.context,ce=l.contextType;typeof ce=="object"&&ce!==null?ce=$n(ce):(ce=En(l)?bo:rn.current,ce=bs(s,ce));var _e=l.getDerivedStateFromProps,we=typeof _e=="function"||typeof F.getSnapshotBeforeUpdate=="function";we||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Q!==p||Z!==ce)&&ov(s,F,p,ce),Ri=!1;var ve=s.memoizedState;F.state=ve,Pu(s,p,F,A),Z=s.memoizedState,Q!==p||ve!==Z||_n.current||Ri?(typeof _e=="function"&&(bh(s,l,_e,p),Z=s.memoizedState),(Q=Ri||rv(s,l,Q,p,ve,Z,ce))?(we||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(s.flags|=4194308)):(typeof F.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=Z),F.props=p,F.state=Z,F.context=ce,p=Q):(typeof F.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{F=s.stateNode,xy(i,s),Q=s.memoizedProps,ce=s.type===s.elementType?Q:or(s.type,Q),F.props=ce,we=s.pendingProps,ve=F.context,Z=l.contextType,typeof Z=="object"&&Z!==null?Z=$n(Z):(Z=En(l)?bo:rn.current,Z=bs(s,Z));var Re=l.getDerivedStateFromProps;(_e=typeof Re=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Q!==we||ve!==Z)&&ov(s,F,p,Z),Ri=!1,ve=s.memoizedState,F.state=ve,Pu(s,p,F,A);var Pe=s.memoizedState;Q!==we||ve!==Pe||_n.current||Ri?(typeof Re=="function"&&(bh(s,l,Re,p),Pe=s.memoizedState),(ce=Ri||rv(s,l,ce,p,ve,Pe,Z)||!1)?(_e||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(p,Pe,Z),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(p,Pe,Z)),typeof F.componentDidUpdate=="function"&&(s.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof F.componentDidUpdate!="function"||Q===i.memoizedProps&&ve===i.memoizedState||(s.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Q===i.memoizedProps&&ve===i.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=Pe),F.props=p,F.state=Pe,F.context=Z,p=ce):(typeof F.componentDidUpdate!="function"||Q===i.memoizedProps&&ve===i.memoizedState||(s.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Q===i.memoizedProps&&ve===i.memoizedState||(s.flags|=1024),p=!1)}return kh(i,s,l,p,O,A)}function kh(i,s,l,p,A,O){mv(i,s);var F=(s.flags&128)!==0;if(!p&&!F)return A&&wy(s,l,!1),Xr(i,s,O);p=s.stateNode,MS.current=s;var Q=F&&typeof l.getDerivedStateFromError!="function"?null:p.render();return s.flags|=1,i!==null&&F?(s.child=Rs(s,i.child,null,O),s.child=Rs(s,null,Q,O)):pn(i,s,Q,O),s.memoizedState=p.state,A&&wy(s,l,!0),s.child}function yv(i){var s=i.stateNode;s.pendingContext?_y(i,s.pendingContext,s.pendingContext!==s.context):s.context&&_y(i,s.context,!1),fh(i,s.containerInfo)}function vv(i,s,l,p,A){return Is(),ih(A),s.flags|=256,pn(i,s,l,p),s.child}var Ch={dehydrated:null,treeContext:null,retryLane:0};function Ph(i){return{baseLanes:i,cachePool:null,transitions:null}}function _v(i,s,l){var p=s.pendingProps,A=bt.current,O=!1,F=(s.flags&128)!==0,Q;if((Q=F)||(Q=i!==null&&i.memoizedState===null?!1:(A&2)!==0),Q?(O=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(A|=1),mt(bt,A&1),i===null)return rh(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(F=p.children,i=p.fallback,O?(p=s.mode,O=s.child,F={mode:"hidden",children:F},!(p&1)&&O!==null?(O.childLanes=0,O.pendingProps=F):O=Yu(F,p,0,null),i=No(i,p,l,null),O.return=s,i.return=s,O.sibling=i,s.child=O,s.child.memoizedState=Ph(l),s.memoizedState=Ch,i):Oh(s,F));if(A=i.memoizedState,A!==null&&(Q=A.dehydrated,Q!==null))return jS(i,s,F,p,Q,A,l);if(O){O=p.fallback,F=s.mode,A=i.child,Q=A.sibling;var Z={mode:"hidden",children:p.children};return!(F&1)&&s.child!==A?(p=s.child,p.childLanes=0,p.pendingProps=Z,s.deletions=null):(p=Di(A,Z),p.subtreeFlags=A.subtreeFlags&14680064),Q!==null?O=Di(Q,O):(O=No(O,F,l,null),O.flags|=2),O.return=s,p.return=s,p.sibling=O,s.child=p,p=O,O=s.child,F=i.child.memoizedState,F=F===null?Ph(l):{baseLanes:F.baseLanes|l,cachePool:null,transitions:F.transitions},O.memoizedState=F,O.childLanes=i.childLanes&~l,s.memoizedState=Ch,p}return O=i.child,i=O.sibling,p=Di(O,{mode:"visible",children:p.children}),!(s.mode&1)&&(p.lanes=l),p.return=s,p.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=p,s.memoizedState=null,p}function Oh(i,s){return s=Yu({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Vu(i,s,l,p){return p!==null&&ih(p),Rs(s,i.child,null,l),i=Oh(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function jS(i,s,l,p,A,O,F){if(l)return s.flags&256?(s.flags&=-257,p=Ah(Error(t(422))),Vu(i,s,F,p)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(O=p.fallback,A=s.mode,p=Yu({mode:"visible",children:p.children},A,0,null),O=No(O,A,F,null),O.flags|=2,p.return=s,O.return=s,p.sibling=O,s.child=p,s.mode&1&&Rs(s,i.child,null,F),s.child.memoizedState=Ph(F),s.memoizedState=Ch,O);if(!(s.mode&1))return Vu(i,s,F,null);if(A.data==="$!"){if(p=A.nextSibling&&A.nextSibling.dataset,p)var Q=p.dgst;return p=Q,O=Error(t(419)),p=Ah(O,p,void 0),Vu(i,s,F,p)}if(Q=(F&i.childLanes)!==0,wn||Q){if(p=$t,p!==null){switch(F&-F){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=A&(p.suspendedLanes|F)?0:A,A!==0&&A!==O.retryLane&&(O.retryLane=A,Gr(i,A),lr(p,i,A,-1))}return Kh(),p=Ah(Error(t(421))),Vu(i,s,F,p)}return A.data==="$?"?(s.flags|=128,s.child=i.child,s=XS.bind(null,i),A._reactRetry=s,null):(i=O.treeContext,Nn=bi(A.nextSibling),xn=s,wt=!0,ir=null,i!==null&&(Bn[zn++]=Wr,Bn[zn++]=Kr,Bn[zn++]=So,Wr=i.id,Kr=i.overflow,So=s),s=Oh(s,p.children),s.flags|=4096,s)}function Ev(i,s,l){i.lanes|=s;var p=i.alternate;p!==null&&(p.lanes|=s),lh(i.return,s,l)}function xh(i,s,l,p,A){var O=i.memoizedState;O===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:l,tailMode:A}:(O.isBackwards=s,O.rendering=null,O.renderingStartTime=0,O.last=p,O.tail=l,O.tailMode=A)}function wv(i,s,l){var p=s.pendingProps,A=p.revealOrder,O=p.tail;if(pn(i,s,p.children,l),p=bt.current,p&2)p=p&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ev(i,l,s);else if(i.tag===19)Ev(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(mt(bt,p),!(s.mode&1))s.memoizedState=null;else switch(A){case"forwards":for(l=s.child,A=null;l!==null;)i=l.alternate,i!==null&&Ou(i)===null&&(A=l),l=l.sibling;l=A,l===null?(A=s.child,s.child=null):(A=l.sibling,l.sibling=null),xh(s,!1,A,l,O);break;case"backwards":for(l=null,A=s.child,s.child=null;A!==null;){if(i=A.alternate,i!==null&&Ou(i)===null){s.child=A;break}i=A.sibling,A.sibling=l,l=A,A=i}xh(s,!0,l,null,O);break;case"together":xh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Uu(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Xr(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Co|=s.lanes,!(l&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=Di(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Di(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function VS(i,s,l){switch(s.tag){case 3:yv(s),Is();break;case 5:Ly(s);break;case 1:En(s.type)&&wu(s);break;case 4:fh(s,s.stateNode.containerInfo);break;case 10:var p=s.type._context,A=s.memoizedProps.value;mt(Ru,p._currentValue),p._currentValue=A;break;case 13:if(p=s.memoizedState,p!==null)return p.dehydrated!==null?(mt(bt,bt.current&1),s.flags|=128,null):l&s.child.childLanes?_v(i,s,l):(mt(bt,bt.current&1),i=Xr(i,s,l),i!==null?i.sibling:null);mt(bt,bt.current&1);break;case 19:if(p=(l&s.childLanes)!==0,i.flags&128){if(p)return wv(i,s,l);s.flags|=128}if(A=s.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),mt(bt,bt.current),p)break;return null;case 22:case 23:return s.lanes=0,pv(i,s,l)}return Xr(i,s,l)}var Tv,Nh,bv,Sv;Tv=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Nh=function(){},bv=function(i,s,l,p){var A=i.memoizedProps;if(A!==p){i=s.stateNode,Ro(Er.current);var O=null;switch(l){case"input":A=We(i,A),p=We(i,p),O=[];break;case"select":A=W({},A,{value:void 0}),p=W({},p,{value:void 0}),O=[];break;case"textarea":A=ye(i,A),p=ye(i,p),O=[];break;default:typeof A.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=vu)}ma(l,p);var F;l=null;for(ce in A)if(!p.hasOwnProperty(ce)&&A.hasOwnProperty(ce)&&A[ce]!=null)if(ce==="style"){var Q=A[ce];for(F in Q)Q.hasOwnProperty(F)&&(l||(l={}),l[F]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(o.hasOwnProperty(ce)?O||(O=[]):(O=O||[]).push(ce,null));for(ce in p){var Z=p[ce];if(Q=A!=null?A[ce]:void 0,p.hasOwnProperty(ce)&&Z!==Q&&(Z!=null||Q!=null))if(ce==="style")if(Q){for(F in Q)!Q.hasOwnProperty(F)||Z&&Z.hasOwnProperty(F)||(l||(l={}),l[F]="");for(F in Z)Z.hasOwnProperty(F)&&Q[F]!==Z[F]&&(l||(l={}),l[F]=Z[F])}else l||(O||(O=[]),O.push(ce,l)),l=Z;else ce==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Q=Q?Q.__html:void 0,Z!=null&&Q!==Z&&(O=O||[]).push(ce,Z)):ce==="children"?typeof Z!="string"&&typeof Z!="number"||(O=O||[]).push(ce,""+Z):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(o.hasOwnProperty(ce)?(Z!=null&&ce==="onScroll"&&yt("scroll",i),O||Q===Z||(O=[])):(O=O||[]).push(ce,Z))}l&&(O=O||[]).push("style",l);var ce=O;(s.updateQueue=ce)&&(s.flags|=4)}},Sv=function(i,s,l,p){l!==p&&(s.flags|=4)};function Qa(i,s){if(!wt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function sn(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,p=0;if(s)for(var A=i.child;A!==null;)l|=A.lanes|A.childLanes,p|=A.subtreeFlags&14680064,p|=A.flags&14680064,A.return=i,A=A.sibling;else for(A=i.child;A!==null;)l|=A.lanes|A.childLanes,p|=A.subtreeFlags,p|=A.flags,A.return=i,A=A.sibling;return i.subtreeFlags|=p,i.childLanes=l,s}function US(i,s,l){var p=s.pendingProps;switch(th(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(s),null;case 1:return En(s.type)&&Eu(),sn(s),null;case 3:return p=s.stateNode,Ps(),vt(_n),vt(rn),ph(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(Au(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,ir!==null&&($h(ir),ir=null))),Nh(i,s),sn(s),null;case 5:hh(s);var A=Ro($a.current);if(l=s.type,i!==null&&s.stateNode!=null)bv(i,s,l,p,A),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!p){if(s.stateNode===null)throw Error(t(166));return sn(s),null}if(i=Ro(Er.current),Au(s)){p=s.stateNode,l=s.type;var O=s.memoizedProps;switch(p[_r]=s,p[Ua]=O,i=(s.mode&1)!==0,l){case"dialog":yt("cancel",p),yt("close",p);break;case"iframe":case"object":case"embed":yt("load",p);break;case"video":case"audio":for(A=0;A<Ma.length;A++)yt(Ma[A],p);break;case"source":yt("error",p);break;case"img":case"image":case"link":yt("error",p),yt("load",p);break;case"details":yt("toggle",p);break;case"input":Je(p,O),yt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!O.multiple},yt("invalid",p);break;case"textarea":Be(p,O),yt("invalid",p)}ma(l,O),A=null;for(var F in O)if(O.hasOwnProperty(F)){var Q=O[F];F==="children"?typeof Q=="string"?p.textContent!==Q&&(O.suppressHydrationWarning!==!0&&yu(p.textContent,Q,i),A=["children",Q]):typeof Q=="number"&&p.textContent!==""+Q&&(O.suppressHydrationWarning!==!0&&yu(p.textContent,Q,i),A=["children",""+Q]):o.hasOwnProperty(F)&&Q!=null&&F==="onScroll"&&yt("scroll",p)}switch(l){case"input":Ie(p),he(p,O,!0);break;case"textarea":Ie(p),Ke(p);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(p.onclick=vu)}p=A,s.updateQueue=p,p!==null&&(s.flags|=4)}else{F=A.nodeType===9?A:A.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=at(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=F.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=F.createElement(l,{is:p.is}):(i=F.createElement(l),l==="select"&&(F=i,p.multiple?F.multiple=!0:p.size&&(F.size=p.size))):i=F.createElementNS(i,l),i[_r]=s,i[Ua]=p,Tv(i,s,!1,!1),s.stateNode=i;e:{switch(F=ga(l,p),l){case"dialog":yt("cancel",i),yt("close",i),A=p;break;case"iframe":case"object":case"embed":yt("load",i),A=p;break;case"video":case"audio":for(A=0;A<Ma.length;A++)yt(Ma[A],i);A=p;break;case"source":yt("error",i),A=p;break;case"img":case"image":case"link":yt("error",i),yt("load",i),A=p;break;case"details":yt("toggle",i),A=p;break;case"input":Je(i,p),A=We(i,p),yt("invalid",i);break;case"option":A=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},A=W({},p,{value:void 0}),yt("invalid",i);break;case"textarea":Be(i,p),A=ye(i,p),yt("invalid",i);break;default:A=p}ma(l,A),Q=A;for(O in Q)if(Q.hasOwnProperty(O)){var Z=Q[O];O==="style"?da(i,Z):O==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&so(i,Z)):O==="children"?typeof Z=="string"?(l!=="textarea"||Z!=="")&&ft(i,Z):typeof Z=="number"&&ft(i,""+Z):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(o.hasOwnProperty(O)?Z!=null&&O==="onScroll"&&yt("scroll",i):Z!=null&&k(i,O,Z,F))}switch(l){case"input":Ie(i),he(i,p,!1);break;case"textarea":Ie(i),Ke(i);break;case"option":p.value!=null&&i.setAttribute("value",""+oe(p.value));break;case"select":i.multiple=!!p.multiple,O=p.value,O!=null?Ae(i,!!p.multiple,O,!1):p.defaultValue!=null&&Ae(i,!!p.multiple,p.defaultValue,!0);break;default:typeof A.onClick=="function"&&(i.onclick=vu)}switch(l){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return sn(s),null;case 6:if(i&&s.stateNode!=null)Sv(i,s,i.memoizedProps,p);else{if(typeof p!="string"&&s.stateNode===null)throw Error(t(166));if(l=Ro($a.current),Ro(Er.current),Au(s)){if(p=s.stateNode,l=s.memoizedProps,p[_r]=s,(O=p.nodeValue!==l)&&(i=xn,i!==null))switch(i.tag){case 3:yu(p.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&yu(p.nodeValue,l,(i.mode&1)!==0)}O&&(s.flags|=4)}else p=(l.nodeType===9?l:l.ownerDocument).createTextNode(p),p[_r]=s,s.stateNode=p}return sn(s),null;case 13:if(vt(bt),p=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(wt&&Nn!==null&&s.mode&1&&!(s.flags&128))Ry(),Is(),s.flags|=98560,O=!1;else if(O=Au(s),p!==null&&p.dehydrated!==null){if(i===null){if(!O)throw Error(t(318));if(O=s.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(t(317));O[_r]=s}else Is(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;sn(s),O=!1}else ir!==null&&($h(ir),ir=null),O=!0;if(!O)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(s.child.flags|=8192,s.mode&1&&(i===null||bt.current&1?Vt===0&&(Vt=3):Kh())),s.updateQueue!==null&&(s.flags|=4),sn(s),null);case 4:return Ps(),Nh(i,s),i===null&&ja(s.stateNode.containerInfo),sn(s),null;case 10:return ah(s.type._context),sn(s),null;case 17:return En(s.type)&&Eu(),sn(s),null;case 19:if(vt(bt),O=s.memoizedState,O===null)return sn(s),null;if(p=(s.flags&128)!==0,F=O.rendering,F===null)if(p)Qa(O,!1);else{if(Vt!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(F=Ou(i),F!==null){for(s.flags|=128,Qa(O,!1),p=F.updateQueue,p!==null&&(s.updateQueue=p,s.flags|=4),s.subtreeFlags=0,p=l,l=s.child;l!==null;)O=l,i=p,O.flags&=14680066,F=O.alternate,F===null?(O.childLanes=0,O.lanes=i,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=F.childLanes,O.lanes=F.lanes,O.child=F.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=F.memoizedProps,O.memoizedState=F.memoizedState,O.updateQueue=F.updateQueue,O.type=F.type,i=F.dependencies,O.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return mt(bt,bt.current&1|2),s.child}i=i.sibling}O.tail!==null&&pt()>Ds&&(s.flags|=128,p=!0,Qa(O,!1),s.lanes=4194304)}else{if(!p)if(i=Ou(F),i!==null){if(s.flags|=128,p=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Qa(O,!0),O.tail===null&&O.tailMode==="hidden"&&!F.alternate&&!wt)return sn(s),null}else 2*pt()-O.renderingStartTime>Ds&&l!==1073741824&&(s.flags|=128,p=!0,Qa(O,!1),s.lanes=4194304);O.isBackwards?(F.sibling=s.child,s.child=F):(l=O.last,l!==null?l.sibling=F:s.child=F,O.last=F)}return O.tail!==null?(s=O.tail,O.rendering=s,O.tail=s.sibling,O.renderingStartTime=pt(),s.sibling=null,l=bt.current,mt(bt,p?l&1|2:l&1),s):(sn(s),null);case 22:case 23:return Wh(),p=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(s.flags|=8192),p&&s.mode&1?Dn&1073741824&&(sn(s),s.subtreeFlags&6&&(s.flags|=8192)):sn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function FS(i,s){switch(th(s),s.tag){case 1:return En(s.type)&&Eu(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ps(),vt(_n),vt(rn),ph(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return hh(s),null;case 13:if(vt(bt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Is()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return vt(bt),null;case 4:return Ps(),null;case 10:return ah(s.type._context),null;case 22:case 23:return Wh(),null;case 24:return null;default:return null}}var Fu=!1,an=!1,qS=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function xs(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(p){kt(i,s,p)}else l.current=null}function Dh(i,s,l){try{l()}catch(p){kt(i,s,p)}}var Av=!1;function BS(i,s){if(Wf=Ei,i=ry(),Vf(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var p=l.getSelection&&l.getSelection();if(p&&p.rangeCount!==0){l=p.anchorNode;var A=p.anchorOffset,O=p.focusNode;p=p.focusOffset;try{l.nodeType,O.nodeType}catch{l=null;break e}var F=0,Q=-1,Z=-1,ce=0,_e=0,we=i,ve=null;t:for(;;){for(var Re;we!==l||A!==0&&we.nodeType!==3||(Q=F+A),we!==O||p!==0&&we.nodeType!==3||(Z=F+p),we.nodeType===3&&(F+=we.nodeValue.length),(Re=we.firstChild)!==null;)ve=we,we=Re;for(;;){if(we===i)break t;if(ve===l&&++ce===A&&(Q=F),ve===O&&++_e===p&&(Z=F),(Re=we.nextSibling)!==null)break;we=ve,ve=we.parentNode}we=Re}l=Q===-1||Z===-1?null:{start:Q,end:Z}}else l=null}l=l||{start:0,end:0}}else l=null;for(Kf={focusedElem:i,selectionRange:l},Ei=!1,Ce=s;Ce!==null;)if(s=Ce,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Ce=i;else for(;Ce!==null;){s=Ce;try{var Pe=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Oe=Pe.memoizedProps,Pt=Pe.memoizedState,le=s.stateNode,re=le.getSnapshotBeforeUpdate(s.elementType===s.type?Oe:or(s.type,Oe),Pt);le.__reactInternalSnapshotBeforeUpdate=re}break;case 3:var ue=s.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Te){kt(s,s.return,Te)}if(i=s.sibling,i!==null){i.return=s.return,Ce=i;break}Ce=s.return}return Pe=Av,Av=!1,Pe}function Xa(i,s,l){var p=s.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var A=p=p.next;do{if((A.tag&i)===i){var O=A.destroy;A.destroy=void 0,O!==void 0&&Dh(s,l,O)}A=A.next}while(A!==p)}}function qu(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var p=l.create;l.destroy=p()}l=l.next}while(l!==s)}}function Lh(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function Iv(i){var s=i.alternate;s!==null&&(i.alternate=null,Iv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[_r],delete s[Ua],delete s[Yf],delete s[SS],delete s[AS])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Rv(i){return i.tag===5||i.tag===3||i.tag===4}function kv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Rv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Mh(i,s,l){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=vu));else if(p!==4&&(i=i.child,i!==null))for(Mh(i,s,l),i=i.sibling;i!==null;)Mh(i,s,l),i=i.sibling}function jh(i,s,l){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(jh(i,s,l),i=i.sibling;i!==null;)jh(i,s,l),i=i.sibling}var Yt=null,sr=!1;function Ci(i,s,l){for(l=l.child;l!==null;)Cv(i,s,l),l=l.sibling}function Cv(i,s,l){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(mo,l)}catch{}switch(l.tag){case 5:an||xs(l,s);case 6:var p=Yt,A=sr;Yt=null,Ci(i,s,l),Yt=p,sr=A,Yt!==null&&(sr?(i=Yt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Yt.removeChild(l.stateNode));break;case 18:Yt!==null&&(sr?(i=Yt,l=l.stateNode,i.nodeType===8?Xf(i.parentNode,l):i.nodeType===1&&Xf(i,l),tr(i)):Xf(Yt,l.stateNode));break;case 4:p=Yt,A=sr,Yt=l.stateNode.containerInfo,sr=!0,Ci(i,s,l),Yt=p,sr=A;break;case 0:case 11:case 14:case 15:if(!an&&(p=l.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){A=p=p.next;do{var O=A,F=O.destroy;O=O.tag,F!==void 0&&(O&2||O&4)&&Dh(l,s,F),A=A.next}while(A!==p)}Ci(i,s,l);break;case 1:if(!an&&(xs(l,s),p=l.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=l.memoizedProps,p.state=l.memoizedState,p.componentWillUnmount()}catch(Q){kt(l,s,Q)}Ci(i,s,l);break;case 21:Ci(i,s,l);break;case 22:l.mode&1?(an=(p=an)||l.memoizedState!==null,Ci(i,s,l),an=p):Ci(i,s,l);break;default:Ci(i,s,l)}}function Pv(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new qS),s.forEach(function(p){var A=YS.bind(null,i,p);l.has(p)||(l.add(p),p.then(A,A))})}}function ar(i,s){var l=s.deletions;if(l!==null)for(var p=0;p<l.length;p++){var A=l[p];try{var O=i,F=s,Q=F;e:for(;Q!==null;){switch(Q.tag){case 5:Yt=Q.stateNode,sr=!1;break e;case 3:Yt=Q.stateNode.containerInfo,sr=!0;break e;case 4:Yt=Q.stateNode.containerInfo,sr=!0;break e}Q=Q.return}if(Yt===null)throw Error(t(160));Cv(O,F,A),Yt=null,sr=!1;var Z=A.alternate;Z!==null&&(Z.return=null),A.return=null}catch(ce){kt(A,s,ce)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Ov(s,i),s=s.sibling}function Ov(i,s){var l=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ar(s,i),Tr(i),p&4){try{Xa(3,i,i.return),qu(3,i)}catch(Oe){kt(i,i.return,Oe)}try{Xa(5,i,i.return)}catch(Oe){kt(i,i.return,Oe)}}break;case 1:ar(s,i),Tr(i),p&512&&l!==null&&xs(l,l.return);break;case 5:if(ar(s,i),Tr(i),p&512&&l!==null&&xs(l,l.return),i.flags&32){var A=i.stateNode;try{ft(A,"")}catch(Oe){kt(i,i.return,Oe)}}if(p&4&&(A=i.stateNode,A!=null)){var O=i.memoizedProps,F=l!==null?l.memoizedProps:O,Q=i.type,Z=i.updateQueue;if(i.updateQueue=null,Z!==null)try{Q==="input"&&O.type==="radio"&&O.name!=null&&xt(A,O),ga(Q,F);var ce=ga(Q,O);for(F=0;F<Z.length;F+=2){var _e=Z[F],we=Z[F+1];_e==="style"?da(A,we):_e==="dangerouslySetInnerHTML"?so(A,we):_e==="children"?ft(A,we):k(A,_e,we,ce)}switch(Q){case"input":gt(A,O);break;case"textarea":ze(A,O);break;case"select":var ve=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!O.multiple;var Re=O.value;Re!=null?Ae(A,!!O.multiple,Re,!1):ve!==!!O.multiple&&(O.defaultValue!=null?Ae(A,!!O.multiple,O.defaultValue,!0):Ae(A,!!O.multiple,O.multiple?[]:"",!1))}A[Ua]=O}catch(Oe){kt(i,i.return,Oe)}}break;case 6:if(ar(s,i),Tr(i),p&4){if(i.stateNode===null)throw Error(t(162));A=i.stateNode,O=i.memoizedProps;try{A.nodeValue=O}catch(Oe){kt(i,i.return,Oe)}}break;case 3:if(ar(s,i),Tr(i),p&4&&l!==null&&l.memoizedState.isDehydrated)try{tr(s.containerInfo)}catch(Oe){kt(i,i.return,Oe)}break;case 4:ar(s,i),Tr(i);break;case 13:ar(s,i),Tr(i),A=i.child,A.flags&8192&&(O=A.memoizedState!==null,A.stateNode.isHidden=O,!O||A.alternate!==null&&A.alternate.memoizedState!==null||(Fh=pt())),p&4&&Pv(i);break;case 22:if(_e=l!==null&&l.memoizedState!==null,i.mode&1?(an=(ce=an)||_e,ar(s,i),an=ce):ar(s,i),Tr(i),p&8192){if(ce=i.memoizedState!==null,(i.stateNode.isHidden=ce)&&!_e&&i.mode&1)for(Ce=i,_e=i.child;_e!==null;){for(we=Ce=_e;Ce!==null;){switch(ve=Ce,Re=ve.child,ve.tag){case 0:case 11:case 14:case 15:Xa(4,ve,ve.return);break;case 1:xs(ve,ve.return);var Pe=ve.stateNode;if(typeof Pe.componentWillUnmount=="function"){p=ve,l=ve.return;try{s=p,Pe.props=s.memoizedProps,Pe.state=s.memoizedState,Pe.componentWillUnmount()}catch(Oe){kt(p,l,Oe)}}break;case 5:xs(ve,ve.return);break;case 22:if(ve.memoizedState!==null){Dv(we);continue}}Re!==null?(Re.return=ve,Ce=Re):Dv(we)}_e=_e.sibling}e:for(_e=null,we=i;;){if(we.tag===5){if(_e===null){_e=we;try{A=we.stateNode,ce?(O=A.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(Q=we.stateNode,Z=we.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,Q.style.display=ha("display",F))}catch(Oe){kt(i,i.return,Oe)}}}else if(we.tag===6){if(_e===null)try{we.stateNode.nodeValue=ce?"":we.memoizedProps}catch(Oe){kt(i,i.return,Oe)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===i)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===i)break e;for(;we.sibling===null;){if(we.return===null||we.return===i)break e;_e===we&&(_e=null),we=we.return}_e===we&&(_e=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:ar(s,i),Tr(i),p&4&&Pv(i);break;case 21:break;default:ar(s,i),Tr(i)}}function Tr(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(Rv(l)){var p=l;break e}l=l.return}throw Error(t(160))}switch(p.tag){case 5:var A=p.stateNode;p.flags&32&&(ft(A,""),p.flags&=-33);var O=kv(i);jh(i,O,A);break;case 3:case 4:var F=p.stateNode.containerInfo,Q=kv(i);Mh(i,Q,F);break;default:throw Error(t(161))}}catch(Z){kt(i,i.return,Z)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function zS(i,s,l){Ce=i,xv(i)}function xv(i,s,l){for(var p=(i.mode&1)!==0;Ce!==null;){var A=Ce,O=A.child;if(A.tag===22&&p){var F=A.memoizedState!==null||Fu;if(!F){var Q=A.alternate,Z=Q!==null&&Q.memoizedState!==null||an;Q=Fu;var ce=an;if(Fu=F,(an=Z)&&!ce)for(Ce=A;Ce!==null;)F=Ce,Z=F.child,F.tag===22&&F.memoizedState!==null?Lv(A):Z!==null?(Z.return=F,Ce=Z):Lv(A);for(;O!==null;)Ce=O,xv(O),O=O.sibling;Ce=A,Fu=Q,an=ce}Nv(i)}else A.subtreeFlags&8772&&O!==null?(O.return=A,Ce=O):Nv(i)}}function Nv(i){for(;Ce!==null;){var s=Ce;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:an||qu(5,s);break;case 1:var p=s.stateNode;if(s.flags&4&&!an)if(l===null)p.componentDidMount();else{var A=s.elementType===s.type?l.memoizedProps:or(s.type,l.memoizedProps);p.componentDidUpdate(A,l.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var O=s.updateQueue;O!==null&&Dy(s,O,p);break;case 3:var F=s.updateQueue;if(F!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Dy(s,F,l)}break;case 5:var Q=s.stateNode;if(l===null&&s.flags&4){l=Q;var Z=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&l.focus();break;case"img":Z.src&&(l.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var ce=s.alternate;if(ce!==null){var _e=ce.memoizedState;if(_e!==null){var we=_e.dehydrated;we!==null&&tr(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}an||s.flags&512&&Lh(s)}catch(ve){kt(s,s.return,ve)}}if(s===i){Ce=null;break}if(l=s.sibling,l!==null){l.return=s.return,Ce=l;break}Ce=s.return}}function Dv(i){for(;Ce!==null;){var s=Ce;if(s===i){Ce=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Ce=l;break}Ce=s.return}}function Lv(i){for(;Ce!==null;){var s=Ce;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{qu(4,s)}catch(Z){kt(s,l,Z)}break;case 1:var p=s.stateNode;if(typeof p.componentDidMount=="function"){var A=s.return;try{p.componentDidMount()}catch(Z){kt(s,A,Z)}}var O=s.return;try{Lh(s)}catch(Z){kt(s,O,Z)}break;case 5:var F=s.return;try{Lh(s)}catch(Z){kt(s,F,Z)}}}catch(Z){kt(s,s.return,Z)}if(s===i){Ce=null;break}var Q=s.sibling;if(Q!==null){Q.return=s.return,Ce=Q;break}Ce=s.return}}var $S=Math.ceil,Bu=E.ReactCurrentDispatcher,Vh=E.ReactCurrentOwner,Wn=E.ReactCurrentBatchConfig,st=0,$t=null,Dt=null,Jt=0,Dn=0,Ns=Si(0),Vt=0,Ya=null,Co=0,zu=0,Uh=0,Ja=null,Tn=null,Fh=0,Ds=1/0,Yr=null,$u=!1,qh=null,Pi=null,Hu=!1,Oi=null,Wu=0,Za=0,Bh=null,Ku=-1,Gu=0;function mn(){return st&6?pt():Ku!==-1?Ku:Ku=pt()}function xi(i){return i.mode&1?st&2&&Jt!==0?Jt&-Jt:RS.transition!==null?(Gu===0&&(Gu=yo()),Gu):(i=nt,i!==0||(i=window.event,i=i===void 0?16:Ra(i.type)),i):1}function lr(i,s,l,p){if(50<Za)throw Za=0,Bh=null,Error(t(185));gi(i,l,p),(!(st&2)||i!==$t)&&(i===$t&&(!(st&2)&&(zu|=l),Vt===4&&Ni(i,Jt)),bn(i,p),l===1&&st===0&&!(s.mode&1)&&(Ds=pt()+500,Tu&&Ii()))}function bn(i,s){var l=i.callbackNode;Ur(i,s);var p=go(i,i===$t?Jt:0);if(p===0)l!==null&&Ta(l),i.callbackNode=null,i.callbackPriority=0;else if(s=p&-p,i.callbackPriority!==s){if(l!=null&&Ta(l),s===1)i.tag===0?IS(jv.bind(null,i)):Ty(jv.bind(null,i)),TS(function(){!(st&6)&&Ii()}),l=null;else{switch(vi(p)){case 1:l=po;break;case 4:l=di;break;case 16:l=Un;break;case 536870912:l=Gl;break;default:l=Un}l=Hv(l,Mv.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function Mv(i,s){if(Ku=-1,Gu=0,st&6)throw Error(t(327));var l=i.callbackNode;if(Ls()&&i.callbackNode!==l)return null;var p=go(i,i===$t?Jt:0);if(p===0)return null;if(p&30||p&i.expiredLanes||s)s=Qu(i,p);else{s=p;var A=st;st|=2;var O=Uv();($t!==i||Jt!==s)&&(Yr=null,Ds=pt()+500,Oo(i,s));do try{KS();break}catch(Q){Vv(i,Q)}while(!0);sh(),Bu.current=O,st=A,Dt!==null?s=0:($t=null,Jt=0,s=Vt)}if(s!==0){if(s===2&&(A=Cn(i),A!==0&&(p=A,s=zh(i,A))),s===1)throw l=Ya,Oo(i,0),Ni(i,p),bn(i,pt()),l;if(s===6)Ni(i,p);else{if(A=i.current.alternate,!(p&30)&&!HS(A)&&(s=Qu(i,p),s===2&&(O=Cn(i),O!==0&&(p=O,s=zh(i,O))),s===1))throw l=Ya,Oo(i,0),Ni(i,p),bn(i,pt()),l;switch(i.finishedWork=A,i.finishedLanes=p,s){case 0:case 1:throw Error(t(345));case 2:xo(i,Tn,Yr);break;case 3:if(Ni(i,p),(p&130023424)===p&&(s=Fh+500-pt(),10<s)){if(go(i,0)!==0)break;if(A=i.suspendedLanes,(A&p)!==p){mn(),i.pingedLanes|=i.suspendedLanes&A;break}i.timeoutHandle=Qf(xo.bind(null,i,Tn,Yr),s);break}xo(i,Tn,Yr);break;case 4:if(Ni(i,p),(p&4194240)===p)break;for(s=i.eventTimes,A=-1;0<p;){var F=31-hn(p);O=1<<F,F=s[F],F>A&&(A=F),p&=~O}if(p=A,p=pt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*$S(p/1960))-p,10<p){i.timeoutHandle=Qf(xo.bind(null,i,Tn,Yr),p);break}xo(i,Tn,Yr);break;case 5:xo(i,Tn,Yr);break;default:throw Error(t(329))}}}return bn(i,pt()),i.callbackNode===l?Mv.bind(null,i):null}function zh(i,s){var l=Ja;return i.current.memoizedState.isDehydrated&&(Oo(i,s).flags|=256),i=Qu(i,s),i!==2&&(s=Tn,Tn=l,s!==null&&$h(s)),i}function $h(i){Tn===null?Tn=i:Tn.push.apply(Tn,i)}function HS(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var p=0;p<l.length;p++){var A=l[p],O=A.getSnapshot;A=A.value;try{if(!rr(O(),A))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ni(i,s){for(s&=~Uh,s&=~zu,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-hn(s),p=1<<l;i[l]=-1,s&=~p}}function jv(i){if(st&6)throw Error(t(327));Ls();var s=go(i,0);if(!(s&1))return bn(i,pt()),null;var l=Qu(i,s);if(i.tag!==0&&l===2){var p=Cn(i);p!==0&&(s=p,l=zh(i,p))}if(l===1)throw l=Ya,Oo(i,0),Ni(i,s),bn(i,pt()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,xo(i,Tn,Yr),bn(i,pt()),null}function Hh(i,s){var l=st;st|=1;try{return i(s)}finally{st=l,st===0&&(Ds=pt()+500,Tu&&Ii())}}function Po(i){Oi!==null&&Oi.tag===0&&!(st&6)&&Ls();var s=st;st|=1;var l=Wn.transition,p=nt;try{if(Wn.transition=null,nt=1,i)return i()}finally{nt=p,Wn.transition=l,st=s,!(st&6)&&Ii()}}function Wh(){Dn=Ns.current,vt(Ns)}function Oo(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,wS(l)),Dt!==null)for(l=Dt.return;l!==null;){var p=l;switch(th(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Eu();break;case 3:Ps(),vt(_n),vt(rn),ph();break;case 5:hh(p);break;case 4:Ps();break;case 13:vt(bt);break;case 19:vt(bt);break;case 10:ah(p.type._context);break;case 22:case 23:Wh()}l=l.return}if($t=i,Dt=i=Di(i.current,null),Jt=Dn=s,Vt=0,Ya=null,Uh=zu=Co=0,Tn=Ja=null,Io!==null){for(s=0;s<Io.length;s++)if(l=Io[s],p=l.interleaved,p!==null){l.interleaved=null;var A=p.next,O=l.pending;if(O!==null){var F=O.next;O.next=A,p.next=F}l.pending=p}Io=null}return i}function Vv(i,s){do{var l=Dt;try{if(sh(),xu.current=Mu,Nu){for(var p=St.memoizedState;p!==null;){var A=p.queue;A!==null&&(A.pending=null),p=p.next}Nu=!1}if(ko=0,zt=jt=St=null,Ha=!1,Wa=0,Vh.current=null,l===null||l.return===null){Vt=1,Ya=s,Dt=null;break}e:{var O=i,F=l.return,Q=l,Z=s;if(s=Jt,Q.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ce=Z,_e=Q,we=_e.tag;if(!(_e.mode&1)&&(we===0||we===11||we===15)){var ve=_e.alternate;ve?(_e.updateQueue=ve.updateQueue,_e.memoizedState=ve.memoizedState,_e.lanes=ve.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var Re=uv(F);if(Re!==null){Re.flags&=-257,cv(Re,F,Q,O,s),Re.mode&1&&lv(O,ce,s),s=Re,Z=ce;var Pe=s.updateQueue;if(Pe===null){var Oe=new Set;Oe.add(Z),s.updateQueue=Oe}else Pe.add(Z);break e}else{if(!(s&1)){lv(O,ce,s),Kh();break e}Z=Error(t(426))}}else if(wt&&Q.mode&1){var Pt=uv(F);if(Pt!==null){!(Pt.flags&65536)&&(Pt.flags|=256),cv(Pt,F,Q,O,s),ih(Os(Z,Q));break e}}O=Z=Os(Z,Q),Vt!==4&&(Vt=2),Ja===null?Ja=[O]:Ja.push(O),O=F;do{switch(O.tag){case 3:O.flags|=65536,s&=-s,O.lanes|=s;var le=sv(O,Z,s);Ny(O,le);break e;case 1:Q=Z;var re=O.type,ue=O.stateNode;if(!(O.flags&128)&&(typeof re.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(Pi===null||!Pi.has(ue)))){O.flags|=65536,s&=-s,O.lanes|=s;var Te=av(O,Q,s);Ny(O,Te);break e}}O=O.return}while(O!==null)}qv(l)}catch(xe){s=xe,Dt===l&&l!==null&&(Dt=l=l.return);continue}break}while(!0)}function Uv(){var i=Bu.current;return Bu.current=Mu,i===null?Mu:i}function Kh(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),$t===null||!(Co&268435455)&&!(zu&268435455)||Ni($t,Jt)}function Qu(i,s){var l=st;st|=2;var p=Uv();($t!==i||Jt!==s)&&(Yr=null,Oo(i,s));do try{WS();break}catch(A){Vv(i,A)}while(!0);if(sh(),st=l,Bu.current=p,Dt!==null)throw Error(t(261));return $t=null,Jt=0,Vt}function WS(){for(;Dt!==null;)Fv(Dt)}function KS(){for(;Dt!==null&&!Wl();)Fv(Dt)}function Fv(i){var s=$v(i.alternate,i,Dn);i.memoizedProps=i.pendingProps,s===null?qv(i):Dt=s,Vh.current=null}function qv(i){var s=i;do{var l=s.alternate;if(i=s.return,s.flags&32768){if(l=FS(l,s),l!==null){l.flags&=32767,Dt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Vt=6,Dt=null;return}}else if(l=US(l,s,Dn),l!==null){Dt=l;return}if(s=s.sibling,s!==null){Dt=s;return}Dt=s=i}while(s!==null);Vt===0&&(Vt=5)}function xo(i,s,l){var p=nt,A=Wn.transition;try{Wn.transition=null,nt=1,GS(i,s,l,p)}finally{Wn.transition=A,nt=p}return null}function GS(i,s,l,p){do Ls();while(Oi!==null);if(st&6)throw Error(t(327));l=i.finishedWork;var A=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var O=l.lanes|l.childLanes;if(dt(i,O),i===$t&&(Dt=$t=null,Jt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Hu||(Hu=!0,Hv(Un,function(){return Ls(),null})),O=(l.flags&15990)!==0,l.subtreeFlags&15990||O){O=Wn.transition,Wn.transition=null;var F=nt;nt=1;var Q=st;st|=4,Vh.current=null,BS(i,l),Ov(l,i),pS(Kf),Ei=!!Wf,Kf=Wf=null,i.current=l,zS(l),Pf(),st=Q,nt=F,Wn.transition=O}else i.current=l;if(Hu&&(Hu=!1,Oi=i,Wu=A),O=i.pendingLanes,O===0&&(Pi=null),Ql(l.stateNode),bn(i,pt()),s!==null)for(p=i.onRecoverableError,l=0;l<s.length;l++)A=s[l],p(A.value,{componentStack:A.stack,digest:A.digest});if($u)throw $u=!1,i=qh,qh=null,i;return Wu&1&&i.tag!==0&&Ls(),O=i.pendingLanes,O&1?i===Bh?Za++:(Za=0,Bh=i):Za=0,Ii(),null}function Ls(){if(Oi!==null){var i=vi(Wu),s=Wn.transition,l=nt;try{if(Wn.transition=null,nt=16>i?16:i,Oi===null)var p=!1;else{if(i=Oi,Oi=null,Wu=0,st&6)throw Error(t(331));var A=st;for(st|=4,Ce=i.current;Ce!==null;){var O=Ce,F=O.child;if(Ce.flags&16){var Q=O.deletions;if(Q!==null){for(var Z=0;Z<Q.length;Z++){var ce=Q[Z];for(Ce=ce;Ce!==null;){var _e=Ce;switch(_e.tag){case 0:case 11:case 15:Xa(8,_e,O)}var we=_e.child;if(we!==null)we.return=_e,Ce=we;else for(;Ce!==null;){_e=Ce;var ve=_e.sibling,Re=_e.return;if(Iv(_e),_e===ce){Ce=null;break}if(ve!==null){ve.return=Re,Ce=ve;break}Ce=Re}}}var Pe=O.alternate;if(Pe!==null){var Oe=Pe.child;if(Oe!==null){Pe.child=null;do{var Pt=Oe.sibling;Oe.sibling=null,Oe=Pt}while(Oe!==null)}}Ce=O}}if(O.subtreeFlags&2064&&F!==null)F.return=O,Ce=F;else e:for(;Ce!==null;){if(O=Ce,O.flags&2048)switch(O.tag){case 0:case 11:case 15:Xa(9,O,O.return)}var le=O.sibling;if(le!==null){le.return=O.return,Ce=le;break e}Ce=O.return}}var re=i.current;for(Ce=re;Ce!==null;){F=Ce;var ue=F.child;if(F.subtreeFlags&2064&&ue!==null)ue.return=F,Ce=ue;else e:for(F=re;Ce!==null;){if(Q=Ce,Q.flags&2048)try{switch(Q.tag){case 0:case 11:case 15:qu(9,Q)}}catch(xe){kt(Q,Q.return,xe)}if(Q===F){Ce=null;break e}var Te=Q.sibling;if(Te!==null){Te.return=Q.return,Ce=Te;break e}Ce=Q.return}}if(st=A,Ii(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(mo,i)}catch{}p=!0}return p}finally{nt=l,Wn.transition=s}}return!1}function Bv(i,s,l){s=Os(l,s),s=sv(i,s,1),i=ki(i,s,1),s=mn(),i!==null&&(gi(i,1,s),bn(i,s))}function kt(i,s,l){if(i.tag===3)Bv(i,i,l);else for(;s!==null;){if(s.tag===3){Bv(s,i,l);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Pi===null||!Pi.has(p))){i=Os(l,i),i=av(s,i,1),s=ki(s,i,1),i=mn(),s!==null&&(gi(s,1,i),bn(s,i));break}}s=s.return}}function QS(i,s,l){var p=i.pingCache;p!==null&&p.delete(s),s=mn(),i.pingedLanes|=i.suspendedLanes&l,$t===i&&(Jt&l)===l&&(Vt===4||Vt===3&&(Jt&130023424)===Jt&&500>pt()-Fh?Oo(i,0):Uh|=l),bn(i,s)}function zv(i,s){s===0&&(i.mode&1?(s=is,is<<=1,!(is&130023424)&&(is=4194304)):s=1);var l=mn();i=Gr(i,s),i!==null&&(gi(i,s,l),bn(i,l))}function XS(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),zv(i,l)}function YS(i,s){var l=0;switch(i.tag){case 13:var p=i.stateNode,A=i.memoizedState;A!==null&&(l=A.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(s),zv(i,l)}var $v;$v=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||_n.current)wn=!0;else{if(!(i.lanes&l)&&!(s.flags&128))return wn=!1,VS(i,s,l);wn=!!(i.flags&131072)}else wn=!1,wt&&s.flags&1048576&&by(s,Su,s.index);switch(s.lanes=0,s.tag){case 2:var p=s.type;Uu(i,s),i=s.pendingProps;var A=bs(s,rn.current);Cs(s,l),A=yh(null,s,p,i,A,l);var O=vh();return s.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,En(p)?(O=!0,wu(s)):O=!1,s.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,ch(s),A.updater=ju,s.stateNode=A,A._reactInternals=s,Sh(s,p,i,l),s=kh(null,s,p,!0,O,l)):(s.tag=0,wt&&O&&eh(s),pn(null,s,A,l),s=s.child),s;case 16:p=s.elementType;e:{switch(Uu(i,s),i=s.pendingProps,A=p._init,p=A(p._payload),s.type=p,A=s.tag=ZS(p),i=or(p,i),A){case 0:s=Rh(null,s,p,i,l);break e;case 1:s=gv(null,s,p,i,l);break e;case 11:s=fv(null,s,p,i,l);break e;case 14:s=hv(null,s,p,or(p.type,i),l);break e}throw Error(t(306,p,""))}return s;case 0:return p=s.type,A=s.pendingProps,A=s.elementType===p?A:or(p,A),Rh(i,s,p,A,l);case 1:return p=s.type,A=s.pendingProps,A=s.elementType===p?A:or(p,A),gv(i,s,p,A,l);case 3:e:{if(yv(s),i===null)throw Error(t(387));p=s.pendingProps,O=s.memoizedState,A=O.element,xy(i,s),Pu(s,p,null,l);var F=s.memoizedState;if(p=F.element,O.isDehydrated)if(O={element:p,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},s.updateQueue.baseState=O,s.memoizedState=O,s.flags&256){A=Os(Error(t(423)),s),s=vv(i,s,p,l,A);break e}else if(p!==A){A=Os(Error(t(424)),s),s=vv(i,s,p,l,A);break e}else for(Nn=bi(s.stateNode.containerInfo.firstChild),xn=s,wt=!0,ir=null,l=Py(s,null,p,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Is(),p===A){s=Xr(i,s,l);break e}pn(i,s,p,l)}s=s.child}return s;case 5:return Ly(s),i===null&&rh(s),p=s.type,A=s.pendingProps,O=i!==null?i.memoizedProps:null,F=A.children,Gf(p,A)?F=null:O!==null&&Gf(p,O)&&(s.flags|=32),mv(i,s),pn(i,s,F,l),s.child;case 6:return i===null&&rh(s),null;case 13:return _v(i,s,l);case 4:return fh(s,s.stateNode.containerInfo),p=s.pendingProps,i===null?s.child=Rs(s,null,p,l):pn(i,s,p,l),s.child;case 11:return p=s.type,A=s.pendingProps,A=s.elementType===p?A:or(p,A),fv(i,s,p,A,l);case 7:return pn(i,s,s.pendingProps,l),s.child;case 8:return pn(i,s,s.pendingProps.children,l),s.child;case 12:return pn(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(p=s.type._context,A=s.pendingProps,O=s.memoizedProps,F=A.value,mt(Ru,p._currentValue),p._currentValue=F,O!==null)if(rr(O.value,F)){if(O.children===A.children&&!_n.current){s=Xr(i,s,l);break e}}else for(O=s.child,O!==null&&(O.return=s);O!==null;){var Q=O.dependencies;if(Q!==null){F=O.child;for(var Z=Q.firstContext;Z!==null;){if(Z.context===p){if(O.tag===1){Z=Qr(-1,l&-l),Z.tag=2;var ce=O.updateQueue;if(ce!==null){ce=ce.shared;var _e=ce.pending;_e===null?Z.next=Z:(Z.next=_e.next,_e.next=Z),ce.pending=Z}}O.lanes|=l,Z=O.alternate,Z!==null&&(Z.lanes|=l),lh(O.return,l,s),Q.lanes|=l;break}Z=Z.next}}else if(O.tag===10)F=O.type===s.type?null:O.child;else if(O.tag===18){if(F=O.return,F===null)throw Error(t(341));F.lanes|=l,Q=F.alternate,Q!==null&&(Q.lanes|=l),lh(F,l,s),F=O.sibling}else F=O.child;if(F!==null)F.return=O;else for(F=O;F!==null;){if(F===s){F=null;break}if(O=F.sibling,O!==null){O.return=F.return,F=O;break}F=F.return}O=F}pn(i,s,A.children,l),s=s.child}return s;case 9:return A=s.type,p=s.pendingProps.children,Cs(s,l),A=$n(A),p=p(A),s.flags|=1,pn(i,s,p,l),s.child;case 14:return p=s.type,A=or(p,s.pendingProps),A=or(p.type,A),hv(i,s,p,A,l);case 15:return dv(i,s,s.type,s.pendingProps,l);case 17:return p=s.type,A=s.pendingProps,A=s.elementType===p?A:or(p,A),Uu(i,s),s.tag=1,En(p)?(i=!0,wu(s)):i=!1,Cs(s,l),iv(s,p,A),Sh(s,p,A,l),kh(null,s,p,!0,i,l);case 19:return wv(i,s,l);case 22:return pv(i,s,l)}throw Error(t(156,s.tag))};function Hv(i,s){return ns(i,s)}function JS(i,s,l,p){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(i,s,l,p){return new JS(i,s,l,p)}function Gh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ZS(i){if(typeof i=="function")return Gh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===D)return 11;if(i===G)return 14}return 2}function Di(i,s){var l=i.alternate;return l===null?(l=Kn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Xu(i,s,l,p,A,O){var F=2;if(p=i,typeof i=="function")Gh(i)&&(F=1);else if(typeof i=="string")F=5;else e:switch(i){case P:return No(l.children,A,O,s);case R:F=8,A|=8;break;case M:return i=Kn(12,l,s,A|2),i.elementType=M,i.lanes=O,i;case N:return i=Kn(13,l,s,A),i.elementType=N,i.lanes=O,i;case H:return i=Kn(19,l,s,A),i.elementType=H,i.lanes=O,i;case te:return Yu(l,A,O,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case x:F=10;break e;case I:F=9;break e;case D:F=11;break e;case G:F=14;break e;case X:F=16,p=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=Kn(F,l,s,A),s.elementType=i,s.type=p,s.lanes=O,s}function No(i,s,l,p){return i=Kn(7,i,p,s),i.lanes=l,i}function Yu(i,s,l,p){return i=Kn(22,i,p,s),i.elementType=te,i.lanes=l,i.stateNode={isHidden:!1},i}function Qh(i,s,l){return i=Kn(6,i,null,s),i.lanes=l,i}function Xh(i,s,l){return s=Kn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function eA(i,s,l,p,A){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mi(0),this.expirationTimes=mi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.identifierPrefix=p,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function Yh(i,s,l,p,A,O,F,Q,Z){return i=new eA(i,s,l,Q,Z),s===1?(s=1,O===!0&&(s|=8)):s=0,O=Kn(3,null,null,s),i.current=O,O.stateNode=i,O.memoizedState={element:p,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},ch(O),i}function tA(i,s,l){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:p==null?null:""+p,children:i,containerInfo:s,implementation:l}}function Wv(i){if(!i)return Ai;i=i._reactInternals;e:{if(Xn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(En(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(En(l))return Ey(i,l,s)}return s}function Kv(i,s,l,p,A,O,F,Q,Z){return i=Yh(l,p,!0,i,A,O,F,Q,Z),i.context=Wv(null),l=i.current,p=mn(),A=xi(l),O=Qr(p,A),O.callback=s??null,ki(l,O,A),i.current.lanes=A,gi(i,A,p),bn(i,p),i}function Ju(i,s,l,p){var A=s.current,O=mn(),F=xi(A);return l=Wv(l),s.context===null?s.context=l:s.pendingContext=l,s=Qr(O,F),s.payload={element:i},p=p===void 0?null:p,p!==null&&(s.callback=p),i=ki(A,s,F),i!==null&&(lr(i,A,F,O),Cu(i,A,F)),F}function Zu(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Gv(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Jh(i,s){Gv(i,s),(i=i.alternate)&&Gv(i,s)}var Qv=typeof reportError=="function"?reportError:function(i){console.error(i)};function Zh(i){this._internalRoot=i}ec.prototype.render=Zh.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));Ju(i,s,null,null)},ec.prototype.unmount=Zh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Po(function(){Ju(null,i,null,null)}),s[$r]=null}};function ec(i){this._internalRoot=i}ec.prototype.unstable_scheduleHydration=function(i){if(i){var s=eu();i={blockedOn:null,target:i,priority:s};for(var l=0;l<mr.length&&s!==0&&s<mr[l].priority;l++);mr.splice(l,0,i),l===0&&ru(i)}};function ed(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function tc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Xv(){}function nA(i,s,l,p,A){if(A){if(typeof p=="function"){var O=p;p=function(){var ce=Zu(F);O.call(ce)}}var F=Kv(s,p,i,0,null,!1,!1,"",Xv);return i._reactRootContainer=F,i[$r]=F.current,ja(i.nodeType===8?i.parentNode:i),Po(),F}for(;A=i.lastChild;)i.removeChild(A);if(typeof p=="function"){var Q=p;p=function(){var ce=Zu(Z);Q.call(ce)}}var Z=Yh(i,0,!1,null,null,!1,!1,"",Xv);return i._reactRootContainer=Z,i[$r]=Z.current,ja(i.nodeType===8?i.parentNode:i),Po(function(){Ju(s,Z,l,p)}),Z}function nc(i,s,l,p,A){var O=l._reactRootContainer;if(O){var F=O;if(typeof A=="function"){var Q=A;A=function(){var Z=Zu(F);Q.call(Z)}}Ju(s,F,i,A)}else F=nA(l,s,i,A,p);return Zu(F)}Jl=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=pi(s.pendingLanes);l!==0&&(yi(s,l|1),bn(s,pt()),!(st&6)&&(Ds=pt()+500,Ii()))}break;case 13:Po(function(){var p=Gr(i,1);if(p!==null){var A=mn();lr(p,i,1,A)}}),Jh(i,1)}},os=function(i){if(i.tag===13){var s=Gr(i,134217728);if(s!==null){var l=mn();lr(s,i,134217728,l)}Jh(i,134217728)}},Zl=function(i){if(i.tag===13){var s=xi(i),l=Gr(i,s);if(l!==null){var p=mn();lr(l,i,s,p)}Jh(i,s)}},eu=function(){return nt},tu=function(i,s){var l=nt;try{return nt=i,s()}finally{nt=l}},Xo=function(i,s,l){switch(s){case"input":if(gt(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var p=l[s];if(p!==i&&p.form===i.form){var A=_u(p);if(!A)throw Error(t(90));De(p),gt(p,A)}}}break;case"textarea":ze(i,l);break;case"select":s=l.value,s!=null&&Ae(i,!!l.multiple,s,!1)}},uo=Hh,va=Po;var rA={usingClientEntryPoint:!1,Events:[Fa,ws,_u,dr,ya,Hh]},el={findFiberByHostInstance:To,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iA={bundleType:el.bundleType,version:el.version,rendererPackageName:el.rendererPackageName,rendererConfig:el.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=wa(i),i===null?null:i.stateNode},findFiberByHostInstance:el.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{mo=rc.inject(iA),kn=rc}catch{}}return Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rA,Sn.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ed(s))throw Error(t(200));return tA(i,s,null,l)},Sn.createRoot=function(i,s){if(!ed(i))throw Error(t(299));var l=!1,p="",A=Qv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=Yh(i,1,!1,null,null,l,!1,p,A),i[$r]=s.current,ja(i.nodeType===8?i.parentNode:i),new Zh(s)},Sn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=wa(s),i=i===null?null:i.stateNode,i},Sn.flushSync=function(i){return Po(i)},Sn.hydrate=function(i,s,l){if(!tc(s))throw Error(t(200));return nc(null,i,s,!0,l)},Sn.hydrateRoot=function(i,s,l){if(!ed(i))throw Error(t(405));var p=l!=null&&l.hydratedSources||null,A=!1,O="",F=Qv;if(l!=null&&(l.unstable_strictMode===!0&&(A=!0),l.identifierPrefix!==void 0&&(O=l.identifierPrefix),l.onRecoverableError!==void 0&&(F=l.onRecoverableError)),s=Kv(s,null,i,1,l??null,A,!1,O,F),i[$r]=s.current,ja(i),p)for(i=0;i<p.length;i++)l=p[i],A=l._getVersion,A=A(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,A]:s.mutableSourceEagerHydrationData.push(l,A);return new ec(s)},Sn.render=function(i,s,l){if(!tc(s))throw Error(t(200));return nc(null,i,s,!1,l)},Sn.unmountComponentAtNode=function(i){if(!tc(i))throw Error(t(40));return i._reactRootContainer?(Po(function(){nc(null,null,i,!1,function(){i._reactRootContainer=null,i[$r]=null})}),!0):!1},Sn.unstable_batchedUpdates=Hh,Sn.unstable_renderSubtreeIntoContainer=function(i,s,l,p){if(!tc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return nc(i,s,l,!1,p)},Sn.version="18.3.1-next-f1338f8080-20240426",Sn}var i_;function xw(){if(i_)return rd.exports;i_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rd.exports=fA(),rd.exports}var o_;function hA(){if(o_)return oc;o_=1;var n=xw();return oc.createRoot=n.createRoot,oc.hydrateRoot=n.hydrateRoot,oc}var dA=hA(),nl={},s_;function pA(){if(s_)return nl;s_=1,Object.defineProperty(nl,"__esModule",{value:!0}),nl.parse=u,nl.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const d=function(){};return d.prototype=Object.create(null),d})();function u(d,g){const b=new a,T=d.length;if(T<2)return b;const _=(g==null?void 0:g.decode)||v;let w=0;do{const S=d.indexOf("=",w);if(S===-1)break;const k=d.indexOf(";",w),E=k===-1?T:k;if(S>E){w=d.lastIndexOf(";",S-1)+1;continue}const L=f(d,w,S),U=h(d,S,L),P=d.slice(L,U);if(b[P]===void 0){let R=f(d,S+1,E),M=h(d,E,R);const x=_(d.slice(R,M));b[P]=x}w=E+1}while(w<T);return b}function f(d,g,b){do{const T=d.charCodeAt(g);if(T!==32&&T!==9)return g}while(++g<b);return b}function h(d,g,b){for(;g>b;){const T=d.charCodeAt(--g);if(T!==32&&T!==9)return g+1}return b}function m(d,g,b){const T=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(d))throw new TypeError(`argument name is invalid: ${d}`);const _=T(g);if(!e.test(_))throw new TypeError(`argument val is invalid: ${g}`);let w=d+"="+_;if(!b)return w;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);w+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);w+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);w+="; Path="+b.path}if(b.expires){if(!y(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);w+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(w+="; HttpOnly"),b.secure&&(w+="; Secure"),b.partitioned&&(w+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return w}function v(d){if(d.indexOf("%")===-1)return d;try{return decodeURIComponent(d)}catch{return d}}function y(d){return o.call(d)==="[object Date]"}return nl}pA();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var a_="popstate";function mA(n={}){function e(r,o){let{pathname:a,search:u,hash:f}=r.location;return om("",{pathname:a,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:vl(o)}return yA(e,t,null,n)}function At(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gA(){return Math.random().toString(36).substring(2,10)}function l_(n,e){return{usr:n.state,key:n.key,idx:e}}function om(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?na(e):e,state:t,key:e&&e.key||r||gA()}}function vl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function na(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function yA(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,f="POP",h=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function y(){f="POP";let _=v(),w=_==null?null:_-m;m=_,h&&h({action:f,location:T.location,delta:w})}function d(_,w){f="PUSH";let S=om(T.location,_,w);m=v()+1;let k=l_(S,m),E=T.createHref(S);try{u.pushState(k,"",E)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;o.location.assign(E)}a&&h&&h({action:f,location:T.location,delta:1})}function g(_,w){f="REPLACE";let S=om(T.location,_,w);m=v();let k=l_(S,m),E=T.createHref(S);u.replaceState(k,"",E),a&&h&&h({action:f,location:T.location,delta:0})}function b(_){let w=o.location.origin!=="null"?o.location.origin:o.location.href,S=typeof _=="string"?_:vl(_);return S=S.replace(/ $/,"%20"),At(w,`No window.location.(origin|href) available to create URL for href: ${S}`),new URL(S,w)}let T={get action(){return f},get location(){return n(o,u)},listen(_){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(a_,y),h=_,()=>{o.removeEventListener(a_,y),h=null}},createHref(_){return e(o,_)},createURL:b,encodeLocation(_){let w=b(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:d,replace:g,go(_){return u.go(_)}};return T}function Nw(n,e,t="/"){return vA(n,e,t,!1)}function vA(n,e,t,r){let o=typeof e=="string"?na(e):e,a=Qi(o.pathname||"/",t);if(a==null)return null;let u=Dw(n);_A(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let m=PA(a);f=kA(u[h],m,r)}return f}function Dw(n,e=[],t=[],r=""){let o=(a,u,f)=>{let h={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(At(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let m=ni([r,h.relativePath]),v=t.concat(h);a.children&&a.children.length>0&&(At(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Dw(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:IA(m,a.index),routesMeta:v})};return n.forEach((a,u)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))o(a,u);else for(let h of Lw(a.path))o(a,u,h)}),e}function Lw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=Lw(r.join("/")),f=[];return f.push(...u.map(h=>h===""?a:[a,h].join("/"))),o&&f.push(...u),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function _A(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:RA(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var EA=/^:[\w-]+$/,wA=3,TA=2,bA=1,SA=10,AA=-2,u_=n=>n==="*";function IA(n,e){let t=n.split("/"),r=t.length;return t.some(u_)&&(r+=AA),e&&(r+=TA),t.filter(o=>!u_(o)).reduce((o,a)=>o+(EA.test(a)?wA:a===""?bA:SA),r)}function RA(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function kA(n,e,t=!1){let{routesMeta:r}=n,o={},a="/",u=[];for(let f=0;f<r.length;++f){let h=r[f],m=f===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",y=Cc({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},v),d=h.route;if(!y&&m&&t&&!r[r.length-1].route.index&&(y=Cc({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!y)return null;Object.assign(o,y.params),u.push({params:o,pathname:ni([a,y.pathname]),pathnameBase:DA(ni([a,y.pathnameBase])),route:d}),y.pathnameBase!=="/"&&(a=ni([a,y.pathnameBase]))}return u}function Cc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=CA(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:r.reduce((m,{paramName:v,isOptional:y},d)=>{if(v==="*"){let b=f[d]||"";u=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const g=f[d];return y&&!g?m[v]=void 0:m[v]=(g||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function CA(n,e=!1,t=!0){xr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(r.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function PA(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Qi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function OA(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?na(n):n;return{pathname:t?t.startsWith("/")?t:xA(t,e):e,search:LA(r),hash:MA(o)}}function xA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function sd(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Mw(n){let e=NA(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function jw(n,e,t,r=!1){let o;typeof n=="string"?o=na(n):(o={...n},At(!o.pathname||!o.pathname.includes("?"),sd("?","pathname","search",o)),At(!o.pathname||!o.pathname.includes("#"),sd("#","pathname","hash",o)),At(!o.search||!o.search.includes("#"),sd("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,f;if(u==null)f=t;else{let y=e.length-1;if(!r&&u.startsWith("..")){let d=u.split("/");for(;d[0]==="..";)d.shift(),y-=1;o.pathname=d.join("/")}f=y>=0?e[y]:"/"}let h=OA(o,f),m=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(m||v)&&(h.pathname+="/"),h}var ni=n=>n.join("/").replace(/\/\/+/g,"/"),DA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),LA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,MA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function jA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Vw=["POST","PUT","PATCH","DELETE"];new Set(Vw);var VA=["GET",...Vw];new Set(VA);var ra=de.createContext(null);ra.displayName="DataRouter";var Yc=de.createContext(null);Yc.displayName="DataRouterState";var Uw=de.createContext({isTransitioning:!1});Uw.displayName="ViewTransition";var UA=de.createContext(new Map);UA.displayName="Fetchers";var FA=de.createContext(null);FA.displayName="Await";var Lr=de.createContext(null);Lr.displayName="Navigation";var kl=de.createContext(null);kl.displayName="Location";var Mr=de.createContext({outlet:null,matches:[],isDataRoute:!1});Mr.displayName="Route";var Mm=de.createContext(null);Mm.displayName="RouteError";function qA(n,{relative:e}={}){At(Cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=de.useContext(Lr),{hash:o,pathname:a,search:u}=Ol(n,{relative:e}),f=a;return t!=="/"&&(f=a==="/"?t:ni([t,a])),r.createHref({pathname:f,search:u,hash:o})}function Cl(){return de.useContext(kl)!=null}function Ho(){return At(Cl(),"useLocation() may be used only in the context of a <Router> component."),de.useContext(kl).location}var Fw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qw(n){de.useContext(Lr).static||de.useLayoutEffect(n)}function Pl(){let{isDataRoute:n}=de.useContext(Mr);return n?eI():BA()}function BA(){At(Cl(),"useNavigate() may be used only in the context of a <Router> component.");let n=de.useContext(ra),{basename:e,navigator:t}=de.useContext(Lr),{matches:r}=de.useContext(Mr),{pathname:o}=Ho(),a=JSON.stringify(Mw(r)),u=de.useRef(!1);return qw(()=>{u.current=!0}),de.useCallback((h,m={})=>{if(xr(u.current,Fw),!u.current)return;if(typeof h=="number"){t.go(h);return}let v=jw(h,JSON.parse(a),o,m.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ni([e,v.pathname])),(m.replace?t.replace:t.push)(v,m.state,m)},[e,t,a,o,n])}de.createContext(null);function Bw(){let{matches:n}=de.useContext(Mr),e=n[n.length-1];return e?e.params:{}}function Ol(n,{relative:e}={}){let{matches:t}=de.useContext(Mr),{pathname:r}=Ho(),o=JSON.stringify(Mw(t));return de.useMemo(()=>jw(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function zA(n,e){return zw(n,e)}function zw(n,e,t,r){var w;At(Cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=de.useContext(Lr),{matches:a}=de.useContext(Mr),u=a[a.length-1],f=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",v=u&&u.route;{let S=v&&v.path||"";$w(h,!v||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let y=Ho(),d;if(e){let S=typeof e=="string"?na(e):e;At(m==="/"||((w=S.pathname)==null?void 0:w.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${S.pathname}" was given in the \`location\` prop.`),d=S}else d=y;let g=d.pathname||"/",b=g;if(m!=="/"){let S=m.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(S.length).join("/")}let T=Nw(n,{pathname:b});xr(v||T!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),xr(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=GA(T&&T.map(S=>Object.assign({},S,{params:Object.assign({},f,S.params),pathname:ni([m,o.encodeLocation?o.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?m:ni([m,o.encodeLocation?o.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,t,r);return e&&_?de.createElement(kl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},_):_}function $A(){let n=ZA(),e=jA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=de.createElement(de.Fragment,null,de.createElement("p",null,"💿 Hey developer 👋"),de.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",de.createElement("code",{style:a},"ErrorBoundary")," or"," ",de.createElement("code",{style:a},"errorElement")," prop on your route.")),de.createElement(de.Fragment,null,de.createElement("h2",null,"Unexpected Application Error!"),de.createElement("h3",{style:{fontStyle:"italic"}},e),t?de.createElement("pre",{style:o},t):null,u)}var HA=de.createElement($A,null),WA=class extends de.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?de.createElement(Mr.Provider,{value:this.props.routeContext},de.createElement(Mm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KA({routeContext:n,match:e,children:t}){let r=de.useContext(ra);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),de.createElement(Mr.Provider,{value:n},t)}function GA(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let h=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);At(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,f=-1;if(t)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:v,errors:y}=t,d=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||d){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((h,m,v)=>{let y,d=!1,g=null,b=null;t&&(y=a&&m.route.id?a[m.route.id]:void 0,g=m.route.errorElement||HA,u&&(f<0&&v===0?($w("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,b=null):f===v&&(d=!0,b=m.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,v+1)),_=()=>{let w;return y?w=g:d?w=b:m.route.Component?w=de.createElement(m.route.Component,null):m.route.element?w=m.route.element:w=h,de.createElement(KA,{match:m,routeContext:{outlet:h,matches:T,isDataRoute:t!=null},children:w})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?de.createElement(WA,{location:t.location,revalidation:t.revalidation,component:g,error:y,children:_(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):_()},null)}function jm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QA(n){let e=de.useContext(ra);return At(e,jm(n)),e}function XA(n){let e=de.useContext(Yc);return At(e,jm(n)),e}function YA(n){let e=de.useContext(Mr);return At(e,jm(n)),e}function Vm(n){let e=YA(n),t=e.matches[e.matches.length-1];return At(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function JA(){return Vm("useRouteId")}function ZA(){var r;let n=de.useContext(Mm),e=XA("useRouteError"),t=Vm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function eI(){let{router:n}=QA("useNavigate"),e=Vm("useNavigate"),t=de.useRef(!1);return qw(()=>{t.current=!0}),de.useCallback(async(o,a={})=>{xr(t.current,Fw),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var c_={};function $w(n,e,t){!e&&!c_[n]&&(c_[n]=!0,xr(!1,t))}de.memo(tI);function tI({routes:n,future:e,state:t}){return zw(n,void 0,t,e)}function Do(n){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nI({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:a=!1}){At(!Cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=de.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=na(t));let{pathname:h="/",search:m="",hash:v="",state:y=null,key:d="default"}=t,g=de.useMemo(()=>{let b=Qi(h,u);return b==null?null:{location:{pathname:b,search:m,hash:v,state:y,key:d},navigationType:r}},[u,h,m,v,y,d,r]);return xr(g!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:de.createElement(Lr.Provider,{value:f},de.createElement(kl.Provider,{children:e,value:g}))}function rI({children:n,location:e}){return zA(sm(n),e)}function sm(n,e=[]){let t=[];return de.Children.forEach(n,(r,o)=>{if(!de.isValidElement(r))return;let a=[...e,o];if(r.type===de.Fragment){t.push.apply(t,sm(r.props.children,a));return}At(r.type===Do,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=sm(r.props.children,a)),t.push(u)}),t}var gc="get",yc="application/x-www-form-urlencoded";function Jc(n){return n!=null&&typeof n.tagName=="string"}function iI(n){return Jc(n)&&n.tagName.toLowerCase()==="button"}function oI(n){return Jc(n)&&n.tagName.toLowerCase()==="form"}function sI(n){return Jc(n)&&n.tagName.toLowerCase()==="input"}function aI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function lI(n,e){return n.button===0&&(!e||e==="_self")&&!aI(n)}var sc=null;function uI(){if(sc===null)try{new FormData(document.createElement("form"),0),sc=!1}catch{sc=!0}return sc}var cI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ad(n){return n!=null&&!cI.has(n)?(xr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yc}"`),null):n}function fI(n,e){let t,r,o,a,u;if(oI(n)){let f=n.getAttribute("action");r=f?Qi(f,e):null,t=n.getAttribute("method")||gc,o=ad(n.getAttribute("enctype"))||yc,a=new FormData(n)}else if(iI(n)||sI(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||f.getAttribute("action");if(r=h?Qi(h,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||gc,o=ad(n.getAttribute("formenctype"))||ad(f.getAttribute("enctype"))||yc,a=new FormData(f,n),!uI()){let{name:m,type:v,value:y}=n;if(v==="image"){let d=m?`${m}.`:"";a.append(`${d}x`,"0"),a.append(`${d}y`,"0")}else m&&a.append(m,y)}}else{if(Jc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=gc,r=null,o=yc,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:u}}function Um(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function hI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function pI(n,e,t){let r=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await hI(a,t);return u.links?u.links():[]}return[]}));return vI(r.flat(1).filter(dI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function f_(n,e,t,r,o,a){let u=(h,m)=>t[m]?h.route.id!==t[m].route.id:!0,f=(h,m)=>{var v;return t[m].pathname!==h.pathname||((v=t[m].route.path)==null?void 0:v.endsWith("*"))&&t[m].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,m)=>u(h,m)||f(h,m)):a==="data"?e.filter((h,m)=>{var y;let v=r.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(u(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let d=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function mI(n,e){return gI(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let o=[r.module];return r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function gI(n){return[...new Set(n)]}function yI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function vI(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let a=JSON.stringify(yI(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}function _I(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function EI(){let n=de.useContext(ra);return Um(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function wI(){let n=de.useContext(Yc);return Um(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Fm=de.createContext(void 0);Fm.displayName="FrameworkContext";function Hw(){let n=de.useContext(Fm);return Um(n,"You must render this element inside a <HydratedRouter> element"),n}function TI(n,e){let t=de.useContext(Fm),[r,o]=de.useState(!1),[a,u]=de.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:v,onTouchStart:y}=e,d=de.useRef(null);de.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let T=w=>{w.forEach(S=>{u(S.isIntersecting)})},_=new IntersectionObserver(T,{threshold:.5});return d.current&&_.observe(d.current),()=>{_.disconnect()}}},[n]),de.useEffect(()=>{if(r){let T=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(T)}}},[r]);let g=()=>{o(!0)},b=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,d,{}]:[a,d,{onFocus:rl(f,g),onBlur:rl(h,b),onMouseEnter:rl(m,g),onMouseLeave:rl(v,b),onTouchStart:rl(y,g)}]:[!1,d,{}]}function rl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function bI({page:n,...e}){let{router:t}=EI(),r=de.useMemo(()=>Nw(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?de.createElement(AI,{page:n,matches:r,...e}):null}function SI(n){let{manifest:e,routeModules:t}=Hw(),[r,o]=de.useState([]);return de.useEffect(()=>{let a=!1;return pI(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),r}function AI({page:n,matches:e,...t}){let r=Ho(),{manifest:o,routeModules:a}=Hw(),{loaderData:u,matches:f}=wI(),h=de.useMemo(()=>f_(n,e,f,o,r,"data"),[n,e,f,o,r]),m=de.useMemo(()=>f_(n,e,f,o,r,"assets"),[n,e,f,o,r]),v=de.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let g=new Set,b=!1;if(e.forEach(_=>{var S;let w=o.routes[_.route.id];!w||!w.hasLoader||(!h.some(k=>k.route.id===_.route.id)&&_.route.id in u&&((S=a[_.route.id])!=null&&S.shouldRevalidate)||w.hasClientLoader?b=!0:g.add(_.route.id))}),g.size===0)return[];let T=_I(n);return b&&g.size>0&&T.searchParams.set("_routes",e.filter(_=>g.has(_.route.id)).map(_=>_.route.id).join(",")),[T.pathname+T.search]},[u,r,o,h,e,n,a]),y=de.useMemo(()=>mI(m,o),[m,o]),d=SI(m);return de.createElement(de.Fragment,null,v.map(g=>de.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...t})),y.map(g=>de.createElement("link",{key:g,rel:"modulepreload",href:g,...t})),d.map(({key:g,link:b})=>de.createElement("link",{key:g,...b})))}function II(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Ww=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ww&&(window.__reactRouterVersion="7.1.3")}catch{}function RI({basename:n,children:e,window:t}){let r=de.useRef();r.current==null&&(r.current=mA({window:t,v5Compat:!0}));let o=r.current,[a,u]=de.useState({action:o.action,location:o.location}),f=de.useCallback(h=>{de.startTransition(()=>u(h))},[u]);return de.useLayoutEffect(()=>o.listen(f),[o,f]),de.createElement(nI,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var Kw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_l=de.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:f,target:h,to:m,preventScrollReset:v,viewTransition:y,...d},g){let{basename:b}=de.useContext(Lr),T=typeof m=="string"&&Kw.test(m),_,w=!1;if(typeof m=="string"&&T&&(_=m,Ww))try{let M=new URL(window.location.href),x=m.startsWith("//")?new URL(M.protocol+m):new URL(m),I=Qi(x.pathname,b);x.origin===M.origin&&I!=null?m=I+x.search+x.hash:w=!0}catch{xr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=qA(m,{relative:o}),[k,E,L]=TI(r,d),U=OI(m,{replace:u,state:f,target:h,preventScrollReset:v,relative:o,viewTransition:y});function P(M){e&&e(M),M.defaultPrevented||U(M)}let R=de.createElement("a",{...d,...L,href:_||S,onClick:w||a?e:P,ref:II(g,E),target:h,"data-discover":!T&&t==="render"?"true":void 0});return k&&!T?de.createElement(de.Fragment,null,R,de.createElement(bI,{page:S})):R});_l.displayName="Link";var kI=de.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:f,children:h,...m},v){let y=Ol(u,{relative:m.relative}),d=Ho(),g=de.useContext(Yc),{navigator:b,basename:T}=de.useContext(Lr),_=g!=null&&MI(y)&&f===!0,w=b.encodeLocation?b.encodeLocation(y).pathname:y.pathname,S=d.pathname,k=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;t||(S=S.toLowerCase(),k=k?k.toLowerCase():null,w=w.toLowerCase()),k&&T&&(k=Qi(k,T)||k);const E=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let L=S===w||!o&&S.startsWith(w)&&S.charAt(E)==="/",U=k!=null&&(k===w||!o&&k.startsWith(w)&&k.charAt(w.length)==="/"),P={isActive:L,isPending:U,isTransitioning:_},R=L?e:void 0,M;typeof r=="function"?M=r(P):M=[r,L?"active":null,U?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let x=typeof a=="function"?a(P):a;return de.createElement(_l,{...m,"aria-current":R,className:M,ref:v,style:x,to:u,viewTransition:f},typeof h=="function"?h(P):h)});kI.displayName="NavLink";var CI=de.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:a,method:u=gc,action:f,onSubmit:h,relative:m,preventScrollReset:v,viewTransition:y,...d},g)=>{let b=DI(),T=LI(f,{relative:m}),_=u.toLowerCase()==="get"?"get":"post",w=typeof f=="string"&&Kw.test(f),S=k=>{if(h&&h(k),k.defaultPrevented)return;k.preventDefault();let E=k.nativeEvent.submitter,L=(E==null?void 0:E.getAttribute("formmethod"))||u;b(E||k.currentTarget,{fetcherKey:e,method:L,navigate:t,replace:o,state:a,relative:m,preventScrollReset:v,viewTransition:y})};return de.createElement("form",{ref:g,method:_,action:T,onSubmit:r?h:S,...d,"data-discover":!w&&n==="render"?"true":void 0})});CI.displayName="Form";function PI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gw(n){let e=de.useContext(ra);return At(e,PI(n)),e}function OI(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:u}={}){let f=Pl(),h=Ho(),m=Ol(n,{relative:a});return de.useCallback(v=>{if(lI(v,e)){v.preventDefault();let y=t!==void 0?t:vl(h)===vl(m);f(n,{replace:y,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[h,f,m,t,r,e,n,o,a,u])}var xI=0,NI=()=>`__${String(++xI)}__`;function DI(){let{router:n}=Gw("useSubmit"),{basename:e}=de.useContext(Lr),t=JA();return de.useCallback(async(r,o={})=>{let{action:a,method:u,encType:f,formData:h,body:m}=fI(r,e);if(o.navigate===!1){let v=o.fetcherKey||NI();await n.fetch(v,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function LI(n,{relative:e}={}){let{basename:t}=de.useContext(Lr),r=de.useContext(Mr);At(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...Ol(n||".",{relative:e})},u=Ho();if(n==null){a.search=u.search;let f=new URLSearchParams(a.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(y=>y).forEach(y=>f.append("index",y));let v=f.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ni([t,a.pathname])),vl(a)}function MI(n,e={}){let t=de.useContext(Uw);At(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Gw("useViewTransitionState"),o=Ol(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Qi(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Qi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Cc(o.pathname,u)!=null||Cc(o.pathname,a)!=null}new TextEncoder;const jI="_showcaseContainer_rjbh0_1",VI="_productsGrid_rjbh0_12",UI="_imageContainer_rjbh0_17",FI="_productCard_rjbh0_29",qI="_title_rjbh0_40",BI="_price_rjbh0_46",zI="_containerImages_rjbh0_64",$I="_scrollContainer_rjbh0_85",Mi={showcaseContainer:jI,productsGrid:VI,imageContainer:UI,productCard:FI,title:qI,price:BI,containerImages:zI,scrollContainer:$I,"product-image":"_product-image_rjbh0_116"},fi=Ge.createContext(),HI=()=>{};var h_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},WI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],f=n[t++],h=((o&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Xw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,f=u?n[o+1]:0,h=o+2<n.length,m=h?n[o+2]:0,v=a>>2,y=(a&3)<<4|f>>4;let d=(f&15)<<2|m>>6,g=m&63;h||(g=64,u||(d=64)),r.push(t[v],t[y],t[d],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Qw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):WI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const y=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||f==null||m==null||y==null)throw new KI;const d=a<<2|f>>4;if(r.push(d),m!==64){const g=f<<4&240|m>>2;if(r.push(g),y!==64){const b=m<<6&192|y;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class KI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GI=function(n){const e=Qw(n);return Xw.encodeByteArray(e,!0)},Pc=function(n){return GI(n).replace(/\./g,"")},Yw=function(n){try{return Xw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=()=>QI().__FIREBASE_DEFAULTS__,YI=()=>{if(typeof process>"u"||typeof h_>"u")return;const n=h_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},JI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Yw(n[1]);return e&&JSON.parse(e)},Zc=()=>{try{return HI()||XI()||YI()||JI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Jw=n=>{var e,t;return(t=(e=Zc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Zw=n=>{const e=Jw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},e0=()=>{var n;return(n=Zc())===null||n===void 0?void 0:n.config},t0=n=>{var e;return(e=Zc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Pc(JSON.stringify(t)),Pc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function tR(){var n;const e=(n=Zc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function iR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oR(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function sR(){return!tR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aR(){try{return typeof indexedDB=="object"}catch{return!1}}function lR(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="FirebaseError";class jr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=uR,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xl.prototype.create)}}class xl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?cR(a,r):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new jr(o,f,r)}}function cR(n,e){return n.replace(fR,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const fR=/\{\$([^}]+)}/g;function hR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Uo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(d_(a)&&d_(u)){if(!Uo(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function d_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dR(n,e){const t=new pR(n,e);return t.subscribe.bind(t)}class pR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");mR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=ld),o.error===void 0&&(o.error=ld),o.complete===void 0&&(o.complete=ld);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ld(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(n){return n&&n._delegate?n._delegate:n}class Xi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new ZI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vR(e))try{this.getOrInitializeService({instanceIdentifier:Lo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lo){return this.instances.has(e)}getOptions(e=Lo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);r===f&&u.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Lo){return this.component?this.component.multipleInstances?e:Lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yR(n){return n===Lo?void 0:n}function vR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new gR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(et||(et={}));const ER={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},wR=et.INFO,TR={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},bR=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=TR[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qm{constructor(e){this.name=e,this._logLevel=wR,this._logHandler=bR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ER[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const SR=(n,e)=>e.some(t=>n instanceof t);let p_,m_;function AR(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IR(){return m_||(m_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r0=new WeakMap,am=new WeakMap,i0=new WeakMap,ud=new WeakMap,Bm=new WeakMap;function RR(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Hi(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&r0.set(t,n)}).catch(()=>{}),Bm.set(e,n),e}function kR(n){if(am.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});am.set(n,e)}let lm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return am.get(n);if(e==="objectStoreNames")return n.objectStoreNames||i0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Hi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function CR(n){lm=n(lm)}function PR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(cd(this),e,...t);return i0.set(r,e.sort?e.sort():[e]),Hi(r)}:IR().includes(n)?function(...e){return n.apply(cd(this),e),Hi(r0.get(this))}:function(...e){return Hi(n.apply(cd(this),e))}}function OR(n){return typeof n=="function"?PR(n):(n instanceof IDBTransaction&&kR(n),SR(n,AR())?new Proxy(n,lm):n)}function Hi(n){if(n instanceof IDBRequest)return RR(n);if(ud.has(n))return ud.get(n);const e=OR(n);return e!==n&&(ud.set(n,e),Bm.set(e,n)),e}const cd=n=>Bm.get(n);function xR(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),f=Hi(u);return r&&u.addEventListener("upgradeneeded",h=>{r(Hi(u.result),h.oldVersion,h.newVersion,Hi(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{a&&h.addEventListener("close",()=>a()),o&&h.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const NR=["get","getKey","getAll","getAllKeys","count"],DR=["put","add","delete","clear"],fd=new Map;function g_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(fd.get(e))return fd.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=DR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||NR.includes(t)))return;const a=async function(u,...f){const h=this.transaction(u,o?"readwrite":"readonly");let m=h.store;return r&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),o&&h.done]))[0]};return fd.set(e,a),a}CR(n=>({...n,get:(e,t,r)=>g_(e,t)||n.get(e,t,r),has:(e,t)=>!!g_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(MR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function MR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const um="@firebase/app",y_="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new qm("@firebase/app"),jR="@firebase/app-compat",VR="@firebase/analytics-compat",UR="@firebase/analytics",FR="@firebase/app-check-compat",qR="@firebase/app-check",BR="@firebase/auth",zR="@firebase/auth-compat",$R="@firebase/database",HR="@firebase/data-connect",WR="@firebase/database-compat",KR="@firebase/functions",GR="@firebase/functions-compat",QR="@firebase/installations",XR="@firebase/installations-compat",YR="@firebase/messaging",JR="@firebase/messaging-compat",ZR="@firebase/performance",ek="@firebase/performance-compat",tk="@firebase/remote-config",nk="@firebase/remote-config-compat",rk="@firebase/storage",ik="@firebase/storage-compat",ok="@firebase/firestore",sk="@firebase/vertexai",ak="@firebase/firestore-compat",lk="firebase",uk="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="[DEFAULT]",ck={[um]:"fire-core",[jR]:"fire-core-compat",[UR]:"fire-analytics",[VR]:"fire-analytics-compat",[qR]:"fire-app-check",[FR]:"fire-app-check-compat",[BR]:"fire-auth",[zR]:"fire-auth-compat",[$R]:"fire-rtdb",[HR]:"fire-data-connect",[WR]:"fire-rtdb-compat",[KR]:"fire-fn",[GR]:"fire-fn-compat",[QR]:"fire-iid",[XR]:"fire-iid-compat",[YR]:"fire-fcm",[JR]:"fire-fcm-compat",[ZR]:"fire-perf",[ek]:"fire-perf-compat",[tk]:"fire-rc",[nk]:"fire-rc-compat",[rk]:"fire-gcs",[ik]:"fire-gcs-compat",[ok]:"fire-fst",[ak]:"fire-fst-compat",[sk]:"fire-vertex","fire-js":"fire-js",[lk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=new Map,fk=new Map,fm=new Map;function v_(n,e){try{n.container.addComponent(e)}catch(t){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fo(n){const e=n.name;if(fm.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;fm.set(e,n);for(const t of Oc.values())v_(t,n);for(const t of fk.values())v_(t,n);return!0}function ef(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function cr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wi=new xl("app","Firebase",hk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=uk;function o0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:cm,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Wi.create("bad-app-name",{appName:String(o)});if(t||(t=e0()),!t)throw Wi.create("no-options");const a=Oc.get(o);if(a){if(Uo(t,a.options)&&Uo(r,a.config))return a;throw Wi.create("duplicate-app",{appName:o})}const u=new _R(o);for(const h of fm.values())u.addComponent(h);const f=new dk(t,r,u);return Oc.set(o,f),f}function zm(n=cm){const e=Oc.get(n);if(!e&&n===cm&&e0())return o0();if(!e)throw Wi.create("no-app",{appName:n});return e}function Rr(n,e,t){var r;let o=(r=ck[n])!==null&&r!==void 0?r:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${o}" with version "${e}":`];a&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(f.join(" "));return}Fo(new Xi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="firebase-heartbeat-database",mk=1,El="firebase-heartbeat-store";let hd=null;function s0(){return hd||(hd=xR(pk,mk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(El)}catch(t){console.warn(t)}}}}).catch(n=>{throw Wi.create("idb-open",{originalErrorMessage:n.message})})),hd}async function gk(n){try{const t=(await s0()).transaction(El),r=await t.objectStore(El).get(a0(n));return await t.done,r}catch(e){if(e instanceof jr)oi.warn(e.message);else{const t=Wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oi.warn(t.message)}}}async function __(n,e){try{const r=(await s0()).transaction(El,"readwrite");await r.objectStore(El).put(e,a0(n)),await r.done}catch(t){if(t instanceof jr)oi.warn(t.message);else{const r=Wi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});oi.warn(r.message)}}}function a0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=1024,vk=30;class _k{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wk(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=E_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>vk){const u=Tk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){oi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=E_(),{heartbeatsToSend:r,unsentEntries:o}=Ek(this._heartbeatsCache.heartbeats),a=Pc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return oi.warn(t),""}}}function E_(){return new Date().toISOString().substring(0,10)}function Ek(n,e=yk){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),w_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),w_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class wk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aR()?lR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await gk(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return __(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return __(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function w_(n){return Pc(JSON.stringify({version:2,heartbeats:n})).length}function Tk(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(n){Fo(new Xi("platform-logger",e=>new LR(e),"PRIVATE")),Fo(new Xi("heartbeat",e=>new _k(e),"PRIVATE")),Rr(um,y_,n),Rr(um,y_,"esm2017"),Rr("fire-js","")}bk("");var Sk="firebase",Ak="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(Sk,Ak,"app");function $m(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function l0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ik=l0,u0=new xl("auth","Firebase",l0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new qm("@firebase/auth");function Rk(n,...e){xc.logLevel<=et.WARN&&xc.warn(`Auth (${Wo}): ${n}`,...e)}function vc(n,...e){xc.logLevel<=et.ERROR&&xc.error(`Auth (${Wo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(n,...e){throw Hm(n,...e)}function kr(n,...e){return Hm(n,...e)}function c0(n,e,t){const r=Object.assign(Object.assign({},Ik()),{[e]:t});return new xl("auth","Firebase",r).create(e,{appName:n.name})}function jo(n){return c0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return u0.create(n,...e)}function qe(n,e,...t){if(!n)throw Hm(e,...t)}function Zr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw vc(e),new Error(e)}function ai(n,e){n||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function kk(){return T_()==="http:"||T_()==="https:"}function T_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kk()||rR()||"connection"in navigator)?navigator.onLine:!0}function Pk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,t){this.shortDelay=e,this.longDelay=t,ai(t>e,"Short delay should be less than long delay!"),this.isMobile=eR()||iR()}get(){return Ck()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(n,e){ai(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=new Dl(3e4,6e4);function Km(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ia(n,e,t,r,o={}){return h0(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const f=Nl(Object.assign({key:n.config.apiKey},u)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:h},a);return nR()||(m.referrerPolicy="no-referrer"),f0.fetch()(d0(n,n.config.apiHost,t,f),m)})}async function h0(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ok),e);try{const o=new Dk(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw ac(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[h,m]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw ac(n,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw ac(n,"email-already-in-use",u);if(h==="USER_DISABLED")throw ac(n,"user-disabled",u);const v=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw c0(n,v,m);si(n,v)}}catch(o){if(o instanceof jr)throw o;si(n,"network-request-failed",{message:String(o)})}}async function Nk(n,e,t,r,o={}){const a=await ia(n,e,t,r,o);return"mfaPendingCredential"in a&&si(n,"multi-factor-auth-required",{_serverResponse:a}),a}function d0(n,e,t,r){const o=`${e}${t}?${r}`;return n.config.emulator?Wm(n.config,o):`${n.config.apiScheme}://${o}`}class Dk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(kr(this.auth,"network-request-failed")),xk.get())})}}function ac(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=kr(n,e,r);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lk(n,e){return ia(n,"POST","/v1/accounts:delete",e)}async function p0(n,e){return ia(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Mk(n,e=!1){const t=Gt(n),r=await t.getIdToken(e),o=Gm(r);qe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:r,authTime:hl(dd(o.auth_time)),issuedAtTime:hl(dd(o.iat)),expirationTime:hl(dd(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function dd(n){return Number(n)*1e3}function Gm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return vc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Yw(t);return o?JSON.parse(o):(vc("Failed to decode base64 JWT payload"),null)}catch(o){return vc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function b_(n){const e=Gm(n);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof jr&&jk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function jk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hl(this.lastLoginAt),this.creationTime=hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(n){var e;const t=n.auth,r=await n.getIdToken(),o=await wl(n,p0(t,{idToken:r}));qe(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?m0(a.providerUserInfo):[],f=Fk(n.providerData,u),h=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(f!=null&&f.length),v=h?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new dm(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,y)}async function Uk(n){const e=Gt(n);await Nc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Fk(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function m0(n){return n.map(e=>{var{providerId:t}=e,r=$m(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk(n,e){const t=await h0(n,{},async()=>{const r=Nl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=d0(n,o,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",f0.fetch()(u,{method:"POST",headers:f,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Bk(n,e){return ia(n,"POST","/v2/accounts:revokeToken",Km(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const t=b_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await qk(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new zs;return r&&(qe(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(qe(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(qe(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zs,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(n,e){qe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ei{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,a=$m(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new dm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await wl(this,this.stsTokenManager.getToken(this.auth,e));return qe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Mk(this,e)}reload(){return Uk(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Nc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cr(this.auth.app))return Promise.reject(jo(this.auth));const e=await this.getIdToken();return await wl(this,Lk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,a,u,f,h,m,v;const y=(r=t.displayName)!==null&&r!==void 0?r:void 0,d=(o=t.email)!==null&&o!==void 0?o:void 0,g=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,b=(u=t.photoURL)!==null&&u!==void 0?u:void 0,T=(f=t.tenantId)!==null&&f!==void 0?f:void 0,_=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,w=(m=t.createdAt)!==null&&m!==void 0?m:void 0,S=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:k,emailVerified:E,isAnonymous:L,providerData:U,stsTokenManager:P}=t;qe(k&&P,e,"internal-error");const R=zs.fromJSON(this.name,P);qe(typeof k=="string",e,"internal-error"),ji(y,e.name),ji(d,e.name),qe(typeof E=="boolean",e,"internal-error"),qe(typeof L=="boolean",e,"internal-error"),ji(g,e.name),ji(b,e.name),ji(T,e.name),ji(_,e.name),ji(w,e.name),ji(S,e.name);const M=new ei({uid:k,auth:e,email:d,emailVerified:E,displayName:y,isAnonymous:L,photoURL:b,phoneNumber:g,tenantId:T,stsTokenManager:R,createdAt:w,lastLoginAt:S});return U&&Array.isArray(U)&&(M.providerData=U.map(x=>Object.assign({},x))),_&&(M._redirectEventId=_),M}static async _fromIdTokenResponse(e,t,r=!1){const o=new zs;o.updateFromServerResponse(t);const a=new ei({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Nc(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];qe(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?m0(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),f=new zs;f.updateFromIdToken(r);const h=new ei({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new dm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=new Map;function ti(n){ai(n instanceof Function,"Expected a class definition");let e=S_.get(n);return e?(ai(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,S_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}g0.type="NONE";const A_=g0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(n,e,t){return`firebase:${n}:${e}:${t}`}class $s{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=_c(this.userKey,o.apiKey,a),this.fullPersistenceKey=_c("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ei._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new $s(ti(A_),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||ti(A_);const u=_c(r,e.config.apiKey,e.name);let f=null;for(const m of t)try{const v=await m._get(u);if(v){const y=ei._fromJSON(e,v);m!==a&&(f=y),a=m;break}}catch{}const h=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new $s(a,e,r):(a=h[0],f&&await a._set(u,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new $s(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(E0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(y0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(T0(e))return"Blackberry";if(b0(e))return"Webos";if(v0(e))return"Safari";if((e.includes("chrome/")||_0(e))&&!e.includes("edge/"))return"Chrome";if(w0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function y0(n=fn()){return/firefox\//i.test(n)}function v0(n=fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _0(n=fn()){return/crios\//i.test(n)}function E0(n=fn()){return/iemobile/i.test(n)}function w0(n=fn()){return/android/i.test(n)}function T0(n=fn()){return/blackberry/i.test(n)}function b0(n=fn()){return/webos/i.test(n)}function Qm(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function zk(n=fn()){var e;return Qm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $k(){return oR()&&document.documentMode===10}function S0(n=fn()){return Qm(n)||w0(n)||b0(n)||T0(n)||/windows phone/i.test(n)||E0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(n,e=[]){let t;switch(n){case"Browser":t=I_(fn());break;case"Worker":t=`${I_(fn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,f)=>{try{const h=e(a);u(h)}catch(h){f(h)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wk(n,e={}){return ia(n,"GET","/v2/passwordPolicy",Km(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=6;class Gk{constructor(e){var t,r,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:Kk,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,a,u,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(o=h.containsLowercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R_(this),this.idTokenSubscription=new R_(this),this.beforeStateQueue=new Hk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ti(t)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await $s.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await p0(this,{idToken:e}),r=await ei._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(cr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===f)&&(h!=null&&h.user)&&(o=h.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Nc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Pk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cr(this.app))return Promise.reject(jo(this));const t=e?Gt(e):null;return t&&qe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cr(this.app)?Promise.reject(jo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cr(this.app)?Promise.reject(jo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Wk(this),t=new Gk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Bk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ti(e)||this._popupRedirectResolver;qe(t,this,"argument-error"),this.redirectPersistenceManager=await $s.create(this,[ti(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,o);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Rk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Xm(n){return Gt(n)}class R_{constructor(e){this.auth=e,this.observer=null,this.addObserver=dR(t=>this.observer=t)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ym={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Xk(n){Ym=n}function Yk(n){return Ym.loadJS(n)}function Jk(){return Ym.gapiScript}function Zk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(n,e){const t=ef(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Uo(a,e??{}))return o;si(o,"already-initialized")}return t.initialize({options:e})}function tC(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ti);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function nC(n,e,t){const r=Xm(n);qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=I0(e),{host:u,port:f}=rC(e),h=f===null?"":`:${f}`,m={url:`${a}//${u}${h}/`},v=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),qe(Uo(m,r.config.emulator)&&Uo(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,iC()}function I0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function rC(n){const e=I0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:k_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:k_(u)}}}function k_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function iC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,t){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hs(n,e){return Nk(n,"POST","/v1/accounts:signInWithIdp",Km(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="http://localhost";class qo extends R0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):si("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,a=$m(t,["providerId","signInMethod"]);if(!r||!o)return null;const u=new qo(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Hs(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Hs(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Hs(e,t)}buildRequest(){const e={requestUri:oC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends k0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Ll{constructor(){super("facebook.com")}static credential(e){return qo._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Ll{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return qo._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Fi.credential(t,r)}catch{return null}}}Fi.GOOGLE_SIGN_IN_METHOD="google.com";Fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Ll{constructor(){super("github.com")}static credential(e){return qo._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.GITHUB_SIGN_IN_METHOD="github.com";qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Ll{constructor(){super("twitter.com")}static credential(e,t){return qo._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Bi.credential(t,r)}catch{return null}}}Bi.TWITTER_SIGN_IN_METHOD="twitter.com";Bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await ei._fromIdTokenResponse(e,r,o),u=C_(r);return new Ks({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=C_(r);return new Ks({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function C_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends jr{constructor(e,t,r,o){var a;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Dc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Dc(e,t,r,o)}}function C0(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Dc._fromErrorAndOperation(n,a,e,r):a})}async function sC(n,e,t=!1){const r=await wl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ks._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(n,e,t=!1){const{auth:r}=n;if(cr(r.app))return Promise.reject(jo(r));const o="reauthenticate";try{const a=await wl(n,C0(r,o,e,n),t);qe(a.idToken,r,"internal-error");const u=Gm(a.idToken);qe(u,r,"internal-error");const{sub:f}=u;return qe(n.uid===f,r,"user-mismatch"),Ks._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&si(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(n,e,t=!1){if(cr(n.app))return Promise.reject(jo(n));const r="signIn",o=await C0(n,r,e),a=await Ks._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}function uC(n,e,t,r){return Gt(n).onIdTokenChanged(e,t,r)}function cC(n,e,t){return Gt(n).beforeAuthStateChanged(e,t)}const Lc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Lc,"1"),this.storage.removeItem(Lc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=1e3,hC=10;class O0 extends P0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=S0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,h)=>{this.notifyListeners(u,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);$k()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,hC):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},fC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}O0.type="LOCAL";const dC=O0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0 extends P0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}x0.type="SESSION";const N0=x0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new tf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const f=Array.from(u).map(async m=>m(t.origin,a)),h=await pC(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((f,h)=>{const m=Jm("",20);o.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(y){const d=y;if(d.data.eventId===m)switch(d.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(d.data.response);break;default:clearTimeout(v),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function gC(n){Cr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function yC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function _C(){return D0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="firebaseLocalStorageDb",EC=1,Mc="firebaseLocalStorage",M0="fbase_key";class Ml{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function nf(n,e){return n.transaction([Mc],e?"readwrite":"readonly").objectStore(Mc)}function wC(){const n=indexedDB.deleteDatabase(L0);return new Ml(n).toPromise()}function pm(){const n=indexedDB.open(L0,EC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Mc,{keyPath:M0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Mc)?e(r):(r.close(),await wC(),e(await pm()))})})}async function P_(n,e,t){const r=nf(n,!0).put({[M0]:e,value:t});return new Ml(r).toPromise()}async function TC(n,e){const t=nf(n,!1).get(e),r=await new Ml(t).toPromise();return r===void 0?null:r.value}function O_(n,e){const t=nf(n,!0).delete(e);return new Ml(t).toPromise()}const bC=800,SC=3;class j0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>SC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return D0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tf._getInstance(_C()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await yC(),!this.activeServiceWorker)return;this.sender=new mC(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pm();return await P_(e,Lc,"1"),await O_(e,Lc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>P_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>TC(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>O_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=nf(o,!1).getAll();return new Ml(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}j0.type="LOCAL";const AC=j0;new Dl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(n,e){return e?ti(e):(qe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm extends R0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Hs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Hs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function RC(n){return lC(n.auth,new Zm(n),n.bypassAuthState)}function kC(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),aC(t,new Zm(n),n.bypassAuthState)}async function CC(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),sC(t,new Zm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:f}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RC;case"linkViaPopup":case"linkViaRedirect":return CC;case"reauthViaPopup":case"reauthViaRedirect":return kC;default:si(this.auth,"internal-error")}}resolve(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=new Dl(2e3,1e4);class Bs extends V0{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Bs.currentPopupAction&&Bs.currentPopupAction.cancel(),Bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){ai(this.filter.length===1,"Popup operations only handle one event");const e=Jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PC.get())};e()}}Bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="pendingRedirect",Ec=new Map;class xC extends V0{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ec.get(this.auth._key());if(!e){try{const r=await NC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ec.set(this.auth._key(),e)}return this.bypassAuthState||Ec.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NC(n,e){const t=MC(e),r=LC(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function DC(n,e){Ec.set(n._key(),e)}function LC(n){return ti(n._redirectPersistence)}function MC(n){return _c(OC,n.config.apiKey,n.name)}async function jC(n,e,t=!1){if(cr(n.app))return Promise.reject(jo(n));const r=Xm(n),o=IC(r,e),u=await new xC(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=10*60*1e3;class UC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!U0(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(kr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VC&&this.cachedEventUids.clear(),this.cachedEventUids.has(x_(e))}saveEventToCache(e){this.cachedEventUids.add(x_(e)),this.lastProcessedEventTime=Date.now()}}function x_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function U0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function FC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return U0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(n,e={}){return ia(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zC=/^https?/;async function $C(n){if(n.config.emulator)return;const{authorizedDomains:e}=await qC(n);for(const t of e)try{if(HC(t))return}catch{}si(n,"unauthorized-domain")}function HC(n){const e=hm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!zC.test(t))return!1;if(BC.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=new Dl(3e4,6e4);function N_(){const n=Cr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function KC(n){return new Promise((e,t)=>{var r,o,a;function u(){N_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N_(),t(kr(n,"network-request-failed"))},timeout:WC.get()})}if(!((o=(r=Cr().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Cr().gapi)===null||a===void 0)&&a.load)u();else{const f=Zk("iframefcb");return Cr()[f]=()=>{gapi.load?u():t(kr(n,"network-request-failed"))},Yk(`${Jk()}?onload=${f}`).catch(h=>t(h))}}).catch(e=>{throw wc=null,e})}let wc=null;function GC(n){return wc=wc||KC(n),wc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=new Dl(5e3,15e3),XC="__/auth/iframe",YC="emulator/auth/iframe",JC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eP(n){const e=n.config;qe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Wm(e,YC):`https://${n.config.authDomain}/${XC}`,r={apiKey:e.apiKey,appName:n.name,v:Wo},o=ZC.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Nl(r).slice(1)}`}async function tP(n){const e=await GC(n),t=Cr().gapi;return qe(t,n,"internal-error"),e.open({where:document.body,url:eP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JC,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=kr(n,"network-request-failed"),f=Cr().setTimeout(()=>{a(u)},QC.get());function h(){Cr().clearTimeout(f),o(r)}r.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rP=500,iP=600,oP="_blank",sP="http://localhost";class D_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aP(n,e,t,r=rP,o=iP){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const h=Object.assign(Object.assign({},nP),{width:r.toString(),height:o.toString(),top:a,left:u}),m=fn().toLowerCase();t&&(f=_0(m)?oP:t),y0(m)&&(e=e||sP,h.scrollbars="yes");const v=Object.entries(h).reduce((d,[g,b])=>`${d}${g}=${b},`,"");if(zk(m)&&f!=="_self")return lP(e||"",f),new D_(null);const y=window.open(e||"",f,v);qe(y,n,"popup-blocked");try{y.focus()}catch{}return new D_(y)}function lP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP="__/auth/handler",cP="emulator/auth/handler",fP=encodeURIComponent("fac");async function L_(n,e,t,r,o,a){qe(n.config.authDomain,n,"auth-domain-config-required"),qe(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Wo,eventId:o};if(e instanceof k0){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",hR(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,y]of Object.entries({}))u[v]=y}if(e instanceof Ll){const v=e.getScopes().filter(y=>y!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const h=await n._getAppCheckToken(),m=h?`#${fP}=${encodeURIComponent(h)}`:"";return`${hP(n)}?${Nl(f).slice(1)}${m}`}function hP({config:n}){return n.emulator?Wm(n,cP):`https://${n.authDomain}/${uP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="webStorageSupport";class dP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=N0,this._completeRedirectFn=jC,this._overrideRedirectResult=DC}async _openPopup(e,t,r,o){var a;ai((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await L_(e,t,r,hm(),o);return aP(e,u,Jm())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await L_(e,t,r,hm(),o);return gC(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(ai(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await tP(e),r=new UC(e);return t.register("authEvent",o=>(qe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(pd,{type:pd},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[pd];u!==void 0&&t(!!u),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=$C(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return S0()||v0()||Qm()}}const pP=dP;var M_="@firebase/auth",j_="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yP(n){Fo(new Xi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;qe(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A0(n)},m=new Qk(r,o,a,h);return tC(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Fo(new Xi("auth-internal",e=>{const t=Xm(e.getProvider("auth").getImmediate());return(r=>new mP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rr(M_,j_,gP(n)),Rr(M_,j_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=5*60,_P=t0("authIdTokenMaxAge")||vP;let V_=null;const EP=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>_P)return;const o=t==null?void 0:t.token;V_!==o&&(V_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function wP(n=zm()){const e=ef(n,"auth");if(e.isInitialized())return e.getImmediate();const t=eC(n,{popupRedirectResolver:pP,persistence:[AC,dC,N0]}),r=t0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=EP(a.toString());cC(t,u,()=>u(t.currentUser)),uC(t,f=>u(f))}}const o=Jw("auth");return o&&nC(t,`http://${o}`),t}function TP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Xk({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=kr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",TP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yP("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="firebasestorage.googleapis.com",q0="storageBucket",bP=2*60*1e3,SP=10*60*1e3,AP=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt extends jr{constructor(e,t,r=0){super(md(e),`Firebase Storage: ${t} (${md(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return md(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _t;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_t||(_t={}));function md(n){return"storage/"+n}function eg(){const n="An unknown error occurred, please check the error payload for server response.";return new Rt(_t.UNKNOWN,n)}function IP(n){return new Rt(_t.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function RP(n){return new Rt(_t.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function kP(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Rt(_t.UNAUTHENTICATED,n)}function CP(){return new Rt(_t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function PP(n){return new Rt(_t.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function B0(){return new Rt(_t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function z0(){return new Rt(_t.CANCELED,"User canceled the upload/download.")}function OP(n){return new Rt(_t.INVALID_URL,"Invalid URL '"+n+"'.")}function xP(n){return new Rt(_t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function NP(){return new Rt(_t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+q0+"' property when initializing the app?")}function $0(){return new Rt(_t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function DP(){return new Rt(_t.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function LP(){return new Rt(_t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function MP(n){return new Rt(_t.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function mm(n){return new Rt(_t.INVALID_ARGUMENT,n)}function H0(){return new Rt(_t.APP_DELETED,"The Firebase app was deleted.")}function jP(n){return new Rt(_t.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function dl(n,e){return new Rt(_t.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function il(n){throw new Rt(_t.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Ln.makeFromUrl(e,t)}catch{return new Ln(e,"")}if(r.path==="")return r;throw xP(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+o+u,"i"),h={bucket:1,path:3};function m(E){E.path_=decodeURIComponent(E.path)}const v="v[A-Za-z0-9_]+",y=t.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",g=new RegExp(`^https?://${y}/${v}/b/${o}/o${d}`,"i"),b={bucket:1,path:3},T=t===F0?"(?:storage.googleapis.com|storage.cloud.google.com)":t,_="([^?#]*)",w=new RegExp(`^https?://${T}/${o}/${_}`,"i"),k=[{regex:f,indices:h,postModify:a},{regex:g,indices:b,postModify:m},{regex:w,indices:{bucket:1,path:2},postModify:m}];for(let E=0;E<k.length;E++){const L=k[E],U=L.regex.exec(e);if(U){const P=U[L.indices.bucket];let R=U[L.indices.path];R||(R=""),r=new Ln(P,R),L.postModify(r);break}}if(r==null)throw OP(e);return r}}class VP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(n,e,t){let r=1,o=null,a=null,u=!1,f=0;function h(){return f===2}let m=!1;function v(..._){m||(m=!0,e.apply(null,_))}function y(_){o=setTimeout(()=>{o=null,n(g,h())},_)}function d(){a&&clearTimeout(a)}function g(_,...w){if(m){d();return}if(_){d(),v.call(null,_,...w);return}if(h()||u){d(),v.call(null,_,...w);return}r<64&&(r*=2);let k;f===1?(f=2,k=0):k=(r+Math.random())*1e3,y(k)}let b=!1;function T(_){b||(b=!0,d(),!m&&(o!==null?(_||(f=2),clearTimeout(o),y(0)):_||(f=1)))}return y(0),a=setTimeout(()=>{u=!0,T(!0)},t),T}function FP(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(n){return n!==void 0}function BP(n){return typeof n=="function"}function zP(n){return typeof n=="object"&&!Array.isArray(n)}function rf(n){return typeof n=="string"||n instanceof String}function U_(n){return tg()&&n instanceof Blob}function tg(){return typeof Blob<"u"}function F_(n,e,t,r){if(r<e)throw mm(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw mm(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function W0(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const o=e(r)+"="+e(n[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var Vo;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Vo||(Vo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,t,r,o,a,u,f,h,m,v,y,d=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=h,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=y,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,b)=>{this.resolve_=g,this.reject_=b,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new lc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=f=>{const h=f.loaded,m=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const f=a.getErrorCode()===Vo.NO_ERROR,h=a.getStatus();if(!f||K0(h,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===Vo.ABORT;r(!1,new lc(!1,null,v));return}const m=this.successCodes_.indexOf(h)!==-1;r(!0,new lc(m,a))})},t=(r,o)=>{const a=this.resolve_,u=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const h=this.callback_(f,f.getResponse());qP(h)?a(h):a()}catch(h){u(h)}else if(f!==null){const h=eg();h.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,h)):u(h)}else if(o.canceled){const h=this.appDelete_?H0():z0();u(h)}else{const h=B0();u(h)}};this.canceled_?t(!1,new lc(!1,null,!0)):this.backoffId_=UP(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&FP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lc{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function HP(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function WP(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function KP(n,e){e&&(n["X-Firebase-GMPID"]=e)}function GP(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function QP(n,e,t,r,o,a,u=!0){const f=W0(n.urlParams),h=n.url+f,m=Object.assign({},n.headers);return KP(m,e),HP(m,t),WP(m,a),GP(m,r),new $P(h,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function YP(...n){const e=XP();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(tg())return new Blob(n);throw new Rt(_t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function JP(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(n){if(typeof atob>"u")throw MP("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class gd{constructor(e,t){this.data=e,this.contentType=t||null}}function eO(n,e){switch(n){case Ir.RAW:return new gd(G0(e));case Ir.BASE64:case Ir.BASE64URL:return new gd(Q0(n,e));case Ir.DATA_URL:return new gd(nO(e),rO(e))}throw eg()}function G0(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,u=n.charCodeAt(++t);r=65536|(a&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function tO(n){let e;try{e=decodeURIComponent(n)}catch{throw dl(Ir.DATA_URL,"Malformed data URL.")}return G0(e)}function Q0(n,e){switch(n){case Ir.BASE64:{const o=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(o||a)throw dl(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ir.BASE64URL:{const o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a)throw dl(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=ZP(e)}catch(o){throw o.message.includes("polyfill")?o:dl(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class X0{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw dl(Ir.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=iO(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function nO(n){const e=new X0(n);return e.base64?Q0(Ir.BASE64,e.rest):tO(e.rest)}function rO(n){return new X0(n).contentType}function iO(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,t){let r=0,o="";U_(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(U_(this.data_)){const r=this.data_,o=JP(r,e,t);return o===null?null:new zi(o)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new zi(r,!0)}}static getBlob(...e){if(tg()){const t=e.map(r=>r instanceof zi?r.data_:r);return new zi(YP.apply(null,t))}else{const t=e.map(u=>rf(u)?eO(Ir.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const o=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let f=0;f<u.length;f++)o[a++]=u[f]}),new zi(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(n){let e;try{e=JSON.parse(n)}catch{return null}return zP(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function sO(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function J0(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(n,e){return e}class gn{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||aO}}let uc=null;function lO(n){return!rf(n)||n.length<2?n:J0(n)}function Z0(){if(uc)return uc;const n=[];n.push(new gn("bucket")),n.push(new gn("generation")),n.push(new gn("metageneration")),n.push(new gn("name","fullPath",!0));function e(a,u){return lO(u)}const t=new gn("name");t.xform=e,n.push(t);function r(a,u){return u!==void 0?Number(u):u}const o=new gn("size");return o.xform=r,n.push(o),n.push(new gn("timeCreated")),n.push(new gn("updated")),n.push(new gn("md5Hash",null,!0)),n.push(new gn("cacheControl",null,!0)),n.push(new gn("contentDisposition",null,!0)),n.push(new gn("contentEncoding",null,!0)),n.push(new gn("contentLanguage",null,!0)),n.push(new gn("contentType",null,!0)),n.push(new gn("metadata","customMetadata",!0)),uc=n,uc}function uO(n,e){function t(){const r=n.bucket,o=n.fullPath,a=new Ln(r,o);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function cO(n,e,t){const r={};r.type="file";const o=t.length;for(let a=0;a<o;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return uO(r,n),r}function eT(n,e,t){const r=Y0(e);return r===null?null:cO(n,r,t)}function fO(n,e,t,r){const o=Y0(e);if(o===null||!rf(o.downloadTokens))return null;const a=o.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(m=>{const v=n.bucket,y=n.fullPath,d="/b/"+u(v)+"/o/"+u(y),g=jl(d,t,r),b=W0({alt:"media",token:m});return g+b})[0]}function tT(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const a=e[o];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class oa{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(n){if(!n)throw eg()}function ng(n,e){function t(r,o){const a=eT(n,o,e);return ri(a!==null),a}return t}function hO(n,e){function t(r,o){const a=eT(n,o,e);return ri(a!==null),fO(a,o,n.host,n._protocol)}return t}function Vl(n){function e(t,r){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=CP():o=kP():t.getStatus()===402?o=RP(n.bucket):t.getStatus()===403?o=PP(n.path):o=r,o.status=t.getStatus(),o.serverResponse=r.serverResponse,o}return e}function nT(n){const e=Vl(n);function t(r,o){let a=e(r,o);return r.getStatus()===404&&(a=IP(n.path)),a.serverResponse=o.serverResponse,a}return t}function dO(n,e,t){const r=e.fullServerUrl(),o=jl(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,f=new oa(o,a,ng(n,t),u);return f.errorHandler=nT(e),f}function pO(n,e,t){const r=e.fullServerUrl(),o=jl(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,f=new oa(o,a,hO(n,t),u);return f.errorHandler=nT(e),f}function mO(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function rT(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=mO(null,e)),r}function gO(n,e,t,r,o){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let k="";for(let E=0;E<2;E++)k=k+Math.random().toString().slice(2);return k}const h=f();u["Content-Type"]="multipart/related; boundary="+h;const m=rT(e,r,o),v=tT(m,t),y="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+h+`\r
Content-Type: `+m.contentType+`\r
\r
`,d=`\r
--`+h+"--",g=zi.getBlob(y,r,d);if(g===null)throw $0();const b={name:m.fullPath},T=jl(a,n.host,n._protocol),_="POST",w=n.maxUploadRetryTime,S=new oa(T,_,ng(n,t),w);return S.urlParams=b,S.headers=u,S.body=g.uploadData(),S.errorHandler=Vl(e),S}class jc{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function rg(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{ri(!1)}return ri(!!t&&(e||["active"]).indexOf(t)!==-1),t}function yO(n,e,t,r,o){const a=e.bucketOnlyServerUrl(),u=rT(e,r,o),f={name:u.fullPath},h=jl(a,n.host,n._protocol),m="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},y=tT(u,t),d=n.maxUploadRetryTime;function g(T){rg(T);let _;try{_=T.getResponseHeader("X-Goog-Upload-URL")}catch{ri(!1)}return ri(rf(_)),_}const b=new oa(h,m,g,d);return b.urlParams=f,b.headers=v,b.body=y,b.errorHandler=Vl(e),b}function vO(n,e,t,r){const o={"X-Goog-Upload-Command":"query"};function a(m){const v=rg(m,["active","final"]);let y=null;try{y=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ri(!1)}y||ri(!1);const d=Number(y);return ri(!isNaN(d)),new jc(d,r.size(),v==="final")}const u="POST",f=n.maxUploadRetryTime,h=new oa(t,u,a,f);return h.headers=o,h.errorHandler=Vl(e),h}const q_=256*1024;function _O(n,e,t,r,o,a,u,f){const h=new jc(0,0);if(u?(h.current=u.current,h.total=u.total):(h.current=0,h.total=r.size()),r.size()!==h.total)throw DP();const m=h.total-h.current;let v=m;o>0&&(v=Math.min(v,o));const y=h.current,d=y+v;let g="";v===0?g="finalize":m===v?g="upload, finalize":g="upload";const b={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${h.current}`},T=r.slice(y,d);if(T===null)throw $0();function _(E,L){const U=rg(E,["active","final"]),P=h.current+v,R=r.size();let M;return U==="final"?M=ng(e,a)(E,L):M=null,new jc(P,R,U==="final",M)}const w="POST",S=e.maxUploadRetryTime,k=new oa(t,w,_,S);return k.headers=b,k.body=T.uploadData(),k.progressCallback=f||null,k.errorHandler=Vl(n),k}const An={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function yd(n){switch(n){case"running":case"pausing":case"canceling":return An.RUNNING;case"paused":return An.PAUSED;case"success":return An.SUCCESS;case"canceled":return An.CANCELED;case"error":return An.ERROR;default:return An.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,t,r){if(BP(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class wO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o){if(this.sent_)throw il("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const a in o)o.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,o[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw il("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw il("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw il("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw il("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class TO extends wO{initXhr(){this.xhr_.responseType="text"}}function js(){return new TO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Z0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(_t.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(K0(o.status,[]))if(a)o=B0();else{this.sleepTime=Math.max(this.sleepTime*2,AP),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(_t.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,a)=>{this._resolve=o,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const r=yO(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,js,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=vO(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(o,js,t,r);this._request=a,a.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=q_*this._chunkMultiplier,t=new jc(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,a)=>{let u;try{u=_O(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(h){this._error=h,this._transition("error");return}const f=this._ref.storage._makeRequest(u,js,o,a,!1);this._request=f,f.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){q_*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=dO(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,js,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=gO(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,js,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=z0(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=yd(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const a=new EO(t||void 0,r||void 0,o||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(yd(this._state)){case An.SUCCESS:Ms(this._resolve.bind(null,this.snapshot))();break;case An.CANCELED:case An.ERROR:const t=this._reject;Ms(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(yd(this._state)){case An.RUNNING:case An.PAUSED:e.next&&Ms(e.next.bind(e,this.snapshot))();break;case An.SUCCESS:e.complete&&Ms(e.complete.bind(e))();break;case An.CANCELED:case An.ERROR:e.error&&Ms(e.error.bind(e,this._error))();break;default:e.error&&Ms(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,t){this._service=e,t instanceof Ln?this._location=t:this._location=Ln.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Bo(e,t)}get root(){const e=new Ln(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return J0(this._location.path)}get storage(){return this._service}get parent(){const e=oO(this._location.path);if(e===null)return null;const t=new Ln(this._location.bucket,e);return new Bo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw jP(e)}}function SO(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new bO(n,new zi(e),t)}function AO(n){n._throwIfRoot("getDownloadURL");const e=pO(n.storage,n._location,Z0());return n.storage.makeRequestWithTokens(e,js).then(t=>{if(t===null)throw LP();return t})}function IO(n,e){const t=sO(n._location.path,e),r=new Ln(n._location.bucket,t);return new Bo(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(n){return/^[A-Za-z]+:\/\//.test(n)}function kO(n,e){return new Bo(n,e)}function iT(n,e){if(n instanceof ig){const t=n;if(t._bucket==null)throw NP();const r=new Bo(t,t._bucket);return e!=null?iT(r,e):r}else return e!==void 0?IO(n,e):n}function CO(n,e){if(e&&RO(e)){if(n instanceof ig)return kO(n,e);throw mm("To use ref(service, url), the first argument must be a Storage instance.")}else return iT(n,e)}function B_(n,e){const t=e==null?void 0:e[q0];return t==null?null:Ln.makeFromBucketSpec(t,n)}function PO(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:n0(o,n.app.options.projectId))}class ig{constructor(e,t,r,o,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=F0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bP,this._maxUploadRetryTime=SP,this._requests=new Set,o!=null?this._bucket=Ln.makeFromBucketSpec(o,this._host):this._bucket=B_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ln.makeFromBucketSpec(this._url,e):this._bucket=B_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){F_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){F_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bo(this,e)}_makeRequest(e,t,r,o,a=!0){if(this._deleted)return new VP(H0());{const u=QP(e,this._appId,r,o,t,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const z_="@firebase/storage",$_="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="storage";function OO(n,e,t){return n=Gt(n),SO(n,e,t)}function xO(n){return n=Gt(n),AO(n)}function NO(n,e){return n=Gt(n),CO(n,e)}function DO(n=zm(),e){n=Gt(n);const r=ef(n,oT).getImmediate({identifier:e}),o=Zw("storage");return o&&LO(r,...o),r}function LO(n,e,t,r={}){PO(n,e,t,r)}function MO(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new ig(t,r,o,e,Wo)}function jO(){Fo(new Xi(oT,MO,"PUBLIC").setMultipleInstances(!0)),Rr(z_,$_,""),Rr(z_,$_,"esm2017")}jO();const VO={apiKey:"AIzaSyAkiymbxr2eTiM0DGSUmIkI2bqT3jBt1zs",authDomain:"dragon-computers.firebaseapp.com",projectId:"dragon-computers",storageBucket:"dragon-computers.firebasestorage.app",messagingSenderId:"439889480116",appId:"1:439889480116:web:4e288f14e42526cf390ae1"},og=o0(VO);wP(og);const UO=DO(og);var H_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ki,sT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,R){function M(){}M.prototype=R.prototype,P.D=R.prototype,P.prototype=new M,P.prototype.constructor=P,P.C=function(x,I,D){for(var N=Array(arguments.length-2),H=2;H<arguments.length;H++)N[H-2]=arguments[H];return R.prototype[I].apply(x,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,R,M){M||(M=0);var x=Array(16);if(typeof R=="string")for(var I=0;16>I;++I)x[I]=R.charCodeAt(M++)|R.charCodeAt(M++)<<8|R.charCodeAt(M++)<<16|R.charCodeAt(M++)<<24;else for(I=0;16>I;++I)x[I]=R[M++]|R[M++]<<8|R[M++]<<16|R[M++]<<24;R=P.g[0],M=P.g[1],I=P.g[2];var D=P.g[3],N=R+(D^M&(I^D))+x[0]+3614090360&4294967295;R=M+(N<<7&4294967295|N>>>25),N=D+(I^R&(M^I))+x[1]+3905402710&4294967295,D=R+(N<<12&4294967295|N>>>20),N=I+(M^D&(R^M))+x[2]+606105819&4294967295,I=D+(N<<17&4294967295|N>>>15),N=M+(R^I&(D^R))+x[3]+3250441966&4294967295,M=I+(N<<22&4294967295|N>>>10),N=R+(D^M&(I^D))+x[4]+4118548399&4294967295,R=M+(N<<7&4294967295|N>>>25),N=D+(I^R&(M^I))+x[5]+1200080426&4294967295,D=R+(N<<12&4294967295|N>>>20),N=I+(M^D&(R^M))+x[6]+2821735955&4294967295,I=D+(N<<17&4294967295|N>>>15),N=M+(R^I&(D^R))+x[7]+4249261313&4294967295,M=I+(N<<22&4294967295|N>>>10),N=R+(D^M&(I^D))+x[8]+1770035416&4294967295,R=M+(N<<7&4294967295|N>>>25),N=D+(I^R&(M^I))+x[9]+2336552879&4294967295,D=R+(N<<12&4294967295|N>>>20),N=I+(M^D&(R^M))+x[10]+4294925233&4294967295,I=D+(N<<17&4294967295|N>>>15),N=M+(R^I&(D^R))+x[11]+2304563134&4294967295,M=I+(N<<22&4294967295|N>>>10),N=R+(D^M&(I^D))+x[12]+1804603682&4294967295,R=M+(N<<7&4294967295|N>>>25),N=D+(I^R&(M^I))+x[13]+4254626195&4294967295,D=R+(N<<12&4294967295|N>>>20),N=I+(M^D&(R^M))+x[14]+2792965006&4294967295,I=D+(N<<17&4294967295|N>>>15),N=M+(R^I&(D^R))+x[15]+1236535329&4294967295,M=I+(N<<22&4294967295|N>>>10),N=R+(I^D&(M^I))+x[1]+4129170786&4294967295,R=M+(N<<5&4294967295|N>>>27),N=D+(M^I&(R^M))+x[6]+3225465664&4294967295,D=R+(N<<9&4294967295|N>>>23),N=I+(R^M&(D^R))+x[11]+643717713&4294967295,I=D+(N<<14&4294967295|N>>>18),N=M+(D^R&(I^D))+x[0]+3921069994&4294967295,M=I+(N<<20&4294967295|N>>>12),N=R+(I^D&(M^I))+x[5]+3593408605&4294967295,R=M+(N<<5&4294967295|N>>>27),N=D+(M^I&(R^M))+x[10]+38016083&4294967295,D=R+(N<<9&4294967295|N>>>23),N=I+(R^M&(D^R))+x[15]+3634488961&4294967295,I=D+(N<<14&4294967295|N>>>18),N=M+(D^R&(I^D))+x[4]+3889429448&4294967295,M=I+(N<<20&4294967295|N>>>12),N=R+(I^D&(M^I))+x[9]+568446438&4294967295,R=M+(N<<5&4294967295|N>>>27),N=D+(M^I&(R^M))+x[14]+3275163606&4294967295,D=R+(N<<9&4294967295|N>>>23),N=I+(R^M&(D^R))+x[3]+4107603335&4294967295,I=D+(N<<14&4294967295|N>>>18),N=M+(D^R&(I^D))+x[8]+1163531501&4294967295,M=I+(N<<20&4294967295|N>>>12),N=R+(I^D&(M^I))+x[13]+2850285829&4294967295,R=M+(N<<5&4294967295|N>>>27),N=D+(M^I&(R^M))+x[2]+4243563512&4294967295,D=R+(N<<9&4294967295|N>>>23),N=I+(R^M&(D^R))+x[7]+1735328473&4294967295,I=D+(N<<14&4294967295|N>>>18),N=M+(D^R&(I^D))+x[12]+2368359562&4294967295,M=I+(N<<20&4294967295|N>>>12),N=R+(M^I^D)+x[5]+4294588738&4294967295,R=M+(N<<4&4294967295|N>>>28),N=D+(R^M^I)+x[8]+2272392833&4294967295,D=R+(N<<11&4294967295|N>>>21),N=I+(D^R^M)+x[11]+1839030562&4294967295,I=D+(N<<16&4294967295|N>>>16),N=M+(I^D^R)+x[14]+4259657740&4294967295,M=I+(N<<23&4294967295|N>>>9),N=R+(M^I^D)+x[1]+2763975236&4294967295,R=M+(N<<4&4294967295|N>>>28),N=D+(R^M^I)+x[4]+1272893353&4294967295,D=R+(N<<11&4294967295|N>>>21),N=I+(D^R^M)+x[7]+4139469664&4294967295,I=D+(N<<16&4294967295|N>>>16),N=M+(I^D^R)+x[10]+3200236656&4294967295,M=I+(N<<23&4294967295|N>>>9),N=R+(M^I^D)+x[13]+681279174&4294967295,R=M+(N<<4&4294967295|N>>>28),N=D+(R^M^I)+x[0]+3936430074&4294967295,D=R+(N<<11&4294967295|N>>>21),N=I+(D^R^M)+x[3]+3572445317&4294967295,I=D+(N<<16&4294967295|N>>>16),N=M+(I^D^R)+x[6]+76029189&4294967295,M=I+(N<<23&4294967295|N>>>9),N=R+(M^I^D)+x[9]+3654602809&4294967295,R=M+(N<<4&4294967295|N>>>28),N=D+(R^M^I)+x[12]+3873151461&4294967295,D=R+(N<<11&4294967295|N>>>21),N=I+(D^R^M)+x[15]+530742520&4294967295,I=D+(N<<16&4294967295|N>>>16),N=M+(I^D^R)+x[2]+3299628645&4294967295,M=I+(N<<23&4294967295|N>>>9),N=R+(I^(M|~D))+x[0]+4096336452&4294967295,R=M+(N<<6&4294967295|N>>>26),N=D+(M^(R|~I))+x[7]+1126891415&4294967295,D=R+(N<<10&4294967295|N>>>22),N=I+(R^(D|~M))+x[14]+2878612391&4294967295,I=D+(N<<15&4294967295|N>>>17),N=M+(D^(I|~R))+x[5]+4237533241&4294967295,M=I+(N<<21&4294967295|N>>>11),N=R+(I^(M|~D))+x[12]+1700485571&4294967295,R=M+(N<<6&4294967295|N>>>26),N=D+(M^(R|~I))+x[3]+2399980690&4294967295,D=R+(N<<10&4294967295|N>>>22),N=I+(R^(D|~M))+x[10]+4293915773&4294967295,I=D+(N<<15&4294967295|N>>>17),N=M+(D^(I|~R))+x[1]+2240044497&4294967295,M=I+(N<<21&4294967295|N>>>11),N=R+(I^(M|~D))+x[8]+1873313359&4294967295,R=M+(N<<6&4294967295|N>>>26),N=D+(M^(R|~I))+x[15]+4264355552&4294967295,D=R+(N<<10&4294967295|N>>>22),N=I+(R^(D|~M))+x[6]+2734768916&4294967295,I=D+(N<<15&4294967295|N>>>17),N=M+(D^(I|~R))+x[13]+1309151649&4294967295,M=I+(N<<21&4294967295|N>>>11),N=R+(I^(M|~D))+x[4]+4149444226&4294967295,R=M+(N<<6&4294967295|N>>>26),N=D+(M^(R|~I))+x[11]+3174756917&4294967295,D=R+(N<<10&4294967295|N>>>22),N=I+(R^(D|~M))+x[2]+718787259&4294967295,I=D+(N<<15&4294967295|N>>>17),N=M+(D^(I|~R))+x[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(I+(N<<21&4294967295|N>>>11))&4294967295,P.g[2]=P.g[2]+I&4294967295,P.g[3]=P.g[3]+D&4294967295}r.prototype.u=function(P,R){R===void 0&&(R=P.length);for(var M=R-this.blockSize,x=this.B,I=this.h,D=0;D<R;){if(I==0)for(;D<=M;)o(this,P,D),D+=this.blockSize;if(typeof P=="string"){for(;D<R;)if(x[I++]=P.charCodeAt(D++),I==this.blockSize){o(this,x),I=0;break}}else for(;D<R;)if(x[I++]=P[D++],I==this.blockSize){o(this,x),I=0;break}}this.h=I,this.o+=R},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;var M=8*this.o;for(R=P.length-8;R<P.length;++R)P[R]=M&255,M/=256;for(this.u(P),P=Array(16),R=M=0;4>R;++R)for(var x=0;32>x;x+=8)P[M++]=this.g[R]>>>x&255;return P};function a(P,R){var M=f;return Object.prototype.hasOwnProperty.call(M,P)?M[P]:M[P]=R(P)}function u(P,R){this.h=R;for(var M=[],x=!0,I=P.length-1;0<=I;I--){var D=P[I]|0;x&&D==R||(M[I]=D,x=!1)}this.g=M}var f={};function h(P){return-128<=P&&128>P?a(P,function(R){return new u([R|0],0>R?-1:0)}):new u([P|0],0>P?-1:0)}function m(P){if(isNaN(P)||!isFinite(P))return y;if(0>P)return _(m(-P));for(var R=[],M=1,x=0;P>=M;x++)R[x]=P/M|0,M*=4294967296;return new u(R,0)}function v(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return _(v(P.substring(1),R));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=m(Math.pow(R,8)),x=y,I=0;I<P.length;I+=8){var D=Math.min(8,P.length-I),N=parseInt(P.substring(I,I+D),R);8>D?(D=m(Math.pow(R,D)),x=x.j(D).add(m(N))):(x=x.j(M),x=x.add(m(N)))}return x}var y=h(0),d=h(1),g=h(16777216);n=u.prototype,n.m=function(){if(T(this))return-_(this).m();for(var P=0,R=1,M=0;M<this.g.length;M++){var x=this.i(M);P+=(0<=x?x:4294967296+x)*R,R*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(b(this))return"0";if(T(this))return"-"+_(this).toString(P);for(var R=m(Math.pow(P,6)),M=this,x="";;){var I=E(M,R).g;M=w(M,I.j(R));var D=((0<M.g.length?M.g[0]:M.h)>>>0).toString(P);if(M=I,b(M))return D+x;for(;6>D.length;)D="0"+D;x=D+x}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function b(P){if(P.h!=0)return!1;for(var R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function T(P){return P.h==-1}n.l=function(P){return P=w(this,P),T(P)?-1:b(P)?0:1};function _(P){for(var R=P.g.length,M=[],x=0;x<R;x++)M[x]=~P.g[x];return new u(M,~P.h).add(d)}n.abs=function(){return T(this)?_(this):this},n.add=function(P){for(var R=Math.max(this.g.length,P.g.length),M=[],x=0,I=0;I<=R;I++){var D=x+(this.i(I)&65535)+(P.i(I)&65535),N=(D>>>16)+(this.i(I)>>>16)+(P.i(I)>>>16);x=N>>>16,D&=65535,N&=65535,M[I]=N<<16|D}return new u(M,M[M.length-1]&-2147483648?-1:0)};function w(P,R){return P.add(_(R))}n.j=function(P){if(b(this)||b(P))return y;if(T(this))return T(P)?_(this).j(_(P)):_(_(this).j(P));if(T(P))return _(this.j(_(P)));if(0>this.l(g)&&0>P.l(g))return m(this.m()*P.m());for(var R=this.g.length+P.g.length,M=[],x=0;x<2*R;x++)M[x]=0;for(x=0;x<this.g.length;x++)for(var I=0;I<P.g.length;I++){var D=this.i(x)>>>16,N=this.i(x)&65535,H=P.i(I)>>>16,G=P.i(I)&65535;M[2*x+2*I]+=N*G,S(M,2*x+2*I),M[2*x+2*I+1]+=D*G,S(M,2*x+2*I+1),M[2*x+2*I+1]+=N*H,S(M,2*x+2*I+1),M[2*x+2*I+2]+=D*H,S(M,2*x+2*I+2)}for(x=0;x<R;x++)M[x]=M[2*x+1]<<16|M[2*x];for(x=R;x<2*R;x++)M[x]=0;return new u(M,0)};function S(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function k(P,R){this.g=P,this.h=R}function E(P,R){if(b(R))throw Error("division by zero");if(b(P))return new k(y,y);if(T(P))return R=E(_(P),R),new k(_(R.g),_(R.h));if(T(R))return R=E(P,_(R)),new k(_(R.g),R.h);if(30<P.g.length){if(T(P)||T(R))throw Error("slowDivide_ only works with positive integers.");for(var M=d,x=R;0>=x.l(P);)M=L(M),x=L(x);var I=U(M,1),D=U(x,1);for(x=U(x,2),M=U(M,2);!b(x);){var N=D.add(x);0>=N.l(P)&&(I=I.add(M),D=N),x=U(x,1),M=U(M,1)}return R=w(P,I.j(R)),new k(I,R)}for(I=y;0<=P.l(R);){for(M=Math.max(1,Math.floor(P.m()/R.m())),x=Math.ceil(Math.log(M)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),D=m(M),N=D.j(R);T(N)||0<N.l(P);)M-=x,D=m(M),N=D.j(R);b(D)&&(D=d),I=I.add(D),P=w(P,N)}return new k(I,P)}n.A=function(P){return E(this,P).h},n.and=function(P){for(var R=Math.max(this.g.length,P.g.length),M=[],x=0;x<R;x++)M[x]=this.i(x)&P.i(x);return new u(M,this.h&P.h)},n.or=function(P){for(var R=Math.max(this.g.length,P.g.length),M=[],x=0;x<R;x++)M[x]=this.i(x)|P.i(x);return new u(M,this.h|P.h)},n.xor=function(P){for(var R=Math.max(this.g.length,P.g.length),M=[],x=0;x<R;x++)M[x]=this.i(x)^P.i(x);return new u(M,this.h^P.h)};function L(P){for(var R=P.g.length+1,M=[],x=0;x<R;x++)M[x]=P.i(x)<<1|P.i(x-1)>>>31;return new u(M,P.h)}function U(P,R){var M=R>>5;R%=32;for(var x=P.g.length-M,I=[],D=0;D<x;D++)I[D]=0<R?P.i(D+M)>>>R|P.i(D+M+1)<<32-R:P.i(D+M);return new u(I,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sT=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Ki=u}).apply(typeof H_<"u"?H_:typeof self<"u"?self:typeof window<"u"?window:{});var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aT,sl,lT,Tc,gm,uT,cT,fT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,C,V){return c==Array.prototype||c==Object.prototype||(c[C]=V.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof cc=="object"&&cc];for(var C=0;C<c.length;++C){var V=c[C];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var r=t(this);function o(c,C){if(C)e:{var V=r;c=c.split(".");for(var B=0;B<c.length-1;B++){var ae=c[B];if(!(ae in V))break e;V=V[ae]}c=c[c.length-1],B=V[c],C=C(B),C!=B&&C!=null&&e(V,c,{configurable:!0,writable:!0,value:C})}}function a(c,C){c instanceof String&&(c+="");var V=0,B=!1,ae={next:function(){if(!B&&V<c.length){var fe=V++;return{value:C(fe,c[fe]),done:!1}}return B=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}o("Array.prototype.values",function(c){return c||function(){return a(this,function(C,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function h(c){var C=typeof c;return C=C!="object"?C:c?Array.isArray(c)?"array":C:"null",C=="array"||C=="object"&&typeof c.length=="number"}function m(c){var C=typeof c;return C=="object"&&c!=null||C=="function"}function v(c,C,V){return c.call.apply(c.bind,arguments)}function y(c,C,V){if(!c)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,B),c.apply(C,ae)}}return function(){return c.apply(C,arguments)}}function d(c,C,V){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:y,d.apply(null,arguments)}function g(c,C){var V=Array.prototype.slice.call(arguments,1);return function(){var B=V.slice();return B.push.apply(B,arguments),c.apply(this,B)}}function b(c,C){function V(){}V.prototype=C.prototype,c.aa=C.prototype,c.prototype=new V,c.prototype.constructor=c,c.Qb=function(B,ae,fe){for(var Se=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)Se[ht-2]=arguments[ht];return C.prototype[ae].apply(B,Se)}}function T(c){const C=c.length;if(0<C){const V=Array(C);for(let B=0;B<C;B++)V[B]=c[B];return V}return[]}function _(c,C){for(let V=1;V<arguments.length;V++){const B=arguments[V];if(h(B)){const ae=c.length||0,fe=B.length||0;c.length=ae+fe;for(let Se=0;Se<fe;Se++)c[ae+Se]=B[Se]}else c.push(B)}}class w{constructor(C,V){this.i=C,this.j=V,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function S(c){return/^[\s\xa0]*$/.test(c)}function k(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function E(c){return E[" "](c),c}E[" "]=function(){};var L=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function U(c,C,V){for(const B in c)C.call(V,c[B],B,c)}function P(c,C){for(const V in c)C.call(void 0,c[V],V,c)}function R(c){const C={};for(const V in c)C[V]=c[V];return C}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,C){let V,B;for(let ae=1;ae<arguments.length;ae++){B=arguments[ae];for(V in B)c[V]=B[V];for(let fe=0;fe<M.length;fe++)V=M[fe],Object.prototype.hasOwnProperty.call(B,V)&&(c[V]=B[V])}}function I(c){var C=1;c=c.split(":");const V=[];for(;0<C&&c.length;)V.push(c.shift()),C--;return c.length&&V.push(c.join(":")),V}function D(c){f.setTimeout(()=>{throw c},0)}function N(){var c=Y;let C=null;return c.g&&(C=c.g,c.g=c.g.next,c.g||(c.h=null),C.next=null),C}class H{constructor(){this.h=this.g=null}add(C,V){const B=G.get();B.set(C,V),this.h?this.h.next=B:this.g=B,this.h=B}}var G=new w(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(C,V){this.h=C,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let te,ie=!1,Y=new H,W=()=>{const c=f.Promise.resolve(void 0);te=()=>{c.then(j)}};var j=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(V){D(V)}var C=G;C.j(c),100>C.h&&(C.h++,c.next=C.g,C.g=c)}ie=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(c,C){this.type=c,this.g=this.target=C,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var ne=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,C=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const V=()=>{};f.addEventListener("test",V,C),f.removeEventListener("test",V,C)}catch{}return c}();function ee(c,C){if(K.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var V=this.type=c.type,B=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=C,C=c.relatedTarget){if(L){e:{try{E(C.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(C=null)}}else V=="mouseover"?C=c.fromElement:V=="mouseout"&&(C=c.toElement);this.relatedTarget=C,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:$[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ee.aa.h.call(this)}}b(ee,K);var $={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),oe=0;function se(c,C,V,B,ae){this.listener=c,this.proxy=null,this.src=C,this.type=V,this.capture=!!B,this.ha=ae,this.key=++oe,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ie(c){this.src=c,this.g={},this.h=0}Ie.prototype.add=function(c,C,V,B,ae){var fe=c.toString();c=this.g[fe],c||(c=this.g[fe]=[],this.h++);var Se=Ve(c,C,B,ae);return-1<Se?(C=c[Se],V||(C.fa=!1)):(C=new se(C,this.src,fe,!!B,ae),C.fa=V,c.push(C)),C};function De(c,C){var V=C.type;if(V in c.g){var B=c.g[V],ae=Array.prototype.indexOf.call(B,C,void 0),fe;(fe=0<=ae)&&Array.prototype.splice.call(B,ae,1),fe&&(pe(C),c.g[V].length==0&&(delete c.g[V],c.h--))}}function Ve(c,C,V,B){for(var ae=0;ae<c.length;++ae){var fe=c[ae];if(!fe.da&&fe.listener==C&&fe.capture==!!V&&fe.ha==B)return ae}return-1}var We="closure_lm_"+(1e6*Math.random()|0),Je={};function xt(c,C,V,B,ae){if(Array.isArray(C)){for(var fe=0;fe<C.length;fe++)xt(c,C[fe],V,B,ae);return null}return V=Ke(V),c&&c[J]?c.K(C,V,m(B)?!!B.capture:!1,ae):gt(c,C,V,!1,B,ae)}function gt(c,C,V,B,ae,fe){if(!C)throw Error("Invalid event type");var Se=m(ae)?!!ae.capture:!!ae,ht=Be(c);if(ht||(c[We]=ht=new Ie(c)),V=ht.add(C,V,B,Se,fe),V.proxy)return V;if(B=he(),V.proxy=B,B.src=c,B.listener=V,c.addEventListener)ne||(ae=Se),ae===void 0&&(ae=!1),c.addEventListener(C.toString(),B,ae);else if(c.attachEvent)c.attachEvent(Ae(C.toString()),B);else if(c.addListener&&c.removeListener)c.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return V}function he(){function c(V){return C.call(c.src,c.listener,V)}const C=ye;return c}function me(c,C,V,B,ae){if(Array.isArray(C))for(var fe=0;fe<C.length;fe++)me(c,C[fe],V,B,ae);else B=m(B)?!!B.capture:!!B,V=Ke(V),c&&c[J]?(c=c.i,C=String(C).toString(),C in c.g&&(fe=c.g[C],V=Ve(fe,V,B,ae),-1<V&&(pe(fe[V]),Array.prototype.splice.call(fe,V,1),fe.length==0&&(delete c.g[C],c.h--)))):c&&(c=Be(c))&&(C=c.g[C.toString()],c=-1,C&&(c=Ve(C,V,B,ae)),(V=-1<c?C[c]:null)&&be(V))}function be(c){if(typeof c!="number"&&c&&!c.da){var C=c.src;if(C&&C[J])De(C.i,c);else{var V=c.type,B=c.proxy;C.removeEventListener?C.removeEventListener(V,B,c.capture):C.detachEvent?C.detachEvent(Ae(V),B):C.addListener&&C.removeListener&&C.removeListener(B),(V=Be(C))?(De(V,c),V.h==0&&(V.src=null,C[We]=null)):pe(c)}}}function Ae(c){return c in Je?Je[c]:Je[c]="on"+c}function ye(c,C){if(c.da)c=!0;else{C=new ee(C,this);var V=c.listener,B=c.ha||c.src;c.fa&&be(c),c=V.call(B,C)}return c}function Be(c){return c=c[We],c instanceof Ie?c:null}var ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ke(c){return typeof c=="function"?c:(c[ze]||(c[ze]=function(C){return c.handleEvent(C)}),c[ze])}function at(){q.call(this),this.i=new Ie(this),this.M=this,this.F=null}b(at,q),at.prototype[J]=!0,at.prototype.removeEventListener=function(c,C,V,B){me(this,c,C,V,B)};function ct(c,C){var V,B=c.F;if(B)for(V=[];B;B=B.F)V.push(B);if(c=c.M,B=C.type||C,typeof C=="string")C=new K(C,c);else if(C instanceof K)C.target=C.target||c;else{var ae=C;C=new K(B,c),x(C,ae)}if(ae=!0,V)for(var fe=V.length-1;0<=fe;fe--){var Se=C.g=V[fe];ae=ot(Se,B,!0,C)&&ae}if(Se=C.g=c,ae=ot(Se,B,!0,C)&&ae,ae=ot(Se,B,!1,C)&&ae,V)for(fe=0;fe<V.length;fe++)Se=C.g=V[fe],ae=ot(Se,B,!1,C)&&ae}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var c=this.i,C;for(C in c.g){for(var V=c.g[C],B=0;B<V.length;B++)pe(V[B]);delete c.g[C],c.h--}}this.F=null},at.prototype.K=function(c,C,V,B){return this.i.add(String(c),C,!1,V,B)},at.prototype.L=function(c,C,V,B){return this.i.add(String(c),C,!0,V,B)};function ot(c,C,V,B){if(C=c.i.g[String(C)],!C)return!0;C=C.concat();for(var ae=!0,fe=0;fe<C.length;++fe){var Se=C[fe];if(Se&&!Se.da&&Se.capture==V){var ht=Se.listener,Mt=Se.ha||Se.src;Se.fa&&De(c.i,Se),ae=ht.call(Mt,B)!==!1&&ae}}return ae&&!B.defaultPrevented}function so(c,C,V){if(typeof c=="function")V&&(c=d(c,V));else if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:f.setTimeout(c,C||0)}function ft(c){c.g=so(()=>{c.g=null,c.i&&(c.i=!1,ft(c))},c.l);const C=c.h;c.h=null,c.m.apply(null,C)}class nn extends q{constructor(C,V){super(),this.m=C,this.l=V,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:ft(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ao(c){q.call(this),this.h=c,this.g={}}b(ao,q);var ha=[];function da(c){U(c.g,function(C,V){this.g.hasOwnProperty(V)&&be(C)},c),c.g={}}ao.prototype.N=function(){ao.aa.N.call(this),da(this)},ao.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pa=f.JSON.stringify,ma=f.JSON.parse,ga=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function lo(){}lo.prototype.h=null;function Qo(c){return c.h||(c.h=c.i())}function Xo(){}var Vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hr(){K.call(this,"d")}b(hr,K);function Yo(){K.call(this,"c")}b(Yo,K);var dr={},ya=null;function uo(){return ya=ya||new at}dr.La="serverreachability";function va(c){K.call(this,dr.La,c)}b(va,K);function Vr(c){const C=uo();ct(C,new va(C))}dr.STAT_EVENT="statevent";function _a(c,C){K.call(this,dr.STAT_EVENT,c),this.stat=C}b(_a,K);function Ct(c){const C=uo();ct(C,new _a(C,c))}dr.Ma="timingevent";function Jo(c,C){K.call(this,dr.Ma,c),this.size=C}b(Jo,K);function Gn(c,C){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},C)}function co(){this.g=!0}co.prototype.xa=function(){this.g=!1};function fo(c,C,V,B,ae,fe){c.info(function(){if(c.g)if(fe)for(var Se="",ht=fe.split("&"),Mt=0;Mt<ht.length;Mt++){var rt=ht[Mt].split("=");if(1<rt.length){var Bt=rt[0];rt=rt[1];var Nt=Bt.split("_");Se=2<=Nt.length&&Nt[1]=="type"?Se+(Bt+"="+rt+"&"):Se+(Bt+"=redacted&")}}else Se=null;else Se=fe;return"XMLHTTP REQ ("+B+") [attempt "+ae+"]: "+C+`
`+V+`
`+Se})}function Zo(c,C,V,B,ae,fe,Se){c.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+ae+"]: "+C+`
`+V+`
`+fe+" "+Se})}function Qn(c,C,V,B){c.info(function(){return"XMLHTTP TEXT ("+C+"): "+Cf(c,V)+(B?" "+B:"")})}function Ea(c,C){c.info(function(){return"TIMEOUT: "+C})}co.prototype.info=function(){};function Cf(c,C){if(!c.g)return C;if(!C)return null;try{var V=JSON.parse(C);if(V){for(c=0;c<V.length;c++)if(Array.isArray(V[c])){var B=V[c];if(!(2>B.length)){var ae=B[1];if(Array.isArray(ae)&&!(1>ae.length)){var fe=ae[0];if(fe!="noop"&&fe!="stop"&&fe!="close")for(var Se=1;Se<ae.length;Se++)ae[Se]=""}}}}return pa(V)}catch{return C}}var es={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$l={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xn;function ho(){}b(ho,lo),ho.prototype.g=function(){return new XMLHttpRequest},ho.prototype.i=function(){return{}},Xn=new ho;function Yn(c,C,V,B){this.j=c,this.i=C,this.l=V,this.R=B||1,this.U=new ao(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hl}function Hl(){this.i=null,this.g="",this.h=!1}var wa={},ts={};function ns(c,C,V){c.L=1,c.v=yi(Cn(C)),c.m=V,c.P=!0,Ta(c,null)}function Ta(c,C){c.F=Date.now(),pt(c),c.A=Cn(c.v);var V=c.A,B=c.R;Array.isArray(B)||(B=[String(B)]),_i(V.i,"t",B),c.C=0,V=c.j.J,c.h=new Hl,c.g=uu(c.j,V?C:null,!c.m),0<c.O&&(c.M=new nn(d(c.Y,c,c.g),c.O)),C=c.U,V=c.g,B=c.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(ha[0]=ae.toString()),ae=ha);for(var fe=0;fe<ae.length;fe++){var Se=xt(V,ae[fe],B||C.handleEvent,!1,C.h||C);if(!Se)break;C.g[Se.key]=Se}C=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,C)):(c.u="GET",c.g.ea(c.A,c.u,null,C)),Vr(),fo(c.i,c.u,c.A,c.l,c.R,c.m)}Yn.prototype.ca=function(c){c=c.target;const C=this.M;C&&vn(c)==3?C.j():this.Y(c)},Yn.prototype.Y=function(c){try{if(c==this.g)e:{const Nt=vn(this.g);var C=this.g.Ba();const qn=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||ka(this.g)))){this.J||Nt!=4||C==7||(C==8||0>=qn?Vr(3):Vr(2)),po(this);var V=this.g.Z();this.X=V;t:if(Wl(this)){var B=ka(this.g);c="";var ae=B.length,fe=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Un(this),di(this);var Se="";break t}this.h.i=new f.TextDecoder}for(C=0;C<ae;C++)this.h.h=!0,c+=this.h.i.decode(B[C],{stream:!(fe&&C==ae-1)});B.length=0,this.h.g+=c,this.C=0,Se=this.h.g}else Se=this.g.oa();if(this.o=V==200,Zo(this.i,this.u,this.A,this.l,this.R,Nt,V),this.o){if(this.T&&!this.K){t:{if(this.g){var ht,Mt=this.g;if((ht=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(ht)){var rt=ht;break t}}rt=null}if(V=rt)Qn(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ba(this,V);else{this.o=!1,this.s=3,Ct(12),Un(this),di(this);break e}}if(this.P){V=!0;let On;for(;!this.J&&this.C<Se.length;)if(On=Pf(this,Se),On==ts){Nt==4&&(this.s=4,Ct(14),V=!1),Qn(this.i,this.l,null,"[Incomplete Response]");break}else if(On==wa){this.s=4,Ct(15),Qn(this.i,this.l,Se,"[Invalid Chunk]"),V=!1;break}else Qn(this.i,this.l,On,null),ba(this,On);if(Wl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||Se.length!=0||this.h.h||(this.s=1,Ct(16),V=!1),this.o=this.o&&V,!V)Qn(this.i,this.l,Se,"[Invalid Chunked Response]"),Un(this),di(this);else if(0<Se.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+Se.length),Pa(Bt),Bt.M=!0,Ct(11))}}else Qn(this.i,this.l,Se,null),ba(this,Se);Nt==4&&Un(this),this.o&&!this.J&&(Nt==4?ds(this.j,this):(this.o=!1,pt(this)))}else ls(this.g),V==400&&0<Se.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),Un(this),di(this)}}}catch{}finally{}};function Wl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Pf(c,C){var V=c.C,B=C.indexOf(`
`,V);return B==-1?ts:(V=Number(C.substring(V,B)),isNaN(V)?wa:(B+=1,B+V>C.length?ts:(C=C.slice(B,B+V),c.C=B+V,C)))}Yn.prototype.cancel=function(){this.J=!0,Un(this)};function pt(c){c.S=Date.now()+c.I,Kl(c,c.I)}function Kl(c,C){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Gn(d(c.ba,c),C)}function po(c){c.B&&(f.clearTimeout(c.B),c.B=null)}Yn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ea(this.i,this.A),this.L!=2&&(Vr(),Ct(17)),Un(this),this.s=2,di(this)):Kl(this,this.S-c)};function di(c){c.j.G==0||c.J||ds(c.j,c)}function Un(c){po(c);var C=c.M;C&&typeof C.ma=="function"&&C.ma(),c.M=null,da(c.U),c.g&&(C=c.g,c.g=null,C.abort(),C.ma())}function ba(c,C){try{var V=c.j;if(V.G!=0&&(V.g==c||hn(V.h,c))){if(!c.K&&hn(V.h,c)&&V.G==3){try{var B=V.Da.g.parse(C)}catch{B=null}if(Array.isArray(B)&&B.length==3){var ae=B;if(ae[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<c.F)hs(V),nr(V);else break e;fs(V),Ct(18)}}else V.za=ae[1],0<V.za-V.T&&37500>ae[2]&&V.F&&V.v==0&&!V.C&&(V.C=Gn(d(V.Za,V),6e3));if(1>=Ql(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else zr(V,11)}else if((c.K||V.g==c)&&hs(V),!S(C))for(ae=V.Da.g.parse(C),C=0;C<ae.length;C++){let rt=ae[C];if(V.T=rt[0],rt=rt[1],V.G==2)if(rt[0]=="c"){V.K=rt[1],V.ia=rt[2];const Bt=rt[3];Bt!=null&&(V.la=Bt,V.j.info("VER="+V.la));const Nt=rt[4];Nt!=null&&(V.Aa=Nt,V.j.info("SVER="+V.Aa));const qn=rt[5];qn!=null&&typeof qn=="number"&&0<qn&&(B=1.5*qn,V.L=B,V.j.info("backChannelRequestTimeoutMs_="+B)),B=V;const On=c.g;if(On){const wo=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wo){var fe=B.h;fe.g||wo.indexOf("spdy")==-1&&wo.indexOf("quic")==-1&&wo.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(Sa(fe,fe.h),fe.h=null))}if(B.D){const ms=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;ms&&(B.ya=ms,dt(B.I,B.D,ms))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-c.F,V.j.info("Handshake RTT: "+V.R+"ms")),B=V;var Se=c;if(B.qa=lu(B,B.J?B.ia:null,B.W),Se.K){Xl(B.h,Se);var ht=Se,Mt=B.L;Mt&&(ht.I=Mt),ht.B&&(po(ht),pt(ht)),B.g=Se}else Eo(B);0<V.i.length&&yr(V)}else rt[0]!="stop"&&rt[0]!="close"||zr(V,7);else V.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?zr(V,7):Xt(V):rt[0]!="noop"&&V.l&&V.l.ta(rt),V.v=0)}}Vr(4)}catch{}}var Gl=class{constructor(c,C){this.g=c,this.map=C}};function mo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ql(c){return c.h?1:c.g?c.g.size:0}function hn(c,C){return c.h?c.h==C:c.g?c.g.has(C):!1}function Sa(c,C){c.g?c.g.add(C):c.h=C}function Xl(c,C){c.h&&c.h==C?c.h=null:c.g&&c.g.has(C)&&c.g.delete(C)}mo.prototype.cancel=function(){if(this.i=Yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Yl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let C=c.i;for(const V of c.g.values())C=C.concat(V.D);return C}return T(c.i)}function rs(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(h(c)){for(var C=[],V=c.length,B=0;B<V;B++)C.push(c[B]);return C}C=[],V=0;for(B in c)C[V++]=c[B];return C}function is(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(h(c)||typeof c=="string"){var C=[];c=c.length;for(var V=0;V<c;V++)C.push(V);return C}C=[],V=0;for(const B in c)C[V++]=B;return C}}}function pi(c,C){if(c.forEach&&typeof c.forEach=="function")c.forEach(C,void 0);else if(h(c)||typeof c=="string")Array.prototype.forEach.call(c,C,void 0);else for(var V=is(c),B=rs(c),ae=B.length,fe=0;fe<ae;fe++)C.call(void 0,B[fe],V&&V[fe],c)}var go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Of(c,C){if(c){c=c.split("&");for(var V=0;V<c.length;V++){var B=c[V].indexOf("="),ae=null;if(0<=B){var fe=c[V].substring(0,B);ae=c[V].substring(B+1)}else fe=c[V];C(fe,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Ur(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ur){this.h=c.h,yo(this,c.j),this.o=c.o,this.g=c.g,mi(this,c.s),this.l=c.l;var C=c.i,V=new pr;V.i=C.i,C.g&&(V.g=new Map(C.g),V.h=C.h),gi(this,V),this.m=c.m}else c&&(C=String(c).match(go))?(this.h=!1,yo(this,C[1]||"",!0),this.o=nt(C[2]||""),this.g=nt(C[3]||"",!0),mi(this,C[4]),this.l=nt(C[5]||"",!0),gi(this,C[6]||"",!0),this.m=nt(C[7]||"")):(this.h=!1,this.i=new pr(null,this.h))}Ur.prototype.toString=function(){var c=[],C=this.j;C&&c.push(vi(C,os,!0),":");var V=this.g;return(V||C=="file")&&(c.push("//"),(C=this.o)&&c.push(vi(C,os,!0),"@"),c.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&c.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&c.push("/"),c.push(vi(V,V.charAt(0)=="/"?eu:Zl,!0))),(V=this.i.toString())&&c.push("?",V),(V=this.m)&&c.push("#",vi(V,Aa)),c.join("")};function Cn(c){return new Ur(c)}function yo(c,C,V){c.j=V?nt(C,!0):C,c.j&&(c.j=c.j.replace(/:$/,""))}function mi(c,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);c.s=C}else c.s=null}function gi(c,C,V){C instanceof pr?(c.i=C,mr(c.i,c.h)):(V||(C=vi(C,tu)),c.i=new pr(C,c.h))}function dt(c,C,V){c.i.set(C,V)}function yi(c){return dt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function nt(c,C){return c?C?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vi(c,C,V){return typeof c=="string"?(c=encodeURI(c).replace(C,Jl),V&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Jl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var os=/[#\/\?@]/g,Zl=/[#\?:]/g,eu=/[#\?]/g,tu=/[#\?@]/g,Aa=/#/g;function pr(c,C){this.h=this.g=null,this.i=c||null,this.j=!!C}function Qt(c){c.g||(c.g=new Map,c.h=0,c.i&&Of(c.i,function(C,V){c.add(decodeURIComponent(C.replace(/\+/g," ")),V)}))}n=pr.prototype,n.add=function(c,C){Qt(this),this.i=null,c=Fn(this,c);var V=this.g.get(c);return V||this.g.set(c,V=[]),V.push(C),this.h+=1,this};function Jn(c,C){Qt(c),C=Fn(c,C),c.g.has(C)&&(c.i=null,c.h-=c.g.get(C).length,c.g.delete(C))}function Zn(c,C){return Qt(c),C=Fn(c,C),c.g.has(C)}n.forEach=function(c,C){Qt(this),this.g.forEach(function(V,B){V.forEach(function(ae){c.call(C,ae,B,this)},this)},this)},n.na=function(){Qt(this);const c=Array.from(this.g.values()),C=Array.from(this.g.keys()),V=[];for(let B=0;B<C.length;B++){const ae=c[B];for(let fe=0;fe<ae.length;fe++)V.push(C[B])}return V},n.V=function(c){Qt(this);let C=[];if(typeof c=="string")Zn(this,c)&&(C=C.concat(this.g.get(Fn(this,c))));else{c=Array.from(this.g.values());for(let V=0;V<c.length;V++)C=C.concat(c[V])}return C},n.set=function(c,C){return Qt(this),this.i=null,c=Fn(this,c),Zn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[C]),this.h+=1,this},n.get=function(c,C){return c?(c=this.V(c),0<c.length?String(c[0]):C):C};function _i(c,C,V){Jn(c,C),0<V.length&&(c.i=null,c.g.set(Fn(c,C),T(V)),c.h+=V.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],C=Array.from(this.g.keys());for(var V=0;V<C.length;V++){var B=C[V];const fe=encodeURIComponent(String(B)),Se=this.V(B);for(B=0;B<Se.length;B++){var ae=fe;Se[B]!==""&&(ae+="="+encodeURIComponent(String(Se[B]))),c.push(ae)}}return this.i=c.join("&")};function Fn(c,C){return C=String(C),c.j&&(C=C.toLowerCase()),C}function mr(c,C){C&&!c.j&&(Qt(c),c.i=null,c.g.forEach(function(V,B){var ae=B.toLowerCase();B!=ae&&(Jn(this,B),_i(this,ae,V))},c)),c.j=C}function xf(c,C){const V=new co;if(f.Image){const B=new Image;B.onload=g(yn,V,"TestLoadImage: loaded",!0,C,B),B.onerror=g(yn,V,"TestLoadImage: error",!1,C,B),B.onabort=g(yn,V,"TestLoadImage: abort",!1,C,B),B.ontimeout=g(yn,V,"TestLoadImage: timeout",!1,C,B),f.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=c}else C(!1)}function nu(c,C){const V=new co,B=new AbortController,ae=setTimeout(()=>{B.abort(),yn(V,"TestPingServer: timeout",!1,C)},1e4);fetch(c,{signal:B.signal}).then(fe=>{clearTimeout(ae),fe.ok?yn(V,"TestPingServer: ok",!0,C):yn(V,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(ae),yn(V,"TestPingServer: error",!1,C)})}function yn(c,C,V,B,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),B(V)}catch{}}function Nf(){this.g=new ga}function ru(c,C,V){const B=V||"";try{pi(c,function(ae,fe){let Se=ae;m(ae)&&(Se=pa(ae)),C.push(B+fe+"="+encodeURIComponent(Se))})}catch(ae){throw C.push(B+"type="+encodeURIComponent("_badmap")),ae}}function Fr(c){this.l=c.Ub||null,this.j=c.eb||!1}b(Fr,lo),Fr.prototype.g=function(){return new vo(this.l,this.j)},Fr.prototype.i=function(c){return function(){return c}}({});function vo(c,C){at.call(this),this.D=c,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(vo,at),n=vo.prototype,n.open=function(c,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=C,this.readyState=1,tr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(C.body=c),(this.D||f).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,er(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,tr(this)),this.g&&(this.readyState=3,tr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;iu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function iu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var C=c.value?c.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!c.done}))&&(this.response=this.responseText+=C)}c.done?er(this):tr(this),this.readyState==3&&iu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,er(this))},n.Qa=function(c){this.g&&(this.response=c,er(this))},n.ga=function(){this.g&&er(this)};function er(c){c.readyState=4,c.l=null,c.j=null,c.v=null,tr(c)}n.setRequestHeader=function(c,C){this.u.append(c,C)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],C=this.h.entries();for(var V=C.next();!V.done;)V=V.value,c.push(V[0]+": "+V[1]),V=C.next();return c.join(`\r
`)};function tr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qr(c){let C="";return U(c,function(V,B){C+=B,C+=":",C+=V,C+=`\r
`}),C}function Ei(c,C,V){e:{for(B in V){var B=!1;break e}B=!0}B||(V=qr(V),typeof c=="string"?V!=null&&encodeURIComponent(String(V)):dt(c,C,V))}function Et(c){at.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Et,at);var Df=/^https?$/i,Ia=["POST","PUT"];n=Et.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,C,V,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);C=C?C.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xn.g(),this.v=this.o?Qo(this.o):Qo(Xn),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(C,String(c),!0),this.B=!1}catch(fe){_o(this,fe);return}if(c=V||"",V=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var ae in B)V.set(ae,B[ae]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const fe of B.keys())V.set(fe,B.get(fe));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(V.keys()).find(fe=>fe.toLowerCase()=="content-type"),ae=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ia,C,void 0))||B||ae||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Se]of V)this.g.setRequestHeader(fe,Se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{as(this),this.u=!0,this.g.send(c),this.u=!1}catch(fe){_o(this,fe)}};function _o(c,C){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=C,c.m=5,ss(c),Pn(c)}function ss(c){c.A||(c.A=!0,ct(c,"complete"),ct(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ct(this,"complete"),ct(this,"abort"),Pn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pn(this,!0)),Et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ra(this):this.bb())},n.bb=function(){Ra(this)};function Ra(c){if(c.h&&typeof u<"u"&&(!c.v[1]||vn(c)!=4||c.Z()!=2)){if(c.u&&vn(c)==4)so(c.Ea,0,c);else if(ct(c,"readystatechange"),vn(c)==4){c.h=!1;try{const Se=c.Z();e:switch(Se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var V;if(!(V=C)){var B;if(B=Se===0){var ae=String(c.D).match(go)[1]||null;!ae&&f.self&&f.self.location&&(ae=f.self.location.protocol.slice(0,-1)),B=!Df.test(ae?ae.toLowerCase():"")}V=B}if(V)ct(c,"complete"),ct(c,"success");else{c.m=6;try{var fe=2<vn(c)?c.g.statusText:""}catch{fe=""}c.l=fe+" ["+c.Z()+"]",ss(c)}}finally{Pn(c)}}}}function Pn(c,C){if(c.g){as(c);const V=c.g,B=c.v[0]?()=>{}:null;c.g=null,c.v=null,C||ct(c,"ready");try{V.onreadystatechange=B}catch{}}}function as(c){c.I&&(f.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function vn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var C=this.g.responseText;return c&&C.indexOf(c)==0&&(C=C.substring(c.length)),ma(C)}};function ka(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ls(c){const C={};c=(c.g&&2<=vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<c.length;B++){if(S(c[B]))continue;var V=I(c[B]);const ae=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const fe=C[ae]||[];C[ae]=fe,fe.push(V)}P(C,function(B){return B.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gr(c,C,V){return V&&V.internalChannelParams&&V.internalChannelParams[c]||C}function Ca(c){this.Aa=0,this.i=[],this.j=new co,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gr("baseRetryDelayMs",5e3,c),this.cb=gr("retryDelaySeedMs",1e4,c),this.Wa=gr("forwardChannelMaxRetries",2,c),this.wa=gr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new mo(c&&c.concurrentRequestLimit),this.Da=new Nf,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ca.prototype,n.la=8,n.G=1,n.connect=function(c,C,V,B){Ct(0),this.W=c,this.H=C||{},V&&B!==void 0&&(this.H.OSID=V,this.H.OAID=B),this.F=this.X,this.I=lu(this,null,this.W),yr(this)};function Xt(c){if(us(c),c.G==3){var C=c.U++,V=Cn(c.I);if(dt(V,"SID",c.K),dt(V,"RID",C),dt(V,"TYPE","terminate"),Br(c,V),C=new Yn(c,c.j,C),C.L=2,C.v=yi(Cn(V)),V=!1,f.navigator&&f.navigator.sendBeacon)try{V=f.navigator.sendBeacon(C.v.toString(),"")}catch{}!V&&f.Image&&(new Image().src=C.v,V=!0),V||(C.g=uu(C.j,null),C.g.ea(C.v)),C.F=Date.now(),pt(C)}au(c)}function nr(c){c.g&&(Pa(c),c.g.cancel(),c.g=null)}function us(c){nr(c),c.u&&(f.clearTimeout(c.u),c.u=null),hs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function yr(c){if(!kn(c.h)&&!c.s){c.s=!0;var C=c.Ga;te||W(),ie||(te(),ie=!0),Y.add(C,c),c.B=0}}function Lf(c,C){return Ql(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=C.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Gn(d(c.Ga,c,C),su(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const ae=new Yn(this,this.j,c);let fe=this.o;if(this.S&&(fe?(fe=R(fe),x(fe,this.S)):fe=this.S),this.m!==null||this.O||(ae.H=fe,fe=null),this.P)e:{for(var C=0,V=0;V<this.i.length;V++){t:{var B=this.i[V];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(C+=B,4096<C){C=V;break e}if(C===4096||V===this.i.length-1){C=V+1;break e}}C=1e3}else C=1e3;C=wi(this,ae,C),V=Cn(this.I),dt(V,"RID",c),dt(V,"CVER",22),this.D&&dt(V,"X-HTTP-Session-Id",this.D),Br(this,V),fe&&(this.O?C="headers="+encodeURIComponent(String(qr(fe)))+"&"+C:this.m&&Ei(V,this.m,fe)),Sa(this.h,ae),this.Ua&&dt(V,"TYPE","init"),this.P?(dt(V,"$req",C),dt(V,"SID","null"),ae.T=!0,ns(ae,V,null)):ns(ae,V,C),this.G=2}}else this.G==3&&(c?cs(this,c):this.i.length==0||kn(this.h)||cs(this))};function cs(c,C){var V;C?V=C.l:V=c.U++;const B=Cn(c.I);dt(B,"SID",c.K),dt(B,"RID",V),dt(B,"AID",c.T),Br(c,B),c.m&&c.o&&Ei(B,c.m,c.o),V=new Yn(c,c.j,V,c.B+1),c.m===null&&(V.H=c.o),C&&(c.i=C.D.concat(c.i)),C=wi(c,V,1e3),V.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Sa(c.h,V),ns(V,B,C)}function Br(c,C){c.H&&U(c.H,function(V,B){dt(C,B,V)}),c.l&&pi({},function(V,B){dt(C,B,V)})}function wi(c,C,V){V=Math.min(c.i.length,V);var B=c.l?d(c.l.Na,c.l,c):null;e:{var ae=c.i;let fe=-1;for(;;){const Se=["count="+V];fe==-1?0<V?(fe=ae[0].g,Se.push("ofs="+fe)):fe=0:Se.push("ofs="+fe);let ht=!0;for(let Mt=0;Mt<V;Mt++){let rt=ae[Mt].g;const Bt=ae[Mt].map;if(rt-=fe,0>rt)fe=Math.max(0,ae[Mt].g-100),ht=!1;else try{ru(Bt,Se,"req"+rt+"_")}catch{B&&B(Bt)}}if(ht){B=Se.join("&");break e}}}return c=c.i.splice(0,V),C.D=c,B}function Eo(c){if(!c.g&&!c.u){c.Y=1;var C=c.Fa;te||W(),ie||(te(),ie=!0),Y.add(C,c),c.v=0}}function fs(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Gn(d(c.Fa,c),su(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Gn(d(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),nr(this),ou(this))};function Pa(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function ou(c){c.g=new Yn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var C=Cn(c.qa);dt(C,"RID","rpc"),dt(C,"SID",c.K),dt(C,"AID",c.T),dt(C,"CI",c.F?"0":"1"),!c.F&&c.ja&&dt(C,"TO",c.ja),dt(C,"TYPE","xmlhttp"),Br(c,C),c.m&&c.o&&Ei(C,c.m,c.o),c.L&&(c.g.I=c.L);var V=c.g;c=c.ia,V.L=1,V.v=yi(Cn(C)),V.m=null,V.P=!0,Ta(V,c)}n.Za=function(){this.C!=null&&(this.C=null,nr(this),fs(this),Ct(19))};function hs(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function ds(c,C){var V=null;if(c.g==C){hs(c),Pa(c),c.g=null;var B=2}else if(hn(c.h,C))V=C.D,Xl(c.h,C),B=1;else return;if(c.G!=0){if(C.o)if(B==1){V=C.m?C.m.length:0,C=Date.now()-C.F;var ae=c.B;B=uo(),ct(B,new Jo(B,V)),yr(c)}else Eo(c);else if(ae=C.s,ae==3||ae==0&&0<C.X||!(B==1&&Lf(c,C)||B==2&&fs(c)))switch(V&&0<V.length&&(C=c.h,C.i=C.i.concat(V)),ae){case 1:zr(c,5);break;case 4:zr(c,10);break;case 3:zr(c,6);break;default:zr(c,2)}}}function su(c,C){let V=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(V*=2),V*C}function zr(c,C){if(c.j.info("Error code "+C),C==2){var V=d(c.fb,c),B=c.Xa;const ae=!B;B=new Ur(B||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||yo(B,"https"),yi(B),ae?xf(B.toString(),V):nu(B.toString(),V)}else Ct(2);c.G=0,c.l&&c.l.sa(C),au(c),us(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function au(c){if(c.G=0,c.ka=[],c.l){const C=Yl(c.h);(C.length!=0||c.i.length!=0)&&(_(c.ka,C),_(c.ka,c.i),c.h.i.length=0,T(c.i),c.i.length=0),c.l.ra()}}function lu(c,C,V){var B=V instanceof Ur?Cn(V):new Ur(V);if(B.g!="")C&&(B.g=C+"."+B.g),mi(B,B.s);else{var ae=f.location;B=ae.protocol,C=C?C+"."+ae.hostname:ae.hostname,ae=+ae.port;var fe=new Ur(null);B&&yo(fe,B),C&&(fe.g=C),ae&&mi(fe,ae),V&&(fe.l=V),B=fe}return V=c.D,C=c.ya,V&&C&&dt(B,V,C),dt(B,"VER",c.la),Br(c,B),B}function uu(c,C,V){if(C&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=c.Ca&&!c.pa?new Et(new Fr({eb:V})):new Et(c.pa),C.Ha(c.J),C}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oa(){}n=Oa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ps(){}ps.prototype.g=function(c,C){return new dn(c,C)};function dn(c,C){at.call(this),this.g=new Ca(C),this.l=c,this.h=C&&C.messageUrlParams||null,c=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(c?c["X-WebChannel-Content-Type"]=C.messageContentType:c={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(c?c["X-WebChannel-Client-Profile"]=C.va:c={"X-WebChannel-Client-Profile":C.va}),this.g.S=c,(c=C&&C.Sb)&&!S(c)&&(this.g.m=c),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!S(C)&&(this.g.D=C,c=this.h,c!==null&&C in c&&(c=this.h,C in c&&delete c[C])),this.j=new vr(this)}b(dn,at),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Xt(this.g)},dn.prototype.o=function(c){var C=this.g;if(typeof c=="string"){var V={};V.__data__=c,c=V}else this.u&&(V={},V.__data__=pa(c),c=V);C.i.push(new Gl(C.Ya++,c)),C.G==3&&yr(C)},dn.prototype.N=function(){this.g.l=null,delete this.j,Xt(this.g),delete this.g,dn.aa.N.call(this)};function cu(c){hr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var C=c.__sm__;if(C){e:{for(const V in C){c=V;break e}c=void 0}(this.i=c)&&(c=this.i,C=C!==null&&c in C?C[c]:void 0),this.data=C}else this.data=c}b(cu,hr);function fu(){Yo.call(this),this.status=1}b(fu,Yo);function vr(c){this.g=c}b(vr,Oa),vr.prototype.ua=function(){ct(this.g,"a")},vr.prototype.ta=function(c){ct(this.g,new cu(c))},vr.prototype.sa=function(c){ct(this.g,new fu)},vr.prototype.ra=function(){ct(this.g,"b")},ps.prototype.createWebChannel=ps.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,fT=function(){return new ps},cT=function(){return uo()},uT=dr,gm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},es.NO_ERROR=0,es.TIMEOUT=8,es.HTTP_ERROR=6,Tc=es,$l.COMPLETE="complete",lT=$l,Xo.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",at.prototype.listen=at.prototype.K,sl=Xo,Et.prototype.listenOnce=Et.prototype.L,Et.prototype.getLastError=Et.prototype.Ka,Et.prototype.getLastErrorCode=Et.prototype.Ba,Et.prototype.getStatus=Et.prototype.Z,Et.prototype.getResponseJson=Et.prototype.Oa,Et.prototype.getResponseText=Et.prototype.oa,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Ha,aT=Et}).apply(typeof cc<"u"?cc:typeof self<"u"?self:typeof window<"u"?window:{});const W_="@firebase/firestore",K_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sa="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new qm("@firebase/firestore");function Vs(){return zo.logLevel}function ke(n,...e){if(zo.logLevel<=et.DEBUG){const t=e.map(sg);zo.debug(`Firestore (${sa}): ${n}`,...t)}}function li(n,...e){if(zo.logLevel<=et.ERROR){const t=e.map(sg);zo.error(`Firestore (${sa}): ${n}`,...t)}}function Gs(n,...e){if(zo.logLevel<=et.WARN){const t=e.map(sg);zo.warn(`Firestore (${sa}): ${n}`,...t)}}function sg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(n="Unexpected state"){const e=`FIRESTORE (${sa}) INTERNAL ASSERTION FAILED: `+n;throw li(e),new Error(e)}function ut(n,e){n||Ue()}function He(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(un.UNAUTHENTICATED))}shutdown(){}}class qO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class BO{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ut(this.o===void 0);let r=this.i;const o=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new ii;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ii,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await o(this.currentUser)})},f=h=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>f(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ii)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string"),new hT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string"),new un(e)}}class zO{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class $O{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new zO(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HO{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,cr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){ut(this.o===void 0);const r=a=>{a.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,ke("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new G_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ut(typeof t.token=="string"),this.R=t.token,new G_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=WO(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Qe(n,e){return n<e?-1:n>e?1:0}function ym(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),o=e.codePointAt(t);if(r!==o){if(r<128&&o<128)return Qe(r,o);{const a=dT(),u=KO(a.encode(Q_(n,t)),a.encode(Q_(e,t)));return u!==0?u:Qe(r,o)}}t+=r>65535?2:1}return Qe(n.length,e.length)}function Q_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function KO(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Qe(n[t],e[t]);return Qe(n.length,e.length)}function Qs(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=-62135596800,Y_=1e6;class Ft{static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Y_);return new Ft(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<X_)throw new Ne(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y_}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-X_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new Ft(0,0))}static max(){return new $e(new Ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="__name__";class Sr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ue(),r===void 0?r=e.length-t:r>e.length-t&&Ue(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Sr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=Sr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Qe(e.length,t.length)}static compareSegments(e,t){const r=Sr.isNumericId(e),o=Sr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?Sr.extractNumericId(e).compare(Sr.extractNumericId(t)):ym(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ki.fromString(e.substring(4,e.length-2))}}class Tt extends Sr{construct(e,t,r){return new Tt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(Ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Tt(t)}static emptyPath(){return new Tt([])}}const GO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Sr{construct(e,t,r){return new en(e,t,r)}static isValidIdentifier(e){return GO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J_}static keyField(){return new en([J_])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new Ne(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new Ne(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ne(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(r+=f,o++):(a(),o++)}if(a(),u)throw new Ne(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(Tt.fromString(e))}static fromName(e){return new je(Tt.fromString(e).popFirst(5))}static empty(){return new je(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new Tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=-1;function QO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=$e.fromTimestamp(r===1e9?new Ft(t+1,0):new Ft(t,r));return new Yi(o,je.empty(),e)}function XO(n){return new Yi(n.readTime,n.key,Tl)}class Yi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Yi($e.min(),je.empty(),Tl)}static max(){return new Yi($e.max(),je.empty(),Tl)}}function YO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=je.comparator(n.documentKey,e.documentKey),t!==0?t:Qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aa(n){if(n.code!==Ee.FAILED_PRECONDITION||n.message!==JO)throw n;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ge((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ge?t:ge.resolve(t)}catch(t){return ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.reject(t)}static resolve(e){return new ge((t,r)=>{t(e)})}static reject(e){return new ge((t,r)=>{r(e)})}static waitFor(e){return new ge((t,r)=>{let o=0,a=0,u=!1;e.forEach(f=>{++o,f.next(()=>{++a,u&&a===o&&t()},h=>r(h))}),u=!0,a===o&&t()})}static or(e){let t=ge.resolve(!1);for(const r of e)t=t.next(o=>o?ge.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new ge((r,o)=>{const a=e.length,u=new Array(a);let f=0;for(let h=0;h<a;h++){const m=h;t(e[m]).next(v=>{u[m]=v,++f,f===a&&r(u)},v=>o(v))}})}static doWhile(e,t){return new ge((r,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):r()};a()})}}function ex(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function la(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}of.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag=-1;function sf(n){return n==null}function Vc(n){return n===0&&1/n==-1/0}function tx(n){return typeof n=="number"&&Number.isInteger(n)&&!Vc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="";function nx(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Z_(e)),e=rx(n.get(t),e);return Z_(e)}function rx(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case mT:t+="";break;default:t+=a}}return t}function Z_(n){return n+mT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function io(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new It(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fc(this.root,e,this.comparator,!0)}}class fc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Zt.RED,this.left=o??Zt.EMPTY,this.right=a??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Zt(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ue();const e=this.left.check();if(e!==this.right.check())throw Ue();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue()}get value(){throw Ue()}get color(){throw Ue()}get left(){throw Ue()}get right(){throw Ue()}copy(e,t,r,o,a){return this}insert(e,t,r){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tE(this.data.getIterator())}getIteratorFrom(e){return new tE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class tE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Mn([])}unionWith(e){let t=new qt(en.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qs(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new yT("Invalid base64 string: "+a):a}}(e);return new tn(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const ix=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(n){if(ut(!!n),typeof n=="string"){let e=0;const t=ix.exec(n);if(ut(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(n.seconds),nanos:Ot(n.nanos)}}function Ot(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Zi(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="server_timestamp",_T="__type__",ET="__previous_value__",wT="__local_write_time__";function lg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[_T])===null||t===void 0?void 0:t.stringValue)===vT}function af(n){const e=n.mapValue.fields[ET];return lg(e)?af(e):e}function bl(n){const e=Ji(n.mapValue.fields[wT].timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,t,r,o,a,u,f,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=m}}const Uc="(default)";class Sl{constructor(e,t){this.projectId=e,this.database=t||Uc}static empty(){return new Sl("","")}get isDefaultDatabase(){return this.database===Uc}isEqual(e){return e instanceof Sl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="__type__",bT="__max__",hc={mapValue:{fields:{__type__:{stringValue:bT}}}},ST="__vector__",Fc="value";function eo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lg(n)?4:ax(n)?9007199254740991:sx(n)?10:11:Ue()}function Nr(n,e){if(n===e)return!0;const t=eo(n);if(t!==eo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bl(n).isEqual(bl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Ji(o.timestampValue),f=Ji(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Zi(o.bytesValue).isEqual(Zi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return Ot(o.geoPointValue.latitude)===Ot(a.geoPointValue.latitude)&&Ot(o.geoPointValue.longitude)===Ot(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Ot(o.integerValue)===Ot(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Ot(o.doubleValue),f=Ot(a.doubleValue);return u===f?Vc(u)===Vc(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return Qs(n.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},f=a.mapValue.fields||{};if(eE(u)!==eE(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!Nr(u[h],f[h])))return!1;return!0}(n,e);default:return Ue()}}function Al(n,e){return(n.values||[]).find(t=>Nr(t,e))!==void 0}function Xs(n,e){if(n===e)return 0;const t=eo(n),r=eo(e);if(t!==r)return Qe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(n.booleanValue,e.booleanValue);case 2:return function(a,u){const f=Ot(a.integerValue||a.doubleValue),h=Ot(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1}(n,e);case 3:return nE(n.timestampValue,e.timestampValue);case 4:return nE(bl(n),bl(e));case 5:return ym(n.stringValue,e.stringValue);case 6:return function(a,u){const f=Zi(a),h=Zi(u);return f.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),h=u.split("/");for(let m=0;m<f.length&&m<h.length;m++){const v=Qe(f[m],h[m]);if(v!==0)return v}return Qe(f.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const f=Qe(Ot(a.latitude),Ot(u.latitude));return f!==0?f:Qe(Ot(a.longitude),Ot(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return rE(n.arrayValue,e.arrayValue);case 10:return function(a,u){var f,h,m,v;const y=a.fields||{},d=u.fields||{},g=(f=y[Fc])===null||f===void 0?void 0:f.arrayValue,b=(h=d[Fc])===null||h===void 0?void 0:h.arrayValue,T=Qe(((m=g==null?void 0:g.values)===null||m===void 0?void 0:m.length)||0,((v=b==null?void 0:b.values)===null||v===void 0?void 0:v.length)||0);return T!==0?T:rE(g,b)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===hc.mapValue&&u===hc.mapValue)return 0;if(a===hc.mapValue)return 1;if(u===hc.mapValue)return-1;const f=a.fields||{},h=Object.keys(f),m=u.fields||{},v=Object.keys(m);h.sort(),v.sort();for(let y=0;y<h.length&&y<v.length;++y){const d=ym(h[y],v[y]);if(d!==0)return d;const g=Xs(f[h[y]],m[v[y]]);if(g!==0)return g}return Qe(h.length,v.length)}(n.mapValue,e.mapValue);default:throw Ue()}}function nE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Qe(n,e);const t=Ji(n),r=Ji(e),o=Qe(t.seconds,r.seconds);return o!==0?o:Qe(t.nanos,r.nanos)}function rE(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=Xs(t[o],r[o]);if(a)return a}return Qe(t.length,r.length)}function Ys(n){return vm(n)}function vm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ji(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Zi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return je.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=vm(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${vm(t.fields[u])}`;return o+"}"}(n.mapValue):Ue()}function bc(n){switch(eo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=af(n);return e?16+bc(e):16;case 5:return 2*n.stringValue.length;case 6:return Zi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+bc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return io(r.fields,(a,u)=>{o+=a.length+bc(u)}),o}(n.mapValue);default:throw Ue()}}function _m(n){return!!n&&"integerValue"in n}function ug(n){return!!n&&"arrayValue"in n}function iE(n){return!!n&&"nullValue"in n}function oE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Sc(n){return!!n&&"mapValue"in n}function sx(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[TT])===null||t===void 0?void 0:t.stringValue)===ST}function pl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return io(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=pl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ax(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===bT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Sc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pl(t)}setAll(e){let t=en.emptyPath(),r={},o=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,r,o),r={},o=[],t=f.popLast()}u?r[f.lastSegment()]=pl(u):o.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Sc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Sc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){io(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new Rn(pl(this.value))}}function AT(n){const e=[];return io(n.fields,(t,r)=>{const o=new en([t]);if(Sc(r)){const a=AT(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t,r,o,a,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new cn(e,0,$e.min(),$e.min(),$e.min(),Rn.empty(),0)}static newFoundDocument(e,t,r,o){return new cn(e,1,t,$e.min(),r,o,0)}static newNoDocument(e,t){return new cn(e,2,t,$e.min(),$e.min(),Rn.empty(),0)}static newUnknownDocument(e,t){return new cn(e,3,t,$e.min(),$e.min(),Rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,t){this.position=e,this.inclusive=t}}function sE(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=je.comparator(je.fromName(u.referenceValue),t.key):r=Xs(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function aE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Nr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,t="asc"){this.field=e,this.dir=t}}function lx(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{}class Ut extends IT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new cx(e,t,r):t==="array-contains"?new dx(e,r):t==="in"?new px(e,r):t==="not-in"?new mx(e,r):t==="array-contains-any"?new gx(e,r):new Ut(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new fx(e,r):new hx(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Xs(t,this.value)):t!==null&&eo(this.value)===eo(t)&&this.matchesComparison(Xs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends IT{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Dr(e,t)}matches(e){return RT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function RT(n){return n.op==="and"}function kT(n){return ux(n)&&RT(n)}function ux(n){for(const e of n.filters)if(e instanceof Dr)return!1;return!0}function Em(n){if(n instanceof Ut)return n.field.canonicalString()+n.op.toString()+Ys(n.value);if(kT(n))return n.filters.map(e=>Em(e)).join(",");{const e=n.filters.map(t=>Em(t)).join(",");return`${n.op}(${e})`}}function CT(n,e){return n instanceof Ut?function(r,o){return o instanceof Ut&&r.op===o.op&&r.field.isEqual(o.field)&&Nr(r.value,o.value)}(n,e):n instanceof Dr?function(r,o){return o instanceof Dr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,f)=>a&&CT(u,o.filters[f]),!0):!1}(n,e):void Ue()}function PT(n){return n instanceof Ut?function(t){return`${t.field.canonicalString()} ${t.op} ${Ys(t.value)}`}(n):n instanceof Dr?function(t){return t.op.toString()+" {"+t.getFilters().map(PT).join(" ,")+"}"}(n):"Filter"}class cx extends Ut{constructor(e,t,r){super(e,t,r),this.key=je.fromName(r.referenceValue)}matches(e){const t=je.comparator(e.key,this.key);return this.matchesComparison(t)}}class fx extends Ut{constructor(e,t){super(e,"in",t),this.keys=OT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hx extends Ut{constructor(e,t){super(e,"not-in",t),this.keys=OT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function OT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>je.fromName(r.referenceValue))}class dx extends Ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ug(t)&&Al(t.arrayValue,this.value)}}class px extends Ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Al(this.value.arrayValue,t)}}class mx extends Ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(Al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Al(this.value.arrayValue,t)}}class gx extends Ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ug(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Al(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,t=null,r=[],o=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=f,this.le=null}}function lE(n,e=null,t=[],r=[],o=null,a=null,u=null){return new yx(n,e,t,r,o,a,u)}function cg(n){const e=He(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Em(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),sf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ys(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ys(r)).join(",")),e.le=t}return e.le}function fg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!lx(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!CT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!aE(n.startAt,e.startAt)&&aE(n.endAt,e.endAt)}function wm(n){return je.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t=null,r=[],o=[],a=null,u="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function vx(n,e,t,r,o,a,u,f){return new lf(n,e,t,r,o,a,u,f)}function hg(n){return new lf(n)}function uE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function _x(n){return n.collectionGroup!==null}function ml(n){const e=He(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new qt(en.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new Bc(a,r))}),t.has(en.keyField().canonicalString())||e.he.push(new Bc(en.keyField(),r))}return e.he}function Pr(n){const e=He(n);return e.Pe||(e.Pe=Ex(e,ml(n))),e.Pe}function Ex(n,e){if(n.limitType==="F")return lE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Bc(o.field,a)});const t=n.endAt?new qc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new qc(n.startAt.position,n.startAt.inclusive):null;return lE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Tm(n,e,t){return new lf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function uf(n,e){return fg(Pr(n),Pr(e))&&n.limitType===e.limitType}function xT(n){return`${cg(Pr(n))}|lt:${n.limitType}`}function Us(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>PT(o)).join(", ")}]`),sf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>Ys(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>Ys(o)).join(",")),`Target(${r})`}(Pr(n))}; limitType=${n.limitType})`}function cf(n,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):je.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,o){for(const a of ml(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(u,f,h){const m=sE(u,f,h);return u.inclusive?m<=0:m<0}(r.startAt,ml(r),o)||r.endAt&&!function(u,f,h){const m=sE(u,f,h);return u.inclusive?m>=0:m>0}(r.endAt,ml(r),o))}(n,e)}function wx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function NT(n){return(e,t)=>{let r=!1;for(const o of ml(n)){const a=Tx(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function Tx(n,e,t){const r=n.field.isKeyField()?je.comparator(e.key,t.key):function(a,u,f){const h=u.data.field(a),m=f.data.field(a);return h!==null&&m!==null?Xs(h,m):Ue()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return gT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=new It(je.comparator);function ui(){return bx}const DT=new It(je.comparator);function al(...n){let e=DT;for(const t of n)e=e.insert(t.key,t);return e}function LT(n){let e=DT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Mo(){return gl()}function MT(){return gl()}function gl(){return new Ko(n=>n.toString(),(n,e)=>n.isEqual(e))}const Sx=new It(je.comparator),Ax=new qt(je.comparator);function tt(...n){let e=Ax;for(const t of n)e=e.add(t);return e}const Ix=new qt(Qe);function Rx(){return Ix}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vc(e)?"-0":e}}function jT(n){return{integerValue:""+n}}function kx(n,e){return tx(e)?jT(e):dg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(){this._=void 0}}function Cx(n,e,t){return n instanceof zc?function(o,a){const u={fields:{[_T]:{stringValue:vT},[wT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&lg(a)&&(a=af(a)),a&&(u.fields[ET]=a),{mapValue:u}}(t,e):n instanceof Il?UT(n,e):n instanceof Rl?FT(n,e):function(o,a){const u=VT(o,a),f=cE(u)+cE(o.Ie);return _m(u)&&_m(o.Ie)?jT(f):dg(o.serializer,f)}(n,e)}function Px(n,e,t){return n instanceof Il?UT(n,e):n instanceof Rl?FT(n,e):t}function VT(n,e){return n instanceof $c?function(r){return _m(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class zc extends ff{}class Il extends ff{constructor(e){super(),this.elements=e}}function UT(n,e){const t=qT(e);for(const r of n.elements)t.some(o=>Nr(o,r))||t.push(r);return{arrayValue:{values:t}}}class Rl extends ff{constructor(e){super(),this.elements=e}}function FT(n,e){let t=qT(e);for(const r of n.elements)t=t.filter(o=>!Nr(o,r));return{arrayValue:{values:t}}}class $c extends ff{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function cE(n){return Ot(n.integerValue||n.doubleValue)}function qT(n){return ug(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Ox(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof Il&&o instanceof Il||r instanceof Rl&&o instanceof Rl?Qs(r.elements,o.elements,Nr):r instanceof $c&&o instanceof $c?Nr(r.Ie,o.Ie):r instanceof zc&&o instanceof zc}(n.transform,e.transform)}class xx{constructor(e,t){this.version=e,this.transformResults=t}}class fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ac(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class hf{}function BT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new pg(n.key,fr.none()):new Ul(n.key,n.data,fr.none());{const t=n.data,r=Rn.empty();let o=new qt(en.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new oo(n.key,r,new Mn(o.toArray()),fr.none())}}function Nx(n,e,t){n instanceof Ul?function(o,a,u){const f=o.value.clone(),h=hE(o.fieldTransforms,a,u.transformResults);f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof oo?function(o,a,u){if(!Ac(o.precondition,a))return void a.convertToUnknownDocument(u.version);const f=hE(o.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(zT(o)),h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function yl(n,e,t,r){return n instanceof Ul?function(a,u,f,h){if(!Ac(a.precondition,u))return f;const m=a.value.clone(),v=dE(a.fieldTransforms,h,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof oo?function(a,u,f,h){if(!Ac(a.precondition,u))return f;const m=dE(a.fieldTransforms,h,u),v=u.data;return v.setAll(zT(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(n,e,t,r):function(a,u,f){return Ac(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function Dx(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=VT(r.transform,o||null);a!=null&&(t===null&&(t=Rn.empty()),t.set(r.field,a))}return t||null}function fE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Qs(r,o,(a,u)=>Ox(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ul extends hf{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class oo extends hf{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function zT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function hE(n,e,t){const r=new Map;ut(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,f=e.data.field(a.field);r.set(a.field,Px(u,f,t[o]))}return r}function dE(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,Cx(a,u,e))}return r}class pg extends hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lx extends hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&Nx(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=yl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=yl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=MT();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(o.key)?null:f;const h=BT(u,f);h!==null&&r.set(o.key,h),u.isValidDocument()||u.convertToNoDocument($e.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tt())}isEqual(e){return this.batchId===e.batchId&&Qs(this.mutations,e.mutations,(t,r)=>fE(t,r))&&Qs(this.baseMutations,e.baseMutations,(t,r)=>fE(t,r))}}class mg{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){ut(e.mutations.length===r.length);let o=function(){return Sx}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new mg(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,it;function Ux(n){switch(n){case Ee.OK:return Ue();case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0;default:return Ue()}}function $T(n){if(n===void 0)return li("GRPC error has no .code"),Ee.UNKNOWN;switch(n){case Lt.OK:return Ee.OK;case Lt.CANCELLED:return Ee.CANCELLED;case Lt.UNKNOWN:return Ee.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return Ee.INTERNAL;case Lt.UNAVAILABLE:return Ee.UNAVAILABLE;case Lt.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case Lt.NOT_FOUND:return Ee.NOT_FOUND;case Lt.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case Lt.ABORTED:return Ee.ABORTED;case Lt.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case Lt.DATA_LOSS:return Ee.DATA_LOSS;default:return Ue()}}(it=Lt||(Lt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new Ki([4294967295,4294967295],0);function pE(n){const e=dT().encode(n),t=new sT;return t.update(e),new Uint8Array(t.digest())}function mE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ki([t,r],0),new Ki([o,a],0)]}class gg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ll(`Invalid padding: ${t}`);if(r<0)throw new ll(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ll(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ll(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ki.fromNumber(this.Ee)}Ae(e,t,r){let o=e.add(t.multiply(Ki.fromNumber(r)));return o.compare(Fx)===1&&(o=new Ki([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=pE(e),[r,o]=mE(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(r,o,a);if(!this.Re(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new gg(a,o,t);return r.forEach(f=>u.insert(f)),u}insert(e){if(this.Ee===0)return;const t=pE(e),[r,o]=mE(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(r,o,a);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Fl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new df($e.min(),o,new It(Qe),ui(),tt())}}class Fl{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Fl(r,t,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,t,r,o){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=o}}class HT{constructor(e,t){this.targetId=e,this.ge=t}}class WT{constructor(e,t,r=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class gE{constructor(){this.pe=0,this.ye=yE(),this.we=tn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=tt(),t=tt(),r=tt();return this.ye.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Ue()}}),new Fl(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=yE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ut(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class qx{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ui(),this.$e=dc(),this.Ue=dc(),this.Ke=new It(Qe)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ue()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,r=e.ge.count,o=this.Xe(t);if(o){const a=o.target;if(wm(a))if(r===0){const u=new je(a.path);this.ze(t,u,cn.newNoDocument(u,$e.min()))}else ut(r===1);else{const u=this.et(t);if(u!==r){const f=this.tt(e),h=f?this.nt(f,e,u):1;if(h!==0){this.Ye(t);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,f;try{u=Zi(r).toUint8Array()}catch(h){if(h instanceof yT)return Gs("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new gg(u,o,a)}catch(h){return Gs(h instanceof ll?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.Ee===0?null:f}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let o=0;return r.forEach(a=>{const u=this.ke.it(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,a,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((a,u)=>{const f=this.Xe(u);if(f){if(a.current&&wm(f.target)){const h=new je(f.target.path);this._t(h).has(u)||this.ut(u,h)||this.ze(u,h,cn.newNoDocument(h,e))}a.ve&&(t.set(u,a.Fe()),a.Me())}});let r=tt();this.Ue.forEach((a,u)=>{let f=!0;u.forEachWhile(h=>{const m=this.Xe(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(a))}),this.Qe.forEach((a,u)=>u.setReadTime(e));const o=new df(e,t,this.Ke,this.Qe,r);return this.Qe=ui(),this.$e=dc(),this.Ue=dc(),this.Ke=new It(Qe),o}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new gE,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new qt(Qe),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new qt(Qe),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ke("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new gE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function dc(){return new It(je.comparator)}function yE(){return new It(je.comparator)}const Bx={asc:"ASCENDING",desc:"DESCENDING"},zx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$x={and:"AND",or:"OR"};class Hx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bm(n,e){return n.useProto3Json||sf(e)?e:{value:e}}function Hc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Wx(n,e){return Hc(n,e.toTimestamp())}function Or(n){return ut(!!n),$e.fromTimestamp(function(t){const r=Ji(t);return new Ft(r.seconds,r.nanos)}(n))}function yg(n,e){return Sm(n,e).canonicalString()}function Sm(n,e){const t=function(o){return new Tt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function GT(n){const e=Tt.fromString(n);return ut(ZT(e)),e}function Am(n,e){return yg(n.databaseId,e.path)}function vd(n,e){const t=GT(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new je(XT(t))}function QT(n,e){return yg(n.databaseId,e)}function Kx(n){const e=GT(n);return e.length===4?Tt.emptyPath():XT(e)}function Im(n){return new Tt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function XT(n){return ut(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function vE(n,e,t){return{name:Am(n,e),fields:t.value.mapValue.fields}}function Gx(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(ut(v===void 0||typeof v=="string"),tn.fromBase64String(v||"")):(ut(v===void 0||v instanceof Buffer||v instanceof Uint8Array),tn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(m){const v=m.code===void 0?Ee.UNKNOWN:$T(m.code);return new Ne(v,m.message||"")}(u);t=new WT(r,o,a,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=vd(n,r.document.name),a=Or(r.document.updateTime),u=r.document.createTime?Or(r.document.createTime):$e.min(),f=new Rn({mapValue:{fields:r.document.fields}}),h=cn.newFoundDocument(o,a,u,f),m=r.targetIds||[],v=r.removedTargetIds||[];t=new Ic(m,v,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=vd(n,r.document),a=r.readTime?Or(r.readTime):$e.min(),u=cn.newNoDocument(o,a),f=r.removedTargetIds||[];t=new Ic([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=vd(n,r.document),a=r.removedTargetIds||[];t=new Ic([],a,o,null)}else{if(!("filter"in e))return Ue();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new Vx(o,a),f=r.targetId;t=new HT(f,u)}}return t}function Qx(n,e){let t;if(e instanceof Ul)t={update:vE(n,e.key,e.value)};else if(e instanceof pg)t={delete:Am(n,e.key)};else if(e instanceof oo)t={update:vE(n,e.key,e.data),updateMask:iN(e.fieldMask)};else{if(!(e instanceof Lx))return Ue();t={verify:Am(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const f=u.transform;if(f instanceof zc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Il)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Rl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof $c)return{fieldPath:u.field.canonicalString(),increment:f.Ie};throw Ue()}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:Wx(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ue()}(n,e.precondition)),t}function Xx(n,e){return n&&n.length>0?(ut(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?Or(o.updateTime):Or(a);return u.isEqual($e.min())&&(u=Or(a)),new xx(u,o.transformResults||[])}(t,e))):[]}function Yx(n,e){return{documents:[QT(n,e.path)]}}function Jx(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=QT(n,o);const a=function(m){if(m.length!==0)return JT(Dr.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(v=>function(d){return{field:Fs(d.field),direction:tN(d.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=bm(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:o}}function Zx(n){let e=Kx(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){ut(r===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(y){const d=YT(y);return d instanceof Dr&&kT(d)?d.getFilters():[d]}(t.where));let u=[];t.orderBy&&(u=function(y){return y.map(d=>function(b){return new Bc(qs(b.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(d))}(t.orderBy));let f=null;t.limit&&(f=function(y){let d;return d=typeof y=="object"?y.value:y,sf(d)?null:d}(t.limit));let h=null;t.startAt&&(h=function(y){const d=!!y.before,g=y.values||[];return new qc(g,d)}(t.startAt));let m=null;return t.endAt&&(m=function(y){const d=!y.before,g=y.values||[];return new qc(g,d)}(t.endAt)),vx(e,o,u,a,f,"F",h,m)}function eN(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function YT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=qs(t.unaryFilter.field);return Ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=qs(t.unaryFilter.field);return Ut.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=qs(t.unaryFilter.field);return Ut.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=qs(t.unaryFilter.field);return Ut.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ue()}}(n):n.fieldFilter!==void 0?function(t){return Ut.create(qs(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ue()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Dr.create(t.compositeFilter.filters.map(r=>YT(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ue()}}(t.compositeFilter.op))}(n):Ue()}function tN(n){return Bx[n]}function nN(n){return zx[n]}function rN(n){return $x[n]}function Fs(n){return{fieldPath:n.canonicalString()}}function qs(n){return en.fromServerFormat(n.fieldPath)}function JT(n){return n instanceof Ut?function(t){if(t.op==="=="){if(oE(t.value))return{unaryFilter:{field:Fs(t.field),op:"IS_NAN"}};if(iE(t.value))return{unaryFilter:{field:Fs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(oE(t.value))return{unaryFilter:{field:Fs(t.field),op:"IS_NOT_NAN"}};if(iE(t.value))return{unaryFilter:{field:Fs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(t.field),op:nN(t.op),value:t.value}}}(n):n instanceof Dr?function(t){const r=t.getFilters().map(o=>JT(o));return r.length===1?r[0]:{compositeFilter:{op:rN(t.op),filters:r}}}(n):Ue()}function iN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ZT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,t,r,o,a=$e.min(),u=$e.min(),f=tn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new $i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.Tt=e}}function sN(n){const e=Zx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Tm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(){this.Tn=new lN}addToCollectionParentIndex(e,t){return this.Tn.add(t),ge.resolve()}getCollectionParents(e,t){return ge.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ge.resolve()}deleteFieldIndex(e,t){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,t){return ge.resolve()}getDocumentsMatchingTarget(e,t){return ge.resolve(null)}getIndexType(e,t){return ge.resolve(0)}getFieldIndexes(e,t){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,t){return ge.resolve(Yi.min())}getMinOffsetFromCollectionGroup(e,t){return ge.resolve(Yi.min())}updateCollectionGroup(e,t,r){return ge.resolve()}updateIndexEntries(e,t){return ge.resolve()}}class lN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new qt(Tt.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new qt(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eb=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(eb,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Js(0)}static Kn(){return new Js(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="LruGarbageCollector",uN=1048576;function wE([n,e],[t,r]){const o=Qe(n,t);return o===0?Qe(e,r):o}class cN{constructor(e){this.Hn=e,this.buffer=new qt(wE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();wE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ke(EE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){la(t)?ke(EE,"Ignoring IndexedDB error during garbage collection: ",t):await aa(t)}await this.er(3e5)})}}class hN{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ge.resolve(of.ae);const r=new cN(t);return this.tr.forEachTarget(e,o=>r.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>r.Zn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(_E)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_E):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,o,a,u,f,h,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),o=this.params.maximumSequenceNumbersToCollect):o=y,u=Date.now(),this.nthSequenceNumber(e,o))).next(y=>(r=y,f=Date.now(),this.removeTargets(e,r,t))).next(y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(m=Date.now(),Vs()<=et.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${a} targets in `+(h-f)+`ms
	Removed ${y} documents in `+(m-h)+`ms
Total Duration: ${m-v}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:y})))}}function dN(n,e){return new hN(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.changes=new Ko(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ge.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&yl(r.mutation,o,Mn.empty(),Ft.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=tt()){const o=Mo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let u=al();return a.forEach((f,h)=>{u=u.insert(f,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Mo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,tt()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,o){let a=ui();const u=gl(),f=function(){return gl()}();return t.forEach((h,m)=>{const v=r.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof oo)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),yl(v.mutation,m,v.mutation.getFieldMask(),Ft.now())):u.set(m.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>{var y;return f.set(m,new mN(v,(y=u.get(m))!==null&&y!==void 0?y:null))}),f))}recalculateAndSaveOverlays(e,t){const r=gl();let o=new It((u,f)=>u-f),a=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(h=>{const m=t.get(h);if(m===null)return;let v=r.get(h)||Mn.empty();v=f.applyToLocalView(m,v),r.set(h,v);const y=(o.get(f.batchId)||tt()).add(h);o=o.insert(f.batchId,y)})}).next(()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),m=h.key,v=h.value,y=MT();v.forEach(d=>{if(!a.has(d)){const g=BT(t.get(d),r.get(d));g!==null&&y.set(d,g),a=a.add(d)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,y))}return ge.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(u){return je.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_x(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):ge.resolve(Mo());let f=Tl,h=a;return u.next(m=>ge.forEach(m,(v,y)=>(f<y.largestBatchId&&(f=y.largestBatchId),a.get(v)?ge.resolve():this.remoteDocumentCache.getEntry(e,v).next(d=>{h=h.insert(v,d)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,h,m,tt())).next(v=>({batchId:f,changes:LT(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new je(t)).next(r=>{let o=al();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=al();return this.indexManager.getCollectionParents(e,a).next(f=>ge.forEach(f,h=>{const m=function(y,d){return new lf(d,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(v=>{v.forEach((y,d)=>{u=u.insert(y,d)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o))).next(u=>{a.forEach((h,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,cn.newInvalidDocument(v)))});let f=al();return u.forEach((h,m)=>{const v=a.get(h);v!==void 0&&yl(v.mutation,m,Mn.empty(),Ft.now()),cf(t,m)&&(f=f.insert(h,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ge.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Or(o.createTime)}}(t)),ge.resolve()}getNamedQuery(e,t){return ge.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:sN(o.bundledQuery),readTime:Or(o.readTime)}}(t)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.overlays=new It(je.comparator),this.Rr=new Map}getOverlay(e,t){return ge.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Mo();return ge.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.Et(e,t,a)}),ge.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Rr.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),ge.resolve()}getOverlaysForCollection(e,t,r){const o=Mo(),a=t.length+1,u=new je(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,m=h.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&h.largestBatchId>r&&o.set(h.getKey(),h)}return ge.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new It((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let v=a.get(m.largestBatchId);v===null&&(v=Mo(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const f=Mo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((m,v)=>f.set(m,v)),!(f.size()>=o)););return ge.resolve(f)}Et(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.Rr.get(o.largestBatchId).delete(r.key);this.Rr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new jx(t,r));let a=this.Rr.get(t);a===void 0&&(a=tt(),this.Rr.set(t,a)),this.Rr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this.Vr=new qt(Kt.mr),this.gr=new qt(Kt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Kt(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Kt(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new je(new Tt([])),r=new Kt(t,e),o=new Kt(t,e+1),a=[];return this.gr.forEachInRange([r,o],u=>{this.wr(u),a.push(u.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new je(new Tt([])),r=new Kt(t,e),o=new Kt(t,e+1);let a=tt();return this.gr.forEachInRange([r,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Kt(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return je.comparator(e.key,t.key)||Qe(e.Cr,t.Cr)}static pr(e,t){return Qe(e.Cr,t.Cr)||je.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new qt(Kt.mr)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Mx(a,t,r,o);this.mutationQueue.push(u);for(const f of o)this.Mr=this.Mr.add(new Kt(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ge.resolve(u)}lookupMutationBatch(e,t){return ge.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Nr(r),a=o<0?0:o;return ge.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?ag:this.Fr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Kt(t,0),o=new Kt(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,o],u=>{const f=this.Or(u.Cr);a.push(f)}),ge.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qt(Qe);return t.forEach(o=>{const a=new Kt(o,0),u=new Kt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,u],f=>{r=r.add(f.Cr)})}),ge.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;je.isDocumentKey(a)||(a=a.child(""));const u=new Kt(new je(a),0);let f=new qt(Qe);return this.Mr.forEachWhile(h=>{const m=h.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(f=f.add(h.Cr)),!0)},u),ge.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(r=>{const o=this.Or(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){ut(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ge.forEach(t.mutations,o=>{const a=new Kt(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Kt(t,0),o=this.Mr.firstAfterOrEqual(r);return ge.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.kr=e,this.docs=function(){return new It(je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ge.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let r=ui();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():cn.newInvalidDocument(o))}),ge.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=ui();const u=t.path,f=new je(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:m,value:{document:v}}=h.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||YO(XO(v),r)<=0||(o.has(v.key)||cf(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ge.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Ue()}qr(e,t){return ge.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new TN(this)}getSize(e){return ge.resolve(this.size)}}class TN extends pN{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(r)}),ge.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.persistence=e,this.Qr=new Ko(t=>cg(t),fg),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.$r=0,this.Ur=new vg,this.targetCount=0,this.Kr=Js.Un()}forEachTarget(e,t){return this.Qr.forEach((r,o)=>t(o)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ge.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Js(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ge.resolve()}updateTargetData(e,t){return this.zn(t),ge.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.Qr.forEach((u,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.Qr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),ge.waitFor(a).next(()=>o)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ge.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),ge.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),ge.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),ge.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return ge.resolve(r)}containsKey(e,t){return ge.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new of(0),this.zr=!1,this.zr=!0,this.jr=new _N,this.referenceDelegate=e(this),this.Hr=new bN(this),this.indexManager=new aN,this.remoteDocumentCache=function(o){return new wN(o)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new oN(t),this.Yr=new yN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new EN(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){ke("MemoryPersistence","Starting transaction:",e);const o=new SN(this.Gr.next());return this.referenceDelegate.Zr(),r(o).next(a=>this.referenceDelegate.Xr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}ei(e,t){return ge.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class SN extends ZO{constructor(e){super(),this.currentSequenceNumber=e}}class _g{constructor(e){this.persistence=e,this.ti=new vg,this.ni=null}static ri(e){return new _g(e)}get ii(){if(this.ni)return this.ni;throw Ue()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ge.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ge.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.ii,r=>{const o=je.fromPath(r);return this.si(e,o).next(a=>{a||t.removeEntry(o,$e.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ge.or([()=>ge.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Wc{constructor(e,t){this.persistence=e,this.oi=new Ko(r=>nx(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=dN(this,t)}static ri(e,t){return new Wc(e,t)}Zr(){}Xr(e){return ge.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ge.forEach(this.oi,(r,o)=>this.ar(e,r,o).next(a=>a?ge.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.qr(e,u=>this.ar(e,u,t).next(f=>{f||(r++,a.removeEntry(u,$e.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ge.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ge.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ge.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bc(e.data.value)),t}ar(e,t,r){return ge.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return ge.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=o}static Yi(e,t){let r=tt(),o=tt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Eg(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return sR()?8:ex(fn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.rs(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ss(e,t,o,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new AN;return this._s(e,t,u).next(f=>{if(a.result=f,this.Xi)return this.us(e,t,u,f.size)})}).next(()=>a.result)}us(e,t,r,o){return r.documentReadCount<this.es?(Vs()<=et.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",Us(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ge.resolve()):(Vs()<=et.DEBUG&&ke("QueryEngine","Query:",Us(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ts*o?(Vs()<=et.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",Us(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(t))):ge.resolve())}rs(e,t){if(uE(t))return ge.resolve(null);let r=Pr(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Tm(t,null,"F"),r=Pr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=tt(...a);return this.ns.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(h=>{const m=this.cs(t,f);return this.ls(t,m,u,h.readTime)?this.rs(e,Tm(t,null,"F")):this.hs(e,m,t,h)}))})))}ss(e,t,r,o){return uE(t)||o.isEqual($e.min())?ge.resolve(null):this.ns.getDocuments(e,r).next(a=>{const u=this.cs(t,a);return this.ls(t,u,r,o)?ge.resolve(null):(Vs()<=et.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Us(t)),this.hs(e,u,t,QO(o,Tl)).next(f=>f))})}cs(e,t){let r=new qt(NT(e));return t.forEach((o,a)=>{cf(e,a)&&(r=r.add(a))}),r}ls(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}_s(e,t,r){return Vs()<=et.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",Us(t)),this.ns.getDocumentsMatchingQuery(e,t,Yi.min(),r)}hs(e,t,r,o){return this.ns.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="LocalStore",RN=3e8;class kN{constructor(e,t,r,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new It(Qe),this.Is=new Ko(a=>cg(a),fg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function CN(n,e,t,r){return new kN(n,e,t,r)}async function nb(n,e){const t=He(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],f=[];let h=tt();for(const m of o){u.push(m.batchId);for(const v of m.mutations)h=h.add(v.key)}for(const m of a){f.push(m.batchId);for(const v of m.mutations)h=h.add(v.key)}return t.localDocuments.getDocuments(r,h).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:f}))})})}function PN(n,e){const t=He(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,h,m,v){const y=m.batch,d=y.keys();let g=ge.resolve();return d.forEach(b=>{g=g.next(()=>v.getEntry(h,b)).next(T=>{const _=m.docVersions.get(b);ut(_!==null),T.version.compareTo(_)<0&&(y.applyToRemoteDocument(T,m),T.isValidDocument()&&(T.setReadTime(m.commitVersion),v.addEntry(T)))})}),g.next(()=>f.mutationQueue.removeMutationBatch(h,y))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let h=tt();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(h=h.add(f.batch.mutations[m].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function rb(n){const e=He(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function ON(n,e){const t=He(n),r=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const f=[];e.targetChanges.forEach((v,y)=>{const d=o.get(y);if(!d)return;f.push(t.Hr.removeMatchingKeys(a,v.removedDocuments,y).next(()=>t.Hr.addMatchingKeys(a,v.addedDocuments,y)));let g=d.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?g=g.withResumeToken(tn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):v.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(v.resumeToken,r)),o=o.insert(y,g),function(T,_,w){return T.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=RN?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(d,g,v)&&f.push(t.Hr.updateTargetData(a,g))});let h=ui(),m=tt();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),f.push(xN(a,u,e.documentUpdates).next(v=>{h=v.Vs,m=v.fs})),!r.isEqual($e.min())){const v=t.Hr.getLastRemoteSnapshotVersion(a).next(y=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(v)}return ge.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,m)).next(()=>h)}).then(a=>(t.Ts=o,a))}function xN(n,e,t){let r=tt(),o=tt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=ui();return t.forEach((f,h)=>{const m=a.get(f);h.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(f)),h.isNoDocument()&&h.version.isEqual($e.min())?(e.removeEntry(f,h.readTime),u=u.insert(f,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),u=u.insert(f,h)):ke(wg,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",h.version)}),{Vs:u,fs:o}})}function NN(n,e){const t=He(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ag),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function DN(n,e){const t=He(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Hr.getTargetData(r,e).next(a=>a?(o=a,ge.resolve(o)):t.Hr.allocateTargetId(r).next(u=>(o=new $i(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ts.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Rm(n,e,t){const r=He(n),o=r.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!la(u))throw u;ke(wg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(o.target)}function TE(n,e,t){const r=He(n);let o=$e.min(),a=tt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(h,m,v){const y=He(h),d=y.Is.get(v);return d!==void 0?ge.resolve(y.Ts.get(d)):y.Hr.getTargetData(m,v)}(r,u,Pr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,f.targetId).next(h=>{a=h})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?o:$e.min(),t?a:tt())).next(f=>(LN(r,wx(e),f),{documents:f,gs:a})))}function LN(n,e,t){let r=n.Es.get(e)||$e.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Es.set(e,r)}class bE{constructor(){this.activeTargetIds=Rx()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MN{constructor(){this.ho=new bE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new bE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="ConnectivityMonitor";class AE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ke(SE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ke(SE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc=null;function km(){return pc===null?pc=function(){return 268435456+Math.round(2147483648*Math.random())}():pc++,"0x"+pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="RestConnection",VN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${o}`,this.wo=this.databaseId.database===Uc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}So(e,t,r,o,a){const u=km(),f=this.bo(e,t.toUriEncodedString());ke(_d,`Sending RPC '${e}' ${u}:`,f,r);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,o,a),this.vo(e,f,h,r).then(m=>(ke(_d,`Received RPC '${e}' ${u}: `,m),m),m=>{throw Gs(_d,`RPC '${e}' ${u} failed with error: `,m,"url: ",f,"request:",r),m})}Co(e,t,r,o,a,u){return this.So(e,t,r,o,a)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),r&&r.headers.forEach((o,a)=>e[a]=o)}bo(e,t){const r=VN[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class qN extends UN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,o){const a=km();return new Promise((u,f)=>{const h=new aT;h.setWithCredentials(!0),h.listenOnce(lT.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Tc.NO_ERROR:const v=h.getResponseJson();ke(ln,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case Tc.TIMEOUT:ke(ln,`RPC '${e}' ${a} timed out`),f(new Ne(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case Tc.HTTP_ERROR:const y=h.getStatus();if(ke(ln,`RPC '${e}' ${a} failed with status:`,y,"response text:",h.getResponseText()),y>0){let d=h.getResponseJson();Array.isArray(d)&&(d=d[0]);const g=d==null?void 0:d.error;if(g&&g.status&&g.message){const b=function(_){const w=_.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(w)>=0?w:Ee.UNKNOWN}(g.status);f(new Ne(b,g.message))}else f(new Ne(Ee.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Ne(Ee.UNAVAILABLE,"Connection failed."));break;default:Ue()}}finally{ke(ln,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(o);ke(ln,`RPC '${e}' ${a} sending request:`,o),h.send(t,"POST",m,r,15)})}Wo(e,t,r){const o=km(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=fT(),f=cT(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const v=a.join("");ke(ln,`Creating RPC '${e}' stream ${o}: ${v}`,h);const y=u.createWebChannel(v,h);let d=!1,g=!1;const b=new FN({Fo:_=>{g?ke(ln,`Not sending because RPC '${e}' stream ${o} is closed:`,_):(d||(ke(ln,`Opening RPC '${e}' stream ${o} transport.`),y.open(),d=!0),ke(ln,`RPC '${e}' stream ${o} sending:`,_),y.send(_))},Mo:()=>y.close()}),T=(_,w,S)=>{_.listen(w,k=>{try{S(k)}catch(E){setTimeout(()=>{throw E},0)}})};return T(y,sl.EventType.OPEN,()=>{g||(ke(ln,`RPC '${e}' stream ${o} transport opened.`),b.Qo())}),T(y,sl.EventType.CLOSE,()=>{g||(g=!0,ke(ln,`RPC '${e}' stream ${o} transport closed`),b.Uo())}),T(y,sl.EventType.ERROR,_=>{g||(g=!0,Gs(ln,`RPC '${e}' stream ${o} transport errored:`,_),b.Uo(new Ne(Ee.UNAVAILABLE,"The operation could not be completed")))}),T(y,sl.EventType.MESSAGE,_=>{var w;if(!g){const S=_.data[0];ut(!!S);const k=S,E=(k==null?void 0:k.error)||((w=k[0])===null||w===void 0?void 0:w.error);if(E){ke(ln,`RPC '${e}' stream ${o} received error:`,E);const L=E.status;let U=function(M){const x=Lt[M];if(x!==void 0)return $T(x)}(L),P=E.message;U===void 0&&(U=Ee.INTERNAL,P="Unknown error status: "+L+" with message "+E.message),g=!0,b.Uo(new Ne(U,P)),y.close()}else ke(ln,`RPC '${e}' stream ${o} received:`,S),b.Ko(S)}}),T(f,uT.STAT_EVENT,_=>{_.stat===gm.PROXY?ke(ln,`RPC '${e}' stream ${o} detected buffering proxy`):_.stat===gm.NOPROXY&&ke(ln,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{b.$o()},0),b}}function Ed(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(n){return new Hx(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=o,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-r);o>0&&ke("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="PersistentStream";class ob{constructor(e,t,r,o,a,u,f,h){this.Ti=e,this.n_=r,this.r_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ib(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Ee.RESOURCE_EXHAUSTED?(li(t.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.i_===t&&this.V_(r,o)},r=>{e(()=>{const o=new Ne(Ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(o)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{r(()=>this.m_(o))}),this.stream.onMessage(o=>{r(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ke(IE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ke(IE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BN extends ob{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Gx(this.serializer,e),r=function(a){if(!("targetChange"in a))return $e.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?$e.min():u.readTime?Or(u.readTime):$e.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Im(this.serializer),t.addTarget=function(a,u){let f;const h=u.target;if(f=wm(h)?{documents:Yx(a,h)}:{query:Jx(a,h).ht},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=KT(a,u.resumeToken);const m=bm(a,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo($e.min())>0){f.readTime=Hc(a,u.snapshotVersion.toTimestamp());const m=bm(a,u.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const r=eN(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Im(this.serializer),t.removeTarget=e,this.I_(t)}}class zN extends ob{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return ut(!!e.streamToken),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Xx(e.writeResults,e.commitTime),r=Or(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Im(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Qx(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{}class HN extends $N{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Ne(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.So(e,Sm(t,r),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ne(Ee.UNKNOWN,a.toString())})}Co(e,t,r,o,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Co(e,Sm(t,r),o,u,f,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ne(Ee.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class WN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(li(t),this.N_=!1):ke("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="RemoteStore";class KN{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(u=>{r.enqueueAndForget(async()=>{Go(this)&&(ke($o,"Restarting streams for network reachability change."),await async function(h){const m=He(h);m.W_.add(4),await ql(m),m.j_.set("Unknown"),m.W_.delete(4),await mf(m)}(this))})}),this.j_=new WN(r,o)}}async function mf(n){if(Go(n))for(const e of n.G_)await e(!0)}async function ql(n){for(const e of n.G_)await e(!1)}function sb(n,e){const t=He(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Ag(t)?Sg(t):ua(t).c_()&&bg(t,e))}function Tg(n,e){const t=He(n),r=ua(t);t.K_.delete(e),r.c_()&&ab(t,e),t.K_.size===0&&(r.c_()?r.P_():Go(t)&&t.j_.set("Unknown"))}function bg(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ua(n).y_(e)}function ab(n,e){n.H_.Ne(e),ua(n).w_(e)}function Sg(n){n.H_=new qx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),ua(n).start(),n.j_.B_()}function Ag(n){return Go(n)&&!ua(n).u_()&&n.K_.size>0}function Go(n){return He(n).W_.size===0}function lb(n){n.H_=void 0}async function GN(n){n.j_.set("Online")}async function QN(n){n.K_.forEach((e,t)=>{bg(n,e)})}async function XN(n,e){lb(n),Ag(n)?(n.j_.q_(e),Sg(n)):n.j_.set("Unknown")}async function YN(n,e,t){if(n.j_.set("Online"),e instanceof WT&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const f of a.targetIds)o.K_.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.K_.delete(f),o.H_.removeTarget(f))}(n,e)}catch(r){ke($o,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Kc(n,r)}else if(e instanceof Ic?n.H_.We(e):e instanceof HT?n.H_.Ze(e):n.H_.je(e),!t.isEqual($e.min()))try{const r=await rb(n.localStore);t.compareTo(r)>=0&&await function(a,u){const f=a.H_.ot(u);return f.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const v=a.K_.get(m);v&&a.K_.set(m,v.withResumeToken(h.resumeToken,u))}}),f.targetMismatches.forEach((h,m)=>{const v=a.K_.get(h);if(!v)return;a.K_.set(h,v.withResumeToken(tn.EMPTY_BYTE_STRING,v.snapshotVersion)),ab(a,h);const y=new $i(v.target,h,m,v.sequenceNumber);bg(a,y)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(r){ke($o,"Failed to raise snapshot:",r),await Kc(n,r)}}async function Kc(n,e,t){if(!la(e))throw e;n.W_.add(1),await ql(n),n.j_.set("Offline"),t||(t=()=>rb(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ke($o,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await mf(n)})}function ub(n,e){return e().catch(t=>Kc(n,t,e))}async function gf(n){const e=He(n),t=to(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:ag;for(;JN(e);)try{const o=await NN(e.localStore,r);if(o===null){e.U_.length===0&&t.P_();break}r=o.batchId,ZN(e,o)}catch(o){await Kc(e,o)}cb(e)&&fb(e)}function JN(n){return Go(n)&&n.U_.length<10}function ZN(n,e){n.U_.push(e);const t=to(n);t.c_()&&t.S_&&t.b_(e.mutations)}function cb(n){return Go(n)&&!to(n).u_()&&n.U_.length>0}function fb(n){to(n).start()}async function e2(n){to(n).C_()}async function t2(n){const e=to(n);for(const t of n.U_)e.b_(t.mutations)}async function n2(n,e,t){const r=n.U_.shift(),o=mg.from(r,e,t);await ub(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await gf(n)}async function r2(n,e){e&&to(n).S_&&await async function(r,o){if(function(u){return Ux(u)&&u!==Ee.ABORTED}(o.code)){const a=r.U_.shift();to(r).h_(),await ub(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await gf(r)}}(n,e),cb(n)&&fb(n)}async function RE(n,e){const t=He(n);t.asyncQueue.verifyOperationInProgress(),ke($o,"RemoteStore received new credentials");const r=Go(t);t.W_.add(3),await ql(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await mf(t)}async function i2(n,e){const t=He(n);e?(t.W_.delete(2),await mf(t)):e||(t.W_.add(2),await ql(t),t.j_.set("Unknown"))}function ua(n){return n.J_||(n.J_=function(t,r,o){const a=He(t);return a.M_(),new BN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:GN.bind(null,n),No:QN.bind(null,n),Lo:XN.bind(null,n),p_:YN.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Ag(n)?Sg(n):n.j_.set("Unknown")):(await n.J_.stop(),lb(n))})),n.J_}function to(n){return n.Y_||(n.Y_=function(t,r,o){const a=He(t);return a.M_(),new zN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:e2.bind(null,n),Lo:r2.bind(null,n),D_:t2.bind(null,n),v_:n2.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await gf(n)):(await n.Y_.stop(),n.U_.length>0&&(ke($o,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,f=new Ig(e,t,u,o,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rg(n,e){if(li("AsyncQueue",`${e}: ${n}`),la(n))return new Ne(Ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{static emptySet(e){return new Ws(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||je.comparator(t.key,r.key):(t,r)=>je.comparator(t.key,r.key),this.keyedMap=al(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ws)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ws;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(){this.Z_=new It(je.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ue():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Zs{constructor(e,t,r,o,a,u,f,h,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new Zs(e,t,Ws.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class s2{constructor(){this.queries=CE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const o=He(t),a=o.queries;o.queries=CE(),a.forEach((u,f)=>{for(const h of f.ta)h.onError(r)})})(this,new Ne(Ee.ABORTED,"Firestore shutting down"))}}function CE(){return new Ko(n=>xT(n),uf)}async function hb(n,e){const t=He(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.na()&&e.ra()&&(r=2):(a=new o2,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await t.onListen(o,!0);break;case 1:a.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const f=Rg(u,`Initialization of query '${Us(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&kg(t)}async function db(n,e){const t=He(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.ta.indexOf(e);u>=0&&(a.ta.splice(u,1),a.ta.length===0?o=e.ra()?0:1:!a.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function a2(n,e){const t=He(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const f of u.ta)f.oa(o)&&(r=!0);u.ea=o}}r&&kg(t)}function l2(n,e,t){const r=He(n),o=r.queries.get(e);if(o)for(const a of o.ta)a.onError(t);r.queries.delete(e)}function kg(n){n.ia.forEach(e=>{e.next()})}var Cm,PE;(PE=Cm||(Cm={}))._a="default",PE.Cache="cache";class pb{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Zs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Cm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e){this.key=e}}class gb{constructor(e){this.key=e}}class u2{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=tt(),this.mutatedKeys=tt(),this.ya=NT(e),this.wa=new Ws(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new kE,o=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,f=!1;const h=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,y)=>{const d=o.get(v),g=cf(this.query,y)?y:null,b=!!d&&this.mutatedKeys.has(d.key),T=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;d&&g?d.data.isEqual(g.data)?b!==T&&(r.track({type:3,doc:g}),_=!0):this.va(d,g)||(r.track({type:2,doc:g}),_=!0,(h&&this.ya(g,h)>0||m&&this.ya(g,m)<0)&&(f=!0)):!d&&g?(r.track({type:0,doc:g}),_=!0):d&&!g&&(r.track({type:1,doc:d}),_=!0,(h||m)&&(f=!0)),_&&(g?(u=u.add(g),a=T?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{wa:u,Da:r,ls:f,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((v,y)=>function(g,b){const T=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue()}};return T(g)-T(b)}(v.type,y.type)||this.ya(v.doc,y.doc)),this.Ca(r),o=o!=null&&o;const f=t&&!o?this.Fa():[],h=this.pa.size===0&&this.current&&!o?1:0,m=h!==this.ga;return this.ga=h,u.length!==0||m?{snapshot:new Zs(this.query,e.wa,a,u,e.mutatedKeys,h===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new kE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=tt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new gb(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new mb(r))}),t}Oa(e){this.fa=e.gs,this.pa=tt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Zs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Cg="SyncEngine";class c2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class f2{constructor(e){this.key=e,this.Ba=!1}}class h2{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Ko(f=>xT(f),uf),this.qa=new Map,this.Qa=new Set,this.$a=new It(je.comparator),this.Ua=new Map,this.Ka=new vg,this.Wa={},this.Ga=new Map,this.za=Js.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function d2(n,e,t=!0){const r=Tb(n);let o;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Na()):o=await yb(r,e,t,!0),o}async function p2(n,e){const t=Tb(n);await yb(t,e,!0,!1)}async function yb(n,e,t,r){const o=await DN(n.localStore,Pr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let f;return r&&(f=await m2(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&sb(n.remoteStore,o),f}async function m2(n,e,t,r,o){n.Ha=(y,d,g)=>async function(T,_,w,S){let k=_.view.ba(w);k.ls&&(k=await TE(T.localStore,_.query,!1).then(({documents:P})=>_.view.ba(P,k)));const E=S&&S.targetChanges.get(_.targetId),L=S&&S.targetMismatches.get(_.targetId)!=null,U=_.view.applyChanges(k,T.isPrimaryClient,E,L);return xE(T,_.targetId,U.Ma),U.snapshot}(n,y,d,g);const a=await TE(n.localStore,e,!0),u=new u2(e,a.gs),f=u.ba(a.documents),h=Fl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=u.applyChanges(f,n.isPrimaryClient,h);xE(n,t,m.Ma);const v=new c2(e,t,u);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),m.snapshot}async function g2(n,e,t){const r=He(n),o=r.ka.get(e),a=r.qa.get(o.targetId);if(a.length>1)return r.qa.set(o.targetId,a.filter(u=>!uf(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Rm(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Tg(r.remoteStore,o.targetId),Pm(r,o.targetId)}).catch(aa)):(Pm(r,o.targetId),await Rm(r.localStore,o.targetId,!0))}async function y2(n,e){const t=He(n),r=t.ka.get(e),o=t.qa.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Tg(t.remoteStore,r.targetId))}async function v2(n,e,t){const r=A2(n);try{const o=await function(u,f){const h=He(u),m=Ft.now(),v=f.reduce((g,b)=>g.add(b.key),tt());let y,d;return h.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=ui(),T=tt();return h.ds.getEntries(g,v).next(_=>{b=_,b.forEach((w,S)=>{S.isValidDocument()||(T=T.add(w))})}).next(()=>h.localDocuments.getOverlayedDocuments(g,b)).next(_=>{y=_;const w=[];for(const S of f){const k=Dx(S,y.get(S.key).overlayedDocument);k!=null&&w.push(new oo(S.key,k,AT(k.value.mapValue),fr.exists(!0)))}return h.mutationQueue.addMutationBatch(g,m,w,f)}).next(_=>{d=_;const w=_.applyToLocalDocumentSet(y,T);return h.documentOverlayCache.saveOverlays(g,_.batchId,w)})}).then(()=>({batchId:d.batchId,changes:LT(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,f,h){let m=u.Wa[u.currentUser.toKey()];m||(m=new It(Qe)),m=m.insert(f,h),u.Wa[u.currentUser.toKey()]=m}(r,o.batchId,t),await Bl(r,o.changes),await gf(r.remoteStore)}catch(o){const a=Rg(o,"Failed to persist write");t.reject(a)}}async function vb(n,e){const t=He(n);try{const r=await ON(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Ua.get(a);u&&(ut(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Ba=!0:o.modifiedDocuments.size>0?ut(u.Ba):o.removedDocuments.size>0&&(ut(u.Ba),u.Ba=!1))}),await Bl(t,r,e)}catch(r){await aa(r)}}function OE(n,e,t){const r=He(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.ka.forEach((a,u)=>{const f=u.view.sa(e);f.snapshot&&o.push(f.snapshot)}),function(u,f){const h=He(u);h.onlineState=f;let m=!1;h.queries.forEach((v,y)=>{for(const d of y.ta)d.sa(f)&&(m=!0)}),m&&kg(h)}(r.eventManager,e),o.length&&r.La.p_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _2(n,e,t){const r=He(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Ua.get(e),a=o&&o.key;if(a){let u=new It(je.comparator);u=u.insert(a,cn.newNoDocument(a,$e.min()));const f=tt().add(a),h=new df($e.min(),new Map,new It(Qe),u,f);await vb(r,h),r.$a=r.$a.remove(a),r.Ua.delete(e),Pg(r)}else await Rm(r.localStore,e,!1).then(()=>Pm(r,e,t)).catch(aa)}async function E2(n,e){const t=He(n),r=e.batch.batchId;try{const o=await PN(t.localStore,e);Eb(t,r,null),_b(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Bl(t,o)}catch(o){await aa(o)}}async function w2(n,e,t){const r=He(n);try{const o=await function(u,f){const h=He(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return h.mutationQueue.lookupMutationBatch(m,f).next(y=>(ut(y!==null),v=y.keys(),h.mutationQueue.removeMutationBatch(m,y))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,v,f)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>h.localDocuments.getDocuments(m,v))})}(r.localStore,e);Eb(r,e,t),_b(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Bl(r,o)}catch(o){await aa(o)}}function _b(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function Eb(n,e,t){const r=He(n);let o=r.Wa[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Wa[r.currentUser.toKey()]=o}}function Pm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||wb(n,r)})}function wb(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Tg(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),Pg(n))}function xE(n,e,t){for(const r of t)r instanceof mb?(n.Ka.addReference(r.key,e),T2(n,r)):r instanceof gb?(ke(Cg,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||wb(n,r.key)):Ue()}function T2(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(ke(Cg,"New document in limbo: "+t),n.Qa.add(r),Pg(n))}function Pg(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new je(Tt.fromString(e)),r=n.za.next();n.Ua.set(r,new f2(t)),n.$a=n.$a.insert(t,r),sb(n.remoteStore,new $i(Pr(hg(t.path)),r,"TargetPurposeLimboResolution",of.ae))}}async function Bl(n,e,t){const r=He(n),o=[],a=[],u=[];r.ka.isEmpty()||(r.ka.forEach((f,h)=>{u.push(r.Ha(h,e,t).then(m=>{var v;if((m||t)&&r.isPrimaryClient){const y=m?!m.fromCache:(v=t==null?void 0:t.targetChanges.get(h.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(m){o.push(m);const y=Eg.Yi(h.targetId,m);a.push(y)}}))}),await Promise.all(u),r.La.p_(o),await async function(h,m){const v=He(h);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>ge.forEach(m,d=>ge.forEach(d.Hi,g=>v.persistence.referenceDelegate.addReference(y,d.targetId,g)).next(()=>ge.forEach(d.Ji,g=>v.persistence.referenceDelegate.removeReference(y,d.targetId,g)))))}catch(y){if(!la(y))throw y;ke(wg,"Failed to update sequence numbers: "+y)}for(const y of m){const d=y.targetId;if(!y.fromCache){const g=v.Ts.get(d),b=g.snapshotVersion,T=g.withLastLimboFreeSnapshotVersion(b);v.Ts=v.Ts.insert(d,T)}}}(r.localStore,a))}async function b2(n,e){const t=He(n);if(!t.currentUser.isEqual(e)){ke(Cg,"User change. New user:",e.toKey());const r=await nb(t.localStore,e);t.currentUser=e,function(a,u){a.Ga.forEach(f=>{f.forEach(h=>{h.reject(new Ne(Ee.CANCELLED,u))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bl(t,r.Rs)}}function S2(n,e){const t=He(n),r=t.Ua.get(e);if(r&&r.Ba)return tt().add(r.key);{let o=tt();const a=t.qa.get(e);if(!a)return o;for(const u of a){const f=t.ka.get(u);o=o.unionWith(f.view.Sa)}return o}}function Tb(n){const e=He(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=S2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_2.bind(null,e),e.La.p_=a2.bind(null,e.eventManager),e.La.Ja=l2.bind(null,e.eventManager),e}function A2(n){const e=He(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=w2.bind(null,e),e}class Gc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return CN(this.persistence,new IN,e.initialUser,this.serializer)}Xa(e){return new tb(_g.ri,this.serializer)}Za(e){return new MN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gc.provider={build:()=>new Gc};class I2 extends Gc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){ut(this.persistence.referenceDelegate instanceof Wc);const r=this.persistence.referenceDelegate.garbageCollector;return new fN(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new tb(r=>Wc.ri(r,t),this.serializer)}}class Om{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>OE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=b2.bind(null,this.syncEngine),await i2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new s2}()}createDatastore(e){const t=pf(e.databaseInfo.databaseId),r=function(a){return new qN(a)}(e.databaseInfo);return function(a,u,f,h){return new HN(a,u,f,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,a,u,f){return new KN(r,o,a,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>OE(this.syncEngine,t,0),function(){return AE.D()?new AE:new jN}())}createSyncEngine(e,t){return function(o,a,u,f,h,m,v){const y=new h2(o,a,u,f,h,m);return v&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=He(o);ke($o,"RemoteStore shutting down."),a.W_.add(5),await ql(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Om.provider={build:()=>new Om};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="FirestoreClient";class R2{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=un.UNAUTHENTICATED,this.clientId=pT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{ke(no,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ke(no,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Rg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wd(n,e){n.asyncQueue.verifyOperationInProgress(),ke(no,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await nb(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function NE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await k2(n);ke(no,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>RE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>RE(e.remoteStore,o)),n._onlineComponents=e}async function k2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ke(no,"Using user provided OfflineComponentProvider");try{await wd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Ee.FAILED_PRECONDITION||o.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Gs("Error using user provided cache. Falling back to memory cache: "+t),await wd(n,new Gc)}}else ke(no,"Using default OfflineComponentProvider"),await wd(n,new I2(void 0));return n._offlineComponents}async function Sb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ke(no,"Using user provided OnlineComponentProvider"),await NE(n,n._uninitializedComponentsProvider._online)):(ke(no,"Using default OnlineComponentProvider"),await NE(n,new Om))),n._onlineComponents}function C2(n){return Sb(n).then(e=>e.syncEngine)}async function Ab(n){const e=await Sb(n),t=e.eventManager;return t.onListen=d2.bind(null,e.syncEngine),t.onUnlisten=g2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=p2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=y2.bind(null,e.syncEngine),t}function P2(n,e,t={}){const r=new ii;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,h,m){const v=new bb({next:d=>{v.su(),u.enqueueAndForget(()=>db(a,y));const g=d.docs.has(f);!g&&d.fromCache?m.reject(new Ne(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&d.fromCache&&h&&h.source==="server"?m.reject(new Ne(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(d)},error:d=>m.reject(d)}),y=new pb(hg(f.path),v,{includeMetadataChanges:!0,Ta:!0});return hb(a,y)}(await Ab(n),n.asyncQueue,e,t,r)),r.promise}function O2(n,e,t={}){const r=new ii;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,h,m){const v=new bb({next:d=>{v.su(),u.enqueueAndForget(()=>db(a,y)),d.fromCache&&h.source==="server"?m.reject(new Ne(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(d)},error:d=>m.reject(d)}),y=new pb(f,v,{includeMetadataChanges:!0,Ta:!0});return hb(a,y)}(await Ab(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(n,e,t){if(!t)throw new Ne(Ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function x2(n,e,t,r){if(e===!0&&r===!0)throw new Ne(Ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function LE(n){if(!je.isDocumentKey(n))throw new Ne(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ME(n){if(je.isDocumentKey(n))throw new Ne(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Og(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ue()}function ci(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Og(n);throw new Ne(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="firestore.googleapis.com",jE=!0;class VE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kb,this.ssl=jE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:jE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uN)throw new Ne(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}x2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ib((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ne(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ne(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ne(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yf{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new FO;switch(r.type){case"firstParty":return new $O(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=DE.get(t);r&&(ke("ComponentProvider","Removing Datastore"),DE.delete(t),r.terminate())}(this),Promise.resolve()}}function N2(n,e,t,r={}){var o;const a=(n=ci(n,yf))._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;a.host!==kb&&a.host!==f&&Gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:f,ssl:!1,emulatorOptions:r});if(!Uo(h,u)&&(n._setSettings(h),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=un.MOCK_USER;else{m=n0(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Ne(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new un(y)}n._authCredentials=new qO(new hT(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vf(this.firestore,e,this._query)}}class jn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}}class Gi extends vf{constructor(e,t,r){super(e,t,hg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new je(e))}withConverter(e){return new Gi(this.firestore,e,this._path)}}function _f(n,e,...t){if(n=Gt(n),Rb("collection","path",e),n instanceof yf){const r=Tt.fromString(e,...t);return ME(r),new Gi(n,null,r)}{if(!(n instanceof jn||n instanceof Gi))throw new Ne(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tt.fromString(e,...t));return ME(r),new Gi(n.firestore,null,r)}}function zl(n,e,...t){if(n=Gt(n),arguments.length===1&&(e=pT.newId()),Rb("doc","path",e),n instanceof yf){const r=Tt.fromString(e,...t);return LE(r),new jn(n,null,new je(r))}{if(!(n instanceof jn||n instanceof Gi))throw new Ne(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tt.fromString(e,...t));return LE(r),new jn(n.firestore,n instanceof Gi?n.converter:null,new je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="AsyncQueue";class FE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ib(this,"async_queue_retry"),this.Su=()=>{const r=Ed();r&&ke(UE,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=Ed();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Ed();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ii;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!la(e))throw e;ke(UE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const o=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(r);throw li("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Ig.createAndSchedule(this,e,t,r,a=>this.Fu(a));return this.fu.push(o),o}Du(){this.gu&&Ue()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class ca extends yf{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new FE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new FE(e),this._firestoreClient=void 0,await e}}}function D2(n,e){const t=typeof n=="object"?n:zm(),r=typeof n=="string"?n:Uc,o=ef(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=Zw("firestore");a&&N2(o,...a)}return o}function xg(n){if(n._terminated)throw new Ne(Ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||L2(n),n._firestoreClient}function L2(n){var e,t,r;const o=n._freezeSettings(),a=function(f,h,m,v){return new ox(f,h,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Ib(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new R2(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(f){const h=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ea(tn.fromBase64String(e))}catch(t){throw new Ne(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ea(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ne(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=/^__.*__$/;class j2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new oo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ul(e,this.data,t,this.fieldTransforms)}}class Cb{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new oo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Pb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue()}}class Mg{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Mg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:r,Qu:!1});return o.$u(e),o}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:r,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Qc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Pb(this.Lu)&&M2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class V2{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||pf(e)}ju(e,t,r,o=!1){return new Mg({Lu:e,methodName:t,zu:r,path:en.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ob(n){const e=n._freezeSettings(),t=pf(n._databaseId);return new V2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function U2(n,e,t,r,o,a={}){const u=n.ju(a.merge||a.mergeFields?2:0,e,t,o);jg("Data must be an object, but it was:",u,r);const f=xb(r,u);let h,m;if(a.merge)h=new Mn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const y of a.mergeFields){const d=xm(e,y,t);if(!u.contains(d))throw new Ne(Ee.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Db(v,d)||v.push(d)}h=new Mn(v),m=u.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,m=u.fieldTransforms;return new j2(new Rn(f),h,m)}class wf extends Ng{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wf}}function F2(n,e,t,r){const o=n.ju(1,e,t);jg("Data must be an object, but it was:",o,r);const a=[],u=Rn.empty();io(r,(h,m)=>{const v=Vg(e,h,t);m=Gt(m);const y=o.Uu(v);if(m instanceof wf)a.push(v);else{const d=Tf(m,y);d!=null&&(a.push(v),u.set(v,d))}});const f=new Mn(a);return new Cb(u,f,o.fieldTransforms)}function q2(n,e,t,r,o,a){const u=n.ju(1,e,t),f=[xm(e,r,t)],h=[o];if(a.length%2!=0)throw new Ne(Ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<a.length;d+=2)f.push(xm(e,a[d])),h.push(a[d+1]);const m=[],v=Rn.empty();for(let d=f.length-1;d>=0;--d)if(!Db(m,f[d])){const g=f[d];let b=h[d];b=Gt(b);const T=u.Uu(g);if(b instanceof wf)m.push(g);else{const _=Tf(b,T);_!=null&&(m.push(g),v.set(g,_))}}const y=new Mn(m);return new Cb(v,y,u.fieldTransforms)}function Tf(n,e){if(Nb(n=Gt(n)))return jg("Unsupported field value:",e,n),xb(n,e);if(n instanceof Ng)return function(r,o){if(!Pb(o.Lu))throw o.Wu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,o){const a=[];let u=0;for(const f of r){let h=Tf(f,o.Ku(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,o){if((r=Gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kx(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ft.fromDate(r);return{timestampValue:Hc(o.serializer,a)}}if(r instanceof Ft){const a=new Ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hc(o.serializer,a)}}if(r instanceof Dg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ea)return{bytesValue:KT(o.serializer,r._byteString)};if(r instanceof jn){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:yg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Lg)return function(u,f){return{mapValue:{fields:{[TT]:{stringValue:ST},[Fc]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw f.Wu("VectorValues must only contain numeric values.");return dg(f.serializer,m)})}}}}}}(r,o);throw o.Wu(`Unsupported field value: ${Og(r)}`)}(n,e)}function xb(n,e){const t={};return gT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(n,(r,o)=>{const a=Tf(o,e.qu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function Nb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ft||n instanceof Dg||n instanceof ea||n instanceof jn||n instanceof Ng||n instanceof Lg)}function jg(n,e,t){if(!Nb(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const r=Og(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function xm(n,e,t){if((e=Gt(e))instanceof Ef)return e._internalPath;if(typeof e=="string")return Vg(n,e);throw Qc("Field path arguments must be of type string or ",n,!1,void 0,t)}const B2=new RegExp("[~\\*/\\[\\]]");function Vg(n,e,t){if(e.search(B2)>=0)throw Qc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ef(...e.split("."))._internalPath}catch{throw Qc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Qc(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${r}`),u&&(h+=` in document ${o}`),h+=")"),new Ne(Ee.INVALID_ARGUMENT,f+n+h)}function Db(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Mb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class z2 extends Lb{data(){return super.data()}}function Mb(n,e){return typeof e=="string"?Vg(n,e):e instanceof Ef?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ne(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class H2{convertValue(e,t="none"){switch(eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return io(e,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,o;const a=(o=(r=(t=e.fields)===null||t===void 0?void 0:t[Fc].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(u=>Ot(u.doubleValue));return new Lg(a)}convertGeoPoint(e){return new Dg(Ot(e.latitude),Ot(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=af(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(bl(e));default:return null}}convertTimestamp(e){const t=Ji(e);return new Ft(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Tt.fromString(e);ut(ZT(r));const o=new Sl(r.get(1),r.get(3)),a=new je(r.popFirst(5));return o.isEqual(t)||li(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jb extends Lb{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Mb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Rc extends jb{data(e={}){return super.data(e)}}class K2{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ul(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Rc(this._firestore,this._userDataWriter,r.key,r,new ul(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(f=>{const h=new Rc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ul(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const h=new Rc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ul(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return f.type!==0&&(m=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:G2(f.type),doc:h,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function G2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(n){n=ci(n,jn);const e=ci(n.firestore,ca);return P2(xg(e),n._key).then(t=>J2(e,n,t))}class Vb extends H2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ea(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,t)}}function Ug(n){n=ci(n,vf);const e=ci(n.firestore,ca),t=xg(e),r=new Vb(e);return $2(n._query),O2(t,n._query).then(o=>new K2(e,r,n,o))}function Ub(n,e,t,...r){n=ci(n,jn);const o=ci(n.firestore,ca),a=Ob(o);let u;return u=typeof(e=Gt(e))=="string"||e instanceof Ef?q2(a,"updateDoc",n._key,e,t,r):F2(a,"updateDoc",n._key,e),Fg(o,[u.toMutation(n._key,fr.exists(!0))])}function X2(n){return Fg(ci(n.firestore,ca),[new pg(n._key,fr.none())])}function Y2(n,e){const t=ci(n.firestore,ca),r=zl(n),o=W2(n.converter,e);return Fg(t,[U2(Ob(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,fr.exists(!1))]).then(()=>r)}function Fg(n,e){return function(r,o){const a=new ii;return r.asyncQueue.enqueueAndForget(async()=>v2(await C2(r),o,a)),a.promise}(xg(n),e)}function J2(n,e,t){const r=t.docs.get(e._key),o=new Vb(n);return new jb(n,o,e._key,r,new ul(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){sa=o})(Wo),Fo(new Xi("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),f=new ca(new BO(r.getProvider("auth-internal")),new HO(u,r.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ne(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(m.options.projectId,v)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),Rr(W_,K_,e),Rr(W_,K_,"esm2017")})();const ro=D2(og);async function Fb(n){const e=_f(ro,n),t=await Ug(e);let r=[];return t.forEach(o=>{r.push({...o.data(),id:o.id})}),r}async function qb(n,e){const t=_f(ro,n);return(await Y2(t,e)).id}async function Z2(n,e,t){const r=zl(ro,n,e);return await Ub(r,t),`Document with ID ${e} updated successfully.`}async function Bb(n,e){const t=zl(ro,n,e),r=await Q2(t);if(r.exists())return{...r.data(),id:r.id};throw new Error(`No document found with ID ${e} in collection ${n}`)}async function zb(n,e,t){const r=_f(ro,n),o=await Ug(r);let a=null;if(o.forEach(u=>{u.data()[e]===t&&(a={...u.data(),id:u.id})}),a)return a;throw new Error(`No document found in collection ${n} with ${e} equal to ${t}`)}async function eD(n,e){const t=zl(ro,n,e);return await X2(t),`Document with ID ${e} deleted successfully from collection ${n}.`}async function tD(n,e,t,r){const o=_f(ro,n),a=await Ug(o);let u=null;if(a.forEach(f=>{f.data()[e]===t&&(u=f.id)}),u){const f=zl(ro,n,u);return await Ub(f,r),`Document with ${e} equal to ${t} updated successfully.`}else throw new Error(`No document found in collection ${n} with ${e} equal to ${t}`)}const nD=(n,e,t,r)=>new Promise((o,a)=>{if(!n)return a("Nenhum arquivo selecionado.");const u=`dishes/${n.name}`,f=NO(UO,u),h=OO(f,n);h.on("state_changed",m=>{const v=m.bytesTransferred/m.totalBytes*100;e(v)},m=>{console.error(m),a(m)},async()=>{try{const m=await xO(h.snapshot.ref);t(m),r(v=>({...v,images:[...v.images||[],m]})),o(m)}catch(m){a(m)}})}),rD=()=>{const[n,e]=de.useState([]),t=Pl(),{login:r}=de.useContext(fi);de.useEffect(()=>{o()},[]),de.useEffect(()=>{o()},[r]);const o=async()=>{const u=await Fb("products");if(console.log("produtos com id  ",u),u&&u.length>0)if(r)e(u);else{const f=u.filter(h=>h.adApproved===!0);e(f);return}},a=u=>{console.log("Qual é oproduto   ",u),t(`/singleProduct/${u}`)};return z.jsxs("div",{className:Mi.showcaseContainer,children:[z.jsx("h1",{children:"Vitrine de Produtos"}),z.jsx("div",{className:Mi.scrollContainer,children:n.length>0?z.jsx("div",{className:Mi.productsGrid,children:n.map((u,f)=>z.jsxs("div",{className:Mi.productCard,onClick:()=>a(u.id),children:[z.jsx("div",{className:Mi.imageContainer,children:z.jsx("img",{src:u.images[0],alt:`Produto ${f+1}`,className:Mi.productImage})}),z.jsx("h3",{className:Mi.title,children:u.title}),z.jsxs("h3",{className:Mi.price,children:["R$ ",u.price,",00"]})]},f))}):z.jsx("p",{children:"Nenhum produto encontrado no localStorage."})})]})},iD="_productFormContainer_ktmcw_3",oD="_formContainer_ktmcw_3",sD="_formRow_ktmcw_8",aD="_formGroup_ktmcw_11",lD="_formTextareaColumn_ktmcw_15",uD="_textareaColumn_ktmcw_18",cD="_linkAddImgContainer_ktmcw_22",fD="_linkField_ktmcw_26",hD="_btn_ktmcw_26",dD="_containerImages_ktmcw_30",pD="_btnContainer_ktmcw_33",mD="_imagePreview_ktmcw_62",gD="_textField_ktmcw_97",yD="_imageItem_ktmcw_155",Ze={productFormContainer:iD,formContainer:oD,formRow:sD,formGroup:aD,formTextareaColumn:lD,textareaColumn:uD,linkAddImgContainer:cD,linkField:fD,btn:hD,containerImages:dD,btnContainer:pD,imagePreview:mD,textField:gD,imageItem:yD},vD="_container_if0ca_1",_D="_geralContainerConfirmMessage_if0ca_18",ED="_containerBtn_if0ca_24",wD="_containerCpf_if0ca_31",TD="_submitCpfBtn_if0ca_40",bD="_register_if0ca_67",Ar={container:vD,geralContainerConfirmMessage:_D,containerBtn:ED,containerCpf:wD,submitCpfBtn:TD,register:bD};var Td={exports:{}},bd,qE;function SD(){if(qE)return bd;qE=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return bd=n,bd}var Sd,BE;function AD(){if(BE)return Sd;BE=1;var n=SD();function e(){}function t(){}return t.resetWarningCache=e,Sd=function(){function r(u,f,h,m,v,y){if(y!==n){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}r.isRequired=r;function o(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Sd}var zE;function ID(){return zE||(zE=1,Td.exports=AD()()),Td.exports}var RD=ID();const Ye=Lm(RD),Nm=({setCloseMessage:n,defaultMessage:e,goOn:t})=>z.jsx("div",{className:Ar.container,children:z.jsxs("div",{className:Ar.geralContainerConfirmMessage,children:[z.jsxs("div",{children:[" ",z.jsx("h1",{children:e})]}),z.jsxs("div",{className:Ar.containerBtn,children:[z.jsx("button",{onClick:t,children:"Sim"}),z.jsx("button",{onClick:()=>n(!1),children:"Não"})]})]})});Nm.propTypes={setCloseMessage:Ye.func.isRequired,defaultMessage:Ye.string.isRequired,goOn:Ye.func.isRequired};const kD="_container_l88h6_1",CD="_messageBox_l88h6_13",$E={container:kD,messageBox:CD},ta=({message:n,setClose:e,setCloseMessage:t,adress:r})=>{const o=Pl();return Ge.useEffect(()=>{const a=setTimeout(()=>{e&&e(!1),t&&t(!1),r&&o(r)},4e3);return()=>clearTimeout(a)},[o]),z.jsx("div",{className:$E.container,children:z.jsx("div",{className:$E.messageBox,children:n})})};ta.propTypes={message:Ye.string.isRequired,adress:Ye.string,setCloseMessage:Ye.func,setClose:Ye.func.isRequired};var Ad,HE;function PD(){if(HE)return Ad;HE=1;function n(){this.__data__=[],this.size=0}return Ad=n,Ad}var Id,WE;function $b(){if(WE)return Id;WE=1;function n(e,t){return e===t||e!==e&&t!==t}return Id=n,Id}var Rd,KE;function bf(){if(KE)return Rd;KE=1;var n=$b();function e(t,r){for(var o=t.length;o--;)if(n(t[o][0],r))return o;return-1}return Rd=e,Rd}var kd,GE;function OD(){if(GE)return kd;GE=1;var n=bf(),e=Array.prototype,t=e.splice;function r(o){var a=this.__data__,u=n(a,o);if(u<0)return!1;var f=a.length-1;return u==f?a.pop():t.call(a,u,1),--this.size,!0}return kd=r,kd}var Cd,QE;function xD(){if(QE)return Cd;QE=1;var n=bf();function e(t){var r=this.__data__,o=n(r,t);return o<0?void 0:r[o][1]}return Cd=e,Cd}var Pd,XE;function ND(){if(XE)return Pd;XE=1;var n=bf();function e(t){return n(this.__data__,t)>-1}return Pd=e,Pd}var Od,YE;function DD(){if(YE)return Od;YE=1;var n=bf();function e(t,r){var o=this.__data__,a=n(o,t);return a<0?(++this.size,o.push([t,r])):o[a][1]=r,this}return Od=e,Od}var xd,JE;function Sf(){if(JE)return xd;JE=1;var n=PD(),e=OD(),t=xD(),r=ND(),o=DD();function a(u){var f=-1,h=u==null?0:u.length;for(this.clear();++f<h;){var m=u[f];this.set(m[0],m[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,xd=a,xd}var Nd,ZE;function LD(){if(ZE)return Nd;ZE=1;var n=Sf();function e(){this.__data__=new n,this.size=0}return Nd=e,Nd}var Dd,e1;function MD(){if(e1)return Dd;e1=1;function n(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}return Dd=n,Dd}var Ld,t1;function jD(){if(t1)return Ld;t1=1;function n(e){return this.__data__.get(e)}return Ld=n,Ld}var Md,n1;function VD(){if(n1)return Md;n1=1;function n(e){return this.__data__.has(e)}return Md=n,Md}var jd,r1;function Hb(){if(r1)return jd;r1=1;var n=typeof ic=="object"&&ic&&ic.Object===Object&&ic;return jd=n,jd}var Vd,i1;function hi(){if(i1)return Vd;i1=1;var n=Hb(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return Vd=t,Vd}var Ud,o1;function qg(){if(o1)return Ud;o1=1;var n=hi(),e=n.Symbol;return Ud=e,Ud}var Fd,s1;function UD(){if(s1)return Fd;s1=1;var n=qg(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,o=n?n.toStringTag:void 0;function a(u){var f=t.call(u,o),h=u[o];try{u[o]=void 0;var m=!0}catch{}var v=r.call(u);return m&&(f?u[o]=h:delete u[o]),v}return Fd=a,Fd}var qd,a1;function FD(){if(a1)return qd;a1=1;var n=Object.prototype,e=n.toString;function t(r){return e.call(r)}return qd=t,qd}var Bd,l1;function Af(){if(l1)return Bd;l1=1;var n=qg(),e=UD(),t=FD(),r="[object Null]",o="[object Undefined]",a=n?n.toStringTag:void 0;function u(f){return f==null?f===void 0?o:r:a&&a in Object(f)?e(f):t(f)}return Bd=u,Bd}var zd,u1;function Wb(){if(u1)return zd;u1=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return zd=n,zd}var $d,c1;function Kb(){if(c1)return $d;c1=1;var n=Af(),e=Wb(),t="[object AsyncFunction]",r="[object Function]",o="[object GeneratorFunction]",a="[object Proxy]";function u(f){if(!e(f))return!1;var h=n(f);return h==r||h==o||h==t||h==a}return $d=u,$d}var Hd,f1;function qD(){if(f1)return Hd;f1=1;var n=hi(),e=n["__core-js_shared__"];return Hd=e,Hd}var Wd,h1;function BD(){if(h1)return Wd;h1=1;var n=qD(),e=function(){var r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function t(r){return!!e&&e in r}return Wd=t,Wd}var Kd,d1;function Gb(){if(d1)return Kd;d1=1;var n=Function.prototype,e=n.toString;function t(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Kd=t,Kd}var Gd,p1;function zD(){if(p1)return Gd;p1=1;var n=Kb(),e=BD(),t=Wb(),r=Gb(),o=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,u=Function.prototype,f=Object.prototype,h=u.toString,m=f.hasOwnProperty,v=RegExp("^"+h.call(m).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function y(d){if(!t(d)||e(d))return!1;var g=n(d)?v:a;return g.test(r(d))}return Gd=y,Gd}var Qd,m1;function $D(){if(m1)return Qd;m1=1;function n(e,t){return e==null?void 0:e[t]}return Qd=n,Qd}var Xd,g1;function fa(){if(g1)return Xd;g1=1;var n=zD(),e=$D();function t(r,o){var a=e(r,o);return n(a)?a:void 0}return Xd=t,Xd}var Yd,y1;function Bg(){if(y1)return Yd;y1=1;var n=fa(),e=hi(),t=n(e,"Map");return Yd=t,Yd}var Jd,v1;function If(){if(v1)return Jd;v1=1;var n=fa(),e=n(Object,"create");return Jd=e,Jd}var Zd,_1;function HD(){if(_1)return Zd;_1=1;var n=If();function e(){this.__data__=n?n(null):{},this.size=0}return Zd=e,Zd}var ep,E1;function WD(){if(E1)return ep;E1=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return ep=n,ep}var tp,w1;function KD(){if(w1)return tp;w1=1;var n=If(),e="__lodash_hash_undefined__",t=Object.prototype,r=t.hasOwnProperty;function o(a){var u=this.__data__;if(n){var f=u[a];return f===e?void 0:f}return r.call(u,a)?u[a]:void 0}return tp=o,tp}var np,T1;function GD(){if(T1)return np;T1=1;var n=If(),e=Object.prototype,t=e.hasOwnProperty;function r(o){var a=this.__data__;return n?a[o]!==void 0:t.call(a,o)}return np=r,np}var rp,b1;function QD(){if(b1)return rp;b1=1;var n=If(),e="__lodash_hash_undefined__";function t(r,o){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=n&&o===void 0?e:o,this}return rp=t,rp}var ip,S1;function XD(){if(S1)return ip;S1=1;var n=HD(),e=WD(),t=KD(),r=GD(),o=QD();function a(u){var f=-1,h=u==null?0:u.length;for(this.clear();++f<h;){var m=u[f];this.set(m[0],m[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,ip=a,ip}var op,A1;function YD(){if(A1)return op;A1=1;var n=XD(),e=Sf(),t=Bg();function r(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return op=r,op}var sp,I1;function JD(){if(I1)return sp;I1=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return sp=n,sp}var ap,R1;function Rf(){if(R1)return ap;R1=1;var n=JD();function e(t,r){var o=t.__data__;return n(r)?o[typeof r=="string"?"string":"hash"]:o.map}return ap=e,ap}var lp,k1;function ZD(){if(k1)return lp;k1=1;var n=Rf();function e(t){var r=n(this,t).delete(t);return this.size-=r?1:0,r}return lp=e,lp}var up,C1;function eL(){if(C1)return up;C1=1;var n=Rf();function e(t){return n(this,t).get(t)}return up=e,up}var cp,P1;function tL(){if(P1)return cp;P1=1;var n=Rf();function e(t){return n(this,t).has(t)}return cp=e,cp}var fp,O1;function nL(){if(O1)return fp;O1=1;var n=Rf();function e(t,r){var o=n(this,t),a=o.size;return o.set(t,r),this.size+=o.size==a?0:1,this}return fp=e,fp}var hp,x1;function Qb(){if(x1)return hp;x1=1;var n=YD(),e=ZD(),t=eL(),r=tL(),o=nL();function a(u){var f=-1,h=u==null?0:u.length;for(this.clear();++f<h;){var m=u[f];this.set(m[0],m[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,hp=a,hp}var dp,N1;function rL(){if(N1)return dp;N1=1;var n=Sf(),e=Bg(),t=Qb(),r=200;function o(a,u){var f=this.__data__;if(f instanceof n){var h=f.__data__;if(!e||h.length<r-1)return h.push([a,u]),this.size=++f.size,this;f=this.__data__=new t(h)}return f.set(a,u),this.size=f.size,this}return dp=o,dp}var pp,D1;function iL(){if(D1)return pp;D1=1;var n=Sf(),e=LD(),t=MD(),r=jD(),o=VD(),a=rL();function u(f){var h=this.__data__=new n(f);this.size=h.size}return u.prototype.clear=e,u.prototype.delete=t,u.prototype.get=r,u.prototype.has=o,u.prototype.set=a,pp=u,pp}var mp,L1;function oL(){if(L1)return mp;L1=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return mp=e,mp}var gp,M1;function sL(){if(M1)return gp;M1=1;function n(e){return this.__data__.has(e)}return gp=n,gp}var yp,j1;function aL(){if(j1)return yp;j1=1;var n=Qb(),e=oL(),t=sL();function r(o){var a=-1,u=o==null?0:o.length;for(this.__data__=new n;++a<u;)this.add(o[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=t,yp=r,yp}var vp,V1;function lL(){if(V1)return vp;V1=1;function n(e,t){for(var r=-1,o=e==null?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}return vp=n,vp}var _p,U1;function uL(){if(U1)return _p;U1=1;function n(e,t){return e.has(t)}return _p=n,_p}var Ep,F1;function Xb(){if(F1)return Ep;F1=1;var n=aL(),e=lL(),t=uL(),r=1,o=2;function a(u,f,h,m,v,y){var d=h&r,g=u.length,b=f.length;if(g!=b&&!(d&&b>g))return!1;var T=y.get(u),_=y.get(f);if(T&&_)return T==f&&_==u;var w=-1,S=!0,k=h&o?new n:void 0;for(y.set(u,f),y.set(f,u);++w<g;){var E=u[w],L=f[w];if(m)var U=d?m(L,E,w,f,u,y):m(E,L,w,u,f,y);if(U!==void 0){if(U)continue;S=!1;break}if(k){if(!e(f,function(P,R){if(!t(k,R)&&(E===P||v(E,P,h,m,y)))return k.push(R)})){S=!1;break}}else if(!(E===L||v(E,L,h,m,y))){S=!1;break}}return y.delete(u),y.delete(f),S}return Ep=a,Ep}var wp,q1;function cL(){if(q1)return wp;q1=1;var n=hi(),e=n.Uint8Array;return wp=e,wp}var Tp,B1;function fL(){if(B1)return Tp;B1=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(o,a){r[++t]=[a,o]}),r}return Tp=n,Tp}var bp,z1;function hL(){if(z1)return bp;z1=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r}return bp=n,bp}var Sp,$1;function dL(){if($1)return Sp;$1=1;var n=qg(),e=cL(),t=$b(),r=Xb(),o=fL(),a=hL(),u=1,f=2,h="[object Boolean]",m="[object Date]",v="[object Error]",y="[object Map]",d="[object Number]",g="[object RegExp]",b="[object Set]",T="[object String]",_="[object Symbol]",w="[object ArrayBuffer]",S="[object DataView]",k=n?n.prototype:void 0,E=k?k.valueOf:void 0;function L(U,P,R,M,x,I,D){switch(R){case S:if(U.byteLength!=P.byteLength||U.byteOffset!=P.byteOffset)return!1;U=U.buffer,P=P.buffer;case w:return!(U.byteLength!=P.byteLength||!I(new e(U),new e(P)));case h:case m:case d:return t(+U,+P);case v:return U.name==P.name&&U.message==P.message;case g:case T:return U==P+"";case y:var N=o;case b:var H=M&u;if(N||(N=a),U.size!=P.size&&!H)return!1;var G=D.get(U);if(G)return G==P;M|=f,D.set(U,P);var X=r(N(U),N(P),M,x,I,D);return D.delete(U),X;case _:if(E)return E.call(U)==E.call(P)}return!1}return Sp=L,Sp}var Ap,H1;function pL(){if(H1)return Ap;H1=1;function n(e,t){for(var r=-1,o=t.length,a=e.length;++r<o;)e[a+r]=t[r];return e}return Ap=n,Ap}var Ip,W1;function zg(){if(W1)return Ip;W1=1;var n=Array.isArray;return Ip=n,Ip}var Rp,K1;function mL(){if(K1)return Rp;K1=1;var n=pL(),e=zg();function t(r,o,a){var u=o(r);return e(r)?u:n(u,a(r))}return Rp=t,Rp}var kp,G1;function gL(){if(G1)return kp;G1=1;function n(e,t){for(var r=-1,o=e==null?0:e.length,a=0,u=[];++r<o;){var f=e[r];t(f,r,e)&&(u[a++]=f)}return u}return kp=n,kp}var Cp,Q1;function yL(){if(Q1)return Cp;Q1=1;function n(){return[]}return Cp=n,Cp}var Pp,X1;function vL(){if(X1)return Pp;X1=1;var n=gL(),e=yL(),t=Object.prototype,r=t.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(u){return u==null?[]:(u=Object(u),n(o(u),function(f){return r.call(u,f)}))}:e;return Pp=a,Pp}var Op,Y1;function _L(){if(Y1)return Op;Y1=1;function n(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}return Op=n,Op}var xp,J1;function kf(){if(J1)return xp;J1=1;function n(e){return e!=null&&typeof e=="object"}return xp=n,xp}var Np,Z1;function EL(){if(Z1)return Np;Z1=1;var n=Af(),e=kf(),t="[object Arguments]";function r(o){return e(o)&&n(o)==t}return Np=r,Np}var Dp,ew;function wL(){if(ew)return Dp;ew=1;var n=EL(),e=kf(),t=Object.prototype,r=t.hasOwnProperty,o=t.propertyIsEnumerable,a=n(function(){return arguments}())?n:function(u){return e(u)&&r.call(u,"callee")&&!o.call(u,"callee")};return Dp=a,Dp}var cl={exports:{}},Lp,tw;function TL(){if(tw)return Lp;tw=1;function n(){return!1}return Lp=n,Lp}cl.exports;var nw;function Yb(){return nw||(nw=1,function(n,e){var t=hi(),r=TL(),o=e&&!e.nodeType&&e,a=o&&!0&&n&&!n.nodeType&&n,u=a&&a.exports===o,f=u?t.Buffer:void 0,h=f?f.isBuffer:void 0,m=h||r;n.exports=m}(cl,cl.exports)),cl.exports}var Mp,rw;function bL(){if(rw)return Mp;rw=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(r,o){var a=typeof r;return o=o??n,!!o&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<o}return Mp=t,Mp}var jp,iw;function Jb(){if(iw)return jp;iw=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return jp=e,jp}var Vp,ow;function SL(){if(ow)return Vp;ow=1;var n=Af(),e=Jb(),t=kf(),r="[object Arguments]",o="[object Array]",a="[object Boolean]",u="[object Date]",f="[object Error]",h="[object Function]",m="[object Map]",v="[object Number]",y="[object Object]",d="[object RegExp]",g="[object Set]",b="[object String]",T="[object WeakMap]",_="[object ArrayBuffer]",w="[object DataView]",S="[object Float32Array]",k="[object Float64Array]",E="[object Int8Array]",L="[object Int16Array]",U="[object Int32Array]",P="[object Uint8Array]",R="[object Uint8ClampedArray]",M="[object Uint16Array]",x="[object Uint32Array]",I={};I[S]=I[k]=I[E]=I[L]=I[U]=I[P]=I[R]=I[M]=I[x]=!0,I[r]=I[o]=I[_]=I[a]=I[w]=I[u]=I[f]=I[h]=I[m]=I[v]=I[y]=I[d]=I[g]=I[b]=I[T]=!1;function D(N){return t(N)&&e(N.length)&&!!I[n(N)]}return Vp=D,Vp}var Up,sw;function AL(){if(sw)return Up;sw=1;function n(e){return function(t){return e(t)}}return Up=n,Up}var fl={exports:{}};fl.exports;var aw;function IL(){return aw||(aw=1,function(n,e){var t=Hb(),r=e&&!e.nodeType&&e,o=r&&!0&&n&&!n.nodeType&&n,a=o&&o.exports===r,u=a&&t.process,f=function(){try{var h=o&&o.require&&o.require("util").types;return h||u&&u.binding&&u.binding("util")}catch{}}();n.exports=f}(fl,fl.exports)),fl.exports}var Fp,lw;function Zb(){if(lw)return Fp;lw=1;var n=SL(),e=AL(),t=IL(),r=t&&t.isTypedArray,o=r?e(r):n;return Fp=o,Fp}var qp,uw;function RL(){if(uw)return qp;uw=1;var n=_L(),e=wL(),t=zg(),r=Yb(),o=bL(),a=Zb(),u=Object.prototype,f=u.hasOwnProperty;function h(m,v){var y=t(m),d=!y&&e(m),g=!y&&!d&&r(m),b=!y&&!d&&!g&&a(m),T=y||d||g||b,_=T?n(m.length,String):[],w=_.length;for(var S in m)(v||f.call(m,S))&&!(T&&(S=="length"||g&&(S=="offset"||S=="parent")||b&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||o(S,w)))&&_.push(S);return _}return qp=h,qp}var Bp,cw;function kL(){if(cw)return Bp;cw=1;var n=Object.prototype;function e(t){var r=t&&t.constructor,o=typeof r=="function"&&r.prototype||n;return t===o}return Bp=e,Bp}var zp,fw;function CL(){if(fw)return zp;fw=1;function n(e,t){return function(r){return e(t(r))}}return zp=n,zp}var $p,hw;function PL(){if(hw)return $p;hw=1;var n=CL(),e=n(Object.keys,Object);return $p=e,$p}var Hp,dw;function OL(){if(dw)return Hp;dw=1;var n=kL(),e=PL(),t=Object.prototype,r=t.hasOwnProperty;function o(a){if(!n(a))return e(a);var u=[];for(var f in Object(a))r.call(a,f)&&f!="constructor"&&u.push(f);return u}return Hp=o,Hp}var Wp,pw;function xL(){if(pw)return Wp;pw=1;var n=Kb(),e=Jb();function t(r){return r!=null&&e(r.length)&&!n(r)}return Wp=t,Wp}var Kp,mw;function NL(){if(mw)return Kp;mw=1;var n=RL(),e=OL(),t=xL();function r(o){return t(o)?n(o):e(o)}return Kp=r,Kp}var Gp,gw;function DL(){if(gw)return Gp;gw=1;var n=mL(),e=vL(),t=NL();function r(o){return n(o,t,e)}return Gp=r,Gp}var Qp,yw;function LL(){if(yw)return Qp;yw=1;var n=DL(),e=1,t=Object.prototype,r=t.hasOwnProperty;function o(a,u,f,h,m,v){var y=f&e,d=n(a),g=d.length,b=n(u),T=b.length;if(g!=T&&!y)return!1;for(var _=g;_--;){var w=d[_];if(!(y?w in u:r.call(u,w)))return!1}var S=v.get(a),k=v.get(u);if(S&&k)return S==u&&k==a;var E=!0;v.set(a,u),v.set(u,a);for(var L=y;++_<g;){w=d[_];var U=a[w],P=u[w];if(h)var R=y?h(P,U,w,u,a,v):h(U,P,w,a,u,v);if(!(R===void 0?U===P||m(U,P,f,h,v):R)){E=!1;break}L||(L=w=="constructor")}if(E&&!L){var M=a.constructor,x=u.constructor;M!=x&&"constructor"in a&&"constructor"in u&&!(typeof M=="function"&&M instanceof M&&typeof x=="function"&&x instanceof x)&&(E=!1)}return v.delete(a),v.delete(u),E}return Qp=o,Qp}var Xp,vw;function ML(){if(vw)return Xp;vw=1;var n=fa(),e=hi(),t=n(e,"DataView");return Xp=t,Xp}var Yp,_w;function jL(){if(_w)return Yp;_w=1;var n=fa(),e=hi(),t=n(e,"Promise");return Yp=t,Yp}var Jp,Ew;function VL(){if(Ew)return Jp;Ew=1;var n=fa(),e=hi(),t=n(e,"Set");return Jp=t,Jp}var Zp,ww;function UL(){if(ww)return Zp;ww=1;var n=fa(),e=hi(),t=n(e,"WeakMap");return Zp=t,Zp}var em,Tw;function FL(){if(Tw)return em;Tw=1;var n=ML(),e=Bg(),t=jL(),r=VL(),o=UL(),a=Af(),u=Gb(),f="[object Map]",h="[object Object]",m="[object Promise]",v="[object Set]",y="[object WeakMap]",d="[object DataView]",g=u(n),b=u(e),T=u(t),_=u(r),w=u(o),S=a;return(n&&S(new n(new ArrayBuffer(1)))!=d||e&&S(new e)!=f||t&&S(t.resolve())!=m||r&&S(new r)!=v||o&&S(new o)!=y)&&(S=function(k){var E=a(k),L=E==h?k.constructor:void 0,U=L?u(L):"";if(U)switch(U){case g:return d;case b:return f;case T:return m;case _:return v;case w:return y}return E}),em=S,em}var tm,bw;function qL(){if(bw)return tm;bw=1;var n=iL(),e=Xb(),t=dL(),r=LL(),o=FL(),a=zg(),u=Yb(),f=Zb(),h=1,m="[object Arguments]",v="[object Array]",y="[object Object]",d=Object.prototype,g=d.hasOwnProperty;function b(T,_,w,S,k,E){var L=a(T),U=a(_),P=L?v:o(T),R=U?v:o(_);P=P==m?y:P,R=R==m?y:R;var M=P==y,x=R==y,I=P==R;if(I&&u(T)){if(!u(_))return!1;L=!0,M=!1}if(I&&!M)return E||(E=new n),L||f(T)?e(T,_,w,S,k,E):t(T,_,P,w,S,k,E);if(!(w&h)){var D=M&&g.call(T,"__wrapped__"),N=x&&g.call(_,"__wrapped__");if(D||N){var H=D?T.value():T,G=N?_.value():_;return E||(E=new n),k(H,G,w,S,E)}}return I?(E||(E=new n),r(T,_,w,S,k,E)):!1}return tm=b,tm}var nm,Sw;function BL(){if(Sw)return nm;Sw=1;var n=qL(),e=kf();function t(r,o,a,u,f){return r===o?!0:r==null||o==null||!e(r)&&!e(o)?r!==r&&o!==o:n(r,o,a,u,t,f)}return nm=t,nm}var rm,Aw;function zL(){if(Aw)return rm;Aw=1;var n=BL();function e(t,r){return n(t,r)}return rm=e,rm}var kc={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var $L=kc.exports,Iw;function HL(){return Iw||(Iw=1,function(n,e){(function(r,o){n.exports=o()})(typeof self<"u"?self:$L,function(){return function(t){var r={};function o(a){if(r[a])return r[a].exports;var u=r[a]={i:a,l:!1,exports:{}};return t[a].call(u.exports,u,u.exports,o),u.l=!0,u.exports}return o.m=t,o.c=r,o.d=function(a,u,f){o.o(a,u)||Object.defineProperty(a,u,{configurable:!1,enumerable:!0,get:f})},o.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(u,"a",u),u},o.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},o.p="",o(o.s=109)}([function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(17),u=o(18),f=o(19),h=o(45),m=o(46),v=o(47),y=o(48),d=o(49),g=o(12),b=o(32),T=o(33),_=o(31),w=o(1),S={Scope:w.Scope,create:w.create,find:w.find,query:w.query,register:w.register,Container:a.default,Format:u.default,Leaf:f.default,Embed:y.default,Scroll:h.default,Block:v.default,Inline:m.default,Text:d.default,Attributor:{Attribute:g.default,Class:b.default,Style:T.default,Store:_.default}};r.default=S},function(t,r,o){var a=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var k in S)S.hasOwnProperty(k)&&(w[k]=S[k])};return function(w,S){_(w,S);function k(){this.constructor=w}w.prototype=S===null?Object.create(S):(k.prototype=S.prototype,new k)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=function(_){a(w,_);function w(S){var k=this;return S="[Parchment] "+S,k=_.call(this,S)||this,k.message=S,k.name=k.constructor.name,k}return w}(Error);r.ParchmentError=u;var f={},h={},m={},v={};r.DATA_KEY="__blot";var y;(function(_){_[_.TYPE=3]="TYPE",_[_.LEVEL=12]="LEVEL",_[_.ATTRIBUTE=13]="ATTRIBUTE",_[_.BLOT=14]="BLOT",_[_.INLINE=7]="INLINE",_[_.BLOCK=11]="BLOCK",_[_.BLOCK_BLOT=10]="BLOCK_BLOT",_[_.INLINE_BLOT=6]="INLINE_BLOT",_[_.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",_[_.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",_[_.ANY=15]="ANY"})(y=r.Scope||(r.Scope={}));function d(_,w){var S=b(_);if(S==null)throw new u("Unable to create "+_+" blot");var k=S,E=_ instanceof Node||_.nodeType===Node.TEXT_NODE?_:k.create(w);return new k(E,w)}r.create=d;function g(_,w){return w===void 0&&(w=!1),_==null?null:_[r.DATA_KEY]!=null?_[r.DATA_KEY].blot:w?g(_.parentNode,w):null}r.find=g;function b(_,w){w===void 0&&(w=y.ANY);var S;if(typeof _=="string")S=v[_]||f[_];else if(_ instanceof Text||_.nodeType===Node.TEXT_NODE)S=v.text;else if(typeof _=="number")_&y.LEVEL&y.BLOCK?S=v.block:_&y.LEVEL&y.INLINE&&(S=v.inline);else if(_ instanceof HTMLElement){var k=(_.getAttribute("class")||"").split(/\s+/);for(var E in k)if(S=h[k[E]],S)break;S=S||m[_.tagName]}return S==null?null:w&y.LEVEL&S.scope&&w&y.TYPE&S.scope?S:null}r.query=b;function T(){for(var _=[],w=0;w<arguments.length;w++)_[w]=arguments[w];if(_.length>1)return _.map(function(E){return T(E)});var S=_[0];if(typeof S.blotName!="string"&&typeof S.attrName!="string")throw new u("Invalid definition");if(S.blotName==="abstract")throw new u("Cannot register abstract class");if(v[S.blotName||S.attrName]=S,typeof S.keyName=="string")f[S.keyName]=S;else if(S.className!=null&&(h[S.className]=S),S.tagName!=null){Array.isArray(S.tagName)?S.tagName=S.tagName.map(function(E){return E.toUpperCase()}):S.tagName=S.tagName.toUpperCase();var k=Array.isArray(S.tagName)?S.tagName:[S.tagName];k.forEach(function(E){(m[E]==null||S.className==null)&&(m[E]=S)})}return S}r.register=T},function(t,r,o){var a=o(51),u=o(11),f=o(3),h=o(20),m="\0",v=function(y){Array.isArray(y)?this.ops=y:y!=null&&Array.isArray(y.ops)?this.ops=y.ops:this.ops=[]};v.prototype.insert=function(y,d){var g={};return y.length===0?this:(g.insert=y,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(g.attributes=d),this.push(g))},v.prototype.delete=function(y){return y<=0?this:this.push({delete:y})},v.prototype.retain=function(y,d){if(y<=0)return this;var g={retain:y};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(g.attributes=d),this.push(g)},v.prototype.push=function(y){var d=this.ops.length,g=this.ops[d-1];if(y=f(!0,{},y),typeof g=="object"){if(typeof y.delete=="number"&&typeof g.delete=="number")return this.ops[d-1]={delete:g.delete+y.delete},this;if(typeof g.delete=="number"&&y.insert!=null&&(d-=1,g=this.ops[d-1],typeof g!="object"))return this.ops.unshift(y),this;if(u(y.attributes,g.attributes)){if(typeof y.insert=="string"&&typeof g.insert=="string")return this.ops[d-1]={insert:g.insert+y.insert},typeof y.attributes=="object"&&(this.ops[d-1].attributes=y.attributes),this;if(typeof y.retain=="number"&&typeof g.retain=="number")return this.ops[d-1]={retain:g.retain+y.retain},typeof y.attributes=="object"&&(this.ops[d-1].attributes=y.attributes),this}}return d===this.ops.length?this.ops.push(y):this.ops.splice(d,0,y),this},v.prototype.chop=function(){var y=this.ops[this.ops.length-1];return y&&y.retain&&!y.attributes&&this.ops.pop(),this},v.prototype.filter=function(y){return this.ops.filter(y)},v.prototype.forEach=function(y){this.ops.forEach(y)},v.prototype.map=function(y){return this.ops.map(y)},v.prototype.partition=function(y){var d=[],g=[];return this.forEach(function(b){var T=y(b)?d:g;T.push(b)}),[d,g]},v.prototype.reduce=function(y,d){return this.ops.reduce(y,d)},v.prototype.changeLength=function(){return this.reduce(function(y,d){return d.insert?y+h.length(d):d.delete?y-d.delete:y},0)},v.prototype.length=function(){return this.reduce(function(y,d){return y+h.length(d)},0)},v.prototype.slice=function(y,d){y=y||0,typeof d!="number"&&(d=1/0);for(var g=[],b=h.iterator(this.ops),T=0;T<d&&b.hasNext();){var _;T<y?_=b.next(y-T):(_=b.next(d-T),g.push(_)),T+=h.length(_)}return new v(g)},v.prototype.compose=function(y){var d=h.iterator(this.ops),g=h.iterator(y.ops),b=[],T=g.peek();if(T!=null&&typeof T.retain=="number"&&T.attributes==null){for(var _=T.retain;d.peekType()==="insert"&&d.peekLength()<=_;)_-=d.peekLength(),b.push(d.next());T.retain-_>0&&g.next(T.retain-_)}for(var w=new v(b);d.hasNext()||g.hasNext();)if(g.peekType()==="insert")w.push(g.next());else if(d.peekType()==="delete")w.push(d.next());else{var S=Math.min(d.peekLength(),g.peekLength()),k=d.next(S),E=g.next(S);if(typeof E.retain=="number"){var L={};typeof k.retain=="number"?L.retain=S:L.insert=k.insert;var U=h.attributes.compose(k.attributes,E.attributes,typeof k.retain=="number");if(U&&(L.attributes=U),w.push(L),!g.hasNext()&&u(w.ops[w.ops.length-1],L)){var P=new v(d.rest());return w.concat(P).chop()}}else typeof E.delete=="number"&&typeof k.retain=="number"&&w.push(E)}return w.chop()},v.prototype.concat=function(y){var d=new v(this.ops.slice());return y.ops.length>0&&(d.push(y.ops[0]),d.ops=d.ops.concat(y.ops.slice(1))),d},v.prototype.diff=function(y,d){if(this.ops===y.ops)return new v;var g=[this,y].map(function(S){return S.map(function(k){if(k.insert!=null)return typeof k.insert=="string"?k.insert:m;var E=S===y?"on":"with";throw new Error("diff() called "+E+" non-document")}).join("")}),b=new v,T=a(g[0],g[1],d),_=h.iterator(this.ops),w=h.iterator(y.ops);return T.forEach(function(S){for(var k=S[1].length;k>0;){var E=0;switch(S[0]){case a.INSERT:E=Math.min(w.peekLength(),k),b.push(w.next(E));break;case a.DELETE:E=Math.min(k,_.peekLength()),_.next(E),b.delete(E);break;case a.EQUAL:E=Math.min(_.peekLength(),w.peekLength(),k);var L=_.next(E),U=w.next(E);u(L.insert,U.insert)?b.retain(E,h.attributes.diff(L.attributes,U.attributes)):b.push(U).delete(E);break}k-=E}}),b.chop()},v.prototype.eachLine=function(y,d){d=d||`
`;for(var g=h.iterator(this.ops),b=new v,T=0;g.hasNext();){if(g.peekType()!=="insert")return;var _=g.peek(),w=h.length(_)-g.peekLength(),S=typeof _.insert=="string"?_.insert.indexOf(d,w)-w:-1;if(S<0)b.push(g.next());else if(S>0)b.push(g.next(S));else{if(y(b,g.next(1).attributes||{},T)===!1)return;T+=1,b=new v}}b.length()>0&&y(b,{},T)},v.prototype.transform=function(y,d){if(d=!!d,typeof y=="number")return this.transformPosition(y,d);for(var g=h.iterator(this.ops),b=h.iterator(y.ops),T=new v;g.hasNext()||b.hasNext();)if(g.peekType()==="insert"&&(d||b.peekType()!=="insert"))T.retain(h.length(g.next()));else if(b.peekType()==="insert")T.push(b.next());else{var _=Math.min(g.peekLength(),b.peekLength()),w=g.next(_),S=b.next(_);if(w.delete)continue;S.delete?T.push(S):T.retain(_,h.attributes.transform(w.attributes,S.attributes,d))}return T.chop()},v.prototype.transformPosition=function(y,d){d=!!d;for(var g=h.iterator(this.ops),b=0;g.hasNext()&&b<=y;){var T=g.peekLength(),_=g.peekType();if(g.next(),_==="delete"){y-=Math.min(T,y-b);continue}else _==="insert"&&(b<y||!d)&&(y+=T);b+=T}return y},t.exports=v},function(t,r){var o=Object.prototype.hasOwnProperty,a=Object.prototype.toString,u=Object.defineProperty,f=Object.getOwnPropertyDescriptor,h=function(g){return typeof Array.isArray=="function"?Array.isArray(g):a.call(g)==="[object Array]"},m=function(g){if(!g||a.call(g)!=="[object Object]")return!1;var b=o.call(g,"constructor"),T=g.constructor&&g.constructor.prototype&&o.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!b&&!T)return!1;var _;for(_ in g);return typeof _>"u"||o.call(g,_)},v=function(g,b){u&&b.name==="__proto__"?u(g,b.name,{enumerable:!0,configurable:!0,value:b.newValue,writable:!0}):g[b.name]=b.newValue},y=function(g,b){if(b==="__proto__")if(o.call(g,b)){if(f)return f(g,b).value}else return;return g[b]};t.exports=function d(){var g,b,T,_,w,S,k=arguments[0],E=1,L=arguments.length,U=!1;for(typeof k=="boolean"&&(U=k,k=arguments[1]||{},E=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});E<L;++E)if(g=arguments[E],g!=null)for(b in g)T=y(k,b),_=y(g,b),k!==_&&(U&&_&&(m(_)||(w=h(_)))?(w?(w=!1,S=T&&h(T)?T:[]):S=T&&m(T)?T:{},v(k,{name:b,newValue:d(U,S,_)})):typeof _<"u"&&v(k,{name:b,newValue:_}));return k}},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var a=function(){function I(D,N){for(var H=0;H<N.length;H++){var G=N[H];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(D,G.key,G)}}return function(D,N,H){return N&&I(D.prototype,N),H&&I(D,H),D}}(),u=function I(D,N,H){D===null&&(D=Function.prototype);var G=Object.getOwnPropertyDescriptor(D,N);if(G===void 0){var X=Object.getPrototypeOf(D);return X===null?void 0:I(X,N,H)}else{if("value"in G)return G.value;var te=G.get;return te===void 0?void 0:te.call(H)}},f=o(3),h=k(f),m=o(2),v=k(m),y=o(0),d=k(y),g=o(16),b=k(g),T=o(6),_=k(T),w=o(7),S=k(w);function k(I){return I&&I.__esModule?I:{default:I}}function E(I,D){if(!(I instanceof D))throw new TypeError("Cannot call a class as a function")}function L(I,D){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:I}function U(I,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);I.prototype=Object.create(D&&D.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(I,D):I.__proto__=D)}var P=1,R=function(I){U(D,I);function D(){return E(this,D),L(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return a(D,[{key:"attach",value:function(){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new v.default().insert(this.value(),(0,h.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(H,G){var X=d.default.query(H,d.default.Scope.BLOCK_ATTRIBUTE);X!=null&&this.attributes.attribute(X,G)}},{key:"formatAt",value:function(H,G,X,te){this.format(X,te)}},{key:"insertAt",value:function(H,G,X){if(typeof G=="string"&&G.endsWith(`
`)){var te=d.default.create(M.blotName);this.parent.insertBefore(te,H===0?this:this.next),te.insertAt(0,G.slice(0,-1))}else u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,H,G,X)}}]),D}(d.default.Embed);R.scope=d.default.Scope.BLOCK_BLOT;var M=function(I){U(D,I);function D(N){E(this,D);var H=L(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,N));return H.cache={},H}return a(D,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(H,G){return G.length()===0?H:H.insert(G.value(),x(G))},new v.default).insert(`
`,x(this))),this.cache.delta}},{key:"deleteAt",value:function(H,G){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"deleteAt",this).call(this,H,G),this.cache={}}},{key:"formatAt",value:function(H,G,X,te){G<=0||(d.default.query(X,d.default.Scope.BLOCK)?H+G===this.length()&&this.format(X,te):u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"formatAt",this).call(this,H,Math.min(G,this.length()-H-1),X,te),this.cache={})}},{key:"insertAt",value:function(H,G,X){if(X!=null)return u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,H,G,X);if(G.length!==0){var te=G.split(`
`),ie=te.shift();ie.length>0&&(H<this.length()-1||this.children.tail==null?u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,Math.min(H,this.length()-1),ie):this.children.tail.insertAt(this.children.tail.length(),ie),this.cache={});var Y=this;te.reduce(function(W,j){return Y=Y.split(W,!0),Y.insertAt(0,j),j.length},H+ie.length)}}},{key:"insertBefore",value:function(H,G){var X=this.children.head;u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertBefore",this).call(this,H,G),X instanceof b.default&&X.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"length",this).call(this)+P),this.cache.length}},{key:"moveChildren",value:function(H,G){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"moveChildren",this).call(this,H,G),this.cache={}}},{key:"optimize",value:function(H){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,H),this.cache={}}},{key:"path",value:function(H){return u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"path",this).call(this,H,!0)}},{key:"removeChild",value:function(H){u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"removeChild",this).call(this,H),this.cache={}}},{key:"split",value:function(H){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(G&&(H===0||H>=this.length()-P)){var X=this.clone();return H===0?(this.parent.insertBefore(X,this),this):(this.parent.insertBefore(X,this.next),X)}else{var te=u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"split",this).call(this,H,G);return this.cache={},te}}}]),D}(d.default.Block);M.blotName="block",M.tagName="P",M.defaultChild="break",M.allowedChildren=[_.default,d.default.Embed,S.default];function x(I){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return I==null||(typeof I.formats=="function"&&(D=(0,h.default)(D,I.formats())),I.parent==null||I.parent.blotName=="scroll"||I.parent.statics.scope!==I.statics.scope)?D:x(I.parent,D)}r.bubbleFormats=x,r.BlockEmbed=R,r.default=M},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},u=function(){function Y(W,j){var q=[],K=!0,ne=!1,ee=void 0;try{for(var $=W[Symbol.iterator](),J;!(K=(J=$.next()).done)&&(q.push(J.value),!(j&&q.length===j));K=!0);}catch(oe){ne=!0,ee=oe}finally{try{!K&&$.return&&$.return()}finally{if(ne)throw ee}}return q}return function(W,j){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return Y(W,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function Y(W,j){for(var q=0;q<j.length;q++){var K=j[q];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(W,K.key,K)}}return function(W,j,q){return j&&Y(W.prototype,j),q&&Y(W,q),W}}();o(50);var h=o(2),m=x(h),v=o(14),y=x(v),d=o(8),g=x(d),b=o(9),T=x(b),_=o(0),w=x(_),S=o(15),k=x(S),E=o(3),L=x(E),U=o(10),P=x(U),R=o(34),M=x(R);function x(Y){return Y&&Y.__esModule?Y:{default:Y}}function I(Y,W,j){return W in Y?Object.defineProperty(Y,W,{value:j,enumerable:!0,configurable:!0,writable:!0}):Y[W]=j,Y}function D(Y,W){if(!(Y instanceof W))throw new TypeError("Cannot call a class as a function")}var N=(0,P.default)("quill"),H=function(){f(Y,null,[{key:"debug",value:function(j){j===!0&&(j="log"),P.default.level(j)}},{key:"find",value:function(j){return j.__quill||w.default.find(j)}},{key:"import",value:function(j){return this.imports[j]==null&&N.error("Cannot import "+j+". Are you sure it was registered?"),this.imports[j]}},{key:"register",value:function(j,q){var K=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof j!="string"){var ee=j.attrName||j.blotName;typeof ee=="string"?this.register("formats/"+ee,j,q):Object.keys(j).forEach(function($){K.register($,j[$],q)})}else this.imports[j]!=null&&!ne&&N.warn("Overwriting "+j+" with",q),this.imports[j]=q,(j.startsWith("blots/")||j.startsWith("formats/"))&&q.blotName!=="abstract"?w.default.register(q):j.startsWith("modules")&&typeof q.register=="function"&&q.register()}}]);function Y(W){var j=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(D(this,Y),this.options=G(W,q),this.container=this.options.container,this.container==null)return N.error("Invalid Quill container",W);this.options.debug&&Y.debug(this.options.debug);var K=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new g.default,this.scroll=w.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new y.default(this.scroll),this.selection=new k.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(g.default.events.EDITOR_CHANGE,function(ee){ee===g.default.events.TEXT_CHANGE&&j.root.classList.toggle("ql-blank",j.editor.isBlank())}),this.emitter.on(g.default.events.SCROLL_UPDATE,function(ee,$){var J=j.selection.lastRange,oe=J&&J.length===0?J.index:void 0;X.call(j,function(){return j.editor.update(null,$,oe)},ee)});var ne=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+K+"<p><br></p></div>");this.setContents(ne),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return f(Y,[{key:"addContainer",value:function(j){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof j=="string"){var K=j;j=document.createElement("div"),j.classList.add(K)}return this.container.insertBefore(j,q),j}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(j,q,K){var ne=this,ee=te(j,q,K),$=u(ee,4);return j=$[0],q=$[1],K=$[3],X.call(this,function(){return ne.editor.deleteText(j,q)},K,j,-1*q)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(j),this.container.classList.toggle("ql-disabled",!j)}},{key:"focus",value:function(){var j=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=j,this.scrollIntoView()}},{key:"format",value:function(j,q){var K=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;return X.call(this,function(){var ee=K.getSelection(!0),$=new m.default;if(ee==null)return $;if(w.default.query(j,w.default.Scope.BLOCK))$=K.editor.formatLine(ee.index,ee.length,I({},j,q));else{if(ee.length===0)return K.selection.format(j,q),$;$=K.editor.formatText(ee.index,ee.length,I({},j,q))}return K.setSelection(ee,g.default.sources.SILENT),$},ne)}},{key:"formatLine",value:function(j,q,K,ne,ee){var $=this,J=void 0,oe=te(j,q,K,ne,ee),se=u(oe,4);return j=se[0],q=se[1],J=se[2],ee=se[3],X.call(this,function(){return $.editor.formatLine(j,q,J)},ee,j,0)}},{key:"formatText",value:function(j,q,K,ne,ee){var $=this,J=void 0,oe=te(j,q,K,ne,ee),se=u(oe,4);return j=se[0],q=se[1],J=se[2],ee=se[3],X.call(this,function(){return $.editor.formatText(j,q,J)},ee,j,0)}},{key:"getBounds",value:function(j){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=void 0;typeof j=="number"?K=this.selection.getBounds(j,q):K=this.selection.getBounds(j.index,j.length);var ne=this.container.getBoundingClientRect();return{bottom:K.bottom-ne.top,height:K.height,left:K.left-ne.left,right:K.right-ne.left,top:K.top-ne.top,width:K.width}}},{key:"getContents",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-j,K=te(j,q),ne=u(K,2);return j=ne[0],q=ne[1],this.editor.getContents(j,q)}},{key:"getFormat",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof j=="number"?this.editor.getFormat(j,q):this.editor.getFormat(j.index,j.length)}},{key:"getIndex",value:function(j){return j.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(j){return this.scroll.leaf(j)}},{key:"getLine",value:function(j){return this.scroll.line(j)}},{key:"getLines",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof j!="number"?this.scroll.lines(j.index,j.length):this.scroll.lines(j,q)}},{key:"getModule",value:function(j){return this.theme.modules[j]}},{key:"getSelection",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return j&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-j,K=te(j,q),ne=u(K,2);return j=ne[0],q=ne[1],this.editor.getText(j,q)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(j,q,K){var ne=this,ee=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Y.sources.API;return X.call(this,function(){return ne.editor.insertEmbed(j,q,K)},ee,j)}},{key:"insertText",value:function(j,q,K,ne,ee){var $=this,J=void 0,oe=te(j,0,K,ne,ee),se=u(oe,4);return j=se[0],J=se[2],ee=se[3],X.call(this,function(){return $.editor.insertText(j,q,J)},ee,j,q.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(j,q,K){this.clipboard.dangerouslyPasteHTML(j,q,K)}},{key:"removeFormat",value:function(j,q,K){var ne=this,ee=te(j,q,K),$=u(ee,4);return j=$[0],q=$[1],K=$[3],X.call(this,function(){return ne.editor.removeFormat(j,q)},K,j)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(j){var q=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API;return X.call(this,function(){j=new m.default(j);var ne=q.getLength(),ee=q.editor.deleteText(0,ne),$=q.editor.applyDelta(j),J=$.ops[$.ops.length-1];J!=null&&typeof J.insert=="string"&&J.insert[J.insert.length-1]===`
`&&(q.editor.deleteText(q.getLength()-1,1),$.delete(1));var oe=ee.compose($);return oe},K)}},{key:"setSelection",value:function(j,q,K){if(j==null)this.selection.setRange(null,q||Y.sources.API);else{var ne=te(j,q,K),ee=u(ne,4);j=ee[0],q=ee[1],K=ee[3],this.selection.setRange(new S.Range(j,q),K),K!==g.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(j){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API,K=new m.default().insert(j);return this.setContents(K,q)}},{key:"update",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,q=this.scroll.update(j);return this.selection.update(j),q}},{key:"updateContents",value:function(j){var q=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.default.sources.API;return X.call(this,function(){return j=new m.default(j),q.editor.applyDelta(j,K)},K,!0)}}]),Y}();H.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},H.events=g.default.events,H.sources=g.default.sources,H.version="1.3.7",H.imports={delta:m.default,parchment:w.default,"core/module":T.default,"core/theme":M.default};function G(Y,W){if(W=(0,L.default)(!0,{container:Y,modules:{clipboard:!0,keyboard:!0,history:!0}},W),!W.theme||W.theme===H.DEFAULTS.theme)W.theme=M.default;else if(W.theme=H.import("themes/"+W.theme),W.theme==null)throw new Error("Invalid theme "+W.theme+". Did you register it?");var j=(0,L.default)(!0,{},W.theme.DEFAULTS);[j,W].forEach(function(ne){ne.modules=ne.modules||{},Object.keys(ne.modules).forEach(function(ee){ne.modules[ee]===!0&&(ne.modules[ee]={})})});var q=Object.keys(j.modules).concat(Object.keys(W.modules)),K=q.reduce(function(ne,ee){var $=H.import("modules/"+ee);return $==null?N.error("Cannot load "+ee+" module. Are you sure you registered it?"):ne[ee]=$.DEFAULTS||{},ne},{});return W.modules!=null&&W.modules.toolbar&&W.modules.toolbar.constructor!==Object&&(W.modules.toolbar={container:W.modules.toolbar}),W=(0,L.default)(!0,{},H.DEFAULTS,{modules:K},j,W),["bounds","container","scrollingContainer"].forEach(function(ne){typeof W[ne]=="string"&&(W[ne]=document.querySelector(W[ne]))}),W.modules=Object.keys(W.modules).reduce(function(ne,ee){return W.modules[ee]&&(ne[ee]=W.modules[ee]),ne},{}),W}function X(Y,W,j,q){if(this.options.strict&&!this.isEnabled()&&W===g.default.sources.USER)return new m.default;var K=j==null?null:this.getSelection(),ne=this.editor.delta,ee=Y();if(K!=null&&(j===!0&&(j=K.index),q==null?K=ie(K,ee,W):q!==0&&(K=ie(K,j,q,W)),this.setSelection(K,g.default.sources.SILENT)),ee.length()>0){var $,J=[g.default.events.TEXT_CHANGE,ee,ne,W];if(($=this.emitter).emit.apply($,[g.default.events.EDITOR_CHANGE].concat(J)),W!==g.default.sources.SILENT){var oe;(oe=this.emitter).emit.apply(oe,J)}}return ee}function te(Y,W,j,q,K){var ne={};return typeof Y.index=="number"&&typeof Y.length=="number"?typeof W!="number"?(K=q,q=j,j=W,W=Y.length,Y=Y.index):(W=Y.length,Y=Y.index):typeof W!="number"&&(K=q,q=j,j=W,W=0),(typeof j>"u"?"undefined":a(j))==="object"?(ne=j,K=q):typeof j=="string"&&(q!=null?ne[j]=q:K=j),K=K||g.default.sources.API,[Y,W,ne,K]}function ie(Y,W,j,q){if(Y==null)return null;var K=void 0,ne=void 0;if(W instanceof m.default){var ee=[Y.index,Y.index+Y.length].map(function(se){return W.transformPosition(se,q!==g.default.sources.USER)}),$=u(ee,2);K=$[0],ne=$[1]}else{var J=[Y.index,Y.index+Y.length].map(function(se){return se<W||se===W&&q===g.default.sources.USER?se:j>=0?se+j:Math.max(W,se+j)}),oe=u(J,2);K=oe[0],ne=oe[1]}return new S.Range(K,ne-K)}r.expandConfig=G,r.overload=te,r.default=H},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function _(w,S){for(var k=0;k<S.length;k++){var E=S[k];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,S,k){return S&&_(w.prototype,S),k&&_(w,k),w}}(),u=function _(w,S,k){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,S);if(E===void 0){var L=Object.getPrototypeOf(w);return L===null?void 0:_(L,S,k)}else{if("value"in E)return E.value;var U=E.get;return U===void 0?void 0:U.call(k)}},f=o(7),h=y(f),m=o(0),v=y(m);function y(_){return _&&_.__esModule?_:{default:_}}function d(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function g(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function b(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var T=function(_){b(w,_);function w(){return d(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"formatAt",value:function(k,E,L,U){if(w.compare(this.statics.blotName,L)<0&&v.default.query(L,v.default.Scope.BLOT)){var P=this.isolate(k,E);U&&P.wrap(L,U)}else u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"formatAt",this).call(this,k,E,L,U)}},{key:"optimize",value:function(k){if(u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,k),this.parent instanceof w&&w.compare(this.statics.blotName,this.parent.statics.blotName)>0){var E=this.parent.isolate(this.offset(),this.length());this.moveChildren(E),E.wrap(this)}}}],[{key:"compare",value:function(k,E){var L=w.order.indexOf(k),U=w.order.indexOf(E);return L>=0||U>=0?L-U:k===E?0:k<E?-1:1}}]),w}(v.default.Inline);T.allowedChildren=[T,v.default.Embed,h.default],T.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=T},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function m(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function v(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var y=function(d){v(g,d);function g(){return h(this,g),m(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(u.default.Text);r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function S(k,E){for(var L=0;L<E.length;L++){var U=E[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(k,U.key,U)}}return function(k,E,L){return E&&S(k.prototype,E),L&&S(k,L),k}}(),u=function S(k,E,L){k===null&&(k=Function.prototype);var U=Object.getOwnPropertyDescriptor(k,E);if(U===void 0){var P=Object.getPrototypeOf(k);return P===null?void 0:S(P,E,L)}else{if("value"in U)return U.value;var R=U.get;return R===void 0?void 0:R.call(L)}},f=o(54),h=y(f),m=o(10),v=y(m);function y(S){return S&&S.__esModule?S:{default:S}}function d(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")}function g(S,k){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:S}function b(S,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);S.prototype=Object.create(k&&k.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(S,k):S.__proto__=k)}var T=(0,v.default)("quill:events"),_=["selectionchange","mousedown","mouseup","click"];_.forEach(function(S){document.addEventListener(S,function(){for(var k=arguments.length,E=Array(k),L=0;L<k;L++)E[L]=arguments[L];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(U){if(U.__quill&&U.__quill.emitter){var P;(P=U.__quill.emitter).handleDOM.apply(P,E)}})})});var w=function(S){b(k,S);function k(){d(this,k);var E=g(this,(k.__proto__||Object.getPrototypeOf(k)).call(this));return E.listeners={},E.on("error",T.error),E}return a(k,[{key:"emit",value:function(){T.log.apply(T,arguments),u(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(L){for(var U=arguments.length,P=Array(U>1?U-1:0),R=1;R<U;R++)P[R-1]=arguments[R];(this.listeners[L.type]||[]).forEach(function(M){var x=M.node,I=M.handler;(L.target===x||x.contains(L.target))&&I.apply(void 0,[L].concat(P))})}},{key:"listenDOM",value:function(L,U,P){this.listeners[L]||(this.listeners[L]=[]),this.listeners[L].push({node:U,handler:P})}}]),k}(h.default);w.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},w.sources={API:"api",SILENT:"silent",USER:"user"},r.default=w},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});function a(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}var u=function f(h){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,f),this.quill=h,this.options=m};u.DEFAULTS={},r.default=u},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=["error","warn","log","info"],u="warn";function f(m){if(a.indexOf(m)<=a.indexOf(u)){for(var v,y=arguments.length,d=Array(y>1?y-1:0),g=1;g<y;g++)d[g-1]=arguments[g];(v=console)[m].apply(v,d)}}function h(m){return a.reduce(function(v,y){return v[y]=f.bind(console,y,m),v},{})}f.level=h.level=function(m){u=m},r.default=h},function(t,r,o){var a=Array.prototype.slice,u=o(52),f=o(53),h=t.exports=function(d,g,b){return b||(b={}),d===g?!0:d instanceof Date&&g instanceof Date?d.getTime()===g.getTime():!d||!g||typeof d!="object"&&typeof g!="object"?b.strict?d===g:d==g:y(d,g,b)};function m(d){return d==null}function v(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function y(d,g,b){var T,_;if(m(d)||m(g)||d.prototype!==g.prototype)return!1;if(f(d))return f(g)?(d=a.call(d),g=a.call(g),h(d,g,b)):!1;if(v(d)){if(!v(g)||d.length!==g.length)return!1;for(T=0;T<d.length;T++)if(d[T]!==g[T])return!1;return!0}try{var w=u(d),S=u(g)}catch{return!1}if(w.length!=S.length)return!1;for(w.sort(),S.sort(),T=w.length-1;T>=0;T--)if(w[T]!=S[T])return!1;for(T=w.length-1;T>=0;T--)if(_=w[T],!h(d[_],g[_],b))return!1;return typeof d==typeof g}},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(1),u=function(){function f(h,m,v){v===void 0&&(v={}),this.attrName=h,this.keyName=m;var y=a.Scope.TYPE&a.Scope.ATTRIBUTE;v.scope!=null?this.scope=v.scope&a.Scope.LEVEL|y:this.scope=a.Scope.ATTRIBUTE,v.whitelist!=null&&(this.whitelist=v.whitelist)}return f.keys=function(h){return[].map.call(h.attributes,function(m){return m.name})},f.prototype.add=function(h,m){return this.canAdd(h,m)?(h.setAttribute(this.keyName,m),!0):!1},f.prototype.canAdd=function(h,m){var v=a.query(h,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return v==null?!1:this.whitelist==null?!0:typeof m=="string"?this.whitelist.indexOf(m.replace(/["']/g,""))>-1:this.whitelist.indexOf(m)>-1},f.prototype.remove=function(h){h.removeAttribute(this.keyName)},f.prototype.value=function(h){var m=h.getAttribute(this.keyName);return this.canAdd(h,m)&&m?m:""},f}();r.default=u},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var a=function(){function R(M,x){var I=[],D=!0,N=!1,H=void 0;try{for(var G=M[Symbol.iterator](),X;!(D=(X=G.next()).done)&&(I.push(X.value),!(x&&I.length===x));D=!0);}catch(te){N=!0,H=te}finally{try{!D&&G.return&&G.return()}finally{if(N)throw H}}return I}return function(M,x){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return R(M,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function R(M,x){for(var I=0;I<x.length;I++){var D=x[I];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(M,D.key,D)}}return function(M,x,I){return x&&R(M.prototype,x),I&&R(M,I),M}}(),f=function R(M,x,I){M===null&&(M=Function.prototype);var D=Object.getOwnPropertyDescriptor(M,x);if(D===void 0){var N=Object.getPrototypeOf(M);return N===null?void 0:R(N,x,I)}else{if("value"in D)return D.value;var H=D.get;return H===void 0?void 0:H.call(I)}},h=o(2),m=S(h),v=o(0),y=S(v),d=o(4),g=S(d),b=o(6),T=S(b),_=o(7),w=S(_);function S(R){return R&&R.__esModule?R:{default:R}}function k(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}function E(R,M){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:R}function L(R,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);R.prototype=Object.create(M&&M.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(R,M):R.__proto__=M)}var U=function(R){L(M,R);function M(){return k(this,M),E(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return M}(T.default);U.blotName="code",U.tagName="CODE";var P=function(R){L(M,R);function M(){return k(this,M),E(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return u(M,[{key:"delta",value:function(){var I=this,D=this.domNode.textContent;return D.endsWith(`
`)&&(D=D.slice(0,-1)),D.split(`
`).reduce(function(N,H){return N.insert(H).insert(`
`,I.formats())},new m.default)}},{key:"format",value:function(I,D){if(!(I===this.statics.blotName&&D)){var N=this.descendant(w.default,this.length()-1),H=a(N,1),G=H[0];G!=null&&G.deleteAt(G.length()-1,1),f(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"format",this).call(this,I,D)}}},{key:"formatAt",value:function(I,D,N,H){if(D!==0&&!(y.default.query(N,y.default.Scope.BLOCK)==null||N===this.statics.blotName&&H===this.statics.formats(this.domNode))){var G=this.newlineIndex(I);if(!(G<0||G>=I+D)){var X=this.newlineIndex(I,!0)+1,te=G-X+1,ie=this.isolate(X,te),Y=ie.next;ie.format(N,H),Y instanceof M&&Y.formatAt(0,I-X+D-te,N,H)}}}},{key:"insertAt",value:function(I,D,N){if(N==null){var H=this.descendant(w.default,I),G=a(H,2),X=G[0],te=G[1];X.insertAt(te,D)}}},{key:"length",value:function(){var I=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?I:I+1}},{key:"newlineIndex",value:function(I){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(D)return this.domNode.textContent.slice(0,I).lastIndexOf(`
`);var N=this.domNode.textContent.slice(I).indexOf(`
`);return N>-1?I+N:-1}},{key:"optimize",value:function(I){this.domNode.textContent.endsWith(`
`)||this.appendChild(y.default.create("text",`
`)),f(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,I);var D=this.next;D!=null&&D.prev===this&&D.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===D.statics.formats(D.domNode)&&(D.optimize(I),D.moveChildren(this),D.remove())}},{key:"replace",value:function(I){f(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"replace",this).call(this,I),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(D){var N=y.default.find(D);N==null?D.parentNode.removeChild(D):N instanceof y.default.Embed?N.remove():N.unwrap()})}}],[{key:"create",value:function(I){var D=f(M.__proto__||Object.getPrototypeOf(M),"create",this).call(this,I);return D.setAttribute("spellcheck",!1),D}},{key:"formats",value:function(){return!0}}]),M}(g.default);P.blotName="code-block",P.tagName="PRE",P.TAB="  ",r.Code=U,r.default=P},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},u=function(){function Y(W,j){var q=[],K=!0,ne=!1,ee=void 0;try{for(var $=W[Symbol.iterator](),J;!(K=(J=$.next()).done)&&(q.push(J.value),!(j&&q.length===j));K=!0);}catch(oe){ne=!0,ee=oe}finally{try{!K&&$.return&&$.return()}finally{if(ne)throw ee}}return q}return function(W,j){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return Y(W,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function Y(W,j){for(var q=0;q<j.length;q++){var K=j[q];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(W,K.key,K)}}return function(W,j,q){return j&&Y(W.prototype,j),q&&Y(W,q),W}}(),h=o(2),m=D(h),v=o(20),y=D(v),d=o(0),g=D(d),b=o(13),T=D(b),_=o(24),w=D(_),S=o(4),k=D(S),E=o(16),L=D(E),U=o(21),P=D(U),R=o(11),M=D(R),x=o(3),I=D(x);function D(Y){return Y&&Y.__esModule?Y:{default:Y}}function N(Y,W,j){return W in Y?Object.defineProperty(Y,W,{value:j,enumerable:!0,configurable:!0,writable:!0}):Y[W]=j,Y}function H(Y,W){if(!(Y instanceof W))throw new TypeError("Cannot call a class as a function")}var G=/^[ -~]*$/,X=function(){function Y(W){H(this,Y),this.scroll=W,this.delta=this.getDelta()}return f(Y,[{key:"applyDelta",value:function(j){var q=this,K=!1;this.scroll.update();var ne=this.scroll.length();return this.scroll.batchStart(),j=ie(j),j.reduce(function(ee,$){var J=$.retain||$.delete||$.insert.length||1,oe=$.attributes||{};if($.insert!=null){if(typeof $.insert=="string"){var se=$.insert;se.endsWith(`
`)&&K&&(K=!1,se=se.slice(0,-1)),ee>=ne&&!se.endsWith(`
`)&&(K=!0),q.scroll.insertAt(ee,se);var pe=q.scroll.line(ee),Ie=u(pe,2),De=Ie[0],Ve=Ie[1],We=(0,I.default)({},(0,S.bubbleFormats)(De));if(De instanceof k.default){var Je=De.descendant(g.default.Leaf,Ve),xt=u(Je,1),gt=xt[0];We=(0,I.default)(We,(0,S.bubbleFormats)(gt))}oe=y.default.attributes.diff(We,oe)||{}}else if(a($.insert)==="object"){var he=Object.keys($.insert)[0];if(he==null)return ee;q.scroll.insertAt(ee,he,$.insert[he])}ne+=J}return Object.keys(oe).forEach(function(me){q.scroll.formatAt(ee,J,me,oe[me])}),ee+J},0),j.reduce(function(ee,$){return typeof $.delete=="number"?(q.scroll.deleteAt(ee,$.delete),ee):ee+($.retain||$.insert.length||1)},0),this.scroll.batchEnd(),this.update(j)}},{key:"deleteText",value:function(j,q){return this.scroll.deleteAt(j,q),this.update(new m.default().retain(j).delete(q))}},{key:"formatLine",value:function(j,q){var K=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(ne).forEach(function(ee){if(!(K.scroll.whitelist!=null&&!K.scroll.whitelist[ee])){var $=K.scroll.lines(j,Math.max(q,1)),J=q;$.forEach(function(oe){var se=oe.length();if(!(oe instanceof T.default))oe.format(ee,ne[ee]);else{var pe=j-oe.offset(K.scroll),Ie=oe.newlineIndex(pe+J)-pe+1;oe.formatAt(pe,Ie,ee,ne[ee])}J-=se})}}),this.scroll.optimize(),this.update(new m.default().retain(j).retain(q,(0,P.default)(ne)))}},{key:"formatText",value:function(j,q){var K=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(ne).forEach(function(ee){K.scroll.formatAt(j,q,ee,ne[ee])}),this.update(new m.default().retain(j).retain(q,(0,P.default)(ne)))}},{key:"getContents",value:function(j,q){return this.delta.slice(j,j+q)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(j,q){return j.concat(q.delta())},new m.default)}},{key:"getFormat",value:function(j){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=[],ne=[];q===0?this.scroll.path(j).forEach(function($){var J=u($,1),oe=J[0];oe instanceof k.default?K.push(oe):oe instanceof g.default.Leaf&&ne.push(oe)}):(K=this.scroll.lines(j,q),ne=this.scroll.descendants(g.default.Leaf,j,q));var ee=[K,ne].map(function($){if($.length===0)return{};for(var J=(0,S.bubbleFormats)($.shift());Object.keys(J).length>0;){var oe=$.shift();if(oe==null)return J;J=te((0,S.bubbleFormats)(oe),J)}return J});return I.default.apply(I.default,ee)}},{key:"getText",value:function(j,q){return this.getContents(j,q).filter(function(K){return typeof K.insert=="string"}).map(function(K){return K.insert}).join("")}},{key:"insertEmbed",value:function(j,q,K){return this.scroll.insertAt(j,q,K),this.update(new m.default().retain(j).insert(N({},q,K)))}},{key:"insertText",value:function(j,q){var K=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return q=q.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(j,q),Object.keys(ne).forEach(function(ee){K.scroll.formatAt(j,q.length,ee,ne[ee])}),this.update(new m.default().retain(j).insert(q,(0,P.default)(ne)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var j=this.scroll.children.head;return j.statics.blotName!==k.default.blotName||j.children.length>1?!1:j.children.head instanceof L.default}},{key:"removeFormat",value:function(j,q){var K=this.getText(j,q),ne=this.scroll.line(j+q),ee=u(ne,2),$=ee[0],J=ee[1],oe=0,se=new m.default;$!=null&&($ instanceof T.default?oe=$.newlineIndex(J)-J+1:oe=$.length()-J,se=$.delta().slice(J,J+oe-1).insert(`
`));var pe=this.getContents(j,q+oe),Ie=pe.diff(new m.default().insert(K).concat(se)),De=new m.default().retain(j).concat(Ie);return this.applyDelta(De)}},{key:"update",value:function(j){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ne=this.delta;if(q.length===1&&q[0].type==="characterData"&&q[0].target.data.match(G)&&g.default.find(q[0].target)){var ee=g.default.find(q[0].target),$=(0,S.bubbleFormats)(ee),J=ee.offset(this.scroll),oe=q[0].oldValue.replace(w.default.CONTENTS,""),se=new m.default().insert(oe),pe=new m.default().insert(ee.value()),Ie=new m.default().retain(J).concat(se.diff(pe,K));j=Ie.reduce(function(De,Ve){return Ve.insert?De.insert(Ve.insert,$):De.push(Ve)},new m.default),this.delta=ne.compose(j)}else this.delta=this.getDelta(),(!j||!(0,M.default)(ne.compose(j),this.delta))&&(j=ne.diff(this.delta,K));return j}}]),Y}();function te(Y,W){return Object.keys(W).reduce(function(j,q){return Y[q]==null||(W[q]===Y[q]?j[q]=W[q]:Array.isArray(W[q])?W[q].indexOf(Y[q])<0&&(j[q]=W[q].concat([Y[q]])):j[q]=[W[q],Y[q]]),j},{})}function ie(Y){return Y.reduce(function(W,j){if(j.insert===1){var q=(0,P.default)(j.attributes);return delete q.image,W.insert({image:j.attributes.image},q)}if(j.attributes!=null&&(j.attributes.list===!0||j.attributes.bullet===!0)&&(j=(0,P.default)(j),j.attributes.list?j.attributes.list="ordered":(j.attributes.list="bullet",delete j.attributes.bullet)),typeof j.insert=="string"){var K=j.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return W.insert(K,j.attributes)}return W.push(j)},new m.default)}r.default=X},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var a=function(){function R(M,x){var I=[],D=!0,N=!1,H=void 0;try{for(var G=M[Symbol.iterator](),X;!(D=(X=G.next()).done)&&(I.push(X.value),!(x&&I.length===x));D=!0);}catch(te){N=!0,H=te}finally{try{!D&&G.return&&G.return()}finally{if(N)throw H}}return I}return function(M,x){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return R(M,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function R(M,x){for(var I=0;I<x.length;I++){var D=x[I];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(M,D.key,D)}}return function(M,x,I){return x&&R(M.prototype,x),I&&R(M,I),M}}(),f=o(0),h=w(f),m=o(21),v=w(m),y=o(11),d=w(y),g=o(8),b=w(g),T=o(10),_=w(T);function w(R){return R&&R.__esModule?R:{default:R}}function S(R){if(Array.isArray(R)){for(var M=0,x=Array(R.length);M<R.length;M++)x[M]=R[M];return x}else return Array.from(R)}function k(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}var E=(0,_.default)("quill:selection"),L=function R(M){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;k(this,R),this.index=M,this.length=x},U=function(){function R(M,x){var I=this;k(this,R),this.emitter=x,this.scroll=M,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=h.default.create("cursor",this),this.lastRange=this.savedRange=new L(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){I.mouseDown||setTimeout(I.update.bind(I,b.default.sources.USER),1)}),this.emitter.on(b.default.events.EDITOR_CHANGE,function(D,N){D===b.default.events.TEXT_CHANGE&&N.length()>0&&I.update(b.default.sources.SILENT)}),this.emitter.on(b.default.events.SCROLL_BEFORE_UPDATE,function(){if(I.hasFocus()){var D=I.getNativeRange();D!=null&&D.start.node!==I.cursor.textNode&&I.emitter.once(b.default.events.SCROLL_UPDATE,function(){try{I.setNativeRange(D.start.node,D.start.offset,D.end.node,D.end.offset)}catch{}})}}),this.emitter.on(b.default.events.SCROLL_OPTIMIZE,function(D,N){if(N.range){var H=N.range,G=H.startNode,X=H.startOffset,te=H.endNode,ie=H.endOffset;I.setNativeRange(G,X,te,ie)}}),this.update(b.default.sources.SILENT)}return u(R,[{key:"handleComposition",value:function(){var x=this;this.root.addEventListener("compositionstart",function(){x.composing=!0}),this.root.addEventListener("compositionend",function(){if(x.composing=!1,x.cursor.parent){var I=x.cursor.restore();if(!I)return;setTimeout(function(){x.setNativeRange(I.startNode,I.startOffset,I.endNode,I.endOffset)},1)}})}},{key:"handleDragging",value:function(){var x=this;this.emitter.listenDOM("mousedown",document.body,function(){x.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){x.mouseDown=!1,x.update(b.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(x,I){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[x])){this.scroll.update();var D=this.getNativeRange();if(!(D==null||!D.native.collapsed||h.default.query(x,h.default.Scope.BLOCK))){if(D.start.node!==this.cursor.textNode){var N=h.default.find(D.start.node,!1);if(N==null)return;if(N instanceof h.default.Leaf){var H=N.split(D.start.offset);N.parent.insertBefore(this.cursor,H)}else N.insertBefore(this.cursor,D.start.node);this.cursor.attach()}this.cursor.format(x,I),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(x){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=this.scroll.length();x=Math.min(x,D-1),I=Math.min(x+I,D-1)-x;var N=void 0,H=this.scroll.leaf(x),G=a(H,2),X=G[0],te=G[1];if(X==null)return null;var ie=X.position(te,!0),Y=a(ie,2);N=Y[0],te=Y[1];var W=document.createRange();if(I>0){W.setStart(N,te);var j=this.scroll.leaf(x+I),q=a(j,2);if(X=q[0],te=q[1],X==null)return null;var K=X.position(te,!0),ne=a(K,2);return N=ne[0],te=ne[1],W.setEnd(N,te),W.getBoundingClientRect()}else{var ee="left",$=void 0;return N instanceof Text?(te<N.data.length?(W.setStart(N,te),W.setEnd(N,te+1)):(W.setStart(N,te-1),W.setEnd(N,te),ee="right"),$=W.getBoundingClientRect()):($=X.domNode.getBoundingClientRect(),te>0&&(ee="right")),{bottom:$.top+$.height,height:$.height,left:$[ee],right:$[ee],top:$.top,width:0}}}},{key:"getNativeRange",value:function(){var x=document.getSelection();if(x==null||x.rangeCount<=0)return null;var I=x.getRangeAt(0);if(I==null)return null;var D=this.normalizeNative(I);return E.info("getNativeRange",D),D}},{key:"getRange",value:function(){var x=this.getNativeRange();if(x==null)return[null,null];var I=this.normalizedToRange(x);return[I,x]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(x){var I=this,D=[[x.start.node,x.start.offset]];x.native.collapsed||D.push([x.end.node,x.end.offset]);var N=D.map(function(X){var te=a(X,2),ie=te[0],Y=te[1],W=h.default.find(ie,!0),j=W.offset(I.scroll);return Y===0?j:W instanceof h.default.Container?j+W.length():j+W.index(ie,Y)}),H=Math.min(Math.max.apply(Math,S(N)),this.scroll.length()-1),G=Math.min.apply(Math,[H].concat(S(N)));return new L(G,H-G)}},{key:"normalizeNative",value:function(x){if(!P(this.root,x.startContainer)||!x.collapsed&&!P(this.root,x.endContainer))return null;var I={start:{node:x.startContainer,offset:x.startOffset},end:{node:x.endContainer,offset:x.endOffset},native:x};return[I.start,I.end].forEach(function(D){for(var N=D.node,H=D.offset;!(N instanceof Text)&&N.childNodes.length>0;)if(N.childNodes.length>H)N=N.childNodes[H],H=0;else if(N.childNodes.length===H)N=N.lastChild,H=N instanceof Text?N.data.length:N.childNodes.length+1;else break;D.node=N,D.offset=H}),I}},{key:"rangeToNative",value:function(x){var I=this,D=x.collapsed?[x.index]:[x.index,x.index+x.length],N=[],H=this.scroll.length();return D.forEach(function(G,X){G=Math.min(H-1,G);var te=void 0,ie=I.scroll.leaf(G),Y=a(ie,2),W=Y[0],j=Y[1],q=W.position(j,X!==0),K=a(q,2);te=K[0],j=K[1],N.push(te,j)}),N.length<2&&(N=N.concat(N)),N}},{key:"scrollIntoView",value:function(x){var I=this.lastRange;if(I!=null){var D=this.getBounds(I.index,I.length);if(D!=null){var N=this.scroll.length()-1,H=this.scroll.line(Math.min(I.index,N)),G=a(H,1),X=G[0],te=X;if(I.length>0){var ie=this.scroll.line(Math.min(I.index+I.length,N)),Y=a(ie,1);te=Y[0]}if(!(X==null||te==null)){var W=x.getBoundingClientRect();D.top<W.top?x.scrollTop-=W.top-D.top:D.bottom>W.bottom&&(x.scrollTop+=D.bottom-W.bottom)}}}}},{key:"setNativeRange",value:function(x,I){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:I,H=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(E.info("setNativeRange",x,I,D,N),!(x!=null&&(this.root.parentNode==null||x.parentNode==null||D.parentNode==null))){var G=document.getSelection();if(G!=null)if(x!=null){this.hasFocus()||this.root.focus();var X=(this.getNativeRange()||{}).native;if(X==null||H||x!==X.startContainer||I!==X.startOffset||D!==X.endContainer||N!==X.endOffset){x.tagName=="BR"&&(I=[].indexOf.call(x.parentNode.childNodes,x),x=x.parentNode),D.tagName=="BR"&&(N=[].indexOf.call(D.parentNode.childNodes,D),D=D.parentNode);var te=document.createRange();te.setStart(x,I),te.setEnd(D,N),G.removeAllRanges(),G.addRange(te)}}else G.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(x){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.default.sources.API;if(typeof I=="string"&&(D=I,I=!1),E.info("setRange",x),x!=null){var N=this.rangeToNative(x);this.setNativeRange.apply(this,S(N).concat([I]))}else this.setNativeRange(null);this.update(D)}},{key:"update",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b.default.sources.USER,I=this.lastRange,D=this.getRange(),N=a(D,2),H=N[0],G=N[1];if(this.lastRange=H,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(I,this.lastRange)){var X;!this.composing&&G!=null&&G.native.collapsed&&G.start.node!==this.cursor.textNode&&this.cursor.restore();var te=[b.default.events.SELECTION_CHANGE,(0,v.default)(this.lastRange),(0,v.default)(I),x];if((X=this.emitter).emit.apply(X,[b.default.events.EDITOR_CHANGE].concat(te)),x!==b.default.sources.SILENT){var ie;(ie=this.emitter).emit.apply(ie,te)}}}}]),R}();function P(R,M){try{M.parentNode}catch{return!1}return M instanceof Text&&(M=M.parentNode),R.contains(M)}r.Range=L,r.default=U},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function b(T,_){for(var w=0;w<_.length;w++){var S=_[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,_,w){return _&&b(T.prototype,_),w&&b(T,w),T}}(),u=function b(T,_,w){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,_);if(S===void 0){var k=Object.getPrototypeOf(T);return k===null?void 0:b(k,_,w)}else{if("value"in S)return S.value;var E=S.get;return E===void 0?void 0:E.call(w)}},f=o(0),h=m(f);function m(b){return b&&b.__esModule?b:{default:b}}function v(b,T){if(!(b instanceof T))throw new TypeError("Cannot call a class as a function")}function y(b,T){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:b}function d(b,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);b.prototype=Object.create(T&&T.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(b,T):b.__proto__=T)}var g=function(b){d(T,b);function T(){return v(this,T),y(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,[{key:"insertInto",value:function(w,S){w.children.length===0?u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertInto",this).call(this,w,S):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),T}(h.default.Embed);g.blotName="break",g.tagName="BR",r.default=g},function(t,r,o){var a=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var b in g)g.hasOwnProperty(b)&&(d[b]=g[b])};return function(d,g){y(d,g);function b(){this.constructor=d}d.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(44),f=o(30),h=o(1),m=function(y){a(d,y);function d(g){var b=y.call(this,g)||this;return b.build(),b}return d.prototype.appendChild=function(g){this.insertBefore(g)},d.prototype.attach=function(){y.prototype.attach.call(this),this.children.forEach(function(g){g.attach()})},d.prototype.build=function(){var g=this;this.children=new u.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(b){try{var T=v(b);g.insertBefore(T,g.children.head||void 0)}catch(_){if(_ instanceof h.ParchmentError)return;throw _}})},d.prototype.deleteAt=function(g,b){if(g===0&&b===this.length())return this.remove();this.children.forEachAt(g,b,function(T,_,w){T.deleteAt(_,w)})},d.prototype.descendant=function(g,b){var T=this.children.find(b),_=T[0],w=T[1];return g.blotName==null&&g(_)||g.blotName!=null&&_ instanceof g?[_,w]:_ instanceof d?_.descendant(g,w):[null,-1]},d.prototype.descendants=function(g,b,T){b===void 0&&(b=0),T===void 0&&(T=Number.MAX_VALUE);var _=[],w=T;return this.children.forEachAt(b,T,function(S,k,E){(g.blotName==null&&g(S)||g.blotName!=null&&S instanceof g)&&_.push(S),S instanceof d&&(_=_.concat(S.descendants(g,k,w))),w-=E}),_},d.prototype.detach=function(){this.children.forEach(function(g){g.detach()}),y.prototype.detach.call(this)},d.prototype.formatAt=function(g,b,T,_){this.children.forEachAt(g,b,function(w,S,k){w.formatAt(S,k,T,_)})},d.prototype.insertAt=function(g,b,T){var _=this.children.find(g),w=_[0],S=_[1];if(w)w.insertAt(S,b,T);else{var k=T==null?h.create("text",b):h.create(b,T);this.appendChild(k)}},d.prototype.insertBefore=function(g,b){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(T){return g instanceof T}))throw new h.ParchmentError("Cannot insert "+g.statics.blotName+" into "+this.statics.blotName);g.insertInto(this,b)},d.prototype.length=function(){return this.children.reduce(function(g,b){return g+b.length()},0)},d.prototype.moveChildren=function(g,b){this.children.forEach(function(T){g.insertBefore(T,b)})},d.prototype.optimize=function(g){if(y.prototype.optimize.call(this,g),this.children.length===0)if(this.statics.defaultChild!=null){var b=h.create(this.statics.defaultChild);this.appendChild(b),b.optimize(g)}else this.remove()},d.prototype.path=function(g,b){b===void 0&&(b=!1);var T=this.children.find(g,b),_=T[0],w=T[1],S=[[this,g]];return _ instanceof d?S.concat(_.path(w,b)):(_!=null&&S.push([_,w]),S)},d.prototype.removeChild=function(g){this.children.remove(g)},d.prototype.replace=function(g){g instanceof d&&g.moveChildren(this),y.prototype.replace.call(this,g)},d.prototype.split=function(g,b){if(b===void 0&&(b=!1),!b){if(g===0)return this;if(g===this.length())return this.next}var T=this.clone();return this.parent.insertBefore(T,this.next),this.children.forEachAt(g,this.length(),function(_,w,S){_=_.split(w,b),T.appendChild(_)}),T},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(g,b){var T=this,_=[],w=[];g.forEach(function(S){S.target===T.domNode&&S.type==="childList"&&(_.push.apply(_,S.addedNodes),w.push.apply(w,S.removedNodes))}),w.forEach(function(S){if(!(S.parentNode!=null&&S.tagName!=="IFRAME"&&document.body.compareDocumentPosition(S)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var k=h.find(S);k!=null&&(k.domNode.parentNode==null||k.domNode.parentNode===T.domNode)&&k.detach()}}),_.filter(function(S){return S.parentNode==T.domNode}).sort(function(S,k){return S===k?0:S.compareDocumentPosition(k)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(S){var k=null;S.nextSibling!=null&&(k=h.find(S.nextSibling));var E=v(S);(E.next!=k||E.next==null)&&(E.parent!=null&&E.parent.removeChild(T),T.insertBefore(E,k||void 0))})},d}(f.default);function v(y){var d=h.find(y);if(d==null)try{d=h.create(y)}catch{d=h.create(h.Scope.INLINE),[].slice.call(y.childNodes).forEach(function(b){d.domNode.appendChild(b)}),y.parentNode&&y.parentNode.replaceChild(d.domNode,y),d.attach()}return d}r.default=m},function(t,r,o){var a=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var b in g)g.hasOwnProperty(b)&&(d[b]=g[b])};return function(d,g){y(d,g);function b(){this.constructor=d}d.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(12),f=o(31),h=o(17),m=o(1),v=function(y){a(d,y);function d(g){var b=y.call(this,g)||this;return b.attributes=new f.default(b.domNode),b}return d.formats=function(g){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return g.tagName.toLowerCase()},d.prototype.format=function(g,b){var T=m.query(g);T instanceof u.default?this.attributes.attribute(T,b):b&&T!=null&&(g!==this.statics.blotName||this.formats()[g]!==b)&&this.replaceWith(g,b)},d.prototype.formats=function(){var g=this.attributes.values(),b=this.statics.formats(this.domNode);return b!=null&&(g[this.statics.blotName]=b),g},d.prototype.replaceWith=function(g,b){var T=y.prototype.replaceWith.call(this,g,b);return this.attributes.copy(T),T},d.prototype.update=function(g,b){var T=this;y.prototype.update.call(this,g,b),g.some(function(_){return _.target===T.domNode&&_.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(g,b){var T=y.prototype.wrap.call(this,g,b);return T instanceof d&&T.statics.scope===this.statics.scope&&this.attributes.move(T),T},d}(h.default);r.default=v},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var d in y)y.hasOwnProperty(d)&&(v[d]=y[d])};return function(v,y){m(v,y);function d(){this.constructor=v}v.prototype=y===null?Object.create(y):(d.prototype=y.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(30),f=o(1),h=function(m){a(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.value=function(y){return!0},v.prototype.index=function(y,d){return this.domNode===y||this.domNode.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},v.prototype.position=function(y,d){var g=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return y>0&&(g+=1),[this.parent.domNode,g]},v.prototype.value=function(){var y;return y={},y[this.statics.blotName]=this.statics.value(this.domNode)||!0,y},v.scope=f.Scope.INLINE_BLOT,v}(u.default);r.default=h},function(t,r,o){var a=o(11),u=o(3),f={attributes:{compose:function(m,v,y){typeof m!="object"&&(m={}),typeof v!="object"&&(v={});var d=u(!0,{},v);y||(d=Object.keys(d).reduce(function(b,T){return d[T]!=null&&(b[T]=d[T]),b},{}));for(var g in m)m[g]!==void 0&&v[g]===void 0&&(d[g]=m[g]);return Object.keys(d).length>0?d:void 0},diff:function(m,v){typeof m!="object"&&(m={}),typeof v!="object"&&(v={});var y=Object.keys(m).concat(Object.keys(v)).reduce(function(d,g){return a(m[g],v[g])||(d[g]=v[g]===void 0?null:v[g]),d},{});return Object.keys(y).length>0?y:void 0},transform:function(m,v,y){if(typeof m!="object")return v;if(typeof v=="object"){if(!y)return v;var d=Object.keys(v).reduce(function(g,b){return m[b]===void 0&&(g[b]=v[b]),g},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(m){return new h(m)},length:function(m){return typeof m.delete=="number"?m.delete:typeof m.retain=="number"?m.retain:typeof m.insert=="string"?m.insert.length:1}};function h(m){this.ops=m,this.index=0,this.offset=0}h.prototype.hasNext=function(){return this.peekLength()<1/0},h.prototype.next=function(m){m||(m=1/0);var v=this.ops[this.index];if(v){var y=this.offset,d=f.length(v);if(m>=d-y?(m=d-y,this.index+=1,this.offset=0):this.offset+=m,typeof v.delete=="number")return{delete:m};var g={};return v.attributes&&(g.attributes=v.attributes),typeof v.retain=="number"?g.retain=m:typeof v.insert=="string"?g.insert=v.insert.substr(y,m):g.insert=v.insert,g}else return{retain:1/0}},h.prototype.peek=function(){return this.ops[this.index]},h.prototype.peekLength=function(){return this.ops[this.index]?f.length(this.ops[this.index])-this.offset:1/0},h.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},h.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var m=this.offset,v=this.index,y=this.next(),d=this.ops.slice(this.index);return this.offset=m,this.index=v,[y].concat(d)}else return[]},t.exports=f},function(t,r){var o=function(){function a(T,_){return _!=null&&T instanceof _}var u;try{u=Map}catch{u=function(){}}var f;try{f=Set}catch{f=function(){}}var h;try{h=Promise}catch{h=function(){}}function m(T,_,w,S,k){typeof _=="object"&&(w=_.depth,S=_.prototype,k=_.includeNonEnumerable,_=_.circular);var E=[],L=[],U=typeof Buffer<"u";typeof _>"u"&&(_=!0),typeof w>"u"&&(w=1/0);function P(R,M){if(R===null)return null;if(M===0)return R;var x,I;if(typeof R!="object")return R;if(a(R,u))x=new u;else if(a(R,f))x=new f;else if(a(R,h))x=new h(function(W,j){R.then(function(q){W(P(q,M-1))},function(q){j(P(q,M-1))})});else if(m.__isArray(R))x=[];else if(m.__isRegExp(R))x=new RegExp(R.source,b(R)),R.lastIndex&&(x.lastIndex=R.lastIndex);else if(m.__isDate(R))x=new Date(R.getTime());else{if(U&&Buffer.isBuffer(R))return Buffer.allocUnsafe?x=Buffer.allocUnsafe(R.length):x=new Buffer(R.length),R.copy(x),x;a(R,Error)?x=Object.create(R):typeof S>"u"?(I=Object.getPrototypeOf(R),x=Object.create(I)):(x=Object.create(S),I=S)}if(_){var D=E.indexOf(R);if(D!=-1)return L[D];E.push(R),L.push(x)}a(R,u)&&R.forEach(function(W,j){var q=P(j,M-1),K=P(W,M-1);x.set(q,K)}),a(R,f)&&R.forEach(function(W){var j=P(W,M-1);x.add(j)});for(var N in R){var H;I&&(H=Object.getOwnPropertyDescriptor(I,N)),!(H&&H.set==null)&&(x[N]=P(R[N],M-1))}if(Object.getOwnPropertySymbols)for(var G=Object.getOwnPropertySymbols(R),N=0;N<G.length;N++){var X=G[N],te=Object.getOwnPropertyDescriptor(R,X);te&&!te.enumerable&&!k||(x[X]=P(R[X],M-1),te.enumerable||Object.defineProperty(x,X,{enumerable:!1}))}if(k)for(var ie=Object.getOwnPropertyNames(R),N=0;N<ie.length;N++){var Y=ie[N],te=Object.getOwnPropertyDescriptor(R,Y);te&&te.enumerable||(x[Y]=P(R[Y],M-1),Object.defineProperty(x,Y,{enumerable:!1}))}return x}return P(T,w)}m.clonePrototype=function(_){if(_===null)return null;var w=function(){};return w.prototype=_,new w};function v(T){return Object.prototype.toString.call(T)}m.__objToStr=v;function y(T){return typeof T=="object"&&v(T)==="[object Date]"}m.__isDate=y;function d(T){return typeof T=="object"&&v(T)==="[object Array]"}m.__isArray=d;function g(T){return typeof T=="object"&&v(T)==="[object RegExp]"}m.__isRegExp=g;function b(T){var _="";return T.global&&(_+="g"),T.ignoreCase&&(_+="i"),T.multiline&&(_+="m"),_}return m.__getRegExpFlags=b,m}();typeof t=="object"&&t.exports&&(t.exports=o)},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function x(I,D){var N=[],H=!0,G=!1,X=void 0;try{for(var te=I[Symbol.iterator](),ie;!(H=(ie=te.next()).done)&&(N.push(ie.value),!(D&&N.length===D));H=!0);}catch(Y){G=!0,X=Y}finally{try{!H&&te.return&&te.return()}finally{if(G)throw X}}return N}return function(I,D){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return x(I,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function x(I,D){for(var N=0;N<D.length;N++){var H=D[N];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(I,H.key,H)}}return function(I,D,N){return D&&x(I.prototype,D),N&&x(I,N),I}}(),f=function x(I,D,N){I===null&&(I=Function.prototype);var H=Object.getOwnPropertyDescriptor(I,D);if(H===void 0){var G=Object.getPrototypeOf(I);return G===null?void 0:x(G,D,N)}else{if("value"in H)return H.value;var X=H.get;return X===void 0?void 0:X.call(N)}},h=o(0),m=E(h),v=o(8),y=E(v),d=o(4),g=E(d),b=o(16),T=E(b),_=o(13),w=E(_),S=o(25),k=E(S);function E(x){return x&&x.__esModule?x:{default:x}}function L(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")}function U(x,I){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:x}function P(x,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(x,I):x.__proto__=I)}function R(x){return x instanceof g.default||x instanceof d.BlockEmbed}var M=function(x){P(I,x);function I(D,N){L(this,I);var H=U(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,D));return H.emitter=N.emitter,Array.isArray(N.whitelist)&&(H.whitelist=N.whitelist.reduce(function(G,X){return G[X]=!0,G},{})),H.domNode.addEventListener("DOMNodeInserted",function(){}),H.optimize(),H.enable(),H}return u(I,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(N,H){var G=this.line(N),X=a(G,2),te=X[0],ie=X[1],Y=this.line(N+H),W=a(Y,1),j=W[0];if(f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"deleteAt",this).call(this,N,H),j!=null&&te!==j&&ie>0){if(te instanceof d.BlockEmbed||j instanceof d.BlockEmbed){this.optimize();return}if(te instanceof w.default){var q=te.newlineIndex(te.length(),!0);if(q>-1&&(te=te.split(q+1),te===j)){this.optimize();return}}else if(j instanceof w.default){var K=j.newlineIndex(0);K>-1&&j.split(K+1)}var ne=j.children.head instanceof T.default?null:j.children.head;te.moveChildren(j,ne),te.remove()}this.optimize()}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",N)}},{key:"formatAt",value:function(N,H,G,X){this.whitelist!=null&&!this.whitelist[G]||(f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"formatAt",this).call(this,N,H,G,X),this.optimize())}},{key:"insertAt",value:function(N,H,G){if(!(G!=null&&this.whitelist!=null&&!this.whitelist[H])){if(N>=this.length())if(G==null||m.default.query(H,m.default.Scope.BLOCK)==null){var X=m.default.create(this.statics.defaultChild);this.appendChild(X),G==null&&H.endsWith(`
`)&&(H=H.slice(0,-1)),X.insertAt(0,H,G)}else{var te=m.default.create(H,G);this.appendChild(te)}else f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,N,H,G);this.optimize()}}},{key:"insertBefore",value:function(N,H){if(N.statics.scope===m.default.Scope.INLINE_BLOT){var G=m.default.create(this.statics.defaultChild);G.appendChild(N),N=G}f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,N,H)}},{key:"leaf",value:function(N){return this.path(N).pop()||[null,-1]}},{key:"line",value:function(N){return N===this.length()?this.line(N-1):this.descendant(R,N)}},{key:"lines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,G=function X(te,ie,Y){var W=[],j=Y;return te.children.forEachAt(ie,Y,function(q,K,ne){R(q)?W.push(q):q instanceof m.default.Container&&(W=W.concat(X(q,K,j))),j-=ne}),W};return G(this,N,H)}},{key:"optimize",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,N,H),N.length>0&&this.emitter.emit(y.default.events.SCROLL_OPTIMIZE,N,H))}},{key:"path",value:function(N){return f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"path",this).call(this,N).slice(1)}},{key:"update",value:function(N){if(this.batch!==!0){var H=y.default.sources.USER;typeof N=="string"&&(H=N),Array.isArray(N)||(N=this.observer.takeRecords()),N.length>0&&this.emitter.emit(y.default.events.SCROLL_BEFORE_UPDATE,H,N),f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"update",this).call(this,N.concat([])),N.length>0&&this.emitter.emit(y.default.events.SCROLL_UPDATE,H,N)}}}]),I}(m.default.Scroll);M.blotName="scroll",M.className="ql-editor",M.tagName="DIV",M.defaultChild="block",M.allowedChildren=[g.default,d.BlockEmbed,k.default],r.default=M},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},u=function(){function $(J,oe){var se=[],pe=!0,Ie=!1,De=void 0;try{for(var Ve=J[Symbol.iterator](),We;!(pe=(We=Ve.next()).done)&&(se.push(We.value),!(oe&&se.length===oe));pe=!0);}catch(Je){Ie=!0,De=Je}finally{try{!pe&&Ve.return&&Ve.return()}finally{if(Ie)throw De}}return se}return function(J,oe){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return $(J,oe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function $(J,oe){for(var se=0;se<oe.length;se++){var pe=oe[se];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(J,pe.key,pe)}}return function(J,oe,se){return oe&&$(J.prototype,oe),se&&$(J,se),J}}(),h=o(21),m=x(h),v=o(11),y=x(v),d=o(3),g=x(d),b=o(2),T=x(b),_=o(20),w=x(_),S=o(0),k=x(S),E=o(5),L=x(E),U=o(10),P=x(U),R=o(9),M=x(R);function x($){return $&&$.__esModule?$:{default:$}}function I($,J,oe){return J in $?Object.defineProperty($,J,{value:oe,enumerable:!0,configurable:!0,writable:!0}):$[J]=oe,$}function D($,J){if(!($ instanceof J))throw new TypeError("Cannot call a class as a function")}function N($,J){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J&&(typeof J=="object"||typeof J=="function")?J:$}function H($,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);$.prototype=Object.create(J&&J.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf($,J):$.__proto__=J)}var G=(0,P.default)("quill:keyboard"),X=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",te=function($){H(J,$),f(J,null,[{key:"match",value:function(se,pe){return pe=ee(pe),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Ie){return!!pe[Ie]!==se[Ie]&&pe[Ie]!==null})?!1:pe.key===(se.which||se.keyCode)}}]);function J(oe,se){D(this,J);var pe=N(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,oe,se));return pe.bindings={},Object.keys(pe.options.bindings).forEach(function(Ie){Ie==="list autofill"&&oe.scroll.whitelist!=null&&!oe.scroll.whitelist.list||pe.options.bindings[Ie]&&pe.addBinding(pe.options.bindings[Ie])}),pe.addBinding({key:J.keys.ENTER,shiftKey:null},q),pe.addBinding({key:J.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(pe.addBinding({key:J.keys.BACKSPACE},{collapsed:!0},Y),pe.addBinding({key:J.keys.DELETE},{collapsed:!0},W)):(pe.addBinding({key:J.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},Y),pe.addBinding({key:J.keys.DELETE},{collapsed:!0,suffix:/^.?$/},W)),pe.addBinding({key:J.keys.BACKSPACE},{collapsed:!1},j),pe.addBinding({key:J.keys.DELETE},{collapsed:!1},j),pe.addBinding({key:J.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},Y),pe.listen(),pe}return f(J,[{key:"addBinding",value:function(se){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},De=ee(se);if(De==null||De.key==null)return G.warn("Attempted to add invalid keyboard binding",De);typeof pe=="function"&&(pe={handler:pe}),typeof Ie=="function"&&(Ie={handler:Ie}),De=(0,g.default)(De,pe,Ie),this.bindings[De.key]=this.bindings[De.key]||[],this.bindings[De.key].push(De)}},{key:"listen",value:function(){var se=this;this.quill.root.addEventListener("keydown",function(pe){if(!pe.defaultPrevented){var Ie=pe.which||pe.keyCode,De=(se.bindings[Ie]||[]).filter(function(ft){return J.match(pe,ft)});if(De.length!==0){var Ve=se.quill.getSelection();if(!(Ve==null||!se.quill.hasFocus())){var We=se.quill.getLine(Ve.index),Je=u(We,2),xt=Je[0],gt=Je[1],he=se.quill.getLeaf(Ve.index),me=u(he,2),be=me[0],Ae=me[1],ye=Ve.length===0?[be,Ae]:se.quill.getLeaf(Ve.index+Ve.length),Be=u(ye,2),ze=Be[0],Ke=Be[1],at=be instanceof k.default.Text?be.value().slice(0,Ae):"",ct=ze instanceof k.default.Text?ze.value().slice(Ke):"",ot={collapsed:Ve.length===0,empty:Ve.length===0&&xt.length()<=1,format:se.quill.getFormat(Ve),offset:gt,prefix:at,suffix:ct},so=De.some(function(ft){if(ft.collapsed!=null&&ft.collapsed!==ot.collapsed||ft.empty!=null&&ft.empty!==ot.empty||ft.offset!=null&&ft.offset!==ot.offset)return!1;if(Array.isArray(ft.format)){if(ft.format.every(function(nn){return ot.format[nn]==null}))return!1}else if(a(ft.format)==="object"&&!Object.keys(ft.format).every(function(nn){return ft.format[nn]===!0?ot.format[nn]!=null:ft.format[nn]===!1?ot.format[nn]==null:(0,y.default)(ft.format[nn],ot.format[nn])}))return!1;return ft.prefix!=null&&!ft.prefix.test(ot.prefix)||ft.suffix!=null&&!ft.suffix.test(ot.suffix)?!1:ft.handler.call(se,Ve,ot)!==!0});so&&pe.preventDefault()}}}})}}]),J}(M.default);te.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},te.DEFAULTS={bindings:{bold:ne("bold"),italic:ne("italic"),underline:ne("underline"),indent:{key:te.keys.TAB,format:["blockquote","indent","list"],handler:function(J,oe){if(oe.collapsed&&oe.offset!==0)return!0;this.quill.format("indent","+1",L.default.sources.USER)}},outdent:{key:te.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(J,oe){if(oe.collapsed&&oe.offset!==0)return!0;this.quill.format("indent","-1",L.default.sources.USER)}},"outdent backspace":{key:te.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(J,oe){oe.format.indent!=null?this.quill.format("indent","-1",L.default.sources.USER):oe.format.list!=null&&this.quill.format("list",!1,L.default.sources.USER)}},"indent code-block":K(!0),"outdent code-block":K(!1),"remove tab":{key:te.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(J){this.quill.deleteText(J.index-1,1,L.default.sources.USER)}},tab:{key:te.keys.TAB,handler:function(J){this.quill.history.cutoff();var oe=new T.default().retain(J.index).delete(J.length).insert("	");this.quill.updateContents(oe,L.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index+1,L.default.sources.SILENT)}},"list empty enter":{key:te.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(J,oe){this.quill.format("list",!1,L.default.sources.USER),oe.format.indent&&this.quill.format("indent",!1,L.default.sources.USER)}},"checklist enter":{key:te.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(J){var oe=this.quill.getLine(J.index),se=u(oe,2),pe=se[0],Ie=se[1],De=(0,g.default)({},pe.formats(),{list:"checked"}),Ve=new T.default().retain(J.index).insert(`
`,De).retain(pe.length()-Ie-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ve,L.default.sources.USER),this.quill.setSelection(J.index+1,L.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:te.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(J,oe){var se=this.quill.getLine(J.index),pe=u(se,2),Ie=pe[0],De=pe[1],Ve=new T.default().retain(J.index).insert(`
`,oe.format).retain(Ie.length()-De-1).retain(1,{header:null});this.quill.updateContents(Ve,L.default.sources.USER),this.quill.setSelection(J.index+1,L.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(J,oe){var se=oe.prefix.length,pe=this.quill.getLine(J.index),Ie=u(pe,2),De=Ie[0],Ve=Ie[1];if(Ve>se)return!0;var We=void 0;switch(oe.prefix.trim()){case"[]":case"[ ]":We="unchecked";break;case"[x]":We="checked";break;case"-":case"*":We="bullet";break;default:We="ordered"}this.quill.insertText(J.index," ",L.default.sources.USER),this.quill.history.cutoff();var Je=new T.default().retain(J.index-Ve).delete(se+1).retain(De.length()-2-Ve).retain(1,{list:We});this.quill.updateContents(Je,L.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index-se,L.default.sources.SILENT)}},"code exit":{key:te.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(J){var oe=this.quill.getLine(J.index),se=u(oe,2),pe=se[0],Ie=se[1],De=new T.default().retain(J.index+pe.length()-Ie-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(De,L.default.sources.USER)}},"embed left":ie(te.keys.LEFT,!1),"embed left shift":ie(te.keys.LEFT,!0),"embed right":ie(te.keys.RIGHT,!1),"embed right shift":ie(te.keys.RIGHT,!0)}};function ie($,J){var oe,se=$===te.keys.LEFT?"prefix":"suffix";return oe={key:$,shiftKey:J,altKey:null},I(oe,se,/^$/),I(oe,"handler",function(Ie){var De=Ie.index;$===te.keys.RIGHT&&(De+=Ie.length+1);var Ve=this.quill.getLeaf(De),We=u(Ve,1),Je=We[0];return Je instanceof k.default.Embed?($===te.keys.LEFT?J?this.quill.setSelection(Ie.index-1,Ie.length+1,L.default.sources.USER):this.quill.setSelection(Ie.index-1,L.default.sources.USER):J?this.quill.setSelection(Ie.index,Ie.length+1,L.default.sources.USER):this.quill.setSelection(Ie.index+Ie.length+1,L.default.sources.USER),!1):!0}),oe}function Y($,J){if(!($.index===0||this.quill.getLength()<=1)){var oe=this.quill.getLine($.index),se=u(oe,1),pe=se[0],Ie={};if(J.offset===0){var De=this.quill.getLine($.index-1),Ve=u(De,1),We=Ve[0];if(We!=null&&We.length()>1){var Je=pe.formats(),xt=this.quill.getFormat($.index-1,1);Ie=w.default.attributes.diff(Je,xt)||{}}}var gt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(J.prefix)?2:1;this.quill.deleteText($.index-gt,gt,L.default.sources.USER),Object.keys(Ie).length>0&&this.quill.formatLine($.index-gt,gt,Ie,L.default.sources.USER),this.quill.focus()}}function W($,J){var oe=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(J.suffix)?2:1;if(!($.index>=this.quill.getLength()-oe)){var se={},pe=0,Ie=this.quill.getLine($.index),De=u(Ie,1),Ve=De[0];if(J.offset>=Ve.length()-1){var We=this.quill.getLine($.index+1),Je=u(We,1),xt=Je[0];if(xt){var gt=Ve.formats(),he=this.quill.getFormat($.index,1);se=w.default.attributes.diff(gt,he)||{},pe=xt.length()}}this.quill.deleteText($.index,oe,L.default.sources.USER),Object.keys(se).length>0&&this.quill.formatLine($.index+pe-1,oe,se,L.default.sources.USER)}}function j($){var J=this.quill.getLines($),oe={};if(J.length>1){var se=J[0].formats(),pe=J[J.length-1].formats();oe=w.default.attributes.diff(pe,se)||{}}this.quill.deleteText($,L.default.sources.USER),Object.keys(oe).length>0&&this.quill.formatLine($.index,1,oe,L.default.sources.USER),this.quill.setSelection($.index,L.default.sources.SILENT),this.quill.focus()}function q($,J){var oe=this;$.length>0&&this.quill.scroll.deleteAt($.index,$.length);var se=Object.keys(J.format).reduce(function(pe,Ie){return k.default.query(Ie,k.default.Scope.BLOCK)&&!Array.isArray(J.format[Ie])&&(pe[Ie]=J.format[Ie]),pe},{});this.quill.insertText($.index,`
`,se,L.default.sources.USER),this.quill.setSelection($.index+1,L.default.sources.SILENT),this.quill.focus(),Object.keys(J.format).forEach(function(pe){se[pe]==null&&(Array.isArray(J.format[pe])||pe!=="link"&&oe.quill.format(pe,J.format[pe],L.default.sources.USER))})}function K($){return{key:te.keys.TAB,shiftKey:!$,format:{"code-block":!0},handler:function(oe){var se=k.default.query("code-block"),pe=oe.index,Ie=oe.length,De=this.quill.scroll.descendant(se,pe),Ve=u(De,2),We=Ve[0],Je=Ve[1];if(We!=null){var xt=this.quill.getIndex(We),gt=We.newlineIndex(Je,!0)+1,he=We.newlineIndex(xt+Je+Ie),me=We.domNode.textContent.slice(gt,he).split(`
`);Je=0,me.forEach(function(be,Ae){$?(We.insertAt(gt+Je,se.TAB),Je+=se.TAB.length,Ae===0?pe+=se.TAB.length:Ie+=se.TAB.length):be.startsWith(se.TAB)&&(We.deleteAt(gt+Je,se.TAB.length),Je-=se.TAB.length,Ae===0?pe-=se.TAB.length:Ie-=se.TAB.length),Je+=be.length+1}),this.quill.update(L.default.sources.USER),this.quill.setSelection(pe,Ie,L.default.sources.SILENT)}}}}function ne($){return{key:$[0].toUpperCase(),shortKey:!0,handler:function(oe,se){this.quill.format($,!se.format[$],L.default.sources.USER)}}}function ee($){if(typeof $=="string"||typeof $=="number")return ee({key:$});if((typeof $>"u"?"undefined":a($))==="object"&&($=(0,m.default)($,!1)),typeof $.key=="string")if(te.keys[$.key.toUpperCase()]!=null)$.key=te.keys[$.key.toUpperCase()];else if($.key.length===1)$.key=$.key.toUpperCase().charCodeAt(0);else return null;return $.shortKey&&($[X]=$.shortKey,delete $.shortKey),$}r.default=te,r.SHORTKEY=X},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function w(S,k){var E=[],L=!0,U=!1,P=void 0;try{for(var R=S[Symbol.iterator](),M;!(L=(M=R.next()).done)&&(E.push(M.value),!(k&&E.length===k));L=!0);}catch(x){U=!0,P=x}finally{try{!L&&R.return&&R.return()}finally{if(U)throw P}}return E}return function(S,k){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return w(S,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function w(S,k,E){S===null&&(S=Function.prototype);var L=Object.getOwnPropertyDescriptor(S,k);if(L===void 0){var U=Object.getPrototypeOf(S);return U===null?void 0:w(U,k,E)}else{if("value"in L)return L.value;var P=L.get;return P===void 0?void 0:P.call(E)}},f=function(){function w(S,k){for(var E=0;E<k.length;E++){var L=k[E];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,L.key,L)}}return function(S,k,E){return k&&w(S.prototype,k),E&&w(S,E),S}}(),h=o(0),m=d(h),v=o(7),y=d(v);function d(w){return w&&w.__esModule?w:{default:w}}function g(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function b(w,S){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:w}function T(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);w.prototype=Object.create(S&&S.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(w,S):w.__proto__=S)}var _=function(w){T(S,w),f(S,null,[{key:"value",value:function(){}}]);function S(k,E){g(this,S);var L=b(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,k));return L.selection=E,L.textNode=document.createTextNode(S.CONTENTS),L.domNode.appendChild(L.textNode),L._length=0,L}return f(S,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(E,L){if(this._length!==0)return u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,E,L);for(var U=this,P=0;U!=null&&U.statics.scope!==m.default.Scope.BLOCK_BLOT;)P+=U.offset(U.parent),U=U.parent;U!=null&&(this._length=S.CONTENTS.length,U.optimize(),U.formatAt(P,S.CONTENTS.length,E,L),this._length=0)}},{key:"index",value:function(E,L){return E===this.textNode?0:u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"index",this).call(this,E,L)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var E=this.textNode,L=this.selection.getNativeRange(),U=void 0,P=void 0,R=void 0;if(L!=null&&L.start.node===E&&L.end.node===E){var M=[E,L.start.offset,L.end.offset];U=M[0],P=M[1],R=M[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==S.CONTENTS){var x=this.textNode.data.split(S.CONTENTS).join("");this.next instanceof y.default?(U=this.next.domNode,this.next.insertAt(0,x),this.textNode.data=S.CONTENTS):(this.textNode.data=x,this.parent.insertBefore(m.default.create(this.textNode),this),this.textNode=document.createTextNode(S.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),P!=null){var I=[P,R].map(function(N){return Math.max(0,Math.min(U.data.length,N-1))}),D=a(I,2);return P=D[0],R=D[1],{startNode:U,startOffset:P,endNode:U,endOffset:R}}}}},{key:"update",value:function(E,L){var U=this;if(E.some(function(R){return R.type==="characterData"&&R.target===U.textNode})){var P=this.restore();P&&(L.range=P)}}},{key:"value",value:function(){return""}}]),S}(m.default.Embed);_.blotName="cursor",_.className="ql-cursor",_.tagName="span",_.CONTENTS="\uFEFF",r.default=_},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),u=m(a),f=o(4),h=m(f);function m(b){return b&&b.__esModule?b:{default:b}}function v(b,T){if(!(b instanceof T))throw new TypeError("Cannot call a class as a function")}function y(b,T){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:b}function d(b,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);b.prototype=Object.create(T&&T.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(b,T):b.__proto__=T)}var g=function(b){d(T,b);function T(){return v(this,T),y(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return T}(u.default.Container);g.allowedChildren=[h.default,f.BlockEmbed,g],r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var a=function(){function _(w,S){for(var k=0;k<S.length;k++){var E=S[k];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,S,k){return S&&_(w.prototype,S),k&&_(w,k),w}}(),u=function _(w,S,k){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,S);if(E===void 0){var L=Object.getPrototypeOf(w);return L===null?void 0:_(L,S,k)}else{if("value"in E)return E.value;var U=E.get;return U===void 0?void 0:U.call(k)}},f=o(0),h=m(f);function m(_){return _&&_.__esModule?_:{default:_}}function v(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function y(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function d(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var g=function(_){d(w,_);function w(){return v(this,w),y(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"value",value:function(k){var E=u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,k);return E.startsWith("rgb(")?(E=E.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+E.split(",").map(function(L){return("00"+parseInt(L).toString(16)).slice(-2)}).join("")):E}}]),w}(h.default.Attributor.Style),b=new h.default.Attributor.Class("color","ql-color",{scope:h.default.Scope.INLINE}),T=new g("color","color",{scope:h.default.Scope.INLINE});r.ColorAttributor=g,r.ColorClass=b,r.ColorStyle=T},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var a=function(){function T(_,w){for(var S=0;S<w.length;S++){var k=w[S];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(_,k.key,k)}}return function(_,w,S){return w&&T(_.prototype,w),S&&T(_,S),_}}(),u=function T(_,w,S){_===null&&(_=Function.prototype);var k=Object.getOwnPropertyDescriptor(_,w);if(k===void 0){var E=Object.getPrototypeOf(_);return E===null?void 0:T(E,w,S)}else{if("value"in k)return k.value;var L=k.get;return L===void 0?void 0:L.call(S)}},f=o(6),h=m(f);function m(T){return T&&T.__esModule?T:{default:T}}function v(T,_){if(!(T instanceof _))throw new TypeError("Cannot call a class as a function")}function y(T,_){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:T}function d(T,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);T.prototype=Object.create(_&&_.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(T,_):T.__proto__=_)}var g=function(T){d(_,T);function _(){return v(this,_),y(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"format",value:function(S,k){if(S!==this.statics.blotName||!k)return u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,S,k);k=this.constructor.sanitize(k),this.domNode.setAttribute("href",k)}}],[{key:"create",value:function(S){var k=u(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,S);return S=this.sanitize(S),k.setAttribute("href",S),k.setAttribute("rel","noopener noreferrer"),k.setAttribute("target","_blank"),k}},{key:"formats",value:function(S){return S.getAttribute("href")}},{key:"sanitize",value:function(S){return b(S,this.PROTOCOL_WHITELIST)?S:this.SANITIZED_URL}}]),_}(h.default);g.blotName="link",g.tagName="A",g.SANITIZED_URL="about:blank",g.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function b(T,_){var w=document.createElement("a");w.href=T;var S=w.href.slice(0,w.href.indexOf(":"));return _.indexOf(S)>-1}r.default=g,r.sanitize=b},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},u=function(){function _(w,S){for(var k=0;k<S.length;k++){var E=S[k];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,S,k){return S&&_(w.prototype,S),k&&_(w,k),w}}(),f=o(23),h=y(f),m=o(107),v=y(m);function y(_){return _&&_.__esModule?_:{default:_}}function d(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}var g=0;function b(_,w){_.setAttribute(w,_.getAttribute(w)!=="true")}var T=function(){function _(w){var S=this;d(this,_),this.select=w,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){S.togglePicker()}),this.label.addEventListener("keydown",function(k){switch(k.keyCode){case h.default.keys.ENTER:S.togglePicker();break;case h.default.keys.ESCAPE:S.escape(),k.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return u(_,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),b(this.label,"aria-expanded"),b(this.options,"aria-hidden")}},{key:"buildItem",value:function(S){var k=this,E=document.createElement("span");return E.tabIndex="0",E.setAttribute("role","button"),E.classList.add("ql-picker-item"),S.hasAttribute("value")&&E.setAttribute("data-value",S.getAttribute("value")),S.textContent&&E.setAttribute("data-label",S.textContent),E.addEventListener("click",function(){k.selectItem(E,!0)}),E.addEventListener("keydown",function(L){switch(L.keyCode){case h.default.keys.ENTER:k.selectItem(E,!0),L.preventDefault();break;case h.default.keys.ESCAPE:k.escape(),L.preventDefault();break}}),E}},{key:"buildLabel",value:function(){var S=document.createElement("span");return S.classList.add("ql-picker-label"),S.innerHTML=v.default,S.tabIndex="0",S.setAttribute("role","button"),S.setAttribute("aria-expanded","false"),this.container.appendChild(S),S}},{key:"buildOptions",value:function(){var S=this,k=document.createElement("span");k.classList.add("ql-picker-options"),k.setAttribute("aria-hidden","true"),k.tabIndex="-1",k.id="ql-picker-options-"+g,g+=1,this.label.setAttribute("aria-controls",k.id),this.options=k,[].slice.call(this.select.options).forEach(function(E){var L=S.buildItem(E);k.appendChild(L),E.selected===!0&&S.selectItem(L)}),this.container.appendChild(k)}},{key:"buildPicker",value:function(){var S=this;[].slice.call(this.select.attributes).forEach(function(k){S.container.setAttribute(k.name,k.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var S=this;this.close(),setTimeout(function(){return S.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(S){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,E=this.container.querySelector(".ql-selected");if(S!==E&&(E!=null&&E.classList.remove("ql-selected"),S!=null&&(S.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(S.parentNode.children,S),S.hasAttribute("data-value")?this.label.setAttribute("data-value",S.getAttribute("data-value")):this.label.removeAttribute("data-value"),S.hasAttribute("data-label")?this.label.setAttribute("data-label",S.getAttribute("data-label")):this.label.removeAttribute("data-label"),k))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var L=document.createEvent("Event");L.initEvent("change",!0,!0),this.select.dispatchEvent(L)}this.close()}}},{key:"update",value:function(){var S=void 0;if(this.select.selectedIndex>-1){var k=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];S=this.select.options[this.select.selectedIndex],this.selectItem(k)}else this.selectItem(null);var E=S!=null&&S!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",E)}}]),_}();r.default=T},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),u=G(a),f=o(5),h=G(f),m=o(4),v=G(m),y=o(16),d=G(y),g=o(25),b=G(g),T=o(24),_=G(T),w=o(35),S=G(w),k=o(6),E=G(k),L=o(22),U=G(L),P=o(7),R=G(P),M=o(55),x=G(M),I=o(42),D=G(I),N=o(23),H=G(N);function G(X){return X&&X.__esModule?X:{default:X}}h.default.register({"blots/block":v.default,"blots/block/embed":m.BlockEmbed,"blots/break":d.default,"blots/container":b.default,"blots/cursor":_.default,"blots/embed":S.default,"blots/inline":E.default,"blots/scroll":U.default,"blots/text":R.default,"modules/clipboard":x.default,"modules/history":D.default,"modules/keyboard":H.default}),u.default.register(v.default,d.default,_.default,E.default,U.default,R.default),r.default=h.default},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(1),u=function(){function f(h){this.domNode=h,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(f.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),f.create=function(h){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var m;return Array.isArray(this.tagName)?(typeof h=="string"&&(h=h.toUpperCase(),parseInt(h).toString()===h&&(h=parseInt(h))),typeof h=="number"?m=document.createElement(this.tagName[h-1]):this.tagName.indexOf(h)>-1?m=document.createElement(h):m=document.createElement(this.tagName[0])):m=document.createElement(this.tagName),this.className&&m.classList.add(this.className),m},f.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},f.prototype.clone=function(){var h=this.domNode.cloneNode(!1);return a.create(h)},f.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},f.prototype.deleteAt=function(h,m){var v=this.isolate(h,m);v.remove()},f.prototype.formatAt=function(h,m,v,y){var d=this.isolate(h,m);if(a.query(v,a.Scope.BLOT)!=null&&y)d.wrap(v,y);else if(a.query(v,a.Scope.ATTRIBUTE)!=null){var g=a.create(this.statics.scope);d.wrap(g),g.format(v,y)}},f.prototype.insertAt=function(h,m,v){var y=v==null?a.create("text",m):a.create(m,v),d=this.split(h);this.parent.insertBefore(y,d)},f.prototype.insertInto=function(h,m){m===void 0&&(m=null),this.parent!=null&&this.parent.children.remove(this);var v=null;h.children.insertBefore(this,m),m!=null&&(v=m.domNode),(this.domNode.parentNode!=h.domNode||this.domNode.nextSibling!=v)&&h.domNode.insertBefore(this.domNode,v),this.parent=h,this.attach()},f.prototype.isolate=function(h,m){var v=this.split(h);return v.split(m),v},f.prototype.length=function(){return 1},f.prototype.offset=function(h){return h===void 0&&(h=this.parent),this.parent==null||this==h?0:this.parent.children.offset(this)+this.parent.offset(h)},f.prototype.optimize=function(h){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},f.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},f.prototype.replace=function(h){h.parent!=null&&(h.parent.insertBefore(this,h.next),h.remove())},f.prototype.replaceWith=function(h,m){var v=typeof h=="string"?a.create(h,m):h;return v.replace(this),v},f.prototype.split=function(h,m){return h===0?this:this.next},f.prototype.update=function(h,m){},f.prototype.wrap=function(h,m){var v=typeof h=="string"?a.create(h,m):h;return this.parent!=null&&this.parent.insertBefore(v,this.next),v.appendChild(this),v},f.blotName="abstract",f}();r.default=u},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(12),u=o(32),f=o(33),h=o(1),m=function(){function v(y){this.attributes={},this.domNode=y,this.build()}return v.prototype.attribute=function(y,d){d?y.add(this.domNode,d)&&(y.value(this.domNode)!=null?this.attributes[y.attrName]=y:delete this.attributes[y.attrName]):(y.remove(this.domNode),delete this.attributes[y.attrName])},v.prototype.build=function(){var y=this;this.attributes={};var d=a.default.keys(this.domNode),g=u.default.keys(this.domNode),b=f.default.keys(this.domNode);d.concat(g).concat(b).forEach(function(T){var _=h.query(T,h.Scope.ATTRIBUTE);_ instanceof a.default&&(y.attributes[_.attrName]=_)})},v.prototype.copy=function(y){var d=this;Object.keys(this.attributes).forEach(function(g){var b=d.attributes[g].value(d.domNode);y.format(g,b)})},v.prototype.move=function(y){var d=this;this.copy(y),Object.keys(this.attributes).forEach(function(g){d.attributes[g].remove(d.domNode)}),this.attributes={}},v.prototype.values=function(){var y=this;return Object.keys(this.attributes).reduce(function(d,g){return d[g]=y.attributes[g].value(y.domNode),d},{})},v}();r.default=m},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var d in y)y.hasOwnProperty(d)&&(v[d]=y[d])};return function(v,y){m(v,y);function d(){this.constructor=v}v.prototype=y===null?Object.create(y):(d.prototype=y.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(12);function f(m,v){var y=m.getAttribute("class")||"";return y.split(/\s+/).filter(function(d){return d.indexOf(v+"-")===0})}var h=function(m){a(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.keys=function(y){return(y.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},v.prototype.add=function(y,d){return this.canAdd(y,d)?(this.remove(y),y.classList.add(this.keyName+"-"+d),!0):!1},v.prototype.remove=function(y){var d=f(y,this.keyName);d.forEach(function(g){y.classList.remove(g)}),y.classList.length===0&&y.removeAttribute("class")},v.prototype.value=function(y){var d=f(y,this.keyName)[0]||"",g=d.slice(this.keyName.length+1);return this.canAdd(y,g)?g:""},v}(u.default);r.default=h},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var d in y)y.hasOwnProperty(d)&&(v[d]=y[d])};return function(v,y){m(v,y);function d(){this.constructor=v}v.prototype=y===null?Object.create(y):(d.prototype=y.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(12);function f(m){var v=m.split("-"),y=v.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return v[0]+y}var h=function(m){a(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.keys=function(y){return(y.getAttribute("style")||"").split(";").map(function(d){var g=d.split(":");return g[0].trim()})},v.prototype.add=function(y,d){return this.canAdd(y,d)?(y.style[f(this.keyName)]=d,!0):!1},v.prototype.remove=function(y){y.style[f(this.keyName)]="",y.getAttribute("style")||y.removeAttribute("style")},v.prototype.value=function(y){var d=y.style[f(this.keyName)];return this.canAdd(y,d)?d:""},v}(u.default);r.default=h},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function h(m,v){for(var y=0;y<v.length;y++){var d=v[y];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(m,d.key,d)}}return function(m,v,y){return v&&h(m.prototype,v),y&&h(m,y),m}}();function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}var f=function(){function h(m,v){u(this,h),this.quill=m,this.options=v,this.modules={}}return a(h,[{key:"init",value:function(){var v=this;Object.keys(this.options.modules).forEach(function(y){v.modules[y]==null&&v.addModule(y)})}},{key:"addModule",value:function(v){var y=this.quill.constructor.import("modules/"+v);return this.modules[v]=new y(this.quill,this.options.modules[v]||{}),this.modules[v]}}]),h}();f.DEFAULTS={modules:{}},f.themes={default:f},r.default=f},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function w(S,k){for(var E=0;E<k.length;E++){var L=k[E];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,L.key,L)}}return function(S,k,E){return k&&w(S.prototype,k),E&&w(S,E),S}}(),u=function w(S,k,E){S===null&&(S=Function.prototype);var L=Object.getOwnPropertyDescriptor(S,k);if(L===void 0){var U=Object.getPrototypeOf(S);return U===null?void 0:w(U,k,E)}else{if("value"in L)return L.value;var P=L.get;return P===void 0?void 0:P.call(E)}},f=o(0),h=y(f),m=o(7),v=y(m);function y(w){return w&&w.__esModule?w:{default:w}}function d(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function g(w,S){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:w}function b(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);w.prototype=Object.create(S&&S.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(w,S):w.__proto__=S)}var T="\uFEFF",_=function(w){b(S,w);function S(k){d(this,S);var E=g(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,k));return E.contentNode=document.createElement("span"),E.contentNode.setAttribute("contenteditable",!1),[].slice.call(E.domNode.childNodes).forEach(function(L){E.contentNode.appendChild(L)}),E.leftGuard=document.createTextNode(T),E.rightGuard=document.createTextNode(T),E.domNode.appendChild(E.leftGuard),E.domNode.appendChild(E.contentNode),E.domNode.appendChild(E.rightGuard),E}return a(S,[{key:"index",value:function(E,L){return E===this.leftGuard?0:E===this.rightGuard?1:u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"index",this).call(this,E,L)}},{key:"restore",value:function(E){var L=void 0,U=void 0,P=E.data.split(T).join("");if(E===this.leftGuard)if(this.prev instanceof v.default){var R=this.prev.length();this.prev.insertAt(R,P),L={startNode:this.prev.domNode,startOffset:R+P.length}}else U=document.createTextNode(P),this.parent.insertBefore(h.default.create(U),this),L={startNode:U,startOffset:P.length};else E===this.rightGuard&&(this.next instanceof v.default?(this.next.insertAt(0,P),L={startNode:this.next.domNode,startOffset:P.length}):(U=document.createTextNode(P),this.parent.insertBefore(h.default.create(U),this.next),L={startNode:U,startOffset:P.length}));return E.data=T,L}},{key:"update",value:function(E,L){var U=this;E.forEach(function(P){if(P.type==="characterData"&&(P.target===U.leftGuard||P.target===U.rightGuard)){var R=U.restore(P.target);R&&(L.range=R)}})}}]),S}(h.default.Embed);r.default=_},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var a=o(0),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}var h={scope:u.default.Scope.BLOCK,whitelist:["right","center","justify"]},m=new u.default.Attributor.Attribute("align","align",h),v=new u.default.Attributor.Class("align","ql-align",h),y=new u.default.Attributor.Style("align","text-align",h);r.AlignAttribute=m,r.AlignClass=v,r.AlignStyle=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var a=o(0),u=h(a),f=o(26);function h(y){return y&&y.__esModule?y:{default:y}}var m=new u.default.Attributor.Class("background","ql-bg",{scope:u.default.Scope.INLINE}),v=new f.ColorAttributor("background","background-color",{scope:u.default.Scope.INLINE});r.BackgroundClass=m,r.BackgroundStyle=v},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var a=o(0),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}var h={scope:u.default.Scope.BLOCK,whitelist:["rtl"]},m=new u.default.Attributor.Attribute("direction","dir",h),v=new u.default.Attributor.Class("direction","ql-direction",h),y=new u.default.Attributor.Style("direction","direction",h);r.DirectionAttribute=m,r.DirectionClass=v,r.DirectionStyle=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var a=function(){function w(S,k){for(var E=0;E<k.length;E++){var L=k[E];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,L.key,L)}}return function(S,k,E){return k&&w(S.prototype,k),E&&w(S,E),S}}(),u=function w(S,k,E){S===null&&(S=Function.prototype);var L=Object.getOwnPropertyDescriptor(S,k);if(L===void 0){var U=Object.getPrototypeOf(S);return U===null?void 0:w(U,k,E)}else{if("value"in L)return L.value;var P=L.get;return P===void 0?void 0:P.call(E)}},f=o(0),h=m(f);function m(w){return w&&w.__esModule?w:{default:w}}function v(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function y(w,S){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:w}function d(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);w.prototype=Object.create(S&&S.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(w,S):w.__proto__=S)}var g={scope:h.default.Scope.INLINE,whitelist:["serif","monospace"]},b=new h.default.Attributor.Class("font","ql-font",g),T=function(w){d(S,w);function S(){return v(this,S),y(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return a(S,[{key:"value",value:function(E){return u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"value",this).call(this,E).replace(/["']/g,"")}}]),S}(h.default.Attributor.Style),_=new T("font","font-family",g);r.FontStyle=_,r.FontClass=b},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var a=o(0),u=f(a);function f(v){return v&&v.__esModule?v:{default:v}}var h=new u.default.Attributor.Class("size","ql-size",{scope:u.default.Scope.INLINE,whitelist:["small","large","huge"]}),m=new u.default.Attributor.Style("size","font-size",{scope:u.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=h,r.SizeStyle=m},function(t,r,o){t.exports={align:{"":o(76),center:o(77),right:o(78),justify:o(79)},background:o(80),blockquote:o(81),bold:o(82),clean:o(83),code:o(58),"code-block":o(58),color:o(84),direction:{"":o(85),rtl:o(86)},float:{center:o(87),full:o(88),left:o(89),right:o(90)},formula:o(91),header:{1:o(92),2:o(93)},italic:o(94),image:o(95),indent:{"+1":o(96),"-1":o(97)},link:o(98),list:{ordered:o(99),bullet:o(100),check:o(101)},script:{sub:o(102),super:o(103)},strike:o(104),underline:o(105),video:o(106)}},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var a=function(){function k(E,L){for(var U=0;U<L.length;U++){var P=L[U];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(E,P.key,P)}}return function(E,L,U){return L&&k(E.prototype,L),U&&k(E,U),E}}(),u=o(0),f=d(u),h=o(5),m=d(h),v=o(9),y=d(v);function d(k){return k&&k.__esModule?k:{default:k}}function g(k,E){if(!(k instanceof E))throw new TypeError("Cannot call a class as a function")}function b(k,E){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:k}function T(k,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);k.prototype=Object.create(E&&E.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(k,E):k.__proto__=E)}var _=function(k){T(E,k);function E(L,U){g(this,E);var P=b(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,L,U));return P.lastRecorded=0,P.ignoreChange=!1,P.clear(),P.quill.on(m.default.events.EDITOR_CHANGE,function(R,M,x,I){R!==m.default.events.TEXT_CHANGE||P.ignoreChange||(!P.options.userOnly||I===m.default.sources.USER?P.record(M,x):P.transform(M))}),P.quill.keyboard.addBinding({key:"Z",shortKey:!0},P.undo.bind(P)),P.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},P.redo.bind(P)),/Win/i.test(navigator.platform)&&P.quill.keyboard.addBinding({key:"Y",shortKey:!0},P.redo.bind(P)),P}return a(E,[{key:"change",value:function(U,P){if(this.stack[U].length!==0){var R=this.stack[U].pop();this.stack[P].push(R),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(R[U],m.default.sources.USER),this.ignoreChange=!1;var M=S(R[U]);this.quill.setSelection(M)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(U,P){if(U.ops.length!==0){this.stack.redo=[];var R=this.quill.getContents().diff(P),M=Date.now();if(this.lastRecorded+this.options.delay>M&&this.stack.undo.length>0){var x=this.stack.undo.pop();R=R.compose(x.undo),U=x.redo.compose(U)}else this.lastRecorded=M;this.stack.undo.push({redo:U,undo:R}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(U){this.stack.undo.forEach(function(P){P.undo=U.transform(P.undo,!0),P.redo=U.transform(P.redo,!0)}),this.stack.redo.forEach(function(P){P.undo=U.transform(P.undo,!0),P.redo=U.transform(P.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),E}(y.default);_.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function w(k){var E=k.ops[k.ops.length-1];return E==null?!1:E.insert!=null?typeof E.insert=="string"&&E.insert.endsWith(`
`):E.attributes!=null?Object.keys(E.attributes).some(function(L){return f.default.query(L,f.default.Scope.BLOCK)!=null}):!1}function S(k){var E=k.reduce(function(U,P){return U+=P.delete||0,U},0),L=k.length()-E;return w(k)&&(L-=1),L}r.default=_,r.getLastChangeIndex=S},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var a=function(){function q(K,ne){for(var ee=0;ee<ne.length;ee++){var $=ne[ee];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(K,$.key,$)}}return function(K,ne,ee){return ne&&q(K.prototype,ne),ee&&q(K,ee),K}}(),u=function q(K,ne,ee){K===null&&(K=Function.prototype);var $=Object.getOwnPropertyDescriptor(K,ne);if($===void 0){var J=Object.getPrototypeOf(K);return J===null?void 0:q(J,ne,ee)}else{if("value"in $)return $.value;var oe=$.get;return oe===void 0?void 0:oe.call(ee)}},f=o(3),h=M(f),m=o(2),v=M(m),y=o(8),d=M(y),g=o(23),b=M(g),T=o(34),_=M(T),w=o(59),S=M(w),k=o(60),E=M(k),L=o(28),U=M(L),P=o(61),R=M(P);function M(q){return q&&q.__esModule?q:{default:q}}function x(q,K){if(!(q instanceof K))throw new TypeError("Cannot call a class as a function")}function I(q,K){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:q}function D(q,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);q.prototype=Object.create(K&&K.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(q,K):q.__proto__=K)}var N=[!1,"center","right","justify"],H=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],G=[!1,"serif","monospace"],X=["1","2","3",!1],te=["small",!1,"large","huge"],ie=function(q){D(K,q);function K(ne,ee){x(this,K);var $=I(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,ne,ee)),J=function oe(se){if(!document.body.contains(ne.root))return document.body.removeEventListener("click",oe);$.tooltip!=null&&!$.tooltip.root.contains(se.target)&&document.activeElement!==$.tooltip.textbox&&!$.quill.hasFocus()&&$.tooltip.hide(),$.pickers!=null&&$.pickers.forEach(function(pe){pe.container.contains(se.target)||pe.close()})};return ne.emitter.listenDOM("click",document.body,J),$}return a(K,[{key:"addModule",value:function(ee){var $=u(K.prototype.__proto__||Object.getPrototypeOf(K.prototype),"addModule",this).call(this,ee);return ee==="toolbar"&&this.extendToolbar($),$}},{key:"buildButtons",value:function(ee,$){ee.forEach(function(J){var oe=J.getAttribute("class")||"";oe.split(/\s+/).forEach(function(se){if(se.startsWith("ql-")&&(se=se.slice(3),$[se]!=null))if(se==="direction")J.innerHTML=$[se][""]+$[se].rtl;else if(typeof $[se]=="string")J.innerHTML=$[se];else{var pe=J.value||"";pe!=null&&$[se][pe]&&(J.innerHTML=$[se][pe])}})})}},{key:"buildPickers",value:function(ee,$){var J=this;this.pickers=ee.map(function(se){if(se.classList.contains("ql-align"))return se.querySelector("option")==null&&j(se,N),new E.default(se,$.align);if(se.classList.contains("ql-background")||se.classList.contains("ql-color")){var pe=se.classList.contains("ql-background")?"background":"color";return se.querySelector("option")==null&&j(se,H,pe==="background"?"#ffffff":"#000000"),new S.default(se,$[pe])}else return se.querySelector("option")==null&&(se.classList.contains("ql-font")?j(se,G):se.classList.contains("ql-header")?j(se,X):se.classList.contains("ql-size")&&j(se,te)),new U.default(se)});var oe=function(){J.pickers.forEach(function(pe){pe.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,oe)}}]),K}(_.default);ie.DEFAULTS=(0,h.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var K=this,ne=this.container.querySelector("input.ql-image[type=file]");ne==null&&(ne=document.createElement("input"),ne.setAttribute("type","file"),ne.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ne.classList.add("ql-image"),ne.addEventListener("change",function(){if(ne.files!=null&&ne.files[0]!=null){var ee=new FileReader;ee.onload=function($){var J=K.quill.getSelection(!0);K.quill.updateContents(new v.default().retain(J.index).delete(J.length).insert({image:$.target.result}),d.default.sources.USER),K.quill.setSelection(J.index+1,d.default.sources.SILENT),ne.value=""},ee.readAsDataURL(ne.files[0])}}),this.container.appendChild(ne)),ne.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Y=function(q){D(K,q);function K(ne,ee){x(this,K);var $=I(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,ne,ee));return $.textbox=$.root.querySelector('input[type="text"]'),$.listen(),$}return a(K,[{key:"listen",value:function(){var ee=this;this.textbox.addEventListener("keydown",function($){b.default.match($,"enter")?(ee.save(),$.preventDefault()):b.default.match($,"escape")&&(ee.cancel(),$.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),$!=null?this.textbox.value=$:ee!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+ee)||""),this.root.setAttribute("data-mode",ee)}},{key:"restoreFocus",value:function(){var ee=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=ee}},{key:"save",value:function(){var ee=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var $=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",ee,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",ee,d.default.sources.USER)),this.quill.root.scrollTop=$;break}case"video":ee=W(ee);case"formula":{if(!ee)break;var J=this.quill.getSelection(!0);if(J!=null){var oe=J.index+J.length;this.quill.insertEmbed(oe,this.root.getAttribute("data-mode"),ee,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(oe+1," ",d.default.sources.USER),this.quill.setSelection(oe+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),K}(R.default);function W(q){var K=q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return K?(K[1]||"https")+"://www.youtube.com/embed/"+K[2]+"?showinfo=0":(K=q.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(K[1]||"https")+"://player.vimeo.com/video/"+K[2]+"/":q}function j(q,K){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;K.forEach(function(ee){var $=document.createElement("option");ee===ne?$.setAttribute("selected","selected"):$.setAttribute("value",ee),q.appendChild($)})}r.BaseTooltip=Y,r.default=ie},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function u(){this.head=this.tail=null,this.length=0}return u.prototype.append=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];this.insertBefore(f[0],null),f.length>1&&this.append.apply(this,f.slice(1))},u.prototype.contains=function(f){for(var h,m=this.iterator();h=m();)if(h===f)return!0;return!1},u.prototype.insertBefore=function(f,h){f&&(f.next=h,h!=null?(f.prev=h.prev,h.prev!=null&&(h.prev.next=f),h.prev=f,h===this.head&&(this.head=f)):this.tail!=null?(this.tail.next=f,f.prev=this.tail,this.tail=f):(f.prev=null,this.head=this.tail=f),this.length+=1)},u.prototype.offset=function(f){for(var h=0,m=this.head;m!=null;){if(m===f)return h;h+=m.length(),m=m.next}return-1},u.prototype.remove=function(f){this.contains(f)&&(f.prev!=null&&(f.prev.next=f.next),f.next!=null&&(f.next.prev=f.prev),f===this.head&&(this.head=f.next),f===this.tail&&(this.tail=f.prev),this.length-=1)},u.prototype.iterator=function(f){return f===void 0&&(f=this.head),function(){var h=f;return f!=null&&(f=f.next),h}},u.prototype.find=function(f,h){h===void 0&&(h=!1);for(var m,v=this.iterator();m=v();){var y=m.length();if(f<y||h&&f===y&&(m.next==null||m.next.length()!==0))return[m,f];f-=y}return[null,0]},u.prototype.forEach=function(f){for(var h,m=this.iterator();h=m();)f(h)},u.prototype.forEachAt=function(f,h,m){if(!(h<=0))for(var v=this.find(f),y=v[0],d=v[1],g,b=f-d,T=this.iterator(y);(g=T())&&b<f+h;){var _=g.length();f>b?m(g,f-b,Math.min(h,b+_-f)):m(g,0,Math.min(_,f+h-b)),b+=_}},u.prototype.map=function(f){return this.reduce(function(h,m){return h.push(f(m)),h},[])},u.prototype.reduce=function(f,h){for(var m,v=this.iterator();m=v();)h=f(h,m);return h},u}();r.default=a},function(t,r,o){var a=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var b in g)g.hasOwnProperty(b)&&(d[b]=g[b])};return function(d,g){y(d,g);function b(){this.constructor=d}d.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(17),f=o(1),h={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},m=100,v=function(y){a(d,y);function d(g){var b=y.call(this,g)||this;return b.scroll=b,b.observer=new MutationObserver(function(T){b.update(T)}),b.observer.observe(b.domNode,h),b.attach(),b}return d.prototype.detach=function(){y.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(g,b){this.update(),g===0&&b===this.length()?this.children.forEach(function(T){T.remove()}):y.prototype.deleteAt.call(this,g,b)},d.prototype.formatAt=function(g,b,T,_){this.update(),y.prototype.formatAt.call(this,g,b,T,_)},d.prototype.insertAt=function(g,b,T){this.update(),y.prototype.insertAt.call(this,g,b,T)},d.prototype.optimize=function(g,b){var T=this;g===void 0&&(g=[]),b===void 0&&(b={}),y.prototype.optimize.call(this,b);for(var _=[].slice.call(this.observer.takeRecords());_.length>0;)g.push(_.pop());for(var w=function(L,U){U===void 0&&(U=!0),!(L==null||L===T)&&L.domNode.parentNode!=null&&(L.domNode[f.DATA_KEY].mutations==null&&(L.domNode[f.DATA_KEY].mutations=[]),U&&w(L.parent))},S=function(L){L.domNode[f.DATA_KEY]==null||L.domNode[f.DATA_KEY].mutations==null||(L instanceof u.default&&L.children.forEach(S),L.optimize(b))},k=g,E=0;k.length>0;E+=1){if(E>=m)throw new Error("[Parchment] Maximum optimize iterations reached");for(k.forEach(function(L){var U=f.find(L.target,!0);U!=null&&(U.domNode===L.target&&(L.type==="childList"?(w(f.find(L.previousSibling,!1)),[].forEach.call(L.addedNodes,function(P){var R=f.find(P,!1);w(R,!1),R instanceof u.default&&R.children.forEach(function(M){w(M,!1)})})):L.type==="attributes"&&w(U.prev)),w(U))}),this.children.forEach(S),k=[].slice.call(this.observer.takeRecords()),_=k.slice();_.length>0;)g.push(_.pop())}},d.prototype.update=function(g,b){var T=this;b===void 0&&(b={}),g=g||this.observer.takeRecords(),g.map(function(_){var w=f.find(_.target,!0);return w==null?null:w.domNode[f.DATA_KEY].mutations==null?(w.domNode[f.DATA_KEY].mutations=[_],w):(w.domNode[f.DATA_KEY].mutations.push(_),null)}).forEach(function(_){_==null||_===T||_.domNode[f.DATA_KEY]==null||_.update(_.domNode[f.DATA_KEY].mutations||[],b)}),this.domNode[f.DATA_KEY].mutations!=null&&y.prototype.update.call(this,this.domNode[f.DATA_KEY].mutations,b),this.optimize(g,b)},d.blotName="scroll",d.defaultChild="block",d.scope=f.Scope.BLOCK_BLOT,d.tagName="DIV",d}(u.default);r.default=v},function(t,r,o){var a=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,d){y.__proto__=d}||function(y,d){for(var g in d)d.hasOwnProperty(g)&&(y[g]=d[g])};return function(y,d){v(y,d);function g(){this.constructor=y}y.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(18),f=o(1);function h(v,y){if(Object.keys(v).length!==Object.keys(y).length)return!1;for(var d in v)if(v[d]!==y[d])return!1;return!0}var m=function(v){a(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.formats=function(d){if(d.tagName!==y.tagName)return v.formats.call(this,d)},y.prototype.format=function(d,g){var b=this;d===this.statics.blotName&&!g?(this.children.forEach(function(T){T instanceof u.default||(T=T.wrap(y.blotName,!0)),b.attributes.copy(T)}),this.unwrap()):v.prototype.format.call(this,d,g)},y.prototype.formatAt=function(d,g,b,T){if(this.formats()[b]!=null||f.query(b,f.Scope.ATTRIBUTE)){var _=this.isolate(d,g);_.format(b,T)}else v.prototype.formatAt.call(this,d,g,b,T)},y.prototype.optimize=function(d){v.prototype.optimize.call(this,d);var g=this.formats();if(Object.keys(g).length===0)return this.unwrap();var b=this.next;b instanceof y&&b.prev===this&&h(g,b.formats())&&(b.moveChildren(this),b.remove())},y.blotName="inline",y.scope=f.Scope.INLINE_BLOT,y.tagName="SPAN",y}(u.default);r.default=m},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var d in y)y.hasOwnProperty(d)&&(v[d]=y[d])};return function(v,y){m(v,y);function d(){this.constructor=v}v.prototype=y===null?Object.create(y):(d.prototype=y.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(18),f=o(1),h=function(m){a(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.formats=function(y){var d=f.query(v.blotName).tagName;if(y.tagName!==d)return m.formats.call(this,y)},v.prototype.format=function(y,d){f.query(y,f.Scope.BLOCK)!=null&&(y===this.statics.blotName&&!d?this.replaceWith(v.blotName):m.prototype.format.call(this,y,d))},v.prototype.formatAt=function(y,d,g,b){f.query(g,f.Scope.BLOCK)!=null?this.format(g,b):m.prototype.formatAt.call(this,y,d,g,b)},v.prototype.insertAt=function(y,d,g){if(g==null||f.query(d,f.Scope.INLINE)!=null)m.prototype.insertAt.call(this,y,d,g);else{var b=this.split(y),T=f.create(d,g);b.parent.insertBefore(T,b)}},v.prototype.update=function(y,d){navigator.userAgent.match(/Trident/)?this.build():m.prototype.update.call(this,y,d)},v.blotName="block",v.scope=f.Scope.BLOCK_BLOT,v.tagName="P",v}(u.default);r.default=h},function(t,r,o){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var y in v)v.hasOwnProperty(y)&&(m[y]=v[y])};return function(m,v){h(m,v);function y(){this.constructor=m}m.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(19),f=function(h){a(m,h);function m(){return h!==null&&h.apply(this,arguments)||this}return m.formats=function(v){},m.prototype.format=function(v,y){h.prototype.formatAt.call(this,0,this.length(),v,y)},m.prototype.formatAt=function(v,y,d,g){v===0&&y===this.length()?this.format(d,g):h.prototype.formatAt.call(this,v,y,d,g)},m.prototype.formats=function(){return this.statics.formats(this.domNode)},m}(u.default);r.default=f},function(t,r,o){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var d in y)y.hasOwnProperty(d)&&(v[d]=y[d])};return function(v,y){m(v,y);function d(){this.constructor=v}v.prototype=y===null?Object.create(y):(d.prototype=y.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=o(19),f=o(1),h=function(m){a(v,m);function v(y){var d=m.call(this,y)||this;return d.text=d.statics.value(d.domNode),d}return v.create=function(y){return document.createTextNode(y)},v.value=function(y){var d=y.data;return d.normalize&&(d=d.normalize()),d},v.prototype.deleteAt=function(y,d){this.domNode.data=this.text=this.text.slice(0,y)+this.text.slice(y+d)},v.prototype.index=function(y,d){return this.domNode===y?d:-1},v.prototype.insertAt=function(y,d,g){g==null?(this.text=this.text.slice(0,y)+d+this.text.slice(y),this.domNode.data=this.text):m.prototype.insertAt.call(this,y,d,g)},v.prototype.length=function(){return this.text.length},v.prototype.optimize=function(y){m.prototype.optimize.call(this,y),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof v&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},v.prototype.position=function(y,d){return[this.domNode,y]},v.prototype.split=function(y,d){if(d===void 0&&(d=!1),!d){if(y===0)return this;if(y===this.length())return this.next}var g=f.create(this.domNode.splitText(y));return this.parent.insertBefore(g,this.next),this.text=this.statics.value(this.domNode),g},v.prototype.update=function(y,d){var g=this;y.some(function(b){return b.type==="characterData"&&b.target===g.domNode})&&(this.text=this.statics.value(this.domNode))},v.prototype.value=function(){return this.text},v.blotName="text",v.scope=f.Scope.INLINE_BLOT,v}(u.default);r.default=h},function(t,r,o){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var u=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(f,h){return arguments.length>1&&!this.contains(f)==!h?h:u.call(this,f)}}String.prototype.startsWith||(String.prototype.startsWith=function(f,h){return h=h||0,this.substr(h,f.length)===f}),String.prototype.endsWith||(String.prototype.endsWith=function(f,h){var m=this.toString();(typeof h!="number"||!isFinite(h)||Math.floor(h)!==h||h>m.length)&&(h=m.length),h-=f.length;var v=m.indexOf(f,h);return v!==-1&&v===h}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(h){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof h!="function")throw new TypeError("predicate must be a function");for(var m=Object(this),v=m.length>>>0,y=arguments[1],d,g=0;g<v;g++)if(d=m[g],h.call(y,d,g,m))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,r){var o=-1,a=1,u=0;function f(E,L,U){if(E==L)return E?[[u,E]]:[];(U<0||E.length<U)&&(U=null);var P=y(E,L),R=E.substring(0,P);E=E.substring(P),L=L.substring(P),P=d(E,L);var M=E.substring(E.length-P);E=E.substring(0,E.length-P),L=L.substring(0,L.length-P);var x=h(E,L);return R&&x.unshift([u,R]),M&&x.push([u,M]),b(x),U!=null&&(x=w(x,U)),x=S(x),x}function h(E,L){var U;if(!E)return[[a,L]];if(!L)return[[o,E]];var P=E.length>L.length?E:L,R=E.length>L.length?L:E,M=P.indexOf(R);if(M!=-1)return U=[[a,P.substring(0,M)],[u,R],[a,P.substring(M+R.length)]],E.length>L.length&&(U[0][0]=U[2][0]=o),U;if(R.length==1)return[[o,E],[a,L]];var x=g(E,L);if(x){var I=x[0],D=x[1],N=x[2],H=x[3],G=x[4],X=f(I,N),te=f(D,H);return X.concat([[u,G]],te)}return m(E,L)}function m(E,L){for(var U=E.length,P=L.length,R=Math.ceil((U+P)/2),M=R,x=2*R,I=new Array(x),D=new Array(x),N=0;N<x;N++)I[N]=-1,D[N]=-1;I[M+1]=0,D[M+1]=0;for(var H=U-P,G=H%2!=0,X=0,te=0,ie=0,Y=0,W=0;W<R;W++){for(var j=-W+X;j<=W-te;j+=2){var q=M+j,K;j==-W||j!=W&&I[q-1]<I[q+1]?K=I[q+1]:K=I[q-1]+1;for(var ne=K-j;K<U&&ne<P&&E.charAt(K)==L.charAt(ne);)K++,ne++;if(I[q]=K,K>U)te+=2;else if(ne>P)X+=2;else if(G){var ee=M+H-j;if(ee>=0&&ee<x&&D[ee]!=-1){var $=U-D[ee];if(K>=$)return v(E,L,K,ne)}}}for(var J=-W+ie;J<=W-Y;J+=2){var ee=M+J,$;J==-W||J!=W&&D[ee-1]<D[ee+1]?$=D[ee+1]:$=D[ee-1]+1;for(var oe=$-J;$<U&&oe<P&&E.charAt(U-$-1)==L.charAt(P-oe-1);)$++,oe++;if(D[ee]=$,$>U)Y+=2;else if(oe>P)ie+=2;else if(!G){var q=M+H-J;if(q>=0&&q<x&&I[q]!=-1){var K=I[q],ne=M+K-q;if($=U-$,K>=$)return v(E,L,K,ne)}}}}return[[o,E],[a,L]]}function v(E,L,U,P){var R=E.substring(0,U),M=L.substring(0,P),x=E.substring(U),I=L.substring(P),D=f(R,M),N=f(x,I);return D.concat(N)}function y(E,L){if(!E||!L||E.charAt(0)!=L.charAt(0))return 0;for(var U=0,P=Math.min(E.length,L.length),R=P,M=0;U<R;)E.substring(M,R)==L.substring(M,R)?(U=R,M=U):P=R,R=Math.floor((P-U)/2+U);return R}function d(E,L){if(!E||!L||E.charAt(E.length-1)!=L.charAt(L.length-1))return 0;for(var U=0,P=Math.min(E.length,L.length),R=P,M=0;U<R;)E.substring(E.length-R,E.length-M)==L.substring(L.length-R,L.length-M)?(U=R,M=U):P=R,R=Math.floor((P-U)/2+U);return R}function g(E,L){var U=E.length>L.length?E:L,P=E.length>L.length?L:E;if(U.length<4||P.length*2<U.length)return null;function R(te,ie,Y){for(var W=te.substring(Y,Y+Math.floor(te.length/4)),j=-1,q="",K,ne,ee,$;(j=ie.indexOf(W,j+1))!=-1;){var J=y(te.substring(Y),ie.substring(j)),oe=d(te.substring(0,Y),ie.substring(0,j));q.length<oe+J&&(q=ie.substring(j-oe,j)+ie.substring(j,j+J),K=te.substring(0,Y-oe),ne=te.substring(Y+J),ee=ie.substring(0,j-oe),$=ie.substring(j+J))}return q.length*2>=te.length?[K,ne,ee,$,q]:null}var M=R(U,P,Math.ceil(U.length/4)),x=R(U,P,Math.ceil(U.length/2)),I;if(!M&&!x)return null;x?M?I=M[4].length>x[4].length?M:x:I=x:I=M;var D,N,H,G;E.length>L.length?(D=I[0],N=I[1],H=I[2],G=I[3]):(H=I[0],G=I[1],D=I[2],N=I[3]);var X=I[4];return[D,N,H,G,X]}function b(E){E.push([u,""]);for(var L=0,U=0,P=0,R="",M="",x;L<E.length;)switch(E[L][0]){case a:P++,M+=E[L][1],L++;break;case o:U++,R+=E[L][1],L++;break;case u:U+P>1?(U!==0&&P!==0&&(x=y(M,R),x!==0&&(L-U-P>0&&E[L-U-P-1][0]==u?E[L-U-P-1][1]+=M.substring(0,x):(E.splice(0,0,[u,M.substring(0,x)]),L++),M=M.substring(x),R=R.substring(x)),x=d(M,R),x!==0&&(E[L][1]=M.substring(M.length-x)+E[L][1],M=M.substring(0,M.length-x),R=R.substring(0,R.length-x))),U===0?E.splice(L-P,U+P,[a,M]):P===0?E.splice(L-U,U+P,[o,R]):E.splice(L-U-P,U+P,[o,R],[a,M]),L=L-U-P+(U?1:0)+(P?1:0)+1):L!==0&&E[L-1][0]==u?(E[L-1][1]+=E[L][1],E.splice(L,1)):L++,P=0,U=0,R="",M="";break}E[E.length-1][1]===""&&E.pop();var I=!1;for(L=1;L<E.length-1;)E[L-1][0]==u&&E[L+1][0]==u&&(E[L][1].substring(E[L][1].length-E[L-1][1].length)==E[L-1][1]?(E[L][1]=E[L-1][1]+E[L][1].substring(0,E[L][1].length-E[L-1][1].length),E[L+1][1]=E[L-1][1]+E[L+1][1],E.splice(L-1,1),I=!0):E[L][1].substring(0,E[L+1][1].length)==E[L+1][1]&&(E[L-1][1]+=E[L+1][1],E[L][1]=E[L][1].substring(E[L+1][1].length)+E[L+1][1],E.splice(L+1,1),I=!0)),L++;I&&b(E)}var T=f;T.INSERT=a,T.DELETE=o,T.EQUAL=u,t.exports=T;function _(E,L){if(L===0)return[u,E];for(var U=0,P=0;P<E.length;P++){var R=E[P];if(R[0]===o||R[0]===u){var M=U+R[1].length;if(L===M)return[P+1,E];if(L<M){E=E.slice();var x=L-U,I=[R[0],R[1].slice(0,x)],D=[R[0],R[1].slice(x)];return E.splice(P,1,I,D),[P+1,E]}else U=M}}throw new Error("cursor_pos is out of bounds!")}function w(E,L){var U=_(E,L),P=U[1],R=U[0],M=P[R],x=P[R+1];if(M==null)return E;if(M[0]!==u)return E;if(x!=null&&M[1]+x[1]===x[1]+M[1])return P.splice(R,2,x,M),k(P,R,2);if(x!=null&&x[1].indexOf(M[1])===0){P.splice(R,2,[x[0],M[1]],[0,M[1]]);var I=x[1].slice(M[1].length);return I.length>0&&P.splice(R+2,0,[x[0],I]),k(P,R,3)}else return E}function S(E){for(var L=!1,U=function(x){return x.charCodeAt(0)>=56320&&x.charCodeAt(0)<=57343},P=function(x){return x.charCodeAt(x.length-1)>=55296&&x.charCodeAt(x.length-1)<=56319},R=2;R<E.length;R+=1)E[R-2][0]===u&&P(E[R-2][1])&&E[R-1][0]===o&&U(E[R-1][1])&&E[R][0]===a&&U(E[R][1])&&(L=!0,E[R-1][1]=E[R-2][1].slice(-1)+E[R-1][1],E[R][1]=E[R-2][1].slice(-1)+E[R][1],E[R-2][1]=E[R-2][1].slice(0,-1));if(!L)return E;for(var M=[],R=0;R<E.length;R+=1)E[R][1].length>0&&M.push(E[R]);return M}function k(E,L,U){for(var P=L+U-1;P>=0&&P>=L-1;P--)if(P+1<E.length){var R=E[P],M=E[P+1];R[0]===M[1]&&E.splice(P,2,[R[0],R[1]+M[1]])}return E}},function(t,r){r=t.exports=typeof Object.keys=="function"?Object.keys:o,r.shim=o;function o(a){var u=[];for(var f in a)u.push(f);return u}},function(t,r){var o=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=t.exports=o?a:u,r.supported=a;function a(f){return Object.prototype.toString.call(f)=="[object Arguments]"}r.unsupported=u;function u(f){return f&&typeof f=="object"&&typeof f.length=="number"&&Object.prototype.hasOwnProperty.call(f,"callee")&&!Object.prototype.propertyIsEnumerable.call(f,"callee")||!1}},function(t,r){var o=Object.prototype.hasOwnProperty,a="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(a=!1));function f(m,v,y){this.fn=m,this.context=v,this.once=y||!1}function h(){this._events=new u,this._eventsCount=0}h.prototype.eventNames=function(){var v=[],y,d;if(this._eventsCount===0)return v;for(d in y=this._events)o.call(y,d)&&v.push(a?d.slice(1):d);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(y)):v},h.prototype.listeners=function(v,y){var d=a?a+v:v,g=this._events[d];if(y)return!!g;if(!g)return[];if(g.fn)return[g.fn];for(var b=0,T=g.length,_=new Array(T);b<T;b++)_[b]=g[b].fn;return _},h.prototype.emit=function(v,y,d,g,b,T){var _=a?a+v:v;if(!this._events[_])return!1;var w=this._events[_],S=arguments.length,k,E;if(w.fn){switch(w.once&&this.removeListener(v,w.fn,void 0,!0),S){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,y),!0;case 3:return w.fn.call(w.context,y,d),!0;case 4:return w.fn.call(w.context,y,d,g),!0;case 5:return w.fn.call(w.context,y,d,g,b),!0;case 6:return w.fn.call(w.context,y,d,g,b,T),!0}for(E=1,k=new Array(S-1);E<S;E++)k[E-1]=arguments[E];w.fn.apply(w.context,k)}else{var L=w.length,U;for(E=0;E<L;E++)switch(w[E].once&&this.removeListener(v,w[E].fn,void 0,!0),S){case 1:w[E].fn.call(w[E].context);break;case 2:w[E].fn.call(w[E].context,y);break;case 3:w[E].fn.call(w[E].context,y,d);break;case 4:w[E].fn.call(w[E].context,y,d,g);break;default:if(!k)for(U=1,k=new Array(S-1);U<S;U++)k[U-1]=arguments[U];w[E].fn.apply(w[E].context,k)}}return!0},h.prototype.on=function(v,y,d){var g=new f(y,d||this),b=a?a+v:v;return this._events[b]?this._events[b].fn?this._events[b]=[this._events[b],g]:this._events[b].push(g):(this._events[b]=g,this._eventsCount++),this},h.prototype.once=function(v,y,d){var g=new f(y,d||this,!0),b=a?a+v:v;return this._events[b]?this._events[b].fn?this._events[b]=[this._events[b],g]:this._events[b].push(g):(this._events[b]=g,this._eventsCount++),this},h.prototype.removeListener=function(v,y,d,g){var b=a?a+v:v;if(!this._events[b])return this;if(!y)return--this._eventsCount===0?this._events=new u:delete this._events[b],this;var T=this._events[b];if(T.fn)T.fn===y&&(!g||T.once)&&(!d||T.context===d)&&(--this._eventsCount===0?this._events=new u:delete this._events[b]);else{for(var _=0,w=[],S=T.length;_<S;_++)(T[_].fn!==y||g&&!T[_].once||d&&T[_].context!==d)&&w.push(T[_]);w.length?this._events[b]=w.length===1?w[0]:w:--this._eventsCount===0?this._events=new u:delete this._events[b]}return this},h.prototype.removeAllListeners=function(v){var y;return v?(y=a?a+v:v,this._events[y]&&(--this._eventsCount===0?this._events=new u:delete this._events[y])):(this._events=new u,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prototype.setMaxListeners=function(){return this},h.prefixed=a,h.EventEmitter=h,typeof t<"u"&&(t.exports=h)},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(he){return typeof he}:function(he){return he&&typeof Symbol=="function"&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he},u=function(){function he(me,be){var Ae=[],ye=!0,Be=!1,ze=void 0;try{for(var Ke=me[Symbol.iterator](),at;!(ye=(at=Ke.next()).done)&&(Ae.push(at.value),!(be&&Ae.length===be));ye=!0);}catch(ct){Be=!0,ze=ct}finally{try{!ye&&Ke.return&&Ke.return()}finally{if(Be)throw ze}}return Ae}return function(me,be){if(Array.isArray(me))return me;if(Symbol.iterator in Object(me))return he(me,be);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function he(me,be){for(var Ae=0;Ae<be.length;Ae++){var ye=be[Ae];ye.enumerable=ye.enumerable||!1,ye.configurable=!0,"value"in ye&&(ye.writable=!0),Object.defineProperty(me,ye.key,ye)}}return function(me,be,Ae){return be&&he(me.prototype,be),Ae&&he(me,Ae),me}}(),h=o(3),m=D(h),v=o(2),y=D(v),d=o(0),g=D(d),b=o(5),T=D(b),_=o(10),w=D(_),S=o(9),k=D(S),E=o(36),L=o(37),U=o(13),P=D(U),R=o(26),M=o(38),x=o(39),I=o(40);function D(he){return he&&he.__esModule?he:{default:he}}function N(he,me,be){return me in he?Object.defineProperty(he,me,{value:be,enumerable:!0,configurable:!0,writable:!0}):he[me]=be,he}function H(he,me){if(!(he instanceof me))throw new TypeError("Cannot call a class as a function")}function G(he,me){if(!he)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me&&(typeof me=="object"||typeof me=="function")?me:he}function X(he,me){if(typeof me!="function"&&me!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof me);he.prototype=Object.create(me&&me.prototype,{constructor:{value:he,enumerable:!1,writable:!0,configurable:!0}}),me&&(Object.setPrototypeOf?Object.setPrototypeOf(he,me):he.__proto__=me)}var te=(0,w.default)("quill:clipboard"),ie="__ql-matcher",Y=[[Node.TEXT_NODE,gt],[Node.TEXT_NODE,We],["br",Ie],[Node.ELEMENT_NODE,We],[Node.ELEMENT_NODE,pe],[Node.ELEMENT_NODE,Je],[Node.ELEMENT_NODE,se],[Node.ELEMENT_NODE,xt],["li",Ve],["b",oe.bind(oe,"bold")],["i",oe.bind(oe,"italic")],["style",De]],W=[E.AlignAttribute,M.DirectionAttribute].reduce(function(he,me){return he[me.keyName]=me,he},{}),j=[E.AlignStyle,L.BackgroundStyle,R.ColorStyle,M.DirectionStyle,x.FontStyle,I.SizeStyle].reduce(function(he,me){return he[me.keyName]=me,he},{}),q=function(he){X(me,he);function me(be,Ae){H(this,me);var ye=G(this,(me.__proto__||Object.getPrototypeOf(me)).call(this,be,Ae));return ye.quill.root.addEventListener("paste",ye.onPaste.bind(ye)),ye.container=ye.quill.addContainer("ql-clipboard"),ye.container.setAttribute("contenteditable",!0),ye.container.setAttribute("tabindex",-1),ye.matchers=[],Y.concat(ye.options.matchers).forEach(function(Be){var ze=u(Be,2),Ke=ze[0],at=ze[1];!Ae.matchVisual&&at===Je||ye.addMatcher(Ke,at)}),ye}return f(me,[{key:"addMatcher",value:function(Ae,ye){this.matchers.push([Ae,ye])}},{key:"convert",value:function(Ae){if(typeof Ae=="string")return this.container.innerHTML=Ae.replace(/\>\r?\n +\</g,"><"),this.convert();var ye=this.quill.getFormat(this.quill.selection.savedRange.index);if(ye[P.default.blotName]){var Be=this.container.innerText;return this.container.innerHTML="",new y.default().insert(Be,N({},P.default.blotName,ye[P.default.blotName]))}var ze=this.prepareMatching(),Ke=u(ze,2),at=Ke[0],ct=Ke[1],ot=J(this.container,at,ct);return ee(ot,`
`)&&ot.ops[ot.ops.length-1].attributes==null&&(ot=ot.compose(new y.default().retain(ot.length()-1).delete(1))),te.log("convert",this.container.innerHTML,ot),this.container.innerHTML="",ot}},{key:"dangerouslyPasteHTML",value:function(Ae,ye){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T.default.sources.API;if(typeof Ae=="string")this.quill.setContents(this.convert(Ae),ye),this.quill.setSelection(0,T.default.sources.SILENT);else{var ze=this.convert(ye);this.quill.updateContents(new y.default().retain(Ae).concat(ze),Be),this.quill.setSelection(Ae+ze.length(),T.default.sources.SILENT)}}},{key:"onPaste",value:function(Ae){var ye=this;if(!(Ae.defaultPrevented||!this.quill.isEnabled())){var Be=this.quill.getSelection(),ze=new y.default().retain(Be.index),Ke=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(T.default.sources.SILENT),setTimeout(function(){ze=ze.concat(ye.convert()).delete(Be.length),ye.quill.updateContents(ze,T.default.sources.USER),ye.quill.setSelection(ze.length()-Be.length,T.default.sources.SILENT),ye.quill.scrollingContainer.scrollTop=Ke,ye.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Ae=this,ye=[],Be=[];return this.matchers.forEach(function(ze){var Ke=u(ze,2),at=Ke[0],ct=Ke[1];switch(at){case Node.TEXT_NODE:Be.push(ct);break;case Node.ELEMENT_NODE:ye.push(ct);break;default:[].forEach.call(Ae.container.querySelectorAll(at),function(ot){ot[ie]=ot[ie]||[],ot[ie].push(ct)});break}}),[ye,Be]}}]),me}(k.default);q.DEFAULTS={matchers:[],matchVisual:!0};function K(he,me,be){return(typeof me>"u"?"undefined":a(me))==="object"?Object.keys(me).reduce(function(Ae,ye){return K(Ae,ye,me[ye])},he):he.reduce(function(Ae,ye){return ye.attributes&&ye.attributes[me]?Ae.push(ye):Ae.insert(ye.insert,(0,m.default)({},N({},me,be),ye.attributes))},new y.default)}function ne(he){if(he.nodeType!==Node.ELEMENT_NODE)return{};var me="__ql-computed-style";return he[me]||(he[me]=window.getComputedStyle(he))}function ee(he,me){for(var be="",Ae=he.ops.length-1;Ae>=0&&be.length<me.length;--Ae){var ye=he.ops[Ae];if(typeof ye.insert!="string")break;be=ye.insert+be}return be.slice(-1*me.length)===me}function $(he){if(he.childNodes.length===0)return!1;var me=ne(he);return["block","list-item"].indexOf(me.display)>-1}function J(he,me,be){return he.nodeType===he.TEXT_NODE?be.reduce(function(Ae,ye){return ye(he,Ae)},new y.default):he.nodeType===he.ELEMENT_NODE?[].reduce.call(he.childNodes||[],function(Ae,ye){var Be=J(ye,me,be);return ye.nodeType===he.ELEMENT_NODE&&(Be=me.reduce(function(ze,Ke){return Ke(ye,ze)},Be),Be=(ye[ie]||[]).reduce(function(ze,Ke){return Ke(ye,ze)},Be)),Ae.concat(Be)},new y.default):new y.default}function oe(he,me,be){return K(be,he,!0)}function se(he,me){var be=g.default.Attributor.Attribute.keys(he),Ae=g.default.Attributor.Class.keys(he),ye=g.default.Attributor.Style.keys(he),Be={};return be.concat(Ae).concat(ye).forEach(function(ze){var Ke=g.default.query(ze,g.default.Scope.ATTRIBUTE);Ke!=null&&(Be[Ke.attrName]=Ke.value(he),Be[Ke.attrName])||(Ke=W[ze],Ke!=null&&(Ke.attrName===ze||Ke.keyName===ze)&&(Be[Ke.attrName]=Ke.value(he)||void 0),Ke=j[ze],Ke!=null&&(Ke.attrName===ze||Ke.keyName===ze)&&(Ke=j[ze],Be[Ke.attrName]=Ke.value(he)||void 0))}),Object.keys(Be).length>0&&(me=K(me,Be)),me}function pe(he,me){var be=g.default.query(he);if(be==null)return me;if(be.prototype instanceof g.default.Embed){var Ae={},ye=be.value(he);ye!=null&&(Ae[be.blotName]=ye,me=new y.default().insert(Ae,be.formats(he)))}else typeof be.formats=="function"&&(me=K(me,be.blotName,be.formats(he)));return me}function Ie(he,me){return ee(me,`
`)||me.insert(`
`),me}function De(){return new y.default}function Ve(he,me){var be=g.default.query(he);if(be==null||be.blotName!=="list-item"||!ee(me,`
`))return me;for(var Ae=-1,ye=he.parentNode;!ye.classList.contains("ql-clipboard");)(g.default.query(ye)||{}).blotName==="list"&&(Ae+=1),ye=ye.parentNode;return Ae<=0?me:me.compose(new y.default().retain(me.length()-1).retain(1,{indent:Ae}))}function We(he,me){return ee(me,`
`)||($(he)||me.length()>0&&he.nextSibling&&$(he.nextSibling))&&me.insert(`
`),me}function Je(he,me){if($(he)&&he.nextElementSibling!=null&&!ee(me,`

`)){var be=he.offsetHeight+parseFloat(ne(he).marginTop)+parseFloat(ne(he).marginBottom);he.nextElementSibling.offsetTop>he.offsetTop+be*1.5&&me.insert(`
`)}return me}function xt(he,me){var be={},Ae=he.style||{};return Ae.fontStyle&&ne(he).fontStyle==="italic"&&(be.italic=!0),Ae.fontWeight&&(ne(he).fontWeight.startsWith("bold")||parseInt(ne(he).fontWeight)>=700)&&(be.bold=!0),Object.keys(be).length>0&&(me=K(me,be)),parseFloat(Ae.textIndent||0)>0&&(me=new y.default().insert("	").concat(me)),me}function gt(he,me){var be=he.data;if(he.parentNode.tagName==="O:P")return me.insert(be.trim());if(be.trim().length===0&&he.parentNode.classList.contains("ql-clipboard"))return me;if(!ne(he.parentNode).whiteSpace.startsWith("pre")){var Ae=function(Be,ze){return ze=ze.replace(/[^\u00a0]/g,""),ze.length<1&&Be?" ":ze};be=be.replace(/\r\n/g," ").replace(/\n/g," "),be=be.replace(/\s\s+/g,Ae.bind(Ae,!0)),(he.previousSibling==null&&$(he.parentNode)||he.previousSibling!=null&&$(he.previousSibling))&&(be=be.replace(/^\s+/,Ae.bind(Ae,!1))),(he.nextSibling==null&&$(he.parentNode)||he.nextSibling!=null&&$(he.nextSibling))&&(be=be.replace(/\s+$/,Ae.bind(Ae,!1)))}return me.insert(be)}r.default=q,r.matchAttributor=se,r.matchBlot=pe,r.matchNewline=We,r.matchSpacing=Je,r.matchText=gt},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function b(T,_){for(var w=0;w<_.length;w++){var S=_[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,_,w){return _&&b(T.prototype,_),w&&b(T,w),T}}(),u=function b(T,_,w){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,_);if(S===void 0){var k=Object.getPrototypeOf(T);return k===null?void 0:b(k,_,w)}else{if("value"in S)return S.value;var E=S.get;return E===void 0?void 0:E.call(w)}},f=o(6),h=m(f);function m(b){return b&&b.__esModule?b:{default:b}}function v(b,T){if(!(b instanceof T))throw new TypeError("Cannot call a class as a function")}function y(b,T){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:b}function d(b,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);b.prototype=Object.create(T&&T.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(b,T):b.__proto__=T)}var g=function(b){d(T,b);function T(){return v(this,T),y(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,[{key:"optimize",value:function(w){u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,w),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return u(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),T}(h.default);g.blotName="bold",g.tagName=["STRONG","B"],r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var a=function(){function I(D,N){var H=[],G=!0,X=!1,te=void 0;try{for(var ie=D[Symbol.iterator](),Y;!(G=(Y=ie.next()).done)&&(H.push(Y.value),!(N&&H.length===N));G=!0);}catch(W){X=!0,te=W}finally{try{!G&&ie.return&&ie.return()}finally{if(X)throw te}}return H}return function(D,N){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return I(D,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function I(D,N){for(var H=0;H<N.length;H++){var G=N[H];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(D,G.key,G)}}return function(D,N,H){return N&&I(D.prototype,N),H&&I(D,H),D}}(),f=o(2),h=w(f),m=o(0),v=w(m),y=o(5),d=w(y),g=o(10),b=w(g),T=o(9),_=w(T);function w(I){return I&&I.__esModule?I:{default:I}}function S(I,D,N){return D in I?Object.defineProperty(I,D,{value:N,enumerable:!0,configurable:!0,writable:!0}):I[D]=N,I}function k(I,D){if(!(I instanceof D))throw new TypeError("Cannot call a class as a function")}function E(I,D){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:I}function L(I,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);I.prototype=Object.create(D&&D.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(I,D):I.__proto__=D)}var U=(0,b.default)("quill:toolbar"),P=function(I){L(D,I);function D(N,H){k(this,D);var G=E(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,N,H));if(Array.isArray(G.options.container)){var X=document.createElement("div");M(X,G.options.container),N.container.parentNode.insertBefore(X,N.container),G.container=X}else typeof G.options.container=="string"?G.container=document.querySelector(G.options.container):G.container=G.options.container;if(!(G.container instanceof HTMLElement)){var te;return te=U.error("Container required for toolbar",G.options),E(G,te)}return G.container.classList.add("ql-toolbar"),G.controls=[],G.handlers={},Object.keys(G.options.handlers).forEach(function(ie){G.addHandler(ie,G.options.handlers[ie])}),[].forEach.call(G.container.querySelectorAll("button, select"),function(ie){G.attach(ie)}),G.quill.on(d.default.events.EDITOR_CHANGE,function(ie,Y){ie===d.default.events.SELECTION_CHANGE&&G.update(Y)}),G.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var ie=G.quill.selection.getRange(),Y=a(ie,1),W=Y[0];G.update(W)}),G}return u(D,[{key:"addHandler",value:function(H,G){this.handlers[H]=G}},{key:"attach",value:function(H){var G=this,X=[].find.call(H.classList,function(ie){return ie.indexOf("ql-")===0});if(X){if(X=X.slice(3),H.tagName==="BUTTON"&&H.setAttribute("type","button"),this.handlers[X]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[X]==null){U.warn("ignoring attaching to disabled format",X,H);return}if(v.default.query(X)==null){U.warn("ignoring attaching to nonexistent format",X,H);return}}var te=H.tagName==="SELECT"?"change":"click";H.addEventListener(te,function(ie){var Y=void 0;if(H.tagName==="SELECT"){if(H.selectedIndex<0)return;var W=H.options[H.selectedIndex];W.hasAttribute("selected")?Y=!1:Y=W.value||!1}else H.classList.contains("ql-active")?Y=!1:Y=H.value||!H.hasAttribute("value"),ie.preventDefault();G.quill.focus();var j=G.quill.selection.getRange(),q=a(j,1),K=q[0];if(G.handlers[X]!=null)G.handlers[X].call(G,Y);else if(v.default.query(X).prototype instanceof v.default.Embed){if(Y=prompt("Enter "+X),!Y)return;G.quill.updateContents(new h.default().retain(K.index).delete(K.length).insert(S({},X,Y)),d.default.sources.USER)}else G.quill.format(X,Y,d.default.sources.USER);G.update(K)}),this.controls.push([X,H])}}},{key:"update",value:function(H){var G=H==null?{}:this.quill.getFormat(H);this.controls.forEach(function(X){var te=a(X,2),ie=te[0],Y=te[1];if(Y.tagName==="SELECT"){var W=void 0;if(H==null)W=null;else if(G[ie]==null)W=Y.querySelector("option[selected]");else if(!Array.isArray(G[ie])){var j=G[ie];typeof j=="string"&&(j=j.replace(/\"/g,'\\"')),W=Y.querySelector('option[value="'+j+'"]')}W==null?(Y.value="",Y.selectedIndex=-1):W.selected=!0}else if(H==null)Y.classList.remove("ql-active");else if(Y.hasAttribute("value")){var q=G[ie]===Y.getAttribute("value")||G[ie]!=null&&G[ie].toString()===Y.getAttribute("value")||G[ie]==null&&!Y.getAttribute("value");Y.classList.toggle("ql-active",q)}else Y.classList.toggle("ql-active",G[ie]!=null)})}}]),D}(_.default);P.DEFAULTS={};function R(I,D,N){var H=document.createElement("button");H.setAttribute("type","button"),H.classList.add("ql-"+D),N!=null&&(H.value=N),I.appendChild(H)}function M(I,D){Array.isArray(D[0])||(D=[D]),D.forEach(function(N){var H=document.createElement("span");H.classList.add("ql-formats"),N.forEach(function(G){if(typeof G=="string")R(H,G);else{var X=Object.keys(G)[0],te=G[X];Array.isArray(te)?x(H,X,te):R(H,X,te)}}),I.appendChild(H)})}function x(I,D,N){var H=document.createElement("select");H.classList.add("ql-"+D),N.forEach(function(G){var X=document.createElement("option");G!==!1?X.setAttribute("value",G):X.setAttribute("selected","selected"),H.appendChild(X)}),I.appendChild(H)}P.DEFAULTS={container:null,handlers:{clean:function(){var D=this,N=this.quill.getSelection();if(N!=null)if(N.length==0){var H=this.quill.getFormat();Object.keys(H).forEach(function(G){v.default.query(G,v.default.Scope.INLINE)!=null&&D.quill.format(G,!1)})}else this.quill.removeFormat(N,d.default.sources.USER)},direction:function(D){var N=this.quill.getFormat().align;D==="rtl"&&N==null?this.quill.format("align","right",d.default.sources.USER):!D&&N==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",D,d.default.sources.USER)},indent:function(D){var N=this.quill.getSelection(),H=this.quill.getFormat(N),G=parseInt(H.indent||0);if(D==="+1"||D==="-1"){var X=D==="+1"?1:-1;H.direction==="rtl"&&(X*=-1),this.quill.format("indent",G+X,d.default.sources.USER)}},link:function(D){D===!0&&(D=prompt("Enter link URL:")),this.quill.format("link",D,d.default.sources.USER)},list:function(D){var N=this.quill.getSelection(),H=this.quill.getFormat(N);D==="check"?H.list==="checked"||H.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",D,d.default.sources.USER)}}},r.default=P,r.addControls=M},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function b(T,_){for(var w=0;w<_.length;w++){var S=_[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,_,w){return _&&b(T.prototype,_),w&&b(T,w),T}}(),u=function b(T,_,w){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,_);if(S===void 0){var k=Object.getPrototypeOf(T);return k===null?void 0:b(k,_,w)}else{if("value"in S)return S.value;var E=S.get;return E===void 0?void 0:E.call(w)}},f=o(28),h=m(f);function m(b){return b&&b.__esModule?b:{default:b}}function v(b,T){if(!(b instanceof T))throw new TypeError("Cannot call a class as a function")}function y(b,T){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:b}function d(b,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);b.prototype=Object.create(T&&T.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(b,T):b.__proto__=T)}var g=function(b){d(T,b);function T(_,w){v(this,T);var S=y(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,_));return S.label.innerHTML=w,S.container.classList.add("ql-color-picker"),[].slice.call(S.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(k){k.classList.add("ql-primary")}),S}return a(T,[{key:"buildItem",value:function(w){var S=u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"buildItem",this).call(this,w);return S.style.backgroundColor=w.getAttribute("value")||"",S}},{key:"selectItem",value:function(w,S){u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"selectItem",this).call(this,w,S);var k=this.label.querySelector(".ql-color-label"),E=w&&w.getAttribute("data-value")||"";k&&(k.tagName==="line"?k.style.stroke=E:k.style.fill=E)}}]),T}(h.default);r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function b(T,_){for(var w=0;w<_.length;w++){var S=_[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,_,w){return _&&b(T.prototype,_),w&&b(T,w),T}}(),u=function b(T,_,w){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,_);if(S===void 0){var k=Object.getPrototypeOf(T);return k===null?void 0:b(k,_,w)}else{if("value"in S)return S.value;var E=S.get;return E===void 0?void 0:E.call(w)}},f=o(28),h=m(f);function m(b){return b&&b.__esModule?b:{default:b}}function v(b,T){if(!(b instanceof T))throw new TypeError("Cannot call a class as a function")}function y(b,T){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:b}function d(b,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);b.prototype=Object.create(T&&T.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(b,T):b.__proto__=T)}var g=function(b){d(T,b);function T(_,w){v(this,T);var S=y(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,_));return S.container.classList.add("ql-icon-picker"),[].forEach.call(S.container.querySelectorAll(".ql-picker-item"),function(k){k.innerHTML=w[k.getAttribute("data-value")||""]}),S.defaultItem=S.container.querySelector(".ql-selected"),S.selectItem(S.defaultItem),S}return a(T,[{key:"selectItem",value:function(w,S){u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"selectItem",this).call(this,w,S),w=w||this.defaultItem,this.label.innerHTML=w.innerHTML}}]),T}(h.default);r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function h(m,v){for(var y=0;y<v.length;y++){var d=v[y];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(m,d.key,d)}}return function(m,v,y){return v&&h(m.prototype,v),y&&h(m,y),m}}();function u(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}var f=function(){function h(m,v){var y=this;u(this,h),this.quill=m,this.boundsContainer=v||document.body,this.root=m.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){y.root.style.marginTop=-1*y.quill.root.scrollTop+"px"}),this.hide()}return a(h,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(v){var y=v.left+v.width/2-this.root.offsetWidth/2,d=v.bottom+this.quill.root.scrollTop;this.root.style.left=y+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var g=this.boundsContainer.getBoundingClientRect(),b=this.root.getBoundingClientRect(),T=0;if(b.right>g.right&&(T=g.right-b.right,this.root.style.left=y+T+"px"),b.left<g.left&&(T=g.left-b.left,this.root.style.left=y+T+"px"),b.bottom>g.bottom){var _=b.bottom-b.top,w=v.bottom-v.top+_;this.root.style.top=d-w+"px",this.root.classList.add("ql-flip")}return T}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),h}();r.default=f},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function x(I,D){var N=[],H=!0,G=!1,X=void 0;try{for(var te=I[Symbol.iterator](),ie;!(H=(ie=te.next()).done)&&(N.push(ie.value),!(D&&N.length===D));H=!0);}catch(Y){G=!0,X=Y}finally{try{!H&&te.return&&te.return()}finally{if(G)throw X}}return N}return function(I,D){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return x(I,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function x(I,D,N){I===null&&(I=Function.prototype);var H=Object.getOwnPropertyDescriptor(I,D);if(H===void 0){var G=Object.getPrototypeOf(I);return G===null?void 0:x(G,D,N)}else{if("value"in H)return H.value;var X=H.get;return X===void 0?void 0:X.call(N)}},f=function(){function x(I,D){for(var N=0;N<D.length;N++){var H=D[N];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(I,H.key,H)}}return function(I,D,N){return D&&x(I.prototype,D),N&&x(I,N),I}}(),h=o(3),m=k(h),v=o(8),y=k(v),d=o(43),g=k(d),b=o(27),T=k(b),_=o(15),w=o(41),S=k(w);function k(x){return x&&x.__esModule?x:{default:x}}function E(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")}function L(x,I){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:x}function U(x,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(x,I):x.__proto__=I)}var P=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],R=function(x){U(I,x);function I(D,N){E(this,I),N.modules.toolbar!=null&&N.modules.toolbar.container==null&&(N.modules.toolbar.container=P);var H=L(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,D,N));return H.quill.container.classList.add("ql-snow"),H}return f(I,[{key:"extendToolbar",value:function(N){N.container.classList.add("ql-snow"),this.buildButtons([].slice.call(N.container.querySelectorAll("button")),S.default),this.buildPickers([].slice.call(N.container.querySelectorAll("select")),S.default),this.tooltip=new M(this.quill,this.options.bounds),N.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(H,G){N.handlers.link.call(N,!G.format.link)})}}]),I}(g.default);R.DEFAULTS=(0,m.default)(!0,{},g.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){if(I){var D=this.quill.getSelection();if(D==null||D.length==0)return;var N=this.quill.getText(D);/^\S+@\S+\.\S+$/.test(N)&&N.indexOf("mailto:")!==0&&(N="mailto:"+N);var H=this.quill.theme.tooltip;H.edit("link",N)}else this.quill.format("link",!1)}}}}});var M=function(x){U(I,x);function I(D,N){E(this,I);var H=L(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,D,N));return H.preview=H.root.querySelector("a.ql-preview"),H}return f(I,[{key:"listen",value:function(){var N=this;u(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(H){N.root.classList.contains("ql-editing")?N.save():N.edit("link",N.preview.textContent),H.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(H){if(N.linkRange!=null){var G=N.linkRange;N.restoreFocus(),N.quill.formatText(G,"link",!1,y.default.sources.USER),delete N.linkRange}H.preventDefault(),N.hide()}),this.quill.on(y.default.events.SELECTION_CHANGE,function(H,G,X){if(H!=null){if(H.length===0&&X===y.default.sources.USER){var te=N.quill.scroll.descendant(T.default,H.index),ie=a(te,2),Y=ie[0],W=ie[1];if(Y!=null){N.linkRange=new _.Range(H.index-W,Y.length());var j=T.default.formats(Y.domNode);N.preview.textContent=j,N.preview.setAttribute("href",j),N.show(),N.position(N.quill.getBounds(N.linkRange));return}}else delete N.linkRange;N.hide()}})}},{key:"show",value:function(){u(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),I}(d.BaseTooltip);M.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=R},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(29),u=ye(a),f=o(36),h=o(38),m=o(64),v=o(65),y=ye(v),d=o(66),g=ye(d),b=o(67),T=ye(b),_=o(37),w=o(26),S=o(39),k=o(40),E=o(56),L=ye(E),U=o(68),P=ye(U),R=o(27),M=ye(R),x=o(69),I=ye(x),D=o(70),N=ye(D),H=o(71),G=ye(H),X=o(72),te=ye(X),ie=o(73),Y=ye(ie),W=o(13),j=ye(W),q=o(74),K=ye(q),ne=o(75),ee=ye(ne),$=o(57),J=ye($),oe=o(41),se=ye(oe),pe=o(28),Ie=ye(pe),De=o(59),Ve=ye(De),We=o(60),Je=ye(We),xt=o(61),gt=ye(xt),he=o(108),me=ye(he),be=o(62),Ae=ye(be);function ye(Be){return Be&&Be.__esModule?Be:{default:Be}}u.default.register({"attributors/attribute/direction":h.DirectionAttribute,"attributors/class/align":f.AlignClass,"attributors/class/background":_.BackgroundClass,"attributors/class/color":w.ColorClass,"attributors/class/direction":h.DirectionClass,"attributors/class/font":S.FontClass,"attributors/class/size":k.SizeClass,"attributors/style/align":f.AlignStyle,"attributors/style/background":_.BackgroundStyle,"attributors/style/color":w.ColorStyle,"attributors/style/direction":h.DirectionStyle,"attributors/style/font":S.FontStyle,"attributors/style/size":k.SizeStyle},!0),u.default.register({"formats/align":f.AlignClass,"formats/direction":h.DirectionClass,"formats/indent":m.IndentClass,"formats/background":_.BackgroundStyle,"formats/color":w.ColorStyle,"formats/font":S.FontClass,"formats/size":k.SizeClass,"formats/blockquote":y.default,"formats/code-block":j.default,"formats/header":g.default,"formats/list":T.default,"formats/bold":L.default,"formats/code":W.Code,"formats/italic":P.default,"formats/link":M.default,"formats/script":I.default,"formats/strike":N.default,"formats/underline":G.default,"formats/image":te.default,"formats/video":Y.default,"formats/list/item":b.ListItem,"modules/formula":K.default,"modules/syntax":ee.default,"modules/toolbar":J.default,"themes/bubble":me.default,"themes/snow":Ae.default,"ui/icons":se.default,"ui/picker":Ie.default,"ui/icon-picker":Je.default,"ui/color-picker":Ve.default,"ui/tooltip":gt.default},!0),r.default=u.default},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var a=function(){function T(_,w){for(var S=0;S<w.length;S++){var k=w[S];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(_,k.key,k)}}return function(_,w,S){return w&&T(_.prototype,w),S&&T(_,S),_}}(),u=function T(_,w,S){_===null&&(_=Function.prototype);var k=Object.getOwnPropertyDescriptor(_,w);if(k===void 0){var E=Object.getPrototypeOf(_);return E===null?void 0:T(E,w,S)}else{if("value"in k)return k.value;var L=k.get;return L===void 0?void 0:L.call(S)}},f=o(0),h=m(f);function m(T){return T&&T.__esModule?T:{default:T}}function v(T,_){if(!(T instanceof _))throw new TypeError("Cannot call a class as a function")}function y(T,_){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:T}function d(T,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);T.prototype=Object.create(_&&_.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(T,_):T.__proto__=_)}var g=function(T){d(_,T);function _(){return v(this,_),y(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"add",value:function(S,k){if(k==="+1"||k==="-1"){var E=this.value(S)||0;k=k==="+1"?E+1:E-1}return k===0?(this.remove(S),!0):u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"add",this).call(this,S,k)}},{key:"canAdd",value:function(S,k){return u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,S,k)||u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,S,parseInt(k))}},{key:"value",value:function(S){return parseInt(u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,S))||void 0}}]),_}(h.default.Attributor.Class),b=new g("indent","ql-indent",{scope:h.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=b},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(4),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function m(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function v(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var y=function(d){v(g,d);function g(){return h(this,g),m(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(u.default);y.blotName="blockquote",y.tagName="blockquote",r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function g(b,T){for(var _=0;_<T.length;_++){var w=T[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,T,_){return T&&g(b.prototype,T),_&&g(b,_),b}}(),u=o(4),f=h(u);function h(g){return g&&g.__esModule?g:{default:g}}function m(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function v(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function y(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}var d=function(g){y(b,g);function b(){return m(this,b),v(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,null,[{key:"formats",value:function(_){return this.tagName.indexOf(_.tagName)+1}}]),b}(f.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],r.default=d},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var a=function(){function E(L,U){for(var P=0;P<U.length;P++){var R=U[P];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(L,R.key,R)}}return function(L,U,P){return U&&E(L.prototype,U),P&&E(L,P),L}}(),u=function E(L,U,P){L===null&&(L=Function.prototype);var R=Object.getOwnPropertyDescriptor(L,U);if(R===void 0){var M=Object.getPrototypeOf(L);return M===null?void 0:E(M,U,P)}else{if("value"in R)return R.value;var x=R.get;return x===void 0?void 0:x.call(P)}},f=o(0),h=g(f),m=o(4),v=g(m),y=o(25),d=g(y);function g(E){return E&&E.__esModule?E:{default:E}}function b(E,L,U){return L in E?Object.defineProperty(E,L,{value:U,enumerable:!0,configurable:!0,writable:!0}):E[L]=U,E}function T(E,L){if(!(E instanceof L))throw new TypeError("Cannot call a class as a function")}function _(E,L){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:E}function w(E,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);E.prototype=Object.create(L&&L.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(E,L):E.__proto__=L)}var S=function(E){w(L,E);function L(){return T(this,L),_(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return a(L,[{key:"format",value:function(P,R){P===k.blotName&&!R?this.replaceWith(h.default.create(this.statics.scope)):u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"format",this).call(this,P,R)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(P,R){return this.parent.isolate(this.offset(this.parent),this.length()),P===this.parent.statics.blotName?(this.parent.replaceWith(P,R),this):(this.parent.unwrap(),u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"replaceWith",this).call(this,P,R))}}],[{key:"formats",value:function(P){return P.tagName===this.tagName?void 0:u(L.__proto__||Object.getPrototypeOf(L),"formats",this).call(this,P)}}]),L}(v.default);S.blotName="list-item",S.tagName="LI";var k=function(E){w(L,E),a(L,null,[{key:"create",value:function(P){var R=P==="ordered"?"OL":"UL",M=u(L.__proto__||Object.getPrototypeOf(L),"create",this).call(this,R);return(P==="checked"||P==="unchecked")&&M.setAttribute("data-checked",P==="checked"),M}},{key:"formats",value:function(P){if(P.tagName==="OL")return"ordered";if(P.tagName==="UL")return P.hasAttribute("data-checked")?P.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function L(U){T(this,L);var P=_(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,U)),R=function(x){if(x.target.parentNode===U){var I=P.statics.formats(U),D=h.default.find(x.target);I==="checked"?D.format("list","unchecked"):I==="unchecked"&&D.format("list","checked")}};return U.addEventListener("touchstart",R),U.addEventListener("mousedown",R),P}return a(L,[{key:"format",value:function(P,R){this.children.length>0&&this.children.tail.format(P,R)}},{key:"formats",value:function(){return b({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(P,R){if(P instanceof S)u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertBefore",this).call(this,P,R);else{var M=R==null?this.length():R.offset(this),x=this.split(M);x.parent.insertBefore(P,x)}}},{key:"optimize",value:function(P){u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"optimize",this).call(this,P);var R=this.next;R!=null&&R.prev===this&&R.statics.blotName===this.statics.blotName&&R.domNode.tagName===this.domNode.tagName&&R.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(R.moveChildren(this),R.remove())}},{key:"replace",value:function(P){if(P.statics.blotName!==this.statics.blotName){var R=h.default.create(this.statics.defaultChild);P.moveChildren(R),this.appendChild(R)}u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"replace",this).call(this,P)}}]),L}(d.default);k.blotName="list",k.scope=h.default.Scope.BLOCK_BLOT,k.tagName=["OL","UL"],k.defaultChild="list-item",k.allowedChildren=[S],r.ListItem=S,r.default=k},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(56),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function m(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function v(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var y=function(d){v(g,d);function g(){return h(this,g),m(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(u.default);y.blotName="italic",y.tagName=["EM","I"],r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function b(T,_){for(var w=0;w<_.length;w++){var S=_[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,_,w){return _&&b(T.prototype,_),w&&b(T,w),T}}(),u=function b(T,_,w){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,_);if(S===void 0){var k=Object.getPrototypeOf(T);return k===null?void 0:b(k,_,w)}else{if("value"in S)return S.value;var E=S.get;return E===void 0?void 0:E.call(w)}},f=o(6),h=m(f);function m(b){return b&&b.__esModule?b:{default:b}}function v(b,T){if(!(b instanceof T))throw new TypeError("Cannot call a class as a function")}function y(b,T){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:b}function d(b,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);b.prototype=Object.create(T&&T.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(b,T):b.__proto__=T)}var g=function(b){d(T,b);function T(){return v(this,T),y(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,null,[{key:"create",value:function(w){return w==="super"?document.createElement("sup"):w==="sub"?document.createElement("sub"):u(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this,w)}},{key:"formats",value:function(w){if(w.tagName==="SUB")return"sub";if(w.tagName==="SUP")return"super"}}]),T}(h.default);g.blotName="script",g.tagName=["SUB","SUP"],r.default=g},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(6),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function m(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function v(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var y=function(d){v(g,d);function g(){return h(this,g),m(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(u.default);y.blotName="strike",y.tagName="S",r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(6),u=f(a);function f(d){return d&&d.__esModule?d:{default:d}}function h(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function m(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function v(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var y=function(d){v(g,d);function g(){return h(this,g),m(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(u.default);y.blotName="underline",y.tagName="U",r.default=y},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function _(w,S){for(var k=0;k<S.length;k++){var E=S[k];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,S,k){return S&&_(w.prototype,S),k&&_(w,k),w}}(),u=function _(w,S,k){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,S);if(E===void 0){var L=Object.getPrototypeOf(w);return L===null?void 0:_(L,S,k)}else{if("value"in E)return E.value;var U=E.get;return U===void 0?void 0:U.call(k)}},f=o(0),h=v(f),m=o(27);function v(_){return _&&_.__esModule?_:{default:_}}function y(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function d(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function g(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var b=["alt","height","width"],T=function(_){g(w,_);function w(){return y(this,w),d(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"format",value:function(k,E){b.indexOf(k)>-1?E?this.domNode.setAttribute(k,E):this.domNode.removeAttribute(k):u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,k,E)}}],[{key:"create",value:function(k){var E=u(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,k);return typeof k=="string"&&E.setAttribute("src",this.sanitize(k)),E}},{key:"formats",value:function(k){return b.reduce(function(E,L){return k.hasAttribute(L)&&(E[L]=k.getAttribute(L)),E},{})}},{key:"match",value:function(k){return/\.(jpe?g|gif|png)$/.test(k)||/^data:image\/.+;base64/.test(k)}},{key:"sanitize",value:function(k){return(0,m.sanitize)(k,["http","https","data"])?k:"//:0"}},{key:"value",value:function(k){return k.getAttribute("src")}}]),w}(h.default.Embed);T.blotName="image",T.tagName="IMG",r.default=T},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function _(w,S){for(var k=0;k<S.length;k++){var E=S[k];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,S,k){return S&&_(w.prototype,S),k&&_(w,k),w}}(),u=function _(w,S,k){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,S);if(E===void 0){var L=Object.getPrototypeOf(w);return L===null?void 0:_(L,S,k)}else{if("value"in E)return E.value;var U=E.get;return U===void 0?void 0:U.call(k)}},f=o(4),h=o(27),m=v(h);function v(_){return _&&_.__esModule?_:{default:_}}function y(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function d(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function g(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var b=["height","width"],T=function(_){g(w,_);function w(){return y(this,w),d(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"format",value:function(k,E){b.indexOf(k)>-1?E?this.domNode.setAttribute(k,E):this.domNode.removeAttribute(k):u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,k,E)}}],[{key:"create",value:function(k){var E=u(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,k);return E.setAttribute("frameborder","0"),E.setAttribute("allowfullscreen",!0),E.setAttribute("src",this.sanitize(k)),E}},{key:"formats",value:function(k){return b.reduce(function(E,L){return k.hasAttribute(L)&&(E[L]=k.getAttribute(L)),E},{})}},{key:"sanitize",value:function(k){return m.default.sanitize(k)}},{key:"value",value:function(k){return k.getAttribute("src")}}]),w}(f.BlockEmbed);T.blotName="video",T.className="ql-video",T.tagName="IFRAME",r.default=T},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var a=function(){function k(E,L){for(var U=0;U<L.length;U++){var P=L[U];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(E,P.key,P)}}return function(E,L,U){return L&&k(E.prototype,L),U&&k(E,U),E}}(),u=function k(E,L,U){E===null&&(E=Function.prototype);var P=Object.getOwnPropertyDescriptor(E,L);if(P===void 0){var R=Object.getPrototypeOf(E);return R===null?void 0:k(R,L,U)}else{if("value"in P)return P.value;var M=P.get;return M===void 0?void 0:M.call(U)}},f=o(35),h=g(f),m=o(5),v=g(m),y=o(9),d=g(y);function g(k){return k&&k.__esModule?k:{default:k}}function b(k,E){if(!(k instanceof E))throw new TypeError("Cannot call a class as a function")}function T(k,E){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:k}function _(k,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);k.prototype=Object.create(E&&E.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(k,E):k.__proto__=E)}var w=function(k){_(E,k);function E(){return b(this,E),T(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,null,[{key:"create",value:function(U){var P=u(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,U);return typeof U=="string"&&(window.katex.render(U,P,{throwOnError:!1,errorColor:"#f00"}),P.setAttribute("data-value",U)),P}},{key:"value",value:function(U){return U.getAttribute("data-value")}}]),E}(h.default);w.blotName="formula",w.className="ql-formula",w.tagName="SPAN";var S=function(k){_(E,k),a(E,null,[{key:"register",value:function(){v.default.register(w,!0)}}]);function E(){b(this,E);var L=T(this,(E.__proto__||Object.getPrototypeOf(E)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return L}return E}(d.default);r.FormulaBlot=w,r.default=S},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var a=function(){function U(P,R){for(var M=0;M<R.length;M++){var x=R[M];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(P,x.key,x)}}return function(P,R,M){return R&&U(P.prototype,R),M&&U(P,M),P}}(),u=function U(P,R,M){P===null&&(P=Function.prototype);var x=Object.getOwnPropertyDescriptor(P,R);if(x===void 0){var I=Object.getPrototypeOf(P);return I===null?void 0:U(I,R,M)}else{if("value"in x)return x.value;var D=x.get;return D===void 0?void 0:D.call(M)}},f=o(0),h=T(f),m=o(5),v=T(m),y=o(9),d=T(y),g=o(13),b=T(g);function T(U){return U&&U.__esModule?U:{default:U}}function _(U,P){if(!(U instanceof P))throw new TypeError("Cannot call a class as a function")}function w(U,P){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:U}function S(U,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);U.prototype=Object.create(P&&P.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(U,P):U.__proto__=P)}var k=function(U){S(P,U);function P(){return _(this,P),w(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return a(P,[{key:"replaceWith",value:function(M){this.domNode.textContent=this.domNode.textContent,this.attach(),u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replaceWith",this).call(this,M)}},{key:"highlight",value:function(M){var x=this.domNode.textContent;this.cachedText!==x&&((x.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=M(x),this.domNode.normalize(),this.attach()),this.cachedText=x)}}]),P}(b.default);k.className="ql-syntax";var E=new h.default.Attributor.Class("token","hljs",{scope:h.default.Scope.INLINE}),L=function(U){S(P,U),a(P,null,[{key:"register",value:function(){v.default.register(E,!0),v.default.register(k,!0)}}]);function P(R,M){_(this,P);var x=w(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,R,M));if(typeof x.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var I=null;return x.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(I),I=setTimeout(function(){x.highlight(),I=null},x.options.interval)}),x.highlight(),x}return a(P,[{key:"highlight",value:function(){var M=this;if(!this.quill.selection.composing){this.quill.update(v.default.sources.USER);var x=this.quill.getSelection();this.quill.scroll.descendants(k).forEach(function(I){I.highlight(M.options.highlight)}),this.quill.update(v.default.sources.SILENT),x!=null&&this.quill.setSelection(x,v.default.sources.SILENT)}}}]),P}(d.default);L.DEFAULTS={highlight:function(){return window.hljs==null?null:function(U){var P=window.hljs.highlightAuto(U);return P.value}}(),interval:1e3},r.CodeBlock=k,r.CodeToken=E,r.default=L},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,r){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,r){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,r){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,r){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var a=function P(R,M,x){R===null&&(R=Function.prototype);var I=Object.getOwnPropertyDescriptor(R,M);if(I===void 0){var D=Object.getPrototypeOf(R);return D===null?void 0:P(D,M,x)}else{if("value"in I)return I.value;var N=I.get;return N===void 0?void 0:N.call(x)}},u=function(){function P(R,M){for(var x=0;x<M.length;x++){var I=M[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(R,I.key,I)}}return function(R,M,x){return M&&P(R.prototype,M),x&&P(R,x),R}}(),f=o(3),h=_(f),m=o(8),v=_(m),y=o(43),d=_(y),g=o(15),b=o(41),T=_(b);function _(P){return P&&P.__esModule?P:{default:P}}function w(P,R){if(!(P instanceof R))throw new TypeError("Cannot call a class as a function")}function S(P,R){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:P}function k(P,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);P.prototype=Object.create(R&&R.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(P,R):P.__proto__=R)}var E=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],L=function(P){k(R,P);function R(M,x){w(this,R),x.modules.toolbar!=null&&x.modules.toolbar.container==null&&(x.modules.toolbar.container=E);var I=S(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,M,x));return I.quill.container.classList.add("ql-bubble"),I}return u(R,[{key:"extendToolbar",value:function(x){this.tooltip=new U(this.quill,this.options.bounds),this.tooltip.root.appendChild(x.container),this.buildButtons([].slice.call(x.container.querySelectorAll("button")),T.default),this.buildPickers([].slice.call(x.container.querySelectorAll("select")),T.default)}}]),R}(d.default);L.DEFAULTS=(0,h.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(R){R?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var U=function(P){k(R,P);function R(M,x){w(this,R);var I=S(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,M,x));return I.quill.on(v.default.events.EDITOR_CHANGE,function(D,N,H,G){if(D===v.default.events.SELECTION_CHANGE)if(N!=null&&N.length>0&&G===v.default.sources.USER){I.show(),I.root.style.left="0px",I.root.style.width="",I.root.style.width=I.root.offsetWidth+"px";var X=I.quill.getLines(N.index,N.length);if(X.length===1)I.position(I.quill.getBounds(N));else{var te=X[X.length-1],ie=I.quill.getIndex(te),Y=Math.min(te.length()-1,N.index+N.length-ie),W=I.quill.getBounds(new g.Range(ie,Y));I.position(W)}}else document.activeElement!==I.textbox&&I.quill.hasFocus()&&I.hide()}),I}return u(R,[{key:"listen",value:function(){var x=this;a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){x.root.classList.remove("ql-editing")}),this.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!x.root.classList.contains("ql-hidden")){var I=x.quill.getSelection();I!=null&&x.position(x.quill.getBounds(I))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(x){var I=a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"position",this).call(this,x),D=this.root.querySelector(".ql-tooltip-arrow");if(D.style.marginLeft="",I===0)return I;D.style.marginLeft=-1*I-D.offsetWidth/2+"px"}}]),R}(y.BaseTooltip);U.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=U,r.default=L},function(t,r,o){t.exports=o(63)}]).default})}(kc)),kc.exports}var ur,Rw;function WL(){if(Rw)return ur;Rw=1;var n=ur&&ur.__extends||function(){var v=function(y,d){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,b){g.__proto__=b}||function(g,b){for(var T in b)b.hasOwnProperty(T)&&(g[T]=b[T])},v(y,d)};return function(y,d){v(y,d);function g(){this.constructor=y}y.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}(),e=ur&&ur.__assign||function(){return e=Object.assign||function(v){for(var y,d=1,g=arguments.length;d<g;d++){y=arguments[d];for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(v[b]=y[b])}return v},e.apply(this,arguments)},t=ur&&ur.__spreadArrays||function(){for(var v=0,y=0,d=arguments.length;y<d;y++)v+=arguments[y].length;for(var g=Array(v),b=0,y=0;y<d;y++)for(var T=arguments[y],_=0,w=T.length;_<w;_++,b++)g[b]=T[_];return g},r=ur&&ur.__importDefault||function(v){return v&&v.__esModule?v:{default:v}},o=r(Xc()),a=r(xw()),u=r(zL()),f=r(HL()),h=function(v){n(y,v);function y(d){var g=v.call(this,d)||this;g.dirtyProps=["modules","formats","bounds","theme","children"],g.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],g.state={generation:0},g.selection=null,g.onEditorChange=function(T,_,w,S){var k,E,L,U;T==="text-change"?(E=(k=g).onEditorChangeText)===null||E===void 0||E.call(k,g.editor.root.innerHTML,_,S,g.unprivilegedEditor):T==="selection-change"&&((U=(L=g).onEditorChangeSelection)===null||U===void 0||U.call(L,_,S,g.unprivilegedEditor))};var b=g.isControlled()?d.value:d.defaultValue;return g.value=b??"",g}return y.prototype.validateProps=function(d){var g;if(o.default.Children.count(d.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(o.default.Children.count(d.children)){var b=o.default.Children.only(d.children);if(((g=b)===null||g===void 0?void 0:g.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&d.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},y.prototype.shouldComponentUpdate=function(d,g){var b=this,T;if(this.validateProps(d),!this.editor||this.state.generation!==g.generation)return!0;if("value"in d){var _=this.getEditorContents(),w=(T=d.value,T??"");this.isEqualValue(w,_)||this.setEditorContents(this.editor,w)}return d.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,d.readOnly),t(this.cleanProps,this.dirtyProps).some(function(S){return!u.default(d[S],b.props[S])})},y.prototype.shouldComponentRegenerate=function(d){var g=this;return this.dirtyProps.some(function(b){return!u.default(d[b],g.props[b])})},y.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},y.prototype.componentWillUnmount=function(){this.destroyEditor()},y.prototype.componentDidUpdate=function(d,g){var b=this;if(this.editor&&this.shouldComponentRegenerate(d)){var T=this.editor.getContents(),_=this.editor.getSelection();this.regenerationSnapshot={delta:T,selection:_},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==g.generation){var w=this.regenerationSnapshot,T=w.delta,S=w.selection;delete this.regenerationSnapshot,this.instantiateEditor();var k=this.editor;k.setContents(T),m(function(){return b.setEditorSelection(k,S)})}},y.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},y.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},y.prototype.isControlled=function(){return"value"in this.props},y.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},y.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},y.prototype.createEditor=function(d,g){var b=new f.default(d,g);return g.tabIndex!=null&&this.setEditorTabIndex(b,g.tabIndex),this.hookEditor(b),b},y.prototype.hookEditor=function(d){this.unprivilegedEditor=this.makeUnprivilegedEditor(d),d.on("editor-change",this.onEditorChange)},y.prototype.unhookEditor=function(d){d.off("editor-change",this.onEditorChange)},y.prototype.getEditorContents=function(){return this.value},y.prototype.getEditorSelection=function(){return this.selection},y.prototype.isDelta=function(d){return d&&d.ops},y.prototype.isEqualValue=function(d,g){return this.isDelta(d)&&this.isDelta(g)?u.default(d.ops,g.ops):u.default(d,g)},y.prototype.setEditorContents=function(d,g){var b=this;this.value=g;var T=this.getEditorSelection();typeof g=="string"?d.setContents(d.clipboard.convert(g)):d.setContents(g),m(function(){return b.setEditorSelection(d,T)})},y.prototype.setEditorSelection=function(d,g){if(this.selection=g,g){var b=d.getLength();g.index=Math.max(0,Math.min(g.index,b-1)),g.length=Math.max(0,Math.min(g.length,b-1-g.index)),d.setSelection(g)}},y.prototype.setEditorTabIndex=function(d,g){var b,T;!((T=(b=d)===null||b===void 0?void 0:b.scroll)===null||T===void 0)&&T.domNode&&(d.scroll.domNode.tabIndex=g)},y.prototype.setEditorReadOnly=function(d,g){g?d.disable():d.enable()},y.prototype.makeUnprivilegedEditor=function(d){var g=d;return{getHTML:function(){return g.root.innerHTML},getLength:g.getLength.bind(g),getText:g.getText.bind(g),getContents:g.getContents.bind(g),getSelection:g.getSelection.bind(g),getBounds:g.getBounds.bind(g)}},y.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var d=a.default.findDOMNode(this.editingArea);if(!d)throw new Error("Cannot find element for editing area");if(d.nodeType===3)throw new Error("Editing area cannot be a text node");return d},y.prototype.renderEditingArea=function(){var d=this,g=this.props,b=g.children,T=g.preserveWhitespace,_=this.state.generation,w={key:_,ref:function(S){d.editingArea=S}};return o.default.Children.count(b)?o.default.cloneElement(o.default.Children.only(b),w):T?o.default.createElement("pre",e({},w)):o.default.createElement("div",e({},w))},y.prototype.render=function(){var d;return o.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(d=this.props.className,d??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},y.prototype.onEditorChangeText=function(d,g,b,T){var _,w;if(this.editor){var S=this.isDelta(this.value)?T.getContents():T.getHTML();S!==this.getEditorContents()&&(this.lastDeltaChangeSet=g,this.value=S,(w=(_=this.props).onChange)===null||w===void 0||w.call(_,d,g,b,T))}},y.prototype.onEditorChangeSelection=function(d,g,b){var T,_,w,S,k,E;if(this.editor){var L=this.getEditorSelection(),U=!L&&d,P=L&&!d;u.default(d,L)||(this.selection=d,(_=(T=this.props).onChangeSelection)===null||_===void 0||_.call(T,d,g,b),U?(S=(w=this.props).onFocus)===null||S===void 0||S.call(w,d,g,b):P&&((E=(k=this.props).onBlur)===null||E===void 0||E.call(k,L,g,b)))}},y.prototype.focus=function(){this.editor&&this.editor.focus()},y.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},y.displayName="React Quill",y.Quill=f.default,y.defaultProps={theme:"snow",modules:{},readOnly:!1},y}(o.default.Component);function m(v){Promise.resolve().then(v)}return ur=h,ur}var KL=WL();const kw=Lm(KL),mc=350,Cw=()=>{const[n,e]=de.useState(!1),[t,r]=Ge.useState(!1),[o,a]=Ge.useState(0),[u,f]=Ge.useState(0),{cpf:h,login:m}=de.useContext(fi),[v,y]=Ge.useState(""),[d,g]=Ge.useState(!1),[b,T]=Ge.useState(0),[_,w]=Ge.useState(""),S=Pl(),{id:k}=Bw(),[E,L]=de.useState({title:"",price:"",cpu:"",processorBrand:"",graphicsCardBrand:"",motherBoard:"",cpuText:"",storage:"",tower:"",adApproved:!1,font:"",memory:"",graphicsCard:"",cooling:"",amoutCables:"",ages:"",link:"",motherBoardText:"",customerCpf:"",images:[]});de.useEffect(()=>{(async()=>{if(k){const X=await Bb("products",k);X&&typeof X=="object"&&Object.keys(X).length>0&&L({title:X.title,price:X.price,cpu:X.cpu,motherBoard:X.motherBoard,adApproved:X.adApproved,customerCpf:X.customerCpf,processorBrand:X.processorBrand,graphicsCardBrand:X.graphicsCardBrand,cpuText:X.cpuText,storage:X.storage,tower:X.tower,font:X.font,memory:X.memory,graphicsCard:X.graphicsCard,cooling:X.cooling,amoutCables:X.amoutCables,ages:X.ages,link:X.link,motherBoardText:X.motherBoardText,images:X.images})}})()},[]),Ge.useEffect(()=>{console.log("FormData atualizado   ",E)},[E]);const U=G=>{let{id:X,value:te}=G.target;X==="price"&&(te=te.replace(/\D/g,""),te=(parseFloat(te)/100).toFixed(2),te=`R$ ${te.replace(".",",")}`),X!=="title"&&X!=="ages"&&X!=="motherBoardText"&&X!=="cpuText"&&X!=="link"&&X!=="processorBrand"&&X!=="graphicsCardBrand"&&(te=te.toUpperCase()),L(ie=>({...ie,[X]:te}))},P=async G=>{const X=G.target.files[0];if(X)try{await nD(X,T,w,L)}catch(te){console.error("Erro no upload:",te)}},R=(G,X)=>{G.replace(/<[^>]*>/g,"").length<=mc&&y(G),L(ie=>({...ie,[X]:G}))},M=G=>{const X=v.replace(/<[^>]*>/g,"");G==="cpuText"?a(X.length):G==="motherBoardText"&&f(X.length),X.length,X.length>=mc&&event.key!=="Backspace"&&event.preventDefault()},x=()=>{if(n===!1){e(!0);return}e(!1),I()},I=G=>{(!G||typeof G.preventDefault!="function")&&(G={preventDefault:()=>{}}),G.preventDefault(),E.price=E.price.replace("R$ ","").replace(",00","");const X=JSON.parse(localStorage.getItem("products"))||[];if(k){E.customerCpf=D(E.customerCpf),X[k]=E,Z2("products",k,E),S("/");return}E.customerCpf=D(h),X.push(E),qb("products",E),L({id:"",title:"",price:"",cpu:"",motherBoard:"",storage:"",tower:"",cpuText:"",processorBrand:"",graphicsCardBrand:"",motherBoardText:"",font:"",graphicsCard:"",customerCpf:"",memory:"",cooling:"",amoutCables:"",ages:"",link:"",images:[]}),r(!0)},D=G=>G.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),N=G=>{L(X=>({...X,images:X.images.filter((te,ie)=>ie!==G)}))},H=G=>{if(k){if(G){eD("products",k),g(!1),S("/");return}g(!0)}};return z.jsxs("div",{className:Ze.productFormContainer,children:[t&&z.jsx(ta,{message:"Seu produto foi criado com sucesso. Ele será avaliado e em breve estará disponível para venda.",setClose:r,adress:"/"}),d&&z.jsx(Nm,{defaultMessage:"Você está prestes a excluir esse card. Tem certeza que quer continuar",setCloseMessage:g,goOn:()=>H(!0)}),n&&z.jsx(Nm,{defaultMessage:"Tem certeza que quer enviar os dados?",setCloseMessage:e,goOn:()=>x()}),z.jsx("h2",{children:"Formulário para máquinas Dragon"}),z.jsxs("form",{className:Ze.formContainer,children:[z.jsxs("div",{className:Ze.formRow,children:[z.jsxs("div",{className:Ze.formGroup,children:[z.jsx("label",{htmlFor:"title",children:"Título/Aplicação:"}),z.jsxs("select",{id:"title",value:E.title,onChange:U,required:!0,children:[z.jsx("option",{value:"",children:"Selecione sua opção"}),z.jsx("option",{value:"Gamer",children:"Gamer"}),z.jsx("option",{value:"Office",children:"Escritório"}),z.jsx("option",{value:"Render",children:"Render"}),z.jsx("option",{value:"Doméstico",children:"Doméstico"}),z.jsx("option",{value:"Edição de Video",children:"Edição de Video"})]})]}),z.jsxs("div",{className:Ze.formGroup,children:[z.jsx("label",{htmlFor:"price",children:"Preço:"}),z.jsx("input",{type:"text",required:!0,id:"price",value:E.price,onChange:U})]})]}),z.jsxs("div",{className:Ze.formRow,children:[z.jsxs("div",{className:Ze.formGroup,children:[z.jsx("label",{htmlFor:"processador",title:"modelo",children:"Processador:"}),z.jsx("input",{title:"modelo",type:"text",required:!0,id:"cpu",value:E.cpu,onChange:U})]}),z.jsxs("div",{className:Ze.formGroup,children:[z.jsx("label",{htmlFor:"processorBrand",children:"Marca do Processador:"}),z.jsxs("select",{id:"processorBrand",required:!0,value:E.processorBrand,onChange:U,children:[z.jsx("option",{value:"",children:"Selecione sua opção"}),z.jsx("option",{value:"AMD",children:"AMD"}),z.jsx("option",{value:"Intel",children:"Intel"})]})]})]}),z.jsxs("div",{className:Ze.formRow,children:[z.jsxs("div",{className:Ze.formGroup,children:[z.jsx("label",{htmlFor:"graphicsCard",title:"modelo e memoria",children:"Placa de Video:"}),z.jsx("input",{title:"modelo e memoria",type:"text",id:"graphicsCard",value:E.graphicsCard,onChange:U})]}),z.jsxs("div",{className:Ze.formGroup,children:[z.jsx("label",{htmlFor:"graphicsCardBrand",children:"Marca da Placa de vídeo:"}),z.jsxs("select",{id:"graphicsCardBrand",value:E.graphicsCardBrand,required:!0,onChange:U,children:[z.jsx("option",{value:"",children:"Selecione sua opção"}),z.jsx("option",{value:"AMD",children:"AMD"}),z.jsx("option",{value:"Arc",children:"Arc"}),z.jsx("option",{value:"NVIDEA",children:"Nvidea"})]})]})]}),z.jsxs("div",{className:Ze.formRow,children:[z.jsxs("div",{className:Ze.formGroup,children:[z.jsx("label",{htmlFor:"processador",title:"quantidade, frequencia e marca",children:"Memória:"}),z.jsx("input",{title:"quantidade, frequencia e marca",type:"text",required:!0,id:"memory",value:E.memory,onChange:U})]}),z.jsxs("div",{className:Ze.formGroup,children:[z.jsx("label",{htmlFor:"motherBoard",title:"modelo e marca",children:"Refrigeração:"}),z.jsx("input",{title:"modelo e marca",type:"text",required:!0,id:"cooling",value:E.cooling,onChange:U})]})]}),z.jsxs("div",{className:Ze.formRow,children:[z.jsxs("div",{className:Ze.formGroup,children:[z.jsx("label",{htmlFor:"motherBoard",title:"Marca e modelo",children:"Placa de mãe:"}),z.jsx("input",{title:"Marca e modelo",type:"text",required:!0,id:"motherBoard",value:E.motherBoard,onChange:U})]}),z.jsxs("div",{className:Ze.formGroup,children:[z.jsx("label",{htmlFor:"font",title:"Watt´s, marca e certificação",children:"Fonte:"}),z.jsx("input",{title:"Watt´s, marca e certificação",type:"text",id:"font",value:E.font,onChange:U})]})]}),z.jsxs("div",{className:Ze.formRow,children:[z.jsxs("div",{className:Ze.formGroup,children:[z.jsxs("label",{htmlFor:"quantidadeDeCabos",title:"modelos",children:[" ","Cabos:"]}),z.jsx("input",{title:"modelos",type:"text",id:"amoutCables",value:E.amoutCables,onChange:U})]}),z.jsxs("div",{className:Ze.formGroup,children:[z.jsx("label",{htmlFor:"font",title:"modelo e marca.",children:"Gabinete:"}),z.jsx("input",{title:"modelo e marca.",type:"text",id:"tower",value:E.tower,onChange:U})]})]}),z.jsxs("div",{className:Ze.formRow,children:[z.jsxs("div",{className:Ze.formGroup,children:[z.jsx("label",{htmlFor:"quantidadeDeCabos",children:"Data da Compra"}),z.jsx("input",{type:"date",id:"ages",value:E.ages,onChange:U})]}),z.jsxs("div",{className:Ze.formGroup,children:[z.jsx("label",{htmlFor:"images",children:"Imagens:"}),z.jsx("input",{type:"file",onChange:P}),z.jsx("progress",{value:b,max:"100"}),_&&z.jsx("img",{className:Ze.imagePreview,src:_,alt:"Uploaded file"})]})]}),z.jsx("div",{className:Ze.containerImages,children:E&&E.images&&E.images.length>0&&E.images.map((G,X)=>z.jsx("div",{className:Ze.imageItem,children:z.jsx("button",{style:{backgroundImage:`url(${G})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"50px",height:"40px",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},type:"button",onClick:()=>N(X),children:z.jsx("span",{style:{position:"absolute",top:"5px",right:"5px",backgroundColor:"rgba(0,0,0,0.5)",color:"white",borderRadius:"50%",padding:"2px 5px",fontSize:"12px"},children:"X"})})},X))}),z.jsxs("div",{className:Ze.formTextareaColumn,children:[z.jsxs("div",{className:Ze.textareaColumn,children:[z.jsx("label",{htmlFor:"motherBoardText",children:"ESPECIFICAÇÕES PLACA MÃE:"}),z.jsx(kw,{id:"motherBoardText",className:Ze.textField,value:E.motherBoardText,onChange:G=>R(G,"motherBoardText"),onKeyDown:()=>M("motherBoardText")}),z.jsxs("div",{className:Ze.characterCounter,children:[u,"/",mc," caracteres"]})]}),z.jsxs("div",{className:Ze.textareaColumn,children:[z.jsx("label",{htmlFor:"cpuText",title:"modelo, htz, cache e marca",children:"ESPECIFICAÇÕES DO PROCESSADOR:"}),z.jsx(kw,{id:"cpuText",title:"modelo, htz, cache e marca",className:Ze.textField,value:E.cpuText,onChange:G=>R(G,"cpuText"),onKeyDown:()=>M("cpuText")}),z.jsxs("div",{className:Ze.characterCounter,children:[o,"/",mc," caracteres"]})]})]}),z.jsxs("div",{className:Ze.btnContainer,children:[z.jsx("button",{type:"button",onClick:x,children:"Salvar"}),z.jsx("button",{type:"button",onClick:()=>H(!1),children:"Excluir"})]}),z.jsx("div",{className:Ze.formRow,children:m&&z.jsxs("div",{className:Ze.formGroup,children:[z.jsx("label",{htmlFor:"adApproved",children:"Aprovar Anúncio:"}),z.jsx("input",{type:"checkbox",id:"adApproved",checked:E.adApproved,onChange:G=>L(X=>({...X,adApproved:G.target.checked}))}),z.jsx("span",{children:"Somente os inputs checados aparecerão na área de cliente."})]})})]})]})},GL="_header_gdzng_1",QL="_containerMessage_gdzng_7",XL="_nav_gdzng_14",YL="_navList_gdzng_19",JL="_logout_gdzng_43",ol={header:GL,containerMessage:QL,nav:XL,navList:YL,logout:JL},ZL=({setCloseMessage:n,message:e})=>{const t=Pl(),[r,o]=Ge.useState(!0),[a,u]=Ge.useState(!1),[f,h]=Ge.useState(!1),{setCpf:m,setCurrentCustomer:v}=de.useContext(fi),[y,d]=Ge.useState(""),g=S=>{const k=S.target.value;d(k)},b=()=>{t("/register"),n(!1)},T=async()=>{if(!y||y.length!==11){alert("Por favor, insira um número de CPF válido ou registre-se.");return}if(y){const k=(await Fb("customer")).filter(E=>E.cpf.replace(/[.-]/g,"")===y);k.length>0?(m(y),v(k),n(!1),t("/user-rules")):(h(!0),t("/register"))}},_=()=>{u(!0)},w=()=>{o(!1),n(!0)};return z.jsx("div",{className:Ar.container,children:z.jsxs("div",{className:Ar.geralContainerConfirmMessage,children:[r&&z.jsxs("div",{children:[z.jsx("div",{children:e&&z.jsx("h1",{children:e})}),z.jsxs("div",{className:Ar.containerBtn,children:[z.jsx("button",{onClick:w,children:"Sim"}),z.jsx("button",{onClick:_,children:"Não"})]})]}),z.jsxs("div",{className:Ar.geralContainerConfirmMessage,children:[a&&z.jsx(ta,{message:"Somente computadores comprados na Dragon podem ser comercializados nesse site",setClose:u,setCloseMessage:n}),f&&z.jsx(ta,{message:"O seu Número de CPF não foi encontrado, por favor cadastre-se",setClose:u,setCloseMessage:n})]}),"setClose=",u,!r&&z.jsxs("div",{className:Ar.containerCpf,children:[z.jsx("h1",{children:"Já vendeu pela Dragon Computadores? Se sim entre com seu cpf caso contrário, cadastre-se!"}),z.jsx("input",{type:"text",value:y,onChange:g,onBlur:T,maxLength:"11",placeholder:"Digite seu CPF"}),z.jsx("button",{className:Ar.submitCpfBtn,onClick:T,children:"Buscar CPF"}),z.jsx("p",{className:Ar.register,onClick:b,children:"Registre-se"})]}),";"]})})},eM="_container_m0n7h_1",tM="_label_m0n7h_11",nM="_input_m0n7h_16",im={container:eM,label:tM,input:nM},rM="_containerCloseBtn_p01er_1",iM="_closeButton_p01er_6",Pw={containerCloseBtn:rM,closeButton:iM},$g=({setOpenClose:n})=>z.jsx("div",{className:Pw.containerCloseBtn,children:z.jsx("button",{className:Pw.closeButton,onClick:()=>n(!1),children:"x"})});$g.propTypes={setOpenClose:Ye.func.isRequired};const eS=({setOpenClose:n})=>{const[e,t]=Ge.useState(""),{setLogin:r}=de.useContext(fi);Ge.useEffect(()=>{localStorage.getItem("login")==="true"?localStorage.removeItem("login"):localStorage.setItem("login","true")},[n]);const o=u=>{t(u.target.value)},a=u=>{u.preventDefault(),e==="1234"?(localStorage.setItem("login","true"),r(!0),n(!1)):alert("Incorrect password")};return z.jsxs("div",{className:im.container,children:[z.jsx($g,{setOpenClose:n}),z.jsx("h2",{children:"Please enter your password"}),z.jsxs("form",{onSubmit:a,children:[z.jsxs("label",{className:im.label,children:["Password:",z.jsx("input",{type:"password",value:e,onChange:o,className:im.input})]}),z.jsx("button",{type:"submit",children:"Submit"})]})]})};eS.propTypes={setOpenClose:Ye.func.isRequired};const oM=""+new URL("Logo-BliIRvnu.png",import.meta.url).href,sM=()=>{const[n,e]=Ge.useState(!1),[t,r]=Ge.useState(!1),[o,a]=Ge.useState(""),{login:u,setLogin:f}=de.useContext(fi),h=y=>{y.preventDefault(),e(!0),a("O seu computador foi comprado na Dragon Computadores")},m=()=>{r(!0)},v=()=>{localStorage.removeItem("login"),window.location.reload(),f(!1)};return z.jsxs("header",{className:ol.header,children:[t&&z.jsx(eS,{setOpenClose:r}),z.jsx("div",{className:ol.containerMessage,children:n&&z.jsx(ZL,{setCloseMessage:e,message:o})}),z.jsxs("nav",{className:ol.nav,children:[z.jsxs("ul",{className:ol.navList,children:[z.jsx("li",{children:z.jsx(_l,{to:"https://dragoncomputadores.com.br/",target:"_blank",rel:"noopener noreferrer",children:z.jsx("img",{src:oM,alt:"Logo dragon"})})}),z.jsx("li",{children:z.jsx(_l,{to:"/",children:"Vitrine"})}),z.jsx("li",{children:z.jsx("a",{href:"",onClick:h,children:"Quero Vender"})})]}),u?z.jsx("h3",{className:ol.logout,onClick:v,children:"Logado"}):z.jsx("button",{onClick:m})]})]})},aM="_container_1h76n_1",lM="_SingleProductBox_1h76n_1",uM="_containerSideMenu_1h76n_17",cM="_imageThumbnails_1h76n_23",fM="_thumbnail_1h76n_38",hM="_mainImage_1h76n_54",dM="_zoomContainer_1h76n_63",pM="_productDetails_1h76n_88",mM="_mainItems_1h76n_96",gM="_titleContainer_1h76n_117",yM="_specialSpecifications_1h76n_118",vM="_highlightPrice_1h76n_119",_M="_btnMoreDetailsPopup_1h76n_152",EM="_btnContact_1h76n_166",wM="_price_1h76n_184",TM="_hugeText_1h76n_193",bM="_productCode_1h76n_212",SM="_tooltip_1h76n_222",AM="_adminContainer_1h76n_236",IM="_title_1h76n_117",Wt={container:aM,SingleProductBox:lM,containerSideMenu:uM,imageThumbnails:cM,thumbnail:fM,mainImage:hM,zoomContainer:dM,productDetails:pM,mainItems:mM,titleContainer:gM,specialSpecifications:yM,highlightPrice:vM,btnMoreDetailsPopup:_M,btnContact:EM,price:wM,hugeText:TM,productCode:bM,tooltip:SM,adminContainer:AM,title:IM},RM="_container_lkqp9_1",kM="_card_lkqp9_13",CM="_containerBtn_lkqp9_20",PM="_closeButton_lkqp9_24",OM="_detail_lkqp9_33",br={container:RM,card:kM,containerBtn:CM,closeButton:PM,detail:OM},tS=({customer:n,setClose:e})=>{Array.isArray(n)&&(n=n[0]),Ge.useEffect(()=>{console.log("Customer",n)},[n]);const t=r=>{navigator.clipboard.writeText(r),alert("Copied to clipboard: "+r)};return z.jsx("div",{className:br.container,children:z.jsxs("div",{className:br.card,children:[z.jsx("div",{className:br.containerBtn,children:z.jsx("button",{className:br.closeButton,onClick:()=>e(!1),children:"X"})}),n?z.jsxs("div",{children:[z.jsx("h2",{children:"Customer Details"}),z.jsxs("div",{className:br.detail,onClick:()=>t(n.cnpj),children:[z.jsx("strong",{children:"CNPJ:"})," ",n.cnpj]}),z.jsxs("div",{className:br.detail,onClick:()=>t(n.cpf),children:[z.jsx("strong",{children:"CPF:"})," ",n.cpf]}),z.jsxs("div",{className:br.detail,onClick:()=>t(n.email),children:[z.jsx("strong",{children:"Email:"})," ",n.email]}),z.jsxs("div",{className:br.detail,onClick:()=>t(n.name),children:[z.jsx("strong",{children:"Name:"})," ",n.name]}),z.jsxs("div",{className:br.detail,onClick:()=>t(n.phone),children:[z.jsx("strong",{children:"Phone:"})," ",n.phone]}),z.jsxs("div",{className:br.detail,onClick:()=>t(n.purchaseDate),children:[z.jsx("strong",{children:"Purchase Date:"})," ",n.purchaseDate]})]}):z.jsx("div",{children:"Loading..."})]})})};tS.propTypes={customer:Ye.shape({cnpj:Ye.string,cpf:Ye.string,email:Ye.string,name:Ye.string,phone:Ye.string,purchaseDate:Ye.string}).isRequired,setClose:Ye.func.isRequired};function Dm(n){return n.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")}function xM(n){const e={day:"2-digit",month:"2-digit",year:"numeric"};return new Date(n).toLocaleDateString("pt-BR",e)}const NM="_singleDetailsProductContainer_14vql_1",DM="_productDetails_14vql_12",LM="_titleContainer_14vql_16",MM="_specificationsTitle_14vql_31",jM="_hugeText_14vql_36",Jr={singleDetailsProductContainer:NM,productDetails:DM,titleContainer:LM,specificationsTitle:MM,hugeText:jM},nS=({productSelected:n,setSingleDetailsProduct:e})=>(Ge.useEffect(()=>{console.log("Produto selecionado:",n)},[]),z.jsxs("div",{className:Jr.singleDetailsProductContainer,children:[z.jsx("dv",{className:Jr.containerCloseBtn,children:z.jsx($g,{setOpenClose:e})}),n&&z.jsxs("div",{className:Jr.productDetails,children:[z.jsx("div",{className:Jr.titleContainer,children:z.jsxs("h3",{children:["PC ",n.title]})}),z.jsxs("h2",{children:["Processador:",""," ",z.jsx("span",{children:n.cpu})]}),z.jsxs("h2",{children:["Marca do processdor:",""," ",z.jsx("span",{children:n.processorBrand})]}),z.jsxs("h2",{children:["Placa Mãe: ","",z.jsx("span",{children:n.motherBoard})]}),z.jsxs("h2",{children:["Memória:",z.jsxs("span",{children:[" ",n.memory]})]}),z.jsxs("h2",{children:["Código do produto:","",z.jsx("span",{children:n.id})]}),z.jsxs("h2",{children:["Placa de Video:",z.jsx("span",{children:n.graphicsCard})]}),z.jsxs("h2",{children:["Marca Placa de Video:",z.jsx("span",{children:n.graphicsCardBrand})]}),z.jsxs("h2",{children:["fonte: ",z.jsx("span",{children:n.font})]}),z.jsxs("h2",{children:["gabinete:",z.jsx("span",{children:n.tower})]}),z.jsxs("h2",{children:["Refrigeração:",z.jsx("span",{children:n.cooling})]}),z.jsxs("h2",{children:["Cabos :",z.jsx("span",{children:n.amoutCables})]}),z.jsxs("h2",{children:["Data de compra :",z.jsx("span",{children:xM(n.ages)})]}),z.jsxs("h3",{className:Jr.specificationsTitle,children:["Descrição da Placa mãe :",z.jsx("div",{className:Jr.hugeText,children:z.jsx("span",{dangerouslySetInnerHTML:{__html:n.motherBoardText}})})]}),z.jsxs("h3",{className:Jr.specificationsTitle,children:["Descrição do processador :",z.jsx("div",{className:Jr.hugeText,children:z.jsx("span",{className:Jr.hugeText,dangerouslySetInnerHTML:{__html:n.cpuText}})})]})]})]}));nS.propTypes={productSelected:Ye.shape({title:Ye.string,cpu:Ye.string,motherBoard:Ye.string,memory:Ye.string,price:Ye.number,id:Ye.oneOfType([Ye.string,Ye.number]),graphicsCard:Ye.string,font:Ye.string,tower:Ye.string,cooling:Ye.string,amoutCables:Ye.string,ages:Ye.string,motherBoardText:Ye.string,graphicsCardBrand:Ye.string,processorBrand:Ye.string,cpuText:Ye.string}),setSingleDetailsProduct:Ye.func.isRequired};const VM=()=>{const[n,e]=Ge.useState(""),{login:t}=de.useContext(fi),[r,o]=Ge.useState({}),[a,u]=Ge.useState([]),[f,h]=Ge.useState({}),[m,v]=Ge.useState(!1),[y,d]=Ge.useState({backgroundPosition:"0% 0%"}),[g,b]=Ge.useState(!1),[T,_]=Ge.useState(window.innerWidth<650),{id:w}=Bw();Ge.useEffect(()=>{(async()=>{const U=await Bb("products",w);if(U&&typeof U=="object"&&Object.keys(U).length>0){const{images:P}=U;e(P[0]),u(P),o(U)}})()},[w]),Ge.useEffect(()=>{r&&(r.customerCpf&&/^[0-9]{11}$/.test(r.customerCpf)&&(r.customerCpf=Dm(r.customerCpf)),zb("customer","cpf",r.customerCpf).then(L=>{h(L)}).catch(L=>{console.error("Erro ao buscar cliente:",L)}))},[r]),Ge.useEffect(()=>(window.addEventListener("resize",k),()=>{window.removeEventListener("resize",k)}),[]);const S=L=>{const{left:U,top:P,width:R,height:M}=L.target.getBoundingClientRect(),x=(L.pageX-U)/R*100,I=(L.pageY-P)/M*100;d({backgroundPosition:`${x}% ${I}%`})},k=()=>{_(window.innerWidth<650)},E=()=>{console.log("cliente selecionado:",f),console.log("produto selecionado:",r),v(!0)};return z.jsxs("div",{className:Wt.container,children:[z.jsxs("div",{className:Wt.SingleProductBox,children:[m&&z.jsx(tS,{customer:f,setClose:v}),g&&z.jsx(nS,{productSelected:r,setSingleDetailsProduct:b}),z.jsx("div",{className:Wt.containerSideMenu,children:z.jsx("div",{className:Wt.imageThumbnails,children:a&&a.length>0&&a.map((L,U)=>z.jsx("div",{className:Wt.thumbnail,onClick:()=>e(L),children:z.jsx("img",{src:L,alt:`Thumbnail ${U+1}`})},U))})}),z.jsx("div",{className:Wt.mainImage,children:z.jsx("div",{className:Wt.zoomContainer,onMouseMove:S,style:{backgroundRepeat:"no-repeat",backgroundImage:`url(${n})`,backgroundPosition:y.backgroundPosition},children:z.jsx("img",{src:n,alt:"Selected"})})}),r&&z.jsx("div",{className:Wt.productDetails,children:z.jsxs("div",{className:Wt.mainItems,children:[z.jsx("div",{className:Wt.titleContainer,children:z.jsxs("h3",{className:Wt.title,children:["PC ",r.title]})}),z.jsx("div",{className:Wt.specialSpecifications,children:z.jsxs("h2",{children:[z.jsxs("span",{children:[r.cpu,", "]}),z.jsxs("span",{children:[r.motherBoard,", "]}),z.jsxs("span",{children:[r.memory,", "]}),z.jsxs("span",{children:[r.motherBoard,", "]}),z.jsxs("span",{children:[r.memory," "]})]})}),z.jsx("div",{className:Wt.highlightPrice,children:z.jsxs("h3",{className:Wt.price,children:["R$ ",r.price,",00"]})}),z.jsx("button",{className:Wt.btnMoreDetailsPopup,onClick:()=>b(!0),children:"MAIS DETALHES"}),z.jsx("button",{className:Wt.btnContact,children:"FALE CONOSCO"}),z.jsxs("h2",{className:Wt.productCode,title:"Clique para copiar",children:["Código do produto:"," ",z.jsx("span",{onClick:()=>{navigator.clipboard.writeText(r.id),alert("Código copiado para a área de transferência!")},children:r.id})]})]})})]}),!T&&t&&z.jsxs("div",{className:Wt.adminContainer,children:[" ",z.jsx("button",{children:z.jsx(_l,{to:`/form/${r.id}`,children:"Edição administrador"})})," ",z.jsx("button",{onClick:E,children:"Detalhes do Cliente"})," "]})]})},UM="_container_9wpaw_2",FM="_form_9wpaw_6",qM="_inputContainer_9wpaw_10",Vi={container:UM,form:FM,inputContainer:qM},BM=()=>{const[n,e]=Ge.useState({name:"",email:"",phone:"",cpf:"",cnpj:"",purchaseDate:""}),[t,r]=Ge.useState(!1),{setCpf:o,setCurrentCustomer:a}=de.useContext(fi),u=m=>{const{name:v,value:y}=m.target,d=f(v,y);if(v==="cpf"||v==="cnpj"||v==="phone"){e({...n,[v]:d});return}if(v==="purchaseDate"){const[b,T,_]=y.split("-"),w=`${_}-${T}-${b}`;e({...n,[v]:w})}const g=y.toUpperCase();e({...n,[v]:g})},f=(m,v)=>m==="cpf"?v.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2"):m==="cnpj"?v.replace(/\D/g,"").replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d{1,2})$/,"$1-$2"):m==="phone"?v.replace(/\D/g,"").replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{4,5})(\d{4})$/,"$1-$2"):v,h=async m=>{if(m.preventDefault(),n.cpf===""&&n.cnpj===""){alert("Por favor, preencha o campo CPF ou CNPJ.");return}o(n.cpf),a(n);try{const v=await qb("customer",n);console.log("Document created with ID: ",v.id),r(!0),e({name:"",email:"",phone:"",cpf:"",cnpj:"",purchaseDate:""})}catch(v){console.error("Error adding document: ",v),alert("Ocorreu um erro ao criar o cadastro. Por favor, tente novamente.")}};return z.jsxs("div",{className:Vi.container,children:[t&&z.jsx(ta,{message:"Seu cadastro foi criado com sucesso, agora vc pode cadastrar o seu produto",setClose:r,adress:"/user-rules"}),z.jsxs("form",{className:Vi.form,onSubmit:h,children:[z.jsxs("div",{className:Vi.inputContainer,children:[z.jsx("label",{children:"Name:"}),z.jsx("input",{required:!0,type:"text",name:"name",value:n.name,onChange:u})]}),z.jsxs("div",{className:Vi.inputContainer,children:[z.jsx("label",{children:"Email:"}),z.jsx("input",{required:!0,type:"email",name:"email",value:n.email,onChange:u})]}),z.jsxs("div",{className:Vi.inputContainer,children:[z.jsx("label",{children:"Phone:"}),z.jsx("input",{required:!0,type:"text",name:"phone",maxLength:"15",value:n.phone,onChange:u})]}),z.jsxs("div",{className:Vi.inputContainer,children:[z.jsx("label",{children:"CPF:"}),z.jsx("input",{type:"text",name:"cpf",maxLength:"14",value:n.cpf,onChange:u})]}),z.jsxs("div",{className:Vi.inputContainer,children:[z.jsx("label",{children:"CNPJ:"}),z.jsx("input",{type:"text",name:"cnpj",maxLength:"18",value:n.cnpj,onChange:u})]}),z.jsxs("div",{className:Vi.inputContainer,children:[z.jsx("label",{children:"Data de Compra:"}),z.jsx("input",{required:!0,type:"date",name:"purchaseDate",value:n.purchaseDate,onChange:u})]}),z.jsx("button",{type:"submit",children:"Submit"})]})]})},zM="_containerRules_1avi3_1",$M="_acceptTerms_1avi3_21",Ow={containerRules:zM,acceptTerms:$M},HM=()=>{const[n,e]=Ge.useState(!1),[t,r]=Ge.useState(!1),{cpf:o}=de.useContext(fi),a=async u=>{const f=u.target.checked;e(f),console.log("CPF GLOBAL",o);let h;h=Dm(o);let m=await zb("customer","cpf",h);m.acceptTerms=f,console.log("Cliente com checked",m),await tD("customer","cpf",h,m)&&r(!0)};return z.jsxs("div",{className:Ow.containerRules,children:[t&&z.jsx(ta,{setClose:r,message:`O portador do número de CPF ${Dm(o)} aceitou os termos de uso da Dragon Computadores`,adress:"/form"}),z.jsx("h2",{children:"Regras de Uso para Anunciantes na Plataforma Dragon Computadores"}),z.jsxs("ul",{children:["1. Objetivo:",z.jsx("li",{children:"Estabelecer as diretrizes e resposabilidades dos anunciantes que utilizam a plataforma da Dragon Computadores para divulgar e vender computadores usados."})]}),z.jsxs("ul",{children:["2. 2. Responsabilidades do Anunciante:",z.jsx("li",{children:"Veracidade das Informações: Todas as informações e imagens publicadas nos anúncios são de responsabilidade exclusiva do anunciante. A Dragon Computadores não se responsabiliza por dados incorretos ou enganosos."}),z.jsx("li",{children:"Atualização do Anúncio: O anunciante deve informar imediatamente a Dragon Computadores caso o item anunciado já tenha sido vendido por outros meios ou se não deseja mais disponibilizá-lo para venda. Anúncios desatualizados serão removidos após notificação."}),z.jsx("li",{children:"Avaliação Pós-Venda: Caso o item seja vendido através da plataforma, o anunciante deve trazer o computador para avaliação pela Dragon Computadores, conforme acordado previamente."})]}),z.jsxs("ul",{children:["3. Uso da Plataforma:",z.jsx("li",{children:"A Dragon Computadores disponibiliza a plataforma como um serviço de intermediação e será a única responsável por intermediar a comunicação e negociação entre anunciantes e compradores. Não haverá contato direto entre as partes."}),z.jsx("li",{children:"Restrição de Produtos: Apenas computadores que foram originalmente vendidos pela Dragon Computadores podem ser anunciados e comercializados na plataforma. É proibido anunciar produtos de outras marcas ou origens, ou qualquer item que não seja relacionado a computadores."})]}),z.jsxs("ul",{children:["4. Serviços de Avaliação:",z.jsx("li",{children:"A Dragon Computadores oferece o serviço de avaliação das condições dos equipamentos como parte do processo de venda."}),z.jsx("li",{children:"Itens de Armazenamento (HDs, SSDs, etc.): Por se tratarem de itens com vida útil limitada, não garantimos o funcionamento ou a durabilidade de itens de armazenamento. A avaliação desses itens será feita com base em testes técnicos, mas sem qualquer garantia futura."})]}),z.jsxs("ul",{children:["5. Responsabilidade da Dragon Computadores:",z.jsx("li",{children:"A Dragon Computadores atua como facilitadora, oferecendo a plataforma para divulgação dos anúncios e intermediando todo o processo de negociação, mas não se responsabiliza por: Qualquer problema relacionado à condição do produto anunciado (danos, defeitos, etc.), exceto conforme avaliado e informado durante o processo de avaliação. Conteúdo publicado pelos anunciantes (informações, imagens, etc.)."})]}),z.jsxs("ul",{children:["6. Penalidades por Descumprimento:",z.jsx("li",{children:"Anúncios que violarem estas regras, incluindo a divulgação de produtos não vendidos originalmente pela Dragon Computadores, serão removidos sem aviso prévio."}),z.jsx("li",{children:"Anunciantes que descumprirem as regras de forma reiterada poderão ter o acesso à plataforma suspenso ou bloqueado permanentemente."})]}),z.jsx("h2",{children:"7. Aceitação das Regras:"}),z.jsx("p",{children:"Ao utilizar a plataforma, o anunciante declara estar ciente e de acordo com todas as regras aqui estabelecidas, assumindo total responsabilidade pelo conteúdo de seus anúncios e pelas obrigações descritas."}),z.jsx("h2",{children:"8. Vigência e Alterações:"}),z.jsx("p",{children:"Estas regras entram em vigor a partir da data de publicação e podem ser alteradas a qualquer momento pela Dragon Computadores, com aviso prévio aos usuários."}),z.jsx("h2",{children:"Revenda Oficial – Venda seu Computador Usado!"}),z.jsx("p",{children:"Se você comprou um computador na Dragon Computadores e deseja revendê-lo, agora ficou mais fácil! Criamos um espaço exclusivo para nossos clientes anunciarem seus equipamentos usados diretamente em nosso site."}),z.jsx("h2",{children:"Como funciona?"}),z.jsx("p",{children:"1 Você cadastra seu computador para revenda."}),z.jsx("p",{children:"2 Nós anunciamos para milhares de compradores em potencial."}),z.jsxs("p",{children:["3 Quando a venda for concluída,"," ",z.jsx("span",{style:{fontWeight:"bold"},children:"cobramos uma taxa de 20% sobre o valor final do anúncio."})]}),z.jsx("h2",{children:"Termo de Reconhecimento"}),z.jsxs("p",{children:["Ao cadastrar seu computador para revenda, você reconhece e concorda que",z.jsx("span",{style:{fontWeight:"bold"},children:"20% do valor total da venda serão descontados automaticamente"})," ","como taxa de serviço. Esse valor cobre os custos de divulgação, intermediação e suporte durante a negociação."]}),z.jsx("h2",{children:"Quer revender seu computador Dragon? Anuncie agora!"}),z.jsxs("div",{className:Ow.acceptTerms,children:[z.jsx("input",{type:"checkbox",id:"acceptTerms",name:"acceptTerms",checked:n,onChange:a}),z.jsx("label",{htmlFor:"acceptTerms",style:{fontWeight:"bold"},children:"Eu aceito os termos de uso para publicar o meu computador na vitrine da Dragon Computadores"})]})]})},rS=({children:n})=>{const[e,t]=Ge.useState({}),[r,o]=Ge.useState(""),[a,u]=Ge.useState("");return z.jsx(fi.Provider,{value:{currentCustomer:e,setCurrentCustomer:t,cpf:r,setCpf:o,setLogin:u,login:a},children:n})};rS.propTypes={children:Ye.node.isRequired};const WM=()=>z.jsx(rS,{children:z.jsxs(RI,{basename:"/dragon.io",children:[z.jsx(sM,{}),z.jsxs(rI,{children:[z.jsx(Do,{path:"/",element:z.jsx(rD,{})}),z.jsx(Do,{path:"/form",element:z.jsx(Cw,{})}),z.jsx(Do,{path:"/form/:id",element:z.jsx(Cw,{})}),z.jsx(Do,{path:"/singleProduct/:id",element:z.jsx(VM,{})}),z.jsx(Do,{path:"/register",element:z.jsx(BM,{})}),z.jsx(Do,{path:"/user-rules",element:z.jsx(HM,{})})]})]})});dA.createRoot(document.getElementById("root")).render(z.jsx(de.StrictMode,{children:z.jsx(WM,{})}));
